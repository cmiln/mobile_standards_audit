!function(e,t){var n={version:"2.3.2",areas:{},apis:{},inherit:function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(e){try{return JSON.parse(e)}catch(t){return e}},fn:function(e,t){n.storeAPI[e]=t;for(var r in n.apis)n.apis[r][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,n){e.setItem(t,n)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,r){var i=n.inherit(n.storeAPI,function(e,t,n){return 0===arguments.length?i.getAll():void 0!==t?i.set(e,t,n):"string"==typeof e||"number"==typeof e?i.get(e):e?i.setAll(e,t):i.clear()});i._id=e;try{var o="_safariPrivate_";t.setItem(o,"sucks"),i._area=t,t.removeItem(o)}catch(a){}return i._area||(i._area=n.inherit(n.storageAPI,{items:{},name:"fake"})),i._ns=r||"",n.areas[e]||(n.areas[e]=i._area),n.apis[i._ns+i._id]||(n.apis[i._ns+i._id]=i),i},storeAPI:{area:function(e,t){var r=this[e];return r&&r.area||(r=n.Store(e,t,this._ns),this[e]||(this[e]=r)),r},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var r=e,i=this[r];return i&&i.namespace||(i=n.Store(this._id,this._area,this._ns+r+"."),this[r]||(this[r]=i),t||i.area("session",n.areas.session)),i},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var r=0,i=n.length(this._area);i>r;r++){var o=this._out(n.key(this._area,r));if(void 0!==o&&e.call(this,o,t||this.get(o))===!1)break;i>n.length(this._area)&&(i--,r--)}return t||this},keys:function(){return this.each(function(e,t){t.push(e)},[])},get:function(e,t){var r=n.get(this._area,this._in(e));return null!==r?n.parse(r):t||r},getAll:function(){return this.each(function(e,t){t[e]=this.get(e)},{})},set:function(e,t,r){var i=this.get(e);return null!=i&&r===!1?t:n.set(this._area,this._in(e),n.stringify(t),r)||i},setAll:function(e,t){var n,r;for(var i in e)r=e[i],this.set(i,r,t)!==r&&(n=!0);return n},remove:function(e){var t=this.get(e);return n.remove(this._area,this._in(e)),t},clear:function(){return this._ns?this.each(function(e){n.remove(this._area,this._in(e))},1):n.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in n.areas)n.areas.hasOwnProperty(t)&&(this._area=n.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!=typeof e&&(e=n.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var n in this.items)if(this.has(n)&&e===t++)return n},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.list)this.removeItem(e)},toString:function(){return this.length+" items in "+this.name+"Storage"}}};e.store&&(n.conflict=e.store);var r=n.Store("local",function(){try{return localStorage}catch(e){}}());r.local=r,r._=n,r.area("session",function(){try{return sessionStorage}catch(e){}}()),e.store=r,"function"==typeof t&&void 0!==t.amd?t(function(){return r}):"undefined"!=typeof module&&module.exports&&(module.exports=r)}(this,this.define),function(){var e,t,n;t=function(t){var r,i,o,a;return null==t&&(t={}),a=t.namespace?store.namespace(t.namespace):store,t.data&&a.setAll(t.data),i=function(i){var a,s,u;if(!t.host||e(i.origin,t.host))return s=JSON.parse(i.data),a=s.data,u=function(){switch(a.action){case"GET":return r(a.key);case"SET":return o(a.key,a.value)}}(),n(i.source,{id:s.id,data:u})},r=function(e){return a.get(e)},o=function(e,n){return a.set(e,n),"function"==typeof t.onChange&&t.onChange(e,n),n},window.addEventListener("message",i,!1),n(window.parent,{id:"connect",data:a.getAll()})},n=function(e,t){return e.postMessage(JSON.stringify(t),"*")},e=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},window.crossSiteStorage={listen:t}}.call(this);