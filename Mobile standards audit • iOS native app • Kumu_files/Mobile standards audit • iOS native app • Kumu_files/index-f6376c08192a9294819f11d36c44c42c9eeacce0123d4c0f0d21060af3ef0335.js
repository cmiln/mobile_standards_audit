function Delegator(e,t){return this instanceof Delegator?(this.proto=e,this.target=t,this.methods=[],this.getters=[],void(this.setters=[])):new Delegator(e,t)}function Vector(e,t){this.reset(e,t)}(function(){(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},createConsumer:function(t){var n;return null==t&&(t=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new e.Consumer(this.createWebSocketURL(t))},getConfig:function(e){var t;return t=document.head.querySelector("meta[name='action-cable-"+e+"']"),null!=t?t.getAttribute("content"):void 0},createWebSocketURL:function(e){var t;return e&&!/^wss?:/i.test(e)?(t=document.createElement("a"),t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href):e},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.debugging?(e.push(Date.now()),console.log.apply(console,["[ActionCable]"].concat(t.call(e)))):void 0}}}).call(this)}).call(this);var e=this.ActionCable;(function(){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};e.ConnectionMonitor=function(){function n(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,i,o;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){return this.isRunning()?void 0:(this.startedAt=i(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms"))},n.prototype.stop=function(){return this.isRunning()?(this.stoppedAt=i(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor stopped")):void 0},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=i()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,e.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=i(),e.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout(function(e){return function(){return e.reconnectIfStale(),e.poll()}}(this),this.getPollInterval())},n.prototype.getPollInterval=function(){var e,t,n,i;return i=this.constructor.pollInterval,n=i.min,t=i.max,e=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(e,n,t))},n.prototype.reconnectIfStale=function(){return this.connectionIsStale()?(e.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+o(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?e.log("ConnectionMonitor skipping reopening recent disconnect"):(e.log("ConnectionMonitor reopening"),this.connection.reopen())):void 0},n.prototype.connectionIsStale=function(){var e;return o(null!=(e=this.pingedAt)?e:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&o(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){return"visible"===document.visibilityState?setTimeout(function(t){return function(){return t.connectionIsStale()||!t.connection.isOpen()?(e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()):void 0}}(this),200):void 0},i=function(){return(new Date).getTime()},o=function(e){return(i()-e)/1e3},r=function(e,t,n){return Math.max(t,Math.min(n,e))},n}()}).call(this),function(){var t,n,r,i,o,a,s=[].slice,u=function(e,t){return function(){return e.apply(t,arguments)}},l=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};i=e.INTERNAL,n=i.message_types,r=i.protocols,o=2<=r.length?s.call(r,0,t=r.length-1):(t=0,[]),a=r[t++],e.Connection=function(){function t(t){this.consumer=t,this.open=u(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new e.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(e){return this.isOpen()?(this.webSocket.send(JSON.stringify(e)),!0):!1},t.prototype.open=function(){if(this.isActive())throw e.log("Attempted to open WebSocket, but existing socket is "+this.getState()),new Error("Existing connection must be closed before opening");return e.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+r),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new WebSocket(this.consumer.url,r),this.installEventHandlers(),this.monitor.start(),!0},t.prototype.close=function(e){var t,n;return t=(null!=e?e:{allowReconnect:!0}).allowReconnect,t||this.monitor.stop(),this.isActive()&&null!=(n=this.webSocket)?n.close():void 0},t.prototype.reopen=function(){var t;if(e.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return t=n,e.log("Failed to reopen WebSocket",t)}finally{e.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var e;return null!=(e=this.webSocket)?e.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var e;return e=this.getProtocol(),l.call(o,e)>=0},t.prototype.isState=function(){var e,t;return t=1<=arguments.length?s.call(arguments,0):[],e=this.getState(),l.call(t,e)>=0},t.prototype.getState=function(){var e,t,n;for(t in WebSocket)if(n=WebSocket[t],n===(null!=(e=this.webSocket)?e.readyState:void 0))return t.toLowerCase();return null},t.prototype.installEventHandlers=function(){var e,t;for(e in this.events)t=this.events[e].bind(this),this.webSocket["on"+e]=t},t.prototype.uninstallEventHandlers=function(){var e;for(e in this.events)this.webSocket["on"+e]=function(){}},t.prototype.events={message:function(e){var t,r,i,o;if(this.isProtocolSupported())switch(i=JSON.parse(e.data),t=i.identifier,r=i.message,o=i.type,o){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(t,"connected");case n.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",r)}},open:function(){return e.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,this.isProtocolSupported()?void 0:(e.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1}))},close:function(){return e.log("WebSocket onclose event"),this.disconnected?void 0:(this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()}))},error:function(){return e.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;e.Subscriptions=function(){function n(e){this.consumer=e,this.subscriptions=[]}return n.prototype.create=function(t,n){var r,i,o;return r=t,i="object"==typeof r?r:{channel:r},o=new e.Subscription(this.consumer,i,n),this.add(o)},n.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},n.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},n.prototype.reject=function(e){var t,n,r,i,o;for(r=this.findAll(e),i=[],t=0,n=r.length;n>t;t++)o=r[t],this.forget(o),this.notify(o,"rejected"),i.push(o);return i},n.prototype.forget=function(e){var t;return this.subscriptions=function(){var n,r,i,o;for(i=this.subscriptions,o=[],n=0,r=i.length;r>n;n++)t=i[n],t!==e&&o.push(t);return o}.call(this),e},n.prototype.findAll=function(e){var t,n,r,i,o;for(r=this.subscriptions,i=[],t=0,n=r.length;n>t;t++)o=r[t],o.identifier===e&&i.push(o);return i},n.prototype.reload=function(){var e,t,n,r,i;for(n=this.subscriptions,r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(this.sendCommand(i,"subscribe"));return r},n.prototype.notifyAll=function(){var e,n,r,i,o,a,s;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],o=this.subscriptions,a=[],r=0,i=o.length;i>r;r++)s=o[r],a.push(this.notify.apply(this,[s,n].concat(t.call(e))));return a},n.prototype.notify=function(){var e,n,r,i,o,a,s;for(a=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],s="string"==typeof a?this.findAll(a):[a],o=[],r=0,i=s.length;i>r;r++)a=s[r],o.push("function"==typeof a[n]?a[n].apply(a,e):void 0);return o},n.prototype.sendCommand=function(e,t){var n;return n=e.identifier,this.consumer.send({command:t,identifier:n})},n}()}.call(this),function(){e.Subscription=function(){function e(e,n,r){this.consumer=e,null==n&&(n={}),this.identifier=JSON.stringify(n),t(this,r)}var t;return e.prototype.perform=function(e,t){return null==t&&(t={}),t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},t=function(e,t){var n,r;if(null!=t)for(n in t)r=t[n],e[n]=r;return e},e}()}.call(this),function(){e.Consumer=function(){function t(t){this.url=t,this.subscriptions=new e.Subscriptions(this),this.connection=new e.Connection(this)}return t.prototype.send=function(e){return this.connection.send(e)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){return this.connection.isActive()?void 0:this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}).call(this),window.Kumu={},window.Workflows={},window.Format={},window.Editor={},Kumu.cable=ActionCable.createConsumer(),function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function r(e){function t(e){return $[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function i(e,t){for(var n=0,r=t.length;r>n;n+=1)if(a(e,t[n]))return n;return-1}function o(){var t=e(I);t.appendTo(document.body);var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function a(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function s(e,t,n){var r,i,o;if(null===e||e.length<1)return[];for(r=e.split(t),i=0,o=r.length;o>i;i+=1)r[i]=n(r[i]);return r}function u(e){return e.outerWidth(!1)-e.width()}function l(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function c(n){n.on("mousemove",function(n){var r=R;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function p(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function h(e,t){var n=p(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}function f(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],r=e.val().length;e.focus();var i=n.offsetWidth>0||n.offsetHeight>0;i&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function d(t){t=e(t)[0];var n=0,r=0;if("selectionStart"in t)n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!P){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);P=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),P.attr("class","select2-sizer"),e(document.body).append(P)}return P.text(t.val()),P.width()}function y(t,n,r){var i,o,a=[];i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),i=e.trim(n.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=r(this),o&&a.push(o))})),t.attr("class",a.join(" "))}function b(e,t,n,i){var o=r(e.toUpperCase()).indexOf(r(t.toUpperCase())),a=t.length;return 0>o?void n.push(i(e)):(n.push(i(e.substring(0,o))),n.push("<span class='select2-match'>"),n.push(i(e.substring(o,o+a))),n.push("</span>"),void n.push(i(e.substring(o+a,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function _(n){var r,i=null,o=n.quietMillis||100,a=n.url,s=this;return function(u){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,o=a,l=n.transport||e.fn.select2.ajaxDefaults.transport,c={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},p=e.extend({},e.fn.select2.ajaxDefaults.params,c);r=r?r.call(s,u.term,u.page,u.context):null,o="function"==typeof o?o.call(s,u.term,u.page,u.context):o,i&&"function"==typeof i.abort&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(p,n.params.call(s)):e.extend(p,n.params)),e.extend(p,{url:o,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,u.page,u);u.callback(t)},error:function(e,t,n){var r={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};u.callback(r)}}),i=l.call(s,p)},o)}}function x(t){var n,r,i=t,o=function(e){return""+e.text};e.isArray(i)&&(r=i,i={results:r}),e.isFunction(i)===!1&&(r=i,i=function(){return r});var a=i();return a.text&&(o=a.text,e.isFunction(o)||(n=a.text,o=function(e){return e[n]})),function(t){var n,r=t.term,a={results:[]};return""===r?void t.callback(i()):(n=function(i,a){var s,u;if(i=i[0],i.children){s={};for(u in i)i.hasOwnProperty(u)&&(s[u]=i[u]);s.children=[],e(i.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(r,o(s),i))&&a.push(s)}else t.matcher(r,o(i),i)&&a.push(i)},e(i().results).each2(function(e,t){n(t,a.results)}),void t.callback(a))}}function E(n){var r=e.isFunction(n);return function(i){var o=i.term,a={results:[]},s=r?n(i):n;e.isArray(s)&&(e(s).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||i.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),i.callback(a))}}function k(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function C(t,n){if(e.isFunction(t)){var r=Array.prototype.slice.call(arguments,2);return t.apply(n,r)}return t}function A(t){var n=0;return e.each(t,function(e,t){t.children?n+=A(t.children):n++}),n}function S(e,n,r,i){var o,s,u,l,c,p=e,h=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(s=-1,u=0,l=i.tokenSeparators.length;l>u&&(c=i.tokenSeparators[u],s=e.indexOf(c),!(s>=0));u++);if(0>s)break;if(o=e.substring(0,s),e=e.substring(s+c.length),o.length>0&&(o=i.createSearchChoice.call(this,o,n),o!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o))){for(h=!1,u=0,l=n.length;l>u;u++)if(a(i.id(o),i.id(n[u]))){h=!0;break}h||r(o)}}return p!==e?e:void 0}function M(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function T(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2===t){var D,O,L,F,P,N,B,R={x:0,y:0},j={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case j.SHIFT:case j.CTRL:case j.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},I="<div class='select2-measure-scrollbar'></div>",$={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};N=e(document),F=function(){var e=1;return function(){return e++}}(),D=T(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,a=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+F()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e(document.body),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(C(n.containerCss,this.opts.element)),this.container.addClass(C(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=r=this.container.find(a),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),c(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),h(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var o=r.scrollTop();i>0&&0>=o-i?(r.scrollTop(0),m(e)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),m(e))}),l(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.lastSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===t&&(s=!1),this.enable(!s);var u=n.element.prop("readonly");u===t&&(u=!1),this.readonly(u),B=B||o(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),r=this;this.close(),e.length&&e[0].detachEvent&&r._sync&&e.each(function(){r._sync&&this.detachEvent("onpropertychange",r._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeData("select2").off(".select2"),e.is("input[type='hidden']")?e.css("display",""):(e.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())),M.call(this,"container","liveRegion","dropdown","results","search")
},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var r,i,o,u,l=this;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n.debug=n.debug||e.fn.select2.defaults.debug,n.debug&&console&&console.warn&&(null!=n.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=n.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=n.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=n.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=n.ajax&&null!=n.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=n.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=n.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=n.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=n.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=n.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=n.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),n.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=n.element.data("tags")){var c=n.element.data("tags");e.isArray(c)||(c=[]),n.element.data("select2Tags",c)}if(null!=n.sorter&&(n.sortResults=n.sorter),null!=n.selectOnClose&&(n.selectOnBlur=n.selectOnClose),null!=n.ajax&&e.isFunction(n.ajax.processResults)&&(n.ajax.results=n.ajax.processResults),null!=n.language){var p=n.language;e.isFunction(p.noMatches)&&(n.formatNoMatches=p.noMatches),e.isFunction(p.searching)&&(n.formatSearching=p.searching),e.isFunction(p.inputTooShort)&&(n.formatInputTooShort=p.inputTooShort),e.isFunction(p.inputTooLong)&&(n.formatInputTooLong=p.inputTooLong),e.isFunction(p.loadingMore)&&(n.formatLoading=p.loadingMore),e.isFunction(p.maximumSelected)&&(n.formatSelectionTooBig=p.maximumSelected)}if(n=e.extend({},{populateResults:function(r,i,o){var a,s=this.opts.id,u=this.liveRegion;(a=function(r,i,c){var p,h,f,d,m,g,v,y,b,w;r=n.sortResults(r,i,o);var _=[];for(p=0,h=r.length;h>p;p+=1)f=r[p],m=f.disabled===!0,d=!m&&s(f)!==t,g=f.children&&f.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+c),v.addClass("select2-result"),v.addClass(d?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(l.opts.formatResultCssClass(f)),v.attr("role","presentation"),y=e(document.createElement("div")),y.addClass("select2-result-label"),y.attr("id","select2-result-label-"+F()),y.attr("role","option"),w=n.formatResult(f,y,o,l.opts.escapeMarkup),w!==t&&(y.html(w),v.append(y)),g&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),a(f.children,b,c+1),v.append(b)),v.data("select2-data",f),_.push(v[0]);i.append(_),u.text(n.formatMatches(r.length))})(i,r,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(e){return e[o]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(e){var n,i,o,a={results:[],more:!1},s=e.term;o=function(t,n){var r;t.is("option")?e.matcher(s,t.text(),t)&&n.push(l.optionToData(t)):t.is("optgroup")&&(r=l.optionToData(t),t.children().each2(function(e,t){o(t,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==t&&n.length>0&&(i=this.getPlaceholderOption(),i&&(n=n.not(i))),n.each2(function(e,t){o(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(u=n.element.data("ajax-url"),u&&u.length>0&&(n.ajax.url=u),n.query=_.call(n.element,n.ajax)):"data"in n?n.query=x(n.data):"tags"in n&&(n.query=E(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(s(t.val(),n.separator,n.transformVal)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){return a(this.id,t.id)?(t=this,!1):void 0}),i.push(t)}),r(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,r=this.opts.element,i=this;r.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=r.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=r.prop("readonly");n===t&&(n=!1),this.readonly(n),this.container&&(y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(C(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(this.opts.dropdownCssClass,this.opts.element)))}),r.length&&r[0].attachEvent&&r.each(function(){this.attachEvent("onpropertychange",i._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,i._sync)}),this.propertyObserver.observe(r.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,n,r,i,o,a=this.dropdown,s=this.container,u=s.offset(),l=s.outerHeight(!1),c=s.outerWidth(!1),p=a.outerHeight(!1),h=e(window),f=h.width(),d=h.height(),m=h.scrollLeft()+f,g=h.scrollTop()+d,v=u.top+l,y=u.left,b=g>=v+p,w=u.top-p>=h.scrollTop(),_=a.outerWidth(!1),x=function(){return m>=y+_},E=function(){return u.left+m+s.outerWidth(!1)>_},k=a.hasClass("select2-drop-above");k?(n=!0,!w&&b&&(r=!0,n=!1)):(n=!1,!b&&w&&(r=!0,n=!0)),r&&(a.hide(),u=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),p=a.outerHeight(!1),m=h.scrollLeft()+f,g=h.scrollTop()+d,v=u.top+l,y=u.left,_=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),_=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:B.width),_>c?c=_:_=c,p=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),v-=t.top,y-=t.left),!x()&&E()&&(y=u.left+this.container.outerWidth(!1)-_),i={left:y,width:c},n?(this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above"),p=a.outerHeight(!1),i.top=u.top-p,i.bottom="auto"):(i.top=v,i.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),i=e.extend(i,C(this.opts.dropdownCss,this.opts.element)),a.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),N.on("mousemove.select2Event",function(e){R.x=e.pageX,R.y=e.pageY}),!0):!1},opening:function(){var t,r=this.containerEventName,i="scroll."+r,o="resize."+r,a="orientationchange."+r;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0===t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(r){n(t);var i,o=e("#select2-drop");o.length>0&&(i=o.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),r.preventDefault(),r.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+i+" "+a,function(){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),N.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var e=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return e!==t?(this.search.val(e),this.search.select(),!0):!1},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,r,i,o,a,s,u,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),r=e(t[n]),u=(r.offset()||{}).top||0,i=u+r.outerHeight(!0),n===t.length-1&&(s=l.find("li.select2-more-results"),s.length>0&&(i=s.offset().top+s.outerHeight(!0))),o=l.offset().top+l.outerHeight(!1),i>o&&l.scrollTop(l.scrollTop()+(i-o)),a=u-l.offset().top,0>a&&"none"!=r.css("display")&&l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n,r,o=this.findHighlightableChoices();return 0===arguments.length?i(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),n=e(o[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),r=n.data("select2-data"),void(r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),r=this.resultsPage+1,i=this,o=this.search.val(),a=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:r,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){i.opened()&&(i.opts.populateResults.call(this,t,e.results,{term:o,page:r,context:a}),i.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).html(i.opts.escapeMarkup(C(i.opts.formatLoadMore,i.opts.element,r+1))),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r,i.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function r(){l.removeClass("select2-active"),h.positionDropdown(),h.liveRegion.text(c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.text():h.opts.formatMatches(c.find('.select2-result-selectable:not(".select2-selected")').length))}function i(e){c.html(e),r()}var o,s,u,l=this.search,c=this.results,p=this.opts,h=this,f=l.val(),d=e.data(this.container,"select2-last-term");if((n===!0||!d||!a(f,d))&&(e.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){u=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),e.isArray(o)&&o.length>=m&&k(p.formatSelectionTooBig,"formatSelectionTooBig")))return void i("<li class='select2-selection-limit'>"+C(p.formatSelectionTooBig,p.element,m)+"</li>");if(l.val().length<p.minimumInputLength)return i(k(p.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+C(p.formatInputTooShort,p.element,l.val(),p.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(p.maximumInputLength&&l.val().length>p.maximumInputLength)return void i(k(p.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+C(p.formatInputTooLong,p.element,l.val(),p.maximumInputLength)+"</li>":"");p.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+C(p.formatSearching,p.element)+"</li>"),l.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=t&&null!=s&&l.val(s),this.resultsPage=1,p.query({element:p.element,term:l.val(),page:this.resultsPage,context:null,matcher:p.matcher,callback:this.bind(function(o){var s;if(u==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(o.hasError!==t&&k(p.formatAjaxError,"formatAjaxError"))return void i("<li class='select2-ajax-error'>"+C(p.formatAjaxError,p.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==l.val()&&(s=this.opts.createSearchChoice.call(h,l.val(),o.results),s!==t&&null!==s&&h.id(s)!==t&&null!==h.id(s)&&0===e(o.results).filter(function(){return a(h.id(this),h.id(s))}).length&&this.opts.createSearchChoicePosition(o.results,s)),0===o.results.length&&k(p.formatNoMatches,"formatNoMatches"))return i("<li class='select2-no-results'>"+C(p.formatNoMatches,p.element,l.val())+"</li>"),void(this.showSearch&&this.showSearch(l.val()));c.empty(),h.opts.populateResults.call(this,c,o.results,{term:l.val(),page:this.resultsPage,context:null}),o.more===!0&&k(p.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+p.escapeMarkup(C(p.formatLoadMore,p.element,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),r(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(t),this.onSelect(r,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function t(){var t,n,r,i,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(t=this.opts.element.attr("style"),"string"==typeof t)for(n=t.split(";"),i=0,o=n.length;o>i;i+=1)if(a=n[i].replace(/\s/g,""),r=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(t=this.opts.element.css("width"),t.indexOf("%")>0?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=t.call(this);null!==n&&this.container.css("width",n)}}),O=T(D,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,n,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),t=this.search.get(0),t.createTextRange?(n=t.createTextRange(),n.collapse(!1),n.select()):t.setSelectionRange&&(r=this.search.val().length,t.setSelectionRange(r,r))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"selection","focusser")},initContainer:function(){var t,r,i=this.container,o=this.dropdown,a=F();this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),r=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(r.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||r.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===j.PAGE_UP||e.which===j.PAGE_DOWN)return void m(e);switch(e.which){case j.UP:case j.DOWN:return this.moveHighlight(e.which===j.UP?-1:1),void m(e);case j.ENTER:return this.selectHighlighted(),void m(e);case j.TAB:return void this.selectHighlighted({noFocus:!0});case j.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==j.TAB&&!j.isControl(e)&&!j.isFunctionKey(e)&&e.which!==j.ESC){if(this.opts.openOnEnter===!1&&e.which===j.ENTER)return void m(e);if(e.which==j.DOWN||e.which==j.UP||e.which==j.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==j.DELETE||e.which==j.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(r){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(r)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.lastSearchTerm=e.search.val())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),o=null;t.query({matcher:function(e,n,r){var s=a(i,t.id(r));return s&&(o=r),s},callback:e.isFunction(r)?function(){r(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var r=0,i=this;if(this.findHighlightableChoices().each2(function(e,t){return a(i.id(t.data("select2-data")),i.opts.element.val())?(r=e,!1):void 0}),n!==!1&&this.highlight(t===!0&&r>=0?r:0),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(A(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),a(n,this.id(e))||this.triggerChange({added:e,removed:r})}},updateSelection:function(e){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(n=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),n!==t&&i.append(n),r=this.opts.formatSelectionCssClass(e,i),r!==t&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r),void 0)}}),L=T(D,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=s(n.val(),t.separator,t.transformVal),o=[];t.query({matcher:function(n,r,s){var u=e.grep(i,function(e){return a(e,t.id(s))}).length;return u&&o.push(s),u},callback:e.isFunction(r)?function(){for(var e=[],n=0;n<i.length;n++)for(var s=i[n],u=0;u<o.length;u++){var l=o[u];if(a(s,t.id(l))){e.push(l),o.splice(u,1);break}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);
var r=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){r.search[0].focus(),r.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+F()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),r=n.prev(".select2-search-choice:not(.select2-locked)"),i=n.next(".select2-search-choice:not(.select2-locked)"),o=d(this.search);if(n.length&&(e.which==j.LEFT||e.which==j.RIGHT||e.which==j.BACKSPACE||e.which==j.DELETE||e.which==j.ENTER)){var a=n;return e.which==j.LEFT&&r.length?a=r:e.which==j.RIGHT?a=i.length?i:null:e.which===j.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),a=r.length?r:i):e.which==j.DELETE?this.unselect(n.first())&&(this.search.width(10),a=i.length?i:null):e.which==j.ENTER&&(a=null),this.selectChoice(a),m(e),void(a&&a.length||this.open())}if((e.which===j.BACKSPACE&&1==this.keydowns||e.which==j.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case j.UP:case j.DOWN:return this.moveHighlight(e.which===j.UP?-1:1),void m(e);case j.ENTER:return this.selectHighlighted(),void m(e);case j.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case j.ESC:return this.cancel(e),void m(e)}if(e.which!==j.TAB&&!j.isControl(e)&&!j.isFunctionKey(e)&&e.which!==j.BACKSPACE&&e.which!==j.ESC){if(e.which===j.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===j.PAGE_UP||e.which===j.PAGE_DOWN)&&m(e),e.which===j.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n={},r=[],i=this;e(t).each(function(){i.id(this)in n||(n[i.id(this)]=0,r.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(r),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var n=this.getVal(),r=this;e(t).each(function(){n.push(r.createChoice(this))}),this.setVal(n)},createChoice:function(n){var r,i,o=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),u=o?a:s,l=this.id(n);return r=this.opts.formatSelection(n,u.find("div"),this.opts.escapeMarkup),r!=t&&u.find("div").replaceWith(e("<div></div>").html(r)),i=this.opts.formatSelectionCssClass(n,u.find("div")),i!=t&&u.addClass(i),o&&u.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),u.data("select2-data",n),u.insertBefore(this.searchContainer),l},unselect:function(t){var n,r,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var a=e.Event("select2-removing");if(a.val=this.id(n),a.choice=n,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(r=i(this.id(n),o))>=0;)o.splice(r,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var r=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),s=this;o.each2(function(e,t){var n=s.id(t.data("select2-data"));i(n,r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&this.opts.closeOnSelect===!0&&s.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&k(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+C(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-u(this.search)},resizeSearch:function(){var e,t,n,r,i,o=u(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-o,e>i&&(i=n-o),40>i&&(i=n-o),0>=i&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),s(e,this.opts.separator,this.opts.transformVal))},setVal:function(t){if(this.select)this.select.val(t);else{var n=[],r={};e(t).each(function(){this in r||(n.push(this),r[this]=0)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator))}},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var r=0;r<e.length;r++)if(a(this.opts.id(t[n]),this.opts.id(e[r]))){t.splice(n,1),n--,e.splice(r,1);break}return{added:t,removed:e}},val:function(n,r){var i,o=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(r&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),r&&o.triggerChange(o.buildChangeDetails(i,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r,i,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(i=this.data(),t||(t=[]),r=e.map(t,function(e){return o.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),e.fn.select2=function(){var n,r,o,a,s,u=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],p=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===u.length||"object"==typeof u[0])n=0===u.length?{}:e.extend({},u[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),r=s?new window.Select2["class"].multi:new window.Select2["class"].single,r.init(n);else{if("string"!=typeof u[0])throw"Invalid arguments to select2 plugin: "+u;if(i(u[0],l)<0)throw"Unknown method: "+u[0];if(a=t,r=e(this).data("select2"),r===t)return;if(o=u[0],"container"===o?a=r.container:"dropdown"===o?a=r.dropdown:(h[o]&&(o=h[o]),a=r[o].apply(r,u.slice(1))),i(u[0],c)>=0||i(u[0],p)>=0&&1==u.length)return!1}}),a===t?this:a},e.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return b(this.text(e),n.term,i,r),i.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,n,r){return e?r(this.text(e)):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return r(""+t).toUpperCase().indexOf(r(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:S,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:_,local:x,tags:E},util:{debounce:p,markMatch:b,escapeMarkup:w,stripDiacritics:r},"class":{"abstract":D,single:O,multi:L}}}}(jQuery),function(e,t){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(i){}t(e,exports,r,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){{var i=e.Backbone,o=[],a=(o.push,o.slice);o.splice}t.VERSION="1.1.0",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!l(this,"once",e,[t,r])||!t)return this;var i=this,o=n.once(function(){i.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,r)},off:function(e,t,r){var i,o,a,s,u,c,p,h;if(!this._events||!l(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;for(s=e?[e]:n.keys(this._events),u=0,c=s.length;c>u;u++)if(e=s[u],a=this._events[e]){if(this._events[e]=i=[],t||r)for(p=0,h=a.length;h>p;p++)o=a[p],(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var o=!t&&!r;r||"object"!=typeof t||(r=this),e&&((i={})[e._listenId]=e);for(var a in i)e=i[a],e.off(t,r,this),(o||n.isEmpty(e._events))&&delete this._listeningTo[a];return this}},u=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},c=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){s[t]=function(t,r,i){var o=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=n.uniqueId("l"));return o[a]=t,i||"object"!=typeof r||(i=this),t[e](r,i,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(t,s);var h=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this._syncedAttributes=this.isNew()?null:n.clone(r),this.initialize.apply(this,arguments)};n.extend(h.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,r){var i,o,a,s,u,l,c,p;if(null==e)return this;if("object"==typeof e?(o=e,r=t):(o={})[e]=t,r||(r={}),!this._validate(o,r))return!1;a=r.unset,u=r.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={}),p=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)t=o[i],n.isEqual(p[i],t)||s.push(i),n.isEqual(c[i],t)?delete this.changed[i]:this.changed[i]=t,a?delete p[i]:p[i]=t;if(!u){s.length&&(this._pending=r);for(var h=0,f=s.length;f>h;h++)this.trigger("change:"+s[h],this,p[s[h]],r)}if(l)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes;return this._diff(t,e)},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},isSynced:function(e){return this._syncedAttributes?null==e?n.isEqual(this._syncedAttributes,this.attributes):n.isEqual(this._syncedAttributes[e],this.attributes[e]):!1},unsyncedAttributes:function(e){return!e&&this.isSynced()?!1:(e=n.extend({},this.attributes,e),this._syncedAttributes?this._diff(this._syncedAttributes,e):e)},synced:function(e){return null!=e&&this._syncedAttributes?this._syncedAttributes[e]:null},syncedAttributes:function(){return n.clone(this._syncedAttributes)},resync:function(e){this._syncedAttributes=e?n.clone(e):this.toJSON()},fetch:function(e){e=n.defaults({},e,{parse:!0,update:!0});var t=this,r=e.success;return e.success=function(n){if(e.update){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t._sync(n,e)}else r&&r(t,n,e)},B(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,o,a,s=this.attributes;if(null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},s,i)),void 0===r.parse&&(r.parse=!0);var u=this,l=r.success;return r.success=function(e){u.attributes=s;var t=u.parse(e,r);return r.wait&&(t=n.extend(i||{},t)),n.isObject(t)&&!u.set(t,r)?!1:(l&&l(u,e,r),void u._sync(e,r))},B(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=i),a=this.sync(o,this,r),i&&r.wait&&(this.attributes=s),a},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t._sync(n,e)},this.isNew())return e.success(),!1;B(this,e);var o=this.sync("delete",this,e);return e.wait||i(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||N();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0},_sync:function(e,t){this.resync(),this.trigger("sync",this,e,t)},_diff:function(e,t){var r,i=!1;for(var o in t)n.isEqual(e[o],r=t[o])||((i||(i={}))[o]=r);return i}});var f=["keys","values","pairs","invert","pick","omit"];n.each(f,function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var d=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(d.prototype,s,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return e=e||{},this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,o,a,s;for(i=0,o=e.length;o>i;i++)s=e[i]=this.get(e[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s,t));return r?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,o,a,s,u,l,c,p=t.at,f=this.model,d=this.comparator&&null==p&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,_=t.merge,x=t.remove,E=!d&&w&&x?[]:!1;for(i=0,o=e.length;o>i;i++){if(u=e[i]||{},a=u instanceof h?s=u:u[f.prototype.idAttribute||"id"],l=this.get(a))x&&(b[l.cid]=!0),_&&(u=u===s?s.attributes:u,t.parse&&(u=l.parse(u,t)),l.set(u,t),d&&!c&&l.hasChanged(g)&&(c=!0)),e[i]=l;else if(w){if(s=e[i]=this._prepareModel(u,t),!s)continue;v.push(s),this._addReference(s,t)}E&&E.push(l||s)}if(x){for(i=0,o=this.length;o>i;++i)b[(s=this.models[i]).cid]||y.push(s);y.length&&this.remove(y,t)}if(v.length||E&&E.length)if(d&&(c=!0),this.length+=v.length,null!=p)for(i=0,o=v.length;o>i;i++)this.models.splice(p+i,0,v[i]);else{E&&(this.models.length=0);var k=E||v;for(i=0,o=k.length;o>i;i++)this.models.push(k[i])}if(c&&this.sort({silent:!0}),!t.silent){for(i=0,o=v.length;o>i;i++)(s=v[i]).trigger("add",s,this,t);(c||E&&E.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),null!=e&&(e=this.add(e,n.extend({silent:!0},t))),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this.getByKey(e)||this.getByKey(e.id)||this.getByKey(e.cid)},getByKey:function(e){return this._isValidKey(e)?this._byId[e]:void 0},getAll:function(e){for(var t,n=[],r=0,i=e.length;i>r;r++)null!=(t=this.get(e[r]))&&n.push(t);return n},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},ids:function(){return this.map(function(e){return e.id})},cids:function(){return this.map(function(e){return e.cid})},fetch:function(e){e=n.defaults({},e,{parse:!0,update:!0});var t=e.success,r=this;return e.success=function(n){if(e.update){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)}else t&&t(r,n,e)},B(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={},this._keys={}},_prepareModel:function(e,t){if(e instanceof h)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e){this._addKeys(e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_addKeys:function(e){if(this._keys[e.cid]=[],this._byId[e.cid]=e,this._addKey(e,e.id),null!=this.index)for(var t=this.index(e),n=0,r=t.length;r>n;n++)this._addKey(e,t[n])},_addKey:function(e,t){this._isValidKey(t)&&(this._byId[t]=e,this._keys[e.cid].push(t))},_isValidKey:function(e){return null===e||void 0===e||""===e?!1:"number"==typeof e||"string"==typeof e||e instanceof String},_removeReference:function(e){this._removeKeys(e),this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_removeKeys:function(e){delete this._byId[e.cid];for(var t=this._keys[e.cid],n=0,r=t.length;r>n;n++)delete this._byId[t[n]];delete this._keys[e.cid]},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&"change"===e&&(this._removeKeys(t),this._addKeys(t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){d.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){d.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[e[t]]),r){var i=t.match(w),o=i[1],a=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,r):this.$el.on(o,a,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}}}),t.sync=function(e,r,i){var o=E[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||N()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"===a.type&&x&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var k=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,S=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,s,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);i&&i.apply(o,a),o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),t.history.trigger("route",o,r,a)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(M,"\\$&").replace(C,"(?:$1)?").replace(A,function(e,t){return t?e:"([^/?]+)"}).replace(S,"([^?]*?)").concat("(?:\\?(.*))?"),new RegExp("^"+e+"$")},_extractParameters:function(e,r){var i=e.exec(r).slice(1),o=n.map(i,function(e){return e?decodeURIComponent(e):null});return t.qs&&o.push(t.qs(o.pop())),o}});var T=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,L=/msie [\w.]+/,F=/\/$/;T.started=!1,n.extend(T.prototype,s,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(F,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(D,"")},start:function(e){if(T.started)throw new Error("Backbone.history has already been started");T.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=L.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(O,"/"),o&&this._wantsHashChange){var a=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location,u=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;
this._hasPushState&&u&&s.hash&&(this.fragment=this.getHash().replace(D,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),T.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return this.previousFragment=this.fragment,e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},rollback:function(){window.location.hash=this.previousFragment},navigate:function(e,t){if(!T.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new T;var P=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};h.extend=d.extend=k.extend=b.extend=T.extend=P;var N=function(){throw new Error('A "url" property or function must be specified')},B=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),function(){function e(e){var t=n;e&&(n[e]||(n[e]={}),t=n[e]),t.define&&t.define.packaged||(r.original=t.define,t.define=r,t.define.packaged=!0),t.require&&t.require.packaged||(o.original=t.require,t.require=o,t.require.packaged=!0)}var t="",n=function(){return this}();if(n||"undefined"==typeof window||(n=window),t||"undefined"==typeof requirejs){var r=function(e,t,n){return"string"!=typeof e?void(r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=t),void(r.modules[e]||(r.payloads[e]=n,r.modules[e]=null)))};r.modules={},r.payloads={};var i=function(e,t,n){if("string"==typeof t){var r=s(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],a=0,u=t.length;u>a;++a){var l=s(e,t[a]);if(void 0==l&&o.original)return;i.push(l)}return n&&n.apply(null,i)||!0}},o=function(e,t){var n=i("",e,t);return void 0==n&&o.original?o.original.apply(this,arguments):n},a=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return a(e,n[0])+"!"+a(e,n[1])}if("."==t.charAt(0)){var r=e.split("/").slice(0,-1).join("/");for(t=r+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,t){t=a(e,t);var n=r.modules[t];if(!n){if(n=r.payloads[t],"function"==typeof n){var o={},s={id:t,uri:"",exports:o,packaged:!0},u=function(e,n){return i(t,e,n)},l=n(u,o,s);o=l||s.exports,r.modules[t]=o,delete r.payloads[t]}n=r.modules[t]=o||n}return n};e(t)}}(),define("ace/lib/regexp",["require","exports","module"],function(){"use strict";function e(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function t(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},r=void 0===n.exec.call(/()??/,"")[1],i=function(){var e=/^/g;return n.test.call(e,""),!e.lastIndex}();i&&r||(RegExp.prototype.exec=function(o){var a,s,u=n.exec.apply(this,arguments);if("string"==typeof o&&u){if(!r&&u.length>1&&t(u,"")>-1&&(s=RegExp(this.source,n.replace.call(e(this),"g","")),n.replace.call(o.slice(u.index),s,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(u[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var l=1;l<u.length;l++)a=this._xregexp.captureNames[l-1],a&&(u[a]=u[l]);!i&&this.global&&!u[0].length&&this.lastIndex>u.index&&this.lastIndex--}return u},i||(RegExp.prototype.test=function(e){var t=n.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),define("ace/lib/es5-shim",["require","exports","module"],function(){function e(){}function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}function n(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var r=p.call(arguments,1),i=function(){if(this instanceof i){var e=n.apply(this,r.concat(p.call(arguments)));return Object(e)===e?e:this}return n.apply(t,r.concat(p.call(arguments)))};return n.prototype&&(e.prototype=n.prototype,i.prototype=new e,e.prototype=null),i});var r,i,o,a,s,u=Function.prototype.call,l=Array.prototype,c=Object.prototype,p=l.slice,h=u.bind(c.toString),f=u.bind(c.hasOwnProperty);if((s=f(c,"__defineGetter__"))&&(r=u.bind(c.__defineGetter__),i=u.bind(c.__defineSetter__),o=u.bind(c.__lookupGetter__),a=u.bind(c.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];return n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length?!0:void 0}()){var d=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?d.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:0>e&&(e=Math.max(n+e,0)),n>e+t||(t=n-e);var r=this.slice(e,e+t),i=p.call(arguments,2),o=i.length;if(e===n)o&&this.push.apply(this,i);else{var a=Math.min(t,n-e),s=e+a,u=s+o-a,l=n-s,c=n-a;if(s>u)for(var h=0;l>h;++h)this[u+h]=this[s+h];else if(u>s)for(h=l;h--;)this[u+h]=this[s+h];if(o&&e===c)this.length=c,this.push.apply(this,i);else for(this.length=c+o,h=0;o>h;++h)this[e+h]=i[h]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==h(e)});var m=Object("a"),g="a"!=m[0]||!(0 in m);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=F(this),n=g&&"[object String]"==h(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=F(this),n=g&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var a=0;r>a;a++)a in n&&(i[a]=e.call(o,n[a],a,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=F(this),r=g&&"[object String]"==h(this)?this.split(""):n,i=r.length>>>0,o=[],a=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)s in r&&(t=r[s],e.call(a,t,s,n)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=F(this),n=g&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;r>o;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=F(this),n=g&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;r>o;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=F(this),n=g&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;r>o;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=F(this),n=g&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(i=e.call(void 0,i,n[o],o,t));while(o--);return i}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=g&&"[object String]"==h(this)?this.split(""):F(this),r=t.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=n(arguments[1])),i=i>=0?i:Math.max(0,r+i);r>i;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=g&&"[object String]"==h(this)?this.split(""):F(this),r=t.length>>>0;if(!r)return-1;var i=r-1;for(arguments.length>1&&(i=Math.min(i,n(arguments[1]))),i=i>=0?i:r-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:c)}),!Object.getOwnPropertyDescriptor){var v="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(v+e);if(f(e,t)){var n,r,i;if(n={enumerable:!0,configurable:!0},s){var u=e.__proto__;e.__proto__=c;var r=o(e,t),i=a(e,t);if(e.__proto__=u,r||i)return r&&(n.get=r),i&&(n.set=i),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var y;y=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=y();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var b=t({}),w="undefined"==typeof document||t(document.createElement("div"));if(!b||!w)var _=Object.defineProperty}if(!Object.defineProperty||_){var x="Property description must be an object: ",E="Object.defineProperty called on non-object: ",k="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(E+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(x+n);if(_)try{return _.call(Object,e,t,n)}catch(u){}if(f(n,"value"))if(s&&(o(e,t)||a(e,t))){var l=e.__proto__;e.__proto__=c,delete e[t],e[t]=n.value,e.__proto__=l}else e[t]=n.value;else{if(!s)throw new TypeError(k);f(n,"get")&&r(e,t,n.get),f(n,"set")&&i(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)f(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(C){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";f(e,t);)t+="?";e[t]=!0;var n=f(e,t);return delete e[t],n}),!Object.keys){var A=!0,S=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],M=S.length;for(var T in{toString:null})A=!1;Object.keys=function P(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var P=[];for(var t in e)f(e,t)&&P.push(t);if(A)for(var n=0,r=M;r>n;n++){var i=S[n];f(e,i)&&P.push(i)}return P}}Date.now||(Date.now=function(){return(new Date).getTime()});var D="	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||D.trim()){D="["+D+"]";var O=new RegExp("^"+D+D+"*"),L=new RegExp(D+D+"*$");String.prototype.trim=function(){return String(this).replace(O,"").replace(L,"")}}var F=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e){"use strict";e("./regexp"),e("./es5-shim")}),define("ace/lib/dom",["require","exports","module"],function(e,t){"use strict";var n="http://www.w3.org/1999/xhtml";return t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className+"").split(/\s+/g);return-1!==n.indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;r<n.length;)if(n[r++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;r<n.length;)if(n[r++].id===e)return!0;return!1},t.importCssString=function(e,n,r){if(r=r||document,n&&t.hasCssString(n,r))return null;var i;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),r.createStyleSheet?(i=r.createStyleSheet(),i.cssText=e,n&&(i.owningElement.id=n)):(i=t.createElement("style"),i.appendChild(r.createTextNode(e)),n&&(i.id=n),t.getDocumentHead(r).appendChild(i))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var a=n.offsetWidth;i.overflow="scroll";var s=n.offsetWidth;return a==s&&(s=r.clientWidth),o.removeChild(r),a-s},"undefined"==typeof document?void(t.importCssString=function(){}):(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),t.computedStyle=window.getComputedStyle?function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),void(t.getParentWindow=function(e){return e.defaultView||e.parentWindow}))}),define("ace/lib/oop",["require","exports","module"],function(e,t){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t){"use strict";e("./fixoldbrowsers");var n=e("./oop"),r=function(){var e,t,r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in r.FUNCTION_KEYS)e=r.FUNCTION_KEYS[t].toLowerCase(),r[e]=parseInt(t,10);for(t in r.PRINTABLE_KEYS)e=r.PRINTABLE_KEYS[t].toLowerCase(),r[e]=parseInt(t,10);return n.mixin(r,r.MODIFIER_KEYS),n.mixin(r,r.PRINTABLE_KEYS),n.mixin(r,r.FUNCTION_KEYS),r.enter=r["return"],r.escape=r.esc,r.del=r["delete"],r[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)r.KEY_MODS[t]=e.filter(function(e){return t&r.KEY_MODS[e]}).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",r}();n.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),define("ace/lib/useragent",["require","exports","module"],function(e,t){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE=parseFloat("Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?(r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]:(r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isAIR=r.indexOf("AdobeAIR")>=0,t.isIPad=r.indexOf("iPad")>=0,t.isTouchPad=r.indexOf("TouchPad")>=0,t.isChromeOS=r.indexOf(" CrOS ")>=0}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){"use strict";function n(e,t,n){var r=u(t);if(!o.isMac&&a){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),a.altGr){if(3==(3&r))return;a.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;if(17===n&&1===l)1==a[n]&&(s=t.timeStamp);else if(18===n&&3===r&&2===l){var c=t.timeStamp-s;50>c&&(a.altGr=!0)}}}if(n in i.MODIFIER_KEYS&&(n=-1),8&r&&n>=91&&93>=n&&(n=-1),!r&&13===n){var l="location"in t?t.location:t.keyLocation;if(3===l&&(e(t,r,-n),t.defaultPrevented))return}if(o.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return r||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS?e(t,r,n):!1}function r(){a=Object.create(null)}var i=e("./keys"),o=e("./useragent"),a=null,s=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):void(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n))},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",i,!0),t.removeListener(document,"dragstart",i,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",i,!0),t.addListener(document,"dragstart",i,!0),i},t.addTouchMoveListener=function(e,n){if("ontouchmove"in e){var r,i;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];r=t.clientX,i=t.clientY}),t.addListener(e,"touchmove",function(e){var t=1,o=e.changedTouches[0];e.wheelX=-(o.clientX-r)/t,e.wheelY=-(o.clientY-i)/t,r=o.clientX,i=o.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,r,i){function a(e){if(0!==t.getButton(e)?p=0:e.detail>1?(p++,p>4&&(p=1)):p=1,o.isIE){var a=Math.abs(e.clientX-u)>5||Math.abs(e.clientY-l)>5;(!c||a)&&(p=1),c&&clearTimeout(c),c=setTimeout(function(){c=null},n[p-1]||600),1==p&&(u=e.clientX,l=e.clientY)}if(e._clicks=p,r[i]("mousedown",e),p>4)p=0;else if(p>1)return r[i](h[p],e)}function s(e){p=2,c&&clearTimeout(c),c=setTimeout(function(){c=null},n[p-1]||600),r[i]("mousedown",e),r[i](h[p],e)}var u,l,c,p=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",a),o.isOldIE&&t.addListener(e,"dblclick",s)})};var u=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return i.KEY_MODS[u(e)]},t.addCommandKeyListener=function(e,i){var s=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var u=null;s(e,"keydown",function(e){u=e.keyCode}),s(e,"keypress",function(e){return n(i,e,u)})}else{var l=null;s(e,"keydown",function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=n(i,e,e.keyCode);return l=e.defaultPrevented,t}),s(e,"keypress",function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),s(e,"keyup",function(e){a[e.keyCode]=null}),a||(r(),s(window,"focus",r))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var l=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+l;t.addListener(n,"message",function i(o){o.data==r&&(t.stopPropagation(o),t.removeListener(n,"message",i),e())}),n.postMessage(r,"*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}}),define("ace/lib/lang",["require","exports","module"],function(e,t){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var n=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t[n]=e[n]&&"object"==typeof e[n]?this.copyObject(e[n]):e[n];return t},t.deepCopy=function i(e){if("object"!=typeof e||!e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t[n]=i(e[n]);return t}if("[object Object]"!==Object.prototype.toString.call(e))return e;t={};for(var n in e)t[n]=i(e[n]);return t},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),i=e("../lib/dom"),o=e("../lib/lang"),a=r.isChrome<18,s=r.isIE,u=function(e,t){function u(e){if(!m){if(m=!0,M)t=0,n=e?0:p.value.length-1;else var t=e?2:1,n=2;try{p.setSelectionRange(t,n)}catch(r){}m=!1}}function l(){m||(p.value=h,r.isWebKit&&_.schedule())}function c(){clearTimeout(z),z=setTimeout(function(){g&&(p.style.cssText=g,g=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},r.isOldIE?200:0)}var p=i.createElement("textarea");p.className="ace_text-input",r.isTouchPad&&p.setAttribute("x-palm-disable-auto-cap",!0),p.setAttribute("wrap","off"),p.setAttribute("autocorrect","off"),p.setAttribute("autocapitalize","off"),p.setAttribute("spellcheck",!1),p.style.opacity="0",r.isOldIE&&(p.style.top="-1000px"),e.insertBefore(p,e.firstChild);var h="",f=!1,d=!1,m=!1,g="",v=!0;try{var y=document.activeElement===p}catch(b){}n.addListener(p,"blur",function(e){t.onBlur(e),y=!1}),n.addListener(p,"focus",function(e){y=!0,t.onFocus(e),u()}),this.focus=function(){if(g)return p.focus();var e=p.style.top;p.style.position="fixed",p.style.top="0px",p.focus(),setTimeout(function(){p.style.position="","0px"==p.style.top&&(p.style.top=e)},0)},this.blur=function(){p.blur()},this.isFocused=function(){return y};var w=o.delayedCall(function(){y&&u(v)}),_=o.delayedCall(function(){m||(p.value=h,y&&u())});r.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,w.schedule())}),l(),y&&t.onFocus();var x=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!p.setSelectionRange&&p.createTextRange&&(p.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},x=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?t.text==e.value:!1}),r.isOldIE){var E=!1,k=function(e){if(!E){var t=p.value;if(!m&&t&&t!=h){if(e&&t==h[0])return C.schedule();D(t),E=!0,l(),E=!1}}},C=o.delayedCall(k);n.addListener(p,"propertychange",k);var A={13:1,27:1};n.addListener(p,"keyup",function(e){return!m||p.value&&!A[e.keyCode]||setTimeout(I,0),(p.value.charCodeAt(0)||0)<129?C.call():void(m?j():R())}),n.addListener(p,"keydown",function(){C.schedule(50)})}var S=function(){f?f=!1:x(p)?(t.selectAll(),u()):M&&u(t.selection.isEmpty())},M=null;this.setInputHandler=function(e){M=e},this.getInputHandler=function(){return M};var T=!1,D=function(e){M&&(e=M(e),M=null),d?(u(),e&&t.onPaste(e),d=!1):e==h.charAt(0)?T?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==h?e=e.substr(2):e.charAt(0)==h.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),T&&(T=!1)},O=function(){if(!m){var e=p.value;D(e),l()}},L=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!a){var i=s||n?"Text":"text/plain";try{return t?r.setData(i,t)!==!1:r.getData(i)}catch(e){if(!n)return L(e,t,!0)}}},F=function(e,r){var i=t.getCopyText();return i?void(L(e,i)?(r?t.onCut():t.onCopy(),n.preventDefault(e)):(f=!0,p.value=i,p.select(),setTimeout(function(){f=!1,l(),u(),r?t.onCut():t.onCopy()}))):n.preventDefault(e)},P=function(e){F(e,!0)},N=function(e){F(e,!1)},B=function(e){var i=L(e);"string"==typeof i?(i&&t.onPaste(i,e),r.isIE&&setTimeout(u),n.preventDefault(e)):(p.value="",d=!0)};n.addCommandKeyListener(p,t.onCommandKey.bind(t)),n.addListener(p,"select",S),n.addListener(p,"input",O),n.addListener(p,"cut",P),n.addListener(p,"copy",N),n.addListener(p,"paste",B),"oncut"in p&&"oncopy"in p&&"onpaste"in p||n.addListener(e,"keydown",function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:N(e);break;case 86:B(e);break;case 88:P(e)}});var R=function(){m||!t.onCompositionStart||t.$readOnly||(m={},m.canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(j,0),t.on("mousedown",I),m.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},j=function(){if(m&&t.onCompositionUpdate&&!t.$readOnly){var e=p.value.replace(/\x01/g,"");if(m.lastValue!==e&&(t.onCompositionUpdate(e),m.lastValue&&t.undo(),m.canUndo&&(m.lastValue=e),m.lastValue)){var n=t.selection.getRange();t.insert(m.lastValue),t.session.markUndoGroup(),m.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},I=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=m;m=!1;var i=setTimeout(function(){i=null;var e=p.value.replace(/\x01/g,"");m||(e==n.lastValue?l():!n.lastValue&&e&&(l(),D(e)))});M=function(e){return i&&clearTimeout(i),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&i&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",I),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range),r.isChrome&&r.isChrome>=53&&O()}},$=o.delayedCall(j,50);n.addListener(p,"compositionstart",R),r.isGecko?n.addListener(p,"text",function(){$.schedule()}):(n.addListener(p,"keyup",function(){$.schedule()
}),n.addListener(p,"keydown",function(){$.schedule()})),n.addListener(p,"compositionend",I),this.getElement=function(){return p},this.setReadOnly=function(e){p.readOnly=e},this.onContextMenu=function(e){T=!0,u(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){if(o||!r.isOldIE){g||(g=p.style.cssText),p.style.cssText=(o?"z-index:100000;":"")+"height:"+p.style.height+";"+(r.isIE?"opacity:0.1;":"");var a=t.container.getBoundingClientRect(),s=i.computedStyle(t.container),u=a.top+(parseInt(s.borderTopWidth)||0),l=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-u-p.clientHeight-2,f=function(e){p.style.left=e.clientX-l-2+"px",p.style.top=Math.min(e.clientY-u-2,h)+"px"};f(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(z),r.isWin&&!r.isOldIE&&n.capture(t.container,f,c))}},this.onContextMenuClose=c;var z,U=function(e){t.textInput.onContextMenu(e),c()};n.addListener(p,"mouseup",U),n.addListener(p,"mousedown",function(e){e.preventDefault(),c()}),n.addListener(t.renderer.scroller,"contextmenu",U),n.addListener(p,"contextmenu",U)};t.TextInput=u}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function r(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function i(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return 0>n?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,i=e.getButton();if(0!==i){var o=r.getSelectionRange(),a=o.isEmpty();return r.$blockScrolling++,(a||1==i)&&r.selection.moveToPosition(n),r.$blockScrolling--,void(2==i&&r.textInput.onContextMenu(e.domEvent))}return this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var o=i(this.$clickSelection,n);n=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](r.row,r.column);if(n.$blockScrolling++,this.$clickSelection){var a=this.$clickSelection.comparePoint(o.start),s=this.$clickSelection.comparePoint(o.end);if(-1==a&&0>=s)t=this.$clickSelection.end,(o.end.row!=r.row||o.end.column!=r.column)&&(r=o.start);else if(1==s&&a>=0)t=this.$clickSelection.start,(o.start.row!=r.row||o.start.column!=r.column)&&(r=o.end);else if(-1==a&&1==s)r=o.end,t=o.start;else{var u=i(this.$clickSelection,r);r=u.cursor,t=u.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>o||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return i||200>n?(this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return i||200>n?(this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}).call(n.prototype),t.DefaultHandlers=n}),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var r=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){r.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(n.prototype),t.Tooltip=n}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t){"use strict";function n(e){function t(){var t=p.getDocumentPosition().row,r=u.$annotations[t];if(!r)return n();var i=s.session.getLength();if(t==i){var a=s.renderer.pixelToScreenCoordinates(0,p.y).row,c=p.$pos;if(a>s.session.documentToScreenRow(c.row,c.column))return n()}if(h!=r)if(h=r.text.join("<br/>"),l.setHtml(h),l.show(),s._signal("showGutterTooltip",l),s.on("mousewheel",n),e.$tooltipFollowsMouse)o(p);else{var f=p.domEvent.target,d=f.getBoundingClientRect(),m=l.getElement().style;m.left=d.right+"px",m.top=d.bottom+"px"}}function n(){c&&(c=clearTimeout(c)),h&&(l.hide(),h=null,s._signal("hideGutterTooltip",l),s.removeEventListener("mousewheel",n))}function o(e){l.setPosition(e.x,e.y)}var s=e.editor,u=s.renderer.$gutterLayer,l=new r(s.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()){var n=u.getRegion(t);if("foldWidgets"!=n){var r=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(r,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(r)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var c,p,h;e.editor.setDefaultHandler("guttermousemove",function(r){var a=r.domEvent.target||r.domEvent.srcElement;return i.hasCssClass(a,"ace_fold-widget")?n():(h&&e.$tooltipFollowsMouse&&o(r),p=r,void(c||(c=setTimeout(function(){c=null,p&&!e.isMousePressed?t():n()},50))))}),a.addListener(s.renderer.$gutter,"mouseout",function(){p=null,h&&!c&&(c=setTimeout(function(){c=null,n()},50))}),s.on("changeSession",n)}function r(e){s.call(this,e)}var i=e("../lib/dom"),o=e("../lib/oop"),a=e("../lib/event"),s=e("../tooltip").Tooltip;o.inherits(r,s),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+o>r&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}.call(r.prototype),t.GutterHandler=n}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),i=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(i.prototype)}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";function n(e){function t(e,t){var n=Date.now(),i=!t||e.row!=t.row,o=!t||e.column!=t.column;if(!M||i||o)g.$blockScrolling+=1,g.moveCursorToPosition(e),g.$blockScrolling-=1,M=n,T={x:w,y:_};else{var a=r(T.x,T.y,w,_);a>l?M=null:n-M>=u&&(g.renderer.scrollCursorIntoView(),M=null)}}function n(e,t){var n=Date.now(),r=g.renderer.layerConfig.lineHeight,i=g.renderer.layerConfig.characterWidth,o=g.renderer.scroller.getBoundingClientRect(),a={x:{left:w-o.left,right:o.right-w},y:{top:_-o.top,bottom:o.bottom-_}},u=Math.min(a.x.left,a.x.right),l=Math.min(a.y.top,a.y.bottom),c={row:e.row,column:e.column};2>=u/i&&(c.column+=a.x.left<a.x.right?-3:2),1>=l/r&&(c.row+=a.y.top<a.y.bottom?-1:1);var p=e.row!=c.row,h=e.column!=c.column,f=!t||e.row!=t.row;p||h&&!f?S?n-S>=s&&g.renderer.scrollCursorIntoView(c):S=n:S=null}function c(){var e=k;k=g.renderer.screenToTextCoordinates(w,_),t(k,e),n(k,e)}function p(){E=g.selection.toOrientedRange(),b=g.session.addMarker(E,"ace_selection",g.getSelectionStyle()),g.clearSelection(),g.isFocused()&&g.renderer.$cursorLayer.setBlinking(!1),clearInterval(x),c(),x=setInterval(c,20),O=0,o.addListener(document,"mousemove",f)}function h(){clearInterval(x),g.session.removeMarker(b),b=null,g.$blockScrolling+=1,g.selection.fromOrientedRange(E),g.$blockScrolling-=1,g.isFocused()&&!A&&g.renderer.$cursorLayer.setBlinking(!g.getReadOnly()),E=null,k=null,O=0,S=null,M=null,o.removeListener(document,"mousemove",f)}function f(){null==L&&(L=setTimeout(function(){null!=L&&b&&h()},20))}function d(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function m(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=a.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return r&&t.indexOf(i)>=0?o="copy":n.indexOf(i)>=0?o="move":t.indexOf(i)>=0&&(o="copy"),o}var g=e.editor,v=i.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(t){e[t]=this[t]},this),g.addEventListener("mousedown",this.onMouseDown.bind(e));var b,w,_,x,E,k,C,A,S,M,T,D=g.container,O=0;this.onDragStart=function(e){if(this.cancelDrag||!D.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}E=g.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=g.getReadOnly()?"copy":"copyMove",a.isOpera&&(g.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),a.isOpera&&g.container.removeChild(v),n.clearData(),n.setData("Text",g.session.getTextRange()),A=!0,this.setState("drag")},this.onDragEnd=function(e){if(D.draggable=!1,A=!1,this.setState(null),!g.getReadOnly()){var t=e.dataTransfer.dropEffect;C||"move"!=t||g.session.remove(g.getSelectionRange()),g.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){return!g.getReadOnly()&&d(e.dataTransfer)?(w=e.clientX,_=e.clientY,b||p(),O++,e.dataTransfer.dropEffect=C=m(e),o.preventDefault(e)):void 0},this.onDragOver=function(e){return!g.getReadOnly()&&d(e.dataTransfer)?(w=e.clientX,_=e.clientY,b||(p(),O++),null!==L&&(L=null),e.dataTransfer.dropEffect=C=m(e),o.preventDefault(e)):void 0},this.onDragLeave=function(e){return O--,0>=O&&b?(h(),C=null,o.preventDefault(e)):void 0},this.onDrop=function(e){if(k){var t=e.dataTransfer;if(A)switch(C){case"move":E=E.contains(k.row,k.column)?{start:k,end:k}:g.moveText(E,k);break;case"copy":E=g.moveText(E,k,!0)}else{var n=t.getData("Text");E={start:k,end:g.session.insert(k,n)},g.focus(),C=null}return h(),o.preventDefault(e)}},o.addListener(D,"dragstart",this.onDragStart.bind(e)),o.addListener(D,"dragend",this.onDragEnd.bind(e)),o.addListener(D,"dragenter",this.onDragEnter.bind(e)),o.addListener(D,"dragover",this.onDragOver.bind(e)),o.addListener(D,"dragleave",this.onDragLeave.bind(e)),o.addListener(D,"drop",this.onDrop.bind(e));var L=null}function r(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var i=e("../lib/dom"),o=e("../lib/event"),a=e("../lib/useragent"),s=200,u=200,l=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=a.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(){var e=this.editor.container;if(a.isIE&&"dragReady"==this.state){var t=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>3&&e.dragDrop()}if("dragWait"===this.state){var t=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(1===i&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var s=t.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";var n=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var r=n.getDocumentHead(),i=document.createElement("script");i.src=e,r.appendChild(i),i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||"loaded"==i.readyState||"complete"==i.readyState)&&(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),define("ace/lib/event_emitter",["require","exports","module"],function(e,t){"use strict";var n={},r=function(){this.propagationStopped=!0},i=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],o=this._defaultHandlers[e];if(n.length||o){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=i),n=n.slice();for(var a=0;a<n.length&&(n[a](t,this),!t.propagationStopped);a++);return o&&!t.defaultPrevented?o(t,this):void 0}},n._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},n.once=function(e,t){var n=this;t&&this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);-1!=o&&i.splice(o,1)}n[e]=t},n.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t){{n[e]}r&&this.setDefaultHandler(e,r.pop())}else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},n.on=n.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"no use strict";function n(){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var i=e("./oop"),o=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var r=this.$options[e];if(!r)return n('misspelled option "'+e+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(e,t);r.handlesSet||(this["$"+e]=t),r&&r.set&&r.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},s=function(){this.$defaultOptions={}};(function(){i.implement(this,o),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),i.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=n,this.reportError=r}).call(s.prototype),t.AppConfig=s}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,n){"no use strict";function r(r){if(u&&u.document){l.packaged=r||e.packaged||n.packaged||u.define&&define.packaged;for(var o={},a="",s=document.currentScript||document._currentScript,c=s&&s.ownerDocument||document,p=c.getElementsByTagName("script"),h=0;h<p.length;h++){var f=p[h],d=f.src||f.getAttribute("src");if(d){for(var m=f.attributes,g=0,v=m.length;v>g;g++){var y=m[g];0===y.name.indexOf("data-ace-")&&(o[i(y.name.replace(/^data-ace-/,""))]=y.value)}var b=d.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(a=b[1])}}a&&(o.base=o.base||a,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var w in o)"undefined"!=typeof o[w]&&t.set(w,o[w])}}function i(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),a=(e("./lib/oop"),e("./lib/net")),s=e("./lib/app_config").AppConfig;n.exports=t=new s;var u=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);l[e]=t},t.all=function(){return o.copyObject(l)},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r="snippets"==t?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var a=l[t+"Path"];return null==a?a=l.basePath:"/"==r&&(t=r=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{i=e(n)}catch(s){}if(i&&!t.$loading[n])return r&&r(i);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var u=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};return t.get("packaged")?void a.loadScript(t.moduleUrl(n,o),u):u()}},r(!0),t.init=r}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),i=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,s=e("./dragdrop_handler").DragdropHandler,u=e("../config"),l=function(e){var t=this;this.editor=e,new i(this),new o(this),new s(this);var a=function(){var t=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());t&&window.focus(),e.focus()},u=e.renderer.getMouseEventTarget();n.addListener(u,"click",this.onMouseEvent.bind(this,"click")),n.addListener(u,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener([u,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),n.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var l=e.renderer.$gutter;n.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(u,"mousedown",a),n.addListener(l,"mousedown",a),r.isIE&&e.renderer.scrollBarV&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",a),n.addListener(e.renderer.scrollBarH.element,"mousedown",a)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;o.setCursorStyle(!i.isEmpty()&&i.insideStart(r.row,r.column)?"default":"")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new a(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor.renderer;i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=null);var o=this,s=function(e){if(e){if(r.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),o.$mouseMoved=!0}},u=function(e){clearInterval(c),l(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=!0,i.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},l=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){u(e)});o.$onCaptureMouseMove=s,o.releaseMouse=n.capture(this.editor.container,s,u);var c=setInterval(l,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(l.prototype),u.defineOptions(l.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=l}),define("ace/mouse/fold_handler",["require","exports","module"],function(e,t){"use strict";function n(e){e.on("click",function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session,o=i.getParentFoldRangeData(r,!0),a=o.range||o.firstRange;if(a){r=a.start.row;var s=i.getFoldAt(r,i.getLine(r).length,1);s?i.removeFold(s):(i.addFold("...",a),e.renderer.scrollCursorIntoView({row:a.start.row,column:0}))}t.stop()}})}t.FoldHandler=n}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t){"use strict";var n=e("../lib/keys"),r=e("../lib/event"),i=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1==t?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var o,a=!1,s=this.$editor.commands,u=this.$handlers.length;u--&&(o=this.$handlers[u].handleKeyboard(this.$data,e,t,n,i),!(o&&o.command&&(a="null"==o.command?!0:s.exec(o.command,this.$editor,o.args,i),a&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),a))););return a||-1!=e||(o={command:"insertstring"},a=s.exec("insertstring",this.$editor,t)),a&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),a},this.onCommandKey=function(e,t,r){var i=n.keyCodeToString(r);this.$callKeyboardHandlers(t,i,r,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(i.prototype),t.KeyBinding=i}),define("ace/range",["require","exports","module"],function(e,t){"use strict";var n=function(e,t){return e.row-t.row||e.column-t.column},r=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(r.row,r.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(r.row,r.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return 0==this.compare(e,t)?this.isStart(e,t)?!1:!0:!1
},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var i={row:t+1,column:0};else if(this.start.row<e)var i={row:e,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var i={row:e,column:t};else var o={row:e,column:t};return r.fromPoints(i||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new r(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=n,r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),i=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){n.implement(this,i),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();r&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(r||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,t===!0?new o(r,0,n,this.session.getLine(n).length):new o(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),o=i.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,r=this.doc.getLine(t),i=r.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(t,n,1);return o?void this.moveCursorTo(o.end.row,o.end.column):((e=this.session.nonTokenRe.exec(i))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=r.substring(n)),n>=r.length?(this.moveCursorTo(t,r.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight())):((e=this.session.tokenRe.exec(i))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return void this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o,a=r.stringReverse(i);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(a))&&(n-=this.session.nonTokenRe.lastIndex,a=a.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft())):((o=this.session.tokenRe.exec(a))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n))},this.$shortWordEndIndex=function(e){var t,n,r=0,i=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,t=this.session.tokenRe.exec(e))r=this.session.tokenRe.lastIndex;else{for(;(n=e[r])&&i.test(n);)r++;if(1>r)for(o.lastIndex=0;(n=e[r])&&!o.test(n);)if(o.lastIndex=0,r++,i.test(n)){if(r>2){r--;break}for(;(n=e[r])&&i.test(n);)r++;if(r>2)break}}return o.lastIndex=0,r},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do e++,r=this.doc.getLine(e);while(o>e&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var a=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+a)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do t--,i=this.doc.getLine(t);while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),a=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-a)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||e>0)&&r.row++,this.moveCursorTo(r.row,r.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(r){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t){"use strict";var n=e("./config"),r=2e3,i=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},a="g",s=[],u=0;u<n.length;u++){var l=n[u];if(l.defaultToken&&(o.defaultToken=l.defaultToken),l.caseInsensitive&&(a="gi"),null!=l.regex){l.regex instanceof RegExp&&(l.regex=l.regex.toString().slice(1,-1));var c=l.regex,p=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(l.token)?1==l.token.length||1==p?l.token=l.token[0]:p-1!=l.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:l,groupCount:p-1}),l.token=l.token[0]):(l.tokenArray=l.token,l.token=null,l.onMatch=this.$arrayTokens):"function"!=typeof l.token||l.onMatch||(l.onMatch=p>1?this.$applyToken:l.token),p>1&&(/\\\d/.test(l.regex)?c=l.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+i+1)}):(p=1,c=this.removeCapturingGroups(l.regex)),l.splitRegex||"string"==typeof l.token||s.push(l)),o[i]=u,i+=p,r.push(c),l.onMatch||(l.onMatch=null)}}r.length||(o[0]=0,r.push("$")),s.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,a)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",a)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;o>i;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;o>i;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,a,s,u){return r?r="]"!=s:s?r=!0:a?(n==i.stack&&(i.end=u+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=u)),e}),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var i=t||"start",o=this.states[i];o||(i="start",o=this.states[i]);var a=this.matchMappings[i],s=this.regExps[i];s.lastIndex=0;for(var u,l=[],c=0,p=0,h={type:null,value:""};u=s.exec(e);){var f=a.defaultToken,d=null,m=u[0],g=s.lastIndex;if(g-m.length>c){var v=e.substring(c,g-m.length);h.type==f?h.value+=v:(h.type&&l.push(h),h={type:f,value:v})}for(var y=0;y<u.length-2;y++)if(void 0!==u[y+1]){d=o[a[y]],f=d.onMatch?d.onMatch(m,i,n):d.token,d.next&&(i="string"==typeof d.next?d.next:d.next(i,n),o=this.states[i],o||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),a=this.matchMappings[i],c=g,s=this.regExps[i],s.lastIndex=g);break}if(m)if("string"==typeof f)d&&d.merge===!1||h.type!==f?(h.type&&l.push(h),h={type:f,value:m}):h.value+=m;else if(f){h.type&&l.push(h),h={type:null,value:""};for(var y=0;y<f.length;y++)l.push(f[y])}if(c==e.length)break;if(c=g,p++>r){for(p>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)h.type&&l.push(h),h={value:e.substring(c,c+=2e3),type:"overflow"};i="start",n=[];break}}return h.type&&l.push(h),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:l,state:n.length?n:i}},this.reportError=n.reportError}).call(i.prototype),t.Tokenizer=i}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t){"use strict";var n=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,r,i,o){var a="function"==typeof e?(new e).getRules():e;if(i)for(var s=0;s<i.length;s++)i[s]=t+i[s];else{i=[];for(var u in a)i.push(t+u)}if(this.addRules(a,t),r)for(var l=Array.prototype[o?"push":"unshift"],s=0;s<i.length;s++)l.apply(this.$rules[i[s]],n.deepCopy(r));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(o){var a=i[o];a.processed=!0;for(var s=0;s<a.length;s++){var u=a[s],l=null;Array.isArray(u)&&(l=u,u={}),!u.regex&&u.start&&(u.regex=u.start,u.next||(u.next=[]),u.next.push({defaultToken:u.token},{token:u.token+".end",regex:u.end||u.start,next:"pop"}),u.token=u.token+".start",u.push=!0);var c=u.next||u.push;if(c&&Array.isArray(c)){var p=u.stateName;p||(p=u.token,"string"!=typeof p&&(p=p[0]||""),i[p]&&(p+=r++)),i[p]=c,u.next=p,n(p)}else"pop"==c&&(u.next=t);if(u.push&&(u.nextState=u.next||u.push,u.next=e,delete u.push),u.rules)for(var h in u.rules)i[h]?i[h].push&&i[h].push.apply(i[h],u.rules[h]):i[h]=u.rules[h];var f="string"==typeof u?u:"string"==typeof u.include?u.include:"";if(f&&(l=i[f]),l){var d=[s,1].concat(l);u.noEscape&&(d=d.filter(function(e){return!e.next})),a.splice.apply(a,d),s--}u.keywordMap&&(u.token=this.createKeywordMapper(u.keywordMap,u.defaultToken||"text",u.caseInsensitive),delete u.defaultToken)}}var r=0,i=this.$rules;Object.keys(i).forEach(n,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];n&&(o=o.toLowerCase());for(var a=o.split(r||"|"),s=a.length;s--;)i[a[s]]=t}),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r}),define("ace/mode/behaviour",["require","exports","module"],function(e,t){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n}),define("ace/token_iterator",["require","exports","module"],function(e,t){"use strict";var n=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(n.prototype),t.TokenIterator=n}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t){"use strict";var n,r=e("../../lib/oop"),i=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),s=["text","paren.rparen","punctuation.operator"],u=["text","paren.rparen","punctuation.operator","comment"],l={},c=function(e){var t=-1;return e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount})),l[t]?n=l[t]:void(n=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},p=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},h=function(){this.add("braces","insertion",function(e,t,r,i,o){var s=r.getCursorPosition(),u=i.doc.getLine(s.row);if("{"==o){c(r);var l=r.getSelectionRange(),f=i.doc.getTextRange(l);if(""!==f&&"{"!==f&&r.getWrapBehavioursEnabled())return p(l,f,"{","}");if(h.isSaneInsertion(r,i))return/[\]\}\)]/.test(u[s.column])||r.inMultiSelectMode?(h.recordAutoInsert(r,i,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(r,i,"{"),{text:"{",selection:[1,1]})}else if("}"==o){c(r);var d=u.substring(s.column,s.column+1);if("}"==d){var m=i.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==m&&h.isAutoInsertedClosing(s,u,o))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){c(r);var g="";h.isMaybeInsertedClosing(s,u)&&(g=a.stringRepeat("}",n.maybeInsertedBrackets),h.clearMaybeInsertedClosing());var d=u.substring(s.column,s.column+1);if("}"===d){var v=i.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!v)return null;var y=this.$getIndent(i.getLine(v.row))}else{if(!g)return void h.clearMaybeInsertedClosing();var y=this.$getIndent(u)}var b=y+i.getTabString();return{text:"\n"+b+"\n"+y+g,selection:[1,b.length,1,b.length]}}h.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,r,i,o){var a=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==a){c(r);var s=i.doc.getLine(o.start.row),u=s.substring(o.end.column,o.end.column+1);if("}"==u)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if("("==i){c(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return p(o,a,"(",")");if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){c(n);var s=n.getCursorPosition(),u=r.doc.getLine(s.row),l=u.substring(s.column,s.column+1);if(")"==l){var f=r.$findOpeningBracket(")",{column:s.column+1,row:s.row});if(null!==f&&h.isAutoInsertedClosing(s,u,i))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if(")"==s)return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if("["==i){c(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return p(o,a,"[","]");if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){c(n);var s=n.getCursorPosition(),u=r.doc.getLine(s.row),l=u.substring(s.column,s.column+1);if("]"==l){var f=r.$findOpeningBracket("]",{column:s.column+1,row:s.row});if(null!==f&&h.isAutoInsertedClosing(s,u,i))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if("]"==s)return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){if('"'==i||"'"==i){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;c(n);var o=i,a=n.getSelectionRange(),s=r.doc.getTextRange(a);if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return p(a,s,o,o);if(!s){var u=n.getCursorPosition(),l=r.doc.getLine(u.row),h=l.substring(u.column-1,u.column),f=l.substring(u.column,u.column+1),d=r.getTokenAt(u.row,u.column),m=r.getTokenAt(u.row,u.column+1);if("\\"==h&&d&&/escape/.test(d.type))return null;var g,v=d&&/string|escape/.test(d.type),y=!m||/string|escape/.test(m.type);if(f==o)g=v!==y,g&&/string\.end/.test(m.type)&&(g=!1);else{if(v&&!y)return null;if(v&&y)return null;var b=r.$mode.tokenRe;b.lastIndex=0;var w=b.test(h);b.lastIndex=0;var _=b.test(h);if(w||_)return null;if(f&&!/[\s;,.})\]\\]/.test(f))return null;g=!0}return{text:g?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if(s==o)return i.end.column++,i}})};h.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new o(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",s)){var i=new o(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",s))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",u)},h.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},h.recordAutoInsert=function(e,t,r){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=i.row,n.autoInsertedLineEnd=r+o.substr(i.column),n.autoInsertedBrackets++},h.recordMaybeInsert=function(e,t,r){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=i.row,n.maybeInsertedLineStart=o.substr(0,i.column)+r,n.maybeInsertedLineEnd=o.substr(i.column),n.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(e,t,r){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&r===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(h,i),t.CstyleBehaviour=h}),define("ace/unicode",["require","exports","module"],function(e,t){"use strict";function n(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}t.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})
}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t){"use strict";var n=e("../tokenizer").Tokenizer,r=e("./text_highlight_rules").TextHighlightRules,i=e("./behaviour/cstyle").CstyleBehaviour,o=e("../unicode"),a=e("../lib/lang"),s=e("../token_iterator").TokenIterator,u=e("../range").Range,l=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new i,this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function i(e){for(var t=n;r>=t;t++)e(o.getLine(t),t)}var o=t.doc,s=!0,u=!0,l=1/0,c=t.getTabSize(),p=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var h=this.lineCommentStart.map(a.escapeRegExp).join("|"),f=this.lineCommentStart[0];else var h=a.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;h=new RegExp("^(\\s*)(?:"+h+") ?"),p=t.getUseSoftTabs();var d=function(e,t){var n=e.match(h);if(n){var r=n[1].length,i=n[0].length;y(e,r,i)||" "!=n[0][i-1]||i--,o.removeInLine(t,r,i)}},m=f+" ",g=function(e,t){(!s||/\S/.test(e))&&(y(e,l,l)?o.insertInLine({row:t,column:l},m):o.insertInLine({row:t,column:l},f))},v=function(e){return h.test(e)},y=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%c!=0)return!1;for(var r=0;" "==e.charAt(n++);)r++;return c>2?r%c!=c-1:r%c==0}}else{if(!this.blockComment)return!1;var f=this.blockComment.start,b=this.blockComment.end,h=new RegExp("^(\\s*)(?:"+a.escapeRegExp(f)+")"),w=new RegExp("(?:"+a.escapeRegExp(b)+")\\s*$"),g=function(e,t){v(e,t)||(!s||/\S/.test(e))&&(o.insertInLine({row:t,column:e.length},b),o.insertInLine({row:t,column:l},f))},d=function(e,t){var n;(n=e.match(w))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(h))&&o.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(h.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}var _=1/0;i(function(e,t){var n=e.search(/\S/);-1!==n?(l>n&&(l=n),u&&!v(e,t)&&(u=!1)):_>e.length&&(_=e.length)}),1/0==l&&(l=_,s=!1,u=!1),p&&l%c!=0&&(l=Math.floor(l/c)*c),i(u?d:g)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,a,l=new s(t,r.row,r.column),c=l.getCurrentToken(),p=(t.selection,t.selection.toOrientedRange());if(c&&/comment/.test(c.type)){for(var h,f;c&&/comment/.test(c.type);){var d=c.value.indexOf(i.start);if(-1!=d){var m=l.getCurrentTokenRow(),g=l.getCurrentTokenColumn()+d;h=new u(m,g,m,g+i.start.length);break}c=l.stepBackward()}for(var l=new s(t,r.row,r.column),c=l.getCurrentToken();c&&/comment/.test(c.type);){var d=c.value.indexOf(i.end);if(-1!=d){var m=l.getCurrentTokenRow(),g=l.getCurrentTokenColumn()+d;f=new u(m,g,m,g+i.end.length);break}c=l.stepForward()}f&&t.remove(f),h&&(t.remove(h),o=h.start.row,a=-i.start.length)}else a=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);p.start.row==o&&(p.start.column+=a),p.end.row==o&&(p.end.column+=a),t.selection.fromOrientedRange(p)}},this.getNextLineIndent=function(e,t){return this.$getIndent(t)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}}(this)},this.$delegator=function(e,t,n){var r=t[0];"string"!=typeof r&&(r=r[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var o=r.split(this.$embeds[i]);if(!o[0]&&o[1]){t[0]=o[1];var a=this.$modes[this.$embeds[i]];return a[e].apply(a,t)}}var s=n.apply(this,t);return n?s:void 0},this.transformAction=function(e,t){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var r in n)if(n[r][t]){var i=n[r][t].apply(this,arguments);if(i)return i}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,a=i.length;a>o;o++)if("string"==typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"==typeof i[o].token)for(var s=0,u=i[o].token.length;u>s;s++)if(/keyword|support|storage/.test(i[o].token[s])){var r=i[o].regex.match(/\(.+?\)/g)[s];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){var e=this.$keywordList||this.$createKeywordList();return e.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(l.prototype),t.Mode=l}),define("ace/apply_delta",["require","exports","module"],function(e,t){"use strict";t.applyDelta=function(e,t){var n=t.start.row,r=t.start.column,i=e[n]||"";switch(t.action){case"insert":var o=t.lines;if(1===o.length)e[n]=i.substring(0,r)+t.lines[0]+i.substring(r);else{var a=[n,1].concat(t.lines);e.splice.apply(e,a),e[n]=i.substring(0,r)+e[n],e[n+t.lines.length-1]+=i.substring(r)}break;case"remove":var s=t.end.column,u=t.end.row;n===u?e[n]=i.substring(0,r)+i.substring(s):e.splice(n,u-n+1,i.substring(0,r)+e[u].substring(s))}}}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,i=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var i="insert"==t.action,o=(i?1:-1)*(t.end.row-t.start.row),a=(i?1:-1)*(t.end.column-t.start.column),s=t.start,u=i?s:t.end;return e(n,s,r)?{row:n.row,column:n.column}:e(u,n,!r)?{row:n.row+o,column:n.column+(n.row==u.row?a:0)}:{row:s.row,column:s.column}}n.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>e?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),0>t&&(n.column=0),n}}).call(i.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t){"use strict";var n=e("./lib/oop"),r=e("./apply_delta").applyDelta,i=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=e("./anchor").Anchor,s=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,i),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},this.$split=0==="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:0>e?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,a=n?this.getLine(i).length:0,s=r?t+1:t,u=r?0:this.getLine(s).length,l=new o(i,a,s,u),c=this.$lines.slice(e,t+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),c},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;return n=t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),r(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length,i=e.start.row,o=e.start.column,a=0,s=0;;){a=s,s+=t-1;var u=n.slice(a,s);if(s>r){e.lines=u,e.start.row=i+a,e.start.column=o;break}u.push(""),this.applyDelta({start:this.pos(i+a,o),end:this.pos(i+s,o=0),action:e.action,lines:u},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;o>i;i++)if(e-=n[i].length+r,0>e)return{row:i,column:e+n[i].length+r};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),a=t||0;o>a;++a)i+=n[a].length+r;return i+e.column}}).call(s.prototype),t.Document=s}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,i=function(e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,r=-1,i=t.doc,o=n;t.lines[n];)n++;var a=i.getLength(),s=0;for(t.running=!1;a>n;){t.$tokenizeRow(n),r=n;do n++;while(t.lines[n]);if(s++,s%5===0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,r>=o&&t.fireUpdateEvent(o,r)}}};(function(){n.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(i.prototype),t.BackgroundTokenizer=i}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){"use strict";var n=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),i=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,o){if(this.regExp)for(var a=o.firstRow,s=o.lastRow,u=a;s>=u;u++){var l=this.cache[u];null==l&&(l=n.getMatchOffsets(i.getLine(u),this.regExp),l.length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map(function(e){return new r(u,e.offset,u,e.offset+e.length)}),this.cache[u]=l.length?l:"");for(var c=l.length;c--;)t.drawSingleLineMarker(e,l[c].toScreenRange(i),this.clazz,o)}}}).call(i.prototype),t.SearchHighlight=i}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t){"use strict";function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o,a=0,s=this.folds,u=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(r=s[l],i=r.range.compareStart(t,n),-1==i)return void e(null,t,n,a,u);if(o=e(null,r.start.row,r.start.column,a,u),o=!o&&e(r.placeholder,r.start.row,r.start.column,a),o||0===i)return;u=!r.sameRow,a=r.end.column}e(null,t,n,a,u)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(n=this.folds[i],r=n.range.compareEnd(e,t),-1==r)return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){i=this.folds;var a=i.indexOf(r);for(0===a&&(this.start.column+=n),a;a<i.length;a++){if(r=i[a],r.start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var r=this.getNextFoldTo(e,t);if(!r||"inside"==r.kind)return null;var i=r.fold,o=this.folds,a=this.foldData,s=o.indexOf(i),u=o[s-1];this.end.row=u.end.row,this.end.column=u.end.column,o=o.splice(s,o.length-s);var l=new n(a,o);return a.splice(a.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if(e-=r.start.column-t,0>e)return{row:r.start.row,column:r.start.column+e};if(e-=r.placeholder.length,0>e)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(n.prototype),t.FoldLine=n}),define("ace/range_list",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("./range").Range,r=n.comparePoints,i=function(){this.ranges=[]};(function(){this.comparePoints=r,this.pointIndex=function(e,t,n){for(var i=this.ranges,o=n||0;o<i.length;o++){var a=i[o],s=r(e,a.end);if(!(s>0)){var u=r(e,a.start);return 0===s?t&&0!==u?-o-2:o:u>0||0===u&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);0>n&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return 0>r?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges.splice(t,1):void 0},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return r(e.start,t.start)});for(var n,i=t[0],o=1;o<t.length;o++){n=i,i=t[o];var a=r(n.end,i.start);0>a||(0!=a||n.isEmpty()||i.isEmpty())&&(r(n.end,i.end)<0&&(n.end.row=i.end.row,n.end.column=i.end.column),t.splice(o,1),e.push(i),i=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges[t]:void 0},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});0>r&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);0>i&&(i=-i-1);for(var o=[],a=r;i>a;a++)o.push(n[a]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else var n=e.start,t=e.end;for(var r=t.row,i=n.row,o=i-r,a=-t.column+n.column,s=this.ranges,u=0,l=s.length;l>u;u++){var c=s[u];if(!(c.end.row<r)){if(c.start.row>r)break;if(c.start.row==r&&c.start.column>=t.column&&(c.start.column==t.column&&this.$insertRight||(c.start.column+=a,c.start.row+=o)),c.end.row==r&&c.end.column>=t.column){if(c.end.column==t.column&&this.$insertRight)continue;c.end.column==t.column&&a>0&&l-1>u&&c.end.column>c.start.column&&c.end.column==s[u+1].start.column&&(c.end.column-=a),c.end.column+=a,c.end.row+=o}}}if(0!=o&&l>u)for(;l>u;u++){var c=s[u];c.start.row+=o,c.end.row+=o}}}).call(i.prototype),t.RangeList=i}),define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t){"use strict";function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function r(e,t){n(e.start,t),n(e.end,t)}function i(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function o(e,t){i(e.start,t),i(e.end,t)}var a=(e("../range").Range,e("../range_list").RangeList),s=e("../lib/oop"),u=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};s.inherits(u,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new u(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);r(e,this.start);for(var t=e.start.row,n=e.start.column,i=0,o=-1;i<this.subFolds.length&&(o=this.subFolds[i].range.compare(t,n),1==o);i++);var a=this.subFolds[i];if(0==o)return a.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,s=i,o=-1;s<this.subFolds.length&&(o=this.subFolds[s].range.compare(t,n),1==o);s++);{this.subFolds[s]}if(0==o)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);{this.subFolds.splice(i,s-i,e)}return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return o(e,this.start)}}.call(u.prototype)}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t){"use strict";function n(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var a=i[o];if(a.range.contains(e,t)){if(1==n&&a.range.isEnd(e,t))continue;if(-1==n&&a.range.isStart(e,t))continue;return a}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var a=r[o].range.compareRange(e);if(2!=a){if(-2==a)break;for(var s=r[o].folds,u=0;u<s.length;u++){var l=s[u];if(a=l.range.compareRange(e),-2==a)break;if(2!=a){if(42==a)break;i.push(l)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(r=r||this.getFoldLine(e),!r)return null;for(var i,o,a={end:{column:0}},s=0;s<r.folds.length;s++){o=r.folds[s];var u=o.range.compareEnd(e,t);if(-1==u){i=this.getLine(o.start.row).substring(a.end.column,o.start.column);break}if(0===u)return null;a=o}return i||(i=this.getLine(o.start.row).substring(a.end.column)),-1==n?i.substring(0,t-a.end.column):1==n?i.substring(t-a.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],a=o.end.row,s=o.start.row;if(a>=t){t>s&&(s>=e?r-=t-s:r=0);break}a>=e&&(r-=s>=e?a-s:a-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,r=this.$foldData,a=!1;e instanceof o?n=e:(n=new o(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var s=n.start.row,u=n.start.column,l=n.end.row,c=n.end.column;if(!(l>s||s==l&&c-2>=u))throw new Error("The range has to be at least 2 characters width");var p=this.getFoldAt(s,u,1),h=this.getFoldAt(l,c,-1);if(p&&h==p)return p.addSubFold(n);p&&!p.range.isStart(s,u)&&this.removeFold(p),h&&!h.range.isEnd(l,c)&&this.removeFold(h);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach(function(e){n.addSubFold(e)}));for(var d=0;d<r.length;d++){var m=r[d];if(l==m.start.row){m.addFold(n),a=!0;break}if(s==m.end.row){if(m.addFold(n),a=!0,!n.sameRow){var g=r[d+1];if(g&&g.start.row==l){m.merge(g);break}}break}if(l<=m.start.row)break}return a||(m=this.$addFoldLine(new i(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var a=t.split(e.start.row,e.start.column);o=a.folds,o.shift(),a.start.row=o[0].start.row,a.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,i;if(null==e?(n=new r(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new r(e,0,e,this.getLine(e).length):"row"in e?r.fromPoints(e,e):e,i=this.getFoldsInRangeList(n),t)this.removeFolds(i);else for(var o=i;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);return i.length?i:void 0},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,a="";return e.walk(function(e,t,n,s){if(!(r>t)){if(t==r){if(i>n)return;s=Math.max(i,s)}a+=null!=e?e:o.getLine(t).substring(s,n)}},t,n),a},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(i)return this.getFoldDisplayLine(i,e,t,n,r);var o;return o=this.doc.getLine(e),o.substring(r||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new i(e,n)})},this.toggleFold=function(e){var t,n,r=this.selection,i=r.getRange();if(i.isEmpty()){var o=i.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);(n=this.findMatchingBracket(o))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(o.row,o.column)||i}else{var a=this.getFoldsInRange(i);if(e&&a.length)return void this.expandFolds(a);1==a.length&&(t=a[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())return void this.expandFold(t);var s="...";if(!i.isMultiLine()){if(s=this.getTextRange(i),s.length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)},this.getCommentFoldRange=function(e,t,n){var i=new a(this,e,t),o=i.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var s=new r,u=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do o=i.stepBackward();while(o&&u.test(o.type));i.stepForward()}if(s.start.row=i.getCurrentTokenRow(),s.start.column=i.getCurrentTokenColumn()+2,i=new a(this,e,t),-1!=n){do o=i.stepForward();while(o&&u.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return s.end.row=i.getCurrentTokenRow(),s.end.column=i.getCurrentTokenColumn()+o.value.length-2,s}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength(),e=e||0;for(var i=e;t>i;i++)if(null==r[i]&&(r[i]=this.getFoldWidget(i)),"start"==r[i]){var o=this.getFoldWidgetRange(i);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){i=o.end.row;try{var a=this.addFold("...",o);a&&(a.collapseChildren=n)}catch(s){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)
}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var a=this.getFoldWidgetRange(i);if(r||(r=a),a&&a.end.row>=e)break}i--}return{range:-1!==i&&a,firstRange:r}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,-1===i?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var a=this.getFoldWidgetRange(e,!0);if(a&&!a.isMultiLine()&&(o=this.getFoldAt(a.start.row,a.start.column,1),o&&a.isEqual(o.range)))return this.removeFold(o),o;if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var u=s.range.start.row+1,l=s.range.end.row;this.foldAll(u,l,t.all?1e4:0)}else t.children?(l=a?a.end.row:this.getLength(),this.foldAll(e+1,l,t.all?1e4:0)):a&&(t.all&&(a.collapseChildren=1e4),this.addFold("...",a));return a}},this.toggleFoldWidget=function(){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var t=this.$toggleFoldWidget(e,{});if(!t){var n=this.getParentFoldRangeData(e,!0);if(t=n.range||n.firstRange){e=t.start.row;var r=this.getFoldAt(e,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",t)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var r=e("../range").Range,i=e("./fold_line").FoldLine,o=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=n}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t){"use strict";function n(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,o=n.charAt(e.column-1),a=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(a||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},a=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!a)return null;if(a[1]){var s=this.$findClosingBracket(a[1],e);if(!s)return null;t=i.fromPoints(e,s),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var s=this.$findOpeningBracket(a[2],e);if(!s)return null;t=i.fromPoints(s,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],o=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var u=t.column-a.getCurrentTokenColumn()-2,l=s.value;;){for(;u>=0;){var c=l.charAt(u);if(c==i){if(o-=1,0==o)return{row:a.getCurrentTokenRow(),column:u+a.getCurrentTokenColumn()}}else c==e&&(o+=1);u-=1}do s=a.stepBackward();while(s&&!n.test(s.type));if(null==s)break;l=s.value,u=l.length-1}return null}},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],o=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var u=t.column-a.getCurrentTokenColumn();;){for(var l=s.value,c=l.length;c>u;){var p=l.charAt(u);if(p==i){if(o-=1,0==o)return{row:a.getCurrentTokenRow(),column:u+a.getCurrentTokenColumn()}}else p==e&&(o+=1);u+=1}do s=a.stepForward();while(s&&!n.test(s.type));if(null==s)break;u=0}return null}}}var r=e("../token_iterator").TokenIterator,i=e("../range").Range;t.BracketMatch=n}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),i=e("./config"),o=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,s=e("./mode/text").Mode,u=e("./range").Range,l=e("./document").Document,c=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,h=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++h.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new l(e)),this.setDocument(e),this.selection=new a(this),i.resetOptions(this),this.setMode(t),i._signal("session",this)};(function(){function e(e){return 4352>e?!1:e>=4352&&4447>=e||e>=4515&&4519>=e||e>=4602&&4607>=e||e>=9001&&9002>=e||e>=11904&&11929>=e||e>=11931&&12019>=e||e>=12032&&12245>=e||e>=12272&&12283>=e||e>=12288&&12350>=e||e>=12353&&12438>=e||e>=12441&&12543>=e||e>=12549&&12589>=e||e>=12593&&12686>=e||e>=12688&&12730>=e||e>=12736&&12771>=e||e>=12784&&12830>=e||e>=12832&&12871>=e||e>=12880&&13054>=e||e>=13056&&19903>=e||e>=19968&&42124>=e||e>=42128&&42182>=e||e>=43360&&43388>=e||e>=44032&&55203>=e||e>=55216&&55238>=e||e>=55243&&55291>=e||e>=63744&&64255>=e||e>=65040&&65049>=e||e>=65072&&65106>=e||e>=65108&&65126>=e||e>=65128&&65131>=e||e>=65281&&65376>=e||e>=65504&&65510>=e}n.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;r>=n;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(o>t))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t)o=r.length-1,i=this.getLine(e).length;else for(var o=0;o<r.length&&(i+=r[o].value.length,!(i>=t));o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new u(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var o=t;if(o>0){do o--;while(o>=0&&n.charAt(o).match(i));o++}for(var a=t;a<n.length&&n.charAt(a).match(i);)a++;return new u(e,o,e,a)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new s),this.$modes[r]&&!n?(this.$onChangeMode(this.$modes[r]),void(t&&t())):(this.$modeId=r,i.loadModule(["mode",r],function(e){return this.$modeId!==r?t&&t():(this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),void(t&&t()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new c(n);var i=this;this.bgTokenizer.addEventListener("update",function(e){i._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){i.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],a=o?o.start.row:1/0,s=t.length,u=0;s>u;u++){if(u>a){if(u=o.end.row+1,u>=s)break;o=this.$foldData[i++],a=o?o.start.row:1/0}null==n[u]&&(n[u]=this.$getStringScreenWidth(t[u])[0]),n[u]>r&&(r=n[u])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=e.length-1;-1!=r;r--){var i=e[r];"doc"==i.group?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=0;r<e.length;r++){var i=e[r];"doc"==i.group&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){return t?"insert"!==e.action:"insert"===e.action}var i,o,a=e[0],s=!1;r(a)?(i=u.fromPoints(a.start,a.end),s=!0):(i=u.fromPoints(a.start,a.start),s=!1);for(var l=1;l<e.length;l++)a=e[l],r(a)?(o=a.start,-1==i.compare(o.row,o.column)&&i.setStart(o),o=a.end,1==i.compare(o.row,o.column)&&i.setEnd(o),s=!0):(o=a.start,-1==i.compare(o.row,o.column)&&(i=u.fromPoints(a.start,a.start)),s=!1);if(null!=n){0===u.comparePoints(n.start,i.start)&&(n.start.column+=i.end.column-i.start.column,n.end.column+=i.end.column-i.start.column);var c=n.compareRange(i);1==c?i.setStart(n.start):-1==c&&i.setEnd(n.end)}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var a=e.start.row-e.end.row,s=a?-e.end.column:e.start.column-e.end.column;s&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=s),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=s)),a&&o.start.row>=e.end.row&&(o.start.row+=a,o.end.row+=a)}if(o.end=this.insert(o.start,r),i.length){var l=e.start,c=o.start,a=c.row-l.row,s=c.column-l.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=s),e.end.row==l.row&&(e.end.column+=s),e.start.row+=a,e.end.row+=a,e}))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;t>=r;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var a=0;r>a&&" "==o.charAt(a);++a);r>a&&"	"==o.charAt(a)?(n.start.column=a,n.end.column=a+1):(n.start.column=0,n.end.column=a),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),0>n){var r=this.getRowFoldStart(e+n);if(0>r)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var o=new u(e,0,t,Number.MAX_VALUE),a=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,s),a.length&&this.addFolds(a),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return 0>t?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),0>e)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,a=i.row,s=a-o,u=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,s);var l=this.$foldData;u=this.getFoldsInRange(e),this.removeFolds(u);var c=this.getFoldLine(i.row),p=0;if(c){c.addRemoveChars(i.row,i.column,r.column-i.column),c.shiftRow(-s);var h=this.getFoldLine(o);h&&h!==c&&(h.merge(c),c=h),p=l.indexOf(c)+1}for(p;p<l.length;p++){var c=l[p];c.start.row>=i.row&&c.shiftRow(-s)}a=o}else{var f=Array(s);f.unshift(o,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,f);var l=this.$foldData,c=this.getFoldLine(o),p=0;if(c){var m=c.range.compareInside(r.row,r.column);0==m?(c=c.split(r.row,r.column),c&&(c.shiftRow(s),c.addRemoveChars(a,0,i.column-r.column))):-1==m&&(c.addRemoveChars(o,0,i.column-r.column),c.shiftRow(s)),p=l.indexOf(c)+1}for(p;p<l.length;p++){var c=l[p];c.start.row>=o&&c.shiftRow(s)}}else{s=Math.abs(e.start.column-e.end.column),"remove"===n&&(u=this.getFoldsInRange(e),this.removeFolds(u),s=-s);var c=this.getFoldLine(o);c&&c.addRemoveChars(o,r.column,s)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,a):this.$updateRowLengthCache(o,a),u},this.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,r,i=this.doc.getAllLines(),o=this.getTabSize(),a=this.$wrapData,s=this.$wrapLimit,u=e;for(t=Math.min(t,i.length-1);t>=u;)r=this.getFoldLine(u,r),r?(n=[],r.walk(function(e,t,r,o){var a;if(null!=e){a=this.$getDisplayTokens(e,n.length),a[0]=l;for(var s=1;s<a.length;s++)a[s]=h}else a=this.$getDisplayTokens(i[t].substring(o,r),n.length);n=n.concat(a)}.bind(this),r.end.row,i[r.end.row].length+1),a[r.start.row]=this.$computeWrapSplits(n,s,o),u=r.end.row+1):(n=this.$getDisplayTokens(i[u]),a[u]=this.$computeWrapSplits(n,s,o),u++)};var t=1,a=2,l=3,h=4,f=9,d=10,m=11,g=12;this.$computeWrapSplits=function(e,t,n){function r(){var t=0;if(0===y)return t;if(v)for(var r=0;r<e.length;r++){var i=e[r];if(i==d)t+=1;else{if(i!=m){if(i==g)continue;break}t+=n}}return p&&v!==!1&&(t+=n),Math.min(t,y)}function i(t){var n=e.slice(u,t),i=n.length;n.join("").replace(/12/g,function(){i-=1}).replace(/2/g,function(){i-=1}),o.length||(b=r(),o.indent=b),c+=i,o.push(c),u=t}if(0==e.length)return[];for(var o=[],s=e.length,u=0,c=0,p=this.$wrapAsCode,v=this.$indentedSoftWrap,y=t<=Math.max(2*n,8)||v===!1?0:Math.floor(t/2),b=0;s-u>t-b;){var w=u+t-b;if(e[w-1]>=d&&e[w]>=d)i(w);else if(e[w]!=l&&e[w]!=h){for(var _=Math.max(w-(t-(t>>2)),u-1);w>_&&e[w]<l;)w--;if(p){for(;w>_&&e[w]<l;)w--;for(;w>_&&e[w]==f;)w--}else for(;w>_&&e[w]<d;)w--;w>_?i(++w):(w=u+t,e[w]==a&&w--,i(w-b))}else{for(w;w!=u-1&&e[w]!=l;w--);if(w>u){i(w);continue}for(w=u+t;w<e.length&&e[w]==h;w++);if(w==e.length)break;i(w)}}return o},this.$getDisplayTokens=function(n,r){var i,o=[];r=r||0;for(var s=0;s<n.length;s++){var u=n.charCodeAt(s);if(9==u){i=this.getScreenTabSize(o.length+r),o.push(m);for(var l=1;i>l;l++)o.push(g)}else 32==u?o.push(d):u>39&&48>u||u>57&&64>u?o.push(f):u>=4352&&e(u)?o.push(t,a):o.push(t)}return o},this.$getStringScreenWidth=function(t,n,r){if(0==n)return[0,0];null==n&&(n=1/0),r=r||0;var i,o;for(o=0;o<t.length&&(i=t.charCodeAt(o),r+=9==i?this.getScreenTabSize(r):i>=4352&&e(i)?2:1,!(r>n));o++);return[r,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(0>e)return{row:0,column:0};var n,r,i=0,o=0,a=0,s=0,u=this.$screenRowCache,l=this.$getRowCacheIndex(u,e),c=u.length;if(c&&l>=0)var a=u[l],i=this.$docRowCache[l],p=e>u[c-1];else var p=!c;for(var h=this.getLength()-1,f=this.getNextFoldLine(i),d=f?f.start.row:1/0;e>=a&&(s=this.getRowLength(i),!(a+s>e||i>=h));)a+=s,i++,i>d&&(i=f.end.row+1,f=this.getNextFoldLine(i,f),d=f?f.start.row:1/0),p&&(this.$docRowCache.push(i),this.$screenRowCache.push(a));if(f&&f.start.row<=i)n=this.getFoldDisplayLine(f),i=f.start.row;else{if(e>=a+s||i>h)return{row:h,column:this.getLine(h).length};n=this.getLine(i),f=null}var m=0;if(this.$useWrapMode){var g=this.$wrapData[i];if(g){var v=Math.floor(e-a);r=g[v],v>0&&g.length&&(m=g.indent,o=g[v-1]||g[g.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,t-m)[1],this.$useWrapMode&&o>=r&&(o=r-1),f?f.idxToPosition(o):{row:i,column:o}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var a,s=0,u=this.$docRowCache,l=this.$getRowCacheIndex(u,e),c=u.length;if(c&&l>=0)var s=u[l],r=this.$screenRowCache[l],p=e>u[c-1];else var p=!c;for(var h=this.getNextFoldLine(s),f=h?h.start.row:1/0;e>s;){if(s>=f){if(a=h.end.row+1,a>e)break;h=this.getNextFoldLine(a,h),f=h?h.start.row:1/0}else a=s+1;r+=this.getRowLength(s),s=a,p&&(this.$docRowCache.push(s),this.$screenRowCache.push(r))}var d="";h&&s>=f?(d=this.getFoldDisplayLine(h,e,t),i=h.start.row):(d=this.getLine(e).substring(0,t),i=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[i];if(g){for(var v=0;d.length>=g[v];)r++,v++;d=d.substring(g[v-1]||0,d.length),m=v>0?g.indent:0}}return{row:r,column:m+this.$getStringScreenWidth(d)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=0,t=this.$foldData[i++],o=t?t.start.row:1/0;n>r;){var a=this.$wrapData[r];e+=a?a.length+1:1,r++,r>o&&(r=t.end.row+1,t=this.$foldData[i++],o=t?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,i=0;i<s.length;i++)t=s[i],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];n||(n=1/0),r=r||0;var i,o;for(o=0;o<t.length&&(i=t.charAt(o),r+="	"===i?this.getScreenTabSize(r):e.getCharacterWidth(i),!(r>n));o++);return[r,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(h.prototype),e("./edit_session/folding").Folding.call(h.prototype),e("./edit_session/bracket_match").BracketMatch.call(h.prototype),i.defineOptions(h.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=h}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){"use strict";function n(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}var r=e("./lib/lang"),i=e("./lib/oop"),o=e("./range").Range,a=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,i){if(e.start)r=e;else{var a=e.offset+(i||0);if(r=new o(n,a,n,a+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))return r=null,!1}return!0}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),a=[],s=t.re;if(t.$isMultiLine){var u,l=s.length,c=i.length-l;e:for(var p=s.offset||0;c>=p;p++){for(var h=0;l>h;h++)if(-1==i[p+h].search(s[h]))continue e;var f=i[p],d=i[p+l-1],m=f.length-f.match(s[0])[0].length,g=d.match(s[l-1])[0].length;u&&u.end.row===p&&u.end.column>m||(a.push(u=new o(p,m,p+l-1,g)),l>2&&(p=p+l-2))}}else for(var v=0;v<i.length;v++)for(var y=r.getMatchOffsets(i[v],s),h=0;h<y.length;h++){var b=y[h];a.push(new o(v,b.offset,v,b.offset+b.length))}if(n){for(var w=n.start.column,_=n.start.column,v=0,h=a.length-1;h>v&&a[v].start.column<w&&a[v].start.row==n.start.row;)v++;for(;h>v&&a[h].end.column>_&&a[h].end.row==n.end.row;)h--;for(a=a.slice(v,h+1),v=0,h=a.length;h>v;v++)a[v].start.row+=n.start.row,a[v].end.row+=n.start.row
}return a},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var a=e[o];t[o]=a&&a.toLowerCase()!=a?t[o].toUpperCase():t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i;if(t.$isMultiLine)var a=n.length,s=function(t,r,s){var u=t.search(n[0]);if(-1!=u){for(var l=1;a>l;l++)if(t=e.getLine(r+l),-1==t.search(n[l]))return;var c=t.match(n[a-1])[0].length,p=new o(r,u,r+a-1,c);return 1==n.offset?(p.start.row--,p.start.column=Number.MAX_VALUE):s&&(p.start.column+=s),i(p)?!0:void 0}};else if(t.backwards)var s=function(e,t,o){for(var a=r.getMatchOffsets(e,n),s=a.length-1;s>=0;s--)if(i(a[s],t,o))return!0};else var s=function(e,t,o){for(var a=r.getMatchOffsets(e,n),s=0;s<a.length;s++)if(i(a[s],t,o))return!0};var u=this.$lineIterator(e,t);return{forEach:function(e){i=e,u.forEach(s)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=r.escapeRegExp(i)),e.wholeWord&&(i=n(i,e));var o=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,o);try{var a=new RegExp(i,o)}catch(s){a=!1}return e.re=a},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(o){return!1}return""==n[0]?(r.shift(),r.offset=1):r.offset=0,r},this.$lineIterator=function(e,t){var n=1==t.backwards,r=0!=t.skipCurrent,i=t.range,o=t.start;o||(o=i?i[n?"end":"start"]:e.selection.getRange()),o.start&&(o=o[r!=n?"end":"start"]);var a=i?i.start.row:0,s=i?i.end.row:e.getLength()-1,u=n?function(n){var r=o.row,i=e.getLine(r).substring(0,o.column);if(!n(i,r)){for(r--;r>=a;r--)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=s,a=o.row;r>=a;r--)if(n(e.getLine(r),r))return}}:function(n){var r=o.row,i=e.getLine(r).substr(o.column);if(!n(i,r,o.column)){for(r+=1;s>=r;r++)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=a,s=o.row;s>=r;r++)if(n(e.getLine(r),r))return}};return{forEach:u}}}).call(a.prototype),t.Search=a}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){"use strict";function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function r(e,t){n.call(this,e,t),this.$singleCommand=!1}var i=e("../lib/keys"),o=e("../lib/useragent"),a=i.KEY_MODS;r.prototype=n.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var a=o.indexOf(e);-1!=a&&(o.splice(a,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){return"object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e?"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var o=this.parseKeys(e),s=a[o.hashId]+o.key;this._addCommandToBinding(r+s,t,n)},this):void 0},this._addCommandToBinding=function(t,n,r){var i,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(i=o[t].indexOf(n))&&o[t].splice(i,1):o[t]=[o[t]],"number"!=typeof r&&(r=r||n.isDefault?-100:e(n));var a=o[t];for(i=0;i<a.length;i++){var s=a[i],u=e(s);if(u>r)break}a.splice(i,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,a=t.length;a--;){var s=i.KEY_MODS[t[a]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[a]+" in "+e),!1;o|=s}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(0>r)){var i=a[t]+n,o=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:o}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=r}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,i=e("../lib/event_emitter").EventEmitter,o=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(o,r),function(){n.implement(this,i),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),i.returnValue===!1?!1:!0},this.toggleRecording=function(e){return this.$inReplay?void 0:(e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t){"use strict";function n(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),i=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","F4"),exec:function(e){i.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){return e.selection.isEmpty()?void e.remove("left"):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),a=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()),u=s.replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=i.row+1;c++){var p=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));0!==p.length&&(p=" "+p),l+=p}i.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),l),u>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+u)):(a=e.session.doc.getLine(n.row).length>a?a+1:a,e.selection.moveCursorTo(n.row,a))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var a=0;a<r.length;a++)a==r.length-1&&(r[a].end.row!==t||r[a].end.column!==n)&&i.push(new o(r[a].end.row,r[a].end.column,t,n)),0===a?(0!==r[a].start.row||0!==r[a].start.column)&&i.push(new o(0,0,r[a].start.row,r[a].start.column)):i.push(new o(r[a-1].end.row,r[a-1].end.column,r[a].start.row,r[a].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var a=0;a<i.length;a++)e.selection.addRange(i[a],!1)},readOnly:!0,scrollIntoView:"none"}]}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/oop"),r=e("./lib/dom"),i=e("./lib/lang"),o=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,s=e("./mouse/mouse_handler").MouseHandler,u=e("./mouse/fold_handler").FoldHandler,l=e("./keyboard/keybinding").KeyBinding,c=e("./edit_session").EditSession,p=e("./search").Search,h=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,d=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,g=e("./config"),v=e("./token_iterator").TokenIterator,y=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new d(o.isMac?"mac":"win",m),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new l(this),this.$mouseHandler=new s(this),new u(this),this.$blockScrolling=0,this.$search=(new p).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=i.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new c("")),g.resetOptions(this),g._signal("editor",this)};(function(){n.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=i.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;g.loadModule(["keybinding",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new h(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new v(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==i.type.indexOf("tag-open")||(i=r.stepForward())){var o=i.value,a=0,s=r.stepBackward();if("<"==s.value){do s=i,i=r.stepForward(),i&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--);while(i&&a>=0)}else{do i=s,s=r.stepBackward(),i&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--);while(s&&0>=a);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var u=r.getCurrentTokenRow(),l=r.getCurrentTokenColumn(),c=new h(u,l,u,l+i.value.length),p=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=p&&0!==c.compareRange(p.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),c&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(c,"ace_bracket","text"))
}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(g.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new h(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),o=i.length,a=i.substring(Math.max(n,0),Math.min(r,o));if(!(n>=0&&/^[\w\d]/.test(a)||o>=r&&/[\w\d]$/.test(a))&&(a=i.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(a))){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:a});return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var i=r.length;i--;){var o=r[i];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[i])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("	"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var a=new h.fromPoints(i,i);a.end.column+=e.length,this.session.remove(a)}}else{var a=this.getSelectionRange();i=this.session.remove(a),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(i.row);if(i.column>s.search(/\S|$/)){var u=s.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+u)}}this.clearSelection();{var l=i.column,c=n.getState(i.row),s=n.getLine(i.row),p=r.checkOutdent(c,s,e);n.insert(i,e)}if(o&&o.selection&&this.selection.setSelectionRange(2==o.selection.length?new h(i.row,l+o.selection[0],i.row,l+o.selection[1]):new h(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3])),n.getDocument().isNewLine(e)){var f=r.getNextLineIndent(c,s.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},f)}p&&r.autoOutdent(c,n,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var a=n.getLine(t.end.row);/^\s+$/.test(a)&&(t.end.column=a.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new h(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new h(e.row,t-2,e.row,t)),this.session.replace(r,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"	")}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\s+$/.test(r)){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"	")}}var o=e.getLine(t.start.row),a=t.start,s=e.getTabSize(),u=e.documentToScreenColumn(a.row,a.column);if(this.session.getUseSoftTabs())var l=s-u%s,c=i.stringRepeat(" ",l);else{for(var l=u%s;" "==o[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="	"}return this.insert(c)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var r=new h(0,0,0,0),i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var o={value:i[0],start:i.index,end:i.index+i[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new h(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var a=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,s=o.start+o.value.length-a,u=parseFloat(o.value);u*=Math.pow(10,s),e*=a!==o.end&&a>n?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n),u+=e,u/=Math.pow(10,s);var l=u.toFixed(s),c=new h(t,o.start,t,o.end);this.session.replace(c,l),this.moveCursorTo(t,Math.max(o.start+1,n+l.length-o.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,a=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=a,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var a=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,u=0,l=a.length,c=0;l>c;c++){var p=c;a[c].moveBy(s,0),n=this.$getSelectedRows(a[c]);for(var h=n.first,f=n.last;++c<l;){u&&a[c].moveBy(u,0);var d=this.$getSelectedRows(a[c]);if(t&&d.first!=f)break;if(!t&&d.first>f+1)break;f=d.last}for(c--,s=this.session.$moveLines(h,f,t?0:e),t&&-1==e&&(p=c+1);c>=p;)a[p].moveBy(s,0),p++;t||(s=0),u+=s}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new v(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var a,s,u=!1,l={},c=n.column-o.start,p={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;c<o.value.length&&!u;c++)if(p[o.value[c]])switch(s=p[o.value[c]]+"."+o.type.replace("rparen","lparen"),isNaN(l[s])&&(l[s]=0),o.value[c]){case"(":case"[":case"{":l[s]++;break;case")":case"]":case"}":l[s]--,-1===l[s]&&(a="bracket",u=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(l[o.value])&&(l[o.value]=0),"<"===i.value?l[o.value]++:"</"===i.value&&l[o.value]--,-1===l[o.value]&&(a="tag",u=!0));u||(i=o,o=r.stepForward(),c=0)}while(o&&!u);if(a){var f,d;if("bracket"===a)f=this.session.getBracketRange(n),f||(f=new h(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+c-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+c-1),d=f.start,(t||d.row===n.row&&Math.abs(d.column-n.column)<2)&&(f=this.session.getBracketRange(d)));else if("tag"===a){if(!o||-1===o.type.indexOf("tag-name"))return;var m=o.value;if(f=new h(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2),0===f.compare(n.row,n.column)){u=!1;do o=i,i=r.stepBackward(),i&&(-1!==i.type.indexOf("tag-close")&&f.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf("tag-name")&&("<"===i.value?l[m]++:"</"===i.value&&l[m]--,0===l[m]&&(u=!0)));while(i&&!u)}o&&o.type.indexOf("tag-name")&&(d=f.start,d.row==n.row&&Math.abs(d.column-n.column)<2&&(d=f.end))}d=f&&f.cursor||d,d&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(d.row,d.column):this.selection.moveTo(d.row,d.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,r){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var i=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,r),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",function(){r=!0}),a=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),s=this.renderer.on("afterRender",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,a=e.layerConfig,s=o.top-a.offset;r=o.top>=0&&s+t.top<0?!0:o.top<a.height&&o.top+t.top+a.lineHeight>window.innerHeight?!1:null,null!=r&&(i.style.top=s+"px",i.style.left=o.left+"px",i.style.height=a.lineHeight+"px",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",a))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(y.prototype),g.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y}),define("ace/undomanager",["require","exports","module"],function(e,t){"use strict";var n=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){for(var i=e[r],o={group:i.group,deltas:new Array(i.length)},a=0;a<i.deltas.length;a++){var s=i.deltas[a];o.deltas[a]=t(s)}n[r]=o}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=0/0),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(n.prototype),t.UndoManager=n}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/dom"),r=e("../lib/oop"),i=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,o=this.$annotations[r];o||(o=this.$annotations[r]={text:[]});var a=n.text;a=a?i.escapeHTML(a):n.html||"",-1===o.text.indexOf(a)&&o.text.push(a);var s=n.type;"error"==s?o.className=" ace_error":"warning"==s&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=s||o.className||(o.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){for(var t=this.session,r=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(r),a=o?o.start.row:1/0,s=this.$showFoldWidgets&&t.foldWidgets,u=t.$breakpoints,l=t.$decorations,c=t.$firstLineNumber,p=0,h=t.gutterRenderer||this.$renderer,f=null,d=-1,m=r;;){if(m>a&&(m=o.end.row+1,o=t.getNextFoldLine(m,o),a=o?o.start.row:1/0),m>i){for(;this.$cells.length>d+1;)f=this.$cells.pop(),this.element.removeChild(f.element);break}f=this.$cells[++d],f||(f={element:null,textNode:null,foldWidget:null},f.element=n.createElement("div"),f.textNode=document.createTextNode(""),f.element.appendChild(f.textNode),this.element.appendChild(f.element),this.$cells[d]=f);var g="ace_gutter-cell ";u[m]&&(g+=u[m]),l[m]&&(g+=l[m]),this.$annotations[m]&&(g+=this.$annotations[m].className),f.element.className!=g&&(f.element.className=g);var v=t.getRowLength(m)*e.lineHeight+"px";if(v!=f.element.style.height&&(f.element.style.height=v),s){var y=s[m];null==y&&(y=s[m]=t.getFoldWidget(m))}if(y){f.foldWidget||(f.foldWidget=n.createElement("span"),f.element.appendChild(f.foldWidget));var g="ace_fold-widget ace_"+y;g+="start"==y&&m==a&&m<o.end.row?" ace_closed":" ace_open",f.foldWidget.className!=g&&(f.foldWidget.className=g);var v=e.lineHeight+"px";f.foldWidget.style.height!=v&&(f.foldWidget.style.height=v)}else f.foldWidget&&(f.element.removeChild(f.foldWidget),f.foldWidget=null);var b=p=h?h.getText(t,m):m+c;b!=f.textNode.data&&(f.textNode.data=b),m++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(p=t.getLength()+c);var w=h?h.getWidth(t,p,e):p.toString().length*e.characterWidth,_=this.$padding||this.$computePadding();w+=_.left+_.right,w===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t){"use strict";var n=e("../range").Range,r=e("../lib/dom"),i=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);
if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),a=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,a,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,r,i,o,a){for(var s=this.session,u=r.start.row,l=r.end.row,c=u,p=0,h=0,f=s.getScreenLastRowColumn(c),d=new n(c,r.start.column,c,h);l>=c;c++)d.start.row=d.end.row=c,d.start.column=c==u?r.start.column:s.getRowWrapIndent(c),d.end.column=f,p=h,h=f,f=l>c+1?s.getScreenLastRowColumn(c+1):c==l?0:r.end.column,this.drawSingleLineMarker(t,d,i+(c==u?" ace_start":"")+" ace_br"+e(c==u||c==u+1&&r.start.column,h>p,h>f,c==l),o,c==l?0:1,a)},this.drawMultiLineMarker=function(e,t,n,r,i){var o=this.$padding,a=r.lineHeight,s=this.$getTop(t.start.row,r),u=o+t.start.column*r.characterWidth;i=i||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",a,"px;","right:0;","top:",s,"px;","left:",u,"px;",i,"'></div>"),s=this.$getTop(t.end.row,r);var l=t.end.column*r.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",a,"px;","width:",l,"px;","top:",s,"px;","left:",o,"px;",i,"'></div>"),a=(t.end.row-t.start.row-1)*r.lineHeight,!(0>=a)){s=this.$getTop(t.start.row+1,r);var c=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,c?" ace_br"+c:"","' style='","height:",a,"px;","right:0;","top:",s,"px;","left:",o,"px;",i,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,r,i,o){var a=r.lineHeight,s=(t.end.column+(i||0)-t.start.column)*r.characterWidth,u=this.$getTop(t.start.row,r),l=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",a,"px;","width:",s,"px;","top:",u,"px;","left:",l,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),a=r.lineHeight;t.start.row!=t.end.row&&(a+=this.$getTop(t.end.row,r)-o),e.push("<div class='",n,"' style='","height:",a,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),a=r.lineHeight;e.push("<div class='",n,"' style='","height:",a,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")}}).call(i.prototype),t.Marker=i}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/oop"),r=e("../lib/dom"),i=e("../lib/lang"),o=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,o),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;return this.EOL_CHAR!=e?(this.EOL_CHAR=e,!0):void 0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;e+1>n;n++)t.push(this.showInvisibles?"<span class='ace_invisible ace_invisible_tab'>"+i.stringRepeat(this.TAB_CHAR,n)+"</span>":i.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide",o="",a="";if(this.showInvisibles){r+=" ace_invisible",o=" ace_invisible_space",a=" ace_invisible_tab";var s=i.stringRepeat(this.SPACE_CHAR,this.tabSize),u=i.stringRepeat(this.TAB_CHAR,this.tabSize)}else var s=i.stringRepeat(" ",this.tabSize),u=s;this.$tabStrings[" "]="<span class='"+r+o+"'>"+s+"</span>",this.$tabStrings["	"]="<span class='"+r+a+"'>"+u+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,a=0,s=e.firstRow;r>s;s++){var u=this.session.getFoldLine(s);if(u){if(u.containsRow(r)){r=u.start.row;break}s=u.end.row}a++}for(var s=r,u=this.session.getNextFoldLine(s),l=u?u.start.row:1/0;;){if(s>l&&(s=u.end.row+1,u=this.session.getNextFoldLine(s,u),l=u?u.start.row:1/0),s>i)break;var c=o[a++];if(c){var p=[];this.$renderLine(p,s,!this.$useLineGroups(),s==l?u:!1),c.style.height=e.lineHeight*this.session.getRowLength(s)+"px",c.innerHTML=p.join("")}s++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){var i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){for(var i=this.element.ownerDocument.createDocumentFragment(),o=t,a=this.session.getNextFoldLine(o),s=a?a.start.row:1/0;;){if(o>s&&(o=a.end.row+1,a=this.session.getNextFoldLine(o,a),s=a?a.start.row:1/0),o>n)break;var u=r.createElement("div"),l=[];if(this.$renderLine(l,o,!1,o==s?a:!1),u.innerHTML=l.join(""),this.$useLineGroups())u.className="ace_line_group",i.appendChild(u),u.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;u.firstChild;)i.appendChild(u.firstChild);o++}return i},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,r=e.lastRow,i=n,o=this.session.getNextFoldLine(i),a=o?o.start.row:1/0;;){if(i>a&&(i=o.end.row+1,o=this.session.getNextFoldLine(i,o),a=o?o.start.row:1/0),i>r)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(i),"px'>"),this.$renderLine(t,i,!1,i==a?o:!1),this.$useLineGroups()&&t.push("</div>"),i++}this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var o=this,a=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,s=function(e,n,r,a){if(n)return o.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+i.stringRepeat(o.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("	"==e){var s=o.session.getScreenTabSize(t+a);return t+=s-1,o.$tabStrings[s]}if("\u3000"==e){var u=o.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",l=o.showInvisibles?o.SPACE_CHAR:"";return t+=1,"<span class='"+u+"' style='width:"+2*o.config.characterWidth+"px'>"+l+"</span>"}return r?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+o.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*o.config.characterWidth+"px'>"+e+"</span>")},u=r.replace(a,s);if(this.$textToken[n.type])e.push(u);else{var l="ace_"+n.type.replace(/\./g," ace_"),c="";"fold"==n.type&&(c=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",l,"'",c,">",u,"</span>")}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return 0>=r||r>=n?t:" "==t[0]?(r-=r%this.tabSize,e.push(i.stringRepeat(this.$tabStrings[" "],r/this.tabSize)),t.substr(r)):"	"==t[0]?(e.push(i.stringRepeat(this.$tabStrings["	"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){for(var o=0,a=0,s=n[0],u=0,l=0;l<t.length;l++){var c=t[l],p=c.value;if(0==l&&this.displayIndentGuides){if(o=p.length,p=this.renderIndentGuide(e,p,s),!p)continue;o-=p.length}if(o+p.length<s)u=this.$renderToken(e,u,c,p),o+=p.length;else{for(;o+p.length>=s;)u=this.$renderToken(e,u,c,p.substring(0,s-o)),p=p.substring(s-o),o=s,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(i.stringRepeat("\xa0",n.indent)),a++,u=0,s=n[a]||Number.MAX_VALUE;0!=p.length&&(o+=p.length,u=this.$renderToken(e,u,c,p))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var o=1;o<t.length;o++)r=t[o],i=r.value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){if(r||0==r||(r=this.session.getFoldLine(t)),r)var i=this.$getFoldLineTokens(t,r);else var i=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),i.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,i,o,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,r++,r==e.length)return;if(o!=t){var a=e[r].value.substring(t-o);a.length>n-t&&(a=a.substring(0,n-t)),i.push({type:e[r].type,value:a}),o=t+a.length,r+=1}for(;n>o&&r<e.length;){var a=e[r].value;i.push(a.length+o>n?{type:e[r].type,value:a.substring(0,n-o)}:e[r]),o+=a.length,r+=1}}var r=this.session,i=[],o=r.getTokens(e);return t.walk(function(e,t,a,s,u){null!=e?i.push({type:"fold",value:e}):(u&&(o=r.getTokens(t)),o.length&&n(o,s,a))},t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";var n,r=e("../lib/dom"),i=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===n&&(n=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(n?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||n||(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+n.column*this.config.characterWidth,i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;(void 0===t||0===t.length)&&(t=[{cursor:null}]);for(var n=0,i=t.length;i>n;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var a=(this.cursors[r++]||this.addCursor()).style;this.drawCursor?this.drawCursor(a,o,e,t[n],this.session):(a.left=o.left+"px",a.top=o.top+"px",a.width=e.characterWidth+"px",a.height=e.lineHeight+"px")}}for(;this.cursors.length>r;)this.removeCursor();var s=this.session.getOverwrite();this.$setOverwrite(s),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/dom"),i=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,a=32768,s=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,i.addListener(this.element,"scroll",this.onScroll.bind(this)),i.addListener(this.element,"mousedown",i.preventDefault)};(function(){n.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(s.prototype);var u=function(e,t){s.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};n.inherits(u,s),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(u.prototype);var l=function(e,t){s.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(l,s),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(l.prototype),t.ScrollBar=u,t.ScrollBarV=u,t.ScrollBarH=l,t.VScrollBar=u,t.HScrollBar=l}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t){"use strict";var n=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;n.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(r.prototype),t.RenderLoop=r}),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){var n=e("../lib/oop"),r=e("../lib/dom"),i=e("../lib/lang"),o=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,s=0,u=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),s||this.$testFractionalRect(),this.$measureNode.innerHTML=i.stringRepeat("X",s),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=r.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;s=t>0&&1>t?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===s){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var n={height:e.height,width:e.width/s}}else var n={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/s};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(e){this.$main.innerHTML=i.stringRepeat(e,s);var t=this.$main.getBoundingClientRect();return t.width/s},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(u.prototype)}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/dom"),i=e("./config"),o=e("./lib/useragent"),a=e("./layer/gutter").Gutter,s=e("./layer/marker").Marker,u=e("./layer/text").Text,l=e("./layer/cursor").Cursor,c=e("./scrollbar").HScrollBar,p=e("./scrollbar").VScrollBar,h=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,d=e("./lib/event_emitter").EventEmitter,m='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}';
r.importCssString(m,"ace_editor.css");var g=function(e,t){var n=this;this.container=e||r.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var d=this.$textLayer=new u(this.content);this.canvas=d.element,this.$markerFront=new s(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),i.resetOptions(this),i._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,d),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return r&&(e||o.height!=r)&&(o.height=r,i|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL),n&&(e||o.width!=n)&&(i|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(i|=this.CHANGE_FULL)),o.$dirty=!n||!r,i&&this._signal("resize",a),i},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.textarea.style,i=this.lineHeight;if(0>t||t>e.height-i)return void(r.top=r.left="0");var o=this.characterWidth;if(this.$composition){var a=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(a)[0]+2,i+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,r.height=i+"px",r.width=o+"px",r.left=Math.min(n,this.$size.scrollerWidth-o)+"px",r.top=Math.min(t,this.$size.height-i)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,o=this.$getLongestLine(),a=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),s=this.$horizScroll!==a;s&&(this.$horizScroll=a,this.scrollBarH.setVisible(a));var u=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=this.scrollTop%this.lineHeight,c=t.scrollerHeight+this.lineHeight,p=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=p;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+h.right)));var f=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+p<0||this.scrollTop>h.top),d=u!==f;d&&(this.$vScroll=f,this.scrollBarV.setVisible(f));var m,g,v=Math.ceil(c/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),b=y+v,w=this.lineHeight;y=e.screenToDocumentRow(y,0);var _=e.getFoldLine(y);_&&(y=_.start.row),m=e.documentToScreenRow(y,0),g=e.getRowLength(y)*w,b=Math.min(e.screenToDocumentRow(b,0),e.getLength()-1),c=t.scrollerHeight+e.getRowLength(b)*w+g,l=this.scrollTop-m*w;var x=0;return this.layerConfig.width!=o&&(x=this.CHANGE_H_SCROLL),(s||d)&&(x=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:y,firstRowScreen:m,lastRow:b,lineHeight:w,characterWidth:this.characterWidth,minHeight:c,maxHeight:i,offset:l,gutterOffset:w?Math.max(0,Math.ceil((l+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},x},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;return e>n.lastRow+1||t<n.firstRow?void 0:1/0===t?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,a=n&&n.top||0,s=n&&n.bottom||0,u=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;u+a>o?(t&&u+a>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):u+this.$size.scrollerHeight-s<o+this.lineHeight&&(t&&u+this.$size.scrollerHeight-s<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var l=this.scrollLeft;l>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):l+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):l<=this.$padding&&i-l<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;r>n;++n)i.push(o(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=i.top;t&&(o-=this.$size.scrollerHeight/2);var a=this.scrollTop;this.session.setScrollTop(o),n!==!1&&this.animateScrolling(a,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0],e==n))return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return 0>t&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>e&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),o=Math.round(r);return{row:i,column:o,side:r-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(i,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+Math.round(r.column*this.characterWidth),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(o.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.importCssString(n.cssText,n.cssClass,o.container.ownerDocument),o.theme&&r.removeCssClass(o.container,o.theme.cssClass);var i="padding"in n?n.padding:"padding"in(o.theme||{})?4:o.$padding;o.$padding&&i!=o.$padding&&o.setPadding(i),o.$theme=n.cssClass,o.theme=n,r.addCssClass(o.container,n.cssClass),r.setCssClass(o.container,"ace_dark",n.isDark),o.$size&&(o.$size.width=0,o.$updateSizeAsync()),o._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var o=this;if(this.$themeId=e,o._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var a=e||this.$options.theme.initialValue;i.loadModule(["theme",a],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),i.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=g}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t){"use strict";var n=e("../lib/oop"),r=e("../lib/net"),i=e("../lib/event_emitter").EventEmitter,o=e("../config"),a=function(t,n,r,i){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),o.get("packaged")||!e.toUrl)i=i||o.moduleUrl(n,"worker");else{var a=this.$normalizePath;i=i||a(e.toUrl("ace/worker/worker.js",null,"_"));var s={};t.forEach(function(t){s[t]=a(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(i)}catch(u){if(!(u instanceof window.DOMException))throw u;var l=this.$workerBlob(i),c=window.URL||window.webkitURL,p=c.createObjectURL(l);this.$worker=new Worker(p),c.revokeObjectURL(p)}this.$worker.postMessage({init:!0,tlns:s,module:n,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,i),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(n){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,o=new i;return o.append(t),o.getBlob("application/javascript")}}}).call(a.prototype);var s=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,a=!1,s=Object.create(i),u=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){u.messageBuffer.push(e),r&&(a?setTimeout(l):l())},this.setEmitSync=function(e){a=e};var l=function(){var e=u.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&s._signal(e.event,e.data)};s.postMessage=function(e){u.onMessage({data:e})},s.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},s.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){for(r=new e[n](s);u.messageBuffer.length;)l()})};s.prototype=a.prototype,t.UIWorkerClient=s,t.WorkerClient=a}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t){"use strict";var n=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,i=e("./lib/oop"),o=function(e,t,n,r,i,o){var a=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){a.onCursorChange()})},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){i.implement(this,r),this.setup=function(){var e=this,t=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=r.addMarker(new n(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),r.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(r){r.markerId=e.addMarker(new n(r.row,r.column,r.row,r.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var r="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=r),i&&!this.session.$fromUndo)if("insert"===e.action)for(var a=this.others.length-1;a>=0;a--){var s=this.others[a],u={row:s.row,column:s.column+o};this.doc.insertMergedLines(u,e.lines)}else if("remove"===e.action)for(var a=this.others.length-1;a>=0;a--){var s=this.others[a],u={row:s.row,column:s.column+o};
this.doc.remove(new n(u.row,u.column,u.row,u.column-r))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,r=function(r,i){t.removeMarker(r.markerId),r.markerId=t.addMarker(new n(r.row,r.column,r.row,r.column+e.length),i,null,!1)};r(this.pos,this.mainClass);for(var i=this.others.length;i--;)r(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;t>n;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){function n(e,t){return e.row==t.row&&e.column==t.column}function r(e){var t=e.domEvent,r=t.altKey,a=t.shiftKey,s=t.ctrlKey,u=e.getAccelKey(),l=e.getButton();if(s&&o.isMac&&(l=t.button),e.editor.inMultiSelectMode&&2==l)return void e.editor.textInput.onContextMenu(e.domEvent);if(!s&&!r&&!u)return void(0===l&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===l){var c,p=e.editor,h=p.selection,f=p.inMultiSelectMode,d=e.getDocumentPosition(),m=h.getCursor(),g=e.inSelection()||h.isEmpty()&&n(d,m),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},w=p.session,_=p.renderer.pixelToScreenCoordinates(v,y),x=_;if(p.$mouseHandler.$enableJumpToDef)s&&r||u&&r?c=a?"block":"add":r&&p.$blockSelectEnabled&&(c="block");else if(u&&!r){if(c="add",!f&&a)return}else r&&p.$blockSelectEnabled&&(c="block");if(c&&o.isMac&&t.ctrlKey&&p.$mouseHandler.cancelContextMenu(),"add"==c){if(!f&&g)return;if(!f){var E=h.toOrientedRange();p.addSelectionMarker(E)}var k=h.rangeList.rangeAtPoint(d);p.$blockScrolling++,p.inVirtualSelectionMode=!0,a&&(k=null,E=h.ranges[0]||E,p.removeSelectionMarker(E)),p.once("mouseup",function(){var e=h.toOrientedRange();k&&e.isEmpty()&&n(k.cursor,e.cursor)?h.substractPoint(e.cursor):(a?h.substractPoint(E.cursor):E&&(p.removeSelectionMarker(E),h.addRange(E)),h.addRange(e)),p.$blockScrolling--,p.inVirtualSelectionMode=!1})}else if("block"==c){e.stop(),p.inVirtualSelectionMode=!0;var C,A=[],S=function(){var e=p.renderer.pixelToScreenCoordinates(v,y),t=w.screenToDocumentPosition(e.row,e.column);n(x,e)&&n(t,h.lead)||(x=e,p.$blockScrolling++,p.selection.moveToPosition(t),p.renderer.scrollCursorIntoView(),p.removeSelectionMarkers(A),A=h.rectangularRangeBlock(x,_),p.$mouseHandler.$clickSelection&&1==A.length&&A[0].isEmpty()&&(A[0]=p.$mouseHandler.$clickSelection.clone()),A.forEach(p.addSelectionMarker,p),p.updateSelectionMarkers(),p.$blockScrolling--)};p.$blockScrolling++,f&&!u?h.toSingleRange():!f&&u&&(C=h.toOrientedRange(),p.addSelectionMarker(C)),a?_=w.documentToScreenPosition(h.lead):h.moveToPosition(d),p.$blockScrolling--,x={row:-1,column:-1};var M=function(){clearInterval(D),p.removeSelectionMarkers(A),A.length||(A=[h.toOrientedRange()]),p.$blockScrolling++,C&&(p.removeSelectionMarker(C),h.toSingleRange(C));for(var e=0;e<A.length;e++)h.addRange(A[e]);p.inVirtualSelectionMode=!1,p.$mouseHandler.$clickSelection=null,p.$blockScrolling--},T=S;i.capture(p.container,b,M);var D=setInterval(function(){T()},20);return e.preventDefault()}}}var i=e("../lib/event"),o=e("../lib/useragent");t.onMouseDown=r}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t){function n(e,t,n){return d.$options.wrap=!0,d.$options.needle=t,d.$options.backwards=-1==n,d.find(e)}function r(e,t){return e.row==t.row&&e.column==t.column}function i(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",l),e.commands.addCommands(h.defaultCommands),o(e))}function o(e){function t(){r&&(e.renderer.setMouseCursor(""),r=!1)}var n=e.textInput.getElement(),r=!1;c.addListener(n,"keydown",function(n){var i=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&i?r||(e.renderer.setMouseCursor("crosshair"),r=!0):r&&t()}),c.addListener(n,"keyup",t),c.addListener(n,"blur",t)}var a=e("./range_list").RangeList,s=e("./range").Range,u=e("./selection").Selection,l=e("./mouse/multi_select_handler").onMouseDown,c=e("./lib/event"),p=e("./lib/lang"),h=e("./commands/multi_select_commands");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var f=e("./search").Search,d=new f,m=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);return t?(this.$onRemoveRange(t),t[0]):void 0},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),i=n.start.row,o=n.end.row;if(i==o){if(r)var a=n.end,u=n.start;else var a=n.start,u=n.end;return this.addRange(s.fromPoints(u,u)),void this.addRange(s.fromPoints(a,a))}var l=[],c=this.getLineRange(i,!0);c.start.column=n.start.column,l.push(c);for(var p=i+1;o>p;p++)l.push(this.getLineRange(p,!0));c=this.getLineRange(o,!0),c.end.column=n.end.column,l.push(c),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),i=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(r,i);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],o=e.column<t.column;if(o)var a=e.column,u=t.column;else var a=t.column,u=e.column;var l=e.row<t.row;if(l)var c=e.row,p=t.row;else var c=t.row,p=e.row;0>a&&(a=0),0>c&&(c=0),c==p&&(n=!0);for(var h=c;p>=h;h++){var f=s.fromPoints(this.session.screenToDocumentPosition(h,a),this.session.screenToDocumentPosition(h,u));if(f.isEmpty()){if(d&&r(f.end,d))break;var d=f.end}f.cursor=o?f.start:f.end,i.push(f)}if(l&&i.reverse(),!n){for(var m=i.length-1;i[m].isEmpty()&&m>0;)m--;if(m>0)for(var g=0;i[g].isEmpty();)g++;for(var v=m;v>=g;v--)i[v].isEmpty()&&i.splice(v,1)}return i}}.call(u.prototype);var g=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,o=1==n||n&&n.$byLines,a=this.session,s=this.selection,l=s.rangeList,c=(i?s:l).ranges;if(!c.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var p=s._eventRegistry;s._eventRegistry={};var h=new u(a);this.inVirtualSelectionMode=!0;for(var f=c.length;f--;){if(o)for(;f>0&&c[f].start.row==c[f-1].end.row;)f--;h.fromOrientedRange(c[f]),h.index=f,this.selection=a.selection=h;var d=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===d||(r=d),h.toOrientedRange(c[f])}h.detach(),this.selection=a.selection=s,this.inVirtualSelectionMode=!1,s._eventRegistry=p,s.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var a=i.length;a--;)o.addRange(i[a],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,i=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(i.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(i.row+e,i.column);if(n.isEmpty())var a=o;else var u=this.session.documentToScreenPosition(r?n.end:n.start),a=this.session.screenToDocumentPosition(u.row+e,u.column);if(r){var l=s.fromPoints(o,a);l.cursor=l.start}else{var l=s.fromPoints(a,o);l.cursor=l.end}if(l.desiredColumn=i.column,this.selection.inMultiSelectMode){if(t)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(l),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){var o=r[i];if(o.isEmpty()){var a=t.getWordRange(o.start.row,o.start.column);o.start.row=a.start.row,o.start.column=a.start.column,o.end.row=a.end.row,o.end.column=a.end.column}}n.mergeOverlappingRanges();for(var s=[],i=r.length;i--;){var o=r[i];s.unshift(t.getTextRange(o))}0>e?s.unshift(s.pop()):s.push(s.shift());for(var i=r.length;i--;){var o=r[i],a=o.clone();t.replace(o,s[i]),o.start.row=a.start.row,o.start.column=a.start.column}},this.selectMore=function(e,t,r){var i=this.session,o=i.multiSelect,a=o.toOrientedRange();if(!a.isEmpty()||(a=i.getWordRange(a.start.row,a.start.column),a.cursor=-1==e?a.start:a.end,this.multiSelect.addRange(a),!r)){var s=i.getTextRange(a),u=n(i,s,e);u&&(u.cursor=-1==e?u.start:u.end,this.$blockScrolling+=1,this.session.unfold(u),this.multiSelect.addRange(u),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(a.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,i=n.filter(function(e){return e.cursor.row==r?!0:void(r=e.cursor.row)});if(n.length&&i.length!=n.length-1){i.forEach(function(e){t.substractPoint(e.cursor)});var o=0,a=1/0,u=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>o&&(o=n.column),a>i&&(a=i),i});n.forEach(function(t,n){var r=t.cursor,i=o-r.column,l=u[n]-a;i>l?e.insert(r,p.stringRepeat(" ",i-l)):e.remove(new s(r.row,r.column,r.row,r.column-i+l)),t.start.column=t.end.column=o,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var l=this.selection.getRange(),c=l.start.row,h=l.end.row,f=c==h;if(f){var d,m=this.session.getLength();do d=this.session.getLine(h);while(/[=:]/.test(d)&&++h<m);do d=this.session.getLine(c);while(/[=:]/.test(d)&&--c>0);0>c&&(c=0),h>=m&&(h=m-1)}var g=this.session.removeFullLines(c,h);g=this.$reAlignText(g,f),this.session.insert({row:c,column:0},g.join("\n")+"\n"),f||(l.start.column=0,l.end.column=g[g.length-1].length),this.selection.setRange(l)}},this.$reAlignText=function(e,t){function n(e){return p.stringRepeat(" ",e)}function r(e){return e[2]?n(a)+e[2]+n(s-e[2].length+u)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function i(e){return e[2]?n(a+s-e[2].length)+e[2]+n(u," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?n(a)+e[2]+n(u)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var a,s,u,l=!0,c=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==a?(a=t[1].length,s=t[2].length,u=t[3].length,t):(a+s+u!=t[1].length+t[2].length+t[3].length&&(c=!1),a!=t[1].length&&(l=!1),a>t[1].length&&(a=t[1].length),s<t[2].length&&(s=t[2].length),u>t[3].length&&(u=t[3].length),t):[e]}).map(t?r:l?c?i:r:o)}}).call(g.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=i,e("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(e){i(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",l)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",l))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(e,t,r){var i=/\S/,o=e.getLine(t),a=o.search(i);if(-1!=a){for(var s=r||o.length,u=e.getLength(),l=t,c=t;++t<u;){var p=e.getLine(t).search(i);if(-1!=p){if(a>=p)break;c=t}}if(c>l){var h=e.getLine(c).length;return new n(l,s,c,h)}}},this.openingBracketBlock=function(e,t,r,i,o){var a={row:r,column:i+1},s=e.$findClosingBracket(t,a,o);if(s){var u=e.foldWidgets[s.row];return null==u&&(u=e.getFoldWidget(s.row)),"start"==u&&s.row>a.row&&(s.row--,s.column=e.getLine(s.row).length),n.fromPoints(a,s)}},this.closingBracketBlock=function(e,t,r,i){var o={row:r,column:i},a=e.$findOpeningBracket(t,o);return a?(a.column++,o.column--,n.fromPoints(a,o)):void 0}}).call(r.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t){"use strict";function n(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}{var r=(e("./lib/oop"),e("./lib/dom"));e("./range").Range}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,a="add"==e.action,s=i+1;o>s;s++)n[s]&&(n[s].hidden=a);n[o]&&(a?n[i]?n[o].hidden=a:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=a))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var o=new Array(r);o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(e.row,0);if(e.$fold=i,i){var o=this.session.lineWidgets;e.row!=i.end.row||o[i.start.row]?e.hidden=!0:o[i.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}if(this.session.lineWidgets){var n=this.session.lineWidgets[e.row];if(n==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;n;){if(n.$oldWidget==e){n.$oldWidget=e.$oldWidget;break}n=n.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var a=n[o];if(a&&a.el&&a.session==this.session){if(!a._inDocument){if(this.session.lineWidgets[a.row]!=a)continue;a._inDocument=!0,t.container.appendChild(a.el)}a.h=a.el.offsetHeight,a.fixedWidth||(a.w=a.el.offsetWidth,a.screenWidth=Math.ceil(a.w/r.characterWidth));var s=a.h/r.lineHeight;a.coverLine&&(s-=this.session.getRowLineCount(a.row),0>s&&(s=0)),a.rowCount!=s&&(a.rowCount=s,a.row<i&&(i=a.row))}}1/0!=i&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var a=i;o>=a;a++){var s=r[a];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var u=t.$cursorLayer.getPixelPosition({row:a,column:0},!0).top;s.coverLine||(u+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=u-n.offset+"px";var l=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(l-=t.scrollLeft),s.el.style.left=l+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.el.style.right=s.fixedWidth?t.scrollBar.getWidth()+"px":""}}}}}).call(n.prototype),t.LineWidgets=n}),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t){"use strict";function n(e,t,n){for(var r=0,i=e.length-1;i>=r;){var o=r+i>>1,a=n(t,e[o]);if(a>0)r=o+1;else{if(!(0>a))return o;i=o-1}}return-(r+1)}function r(e,t,r){var i=e.getAnnotations().sort(a.comparePoints);if(i.length){var o=n(i,{row:t,column:-1},a.comparePoints);0>o&&(o=-o-1),o>=i.length?o=r>0?0:i.length-1:0===o&&0>r&&(o=i.length-1);var s=i[o];if(s&&r){if(s.row===t){do s=i[o+=r];while(s&&s.row===t);if(!s)return i.slice()}var u=[];t=s.row;do u[0>r?"unshift":"push"](s),s=i[o+=r];while(s&&s.row==t);return u.length&&u}}}var i=e("../line_widgets").LineWidgets,o=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var a=e.getCursorPosition(),s=a.row,u=n.widgetManager.getWidgetsAtRow(s).filter(function(e){return"errorMarker"==e.type})[0];u?u.destroy():s-=t;var l,c=r(n,s,t);if(c){var p=c[0];a.column=(p.pos&&"number"!=typeof p.column?p.pos.sc:p.column)||0,a.row=p.row,l=e.renderer.$gutterLayer.$annotations[a.row]}else{if(u)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(a.row),e.selection.moveToPosition(a);var h={row:a.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},f=h.el.appendChild(o.createElement("div")),d=h.el.appendChild(o.createElement("div"));d.className="error_widget_arrow "+l.className;var m=e.renderer.$cursorLayer.getPixelPosition(a).left;d.style.left=m+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",f.className="error_widget "+l.className,f.innerHTML=l.text.join("<br>"),f.appendChild(o.createElement("div"));var g=function(e,t,n){return 0!==t||"esc"!==n&&"return"!==n?void 0:(h.destroy(),{command:"null"})};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})
},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/dom"),r=e("./lib/event"),i=e("./editor").Editor,o=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,s=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,"function"==typeof define&&(t.define=define),t.edit=function(e){if("string"==typeof e){var o=e;if(e=document.getElementById(o),!e)throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof i)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var u=e;a=u.value,e=n.createElement("pre"),u.parentNode.replaceChild(e,u)}else e&&(a=n.getInnerText(e),e.innerHTML="");var l=t.createEditSession(a),c=new i(new s(e));c.setSession(l);var p={document:l,editor:c,onResize:c.resize.bind(c,null)};return u&&(p.textarea=u),r.addListener(window,"resize",p.onResize),c.on("destroy",function(){r.removeListener(window,"resize",p.onResize),p.editor.container.env=null}),c.container.env=c.env=p,c},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new a),n},t.EditSession=o,t.UndoManager=a,t.version="1.2.6"}),function(){window.require(["ace/ace"],function(e){e&&(e.config.init(!0),e.define=window.define),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor"],function(e,t){var n=e("../snippets").snippetManager,r=e("../autocomplete").Autocomplete,i=e("../config"),o=e("../autocomplete/util"),a=e("../autocomplete/text_completer"),s={getCompletions:function(e,t,n,r,i){var o=e.session.getState(n.row),a=t.$mode.getCompletions(o,t,n,r);i(null,a)}},u={getCompletions:function(e,t,r,i,o){var a=n.snippetMap,s=[];n.getActiveScopes(e).forEach(function(e){for(var t=a[e]||[],n=t.length;n--;){var r=t[n],i=r.name||r.tabTrigger;i&&s.push({caption:i,snippet:r.content,meta:r.tabTrigger&&!r.name?r.tabTrigger+"\u21e5 ":"snippet"})}},this),o(null,s)}},l=[u,a,s];t.addCompleter=function(e){l.push(e)};var c={name:"expandSnippet",exec:function(e){var t=n.expandWithTab(e);t||e.execCommand("indent")},bindKey:"Tab"},p=function(e,t){h(t.session.$mode)},h=function(e){var t=e.$id;n.files||(n.files={}),f(t),e.modes&&e.modes.forEach(h)},f=function(e){if(e&&!n.files[e]){var t=e.replace("mode","snippets");n.files[e]={},i.loadModule(t,function(t){t&&(n.files[e]=t,t.snippets=n.parseSnippetFile(t.snippetText),n.register(t.snippets,t.scope),t.includeScopes&&(n.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(e){f("ace/mode/"+e)})))})}},d=function(e){var t=e.editor,n=(e.args||"",t.getCursorPosition()),i=t.session.getLine(n.row),a=t.completer&&t.completer.activated,s=o.retrievePrecedingIdentifier(i,n.column);l.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){s||(s=o.retrievePrecedingIdentifier(i,n.column,e))})}),"backspace"!==e.command.name||s?"insertstring"===e.command.name&&(s&&!a?(t.completer||(t.completer=new r,t.completer.autoSelect=!1,t.completer.autoInsert=!1),t.completer.showPopup(t)):!s&&a&&t.completer.detach()):a&&t.completer.detach()},m=e("../editor").Editor;e("../config").defineOptions(m.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers=l,this.commands.addCommand(r.startCommand)):this.commands.removeCommand(r.startCommand)},value:!1},enableLiveAutocomplete:{set:function(e){e?this.commands.on("afterExec",d):this.commands.removeListener("afterExec",d)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(c),this.on("changeMode",p),p(null,this)):(this.commands.removeCommand(c),this.off("changeMode",p))},value:!1}})}),ace.define("ace/snippets",["require","exports","module","ace/lib/lang","ace/range","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom"],function(e,t){var n=e("./lib/lang"),r=e("./range").Range,i=e("./keyboard/hash_handler").HashHandler,o=e("./tokenizer").Tokenizer,a=r.comparePoints,s=function(){this.snippetMap={},this.snippetNameMap={}};(function(){this.getTokenizer=function(){function e(e,t,n){return e=e.substr(1),/^\d+$/.test(e)&&!n.inFormatString?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}return s.$tokenizer=new o({start:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectIf?(n[0].expectIf=!1,n[0].elseBranch=n[0],[n[0]]):":"}},{regex:/\\./,onMatch:function(e,t,n){var r=e[1];return"}"==r&&n.length?e=r:-1!="`$\\".indexOf(r)?e=r:n.inFormatString&&("n"==r?e="\n":"t"==r?e="\n":-1!="ulULE".indexOf(r)&&(e={changeCase:r,local:r>"a"})),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,r){var i=e(t.substr(1),n,r);return r.unshift(i[0]),i},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){n[0].choices=e.slice(1,-1).split(",")},next:"start"},{regex:"/("+t("/")+"+)/(?:("+t("/")+"*)/)(\\w*):?",onMatch:function(e,t,n){var r=n[0];return r.fmtString=e,e=this.splitRegex.exec(e),r.guard=e[1],r.fmt=e[2],r.flag=e[3],""},next:"start"},{regex:"`"+t("`")+"*`",onMatch:function(e,t,n){return n[0].code=e.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(e,t,n){n[0]&&(n[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+t("/")+"+)/",token:"regex"},{regex:"",onMatch:function(e,t,n){n.inFormatString=!0},next:"start"}]}),s.prototype.getTokenizer=function(){return s.$tokenizer},s.$tokenizer},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},this.$getDefaultValue=function(e,t){if(/^[A-Z]\d+$/.test(t)){var n=t.substr(1);return(this.variables[t[0]+"__"]||{})[n]}if(/^\d+$/.test(t))return(this.variables.__||{})[t];if(t=t.replace(/^TM_/,""),e){var r=e.session;switch(t){case"CURRENT_WORD":var i=r.getWordRange();case"SELECTION":case"SELECTED_TEXT":return r.getTextRange(i);case"CURRENT_LINE":return r.getLine(e.getCursorPosition().row);case"PREV_LINE":return r.getLine(e.getCursorPosition().row-1);case"LINE_INDEX":return e.getCursorPosition().column;case"LINE_NUMBER":return e.getCursorPosition().row+1;case"SOFT_TABS":return r.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return r.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(e,t){return this.variables.hasOwnProperty(t)?this.variables[t](e,t)||"":this.$getDefaultValue(e,t)||""},this.tmStrFormat=function(e,t,n){var r=t.flag||"",i=t.guard;i=new RegExp(i,r.replace(/[^gi]/,""));var o=this.tokenizeTmSnippet(t.fmt,"formatString"),a=this,s=e.replace(i,function(){a.variables.__=arguments;for(var e=a.resolveVariables(o,n),t="E",r=0;r<e.length;r++){var i=e[r];if("object"==typeof i)if(e[r]="",i.changeCase&&i.local){var s=e[r+1];s&&"string"==typeof s&&(e[r]="u"==i.changeCase?s[0].toUpperCase():s[0].toLowerCase(),e[r+1]=s.substr(1))}else i.changeCase&&(t=i.changeCase);else"U"==t?e[r]=i.toUpperCase():"L"==t&&(e[r]=i.toLowerCase())}return e.join("")});return this.variables.__=null,s},this.resolveVariables=function(e,t){function n(t){var n=e.indexOf(t,i+1);-1!=n&&(i=n)}for(var r=[],i=0;i<e.length;i++){var o=e[i];if("string"==typeof o)r.push(o);else{if("object"!=typeof o)continue;if(o.skip)n(o);else{if(o.processed<i)continue;if(o.text){var a=this.getVariableValue(t,o.text);a&&o.fmtString&&(a=this.tmStrFormat(a,o)),o.processed=i,null==o.expectIf?a&&(r.push(a),n(o)):a?o.skip=o.elseBranch:n(o)}else null!=o.tabstopId?r.push(o):null!=o.changeCase&&r.push(o)}}}return r},this.insertSnippet=function(e,t){function n(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if("object"==typeof r){if(c[r.tabstopId])continue;var i=e.lastIndexOf(r,n-1);r=t[i]||{tabstopId:r.tabstopId}}t[n]=r}return t}var r=e.getCursorPosition(),i=e.session.getLine(r.row),o=e.session.getTabString(),a=i.match(/^\s*/)[0];r.column<a.length&&(a=a.slice(0,r.column));var s=this.tokenizeTmSnippet(t);s=this.resolveVariables(s,e),s=s.map(function(e){return"\n"==e?e+a:"string"==typeof e?e.replace(/\t/g,o):e});var l=[];s.forEach(function(e,t){if("object"==typeof e){var n=e.tabstopId,r=l[n];if(r||(r=l[n]=[],r.index=n,r.value=""),-1===r.indexOf(e)){r.push(e);var i=s.indexOf(e,t+1);if(-1!==i){var o=s.slice(t+1,i),a=o.some(function(e){return"object"==typeof e});a&&!r.value?r.value=o:!o.length||r.value&&"string"==typeof r.value||(r.value=o.join(""))}}}}),l.forEach(function(e){e.length=0});for(var c={},p=0;p<s.length;p++){var h=s[p];if("object"==typeof h){var f=h.tabstopId,d=s.indexOf(h,p+1);if(c[f])c[f]===h&&(c[f]=null);else{var m=l[f],g="string"==typeof m.value?[m.value]:n(m.value);g.unshift(p+1,Math.max(0,d-p)),g.push(h),c[f]=h,s.splice.apply(s,g),-1===m.indexOf(h)&&m.push(h)}}}var v=0,y=0,b="";s.forEach(function(e){"string"==typeof e?("\n"===e[0]?(y=e.length-1,v++):y+=e.length,b+=e):e.start?e.end={row:v,column:y}:e.start={row:v,column:y}});var w=e.getSelectionRange(),_=e.session.replace(w,b),x=new u(e);x.addTabstops(l,w.start,_),x.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";if(t=t.split("/").pop(),"html"===t||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var n=e.getCursorPosition(),r=e.session.getState(n.row);"object"==typeof r&&(r=r[0]),r.substring&&("js-"==r.substring(0,3)?t="javascript":"css-"==r.substring(0,4)?t="css":"php-"==r.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&n.push.apply(n,r[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e){var t,n=e.getCursorPosition(),r=e.session.getLine(n.row),i=r.substring(0,n.column),o=r.substr(n.column),a=this.snippetMap;return this.getActiveScopes(e).some(function(e){var n=a[e];return n&&(t=this.findMatchingSnippet(n,i,o)),!!t},this),t?(e.session.doc.removeInLine(n.row,n.column-t.replaceBefore.length,n.column+t.replaceAfter.length),this.variables.M__=t.matchBefore,this.variables.T__=t.matchAfter,this.insertSnippet(e,t.content),this.variables.M__=this.variables.T__=null,!0):!1},this.findMatchingSnippet=function(e,t,n){for(var r=e.length;r--;){var i=e[r];if(!(i.startRe&&!i.startRe.test(t)||i.endRe&&!i.endRe.test(n)||!i.startRe&&!i.endRe))return i.matchBefore=i.startRe?i.startRe.exec(t):[""],i.matchAfter=i.endRe?i.endRe.exec(n):[""],i.replaceBefore=i.triggerRe?i.triggerRe.exec(t)[0]:"",i.replaceAfter=i.endTriggerRe?i.endTriggerRe.exec(n)[0]:"",i}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){function r(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function i(e,t,n){return e=r(e),t=r(t),n?(e=t+e,e&&"$"!=e[e.length-1]&&(e+="$")):(e+=t,e&&"^"!=e[0]&&(e="^"+e)),new RegExp(e)}function o(e){e.scope||(e.scope=t||"_"),t=e.scope,a[t]||(a[t]=[],s[t]={});var r=s[t];if(e.name){var o=r[e.name];o&&u.unregister(o),r[e.name]=e}a[t].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=n.escapeRegExp(e.tabTrigger)),e.startRe=i(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger,"",!0),e.endRe=i(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger,"",!0)}var a=this.snippetMap,s=this.snippetNameMap,u=this;e.content?o(e):Array.isArray(e)&&e.forEach(o)},this.unregister=function(e,t){function n(e){var n=i[e.scope||t];if(n&&n[e.name]){delete n[e.name];var o=r[e.scope||t],a=o&&o.indexOf(e);a>=0&&o.splice(a,1)}}var r=this.snippetMap,i=this.snippetNameMap;e.content?n(e):Array.isArray(e)&&e.forEach(n)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n=[],r={},i=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=i.exec(e);){if(t[1])try{r=JSON.parse(t[1]),n.push(r)}catch(o){}if(t[4])r.content=t[4].replace(/^\t/gm,""),n.push(r),r={};else{var a=t[2],s=t[3];if("regex"==a){var u=/\/((?:[^\/\\]|\\.)*)|$/g;r.guard=u.exec(s)[1],r.trigger=u.exec(s)[1],r.endTrigger=u.exec(s)[1],r.endGuard=u.exec(s)[1]}else"snippet"==a?(r.tabTrigger=s.match(/^\S*/)[0],r.name||(r.name=s)):r[a]=s}}return n},this.getSnippetByName=function(e,t){var n,r=this.snippetNameMap;return this.getActiveScopes(t).some(function(t){var i=r[t];return i&&(n=i[e]),!!n},this),n}}).call(s.prototype);var u=function(e){return e.tabstopManager?e.tabstopManager:(e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=n.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),void this.attach(e))};(function(){this.attach=function(e){this.index=-1,this.ranges=[],this.tabstops=[],this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var t=e.data.range,n="r"==e.data.action[0],r=t.start,i=t.end,o=r.row,s=i.row,u=s-o,l=i.column-r.column;if(n&&(u=-u,l=-l),!this.$inChange&&n){var c=this.selectedTabstop,p=!c.some(function(e){return a(e.start,r)<=0&&a(e.end,i)>=0});if(p)return this.detach()}for(var h=this.ranges,f=0;f<h.length;f++){var d=h[f];d.end.row<r.row||(a(r,d.start)<0&&a(i,d.end)>0?(this.removeRange(d),f--):(d.start.row==o&&d.start.column>r.column&&(d.start.column+=l),d.end.row==o&&d.end.column>=r.column&&(d.end.column+=l),d.start.row>=o&&(d.start.row+=u),d.end.row>=o&&(d.end.row+=u),a(d.start,d.end)>0&&this.removeRange(d)))}h.length||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e.hasLinkedRanges){this.$inChange=!0;for(var n=this.editor.session,r=n.getTextRange(e.firstNonLinked),i=e.length;i--;){var o=e[i];if(o.linked){var a=t.snippetManager.tmStrFormat(r,o.original);n.replace(o,a)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),r=this.ranges.length;r--;)if(!this.ranges[r].linked){var i=this.ranges[r].contains(e.row,e.column),o=n||this.ranges[r].contains(t.row,t.column);if(i&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length-1,n=this.index+(e||1);n=Math.min(Math.max(n,0),t),this.selectTabstop(n),n==t&&this.detach()},this.selectTabstop=function(e){var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,t=this.tabstops[this.index],t&&t.length){if(this.selectedTabstop=t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(t.firstNonLinked);else{var n=this.editor.multiSelect;n.toSingleRange(t.firstNonLinked.clone());for(var r=t.length;r--;)t.hasLinkedRanges&&t[r].linked||n.addRange(t[r].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(e,t,n){if(!e[0]){var i=r.fromPoints(n,n);c(i.start,t),c(i.end,t),e[0]=[i],e[0].index=0}{var o=this.index,a=[o,0],s=this.ranges;this.editor}e.forEach(function(e){for(var n=e.length;n--;){var i=e[n],o=r.fromPoints(i.start,i.end||i.start);l(o.start,t),l(o.end,t),o.original=i,o.tabstop=e,s.push(o),e[n]=o,i.fmtString?(o.linked=!0,e.hasLinkedRanges=!0):e.firstNonLinked||(e.firstNonLinked=o)}e.firstNonLinked||(e.hasLinkedRanges=!1),a.push(e),this.addTabstopMarkers(e)},this),a.push(a.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,a)},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},this.removeRange=function(e){var t=e.tabstop.indexOf(e);e.tabstop.splice(t,1),t=this.ranges.indexOf(e),this.ranges.splice(t,1),this.editor.session.removeMarker(e.markerId)},this.keyboardHandler=new i,this.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(){return!1}})}).call(u.prototype);var l=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},c=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),t.snippetManager=new s}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/snippets"],function(e,t){var n=e("./keyboard/hash_handler").HashHandler,r=e("./autocomplete/popup").AcePopup,i=e("./autocomplete/util"),o=e("./lib/event"),a=e("./lib/lang"),s=e("./snippets").snippetManager,u=function(){this.autoInsert=!0,this.autoSelect=!0,this.keyboardHandler=new n,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=a.delayedCall(function(){this.updateCompletions(!0)}.bind(this))};(function(){this.gatherCompletionsId=0,this.$init=function(){this.popup=new r(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor)},this.openPopup=function(e,t,n){this.popup||this.$init(),this.popup.setData(this.completions.filtered);var r=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),!n){this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var i=r.layerConfig.lineHeight,o=r.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var a=e.container.getBoundingClientRect();o.top+=a.top-r.layerConfig.offset,o.left+=a.left-e.renderer.scrollLeft,o.left+=r.$gutterLayer.gutterWidth,this.popup.show(o,i)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.popup&&this.popup.isOpen&&(this.gatherCompletionsId=this.gatherCompletionsId+1),this.popup&&this.popup.hide(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(){var e=this.editor.selection.lead;(e.row!=this.base.row||e.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(){var e=document.activeElement;e!=this.editor.textInput.getElement()&&e.parentNode!=this.popup.container&&this.detach()},this.mousedownListener=function(){this.detach()},this.mousewheelListener=function(){this.detach()},this.goTo=function(e){var t=this.popup.getRow(),n=this.popup.session.getLength()-1;switch(e){case"up":t=0>=t?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.popup.setRow(t)},this.insertMatch=function(e){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor);else{if(this.completions.filterText)for(var t,n=this.editor.selection.getAllRanges(),r=0;t=n[r];r++)t.start.column-=this.completions.filterText.length,this.editor.session.remove(t);e.snippet?s.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.detach()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Space:function(e){e.completer.detach(),e.insert(" ")},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(!0)},Tab:function(e){var t=e.completer.insertMatch();return t||e.tabstopManager?t:void e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var n=e.getSession(),r=e.getCursorPosition(),o=n.getLine(r.row),a=i.retrievePrecedingIdentifier(o,r.column);this.base=e.getCursorPosition(),this.base.column-=a.length;var s=[],u=e.completers.length;return e.completers.forEach(function(o){o.getCompletions(e,n,r,a,function(r,o){r||(s=s.concat(o));var a=e.getCursorPosition(),l=n.getLine(a.row);t(null,{prefix:i.retrievePrecedingIdentifier(l,a.column,o[0]&&o[0].identifierRegex),matches:s,finished:0===--u})})}),!0},this.showPopup=function(e){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.keyBinding.addKeyboardHandler(this.keyboardHandler),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(e){if(e&&this.base&&this.completions){var t=this.editor.getCursorPosition(),n=this.editor.session.getTextRange({start:this.base,end:t});if(n==this.completions.filterText)return;return this.completions.setFilter(n),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=n||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,n,e):this.detach()}var r=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,n){var i=function(){return n.finished?this.detach():void 0}.bind(this),o=n.prefix,a=n&&n.matches;if(!a||!a.length)return i();if(0==o.indexOf(n.prefix)&&r==this.gatherCompletionsId){this.completions=new l(a),this.completions.setFilter(o);var s=this.completions.filtered;return s.length&&(1!=s.length||s[0].value!=o||s[0].snippet)?this.autoInsert&&1==s.length?this.insertMatch(s[0]):void this.openPopup(this.editor,o,e):i()}}.bind(this))},this.cancelContextMenu=function(){var e=function(t){this.editor.off("nativecontextmenu",e),t&&t.domEvent&&o.stopEvent(t.domEvent)}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),u.startCommand={name:"startAutocomplete",exec:function(e){e.completer||(e.completer=new u),e.completer.autoInsert=e.completer.autoSelect=!0,e.completer.showPopup(e),e.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var l=function(e,t){this.all=e,this.filtered=e,this.filterText=t||""};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else var t=this.all;this.filterText=e,t=this.filterCompletions(t,this.filterText),t=t.sort(function(e,t){return t.exactMatch-e.exactMatch||t.score-e.score});var n=null;t=t.filter(function(e){var t=e.value||e.caption||e.snippet;return t===n?!1:(n=t,!0)}),this.filtered=t},this.filterCompletions=function(e,t){var n=[],r=t.toUpperCase(),i=t.toLowerCase();e:for(var o,a=0;o=e[a];a++){var s=o.value||o.caption||o.snippet;if(s){for(var u,l,c=-1,p=0,h=0,f=0;f<t.length;f++){var d=s.indexOf(i[f],c+1),m=s.indexOf(r[f],c+1);if(u=d>=0&&(0>m||m>d)?d:m,0>u)continue e;l=u-c-1,l>0&&(-1===c&&(h+=10),h+=l),p|=1<<u,c=u}o.matchMask=p,o.exactMatch=h?0:1,o.score=(o.score||0)-h,n.push(o)}}return n}}).call(l.prototype),t.Autocomplete=u,t.FilteredList=l}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/edit_session","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(e,t){var n=(e("../edit_session").EditSession,e("../virtual_renderer").VirtualRenderer),r=e("../editor").Editor,i=e("../range").Range,o=e("../lib/event"),a=e("../lib/lang"),s=e("../lib/dom"),u=function(e){var t=new n(e);t.$maxLines=4;var i=new r(t);return i.setHighlightActiveLine(!1),i.setShowPrintMargin(!1),i.renderer.setShowGutter(!1),i.renderer.setHighlightGutterLine(!1),i.$mouseHandler.$focusWaitTimout=0,i},l=function(e){var t=s.createElement("div"),n=new u(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1);var r=function(){};n.focus=r,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=r,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),p.start.row=p.end.row=t.row,e.stop()});var l,c=new i(-1,0,-1,1/0),p=new i(-1,0,-1,1/0);p.id=n.session.addMarker(p,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?c.id&&(n.session.removeMarker(c.id),c.id=null):c.id=n.session.addMarker(c,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",function(e){if(!l)return void(l=e);if(l.x!=e.x||l.y!=e.y){l=e,l.scrollTop=n.renderer.scrollTop;var t=l.getDocumentPosition().row;c.start.row!=t&&(c.id||n.setRow(t),f(t))}}),n.renderer.on("beforeRender",function(){if(l&&-1!=c.start.row){l.$pos=null;var e=l.getDocumentPosition().row;c.id||n.setRow(e),f(e,!0)}}),n.renderer.on("afterRender",function(){var e=n.getRow(),t=n.renderer.$textLayer,r=t.element.childNodes[e-t.config.firstRow];r!=t.selectedNode&&(t.selectedNode&&s.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=r,r&&s.addCssClass(r,"ace_selected"))});var h=function(){f(-1)},f=function(e,t){e!==c.start.row&&(c.start.row=c.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return c.start.row},o.addListener(n.container,"mouseout",h),n.on("hide",h),n.on("changeSelection",h),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var d=n.session.bgTokenizer;return d.$tokenizeRow=function(e){var t=n.data[e],r=[];if(!t)return r;"string"==typeof t&&(t={value:t}),t.caption||(t.caption=t.value);for(var i,o,a=-1,e=0;e<t.caption.length;e++)o=t.caption[e],i=t.matchMask&1<<e?1:0,a!==i?(r.push({type:t.className||""+(i?"completion-highlight":""),value:o}),a=i):r[r.length-1].value+=o;if(t.meta){var s=n.renderer.$size.scrollerWidth/n.renderer.layerConfig.characterWidth;t.meta.length+t.caption.length<s-2&&r.push({type:"rightAlignedText",value:t.meta})}return r},d.$updateOnChange=r,d.start=r,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.data=[],n.setData=function(e){n.data=e||[],n.setValue(a.stringRepeat("\n",e.length),-1),n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return p.start.row},n.setRow=function(e){e=Math.max(-1,Math.min(this.data.length,e)),p.start.row!=e&&(n.selection.clearSelection(),p.start.row=p.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",function(){n.isOpen&&n.setRow(n.selection.lead.row)}),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(e,t,r){var i=this.container,o=window.innerHeight,a=window.innerWidth,s=this.renderer,u=s.$maxLines*t*1.4,c=e.top+this.$borderSize;c+u>o-t&&!r?(i.style.top="",i.style.bottom=o-c+"px",n.isTopdown=!1):(c+=t,i.style.top=c+"px",i.style.bottom="",n.isTopdown=!0),i.style.display="",this.renderer.$textLayer.checkForSizeChanges();var p=e.left;p+i.offsetWidth>a&&(p=a-i.offsetWidth),i.style.left=p+"px",this._signal("show"),l=null,n.isOpen=!0},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n};s.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),t.AcePopup=l}),ace.define("ace/autocomplete/util",["require","exports","module"],function(e,t){t.parForEach=function(e,t,n){var r=0,i=e.length;0===i&&n();for(var o=0;i>o;o++)t(e[o],function(e,t){r++,r===i&&n(e,t)})};var n=/[a-zA-Z_0-9\$-]/;t.retrievePrecedingIdentifier=function(e,t,r){r=r||n;for(var i=[],o=t-1;o>=0&&r.test(e[o]);o--)i.push(e[o]);return i.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,r){r=r||n;for(var i=[],o=t;o<e.length&&r.test(e[o]);o++)i.push(e[o]);return i}}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(e,t){function n(e,t){var n=e.getTextRange(i.fromPoints({row:0,column:0},t));return n.split(o).length-1}function r(e,t){var r=n(e,t),i=e.getValue().split(o),a=Object.create(null),s=i[r];return i.forEach(function(e,t){if(e&&e!==s){var n=Math.abs(r-t),o=i.length-n;a[e]=a[e]?Math.max(o,a[e]):o}}),a}var i=e("../range").Range,o=/[^a-zA-Z_0-9\$\-]+/;t.getCompletions=function(e,t,n,i,o){var a=r(t,n,i),s=Object.keys(a);o(null,s.map(function(e){return{name:e,value:e,score:a[e],meta:"local"}}))}}),ace.define("ace/mode/diff",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/diff_highlight_rules","ace/mode/folding/diff"],function(e,t){var n=e("../lib/oop"),r=e("./text").Mode,i=e("./diff_highlight_rules").DiffHighlightRules,o=e("./folding/diff").FoldMode,a=function(){this.HighlightRules=i,this.foldingRules=new o(["diff","index","\\+{3}","@@|\\*{5}"],"i")};n.inherits(a,r),function(){this.$id="ace/mode/diff"}.call(a.prototype),t.Mode=a}),ace.define("ace/mode/diff_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{regex:"^(?:\\*{15}|={67}|-{3}|\\+{3})$",token:"punctuation.definition.separator.diff",name:"keyword"},{regex:"^(@@)(\\s*.+?\\s*)(@@)(.*)$",token:["constant","constant.numeric","constant","comment.doc.tag"]},{regex:"^(\\d+)([,\\d]+)(a|d|c)(\\d+)([,\\d]+)(.*)$",token:["constant.numeric","punctuation.definition.range.diff","constant.function","constant.numeric","punctuation.definition.range.diff","invalid"],name:"meta."},{regex:"^(\\-{3}|\\+{3}|\\*{3})( .+)$",token:["constant.numeric","meta.tag"]},{regex:"^([!+>])(.*?)(\\s*)$",token:["support.constant","string.added","invalid"]},{regex:"^([<\\-])(.*?)(\\s*)$",token:["support.function","string.removed","invalid"]},{regex:"^(diff)(\\s+--\\w+)?(.+?)( .+)?$",token:["variable","variable","keyword","variable"]},{regex:"^Index.+$",token:"variable"},{regex:"^\\s+$",token:"text"},{regex:"\\s*$",token:"invalid"},{defaultToken:"invisible",caseInsensitive:!0}]}
};n.inherits(i,r),t.DiffHighlightRules=i}),ace.define("ace/mode/folding/diff",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(e,t){var n=e("../../lib/oop"),r=e("./fold_mode").FoldMode,i=e("../../range").Range,o=t.FoldMode=function(e,t){this.regExpList=e,this.flag=t,this.foldingStartMarker=RegExp("^("+e.join("|")+")",this.flag)};n.inherits(o,r),function(){this.getFoldWidgetRange=function(e,t,n){for(var r=e.getLine(n),o={row:n,column:r.length},a=this.regExpList,s=1;s<=a.length;s++){var u=RegExp("^("+a.slice(0,s).join("|")+")",this.flag);if(u.test(r))break}for(var l=e.getLength();++n<l&&(r=e.getLine(n),!u.test(r)););return n!=o.row+1?i.fromPoints(o,{row:n-1,column:r.length}):void 0}}.call(o.prototype)}),ace.define("ace/mode/less",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/less_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t){var n=e("../lib/oop"),r=e("./text").Mode,i=e("./less_highlight_rules").LessHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("./behaviour/css").CssBehaviour,s=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=i,this.$outdent=new o,this.$behaviour=new a,this.foldingRules=new s};n.inherits(u,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e).tokens;if(i.length&&"comment"==i[i.length-1].type)return r;var o=t.match(/^.*\{\s*$/);return o&&(r+=n),r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.$id="ace/mode/less"}.call(u.prototype),t.Mode=u}),ace.define("ace/mode/less_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),r=e("../lib/lang"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=r.arrayToMap(function(){for(var e="-webkit-|-moz-|-o-|-ms-|-svg-|-pie-|-khtml-".split("|"),t="appearance|background-clip|background-inline-policy|background-origin|background-size|binding|border-bottom-colors|border-left-colors|border-right-colors|border-top-colors|border-end|border-end-color|border-end-style|border-end-width|border-image|border-start|border-start-color|border-start-style|border-start-width|box-align|box-direction|box-flex|box-flexgroup|box-ordinal-group|box-orient|box-pack|box-sizing|column-count|column-gap|column-width|column-rule|column-rule-width|column-rule-style|column-rule-color|float-edge|font-feature-settings|font-language-override|force-broken-image-icon|image-region|margin-end|margin-start|opacity|outline|outline-color|outline-offset|outline-radius|outline-radius-bottomleft|outline-radius-bottomright|outline-radius-topleft|outline-radius-topright|outline-style|outline-width|padding-end|padding-start|stack-sizing|tab-size|text-blink|text-decoration-color|text-decoration-line|text-decoration-style|transform|transform-origin|transition|transition-delay|transition-duration|transition-property|transition-timing-function|user-focus|user-input|user-modify|user-select|window-shadow|border-radius".split("|"),n="azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|"),r=[],i=0,o=e.length;o>i;i++)Array.prototype.push.apply(r,(e[i]+t.join("|"+e[i])).split("|"));return Array.prototype.push.apply(r,t),Array.prototype.push.apply(r,n),r}()),t=r.arrayToMap("categorize|scale|scalelinear|scalelog|hsl|hsla|rgb|rgba|url|attr|counter|counters|lighten|darken|saturate|desaturate|fadein|fadeout|fade|spin|mix|hue|saturation|lightness|alpha|round|ceil|floor|percentage|color|iscolor|isnumber|isstring|iskeyword|isurl|ispixel|ispercentage|isem".split("|")),n=r.arrayToMap("on|off|yes|no|absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),i=r.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|")),o=r.arrayToMap("@controls|@settings|@mixin|@extend|@include|@import|@media|@debug|@warn|@if|@for|@each|@while|@else|@font-face|@-webkit-keyframes|if|and|!default|module|def|end|declare|when|not|and".split("|")),a=r.arrayToMap("a|abbr|acronym|address|applet|area|article|aside|audio|b|base|basefont|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|keygen|kbd|label|legend|li|link|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|u|ul|var|video|wbr|xmp".split("|")),s="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",u=s+".."+s;this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:s+"(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)"},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:"constant.numeric",regex:s},{token:function(e){return o.hasOwnProperty(e)?"keyword":"variable"},regex:"@[a-z0-9_\\-@]*\\b"},{token:function(r){return e.hasOwnProperty(r.toLowerCase())?"support.type":o.hasOwnProperty(r)?"keyword":n.hasOwnProperty(r)?"constant.language":t.hasOwnProperty(r)?"support.function":i.hasOwnProperty(r.toLowerCase())?"support.constant.color":a.hasOwnProperty(r.toLowerCase())?"variable.language":"text"},regex:"\\-?[@a-z_][@a-z0-9_\\-]*"},{token:"variable.language",regex:"#[a-z0-9-_]+"},{token:"variable.language",regex:"\\.[a-z0-9-_]+"},{token:"variable.language",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{token:"keyword.operator",regex:"<|>|<=|>=|==|!=|-|%|#|\\+|\\$|\\+|\\*"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",regex:".+"}]}};n.inherits(o,i),t.LessHighlightRules=o}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var r=e.getLine(t),i=r.match(/^(\s*\})/);if(!i)return 0;var o=i[1].length,a=e.findMatchingBracket({row:t,column:o});if(!a||a.row==t)return 0;var s=this.$getIndent(e.getLine(a.row));e.replace(new n(t,0,t,o-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t){var n=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),i=e("../../token_iterator").TokenIterator,o=function(){this.inherit(r),this.add("colon","insertion",function(e,t,n,r,o){if(":"===o){var a=n.getCursorPosition(),s=new i(r,a.row,a.column),u=s.getCurrentToken();if(u&&u.value.match(/\s+/)&&(u=s.stepBackward()),u&&"support.type"===u.type){var l=r.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(":"===c)return{text:"",selection:[1,1]};if(!l.substring(a.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,n,r,o){var a=r.doc.getTextRange(o);if(!o.isMultiLine()&&":"===a){var s=n.getCursorPosition(),u=new i(r,s.row,s.column),l=u.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=u.stepBackward()),l&&"support.type"===l.type){var c=r.doc.getLine(o.start.row),p=c.substring(o.end.column,o.end.column+1);if(";"===p)return o.end.column++,o}}}),this.add("semicolon","insertion",function(e,t,n,r,i){if(";"===i){var o=n.getCursorPosition(),a=r.doc.getLine(o.row),s=a.substring(o.column,o.column+1);if(";"===s)return{text:"",selection:[1,1]}}})};n.inherits(o,r),t.CssBehaviour=o}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t){var n,r=e("../../lib/oop"),i=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),s=["text","paren.rparen","punctuation.operator"],u=["text","paren.rparen","punctuation.operator","comment"],l={},c=function(e){var t=-1;return e.multiSelect&&(t=e.selection.id,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount})),l[t]?n=l[t]:void(n=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},p=function(){this.add("braces","insertion",function(e,t,r,i,o){var s=r.getCursorPosition(),u=i.doc.getLine(s.row);if("{"==o){c(r);var l=r.getSelectionRange(),h=i.doc.getTextRange(l);if(""!==h&&"{"!==h&&r.getWrapBehavioursEnabled())return{text:"{"+h+"}",selection:!1};if(p.isSaneInsertion(r,i))return/[\]\}\)]/.test(u[s.column])||r.inMultiSelectMode?(p.recordAutoInsert(r,i,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(r,i,"{"),{text:"{",selection:[1,1]})}else if("}"==o){c(r);var f=u.substring(s.column,s.column+1);if("}"==f){var d=i.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==d&&p.isAutoInsertedClosing(s,u,o))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){c(r);var m="";p.isMaybeInsertedClosing(s,u)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),p.clearMaybeInsertedClosing());var f=u.substring(s.column,s.column+1);if("}"===f){var g=i.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!g)return null;var v=this.$getIndent(i.getLine(g.row))}else{if(!m)return void p.clearMaybeInsertedClosing();var v=this.$getIndent(u)}var y=v+i.getTabString();return{text:"\n"+y+"\n"+v+m,selection:[1,y.length,1,y.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,r,i,o){var a=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==a){c(r);var s=i.doc.getLine(o.start.row),u=s.substring(o.end.column,o.end.column+1);if("}"==u)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if("("==i){c(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return{text:"("+a+")",selection:!1};if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){c(n);var s=n.getCursorPosition(),u=r.doc.getLine(s.row),l=u.substring(s.column,s.column+1);if(")"==l){var h=r.$findOpeningBracket(")",{column:s.column+1,row:s.row});if(null!==h&&p.isAutoInsertedClosing(s,u,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if(")"==s)return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if("["==i){c(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return{text:"["+a+"]",selection:!1};if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){c(n);var s=n.getCursorPosition(),u=r.doc.getLine(s.row),l=u.substring(s.column,s.column+1);if("]"==l){var h=r.$findOpeningBracket("]",{column:s.column+1,row:s.row});if(null!==h&&p.isAutoInsertedClosing(s,u,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if("]"==s)return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){if('"'==i||"'"==i){c(n);var o=i,a=n.getSelectionRange(),s=r.doc.getTextRange(a);if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return{text:o+s+o,selection:!1};var u=n.getCursorPosition(),l=r.doc.getLine(u.row),h=l.substring(u.column-1,u.column);if("\\"==h)return null;for(var f,d=r.getTokens(a.start.row),m=0,g=-1,v=0;v<d.length&&(f=d[v],"string"==f.type?g=-1:0>g&&(g=f.value.indexOf(o)),!(f.value.length+m>a.start.column));v++)m+=d[v].value.length;if(!f||0>g&&"comment"!==f.type&&("string"!==f.type||a.start.column!==f.value.length+m-1&&f.value.lastIndexOf(o)===f.value.length-1)){if(!p.isSaneInsertion(n,r))return;return{text:o+o,selection:[1,1]}}if(f&&"string"===f.type){var y=l.substring(u.column,u.column+1);if(y==o)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if(s==o)return i.end.column++,i}})};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new o(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",s)){var i=new o(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",s))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",u)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,r){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=i.row,n.autoInsertedLineEnd=r+o.substr(i.column),n.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,r){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=i.row,n.maybeInsertedLineStart=o.substr(0,i.column)+r,n.maybeInsertedLineEnd=o.substr(i.column),n.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,r){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&r===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(p,i),t.CstyleBehaviour=p}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t){var n=e("../../lib/oop"),r=e("../../range").Range,i=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(o,i),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n),o=i.match(this.foldingStartMarker);if(o){var a=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,a);var s=e.getCommentFoldRange(n,a+o[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t){var o=i.match(this.foldingStopMarker);if(o){var a=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,a):e.getCommentFoldRange(n,a,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),i=n.search(/\S/),o=t,a=n.length;t+=1;for(var s=t,u=e.getLength();++t<u;){n=e.getLine(t);var l=n.search(/\S/);if(-1!==l){if(i>l)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=o)break;if(c.isMultiLine())t=c.end.row;else if(i==l)break}s=t}}return new r(o,a,s,e.getLine(s).length)}}.call(o.prototype)}),ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript","ace/mode/xml","ace/mode/html","ace/mode/markdown_highlight_rules","ace/mode/folding/markdown"],function(e,t){var n=e("../lib/oop"),r=e("./text").Mode,i=e("./javascript").Mode,o=e("./xml").Mode,a=e("./html").Mode,s=e("./markdown_highlight_rules").MarkdownHighlightRules,u=e("./folding/markdown").FoldMode,l=function(){this.HighlightRules=s,this.createModeDelegates({"js-":i,"xml-":o,"html-":a}),this.foldingRules=new u};n.inherits(l,r),function(){this.type="text",this.blockComment={start:"<!--",end:"-->"},this.getNextLineIndent=function(e,t){if("listblock"==e){var n=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(t);if(!n)return"";var r=n[2];return r||(r=parseInt(n[3],10)+1+"."),n[1]+r+n[4]}return this.$getIndent(t)},this.$id="ace/mode/markdown"}.call(l.prototype),t.Mode=l}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t){var n=e("../lib/oop"),r=e("./text").Mode,i=e("./javascript_highlight_rules").JavaScriptHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,a=(e("../range").Range,e("../worker/worker_client").WorkerClient),s=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,l=function(){this.HighlightRules=i,this.$outdent=new o,this.$behaviour=new s,this.foldingRules=new u};n.inherits(l,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e),o=i.tokens,a=i.state;if(o.length&&"comment"==o[o.length-1].type)return r;if("start"==e||"no_regex"==e){var s=t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);s&&(r+=n)}else if("doc-start"==e){if("start"==a||"no_regex"==a)return"";var s=t.match(/^\s*(\/?)\*/);s&&(s[1]&&(r+=" "),r+="* ")}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("jslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(l.prototype),t.Mode=l}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,i=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),t="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",n="[a-zA-Z\\$_\xa1-\uffff][a-zA-Z\\d\\$_\xa1-\uffff]*\\b",i="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},r.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+n+")(\\.)(prototype)(\\.)("+n+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+n+")(\\.)("+n+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+n+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+n+")(\\.)("+n+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+n+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+n+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+t+")\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|timeEnd|assert)\b/},{token:e,regex:n},{token:"keyword.operator",regex:/--|\+\+|[!$%&*+\-~]|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|\*=|%=|\+=|\-=|&=|\^=/,next:"start"},{token:"punctuation.operator",regex:/\?|\:|\,|\;|\./,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"keyword.operator",regex:/\/=?/,next:"start"},{token:"comment",regex:/^#!.*$/}],start:[r.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:n},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],comment:[{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment"}],line_comment_regex_allowed:[{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment"}],line_comment:[{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment"}],qqstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},this.embedRules(r,"doc-",[r.getEndRule("no_regex")])};n.inherits(o,i),t.JavaScriptHighlightRules=o}),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc.tag",regex:"\\bTODO\\b"},{defaultToken:"comment.doc"}]}};n.inherits(i,r),i.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},i.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=i}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var r=e.getLine(t),i=r.match(/^(\s*\})/);
if(!i)return 0;var o=i[1].length,a=e.findMatchingBracket({row:t,column:o});if(!a||a.row==t)return 0;var s=this.$getIndent(e.getLine(a.row));e.replace(new n(t,0,t,o-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t){var n,r=e("../../lib/oop"),i=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),s=["text","paren.rparen","punctuation.operator"],u=["text","paren.rparen","punctuation.operator","comment"],l={},c=function(e){var t=-1;return e.multiSelect&&(t=e.selection.id,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount})),l[t]?n=l[t]:void(n=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},p=function(){this.add("braces","insertion",function(e,t,r,i,o){var s=r.getCursorPosition(),u=i.doc.getLine(s.row);if("{"==o){c(r);var l=r.getSelectionRange(),h=i.doc.getTextRange(l);if(""!==h&&"{"!==h&&r.getWrapBehavioursEnabled())return{text:"{"+h+"}",selection:!1};if(p.isSaneInsertion(r,i))return/[\]\}\)]/.test(u[s.column])||r.inMultiSelectMode?(p.recordAutoInsert(r,i,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(r,i,"{"),{text:"{",selection:[1,1]})}else if("}"==o){c(r);var f=u.substring(s.column,s.column+1);if("}"==f){var d=i.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==d&&p.isAutoInsertedClosing(s,u,o))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){c(r);var m="";p.isMaybeInsertedClosing(s,u)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),p.clearMaybeInsertedClosing());var f=u.substring(s.column,s.column+1);if("}"===f){var g=i.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!g)return null;var v=this.$getIndent(i.getLine(g.row))}else{if(!m)return void p.clearMaybeInsertedClosing();var v=this.$getIndent(u)}var y=v+i.getTabString();return{text:"\n"+y+"\n"+v+m,selection:[1,y.length,1,y.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,r,i,o){var a=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==a){c(r);var s=i.doc.getLine(o.start.row),u=s.substring(o.end.column,o.end.column+1);if("}"==u)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if("("==i){c(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return{text:"("+a+")",selection:!1};if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){c(n);var s=n.getCursorPosition(),u=r.doc.getLine(s.row),l=u.substring(s.column,s.column+1);if(")"==l){var h=r.$findOpeningBracket(")",{column:s.column+1,row:s.row});if(null!==h&&p.isAutoInsertedClosing(s,u,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if(")"==s)return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if("["==i){c(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return{text:"["+a+"]",selection:!1};if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){c(n);var s=n.getCursorPosition(),u=r.doc.getLine(s.row),l=u.substring(s.column,s.column+1);if("]"==l){var h=r.$findOpeningBracket("]",{column:s.column+1,row:s.row});if(null!==h&&p.isAutoInsertedClosing(s,u,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if("]"==s)return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){if('"'==i||"'"==i){c(n);var o=i,a=n.getSelectionRange(),s=r.doc.getTextRange(a);if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return{text:o+s+o,selection:!1};var u=n.getCursorPosition(),l=r.doc.getLine(u.row),h=l.substring(u.column-1,u.column);if("\\"==h)return null;for(var f,d=r.getTokens(a.start.row),m=0,g=-1,v=0;v<d.length&&(f=d[v],"string"==f.type?g=-1:0>g&&(g=f.value.indexOf(o)),!(f.value.length+m>a.start.column));v++)m+=d[v].value.length;if(!f||0>g&&"comment"!==f.type&&("string"!==f.type||a.start.column!==f.value.length+m-1&&f.value.lastIndexOf(o)===f.value.length-1)){if(!p.isSaneInsertion(n,r))return;return{text:o+o,selection:[1,1]}}if(f&&"string"===f.type){var y=l.substring(u.column,u.column+1);if(y==o)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)){c(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if(s==o)return i.end.column++,i}})};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new o(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",s)){var i=new o(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",s))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",u)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,r){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=i.row,n.autoInsertedLineEnd=r+o.substr(i.column),n.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,r){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=i.row,n.maybeInsertedLineStart=o.substr(0,i.column)+r,n.maybeInsertedLineEnd=o.substr(i.column),n.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,r){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&r===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(p,i),t.CstyleBehaviour=p}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t){var n=e("../../lib/oop"),r=e("../../range").Range,i=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(o,i),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n),o=i.match(this.foldingStartMarker);if(o){var a=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,a);var s=e.getCommentFoldRange(n,a+o[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t){var o=i.match(this.foldingStopMarker);if(o){var a=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,a):e.getCommentFoldRange(n,a,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),i=n.search(/\S/),o=t,a=n.length;t+=1;for(var s=t,u=e.getLength();++t<u;){n=e.getLine(t);var l=n.search(/\S/);if(-1!==l){if(i>l)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=o)break;if(c.isMultiLine())t=c.end.row;else if(i==l)break}s=t}}return new r(o,a,s,e.getLine(s).length)}}.call(o.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml"],function(e,t){var n=e("../lib/oop"),r=e("../lib/lang"),i=e("./text").Mode,o=e("./xml_highlight_rules").XmlHighlightRules,a=e("./behaviour/xml").XmlBehaviour,s=e("./folding/xml").FoldMode,u=function(){this.HighlightRules=o,this.$behaviour=new a,this.foldingRules=new s};n.inherits(u,i),function(){this.voidElements=r.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.$id="ace/mode/xml"}.call(u.prototype),t.Mode=u}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)([-_a-zA-Z0-9]+)",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)([-_a-zA-Z0-9]+)",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===i&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),n.inherits(i,r),t.XmlHighlightRules=i}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(e,t){function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),i=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=function(){this.add("string_dquotes","insertion",function(e,t,r,i,a){if('"'==a||"'"==a){var s=a,u=i.doc.getTextRange(r.getSelectionRange());if(""!==u&&"'"!==u&&'"'!=u&&r.getWrapBehavioursEnabled())return{text:s+u+s,selection:!1};var l=r.getCursorPosition(),c=i.doc.getLine(l.row),p=c.substring(l.column,l.column+1),h=new o(i,l.row,l.column),f=h.getCurrentToken();if(p==s&&(n(f,"attribute-value")||n(f,"string")))return{text:"",selection:[1,1]};if(f||(f=h.stepBackward()),!f)return;for(;n(f,"tag-whitespace")||n(f,"whitespace");)f=h.stepBackward();var d=!p||p.match(/\s/);if(n(f,"attribute-equals")&&(d||">"==p)||n(f,"decl-attribute-equals")&&(d||"?"==p))return{text:s+s,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)){var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if(s==o)return i.end.column++,i}}),this.add("autoclosing","insertion",function(e,t,r,i,a){if(">"==a){var s=r.getCursorPosition(),u=new o(i,s.row,s.column),l=u.getCurrentToken()||u.stepBackward();if(!l||!(n(l,"tag-name")||n(l,"tag-whitespace")||n(l,"attribute-name")||n(l,"attribute-equals")||n(l,"attribute-value")))return;if(n(l,"reference.attribute-value"))return;if(n(l,"attribute-value")){var c=l.value.charAt(0);if('"'==c||"'"==c){var p=l.value.charAt(l.value.length-1),h=u.getCurrentTokenColumn()+l.value.length;if(h>s.column||h==s.column&&c!=p)return}}for(;!n(l,"tag-name");)l=u.stepBackward();var f=u.getCurrentTokenRow(),d=u.getCurrentTokenColumn();if(n(u.stepBackward(),"end-tag-open"))return;var m=l.value;if(f==s.row&&(m=m.substring(0,s.column-d)),this.voidElements.hasOwnProperty(m.toLowerCase()))return;return{text:"></"+m+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,n,r,i){if("\n"==i){var o=n.getCursorPosition(),a=r.getLine(o.row),s=a.substring(o.column,o.column+2);if("</"==s){var u=this.$getIndent(a),l=u+r.getTabString();return{text:"\n"+l+"\n"+u,selection:[1,l.length,1,l.length]}}}})};r.inherits(a,i),t.XmlBehaviour=a}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t){function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),i=(e("../../lib/lang"),e("../../range").Range),o=e("./fold_mode").FoldMode,a=e("../../token_iterator").TokenIterator,s=t.FoldMode=function(e,t){o.call(this),this.voidElements=r.mixin(e||{},t||{})};r.inherits(s,o);var u=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?"markbeginend"==t?"end":"":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())?"":this._findEndTagInLine(e,n,r.tagName,r.end.column)?"":"start":""},this._getFirstTagInLine=function(e,t){for(var r=e.getTokens(t),i=new u,o=0;o<r.length;o++){var a=r[o];if(n(a,"tag-open")){if(i.end.column=i.start.column+a.value.length,i.closing=n(a,"end-tag-open"),a=r[++o],!a)return null;for(i.tagName=a.value,i.end.column+=a.value.length,o++;o<r.length;o++)if(a=r[o],i.end.column+=a.value.length,n(a,"tag-close")){i.selfClosing="/>"==a.value;break}return i}if(n(a,"tag-close"))return i.selfClosing="/>"==a.value,i;i.start.column+=a.value.length}return null},this._findEndTagInLine=function(e,t,r,i){for(var o=e.getTokens(t),a=0,s=0;s<o.length;s++){var u=o[s];if(a+=u.value.length,!(i>a)&&n(u,"end-tag-open")&&(u=o[s+1],u&&u.value==r))return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var r=new u;do if(n(t,"tag-open"))r.closing=n(t,"end-tag-open"),r.start.row=e.getCurrentTokenRow(),r.start.column=e.getCurrentTokenColumn();else if(n(t,"tag-name"))r.tagName=t.value;else if(n(t,"tag-close"))return r.selfClosing="/>"==t.value,r.end.row=e.getCurrentTokenRow(),r.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),r;while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var r=new u;do{if(n(t,"tag-open"))return r.closing=n(t,"end-tag-open"),r.start.row=e.getCurrentTokenRow(),r.start.column=e.getCurrentTokenColumn(),e.stepBackward(),r;n(t,"tag-name")?r.tagName=t.value:n(t,"tag-close")&&(r.selfClosing="/>"==t.value,r.end.row=e.getCurrentTokenRow(),r.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.voidElements.hasOwnProperty(t.tagName))return;if(this.voidElements.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return null;var o,s=r.closing||r.selfClosing,u=[];if(s)for(var l=new a(e,n,r.end.column),c={row:n,column:r.start.column};o=this._readTagBackward(l);){if(o.selfClosing){if(u.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,i.fromPoints(o.start,o.end)}if(o.closing)u.push(o);else if(this._pop(u,o),0==u.length)return o.start.column+=o.tagName.length+2,i.fromPoints(o.start,c)}else for(var l=new a(e,n,r.start.column),p={row:n,column:r.start.column+r.tagName.length+2};o=this._readTagForward(l);){if(o.selfClosing){if(u.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,i.fromPoints(o.start,o.end)}if(o.closing){if(this._pop(u,o),0==u.length)return i.fromPoints(p,o.start)}else u.push(o)}}}).call(s.prototype)}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(e,t){var n=e("../lib/oop"),r=e("../lib/lang"),i=e("./text").Mode,o=e("./javascript").Mode,a=e("./css").Mode,s=e("./html_highlight_rules").HtmlHighlightRules,u=e("./behaviour/xml").XmlBehaviour,l=e("./folding/html").FoldMode,c=e("./html_completions").HtmlCompletions,p=e("../worker/worker_client").WorkerClient,h=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],f=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],d=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=s,this.$behaviour=new u,this.$completer=new c,this.createModeDelegates({"js-":o,"css-":a}),this.foldingRules=new l(this.voidElements,r.arrayToMap(f))};n.inherits(d,i),function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=r.arrayToMap(h),this.getNextLineIndent=function(e,t){return this.$getIndent(t)},this.checkOutdent=function(){return!1},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){if(this.constructor==d){var t=new p(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}},this.$id="ace/mode/html"}.call(d.prototype),t.Mode=d}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t){var n=e("../lib/oop"),r=e("./text").Mode,i=e("./css_highlight_rules").CssHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,s=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,l=function(){this.HighlightRules=i,this.$outdent=new o,this.$behaviour=new s,this.foldingRules=new u};n.inherits(l,r),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e).tokens;if(i.length&&"comment"==i[i.length-1].type)return r;var o=t.match(/^.*\{\s*$/);return o&&(r+=n),r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("csslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}.call(l.prototype),t.Mode=l}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),i=t.supportType="animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index",o=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",s=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",u=t.supportConstantFonts="arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",l=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",c=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",p=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",h=function(){var e=this.createKeywordMapper({"support.function":o,"support.constant":a,"support.type":i,"support.constant.color":s,"support.constant.fonts":u},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+l+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:l},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:c},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:p},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};n.inherits(h,r),t.CssHighlightRules=h}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t){var n=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),i=e("../../token_iterator").TokenIterator,o=function(){this.inherit(r),this.add("colon","insertion",function(e,t,n,r,o){if(":"===o){var a=n.getCursorPosition(),s=new i(r,a.row,a.column),u=s.getCurrentToken();if(u&&u.value.match(/\s+/)&&(u=s.stepBackward()),u&&"support.type"===u.type){var l=r.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(":"===c)return{text:"",selection:[1,1]};if(!l.substring(a.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,n,r,o){var a=r.doc.getTextRange(o);if(!o.isMultiLine()&&":"===a){var s=n.getCursorPosition(),u=new i(r,s.row,s.column),l=u.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=u.stepBackward()),l&&"support.type"===l.type){var c=r.doc.getLine(o.start.row),p=c.substring(o.end.column,o.end.column+1);if(";"===p)return o.end.column++,o}}}),this.add("semicolon","insertion",function(e,t,n,r,i){if(";"===i){var o=n.getCursorPosition(),a=r.doc.getLine(o.row),s=a.substring(o.column,o.column+1);if(";"===s)return{text:"",selection:[1,1]}}})};n.inherits(o,r),t.CssBehaviour=o}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(e,t){var n=e("../lib/oop"),r=e("../lib/lang"),i=e("./css_highlight_rules").CssHighlightRules,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,s=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),u=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=s[t];
return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(i,"css-","style"),this.embedTagRules(o,"js-","script"),this.constructor===u&&this.normalizeRules()};n.inherits(u,a),t.HtmlHighlightRules=u}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(e,t){var n=e("../../lib/oop"),r=e("./mixed").FoldMode,i=e("./xml").FoldMode,o=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){r.call(this,new i(e,t),{"js-":new o,"css-":new o})};n.inherits(a,r)}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t){var n=e("../../lib/oop"),r=e("./fold_mode").FoldMode,i=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};n.inherits(i,r),function(){this.$getMode=function(e){"string"!=typeof e&&(e=e[0]);for(var t in this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,r){var i=this.$getMode(e);return i?i.getFoldWidget(t,n,r):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var r=this.$getMode(e.getState(n-1));return r&&r.getFoldWidget(e,t,n)||(r=this.$getMode(e.getState(n))),r&&r.getFoldWidget(e,t,n)||(r=this.defaultMode),r.getFoldWidgetRange(e,t,n)}}.call(i.prototype)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(e,t){function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}function r(e,t){for(var r=new i(e,t.row,t.column),o=r.getCurrentToken();o&&!n(o,"tag-name");)o=r.stepBackward();return o?o.value:void 0}var i=e("../token_iterator").TokenIterator,o=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],a=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],s=o.concat(a),u={html:["manifest"],head:[],title:[],base:["href","target"],link:["href","hreflang","rel","media","type","sizes"],meta:["http-equiv","name","content","charset"],style:["type","media","scoped"],script:["charset","type","src","defer","async"],noscript:["href"],body:["onafterprint","onbeforeprint","onbeforeunload","onhashchange","onmessage","onoffline","onpopstate","onredo","onresize","onstorage","onundo","onunload"],section:[],nav:[],article:["pubdate"],aside:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],footer:[],address:[],main:[],p:[],hr:[],pre:[],blockquote:["cite"],ol:["start","reversed"],ul:[],li:["value"],dl:[],dt:[],dd:[],figure:[],figcaption:[],div:[],a:["href","target","ping","rel","media","hreflang","type"],em:[],strong:[],small:[],s:[],cite:[],q:["cite"],dfn:[],abbr:[],data:[],time:["datetime"],code:[],"var":[],samp:[],kbd:[],sub:[],sup:[],i:[],b:[],u:[],mark:[],ruby:[],rt:[],rp:[],bdi:[],bdo:[],span:[],br:[],wbr:[],ins:["cite","datetime"],del:["cite","datetime"],img:["alt","src","height","width","usemap","ismap"],iframe:["name","src","height","width","sandbox","seamless"],embed:["src","height","width","type"],object:["param","data","type","height","width","usemap","name","form","classid"],param:["name","value"],video:["src","autobuffer","autoplay","loop","controls","width","height","poster"],audio:["src","autobuffer","autoplay","loop","controls"],source:["src","type","media"],track:["kind","src","srclang","label","default"],canvas:["width","height"],map:["name"],area:["shape","coords","href","hreflang","alt","target","media","rel","ping","type"],svg:[],math:[],table:["summary"],caption:[],colgroup:["span"],col:["span"],tbody:[],thead:[],tfoot:[],tr:[],td:["headers","rowspan","colspan"],th:["headers","rowspan","colspan","scope"],form:["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"],fieldset:["disabled","form","name"],legend:[],label:["form","for"],input:["type","accept","alt","autocomplete","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","multiple","pattern","placeholder","readonly","required","size","src","step","width","files","value"],button:["autofocus","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","value","type"],select:["autofocus","disabled","form","multiple","name","size"],datalist:[],optgroup:["disabled","label"],option:["disabled","selected","label","value"],textarea:["autofocus","disabled","form","maxlength","name","placeholder","readonly","required","rows","cols","wrap"],keygen:["autofocus","challenge","disabled","form","keytype","name"],output:["for","form","name"],progress:["value","max"],meter:["value","min","max","low","high","optimum"],details:["open"],summary:[],command:["type","label","icon","disabled","checked","radiogroup","command"],menu:["type","label"],dialog:["open"]},l=Object.keys(u),c=function(){};(function(){this.getCompletions=function(e,t,r,i){var o=t.getTokenAt(r.row,r.column);return o?n(o,"tag-name")||n(o,"tag-open")||n(o,"end-tag-open")?this.getTagCompletions(e,t,r,i):n(o,"tag-whitespace")||n(o,"attribute-name")?this.getAttributeCompetions(e,t,r,i):[]:[]},this.getTagCompletions=function(){return l.map(function(e){return{value:e,meta:"tag",score:Number.MAX_VALUE}})},this.getAttributeCompetions=function(e,t,n){var i=r(t,n);if(!i)return[];var o=s;return i in u&&(o=o.concat(u[i])),o.map(function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:Number.MAX_VALUE}})}}).call(c.prototype),t.HtmlCompletions=c}),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules","ace/mode/html_highlight_rules","ace/mode/css_highlight_rules"],function(e,t){function n(e,t){return{token:"support.function",regex:"^\\s*```"+e+"\\s*$",push:t+"start"}}var r=e("../lib/oop"),i=e("../lib/lang"),o=e("./text_highlight_rules").TextHighlightRules,a=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./xml_highlight_rules").XmlHighlightRules,u=e("./html_highlight_rules").HtmlHighlightRules,l=e("./css_highlight_rules").CssHighlightRules,c=function(e){return"(?:[^"+i.escapeRegExp(e)+"\\\\]|\\\\.)*"},p=function(){u.call(this),this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(e){return"markup.heading."+e.length},regex:/^#{1,6}(?=\s*[^ #]|\s+#.)/,next:"header"},n("(?:javascript|js)","jscode-"),n("xml","xmlcode-"),n("html","htmlcode-"),n("css","csscode-"),{token:"support.function",regex:"^\\s*```\\s*\\S*(?:{.*?\\})?\\s*$",next:"githubblock"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,2}(?:(?: ?\\* ?){3,}|(?: ?\\- ?){3,}|(?: ?\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+c("]")+")(\\]s*\\[)("+c("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\[)("+c("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+c('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},{token:"support.function",regex:"^\\s*```\\s*[a-zA-Z]*(?:{.*?\\})?\\s*$",next:"githubblock"},{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:[{token:"support.function",regex:"^\\s*```",next:"start"},{token:"support.function",regex:".+"}]}),this.embedRules(a,"jscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(u,"htmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(l,"csscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(s,"xmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.normalizeRules()};r.inherits(p,o),t.MarkdownHighlightRules=p}),ace.define("ace/mode/folding/markdown",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(e,t){var n=e("../../lib/oop"),r=e("./fold_mode").FoldMode,i=e("../../range").Range,o=t.FoldMode=function(){};n.inherits(o,r),function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"`"==r[0]&&"start"==e.bgTokenizer.getState(n)?"end":"start":""},this.getFoldWidgetRange=function(e,t,n){function r(t){return p=e.getTokens(t)[0],p&&0===p.type.lastIndexOf(h,0)}function o(){var e=p.value[0];return"="==e?6:"-"==e?5:7-p.value.search(/[^#]/)}var a=e.getLine(n),s=a.length,u=e.getLength(),l=n,c=n;if(a.match(this.foldingStartMarker)){if("`"==a[0]){if("start"!==e.bgTokenizer.getState(n)){for(;++n<u&&(a=e.getLine(n),!("`"==a[0]&"```"==a.substring(0,3))););return new i(l,s,n,0)}for(;n-->0&&(a=e.getLine(n),!("`"==a[0]&"```"==a.substring(0,3))););return new i(n,a.length,l,0)}var p,h="markup.heading";if(r(n)){for(var f=o();++n<u;)if(r(n)){var d=o();if(d>=f)break}if(c=n-(p&&-1!=["=","-"].indexOf(p.value[0])?2:1),c>l)for(;c>l&&/^\s*$/.test(e.getLine(c));)c--;if(c>l){var m=e.getLine(c).length;return new i(l,s,c,m)}}}}}.call(o.prototype)}),ace.define("ace/theme/diff",["require","exports","module","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssClass="ace-diff",t.cssText="/* Kumu ACE editor diff theme */.ace-diff .ace_gutter {background: #e8e8e8;color: #AAA;}.ace-diff  {background: #fff;color: #000;}/* added */.ace-diff .ace_constant, .ace-diff .ace_string.ace_added {color: #0086B3;}/* removed */.ace-diff .ace_function, .ace-diff .ace_string.ace_removed {color: #d14;}/* unchanged */.ace-diff .ace_invisible {color: #ccc;}.ace-diff .ace_marker-layer .ace_active-line {background: rgb(255, 255, 204);}.ace-diff .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-diff.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}/* bold keywords cause cursor issues for some fonts *//* this disables bold style for editor and keeps for static highlighter */.ace-diff.ace_nobold .ace_line > span {font-weight: normal !important;}.ace-diff .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-diff .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-diff .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-diff .ace_gutter-active-line {background-color : rgba(0, 0, 0, 0.07);}.ace-diff .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}";var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),ace.define("ace/theme/kumu",["require","exports","module","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssClass="ace-kumu",t.cssText='/* Kumu ACE editor theme */.ace-kumu .ace_gutter {background: #e8e8e8;color: #AAA;}.ace-kumu  {background: #fff;color: #000;}.ace-kumu .ace_keyword {font-weight: bold;}.ace-kumu .ace_string {color: #D14;}.ace-kumu .ace_inivisible {color: #DDD;}.ace-kumu .ace_variable {color: #000;}.ace-kumu .ace_variable.ace_class {color: teal;}.ace-kumu .ace_variable.ace_language  {color: #000;}.ace-kumu .ace_variable.ace_instance {color: teal;}.ace-kumu .ace_constant {color: red;}.ace-kumu .ace_constant.ace_numeric {color: #099;}.ace-kumu .ace_constant.ace_buildin {color: #0086B3;}.ace-kumu .ace_constant.ace_language {font-weight: bold;}.ace-kumu .ace_support.ace_function {color: #0086B3;}.ace-kumu .ace_support.ace_constant {color: #0086B3;}.ace-kumu .ace_comment {color: #998;font-style: italic;}.ace-kumu .ace_paren {font-weight: bold;}.ace-kumu .ace_boolean {font-weight: bold;}.ace-kumu .ace_string.ace_regexp {color: #009926;font-weight: normal;}.ace-kumu .ace_cursor {color: black;}.ace-kumu .ace_marker-layer .ace_active-line {background: rgb(255, 255, 204);}.ace-kumu .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-kumu.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}/* bold keywords cause cursor issues for some fonts *//* this disables bold style for editor and keeps for static highlighter */.ace-kumu.ace_nobold .ace_line > span {font-weight: normal !important;}.ace-kumu .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-kumu .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-kumu .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-kumu .ace_gutter-active-line {background-color : rgba(0, 0, 0, 0.07);}.ace-kumu .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-kumu .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-kumu .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),ace.define("ace/theme/less",["require","exports","module","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssClass="ace-less",t.cssText='/* Kumu ACE editor theme */.ace-less .ace_gutter {background: none;color: #AAA;}.ace-less  {background: #fff;color: #000;}.ace-less .ace_keyword {color: #000;}.ace-less .ace_string {color: #D14;}.ace-less .ace_inivisible {color: #DDD;}.ace-less .ace_variable {color: #000;}.ace-less .ace_variable.ace_class {color: teal;}.ace-less .ace_variable.ace_language  {color: #000;}.ace-less .ace_variable.ace_instance {color: teal;}.ace-less .ace_constant {color: teal;}.ace-less .ace_constant.ace_numeric {color: #099;}.ace-less .ace_constant.ace_buildin {color: #0086B3;}.ace-less .ace_support.ace_function {color: #0086B3;}.ace-less .ace_support.ace_constant {color: #0086B3;}.ace-less .ace_comment {color: #998;font-style: italic;}.ace-less .ace_string.ace_regexp {color: #009926;font-weight: normal;}.ace-less .ace_cursor {color: black;}.ace-less .ace_marker-layer .ace_active-line {background: rgb(255, 255, 204);}.ace-less .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-less.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}/* bold keywords cause cursor issues for some fonts *//* this disables bold style for editor and keeps for static highlighter */.ace-less.ace_nobold .ace_line > span {font-weight: normal !important;}.ace-less .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-less .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-less .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-less .ace_gutter-active-line {background-color : rgba(0, 0, 0, 0.07);}.ace-less .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-less .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-less .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.PouchDB=e()}}(function(){var define,module,exports;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){"use strict";function n(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n)===!0)return e[n];return!1}function r(e){return function(t,n){t||n[0].error?e(t||n[0]):e(null,n[0])}}function i(e){var t={},n=[];return u.traverseRevTree(e,function(e,r,i,o){var a=r+"-"+i;return e&&(t[a]=0),void 0!==o&&n.push({from:o,to:a}),a}),n.reverse(),n.forEach(function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])}),t}function o(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var i={offset:t.skip};return f.all(r.map(function(n){var r=s.extend(!0,{key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new f(function(t,o){e._allDocs(r,function(e,r){return e?o(e):(i.total_rows=r.total_rows,void t(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(e){return i.rows=e,i})}function a(){var e=this;c.call(this),e.autoCompact=function(t){return e.auto_compaction&&"http"!==e.type()?function(n,r){if(n)t(n);else{var i=r.length,o=function(){i--,i||t(null,r)};if(!r.length)return t(null,r);r.forEach(function(t){t.ok&&t.id?e.compactDocument(t.id,1,o):o()})}}:t};var t,n=0,r=["change","delete","create","update"];this.on("newListener",function(i){if(~r.indexOf(i)){if(n)return void n++;n++;var o=0;t=this.changes({conflicts:!0,include_docs:!0,continuous:!0,since:"now",onChange:function(t){t.seq<=o||(o=t.seq,e.emit("change",t),t.doc._deleted?e.emit("delete",t):"1"===t.doc._rev.split("-")[0]?e.emit("create",t):e.emit("update",t))}})}}),this.on("removeListener",function(e){~r.indexOf(e)&&(n--,n||t.cancel())})}var s=e("./utils"),u=e("./merge"),l=e("./deps/errors"),c=e("events").EventEmitter,p=e("./deps/upsert"),h=e("./changes"),f=s.Promise;s.inherits(a,c),t.exports=a,a.prototype.post=s.adapterFun("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(l.NOT_AN_OBJECT):void this.bulkDocs({docs:[e]},t,this.autoCompact(r(n)))}),a.prototype.put=s.adapterFun("put",s.getArguments(function(e){var t,n,i,o,a=e.shift(),u="_id"in a;if("object"!=typeof a||Array.isArray(a))return(o=e.pop())(l.NOT_AN_OBJECT);for(a=s.clone(a);;)if(t=e.shift(),n=typeof t,"string"!==n||u?"string"!==n||!u||"_rev"in a?"object"===n?i=t:"function"===n&&(o=t):a._rev=t:(a._id=t,u=!0),!e.length)break;i=i||{};var c=s.invalidIdError(a._id);return c?o(c):s.isLocalId(a._id)&&"function"==typeof this._putLocal?a._deleted?this._removeLocal(a,o):this._putLocal(a,o):void this.bulkDocs({docs:[a]},i,this.autoCompact(r(o)))})),a.prototype.putAttachment=s.adapterFun("putAttachment",function(e,t,n,r,i,o){function a(e){return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r},s.put(e)}var s=this;return"function"==typeof i&&(o=i,i=r,r=n,n=null),"undefined"==typeof i&&(i=r,r=n,n=null),s.get(e).then(function(e){if(e._rev!==n)throw l.REV_CONFLICT;return a(e)},function(t){if(t.error===l.MISSING_DOC.error)return a({_id:e});throw t})}),a.prototype.removeAttachment=s.adapterFun("removeAttachment",function(e,t,n,r){var i=this;i.get(e,function(e,o){return e?void r(e):o._rev!==n?void r(l.REV_CONFLICT):o._attachments?(delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,void i.put(o,r)):r()})}),a.prototype.remove=s.adapterFun("remove",function(e,t,n,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(o=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),n=s.clone(n||{}),n.was_delete=!0;var a={_id:o._id,_rev:o._rev||n.rev};return a._deleted=!0,s.isLocalId(a._id)&&"function"==typeof this._removeLocal?this._removeLocal(o,i):void this.bulkDocs({docs:[a]},n,r(i))}),a.prototype.revsDiff=s.adapterFun("revsDiff",function(e,t,n){function r(e,t){l.has(e)||l.set(e,{missing:[]}),l.get(e).missing.push(t)}function i(t,n){var i=e[t].slice(0);u.traverseRevTree(n,function(e,n,o,a,s){var u=n+"-"+o,l=i.indexOf(u);-1!==l&&(i.splice(l,1),"available"!==s.status&&r(t,u))}),i.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={}),t=s.clone(t);var o=Object.keys(e);if(!o.length)return n(null,{});var a=0,l=new s.Map;o.map(function(t){this._getRevisionTree(t,function(r,s){if(r&&404===r.status&&"missing"===r.message)l.set(t,{missing:e[t]});else{if(r)return n(r);i(t,s)}if(++a===o.length){var u={};return l.forEach(function(e,t){u[t]=e}),n(null,u)}})},this)}),a.prototype.compactDocument=s.adapterFun("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,a){if(o)return n(o);var s=i(a),l=[],c=[];Object.keys(s).forEach(function(e){s[e]>t&&l.push(e)}),u.traverseRevTree(a,function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==l.indexOf(o)&&(i.status="missing",c.push(o))}),r._doCompaction(e,a,c,n)})}),a.prototype.compact=s.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=s.clone(e||{}),n.get("_local/compaction")["catch"](function(){return!1}).then(function(r){return"function"==typeof n._compact?(r&&r.last_seq&&(e.last_seq=r.last_seq),n._compact(e,t)):void 0})}),a.prototype._compact=function(e,t){function n(){l.get("_local/compaction")["catch"](function(){return!1}).then(function(e){return e=e||{_id:"_local/compaction"},e.last_seq=o,l.put(e)}).then(function(){t()},t)}function r(){s--,!s&&a&&n()}function i(e){s++,l.compactDocument(e.id,0).then(r,t)}var o,a=!1,s=0,u={returnDocs:!1},l=this;e.last_seq&&(u.since=e.last_seq),l.changes(u).on("change",i).on("complete",function(e){a=!0,o=e.last_seq,s||n()}).on("error",t)},a.prototype.get=s.adapterFun("get",function(e,t,r){function i(){var n=[],i=o.length;return i?void o.forEach(function(o){a.get(e,{rev:o,revs:t.revs,attachments:t.attachments},function(e,t){n.push(e?{missing:o}:{ok:t}),i--,i||r(null,n)})}):r(null,n)}if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(l.INVALID_ID);if(s.isLocalId(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var o=[],a=this;if(!t.open_revs)return this._get(e,t,function(e,i){if(t=s.clone(t),e)return r(e);var o=i.doc;if(!o)return r(new Error("no doc!"));var l=i.metadata,c=i.ctx;if(t.conflicts){var p=u.collectConflicts(l);p.length&&(o._conflicts=p)}if(t.revs||t.revs_info){var h=u.rootToLeaf(l.rev_tree),f=n(h,function(e){return-1!==e.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])}),d=f.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,m=f.ids.length-d;if(f.ids.splice(d,m),f.ids.reverse(),t.revs&&(o._revisions={start:f.pos+f.ids.length-1,ids:f.ids.map(function(e){return e.id})}),t.revs_info){var g=f.pos+f.ids.length;o._revs_info=f.ids.map(function(e){return g--,{rev:g+"-"+e.id,status:e.opts.status}})}}if(t.local_seq&&(o._local_seq=i.metadata.seq),t.attachments&&o._attachments){var v=o._attachments,y=Object.keys(v).length;if(0===y)return r(null,o);Object.keys(v).forEach(function(e){this._getAttachment(v[e],{encode:!0,ctx:c},function(t,n){var i=o._attachments[e];i.data=n,delete i.stub,--y||r(null,o)})},a)}else{if(o._attachments)for(var b in o._attachments)o._attachments.hasOwnProperty(b)&&(o._attachments[b].stub=!0);r(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){e&&(t=[]),o=u.collectLeaves(t).map(function(e){return e.rev}),i()});else{if(!Array.isArray(t.open_revs))return r(l.error(l.UNKNOWN_ERROR,"function_clause"));o=t.open_revs;for(var c=0;c<o.length;c++){var p=o[c];if("string"!=typeof p||!/^\d+-/.test(p))return r(l.error(l.BAD_REQUEST,"Invalid rev format"))}i()}}),a.prototype.getAttachment=s.adapterFun("getAttachment",function(e,t,n,r){var i=this;n instanceof Function&&(r=n,n={}),n=s.clone(n),this._get(e,n,function(e,o){return e?r(e):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,void i._getAttachment(o.doc._attachments[t],n,r)):r(l.MISSING_DOC)})}),a.prototype.allDocs=s.adapterFun("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e=s.clone(e),e.skip="undefined"!=typeof e.skip?e.skip:0,"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(l.error(l.QUERY_PARSE_ERROR,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return o(this,e,t)}return this._allDocs(e,t)}),a.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new h(this,e,t)},a.prototype.close=s.adapterFun("close",function(e){return this._closed=!0,this._close(e)}),a.prototype.info=s.adapterFun("info",function(e){var t=this;this._info(function(n,r){return n?e(n):(r.db_name=r.db_name||t._db_name,r.auto_compaction=!(!t._auto_compaction||"http"===t.type()),void e(null,r))})}),a.prototype.id=s.adapterFun("id",function(e){return this._id(e)}),a.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},a.prototype.bulkDocs=s.adapterFun("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=s.clone(t),Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(l.MISSING_BULK_DOCS);for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(l.NOT_AN_OBJECT);return e=s.clone(e),"new_edits"in t||(t.new_edits="new_edits"in e?e.new_edits:!0),this._bulkDocs(e,t,this.autoCompact(n))}),a.prototype.registerDependentDatabase=s.adapterFun("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},t.dependentDbs[e]?!1:(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,{adapter:this._adapter});p(this,"_local/_pouch_dependentDbs",n,function(e){return e?t(e):t(null,{db:r})})})},{"./changes":6,"./deps/errors":11,"./deps/upsert":13,"./merge":18,"./utils":23,events:27}],2:[function(e,t){(function(n){"use strict";function r(e){for(var t=r.options,n=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=n[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function i(e){return/^_(design|local)/.test(e)?e:encodeURIComponent(e)}function o(e){return e._attachments&&Object.keys(e._attachments)?p.Promise.all(Object.keys(e._attachments).map(function(t){var r=e._attachments[t];if(r.data&&"string"!=typeof r.data){if(void 0===typeof n||n.browser)return new p.Promise(function(e){var t=new FileReader;t.onloadend=function(t){r.data=p.btoa(p.arrayBufferToBinaryString(t.target.result)),e()},t.readAsArrayBuffer(r.data)});r.data=r.data.toString("base64")}})):p.Promise.resolve()}function a(e,t){if(/http(s?):/.test(e)){var n=r(e);n.remote=!0,(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var i=n.path.replace(/(^\/|\/$)/g,"").split("/");if(n.db=i.pop(),n.path=i.join("/"),t=t||{},t=p.clone(t),n.headers=t.headers||{},t.auth||n.auth){var o=t.auth||n.auth,a=p.btoa(o.username+":"+o.password);n.headers.Authorization="Basic "+a}return t.headers&&(n.headers=t.headers),n}return{host:"",path:"/",db:e,auth:!1}}function s(e,t){return u(e,e.db+"/"+t)}function u(e,t){if(e.remote){var n=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+n+t}return"/"+t}function l(e,t){function n(e,t){return p.ajax(p.extend({},d,e),t)}var r=this;r.getHost=e.getHost?e.getHost:a;var l=r.getHost(e.name,e),f=s(l,"");r.getUrl=function(){return f},r.getHeaders=function(){return p.clone(l.headers)};var d=e.ajax||{};e=p.clone(e);var m=function(){n({headers:l.headers,method:"PUT",url:f},function(e){e&&401===e.status?n({headers:l.headers,method:"HEAD",url:f},function(e){e?t(e):t(null,r)}):e&&412!==e.status?t(e):t(null,r)})};e.skipSetup||n({headers:l.headers,method:"GET",url:f},function(e){e?404===e.status?m():t(e):t(null,r)}),r.type=function(){return"http"},r.id=p.adapterFun("id",function(e){n({headers:l.headers,method:"GET",url:u(l,"")},function(t,n){var r=n&&n.uuid?n.uuid+l.db:s(l,"");e(null,r)})}),r.request=p.adapterFun("request",function(e,t){e.headers=l.headers,e.url=s(l,e.url),n(e,t)}),r.compact=p.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=p.clone(e),n({headers:l.headers,url:s(l,"_compact"),method:"POST"},function(){function n(){r.info(function(r,i){i.compact_running?setTimeout(n,e.interval||200):t()})}"function"==typeof t&&n()})}),r._info=function(e){n({headers:l.headers,method:"GET",url:s(l,"")},function(t,n){t?e(t):(n.host=s(l,""),e(null,n))})},r.get=p.adapterFun("get",function(e,t,r){"function"==typeof t&&(r=t,t={}),t=p.clone(t),void 0===t.auto_encode&&(t.auto_encode=!0);var o=[];t.revs&&o.push("revs=true"),t.revs_info&&o.push("revs_info=true"),t.local_seq&&o.push("local_seq=true"),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),o.push("open_revs="+t.open_revs)),t.attachments&&o.push("attachments=true"),t.rev&&o.push("rev="+t.rev),t.conflicts&&o.push("conflicts="+t.conflicts),o=o.join("&"),o=""===o?"":"?"+o,t.auto_encode&&(e=i(e));var a={headers:l.headers,method:"GET",url:s(l,e+o)},u=e.split("/");(u.length>1&&"_design"!==u[0]&&"_local"!==u[0]||u.length>2&&"_design"===u[0]&&"_local"!==u[0])&&(a.binary=!0),n(a,function(e,t,n){return e?r(e):void r(null,t,n)})}),r.remove=p.adapterFun("remove",function(e,t,r,o){var a;"string"==typeof t?(a={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(a=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var u=a._rev||r.rev;n({headers:l.headers,method:"DELETE",url:s(l,i(a._id))+"?rev="+u},o)}),r.getAttachment=p.adapterFun("getAttachment",function(e,t,n,o){"function"==typeof n&&(o=n,n={}),n=p.clone(n),void 0===n.auto_encode&&(n.auto_encode=!0),n.auto_encode&&(e=i(e)),n.auto_encode=!1,r.get(e+"/"+t,n,o)}),r.removeAttachment=p.adapterFun("removeAttachment",function(e,t,r,o){n({headers:l.headers,method:"DELETE",url:s(l,i(e)+"/"+t)+"?rev="+r},o)}),r.putAttachment=p.adapterFun("putAttachment",function(e,t,r,o,a,u){"function"==typeof a&&(u=a,a=o,o=r,r=null),"undefined"==typeof a&&(a=o,o=r,r=null);var c=i(e)+"/"+t,h=s(l,c);r&&(h+="?rev="+r);var f={headers:p.clone(l.headers),method:"PUT",url:h,processData:!1,body:o,timeout:6e4};f.headers["Content-Type"]=a,n(f,u)}),r.put=p.adapterFun("put",p.getArguments(function(e){var t,r,a,u=e.shift(),c="_id"in u,f=e.pop();return"object"!=typeof u||Array.isArray(u)?f(h.NOT_AN_OBJECT):(u=p.clone(u),void o(u).then(function(){for(;;)if(t=e.shift(),r=typeof t,"string"!==r||c?"string"!==r||!c||"_rev"in u?"object"===r&&(a=p.clone(t)):u._rev=t:(u._id=t,c=!0),!e.length)break;a=a||{};var o=p.invalidIdError(u._id);if(o)throw o;var h=[];a&&"undefined"!=typeof a.new_edits&&h.push("new_edits="+a.new_edits),h=h.join("&"),""!==h&&(h="?"+h),n({headers:l.headers,method:"PUT",url:s(l,i(u._id))+h,body:u},function(e,t){return e?f(e):(t.ok=!0,void f(null,t))})})["catch"](f))})),r.post=p.adapterFun("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),t=p.clone(t),"object"!=typeof e?n(h.NOT_AN_OBJECT):("_id"in e||(e._id=p.uuid()),void r.put(e,t,function(e,t){return e?n(e):(t.ok=!0,void n(null,t))
}))}),r._bulkDocs=function(e,t,r){"undefined"!=typeof t.new_edits&&(e.new_edits=t.new_edits),p.Promise.all(e.docs.map(o)).then(function(){n({headers:l.headers,method:"POST",url:s(l,"_bulk_docs"),body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})})["catch"](r)},r.allDocs=p.adapterFun("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=p.clone(e);var r,i=[],o="GET";if(e.conflicts&&i.push("conflicts=true"),e.descending&&i.push("descending=true"),e.include_docs&&i.push("include_docs=true"),e.key&&i.push("key="+encodeURIComponent(JSON.stringify(e.key))),e.startkey&&i.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey))),e.endkey&&i.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey))),"undefined"!=typeof e.inclusive_end&&i.push("inclusive_end="+!!e.inclusive_end),"undefined"!=typeof e.limit&&i.push("limit="+e.limit),"undefined"!=typeof e.skip&&i.push("skip="+e.skip),i=i.join("&"),""!==i&&(i="?"+i),"undefined"!=typeof e.keys){var a=2e3,u="keys="+encodeURIComponent(JSON.stringify(e.keys));u.length+i.length+1<=a?i+=(-1!==i.indexOf("?")?"&":"?")+u:(o="POST",r=JSON.stringify({keys:e.keys}))}n({headers:l.headers,method:o,url:s(l,"_all_docs"+i),body:r},t)}),r._changes=function(e){var t="batch_size"in e?e.batch_size:c;e=p.clone(e),e.timeout=e.timeout||3e4;var r={timeout:e.timeout-5e3},i="undefined"!=typeof e.limit?e.limit:!1;0===i&&(i=1);var o;o="returnDocs"in e?e.returnDocs:!0;var a=i;if(e.style&&(r.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(r.include_docs=!0),e.continuous&&(r.feed="longpoll"),e.conflicts&&(r.conflicts=!0),e.descending&&(r.descending=!0),e.filter&&"string"==typeof e.filter&&(r.filter=e.filter,"_view"===e.filter&&e.view&&"string"==typeof e.view&&(r.view=e.view)),e.query_params&&"object"==typeof e.query_params)for(var u in e.query_params)e.query_params.hasOwnProperty(u)&&(r[u]=e.query_params[u]);var f,d,m=function(o,u){if(!e.aborted){r.since=o,e.descending?i&&(r.limit=a):r.limit=!i||a>t?t:a;var c="?"+Object.keys(r).map(function(e){return e+"="+r[e]}).join("&"),p={headers:l.headers,method:"GET",url:s(l,"_changes"+c),timeout:e.timeout};d=o,e.aborted||(f=n(p,u))}},g=10,v=0,y={results:[]},b=function(n,r){if(!e.aborted){var s=0;if(r&&r.results){s=r.results.length,y.last_seq=r.last_seq;var u={};u.query=e.query_params,r.results=r.results.filter(function(t){a--;var n=p.filterChange(e)(t);return n&&(o&&y.results.push(t),p.call(e.onChange,t)),n})}else if(n)return e.aborted=!0,void p.call(e.complete,n);r&&r.last_seq&&(d=r.last_seq);var l=i&&0>=a||r&&t>s||e.descending;if((!e.continuous||i&&0>=a)&&l)p.call(e.complete,null,y);else{n?v+=1:v=0;var c=1<<v,f=g*c,w=e.maximumWait||3e4;if(f>w)return void p.call(e.complete,n||h.UNKNOWN_ERROR);setTimeout(function(){m(d,b)},f)}}};return m(e.since||0,b),{cancel:function(){e.aborted=!0,f&&f.abort()}}},r.revsDiff=p.adapterFun("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n({headers:l.headers,method:"POST",url:s(l,"_revs_diff"),body:JSON.stringify(e)},r)}),r._close=function(e){e()},r.destroy=p.adapterFun("destroy",function(e){n({url:s(l,""),method:"DELETE",headers:l.headers},function(t,n){t?(r.emit("error",t),e(t)):(r.emit("destroyed"),e(null,n))})})}var c=25,p=e("../utils"),h=e("../deps/errors");r.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},l.destroy=p.toPromise(function(e,t,n){var r=a(e,t);t=t||{},"function"==typeof t&&(n=t,t={}),t=p.clone(t),t.headers=r.headers,t.method="DELETE",t.url=s(r,"");var i=t.ajax||{};t=p.extend({},t,i),p.ajax(t,n)}),l.valid=function(){return!0},t.exports=l}).call(this,e("/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"../deps/errors":11,"../utils":23,"/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":28}],3:[function(e,t){(function(n,r){"use strict";function i(e,t,n){try{e.apply(t,n)}catch(r){window.PouchDB&&window.PouchDB.emit("error",r)}}function o(){if(!y.running&&y.queue.length){y.running=!0;var e=y.queue.shift();e.action(function(t,r){i(e.callback,this,[t,r]),y.running=!1,n.nextTick(o)})}}function a(e){return function(t){var n=t.target&&t.target.error&&t.target.error.name||t.target;e(m.error(m.IDB_ERROR,n,t.type))}}function s(){var e="_pouch__checkModernIdb_"+(r.navigator&&r.navigator.appVersion),t=f.hasLocalStorage()&&r.localStorage[e];if(t)return JSON.parse(t);var n="_pouch__checkModernIdb",i=null===r.indexedDB.open(n,1).onupgradeneeded;return r.indexedDB.deleteDatabase&&r.indexedDB.deleteDatabase(n),f.hasLocalStorage()&&(r.localStorage[e]=JSON.stringify(i)),i}function u(e,t,n){var r={data:g.stringify(e)};return r.winningRev=t,r.deletedOrLocal=n?"1":"0",r.id=e.id,r}function l(e){if(!e)return null;if(!e.data)return e;var t=g.parse(e.data);return t.winningRev=e.winningRev,t.deletedOrLocal="1"===e.deletedOrLocal,t}function c(e,t){var n=this;y.queue.push({action:function(t){p(n,e,t)},callback:t}),o()}function p(e,t,i){function o(e){e.createObjectStore(w,{keyPath:"id"}).createIndex("seq","seq",{unique:!0}),e.createObjectStore(_,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(x,{keyPath:"digest"}),e.createObjectStore(E,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(C)}function s(e,t){var n=e.currentTarget.transaction,r=n.objectStore(w);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var o=i.value,a=f.isDeleted(o);o.deletedOrLocal=a?"1":"0",r.put(o),i["continue"]()}else t(n)}}function p(e){e.createObjectStore(k,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function h(e,t){t=t||e.currentTarget.transaction;var n=t.objectStore(k),i=t.objectStore(w),o=t.objectStore(_),a=i.openCursor();a.onsuccess=function(e){var t=e.target.result;if(t){var a=t.value,s=a.id,u=f.isLocalId(s),l=d.winningRev(a);if(u){var c=s+"::"+l,p=s+"::",h=s+"::~",m=o.index("_doc_id_rev"),g=r.IDBKeyRange.bound(p,h,!1,!1),v=m.openCursor(g);v.onsuccess=function(e){if(v=e.target.result){var r=v.value;r._doc_id_rev===c&&n.put(r),o["delete"](v.primaryKey),v["continue"]()}else i["delete"](t.primaryKey),t["continue"]()}}else t["continue"]()}}}function g(e,t,n){var i="startkey"in t?t.startkey:!1,o="endkey"in t?t.endkey:!1,a="key"in t?t.key:!1,s=t.skip||0,u="number"==typeof t.limit?t.limit:-1,c=t.inclusive_end!==!1,p="descending"in t&&t.descending?"prev":null,h=!1;p&&i&&o&&(h=o,o=!1);var g=null;try{i&&o?g=r.IDBKeyRange.bound(i,o,!1,!c):i?g=p?r.IDBKeyRange.upperBound(i):r.IDBKeyRange.lowerBound(i):o?g=p?r.IDBKeyRange.lowerBound(o,!c):r.IDBKeyRange.upperBound(o,!c):a&&(g=r.IDBKeyRange.only(a))}catch(v){return"DataError"===v.name&&0===v.code?n(null,{total_rows:e,offset:t.skip,rows:[]}):n(m.error(m.IDB_ERROR,v.name,v.message))}var y=D.transaction([w,_],"readonly");y.oncomplete=function(){n(null,{total_rows:e,offset:t.skip,rows:E})};var b=y.objectStore(w),x=p?b.openCursor(g,p):b.openCursor(g),E=[];x.onsuccess=function(e){function n(e,n){var i={id:e.id,key:e.id,value:{rev:o}};if(t.include_docs){i.doc=n,i.doc._rev=o,i.doc._doc_id_rev&&delete i.doc._doc_id_rev,t.conflicts&&(i.doc._conflicts=d.collectConflicts(e));for(var a in i.doc._attachments)i.doc._attachments.hasOwnProperty(a)&&(i.doc._attachments[a].stub=!0)}var l=f.isDeleted(e,o);if("ok"===t.deleted)l&&(i.value.deleted=!0,i.doc=null),E.push(i);else if(!l&&s--<=0){if(h){if(c&&i.key<h)return;if(!c&&i.key<=h)return}if(E.push(i),0===--u)return}r["continue"]()}if(e.target.result){var r=e.target.result,i=l(r.value),o=i.winningRev||d.winningRev(i);if(t.include_docs){var a=y.objectStore(_).index("_doc_id_rev"),p=i.id+"::"+o;a.get(p).onsuccess=function(e){n(l(r.value),e.target.result)}}else n(i)}}}function y(e){if(-1!==O)return e(null,O);var t,n=D.transaction([w],"readonly"),i=n.objectStore(w).index("deletedOrLocal");i.count(r.IDBKeyRange.only("0")).onsuccess=function(e){t=e.target.result},n.onerror=a(e),n.oncomplete=function(){O=t,e(null,O)}}var b=3,w="document-store",_="by-sequence",x="attach-store",E="meta-store",k="local-store",C="detect-blob-support",A=t.name,S=null,M=null,T=!1,D=null,O=-1;e.type=function(){return"idb"},e._id=f.toPromise(function(e){e(null,M)}),e._bulkDocs=function(t,n,r){function i(e){var t=e.target.result;t.updateSeq=(t.updateSeq||0)+I,B.objectStore(E).put(t)}function o(){++$===P.length&&(B.objectStore(E).get(E).onsuccess=i)}function s(){if(P.length){var t=new f.Map;P.forEach(function(n,r){if(n._id&&f.isLocalId(n._id))return void e[n._deleted?"_removeLocal":"_putLocal"](n,{ctx:B},function(e){R[r]=e?e:{},o()});var i=n.metadata.id;t.has(i)?t.get(i).push([n,r]):t.set(i,[[n,r]])}),t.forEach(function(e,t){function n(){o(),++i<e.length&&r()}function r(){var r=e[i],o=r[0],a=r[1];j.has(t)?b(j.get(t),o,a,n):C(o,a,n)}var i=0;r()})}}function p(e){function t(){++n===P.length&&e()}if(!P.length)return e();var n=0;P.forEach(function(e){if(e._id&&f.isLocalId(e._id))return t();var n=e.metadata.id,r=B.objectStore(w).get(n);r.onsuccess=function(e){var r=l(e.target.result);r&&j.set(n,r),t()}})}function h(){var e=R.map(function(e){if(e._bulk_seq)delete e._bulk_seq;else if(!Object.keys(e).length)return{ok:!0};if(e.error)return e;var t=e.metadata,n=d.winningRev(t);return{ok:!0,id:t.id,rev:n}});c.Changes.notify(A),O=-1,r(null,e)}function g(e,t){if(e.stub)return t();if("string"==typeof e.data){var n;try{n=atob(e.data)}catch(i){var o=m.error(m.BAD_ARG,"Attachments need to be base64 encoded");return r(o)}if(S){var a=e.content_type;n=f.fixBinary(n),e.data=f.createBlob([n],{type:a})}return void f.MD5(n).then(function(n){e.digest="md5-"+n,t()})}var s=new FileReader;s.onloadend=function(){var n=f.arrayBufferToBinaryString(this.result||"");S||(e.data=btoa(n)),f.MD5(n).then(function(n){e.digest="md5-"+n,t()})},s.readAsArrayBuffer(e.data)}function v(e){function t(){n++,P.length===n&&e()}if(!P.length)return e();var n=0;P.forEach(function(e){function n(){i++,i===r.length&&t()}var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[];if(!r.length)return t();var i=0;for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&g(e.data._attachments[o],n)})}function y(e,t,n,r,i){function o(e){l||(e?(l=e,r(l)):c===p.length&&s())}function a(e){c++,o(e)}function s(){function o(o){var a=e.metadata;a.seq=o.target.result,delete a.rev;var s=u(a,t,n),l=B.objectStore(w).put(s);l.onsuccess=function(){delete a.deletedOrLocal,delete a.winningRev,R[i]=e,j.set(e.metadata.id,e.metadata),f.call(r)}}I++,e.data._doc_id_rev=e.data._id+"::"+e.data._rev;var a=B.objectStore(_),s=a.index("_doc_id_rev"),l=a.put(e.data);l.onsuccess=o,l.onerror=function(t){t.preventDefault(),t.stopPropagation();var n=s.getKey(e.data._doc_id_rev);n.onsuccess=function(t){var n=a.put(e.data,t.target.result);I--,n.onsuccess=o}}}var l=null,c=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,n&&(e.data._deleted=!0);var p=e.data._attachments?Object.keys(e.data._attachments):[];for(var h in e.data._attachments)if(e.data._attachments[h].stub)c++,o();else{var d=e.data._attachments[h].data;delete e.data._attachments[h].data;var m=e.data._attachments[h].digest;T(e,m,d,a)}p.length||s()}function b(e,t,n,r){var i=d.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),o=f.isDeleted(e),a=f.isDeleted(t.metadata),s=o&&a&&L||!o&&L&&"new_leaf"!==i.conflicts;if(s)return R[n]=M(m.REV_CONFLICT,t._bulk_seq),r();t.metadata.rev_tree=i.tree;var u=d.winningRev(t.metadata);a=f.isDeleted(t.metadata,u),y(t,u,a,r,n)}function C(e,t,r){var i=d.winningRev(e.metadata),o=f.isDeleted(e.metadata,i);return"was_delete"in n&&o?(R[t]=m.MISSING_DOC,r()):void y(e,i,o,r,t)}function M(e,t){return e._bulk_seq=t,e}function T(e,t,n,r){var i=B.objectStore(x);i.get(t).onsuccess=function(o){var a=o.target.result&&o.target.result.refs||{},s=[e.metadata.id,e.metadata.rev].join("@"),u={digest:t,body:n,refs:a};u.refs[s]=!0,i.put(u).onsuccess=function(){f.call(r)}}}var L=n.new_edits,F=t.docs,P=F.map(function(e,t){if(e._id&&f.isLocalId(e._id))return e;var n=f.parseDoc(e,L);return n._bulk_seq=t,n}),N=P.filter(function(e){return e.error});if(N.length)return r(N[0]);var B,R=new Array(P.length),j=new f.Map,I=0,$=0;v(function(){var e=[w,_,x,E,k];B=D.transaction(e,"readwrite"),B.onerror=a(r),B.ontimeout=a(r),B.oncomplete=h,p(s)})},e._get=function(e,t,n){function r(){n(a,{doc:i,metadata:o,ctx:s})}var i,o,a,s;t=f.clone(t),s=t.ctx?t.ctx:D.transaction([w,_,x],"readonly"),s.objectStore(w).get(e).onsuccess=function(e){if(o=l(e.target.result),!o)return a=m.MISSING_DOC,r();if(f.isDeleted(o)&&!t.rev)return a=m.error(m.MISSING_DOC,"deleted"),r();var n=s.objectStore(_),u=t.rev||o.winningRev||d.winningRev(o),c=o.id+"::"+u;n.index("_doc_id_rev").get(c).onsuccess=function(e){return i=e.target.result,i&&i._doc_id_rev&&delete i._doc_id_rev,i?void r():(a=m.MISSING_DOC,r())}}},e._getAttachment=function(e,t,n){var r;t=f.clone(t),r=t.ctx?t.ctx:D.transaction([w,_,x],"readonly");var i=e.digest,o=e.content_type;r.objectStore(x).get(i).onsuccess=function(e){var r=e.target.result.body;if(t.encode)if(r)if("string"!=typeof r){var i=new FileReader;i.onloadend=function(){var e=f.arrayBufferToBinaryString(this.result||"");n(null,btoa(e))},i.readAsArrayBuffer(r)}else n(null,r);else n(null,"");else r?"string"!=typeof r?n(null,r):(r=f.fixBinary(atob(r)),n(null,f.createBlob([r],{type:o}))):n(null,f.createBlob([""],{type:o}))}},e._allDocs=function(e,t){y(function(n,r){return n?t(n):0===e.limit?t(null,{total_rows:r,offset:e.skip,rows:[]}):void g(r,e,t)})},e._info=function(e){y(function(t,n){if(t)return e(t);if(null===D){var r=new Error("db isn't open");return r.id="idbNull",e(r)}var i=0,o=D.transaction([E],"readonly");o.objectStore(E).get(E).onsuccess=function(e){i=e.target.result&&e.target.result.updateSeq||0},o.oncomplete=function(){e(null,{doc_count:n,update_seq:i})}})},e._changes=function(t){function n(){m=D.transaction([w,_],"readonly"),m.oncomplete=o;var e;e=s?m.objectStore(_).openCursor(r.IDBKeyRange.lowerBound(t.since,!0),s):m.objectStore(_).openCursor(r.IDBKeyRange.lowerBound(t.since,!0)),e.onsuccess=i,e.onerror=onerror}function i(e){var n=e.target.result;if(n){var r=n.value;if(t.doc_ids&&-1===t.doc_ids.indexOf(r._id))return n["continue"]();var i=m.objectStore(w);i.get(r._id).onsuccess=function(e){var i=l(e.target.result);u<i.seq&&(u=i.seq);var o=i.winningRev||d.winningRev(i);if(r._rev!==o)return n["continue"]();delete r._doc_id_rev;var a=t.processChange(r,i,t);a.seq=n.key,y(a)&&(v++,h&&g.push(a),t.onChange(a)),v!==p&&n["continue"]()}}}function o(){t.continuous||t.complete(null,{results:g,last_seq:u})}if(t=f.clone(t),t.continuous){var a=A+":"+f.uuid();return c.Changes.addListener(A,a,e,t),c.Changes.notify(A),{cancel:function(){c.Changes.removeListener(A,a)}}}var s=t.descending?"prev":null,u=0;t.since=t.since&&!s?t.since:0;var p="limit"in t?t.limit:-1;0===p&&(p=1);var h;h="returnDocs"in t?t.returnDocs:!0;var m,g=[],v=0,y=f.filterChange(t);n()},e._close=function(e){return null===D?e(m.NOT_OPEN):(D.close(),delete v[A],D=null,void e())},e._getRevisionTree=function(e,t){var n=D.transaction([w],"readonly"),r=n.objectStore(w).get(e);r.onsuccess=function(e){var n=l(e.target.result);n?t(null,n.rev_tree):t(m.MISSING_DOC)}},e._doCompaction=function(e,t,n,r){var i=D.transaction([w,_],"readwrite"),o=i.objectStore(w);o.get(e).onsuccess=function(r){var o=l(r.target.result);o.rev_tree=t;var a=n.length;n.forEach(function(t){var n=i.objectStore(_).index("_doc_id_rev"),r=e+"::"+t;n.getKey(r).onsuccess=function(e){var t=e.target.result;if(t&&(i.objectStore(_)["delete"](t),a--,!a)){var n=o.winningRev||d.winningRev(o),r=o.deletedOrLocal;i.objectStore(w).put(u(o,n,r))}}})},i.oncomplete=function(){f.call(r)}},e._getLocal=function(e,t){var n=D.transaction([k],"readonly"),r=n.objectStore(k).get(e);r.onerror=a(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(m.MISSING_DOC)}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,i=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1",e._doc_id_rev=i+"::"+e._rev;var o,s=t.ctx;s||(s=D.transaction([k],"readwrite"),s.onerror=a(n),s.oncomplete=function(){o&&n(null,o)});var u,l=s.objectStore(k);if(r){var c=l.index("_doc_id_rev"),p=i+"::"+r;u=c.get(p),u.onsuccess=function(r){if(r.target.result){var i=l.put(e);i.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}}else n(m.REV_CONFLICT)}}else u=l.get(i),u.onsuccess=function(r){if(r.target.result)n(m.REV_CONFLICT);else{var i=l.put(e);i.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}}}},e._removeLocal=function(e,t){var n,r=D.transaction([k],"readwrite");r.oncomplete=function(){n&&t(null,n)};var i=e._id+"::"+e._rev,o=r.objectStore(k),s=o.index("_doc_id_rev"),u=s.get(i);u.onerror=a(t),u.onsuccess=function(e){var r=e.target.result;if(r){var a=s.getKey(i);a.onsuccess=function(e){var t=e.target.result;o["delete"](t),n={ok:!0,id:r._id,rev:"0-0"}}}else t(m.MISSING_DOC)}};var L=v[A];if(L)return D=L.idb,S=L.blobSupport,M=L.instanceId,T=L.idStored,void n.nextTick(function(){i(null,e)});var F=r.indexedDB.open(A,b);"openReqList"in c||(c.openReqList={}),c.openReqList[A]=F,F.onupgradeneeded=function(e){var t=e.target.result;e.oldVersion<1&&o(t),e.oldVersion<3&&(p(t),e.oldVersion<2?s(e,function(t){h(e,t)}):h(e))},F.onsuccess=function(t){D=t.target.result,D.onversionchange=function(){D.close(),delete v[A]},D.onabort=function(){D.close(),delete v[A]};var n=D.transaction([E,C],"readwrite"),r=n.objectStore(E).get(E);r.onsuccess=function(t){var r=function(){null!==S&&T&&(v[A]={idb:D,blobSupport:S,instanceId:M,idStored:T,loaded:!0},i(null,e))},o=t.target.result||{id:E};A+"_id"in o?(M=o[A+"_id"],T=!0,r()):(M=f.uuid(),o[A+"_id"]=M,n.objectStore(E).put(o).onsuccess=function(){T=!0,r()});try{var a=f.createBlob([""],{type:"image/png"});n.objectStore(C).put(a,"key"),n.oncomplete=function(){n=D.transaction([E,C],"readwrite");var e=n.objectStore(C).get("key");e.onsuccess=function(e){var t=e.target.result,n=URL.createObjectURL(t);f.ajax({url:n,cache:!0,binary:!0},function(e,t){S=e&&405===e.status?!0:!(!t||"image/png"!==t.type),r()})}}}catch(s){S=!1,r()}}},F.onerror=a(i)}function h(e,t,n){"openReqList"in c||(c.openReqList={}),c.Changes.removeAllListeners(e),c.openReqList[e]&&c.openReqList[e].result&&c.openReqList[e].result.close();var i=r.indexedDB.deleteDatabase(e);i.onsuccess=function(){c.openReqList[e]&&(c.openReqList[e]=null),f.hasLocalStorage()&&e in r.localStorage&&delete r.localStorage[e],delete v[e],n(null,{ok:!0})},i.onerror=a(n)}var f=e("../utils"),d=e("../merge"),m=e("../deps/errors"),g=e("vuvuzela"),v={},y={running:!1,queue:[]};c.valid=function(){var e="undefined"!=typeof openDatabase&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);return!e&&r.indexedDB&&s()},c.destroy=f.toPromise(function(e,t,n){y.queue.push({action:function(n){h(e,t,n)},callback:n}),o()}),c.Changes=new f.Changes,t.exports=c}).call(this,e("/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../deps/errors":11,"../merge":18,"../utils":23,"/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":28,vuvuzela:58}],4:[function(e,t){t.exports=["idb","websql"]},{}],5:[function(e,t){(function(n){"use strict";function r(e){return"'"+e+"'"}function i(e,t,n,r,i){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function o(e){return function(t){var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,i=t.target||t.message;e(d.error(d.WSQ_ERROR,i,r))}}function a(e){return decodeURIComponent(window.escape(e))}function s(e,t){for(var n="",r="UTF-8"===t?2:4,i=0,o=e.length;o>i;i+=r){var s=e.substring(i,i+r);4===r&&(s=s.substring(2,4)+s.substring(0,2)),n+=String.fromCharCode(parseInt(s,16))}return n="UTF-8"===t?a(n):n}function u(e){return delete e._id,delete e._rev,JSON.stringify(e)}function l(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function c(e){if("size"in e)return 1e6*e.size;var t=/Android/.test(window.navigator.userAgent);return t?5e6:1}function p(e,t){function r(){h.hasLocalStorage()&&(n.localStorage["_pouch__websqldb_"+I]=!0),t(null,R)}function a(e,t){e.executeSql(S),e.executeSql("ALTER TABLE "+_+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(C),e.executeSql("ALTER TABLE "+w+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+w+" (local, id)");var n="SELECT "+w+".winningseq AS seq, "+w+".json AS metadata FROM "+_+" JOIN "+w+" ON "+_+".seq = "+w+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var a=n.rows.item(o),s=a.seq,u=JSON.parse(a.metadata);h.isDeleted(u)&&r.push(s),h.isLocalId(u.id)&&i.push(u.id)}e.executeSql("UPDATE "+w+"SET local = 1 WHERE id IN ("+i.map(function(){return"?"}).join(",")+")",i,function(){e.executeSql("UPDATE "+_+" SET deleted = 1 WHERE seq IN ("+r.map(function(){return"?"}).join(",")+")",r,t)})})})})}function g(e,t){var n="CREATE TABLE IF NOT EXISTS "+E+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+w+".id AS id, "+_+".json AS data FROM "+_+" JOIN "+w+" ON "+_+".seq = "+w+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!i.length)return t();var n=i.shift(),o=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+E+" (id, rev, json) VALUES (?,?,?)",[n.id,o,n.data],function(e){e.executeSql("DELETE FROM "+w+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+_+" WHERE seq=?",[n.seq],function(){r()})})})}for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o));r()})})}function D(e,t){function n(n,r){function i(){if(!n.length)return t();var o=n.shift(),a=s(o.hex,r),u=a.lastIndexOf("::"),l=a.substring(0,u),c=a.substring(u+2),p="UPDATE "+_+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(p,[l,c,a],function(){i()})}i()}var r="ALTER TABLE "+_+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+_+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(A,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+_;e.executeSql(t,[],function(e,t){for(var r=[],i=0;i<t.rows.length;i++)r.push(t.rows.item(i));e.executeSql("SELECT dbid, hex(dbid) AS hexId FROM "+k,[],function(e,t){var i=t.rows.item(0).dbid,o=t.rows.item(0).hexId,a=o.length===2*i.length?"UTF-8":"UTF-16";n(r,a)})})})})})}function O(e){for(;z.length>0;){var t=z.pop();t(null,j)}L(e)}function L(e){e.executeSql("SELECT dbid, hex(dbid) AS hexId FROM "+k,[],function(e,t){var n=t.rows.item(0).dbid,r=t.rows.item(0).hexId;B=r.length===2*n.length?"UTF-8":"UTF-16"})}function F(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+k+" (update_seq INTEGER, dbid, db_version INTEGER)",r="CREATE TABLE IF NOT EXISTS "+x+" (digest, json, body BLOB)",i="CREATE TABLE IF NOT EXISTS "+w+" (id unique, json, winningseq)",o="CREATE TABLE IF NOT EXISTS "+_+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",s="CREATE TABLE IF NOT EXISTS "+E+" (id UNIQUE, rev, json)";e.executeSql(r),e.executeSql(s),e.executeSql(i,[],function(){e.executeSql(S),e.executeSql(o,[],function(){e.executeSql(C),e.executeSql(A),e.executeSql(n,[],function(){var t="INSERT INTO "+k+" (update_seq, db_version, dbid) VALUES (?, ?, ?)";j=h.uuid();var n=[0,b,j];e.executeSql(t,n,function(e){O(e)})})})})}else{var u=function(){var n=b>t;n&&e.executeSql("UPDATE "+k+" SET db_version = "+b);var r="SELECT dbid FROM "+k;e.executeSql(r,[],function(e,t){j=t.rows.item(0).dbid,O(e)})};switch(t){case 1:a(e,function(){g(e,function(){D(e,u)})});break;case 2:g(e,function(){D(e,u)});break;case 3:D(e,u);break;default:u()}}}function P(){V.transaction(function(e){e.executeSql("SELECT sql FROM sqlite_master WHERE tbl_name = "+k,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+k,[],function(e,t){var n=t.rows.item(0).db_version;F(e,n)}):e.executeSql("ALTER TABLE "+k+" ADD COLUMN db_version INTEGER",[],function(){F(e,1)}):F(e,0)})},o(t),r)}function N(e,t){if(-1!==U)return t(U);var n=i("COUNT("+w+".id) AS 'num'",[w,_],M,_+".deleted=0");e.executeSql(n,[],function(e,n){U=n.rows.item(0).num,t(U)})}var B,R=this,j=null,I=e.name,$=c(e),z=[],U=-1,V=v(I,y,I,$);return V?("function"!=typeof V.readTransaction&&(V.readTransaction=V.transaction),h.isCordova()&&"undefined"!=typeof n?n.addEventListener(I+"_pouch",function Y(){n.removeEventListener(I+"_pouch",Y,!1),P()},!1):P(),R.type=function(){return"websql"},R._id=h.toPromise(function(e){e(null,j)}),R._info=function(e){V.readTransaction(function(t){N(t,function(n){var r="SELECT update_seq FROM "+k;t.executeSql(r,[],function(t,r){var i=r.rows.item(0).update_seq;e(null,{doc_count:n,update_seq:i})})})},o(e))},R._bulkDocs=function(e,t,n){function r(){var e=O.map(function(e){if(e._bulk_seq)delete e._bulk_seq;else if(!Object.keys(e).length)return{ok:!0};if(e.error)return e;var t=e.metadata,n=f.winningRev(t);return{ok:!0,id:t.id,rev:n}});p.Changes.notify(I);var t="SELECT update_seq FROM "+k;D.executeSql(t,[],function(t,r){var i=r.rows.item(0).update_seq+L,o="UPDATE "+k+" SET update_seq=?";t.executeSql(o,[i],function(){n(null,e)})})}function a(e,t){if(e.stub)return t();if("string"==typeof e.data){try{e.data=atob(e.data)}catch(r){var i=d.error(d.BAD_ARG,"Attachments need to be base64 encoded");return n(i)}var o=h.fixBinary(e.data);e.data=h.createBlob([o],{type:e.content_type})}var a=new FileReader;a.onloadend=function(){var n=h.arrayBufferToBinaryString(this.result);e.data=n,h.MD5(n).then(function(n){e.digest="md5-"+n,t()})},a.readAsArrayBuffer(e.data)}function s(e){function t(){n++,M.length===n&&e()}if(!M.length)return e();var n=0;M.forEach(function(e){function n(){i++,i===r.length&&t()}var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!r.length)return t();for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&a(e.data._attachments[o],n)})}function l(e,t,n,r,o,a){function s(){L++;var t=e.data,r=n?1:0,o=t._id,a=t._rev,s=u(t),l="INSERT INTO "+_+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[o,a,s,r];D.executeSql(l,c,function(e,t){p(e,t.insertId)},function(){var e=i("seq",_,null,"doc_id=? AND rev=?");return D.executeSql(e,[o,a],function(e,t){var n=t.rows.item(0).seq,i="UPDATE "+_+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",u=[s,r,o,a];e.executeSql(i,u,function(e){L--,p(e,n)})}),!1})}function l(e){h||(e?(h=e,r(h)):f===d.length&&s())}function c(e){f++,l(e)}function p(n,i){e.metadata.seq=i,delete e.metadata.rev;var s=o?"UPDATE "+w+" SET json=?, winningseq=(SELECT seq FROM "+_+" WHERE doc_id="+w+".id AND rev=?) WHERE id=?":"INSERT INTO "+w+" (id, winningseq, json) VALUES (?, ?, ?);",u=m.stringify(e.metadata),l=e.metadata.id,c=o?[u,t,l]:[l,i,u];n.executeSql(s,c,function(){O[a]=e,F.set(l,e.metadata),r()})}var h=null,f=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,n&&(e.data._deleted=!0);var d=e.data._attachments?Object.keys(e.data._attachments):[];for(var g in e.data._attachments)if(e.data._attachments[g].stub)f++,l();else{var v=e.data._attachments[g].data;delete e.data._attachments[g].data;var y=e.data._attachments[g].digest;C(e,y,v,c)}d.length||s()}function c(e,t,n,r){var i=f.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),o=h.isDeleted(t.metadata),a=h.isDeleted(e),s=a&&o&&A||!a&&A&&"new_leaf"!==i.conflicts;if(s)return O[n]=E(d.REV_CONFLICT,t._bulk_seq),r();t.metadata.rev_tree=i.tree;var u=f.winningRev(t.metadata);o=h.isDeleted(t.metadata,u),l(t,u,o,r,!0,n)}function g(e,n,r){var i=f.winningRev(e.metadata),o=h.isDeleted(e.metadata,i);return"was_delete"in t&&o?(O[n]=d.MISSING_DOC,r()):void l(e,i,o,r,!1,n)}function v(){++P===M.length&&r()}function y(){if(!M.length)return r();var e=new h.Map;M.forEach(function(t,n){if(t._id&&h.isLocalId(t._id))return void R[t._deleted?"_removeLocal":"_putLocal"](t,{ctx:D},function(e){O[n]=e?e:{},v()});var r=t.metadata.id;e.has(r)?e.get(r).push([t,n]):e.set(r,[[t,n]])}),e.forEach(function(e,t){function n(){v(),++i<e.length&&r()}function r(){var r=e[i],o=r[0],a=r[1];F.has(t)?c(F.get(t),o,a,n):g(o,a,n)}var i=0;r()})}function b(e){function t(){++n===M.length&&e()}if(!M.length)return e();var n=0;M.forEach(function(e){if(e._id&&h.isLocalId(e._id))return t();var n=e.metadata.id;D.executeSql("SELECT json FROM "+w+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var i=m.parse(r.rows.item(0).json);F.set(n,i)}t()})})}function E(e,t){return e._bulk_seq=t,e}function C(e,t,n,r){var i=[e.metadata.id,e.metadata.rev].join("@"),o={digest:t},a="SELECT digest, json FROM "+x+" WHERE digest=?";D.executeSql(a,[t],function(e,s){s.rows.length?(o.refs=JSON.parse(s.rows.item(0).json).refs,a="UPDATE "+x+" SET json=?, body=? WHERE digest=?",e.executeSql(a,[JSON.stringify(o),n,t],function(){r()})):(o.refs={},o.refs[i]=!0,a="INSERT INTO "+x+"(digest, json, body) VALUES (?, ?, ?)",e.executeSql(a,[t,JSON.stringify(o),n],function(){r()}))})}var A=t.new_edits,S=e.docs,M=S.map(function(e,t){if(e._id&&h.isLocalId(e._id))return e;var n=h.parseDoc(e,A);return n._bulk_seq=t,n}),T=M.filter(function(e){return e.error});if(T.length)return n(T[0]);var D,O=new Array(M.length),L=0,F=new h.Map,P=0;s(function(){V.transaction(function(e){D=e,b(y)},o(n),function(){U=-1})})},R._get=function(e,t,n){function r(){n(s,{doc:o,metadata:a,ctx:p})}t=h.clone(t);var o,a,s;if(!t.ctx)return void V.readTransaction(function(r){t.ctx=r,R._get(e,t,n)});var u,c,p=t.ctx;t.rev?(u=i(T,[w,_],w+".id="+_+".doc_id",[_+".doc_id=?",_+".rev=?"]),c=[e,t.rev]):(u=i(T,[w,_],M,w+".id=?"),c=[e]),p.executeSql(u,c,function(e,n){if(!n.rows.length)return s=d.MISSING_DOC,r();var i=n.rows.item(0);return a=m.parse(i.metadata),i.deleted&&!t.rev?(s=d.error(d.MISSING_DOC,"deleted"),r()):(o=l(i.data,a.id,i.rev),void r())})},R._allDocs=function(e,t){var n,r=[],a="startkey"in e?e.startkey:!1,s="endkey"in e?e.endkey:!1,u="key"in e?e.key:!1,c="descending"in e?e.descending:!1,p="limit"in e?e.limit:-1,h="skip"in e?e.skip:0,d=e.inclusive_end!==!1,g=[],v=[];if(u!==!1)v.push(w+".id = ?"),g.push(u);else if(a!==!1||s!==!1){if(a!==!1&&(v.push(w+".id "+(c?"<=":">=")+" ?"),g.push(a)),s!==!1){var y=c?">":"<";d&&(y+="="),v.push(w+".id "+y+" ?"),g.push(s)}u!==!1&&(v.push(w+".id = ?"),g.push(u))}"ok"!==e.deleted&&v.push(_+".deleted = 0"),V.readTransaction(function(t){N(t,function(o){if(n=o,0!==p){var a=i(T,[w,_],M,v,w+".id "+(c?"DESC":"ASC"));a+=" LIMIT "+p+" OFFSET "+h,t.executeSql(a,g,function(t,n){for(var i=0,o=n.rows.length;o>i;i++){var a=n.rows.item(i),s=m.parse(a.metadata),u=l(a.data,s.id,a.rev),c=u._rev,p={id:s.id,key:s.id,value:{rev:c}};if(e.include_docs){p.doc=u,p.doc._rev=c,e.conflicts&&(p.doc._conflicts=f.collectConflicts(s));for(var h in p.doc._attachments)p.doc._attachments.hasOwnProperty(h)&&(p.doc._attachments[h].stub=!0)}if(a.deleted){if("ok"!==e.deleted)continue;p.value.deleted=!0,p.doc=null}r.push(p)}})}})},o(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},R._changes=function(e){function t(){var t=[w+".winningseq > "+e.since],n=[];e.doc_ids&&(t.push(w+".id IN ("+e.doc_ids.map(function(){return"?"}).join(",")+")"),n=e.doc_ids);var c=i(T,[w,_],M,t,w+".winningseq "+(r?"DESC":"ASC")),p=h.filterChange(e);e.view||e.filter||(c+=" LIMIT "+o),V.readTransaction(function(t){t.executeSql(c,n,function(t,n){for(var r=0,i=0,c=n.rows.length;c>i;i++){var h=n.rows.item(i),f=m.parse(h.metadata);r<h.seq&&(r=h.seq);var d=l(h.data,f.id,h.rev),g=e.processChange(d,f,e);if(g.seq=h.seq,p(g)&&(u++,a&&s.push(g),e.onChange(g)),u===o)break}e.continuous||e.complete(null,{results:s,last_seq:r})})})}if(e=h.clone(e),e.continuous){var n=I+":"+h.uuid();return p.Changes.addListener(I,n,R,e),p.Changes.notify(I),{cancel:function(){p.Changes.removeListener(I,n)}}}var r=e.descending;e.since=e.since&&!r?e.since:0;var o="limit"in e?e.limit:-1;0===o&&(o=1);var a;a="returnDocs"in e?e.returnDocs:!0;var s=[],u=0;t()},R._close=function(e){e()},R._getAttachment=function(e,t,n){var r,i=t.ctx,o=e.digest,a=e.content_type,u="SELECT hex(body) as body FROM "+x+" WHERE digest=?";
i.executeSql(u,[o],function(e,i){var o=s(i.rows.item(0).body,B);t.encode?r=btoa(o):(o=h.fixBinary(o),r=h.createBlob([o],{type:a})),n(null,r)})},R._getRevisionTree=function(e,t){V.readTransaction(function(n){var r="SELECT json AS metadata FROM "+w+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=m.parse(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(d.MISSING_DOC)})})},R._doCompaction=function(e,t,n,r){return n.length?void V.transaction(function(i){var o="SELECT json AS metadata FROM "+w+" WHERE id = ?";i.executeSql(o,[e],function(i,o){if(!o.rows.length)return h.call(r);var a=m.parse(o.rows.item(0).metadata);a.rev_tree=t;var s=0;n.forEach(function(t){var o="DELETE FROM "+_+" WHERE doc_id=? AND rev=?";i.executeSql(o,[e,t],function(t){if(++s===n.length){var i="UPDATE "+w+" SET json = ? WHERE id = ?";t.executeSql(i,[m.stringify(a),e],function(){r()})}})})})}):r()},R._getLocal=function(e,t){V.readTransaction(function(n){var r="SELECT json, rev FROM "+E+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var i=r.rows.item(0),o=l(i.json,e,i.rev);t(null,o)}else t(d.MISSING_DOC)})})},R._putLocal=function(e,t,n){function r(e){var r,o;a?(r="UPDATE "+E+" SET rev=?, json=? WHERE id=? AND rev=?",o=[i,c,s,a]):(r="INSERT INTO "+E+" (id, rev, json) VALUES (?,?,?)",o=[s,i,c]),e.executeSql(r,o,function(e,r){r.rowsAffected?(l={ok:!0,id:s,rev:i},t.ctx&&n(null,l)):n(d.REV_CONFLICT)},function(){return n(d.REV_CONFLICT),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var i,a=e._rev,s=e._id;i=e._rev=a?"0-"+(parseInt(a.split("-")[1],10)+1):"0-1";var l,c=u(e);t.ctx?r(t.ctx):V.transaction(function(e){r(e)},o(n),function(){l&&n(null,l)})},void(R._removeLocal=function(e,t){var n;V.transaction(function(r){var i="DELETE FROM "+E+" WHERE id=? AND rev=?",o=[e._id,e._rev];r.executeSql(i,o,function(r,i){return i.rowsAffected?void(n={ok:!0,id:e._id,rev:"0-0"}):t(d.REV_CONFLICT)})},o(t),function(){t(null,n)})})):t(d.UNKNOWN_ERROR)}var h=e("../utils"),f=e("../merge"),d=e("../deps/errors"),m=e("vuvuzela"),g={},v=h.getArguments(function(e){if("undefined"!=typeof n){if(n.navigator&&n.navigator.sqlitePlugin&&n.navigator.sqlitePlugin.openDatabase)return navigator.sqlitePlugin.openDatabase.apply(navigator.sqlitePlugin,e);if(n.sqlitePlugin&&n.sqlitePlugin.openDatabase)return n.sqlitePlugin.openDatabase.apply(n.sqlitePlugin,e);var t=g[e[0]];return t||(t=g[e[0]]=n.openDatabase.apply(n,e)),t}}),y=1,b=4,w=r("document-store"),_=r("by-sequence"),x=r("attach-store"),E=r("local-store"),k=r("metadata-store"),C="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+_+" (seq, deleted)",A="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+_+" (doc_id, rev)",S="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+w+" (winningseq)",M=_+".seq = "+w+".winningseq",T=_+".seq AS seq, "+_+".deleted AS deleted, "+_+".json AS data, "+_+".rev AS rev, "+w+".json AS metadata";p.valid=function(){if("undefined"!=typeof n){if(n.navigator&&n.navigator.sqlitePlugin&&n.navigator.sqlitePlugin.openDatabase)return!0;if(n.sqlitePlugin&&n.sqlitePlugin.openDatabase)return!0;if(n.openDatabase)return!0}return!1},p.destroy=h.toPromise(function(e,t,r){p.Changes.removeAllListeners(e);var i=c(t),a=v(e,y,e,i);a.transaction(function(e){var t=[w,_,x,k,E];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},o(r),function(){h.hasLocalStorage()&&(delete n.localStorage["_pouch__websqldb_"+e],delete n.localStorage[e]),r(null,{ok:!0})})}),p.Changes=new h.Changes,t.exports=p}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../deps/errors":11,"../merge":18,"../utils":23,vuvuzela:58}],6:[function(e,t){"use strict";function n(e,t,n){function r(){o.cancel()}s.call(this);var o=this;this.db=e,t=t?i.clone(t):{};var a=n||t.complete||function(){},u=t.complete=i.once(function(t,n){t?o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});a&&(o.on("complete",function(e){a(null,e)}),o.on("error",function(e){a(e)}));var l=t.onChange;l&&o.on("change",l),e.once("destroyed",r),t.onChange=function(e){t.isCancelled||(o.emit("change",e),o.startSeq&&o.startSeq<=e.seq&&(o.emit("uptodate"),o.startSeq=!1),e.deleted?o.emit("delete",e):1===e.changes.length&&"1-"===e.changes[0].rev.slice(0,2)?o.emit("create",e):o.emit("update",e))};var c=new i.Promise(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){l&&o.removeListener("change",l),t.complete(null,{status:"cancelled"})}),this.then=c.then.bind(c),this["catch"]=c["catch"].bind(c),this.then(function(e){u(null,e)},u),e.taskqueue.isReady?o.doChanges(t):e.taskqueue.addTask(function(){o.isCancelled?o.emit("cancel"):o.doChanges(t)})}function r(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=o.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var a={id:t.id,changes:r,doc:e};return i.isDeleted(t,e._rev)&&(a.deleted=!0),n.conflicts&&(a.doc._conflicts=o.collectConflicts(t),a.doc._conflicts.length||delete a.doc._conflicts),a}var i=e("./utils"),o=e("./merge"),a=e("./deps/errors"),s=e("events").EventEmitter,u=e("./evalFilter"),l=e("./evalView");t.exports=n,i.inherits(n,s),n.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},n.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=i.clone(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=r,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=r.update_seq-1,void t.doChanges(e))},n);if(e.continuous&&"now"!==e.since&&this.db.info().then(function(e){t.startSeq=e.update_seq-1},function(e){if("idbNull"!==e.id)throw e}),"http"!==this.db.type()&&e.filter&&"string"==typeof e.filter)return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var o=this.db._changes(e);if(o&&"function"==typeof o.cancel){var a=t.cancel;t.cancel=i.getArguments(function(e){o.cancel(),a.apply(this,e)})}},n.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=new Error("`view` filter parameter is not provided.");return r.status=a.BAD_REQUEST.status,r.name=a.BAD_REQUEST.name,r.error=!0,void n(r)}var i=e.view.split("/");this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return void n(null,{status:"cancelled"});if(r)return void n(r);if(o&&o.views&&o.views[i[1]]){var s=l(o.views[i[1]].map);return e.filter=s,void t.doChanges(e)}var u=o.views?"missing json key: "+i[1]:"missing json key: views";r||(r=new Error(u),r.status=a.MISSING_DOC.status,r.name=a.MISSING_DOC.name,r.error=!0),n(r)})}else{var o=e.filter.split("/");this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return void n(null,{status:"cancelled"});if(r)return void n(r);if(i&&i.filters&&i.filters[o[1]]){var s=u(i.filters[o[1]]);return e.filter=s,void t.doChanges(e)}var l=i&&i.filters?"missing json key: "+o[1]:"missing json key: filters";return r||(r=new Error(l),r.status=a.MISSING_DOC.status,r.name=a.MISSING_DOC.name,r.error=!0),void n(r)})}}},{"./deps/errors":11,"./evalFilter":15,"./evalView":16,"./merge":18,"./utils":23,events:27}],7:[function(e,t){(function(n){"use strict";function r(e){e&&n.debug&&console.error(e)}function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var l=this;("function"==typeof t||"undefined"==typeof t)&&(n=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0),"undefined"==typeof n&&(n=r),t=t||{};var c=n;l.auto_compaction=t.auto_compaction,l.prefix=i.prefix,o.call(l),l.taskqueue=new s;var p=new u(function(r,o){n=function(e,t){return e?o(e):(delete t.then,void r(t))},t=a.clone(t);var s,u,c=t.name||e;return function(){try{if("string"!=typeof c)throw u=new Error("Missing/invalid DB name"),u.code=400,u;if(s=i.parseAdapter(c,t),t.originalName=c,t.name=s.name,t.prefix&&"http"!==s.adapter&&"https"!==s.adapter&&(t.name=t.prefix+t.name),t.adapter=t.adapter||s.adapter,l._adapter=t.adapter,l._db_name=c,!i.adapters[t.adapter])throw u=new Error("Adapter is missing"),u.code=404,u;if(!i.adapters[t.adapter].valid())throw u=new Error("Invalid Adapter"),u.code=404,u}catch(e){l.taskqueue.fail(e),l.changes=a.toPromise(function(t){t.complete&&t.complete(e)})}}(),u?o(u):(l.adapter=t.adapter,l.replicate={},l.replicate.from=function(e,t,n){return l.constructor.replicate(e,l,t,n)},l.replicate.to=function(e,t,n){return l.constructor.replicate(l,e,t,n)},l.sync=function(e,t,n){return l.constructor.sync(l,e,t,n)},l.replicate.sync=l.sync,l.destroy=a.adapterFun("destroy",function(e){var t=this;t.info(function(n,r){return n?e(n):void t.constructor.destroy(r.db_name,e)})}),i.adapters[t.adapter].call(l,t,function(e){function r(e){"destroyed"===e&&(l.emit("destroyed"),i.removeListener(c,r))}return e?void(n&&(l.taskqueue.fail(e),n(e))):(i.on(c,r),l.emit("created",l),i.emit("created",t.originalName),l.taskqueue.ready(l),void n(null,l))}),t.skipSetup&&(l.taskqueue.ready(l),setTimeout(function(){n(null,l)},0)),void(a.isCordova()&&cordova.fireWindowEvent(t.name+"_pouch",{})))});p.then(function(e){c(null,e)},c),l.then=p.then.bind(p),l["catch"]=p["catch"].bind(p)}var o=e("./adapter"),a=e("./utils"),s=e("./taskqueue"),u=a.Promise;a.inherits(i,o),t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter":1,"./taskqueue":22,"./utils":23}],8:[function(e,t){"use strict";function n(e,t){function n(t,n,r){if(e.binary||e.json||!e.processData||"string"==typeof t){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(i){return r(i)}}else t=JSON.stringify(t);Array.isArray(t)&&(t=t.map(function(e){var t;return e.ok?e:e.error&&"conflict"===e.error?(t=o.REV_CONFLICT,t.id=e.id,t):e.error&&"forbidden"===e.error?(t=o.FORBIDDEN,t.id=e.id,t.reason=e.reason,t):e.missing?(t=o.MISSING_DOC,t.missing=e.missing,t):e})),r(null,t,n)}function s(e,t){var n,r,i,a;try{n=JSON.parse(e.responseText);for(a in o)if(o.hasOwnProperty(a)&&o[a].name===n.error){i=o[a];break}i||(i=o.UNKNOWN_ERROR,e.status&&(i.status=e.status),e.statusText&&(e.name=e.statusText)),r=o.error(i,n.reason)}catch(s){for(var a in o)if(o.hasOwnProperty(a)&&o[a].status===e.status){i=o[a];break}i||(i=o.UNKNOWN_ERROR,e.status&&(i.status=e.status),e.statusText&&(e.name=e.statusText)),r=o.error(i)}e.withCredentials&&0===e.status&&(r.status=405,r.statusText="Method Not Allowed"),t(r)}var u=!1,l=a.getArguments(function(e){u||(t.apply(this,e),u=!0)});"function"==typeof e&&(l=e,e={}),e=a.clone(e);var c={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};if(e=a.extend(!0,c,e),"GET"===e.method&&!e.cache){var p=-1!==e.url.indexOf("?");e.url+=(p?"&":"?")+"_nonce="+a.uuid(16)}var h,f;f=e.xhr?new e.xhr:new XMLHttpRequest,f.open(e.method,e.url),f.withCredentials=!0,e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(f.responseType="arraybuffer");var d=function(e,t,n){var r="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),r="; expires="+i.toGMTString()}document.cookie=e+"="+t+r+"; path=/"};for(var m in e.headers)if("Cookie"===m){var g=e.headers[m].split("=");d(g[0],g[1],10)}else f.setRequestHeader(m,e.headers[m]);"body"in e||(e.body=null);var v=function(){u||(f.abort(),s(f,l))};if(f.onreadystatechange=function(){if(4===f.readyState&&!u)if(clearTimeout(h),f.status>=200&&f.status<300){var t;t=e.binary?i([f.response||""],{type:f.getResponseHeader("Content-Type")}):f.responseText,n(t,f,l)}else s(f,l)},e.timeout>0&&(h=setTimeout(v,e.timeout),f.onprogress=function(){clearTimeout(h),h=setTimeout(v,e.timeout)},"undefined"==typeof r&&(r=-1!==Object.keys(f).indexOf("upload")),r&&(f.upload.onprogress=f.onprogress)),e.body&&e.body instanceof Blob){var y=new FileReader;y.onloadend=function(){for(var e="",t=new Uint8Array(this.result),n=t.byteLength,r=0;n>r;r++)e+=String.fromCharCode(t[r]);e=a.fixBinary(e),f.send(e)},y.readAsArrayBuffer(e.body)}else f.send(e.body);return{abort:v}}var r,i=e("./blob.js"),o=e("./errors"),a=e("../utils");t.exports=n},{"../utils":23,"./blob.js":9,"./errors":11}],9:[function(e,t){(function(e){"use strict";function n(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(r){if("TypeError"!==r.name)throw r;for(var i=e.BlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder,o=new i,a=0;a<t.length;a+=1)o.append(t[a]);return o.getBlob(n.type)}}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,n){"use strict";function r(){this.store={}}function i(){this.store=new r}n.Map=r,n.Set=i,r.prototype.mangle=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e);return"$"+e},r.prototype.unmangle=function(e){return e.substring(1)},r.prototype.get=function(e){var t=this.mangle(e);return t in this.store?this.store[t]:void 0},r.prototype.set=function(e,t){var n=this.mangle(e);return this.store[n]=t,!0},r.prototype.has=function(e){var t=this.mangle(e);return t in this.store},r.prototype["delete"]=function(e){var t=this.mangle(e);return t in this.store?(delete this.store[t],!0):!1},r.prototype.forEach=function(e){var t=this,n=Object.keys(t.store);n.forEach(function(n){var r=t.store[n];n=t.unmangle(n),e(r,n)})},i.prototype.add=function(e){return this.store.set(e,!0)},i.prototype.has=function(e){return this.store.has(e)},i.prototype["delete"]=function(e){return this.store["delete"](e)}},{}],11:[function(e,t,n){"use strict";function r(e){this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}r.prototype__proto__=Error.prototype,r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},n.UNAUTHORIZED=new r({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),n.MISSING_BULK_DOCS=new r({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),n.MISSING_DOC=new r({status:404,error:"not_found",reason:"missing"}),n.REV_CONFLICT=new r({status:409,error:"conflict",reason:"Document update conflict"}),n.INVALID_ID=new r({status:400,error:"invalid_id",reason:"_id field must contain a string"}),n.MISSING_ID=new r({status:412,error:"missing_id",reason:"_id is required for puts"}),n.RESERVED_ID=new r({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),n.NOT_OPEN=new r({status:412,error:"precondition_failed",reason:"Database not open"}),n.UNKNOWN_ERROR=new r({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),n.BAD_ARG=new r({status:500,error:"badarg",reason:"Some query argument is invalid"}),n.INVALID_REQUEST=new r({status:400,error:"invalid_request",reason:"Request was invalid"}),n.QUERY_PARSE_ERROR=new r({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),n.DOC_VALIDATION=new r({status:500,error:"doc_validation",reason:"Bad special document member"}),n.BAD_REQUEST=new r({status:400,error:"bad_request",reason:"Something wrong with the request"}),n.NOT_AN_OBJECT=new r({status:400,error:"bad_request",reason:"Document must be a JSON object"}),n.DB_MISSING=new r({status:404,error:"not_found",reason:"Database not found"}),n.IDB_ERROR=new r({status:500,error:"indexed_db_went_bad",reason:"unknown"}),n.WSQ_ERROR=new r({status:500,error:"web_sql_went_bad",reason:"unknown"}),n.LDB_ERROR=new r({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),n.FORBIDDEN=new r({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),n.error=function(e,t,n){function r(){this.message=t,n&&(this.name=n)}return r.prototype=e,new r(t)}},{}],12:[function(e,t){(function(n,r){"use strict";function i(e,t,n){if("function"==typeof e.slice)return t?n?e.slice(t,n):e.slice(t):e.slice();t=Math.floor(t||0),n=Math.floor(n||0);var r=e.byteLength;if(t=0>t?Math.max(t+r,0):Math.min(r,t),n=0>n?Math.max(n+r,0):Math.min(r,n),0>=n-t)return new ArrayBuffer(0);var i=new ArrayBuffer(n-t),o=new Uint8Array(i),a=new Uint8Array(e,t,n-t);return o.set(a),i}function o(e){var t=[255&e,e>>>8&255,e>>>16&255,e>>>24&255];return t.map(function(e){return String.fromCharCode(e)}).join("")}function a(e){for(var t="",n=0;n<e.length;n++)t+=o(e[n]);return r.btoa(t)}var s=e("crypto"),u=e("spark-md5"),l=r.setImmediate||r.setTimeout;t.exports=function(e,t){function r(e,t,n,r){p?e.appendBinary(t.substring(n,r)):e.append(i(t,n,r))}function o(){var n=m*f,i=n+f;if(n+f>=e.size&&(i=e.size),m++,d>m)r(g,e,n,i),l(o);else{r(g,e,n,i);var s=g.end(!0),u=a(s);t(null,u),g.destroy()}}if(!n.browser){var c=s.createHash("md5").update(e).digest("base64");return void t(null,c)}var p="string"==typeof e,h=p?e.length:e.byteLength,f=Math.min(524288,h),d=Math.ceil(h/f),m=0,g=p?new u:new u.ArrayBuffer;o()}}).call(this,e("/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":28,crypto:26,"spark-md5":57}],13:[function(e,t){"use strict";function n(e,t,n){return new i(function(i,o){return t&&"object"==typeof t&&(t=t._id),"string"!=typeof t?o(new Error("doc id is required")):void e.get(t,function(a,s){if(a)return 404!==a.status?o(a):i(r(e,n({_id:t}),n));var u=n(s);return u?void i(r(e,u,n)):i(s)})})}function r(e,t,r){return e.put(t)["catch"](function(i){if(409!==i.status)throw i;return n(e,t,r)})}var i=e("../utils").Promise;t.exports=function(e,t,r,i){return"function"!=typeof i?n(e,t,r):void n(e,t,r).then(function(e){i(null,e)},i)}},{"../utils":23}],14:[function(e,t){"use strict";function n(e){return 0|Math.random()*e}function r(e,t){t=t||i.length;var r="",o=-1;if(e){for(;++o<e;)r+=i[n(t)];return r}for(;++o<36;)switch(o){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=i[3&n(16)|8];break;default:r+=i[n(16)]}return r}var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t.exports=r},{}],15:[function(_dereq_,module,exports){"use strict";function evalFilter(input){return eval(["(function () { return ",input," })()"].join(""))}module.exports=evalFilter},{}],16:[function(_dereq_,module,exports){"use strict";function evalView(input){return eval(["(function () {","  return function (doc) {","    var emitted = false;","    var emit = function (a, b) {","      emitted = true;","    };","    var view = "+input+";","    view(doc);","    if (emitted) {","      return true;","    }","  }","})()"].join("\n"))}module.exports=evalView},{}],17:[function(e,t){(function(n){"use strict";var r=e("./setup");t.exports=r,r.ajax=e("./deps/ajax"),r.extend=e("pouchdb-extend"),r.utils=e("./utils"),r.Errors=e("./deps/errors"),r.replicate=e("./replicate").replicate,r.sync=e("./sync"),r.version=e("./version");var i=e("./adapters/http");if(r.adapter("http",i),r.adapter("https",i),r.adapter("idb",e("./adapters/idb")),r.adapter("websql",e("./adapters/websql")),r.plugin(e("pouchdb-mapreduce")),!n.browser){var o=e("./adapters/leveldb");r.adapter("ldb",o),r.adapter("leveldb",o)}}).call(this,e("/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./adapters/http":2,"./adapters/idb":3,"./adapters/leveldb":26,"./adapters/websql":5,"./deps/ajax":8,"./deps/errors":11,"./replicate":19,"./setup":20,"./sync":21,"./utils":23,"./version":24,"/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":28,"pouchdb-extend":48,"pouchdb-mapreduce":51}],18:[function(e,t){"use strict";function n(e){for(var t,n=e.shift(),r=[n.id,n.opts,[]],i=r;e.length;)n=e.shift(),t=[n.id,n.opts,[]],i[2].push(t),i=t;return r}function r(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,a=i.tree2;(o[1].status||a[1].status)&&(o[1].status="available"===o[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(o[2][0]){for(var u=!1,l=0;l<o[2].length;l++)o[2][l][0]===a[2][s][0]&&(n.push({tree1:o[2][l],tree2:a[2][s]}),u=!0);u||(r="new_branch",o[2].push(a[2][s]),o[2].sort())}else r="new_leaf",o[2][0]=a[2][s]}return{conflicts:r,tree:e}}function i(e,t,n){var i,o=[],a=!1,s=!1;return e.length?(e.forEach(function(e){if(e.pos===t.pos&&e.ids[0]===t.ids[0])i=r(e.ids,t.ids),o.push({pos:e.pos,ids:i.tree}),a=a||i.conflicts,s=!0;else if(n!==!0){var u=e.pos<t.pos?e:t,l=e.pos<t.pos?t:e,c=l.pos-u.pos,p=[],h=[];for(h.push({ids:u.ids,diff:c,parent:null,parentIdx:null});h.length>0;){var f=h.pop();0!==f.diff?f.ids&&f.ids[2].forEach(function(e,t){h.push({ids:e,diff:f.diff-1,parent:f.ids,parentIdx:t})}):f.ids[0]===l.ids[0]&&p.push(f)}var d=p[0];d?(i=r(d.ids,l.ids),d.parent[2][d.parentIdx]=i.tree,o.push({pos:u.pos,ids:u.ids}),a=a||i.conflicts,s=!0):o.push(e)}else o.push(e)}),s||o.push(t),o.sort(function(e,t){return e.pos-t.pos}),{tree:o,conflicts:a||"internal_node"}):{tree:[t],conflicts:"new_leaf"}}function o(e,t){var r=s.rootToLeaf(e).map(function(e){var r=e.ids.slice(-t);return{pos:e.pos+(e.ids.length-r.length),ids:n(r)}});return r.reduce(function(e,t){return i(e,t,!0).tree},[r.shift()])}var a=e("pouchdb-extend"),s={};s.merge=function(e,t,n){e=a(!0,[],e),t=a(!0,{},t);var r=i(e,t);return{tree:o(r.tree,n),conflicts:r.conflicts}},s.winningRev=function(e){var t=[];return s.traverseRevTree(e.rev_tree,function(e,n,r,i,o){e&&t.push({pos:n,id:r,deleted:!!o.deleted})}),t.sort(function(e,t){return e.deleted!==t.deleted?e.deleted>t.deleted?1:-1:e.pos!==t.pos?t.pos-e.pos:e.id<t.id?1:-1}),t[0].pos+"-"+t[0].id},s.traverseRevTree=function(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],s=t(0===a.length,i,o[0],n.ctx,o[1]),u=0,l=a.length;l>u;u++)r.push({pos:i+1,ids:a[u],ctx:s})},s.collectLeaves=function(e){var t=[];return s.traverseRevTree(e,function(e,n,r,i,o){e&&t.unshift({rev:n+"-"+r,pos:n,opts:o})}),t.sort(function(e,t){return t.pos-e.pos}),t.map(function(e){delete e.pos}),t},s.collectConflicts=function(e){var t=s.winningRev(e),n=s.collectLeaves(e.rev_tree),r=[];return n.forEach(function(e){e.rev===t||e.opts.deleted||r.push(e.rev)}),r},s.rootToLeaf=function(e){var t=[];return s.traverseRevTree(e,function(e,n,r,i,o){if(i=i?i.slice(0):[],i.push({id:r,opts:o}),e){var a=n+1-i.length;t.unshift({pos:a,ids:i})}return i}),t},t.exports=s},{"pouchdb-extend":48}],19:[function(e,t,n){"use strict";function r(){p.call(this),this.cancelled=!1;var e=this,t=new c.Promise(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e["catch"]=function(e){return t["catch"](e)},e["catch"](function(){})}function i(e,t,n){var r=n.filter?n.filter.toString():"";return e.id().then(function(e){return t.id().then(function(t){var i=e+t+r+JSON.stringify(n.query_params)+n.doc_ids;return c.MD5(i).then(function(e){return e=e.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+e})})})}function o(e,t,n,r){return e.get(t)["catch"](function(e){if(404===e.status)return{_id:t};throw e}).then(function(t){return r.cancelled?void 0:(t.last_seq=n,e.put(t))})}function a(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function s(e,t,n,r,i){function o(){if(0!==k.docs.length){var e=k.docs;return n.bulkDocs({docs:e},{new_edits:!1}).then(function(e){if(i.cancelled)throw y(),new Error("cancelled");var t=[];e.forEach(function(e){if(e.error){R.doc_write_failures++;var n=new Error(e.reason||e.message||"Unknown reason");n.name=e.name||e.error,t.push(n)}}),R.errors=R.errors.concat(t),R.docs_written+=k.docs.length-t.length;var n=t.filter(function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name});if(n.length>0){var r=new Error("bulkDocs error");throw r.other_errors=t,v("target.bulkDocs failed to write docs",r),new Error("bulkWrite partial failure")}},function(t){throw R.doc_write_failures+=e.length,t})}}function s(){for(var e=k.diffs,n=Object.keys(e)[0],r=e[n].missing,o=[],a=0;a<r.length;a+=h)o.push(r.slice(a,Math.min(r.length,a+h)));return c.Promise.all(o.map(function(r){return t.get(n,{revs:!0,open_revs:r,attachments:!0}).then(function(t){t.forEach(function(t){return i.cancelled?y():void(t.ok&&(R.docs_read++,k.pendingRevs++,k.docs.push(t.ok),delete e[t.ok._id]))})})}))}function u(){return Object.keys(k.diffs).length>0?s().then(u):c.Promise.resolve()}function l(){var e=Object.keys(k.diffs).filter(function(e){var t=k.diffs[e].missing;return 1===t.length&&"1-"===t[0].slice(0,2)});return t.allDocs({keys:e,include_docs:!0}).then(function(e){if(i.cancelled)throw y(),new Error("cancelled");e.rows.forEach(function(e){!e.doc||e.deleted||"1-"!==e.value.rev.slice(0,2)||e.doc._attachments&&0!==Object.keys(e.doc._attachments).length||(R.docs_read++,k.pendingRevs++,k.docs.push(e.doc),delete k.diffs[e.id])})})}function p(){return l().then(u)}function f(){return S=!0,B.writeCheckpoint(k.seq).then(function(){if(S=!1,i.cancelled)throw y(),new Error("cancelled");R.last_seq=D=k.seq,i.emit("change",c.clone(R)),k=void 0,x()})["catch"](function(e){throw S=!1,v("writeCheckpoint completed with error",e),e})}function d(){var e={};return k.changes.forEach(function(t){e[t.id]=t.changes.map(function(e){return e.rev})}),n.revsDiff(e).then(function(e){if(i.cancelled)throw y(),new Error("cancelled");k.diffs=e,k.pendingRevs=0})}function m(){if(!i.cancelled&&!k){if(0===C.length)return void g(!0);k=C.shift(),d().then(p).then(o).then(f).then(m)["catch"](function(e){v("batch processing terminated with error",e)})}}function g(e){return 0===A.changes.length?void(0!==C.length||k||((O&&j.live||M)&&i.emit("uptodate",c.clone(R)),M&&y())):void((e||M||A.changes.length>=L)&&(C.push(A),A={seq:0,changes:[],docs:[]},m()))}function v(e,t){T||(R.ok=!1,R.status="aborted",R.errors.push(t),C=[],A={seq:0,changes:[],docs:[]},y())}function y(){if(!(T||i.cancelled&&(R.status="cancelled",S))){R.status=R.status||"complete",R.end_time=new Date,R.last_seq=D,T=i.cancelled=!0;var e=R.errors.filter(function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name});if(e.length>0){var t=R.errors.pop();R.errors.length>0&&(t.other_errors=R.errors),t.result=R,i.emit("error",t)}else i.emit("complete",R);i.removeAllListeners()}}function b(e){return i.cancelled?y():(0!==A.changes.length||0!==C.length||k||i.emit("outofdate",c.clone(R)),A.seq=e.seq,A.changes.push(e),void g(0===C.length))}function w(e){return P=!1,i.cancelled?y():(j.since<e.last_seq?(j.since=e.last_seq,x()):O?(j.live=!0,x()):M=!0,void g(!0))}function _(e){return P=!1,i.cancelled?y():void v("changes rejected",e)}function x(){function e(){r.cancel()}function n(){i.removeListener("cancel",e)}if(!P&&!M&&C.length<F){P=!0,i.once("cancel",e);var r=t.changes(j).on("change",b);r.then(n,n),r.then(w)["catch"](_)}}function E(){B.getCheckpoint().then(function(e){D=e,j={since:D,limit:L,batch_size:L,style:"all_docs",doc_ids:N,returnDocs:!1},r.filter&&(j.filter=r.filter),r.query_params&&(j.query_params=r.query_params),x()})["catch"](function(e){v("getCheckpoint rejected with ",e)})}var k,C=[],A={seq:0,changes:[],docs:[]},S=!1,M=!1,T=!1,D=0,O=r.continuous||r.live||!1,L=r.batch_size||100,F=r.batches_limit||10,P=!1,N=r.doc_ids,B=new a(t,n,e,i),R={ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]},j={};i.ready(t,n),i.once("cancel",y),"function"==typeof r.onChange&&i.on("change",r.onChange),"function"==typeof r.complete&&(i.once("error",r.complete),i.once("complete",function(e){r.complete(null,e)})),"undefined"==typeof r.since?E():(S=!0,B.writeCheckpoint(r.since).then(function(){return S=!1,i.cancelled?void y():(D=r.since,void E())})["catch"](function(e){throw S=!1,v("writeCheckpoint completed with error",e),e}))}function u(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e):e.then?e:c.Promise.resolve(e)}function l(e,t,n,o){"function"==typeof n&&(o=n,n={}),"undefined"==typeof n&&(n={}),n.complete||(n.complete=o||function(){}),n=c.clone(n),n.continuous=n.continuous||n.live,n.PouchConstructor=n.PouchConstructor||this;var a=new r(n);return u(e,n).then(function(e){return u(t,n).then(function(t){return i(e,t,n).then(function(r){s(r,e,t,n,a)})})})["catch"](function(e){a.emit("error",e),n.complete(e)}),a}var c=e("./utils"),p=e("events").EventEmitter,h=50;c.inherits(r,p),r.prototype.cancel=function(){this.cancelled=!0,this.emit("cancel")},r.prototype.ready=function(e,t){function n(){i.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var i=this;e.once("destroyed",n),t.once("destroyed",n),this.then(r,r)},a.prototype.writeCheckpoint=function(e){var t=this;return this.updateTarget(e).then(function(){return t.updateSource(e)})},a.prototype.updateTarget=function(e){return o(this.target,this.id,e,this.returnValue)},a.prototype.updateSource=function(e){var t=this;return this.readOnlySource?c.Promise.resolve(!0):o(this.src,this.id,e,this.returnValue)["catch"](function(e){var n="number"==typeof e.status&&4===Math.floor(e.status/100);if(n)return t.readOnlySource=!0,!0;throw e})},a.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.src.get(e.id).then(function(e){return t.last_seq===e.last_seq?e.last_seq:0},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then(function(){return 0},function(n){return 401===n.status?(e.readOnlySource=!0,t.last_seq):0});throw n})})["catch"](function(e){if(404!==e.status)throw e;return 0})},n.toPouch=u,n.replicate=l},{"./utils":23,events:27}],20:[function(e,t){(function(n){"use strict";var r=e("./constructor"),i=e("./utils"),o=i.Promise,a=e("events").EventEmitter;r.adapters={},r.preferredAdapters=e("./adapters/preferredAdapters.js"),r.prefix="_pouch_";var s=new a,u=["on","addListener","emit","listeners","once","removeAllListeners","removeListener","setMaxListeners"];u.forEach(function(e){r[e]=s[e].bind(s)}),r.setMaxListeners(0),r.parseAdapter=function(e,t){var o,a,s=e.match(/([a-z\-]*):\/\/(.*)/);if(s){if(e=/http(s?)/.test(s[1])?s[1]+"://"+s[2]:s[2],o=s[1],!r.adapters[o].valid())throw"Invalid adapter";return{name:e,adapter:s[1]}}var u="idb"in r.adapters&&"websql"in r.adapters&&i.hasLocalStorage()&&n.localStorage["_pouch__websqldb_"+r.prefix+e];if("undefined"!=typeof t&&t.db)a="leveldb";else for(var l=0;l<r.preferredAdapters.length;++l)if(a=r.preferredAdapters[l],a in r.adapters){if(u&&"idb"===a)continue;break}if(o=r.adapters[a],a&&o){var c="use_prefix"in o?o.use_prefix:!0;return{name:c?r.prefix+e:e,adapter:a}}throw"No valid adapter found"},r.destroy=i.toPromise(function(e,t,n){function a(){l.destroy(h,t,function(t,i){t?n(t):(r.emit("destroyed",e),r.emit(e,"destroyed"),n(null,i||{ok:!0}))})}("function"==typeof t||"undefined"==typeof t)&&(n=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0);var s=r.parseAdapter(t.name||e,t),u=s.name,l=r.adapters[s.adapter],c="use_prefix"in l?l.use_prefix:!0,p=c?u.replace(new RegExp("^"+r.prefix),""):u,h=("http"===s.adapter||"https"===s.adapter?"":t.prefix||"")+u,f=i.extend(!0,{},t,{adapter:s.adapter});new r(p,f,function(e,u){return e?n(e):void u.get("_local/_pouch_dependentDbs",function(e,u){if(e)return 404!==e.status?n(e):a();var l=u.dependentDbs,p=Object.keys(l).map(function(e){var n=c?e.replace(new RegExp("^"+r.prefix),""):e,o=i.extend(!0,t,{adapter:s.adapter});return r.destroy(n,o)});o.all(p).then(a,function(e){n(e)})})})}),r.allDbs=i.toPromise(function(e){var t=new Error("allDbs method removed");t.stats="400",e(t)}),r.adapter=function(e,t){t.valid()&&(r.adapters[e]=t)},r.plugin=function(e){Object.keys(e).forEach(function(t){r.prototype[t]=e[t]})},r.defaults=function(e){function t(t,n,o){("function"==typeof n||"undefined"==typeof n)&&(o=n,n={}),t&&"object"==typeof t&&(n=t,t=void 0),n=i.extend(!0,{},e,n),r.call(this,t,n,o)}return i.inherits(t,r),t.destroy=i.toPromise(function(t,n,o){return("function"==typeof n||"undefined"==typeof n)&&(o=n,n={}),t&&"object"==typeof t&&(n=t,t=void 0),n=i.extend(!0,{},e,n),r.destroy(t,n,o)}),u.forEach(function(e){t[e]=s[e].bind(s)}),t.setMaxListeners(0),t.preferredAdapters=r.preferredAdapters.slice(),Object.keys(r).forEach(function(e){e in t||(t[e]=r[e])}),t},t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapters/preferredAdapters.js":4,"./constructor":7,"./utils":23,events:27}],21:[function(e,t){"use strict";function n(e,t,n,a){return"function"==typeof n&&(a=n,n={}),"undefined"==typeof n&&(n={}),n=i.clone(n),n.PouchConstructor=n.PouchConstructor||this,e=o.toPouch(e,n),t=o.toPouch(t,n),new r(e,t,n,a)}function r(e,t,n,r){function o(e){f||(f=!0,c.emit("cancel",e))}function s(e){c.emit("change",{direction:"pull",change:e})
}function u(e){c.emit("change",{direction:"push",change:e})}function l(e){return function(t,n){var r="change"===t&&(n===s||n===u),i="cancel"===t&&n===o,a=t in d&&n===d[t];(r||i||a)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&c.removeAllListeners(t))}}var c=this;this.canceled=!1;var p,h;"onChange"in n&&(p=n.onChange,delete n.onChange),"function"!=typeof r||n.complete?"complete"in n&&(h=n.complete,delete n.complete):h=r,this.push=a(e,t,n),this.pull=a(t,e,n);var f=!1,d={},m={};this.on("newListener",function(e){"change"===e?(c.pull.on("change",s),c.push.on("change",u)):"cancel"===e?(c.pull.on("cancel",o),c.push.on("cancel",o)):"error"===e||"removeListener"===e||"complete"===e||e in d||(d[e]=function(t){c.emit(e,t)},c.pull.on(e,d[e]),c.push.on(e,d[e]))}),this.on("removeListener",function(e){"change"===e?(c.pull.removeListener("change",s),c.push.removeListener("change",u)):"cancel"===e?(c.pull.removeListener("cancel",o),c.push.removeListener("cancel",o)):e in d&&"function"==typeof d[e]&&(c.pull.removeListener(e,d[e]),c.push.removeListener(e,d[e]),delete d[e])}),this.pull.on("removeListener",l("pull")),this.push.on("removeListener",l("push"));var g=i.Promise.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return c.emit("complete",t),h&&h(null,t),c.removeAllListeners(),t},function(e){throw c.cancel(),c.emit("error",e),h&&h(e),c.removeAllListeners(),e});this.then=function(e,t){return g.then(e,t)},this["catch"]=function(e){return g["catch"](e)}}var i=e("./utils"),o=e("./replicate"),a=o.replicate,s=e("events").EventEmitter;i.inherits(r,s),t.exports=n,r.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}},{"./replicate":19,"./utils":23,events:27}],22:[function(e,t){"use strict";function n(){this.isReady=!1,this.failed=!1,this.queue=[]}t.exports=n,n.prototype.execute=function(){var e,t;if(this.failed)for(;e=this.queue.shift();)"function"!=typeof e?(t=e.parameters[e.parameters.length-1],"function"==typeof t?t(this.failed):"changes"===e.name&&"function"==typeof t.complete&&t.complete(this.failed)):e(this.failed);else if(this.isReady)for(;e=this.queue.shift();)"function"==typeof e?e():e.task=this.db[e.name].apply(this.db,e.parameters)},n.prototype.fail=function(e){this.failed=e,this.execute()},n.prototype.ready=function(e){return this.failed?!1:0===arguments.length?this.isReady:(this.isReady=e?!0:!1,this.db=e,void this.execute())},n.prototype.addTask=function(e,t){if("function"!=typeof e){var n={name:e,parameters:t};return this.queue.push(n),this.failed&&this.execute(),n}this.queue.push(e),this.failed&&this.execute()}},{}],23:[function(e,t,n){(function(t,r){function i(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function o(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function a(){if(!(this instanceof a))return new a;var e=this;c.call(this),this.isChrome=o(),this.listeners={},this.hasLocal=!1,this.isChrome||(this.hasLocal=n.hasLocalStorage()),this.isChrome?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):this.hasLocal&&(r.addEventListener?r.addEventListener("storage",function(t){e.emit(t.key)}):r.attachEvent("storage",function(t){e.emit(t.key)}))}var s=e("./merge");n.extend=e("pouchdb-extend"),n.ajax=e("./deps/ajax"),n.createBlob=e("./deps/blob"),n.uuid=e("./deps/uuid"),n.getArguments=e("argsarray");var u=e("./deps/buffer"),l=e("./deps/errors"),c=e("events").EventEmitter,p=e("./deps/collections");n.Map=p.Map,n.Set=p.Set,n.Promise="function"==typeof r.Promise?r.Promise:e("bluebird");var h=n.Promise,f=i(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),d=i(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);n.clone=function(e){return n.extend(!0,{},e)},n.inherits=e("inherits"),n.invalidIdError=function(e){var t;if(e?"string"!=typeof e?(t=new TypeError(l.INVALID_ID.message),t.status=400):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=new TypeError(l.RESERVED_ID.message),t.status=400):(t=new TypeError(l.MISSING_ID.message),t.status=412),t)throw t},n.call=n.getArguments(function(e){if(e.length){var t=e.shift();"function"==typeof t&&t.apply(this,e)}}),n.isLocalId=function(e){return/^_local/.test(e)},n.isDeleted=function(e,t){t||(t=s.winningRev(e));var n=t.indexOf("-");-1!==n&&(t=t.substring(n+1));var r=!1;return s.traverseRevTree(e.rev_tree,function(e,n,i,o,a){i===t&&(r=!!a.deleted)}),r},n.filterChange=function(e){return function(t){var n={},r=e.filter&&"function"==typeof e.filter;if(n.query=e.query_params,e.filter&&r&&!e.filter.call(this,t.doc,n))return!1;if(e.doc_ids&&-1===e.doc_ids.indexOf(t.id))return!1;if(e.include_docs)for(var i in t.doc._attachments)t.doc._attachments.hasOwnProperty(i)&&(t.doc._attachments[i].stub=!0);else delete t.doc;return!0}},n.parseDoc=function(e,t){var r,i,o,a,s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=n.uuid()),i=n.uuid(32,16).toLowerCase(),e._rev){if(o=/^(\d+)-(.+)$/.exec(e._rev),!o){var u=new TypeError("invalid value for property '_rev'");u.status=400}e._rev_tree=[{pos:parseInt(o[1],10),ids:[o[2],{status:"missing"},[[i,s,[]]]]}],r=parseInt(o[1],10)+1}else e._rev_tree=[{pos:1,ids:[i,s,[]]}],r=1;else if(e._revisions&&(e._rev_tree=[{pos:e._revisions.start-e._revisions.ids.length+1,ids:e._revisions.ids.reduce(function(e,t){return null===e?[t,s,[]]:[t,{status:"missing"},[e]]},null)}],r=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if(o=/^(\d+)-(.+)$/.exec(e._rev),!o)throw a=new TypeError(l.BAD_ARG.message),a.status=l.BAD_ARG.status,a;r=parseInt(o[1],10),i=o[2],e._rev_tree=[{pos:parseInt(o[1],10),ids:[o[2],s,[]]}]}n.invalidIdError(e._id),e._rev=[r,i].join("-");var c={metadata:{},data:{}};for(var p in e)if(e.hasOwnProperty(p)){var h="_"===p[0];if(h&&!f[p])throw a=new Error(l.DOC_VALIDATION.message+": "+p),a.status=l.DOC_VALIDATION.status,a;h&&!d[p]?c.metadata[p.slice(1)]=e[p]:c.data[p]=e[p]}return c},n.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},n.hasLocalStorage=function(){if(o())return!1;try{return r.localStorage}catch(e){return!1}},n.Changes=a,n.inherits(a,c),a.prototype.addListener=function(e,t,r,i){function o(){r.changes({include_docs:i.include_docs,conflicts:i.conflicts,continuous:!1,descending:!1,filter:i.filter,view:i.view,since:i.since,query_params:i.query_params,onChange:function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,n.call(i.onChange,e))}})}this.listeners[t]||(this.listeners[t]=o,this.on(e,o))},a.prototype.removeListener=function(e,t){t in this.listeners&&c.prototype.removeListener.call(this,e,this.listeners[t])},a.prototype.notifyLocalWindows=function(e){this.isChrome?chrome.storage.local.set({dbName:e}):this.hasLocal&&(localStorage[e]="a"===localStorage[e]?"b":"a")},a.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},n.atob=t.browser&&"atob"in r?function(e){return atob(e)}:function(e){var t=new u(e,"base64");if(t.toString("base64")!==e)throw"Cannot base64 encode full string";return t.toString("binary")},n.btoa=t.browser&&"btoa"in r?function(e){return btoa(e)}:function(e){return new u(e,"binary").toString("base64")},n.fixBinary=function(e){if(!t.browser)return e;for(var n=e.length,r=new ArrayBuffer(n),i=new Uint8Array(r),o=0;n>o;o++)i[o]=e.charCodeAt(o);return r},n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw"function"==typeof console.trace&&console.trace(),new Error("once called  more than once");t=!0,e.apply(this,n)})},n.toPromise=function(e){return n.getArguments(function(r){var i,o=this,a="function"==typeof r[r.length-1]?r.pop():!1;a&&(i=function(e,n){t.nextTick(function(){a(e,n)})});var s=new h(function(t,i){var a;try{var s=n.once(function(e,n){e?i(e):t(n)});r.push(s),a=e.apply(o,r),a&&"function"==typeof a.then&&t(a)}catch(u){i(u)}});return i&&s.then(function(e){i(null,e)},i),s.cancel=function(){return this},s})},n.adapterFun=function(e,t){return n.toPromise(n.getArguments(function(r){if(this._closed)return h.reject(new Error("database is closed"));var i=this;return this.taskqueue.isReady?t.apply(this,r):new n.Promise(function(t,n){i.taskqueue.addTask(function(o){o?n(o):t(i[e].apply(i,r))})})}))},n.arrayBufferToBinaryString=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;r>i;i++)t+=String.fromCharCode(n[i]);return t},n.cancellableFun=function(e,t,r){r=r?n.clone(!0,{},r):{};var i=new c,o=r.complete||function(){},a=r.complete=n.once(function(e,t){e?o(e):(i.emit("end",t),o(null,t)),i.removeAllListeners()}),s=r.onChange||function(){},u=0;t.on("destroyed",function(){i.removeAllListeners()}),r.onChange=function(e){s(e),e.seq<=u||(u=e.seq,i.emit("change",e),e.deleted?i.emit("delete",e):1===e.changes.length&&"1-"===e.changes[0].rev.slice(0,1)?i.emit("create",e):i.emit("update",e))};var l=new h(function(e,t){r.complete=function(n,r){n?t(n):e(r)}});return l.then(function(e){a(null,e)},a),l.cancel=function(){l.isCancelled=!0,t.taskqueue.isReady&&r.complete(null,{status:"cancelled"})},t.taskqueue.isReady?e(t,r,l):t.taskqueue.addTask(function(){l.isCancelled?r.complete(null,{status:"cancelled"}):e(t,r,l)}),l.on=i.on.bind(i),l.once=i.once.bind(i),l.addListener=i.addListener.bind(i),l.removeListener=i.removeListener.bind(i),l.removeAllListeners=i.removeAllListeners.bind(i),l.setMaxListeners=i.setMaxListeners.bind(i),l.listeners=i.listeners.bind(i),l.emit=i.emit.bind(i),l},n.MD5=n.toPromise(e("./deps/md5"))}).call(this,e("/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./deps/ajax":8,"./deps/blob":9,"./deps/buffer":26,"./deps/collections":10,"./deps/errors":11,"./deps/md5":12,"./deps/uuid":14,"./merge":18,"/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":28,argsarray:25,bluebird:33,events:27,inherits:29,"pouchdb-extend":48}],24:[function(e,t){t.exports="3.0.6"},{}],25:[function(e,t){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=n},{}],26:[function(){},{}],27:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];n.apply(this,s)}else if(o(n)){for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];for(l=n.slice(),i=l.length,u=0;i>u;u++)l[u].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],28:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],29:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],30:[function(e,t){"use strict";function n(){}t.exports=n},{}],31:[function(e,t){"use strict";function n(e){function t(e,t){function r(e){l[t]=e,++c===n&!u&&(u=!0,s.resolve(h,l))}o(e).then(r,function(e){u||(u=!0,s.reject(h,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return i(new TypeError("must be an array"));var n=e.length,u=!1;if(!n)return o([]);for(var l=new Array(n),c=0,p=-1,h=new r(a);++p<n;)t(e[p],p);return h}var r=e("./promise"),i=e("./reject"),o=e("./resolve"),a=e("./INTERNAL"),s=e("./handlers");t.exports=n},{"./INTERNAL":30,"./handlers":32,"./promise":34,"./reject":37,"./resolve":38}],32:[function(e,t,n){"use strict";function r(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}var i=e("./tryCatch"),o=e("./resolveThenable"),a=e("./states");n.resolve=function(e,t){var s=i(r,t);if("error"===s.status)return n.reject(e,s.value);var u=s.value;if(u)o.safely(e,u);else{e.state=a.FULFILLED,e.outcome=t;for(var l=-1,c=e.queue.length;++l<c;)e.queue[l].callFulfilled(t)}return e},n.reject=function(e,t){e.state=a.REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e}},{"./resolveThenable":39,"./states":40,"./tryCatch":41}],33:[function(e,t,n){t.exports=n=e("./promise"),n.resolve=e("./resolve"),n.reject=e("./reject"),n.all=e("./all"),n.race=e("./race")},{"./all":31,"./promise":34,"./race":36,"./reject":37,"./resolve":38}],34:[function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);if("function"!=typeof e)throw new TypeError("reslover must be a function");this.state=a.PENDING,this.queue=[],this.outcome=void 0,e!==i&&o.safely(this,e)}var r=e("./unwrap"),i=e("./INTERNAL"),o=e("./resolveThenable"),a=e("./states"),s=e("./queueItem");t.exports=n,n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a.FULFILLED||"function"!=typeof t&&this.state===a.REJECTED)return this;var o=new n(i);if(this.state!==a.PENDING){var u=this.state===a.FULFILLED?e:t;r(o,u,this.outcome)}else this.queue.push(new s(o,e,t));return o}},{"./INTERNAL":30,"./queueItem":35,"./resolveThenable":39,"./states":40,"./unwrap":42}],35:[function(e,t){"use strict";function n(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var r=e("./handlers"),i=e("./unwrap");t.exports=n,n.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},n.prototype.otherCallFulfilled=function(e){i(this.promise,this.onFulfilled,e)},n.prototype.callRejected=function(e){r.reject(this.promise,e)},n.prototype.otherCallRejected=function(e){i(this.promise,this.onRejected,e)}},{"./handlers":32,"./unwrap":42}],36:[function(e,t){"use strict";function n(e){function t(e){o(e).then(function(e){u||(u=!0,s.resolve(c,e))},function(e){u||(u=!0,s.reject(c,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return i(new TypeError("must be an array"));var n=e.length,u=!1;if(!n)return o([]);for(var l=-1,c=new r(a);++l<n;)t(e[l]);return c}var r=e("./promise"),i=e("./reject"),o=e("./resolve"),a=e("./INTERNAL"),s=e("./handlers");t.exports=n},{"./INTERNAL":30,"./handlers":32,"./promise":34,"./reject":37,"./resolve":38}],37:[function(e,t){"use strict";function n(e){var t=new r(i);return o.reject(t,e)}var r=e("./promise"),i=e("./INTERNAL"),o=e("./handlers");t.exports=n},{"./INTERNAL":30,"./handlers":32,"./promise":34}],38:[function(e,t){"use strict";function n(e){if(e)return e instanceof r?e:o.resolve(new r(i),e);var t=typeof e;switch(t){case"boolean":return a;case"undefined":return u;case"object":return s;case"number":return l;case"string":return c}}var r=e("./promise"),i=e("./INTERNAL"),o=e("./handlers");t.exports=n;var a=o.resolve(new r(i),!1),s=o.resolve(new r(i),null),u=o.resolve(new r(i),void 0),l=o.resolve(new r(i),0),c=o.resolve(new r(i),"")},{"./INTERNAL":30,"./handlers":32,"./promise":34}],39:[function(e,t,n){"use strict";function r(e,t){function n(t){s||(s=!0,i.reject(e,t))}function r(t){s||(s=!0,i.resolve(e,t))}function a(){t(r,n)}var s=!1,u=o(a);"error"===u.status&&n(u.value)}var i=e("./handlers"),o=e("./tryCatch");n.safely=r},{"./handlers":32,"./tryCatch":41}],40:[function(e,t,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],41:[function(e,t){"use strict";function n(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=n},{}],42:[function(e,t){"use strict";function n(e,t,n){r(function(){var r;try{r=t(n)}catch(o){return i.reject(e,o)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}var r=e("immediate"),i=e("./handlers");t.exports=n},{"./handlers":32,immediate:43}],43:[function(e,t){"use strict";function n(){i=!0;for(var e,t,n=s.length;n;){for(t=s,s=[],e=-1;++e<n;)t[e]();n=s.length}i=!1}function r(e){1!==s.push(e)||i||o()}for(var i,o,a=[e("./nextTick"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")],s=[],u=-1,l=a.length;++u<l;)if(a[u]&&a[u].test&&a[u].test()){o=a[u].install(n);break}t.exports=r},{"./messageChannel":44,"./mutation.js":45,"./nextTick":26,"./stateChange":46,"./timeout":47}],44:[function(e,t,n){(function(e){"use strict";n.test=function(){return e.setImmediate?!1:"undefined"!=typeof e.MessageChannel},n.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){(function(e){"use strict";var t=e.MutationObserver||e.WebKitMutationObserver;n.test=function(){return t},n.install=function(n){var r=0,i=new t(n),o=e.document.createTextNode("");return i.observe(o,{characterData:!0}),function(){o.data=r=++r%2}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(e,t,n){(function(e){"use strict";n.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},n.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}],48:[function(e,t){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?u[h.call(e)]||"object":typeof e}function r(e){return null!==e&&e===e.window}function i(e){if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var i;for(i in e);return void 0===i||f.call(e,i)}function o(e){return"function"===n(e)}function a(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var i={};e.push({args:r,result:{container:i,key:"key"}});for(var o;o=e.pop();)s(e,o.args,o.result);return i.key}function s(e,t,n){var r,a,s,u,l,c,p,h=t[0]||{},f=1,m=t.length,g=!1,v=/\d+/;for("boolean"==typeof h&&(g=h,h=t[1]||{},f=2),"object"==typeof h||o(h)||(h={}),m===f&&(h=this,--f);m>f;f++)if(null!=(r=t[f])){p=d(r);for(a in r)if(!(a in Object.prototype)){if(p&&!v.test(a))continue;if(s=h[a],u=r[a],h===u)continue;g&&u&&(i(u)||(l=d(u)))?(l?(l=!1,c=s&&d(s)?s:[]):c=s&&i(s)?s:{},e.push({args:[g,c,u],result:{container:h,key:a}})):void 0!==u&&(d(r)&&o(u)||(h[a]=u))}}n.container[n.key]=h}for(var u={},l=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],c=0;c<l.length;c++){var p=l[c];u["[object "+p+"]"]=p.toLowerCase()}var h=u.toString,f=u.hasOwnProperty,d=Array.isArray||function(e){return"array"===n(e)};t.exports=a},{}],49:[function(e,t){"use strict";var n=e("./upsert"),r=e("./utils"),i=r.Promise;t.exports=function(e){var t=e.db,o=e.viewName,a=e.map,s=e.reduce,u=e.temporary,l=a.toString()+(s&&s.toString())+"undefined";if(!u&&t._cachedViews){var c=t._cachedViews[l];if(c)return i.resolve(c)}return t.info().then(function(e){function i(e){e.views=e.views||{};var t=o;-1===t.indexOf("/")&&(t=o+"/"+o);var n=e.views[t]=e.views[t]||{};if(!n[c])return n[c]=!0,e}var c=e.db_name+"-mrview-"+(u?"temp":r.MD5(l));return n(t,"_local/mrviews",i).then(function(){return t.registerDependentDatabase(c).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:c,db:n,sourceDB:t,adapter:t.adapter,mapFun:a,reduceFun:s};return r.db.get("_local/lastSeq")["catch"](function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,u||(t._cachedViews=t._cachedViews||{},t._cachedViews[l]=r,r.db.on("destroyed",function(){delete t._cachedViews[l]})),r})})})})}},{"./upsert":55,"./utils":56}],50:[function(_dereq_,module,exports){"use strict";module.exports=function(func,emit,sum,log,isArray,toJSON){return eval("'use strict'; ("+func.replace(/;\s*$/,"")+");")}},{}],51:[function(e,t,n){(function(t){"use strict";function r(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function i(e,t,n){try{return{output:t.apply(null,n)}}catch(r){return e.emit("error",r),{error:r}}}function o(e,t){var n=E(e.key,t.key);return 0!==n?n:E(e.value,t.value)}function a(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function s(e){var t=new Error("builtin "+e+" function requires map values to be numbers or number arrays");return t.name="invalid_value",t.status=500,t}function u(e){for(var t=0,n=0,r=e.length;r>n;n++){var i=e[n];if("number"!=typeof i){if(!Array.isArray(i))throw s("_sum");t="number"==typeof t?[t]:t;for(var o=0,a=i.length;a>o;o++){var u=i[o];if("number"!=typeof u)throw s("_sum");"undefined"==typeof t[o]?t.push(u):t[o]+=u}}else"number"==typeof t?t+=i:t[0]+=i}return t}function l(e,t,n,r){var i=t[e];"undefined"!=typeof i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function c(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&E(e[n],e[r])>0)throw new y("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new y("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new y("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new y('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new y('Invalid value for positive integer: "'+e.group_level+'"')}}function p(e,t,n){var i,o=[],a="GET";if(l("reduce",n,o),l("include_docs",n,o),l("limit",n,o),l("descending",n,o),l("group",n,o),l("group_level",n,o),l("skip",n,o),l("stale",n,o),l("startkey",n,o,!0),l("endkey",n,o,!0),l("inclusive_end",n,o),l("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,"undefined"!=typeof n.keys){var s=2e3,u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+o.length+1<=s?o+=("?"===o[0]?"&":"?")+u:(a="POST","string"==typeof t?i=JSON.stringify({keys:n.keys}):t.keys=n.keys)}if("string"==typeof t){var c=r(t);return e.request({method:a,url:"_design/"+c[0]+"/_view/"+c[1]+o,body:i})}return i=i||{},Object.keys(t).forEach(function(e){i[e]=Array.isArray(t[e])?t[e]:t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:i})}function h(e){return function(t){if(404===t.status)return e;throw t}}function f(e,t,n){var r="_local/doc_"+e;return t.db.get(r)["catch"](h({_id:r,keys:[]})).then(function(r){return T.resolve().then(function(){return r.keys.length?t.db.allDocs({keys:r.keys,include_docs:!0}):{rows:[]}}).then(function(t){var i=t.rows.map(function(e){return e.doc}).filter(function(e){return e}),o=n[e],a={};i.forEach(function(e){if(a[e._id]=!0,e._deleted=!o[e._id],!e._deleted){var t=o[e._id];"value"in t&&(e.value=t.value)}});var s=Object.keys(o);return s.forEach(function(e){if(!a[e]){var t={_id:e},n=o[e];"value"in n&&(t.value=n.value),i.push(t)}}),r.keys=M.uniq(s.concat(r.keys)),i.splice(0,0,r),i})})}function d(e,t,n){var r="_local/lastSeq";return e.db.get(r)["catch"](h({_id:r,seq:0})).then(function(r){var i=Object.keys(t);return T.all(i.map(function(n){return f(n,e,t)})).then(function(t){var i=[];return t.forEach(function(e){i=i.concat(e)}),r.seq=n,i.push(r),e.db.bulkDocs({docs:i})})})}function m(e,t,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=F[e.reduceFun]?F[e.reduceFun]:S(e.reduceFun.toString(),null,u,w,Array.isArray,JSON.parse);var s=[],l=n.group_level;t.forEach(function(e){var t=s[s.length-1],n=o?e.key:null;return o&&Array.isArray(n)&&"number"==typeof l&&(n=n.length>l?n.slice(0,l):n),t&&0===E(t.key[0][0],n)?(t.key.push([n,e.id]),void t.value.push(e.value)):void s.push({key:[[n,e.id]],value:[e.value]})});for(var c=0,p=s.length;p>c;c++){var h=s[c],f=i(e.sourceDB,r,[h.key,h.value,!1]);h.value=f.error?null:f.output,h.key=h.key[0][0]}return{rows:a(s,n.limit,n.skip)}}function g(e){return e.request({method:"POST",url:"_view_cleanup"})}function v(e,n,i){if("http"===e.type())return p(e,n,i);if("string"!=typeof n){c(i,n);var o={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0};return O.add(function(){return A(o).then(function(e){function t(){return e.db.destroy()}return M.fin(P(e).then(function(){return N(e,i)}),t)})}),O.finish()}var a=n,s=r(a),u=s[0],l=s[1];return e.get("_design/"+u).then(function(n){var r=n.views&&n.views[l];if(!r||"string"!=typeof r.map)throw new b("ddoc "+u+" has no view named "+l);c(i,r);var o={db:e,viewName:a,map:r.map,reduce:r.reduce};return A(o).then(function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&t.nextTick(function(){P(e)}),N(e,i)):P(e).then(function(){return N(e,i)})})})}function y(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,y)}catch(t){}}function b(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,b)}catch(t){}}var w,_=e("pouchdb-collate"),x=e("./taskqueue"),E=_.collate,k=_.toIndexableString,C=_.normalizeKey,A=e("./create-view"),S=e("./evalfunc");w="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var M=e("./utils"),T=M.Promise,D=new x,O=new x,L=50,F={_sum:function(e,t){return u(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(e){for(var t=0,n=0,r=e.length;r>n;n++){var i=e[n];t+=i*i}return t}return{sum:u(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}},P=M.sequentialize(D,function(e){function t(e,t){var n={id:a._id,key:C(e)};"undefined"!=typeof t&&null!==t&&(n.value=C(t)),r.push(n)}function n(t,n){return function(){return d(e,t,n)}}var r,a,s;if("function"==typeof e.mapFun&&2===e.mapFun.length){var l=e.mapFun;s=function(e){return l(e,t)}}else s=S(e.mapFun.toString(),t,u,w,Array.isArray,JSON.parse);var c=e.seq||0,p=new x;return new T(function(t,u){function l(){p.finish().then(function(){e.seq=c,t()})}function h(){function t(e){u(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,since:c,limit:L}).on("complete",function(t){var u=t.results;if(!u.length)return l();for(var f={},d=0,m=u.length;m>d;d++){var g=u[d];if("_"!==g.doc._id[0]){r=[],a=g.doc,a._deleted||i(e.sourceDB,s,[a]),r.sort(o);for(var v,y={},b=0,w=r.length;w>b;b++){var _=r[b],x=[_.key,_.id];_.key===v&&x.push(b);var E=k(x);y[E]=_,v=_.key}f[g.doc._id]=y}c=g.seq}return p.add(n(f,c)),u.length<L?l():h()}).on("error",t)}h()})}),N=M.sequentialize(D,function(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return i=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(n>t||t>n))return e.doc.value}var r=_.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=o?m(e,n,t):{total_rows:i,offset:a,rows:n},t.include_docs){var s=n.map(function(t){var n=t.value,r=n&&"object"==typeof n&&n._id||t.id;return e.sourceDB.get(r).then(function(e){t.doc=e},function(){})});return T.all(s).then(function(){return r})}return r}var i,o=e.reduceFun&&t.reduce!==!1,a=t.skip||0;"undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys);var s=function(e){return e.reduce(function(e,t){return e.concat(t)})};if("undefined"!=typeof t.keys){var u=t.keys,l=u.map(function(e){var t={startkey:k([e]),endkey:k([e,{}])};return n(t)});return T.all(l).then(s).then(r)}var c={descending:t.descending};if("undefined"!=typeof t.startkey&&(c.startkey=k(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var p=t.inclusive_end!==!1;t.descending&&(p=!p),c.endkey=k(p?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var h=k([t.key]),f=k([t.key,{}]);c.descending?(c.endkey=h,c.startkey=f):(c.startkey=h,c.endkey=f)}return o||("number"==typeof t.limit&&(c.limit=t.limit),c.skip=a),n(c).then(r)}),B=M.sequentialize(D,function(e){return e.get("_local/mrviews").then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=r(e),i="_design/"+t[0],o=t[1];n[i]=n[i]||{},n[i][o]=!0});var i={keys:Object.keys(n),include_docs:!0};return e.allDocs(i).then(function(r){var i={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var o=r+"/"+n;
t.views[o]||(o=n);var a=Object.keys(t.views[o]),s=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){i[e]=i[e]||s})})});var o=Object.keys(i).filter(function(e){return!i[e]}),a=o.map(function(t){return e.constructor.destroy(t,{adapter:e.adapter})});return T.all(a).then(function(){return{ok:!0}})})},h({ok:!0}))});n.viewCleanup=M.callbackify(function(){var e=this;return"http"===e.type()?g(e):B(e)}),n.query=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=M.extend(!0,{},t),"function"==typeof e&&(e={map:e});var r=this,i=T.resolve().then(function(){return v(r,e,t)});return M.promisedCallback(i,n),i},M.inherits(y,Error),M.inherits(b,Error)}).call(this,e("/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./create-view":49,"./evalfunc":50,"./taskqueue":54,"./utils":56,"/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":28,"pouchdb-collate":52}],52:[function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return c(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),i=-1,o=r.length,a="";if(t)for(;++i<o;)a+=n.toIndexableString(r[i]);else for(;++i<o;){var s=r[i];a+=n.toIndexableString(s)+n.toIndexableString(e[s])}return a}return""}function i(e,t){var n,r=t,i="1"===e[t];if(i)n=0,t++;else{var o="0"===e[t];t++;var a="",s=e.substring(t,t+h),u=parseInt(s,10)+p;for(o&&(u=-u),t+=h;;){var l=e[t];if("\x00"===l)break;a+=l,t++}a=a.split("."),n=1===a.length?parseInt(a,10):parseFloat(a[0]+"."+a[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function o(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===e.length-2){var a=e.pop();i[a]=n}else e.push(n)}}function a(e,t){for(var r=Math.min(e.length,t.length),i=0;r>i;i++){var o=n.collate(e[i],t[i]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function s(e,t){return e===t?0:e>t?1:-1}function u(e,t){for(var r=Object.keys(e),i=Object.keys(t),o=Math.min(r.length,i.length),a=0;o>a;a++){var s=n.collate(r[a],i[a]);if(0!==s)return s;if(s=n.collate(e[r[a]],t[i[a]]),0!==s)return s}return r.length===i.length?0:r.length>i.length?1:-1}function l(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:3>n?n+2:n+3:Array.isArray(e)?5:void 0}function c(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=0>e,i=r?"0":"2",o=(r?-n:n)-p,a=d.padLeft(o.toString(),"0",h);i+=f+a;var s=Math.abs(parseFloat(t[0]));r&&(s=10-s);var u=s.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=f+u}var p=-324,h=3,f="",d=e("./utils");n.collate=function(e,t){if(e===t)return 0;e=n.normalizeKey(e),t=n.normalizeKey(t);var r=l(e),i=l(t);if(r-i!==0)return r-i;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:t>e?-1:1;case"string":return s(e,t)}return Array.isArray(e)?a(e,t):u(e,t)},n.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return 1/0===e||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var i=0;r>i;i++)e[i]=n.normalizeKey(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];"undefined"!=typeof a&&(e[o]=n.normalizeKey(a))}}}}return e},n.toIndexableString=function(e){var t="\x00";return e=n.normalizeKey(e),l(e)+f+r(e)+t},n.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var a=e[r++];if("\x00"!==a)switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var s=i(e,r);t.push(s.num),r+=s.length;break;case"4":for(var u="";;){var l=e[r];if("\x00"===l)break;u+=l,r++}u=u.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var p={element:{},index:t.length};t.push(p.element),n.push(p);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===t.length)return t.pop();o(t,n)}}}},{"./utils":53}],53:[function(e,t,n){"use strict";function r(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}n.padLeft=function(e,t,n){var i=r(e,t,n);return i+e},n.padRight=function(e,t,n){var i=r(e,t,n);return e+i},n.stringLexCompare=function(e,t){var n,r=e.length,i=t.length;for(n=0;r>n;n++){if(n===i)return 1;var o=e.charAt(n),a=t.charAt(n);if(o!==a)return a>o?-1:1}return i>r?-1:0},n.intToDecimalForm=function(e){var t=0>e,n="";do{var r=t?-Math.ceil(e%10):Math.floor(e%10);n=r+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},{}],54:[function(e,t){"use strict";function n(){this.promise=new r(function(e){e()})}var r=e("./utils").Promise;n.prototype.add=function(e){return this.promise=this.promise["catch"](function(){}).then(function(){return e()}),this.promise},n.prototype.finish=function(){return this.promise},t.exports=n},{"./utils":56}],55:[function(e,t){"use strict";function n(e,t,n){return new i(function(i,o){return t&&"object"==typeof t&&(t=t._id),"string"!=typeof t?o(new Error("doc id is required")):void e.get(t,function(a,s){if(a)return 404!==a.status?o(a):i(r(e,n({_id:t}),n));var u=n(s);return u?void i(r(e,u,n)):i(s)})})}function r(e,t,r){return e.put(t)["catch"](function(i){if(409!==i.status)throw i;return n(e,t,r)})}var i=e("./utils").Promise;t.exports=n},{"./utils":56}],56:[function(e,t,n){(function(t,r){"use strict";n.Promise="function"==typeof r.Promise?r.Promise:e("lie"),n.uniq=function(e){var t={};return e.forEach(function(e){t[e]=!0}),Object.keys(t)},n.inherits=e("inherits"),n.extend=e("pouchdb-extend");var i=e("argsarray");n.promisedCallback=function(e,n){return n&&e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e},n.callbackify=function(e){return i(function(t){var r=t.pop(),i=e.apply(this,t);return"function"==typeof r&&n.promisedCallback(i,r),i})},n.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},n.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}};var o=e("crypto"),a=e("spark-md5");n.MD5=function(e){return t.browser?a.hash(e):o.createHash("md5").update(e).digest("hex")}}).call(this,e("/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"/Users/nolan/workspace/pouchdb/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":28,argsarray:25,crypto:26,inherits:29,lie:33,"pouchdb-extend":48,"spark-md5":57}],57:[function(e,t,n){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;try{r=window}catch(i){r=self}r.SparkMD5=e()}}(function(){"use strict";var e=function(e,t){return e+t&4294967295},t=function(t,n,r,i,o,a){return n=e(e(n,t),e(i,a)),e(n<<o|n>>>32-o,r)},n=function(e,n,r,i,o,a,s){return t(n&r|~n&i,e,n,o,a,s)},r=function(e,n,r,i,o,a,s){return t(n&i|r&~i,e,n,o,a,s)},i=function(e,n,r,i,o,a,s){return t(n^r^i,e,n,o,a,s)},o=function(e,n,r,i,o,a,s){return t(r^(n|~i),e,n,o,a,s)},a=function(t,a){var s=t[0],u=t[1],l=t[2],c=t[3];s=n(s,u,l,c,a[0],7,-680876936),c=n(c,s,u,l,a[1],12,-389564586),l=n(l,c,s,u,a[2],17,606105819),u=n(u,l,c,s,a[3],22,-1044525330),s=n(s,u,l,c,a[4],7,-176418897),c=n(c,s,u,l,a[5],12,1200080426),l=n(l,c,s,u,a[6],17,-1473231341),u=n(u,l,c,s,a[7],22,-45705983),s=n(s,u,l,c,a[8],7,1770035416),c=n(c,s,u,l,a[9],12,-1958414417),l=n(l,c,s,u,a[10],17,-42063),u=n(u,l,c,s,a[11],22,-1990404162),s=n(s,u,l,c,a[12],7,1804603682),c=n(c,s,u,l,a[13],12,-40341101),l=n(l,c,s,u,a[14],17,-1502002290),u=n(u,l,c,s,a[15],22,1236535329),s=r(s,u,l,c,a[1],5,-165796510),c=r(c,s,u,l,a[6],9,-1069501632),l=r(l,c,s,u,a[11],14,643717713),u=r(u,l,c,s,a[0],20,-373897302),s=r(s,u,l,c,a[5],5,-701558691),c=r(c,s,u,l,a[10],9,38016083),l=r(l,c,s,u,a[15],14,-660478335),u=r(u,l,c,s,a[4],20,-405537848),s=r(s,u,l,c,a[9],5,568446438),c=r(c,s,u,l,a[14],9,-1019803690),l=r(l,c,s,u,a[3],14,-187363961),u=r(u,l,c,s,a[8],20,1163531501),s=r(s,u,l,c,a[13],5,-1444681467),c=r(c,s,u,l,a[2],9,-51403784),l=r(l,c,s,u,a[7],14,1735328473),u=r(u,l,c,s,a[12],20,-1926607734),s=i(s,u,l,c,a[5],4,-378558),c=i(c,s,u,l,a[8],11,-2022574463),l=i(l,c,s,u,a[11],16,1839030562),u=i(u,l,c,s,a[14],23,-35309556),s=i(s,u,l,c,a[1],4,-1530992060),c=i(c,s,u,l,a[4],11,1272893353),l=i(l,c,s,u,a[7],16,-155497632),u=i(u,l,c,s,a[10],23,-1094730640),s=i(s,u,l,c,a[13],4,681279174),c=i(c,s,u,l,a[0],11,-358537222),l=i(l,c,s,u,a[3],16,-722521979),u=i(u,l,c,s,a[6],23,76029189),s=i(s,u,l,c,a[9],4,-640364487),c=i(c,s,u,l,a[12],11,-421815835),l=i(l,c,s,u,a[15],16,530742520),u=i(u,l,c,s,a[2],23,-995338651),s=o(s,u,l,c,a[0],6,-198630844),c=o(c,s,u,l,a[7],10,1126891415),l=o(l,c,s,u,a[14],15,-1416354905),u=o(u,l,c,s,a[5],21,-57434055),s=o(s,u,l,c,a[12],6,1700485571),c=o(c,s,u,l,a[3],10,-1894986606),l=o(l,c,s,u,a[10],15,-1051523),u=o(u,l,c,s,a[1],21,-2054922799),s=o(s,u,l,c,a[8],6,1873313359),c=o(c,s,u,l,a[15],10,-30611744),l=o(l,c,s,u,a[6],15,-1560198380),u=o(u,l,c,s,a[13],21,1309151649),s=o(s,u,l,c,a[4],6,-145523070),c=o(c,s,u,l,a[11],10,-1120210379),l=o(l,c,s,u,a[2],15,718787259),u=o(u,l,c,s,a[9],21,-343485551),t[0]=e(s,t[0]),t[1]=e(u,t[1]),t[2]=e(l,t[2]),t[3]=e(c,t[3])},s=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},u=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,r,i,o,u,l=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;l>=t;t+=64)a(c,s(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(c,r),t=0;16>t;t+=1)r[t]=0;return i=8*l,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,r[14]=o,r[15]=u,a(c,r),c},c=function(e){var t,n,r,i,o,s,l=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;l>=t;t+=64)a(c,u(e.subarray(t-64,t)));for(e=l>t-64?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(c,r),t=0;16>t;t+=1)r[t]=0;return i=8*l,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,a(c,r),c},p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(e){var t,n="";for(t=0;4>t;t+=1)n+=p[e>>8*t+4&15]+p[e>>8*t&15];return n},f=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=h(e[t]);return e.join("")},d=function(e){return f(l(e))},m=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==d("hello")&&(e=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),m.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;n>=t;t+=64)a(this._state,s(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},m.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=e?this._state:f(this._state),this.reset(),n},m.prototype._finish=function(e,t){var n,r,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(a(this._state,e),o=0;16>o;o+=1)e[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=r,e[15]=i,a(this._state,e)},m.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},m.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:f(n)},m.hashBinary=function(e,t){var n=l(e);return t?n:f(n)},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;r>=t;t+=64)a(this._state,u(n.subarray(t-64,t)));return this._buff=r>t-64?n.subarray(t-64):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=e?this._state:f(this._state),this.reset(),n},m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},m.ArrayBuffer.hash=function(e,t){var n=c(new Uint8Array(e));return t?n:f(n)},m})},{}],58:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){var a=t.pop();i[a]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,a,s,u,l,c,p,h,f="";n=t.pop();)if(r=n.obj,i=n.prefix||"",o=n.val||"",f+=i,o)f+=o;else if("object"!=typeof r)f+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)f+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),a=r.length-1;a>=0;a--)s=0===a?"":",",t.push({obj:r[a],prefix:s});t.push({val:"["})}else{u=[];for(l in r)r.hasOwnProperty(l)&&u.push(l);for(t.push({val:"}"}),a=u.length-1;a>=0;a--)c=u[a],p=r[c],h=a>0?",":"",h+=JSON.stringify(c)+":",t.push({obj:p,prefix:h});t.push({val:"{"})}return f},n.parse=function(e){for(var t,n,i,o,a,s,u,l,c,p=[],h=[],f=0;;)if(t=e[f++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"	":case"\n":case":":case",":break;case"n":f+=3,r(null,p,h);break;case"t":f+=3,r(!0,p,h);break;case"f":f+=4,r(!1,p,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(i=e[f++],!/[\d\.\-e\+]/.test(i)){f--;break}n+=i}r(parseFloat(n),p,h);break;case'"':for(o="",a=void 0,s=0;;){if(u=e[f++],'"'===u&&("\\"!==a||s%2!==1))break;o+=u,a=u,"\\"===a?s++:s=0}r(JSON.parse('"'+o+'"'),p,h);break;case"[":l={element:[],index:p.length},p.push(l.element),h.push(l);break;case"{":c={element:{},index:p.length},p.push(c.element),h.push(c);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===p.length)return p.pop();r(p.pop(),p,h)}}},{}]},{},[17])(17)}),function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function i(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(e){return function(){return this[e].apply(this,arguments)}}function a(t,n){function r(e,t){return t.toLowerCase()}var i,o=e(t).data(),a={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var u in o)n.test(u)&&(i=u.replace(s,r),a[i]=o[u]);return a}function s(t){var n={};if(m[t]||(t=t.split("-")[0],m[t])){var r=m[t];return e.each(d,function(e,t){t in r&&(n[t]=r[t])}),n}}var u=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,r=this.length;r>n;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new u;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),l=function(t,n){this._process_options(n),this.dates=new u,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};l.prototype={constructor:l,_process_options:function(i){this._o=e.extend({},this._o,i);var o=this.o=e.extend({},this._o),a=o.language;switch(m[a]||(a=a.split("-")[0],m[a]||(a=f.language)),o.language=a,o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var s=g.parseFormat(o.format);if(o.startDate!==-1/0&&(o.startDate=o.startDate?o.startDate instanceof Date?this._local_to_utc(this._zero_time(o.startDate)):g.parseDate(o.startDate,s,o.language):-1/0),1/0!==o.endDate&&(o.endDate=o.endDate?o.endDate instanceof Date?this._local_to_utc(this._zero_time(o.endDate)):g.parseDate(o.endDate,s,o.language):1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],e.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=e.map(o.daysOfWeekDisabled,function(e){return parseInt(e,10)}),o.datesDisabled=o.datesDisabled||[],!e.isArray(o.datesDisabled)){var u=[];u.push(g.parseDate(o.datesDisabled,s,o.language)),o.datesDisabled=u}o.datesDisabled=e.map(o.datesDisabled,function(e){return g.parseDate(e,s,o.language)});var l=String(o.orientation).toLowerCase().split(/\s+/g),c=o.orientation.toLowerCase();if(l=e.grep(l,function(e){return/^auto|left|right|top|bottom$/.test(e)}),o.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===l.length)switch(l[0]){case"top":case"bottom":o.orientation.y=l[0];break;case"left":case"right":o.orientation.x=l[0]}else c=e.grep(l,function(e){return/^left|right$/.test(e)}),o.orientation.x=c[0]||"auto",c=e.grep(l,function(e){return/^top|bottom$/.test(e)}),o.orientation.y=c[0]||"auto";else;if(o.defaultViewDate){var p=o.defaultViewDate.year||(new Date).getFullYear(),h=o.defaultViewDate.month||0,d=o.defaultViewDate.day||1;o.defaultViewDate=n(p,h,d)}else o.defaultViewDate=r();o.showOnFocus=o.showOnFocus!==t?o.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n,r,i,o=0;o<e.length;o++)n=e[o][0],2===e[o].length?(r=t,i=e[o][1]):3===e[o].length&&(r=e[o][1],i=e[o][2]),n.on(i,r)},_unapplyEvents:function(e){for(var n,r,i,o=0;o<e.length;o++)n=e[o][0],2===e[o].length?(i=t,r=e[o][1]):3===e[o].length&&(i=e[o][1],r=e[o][2]),n.off(r,i)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var r=n||this.dates.get(-1),i=this._utc_to_local(r);this.element.trigger({type:t,date:i,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return g.formatDate(n,t,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var r=this.o.language;return e.map(this.dates,function(e){return g.formatDate(e,n,r)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),r=10,i=e(this.o.container).width(),o=e(this.o.container).height(),a=e(this.o.container).scrollTop(),s=e(this.o.container).offset(),u=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&u.push(parseInt(t))});var l=Math.max.apply(Math,u)+10,c=this.component?this.component.parent().offset():this.element.offset(),p=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=c.left-s.left,d=c.top-s.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(f-=t-h)):c.left<0?(this.picker.addClass("datepicker-orient-left"),f-=c.left-r):f+t>i?(this.picker.addClass("datepicker-orient-right"),f=c.left+h-t):this.picker.addClass("datepicker-orient-left");var m,g,v=this.o.orientation.y;if("auto"===v&&(m=-a+d-n,g=a+o-(d+p+n),v=Math.max(m,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?d+=p:d-=n+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=i-(f+h);this.picker.css({top:d,right:y,zIndex:l})}else this.picker.css({top:d,left:f,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],r=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),r=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return g.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),r?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1});var n='<th class="cw">&#160;</th>';t+=n}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+m[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+m[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],r=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<o?n.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>o)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===a.getFullYear()&&t.getUTCMonth()===a.getMonth()&&t.getUTCDate()===a.getDate()&&n.push("today"),-1!==this.dates.contains(t)&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return i(t,e)}).length>0&&n.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var r,i=new Date(this.viewDate),o=i.getUTCFullYear(),a=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,u=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,p=m[this.o.language].today||m.en.today||"",h=m[this.o.language].clear||m.en.clear||"";if(!isNaN(o)&&!isNaN(a)){this.picker.find(".datepicker-days thead .datepicker-switch").text(m[this.o.language].months[a]+" "+o),this.picker.find("tfoot .today").text(p).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=n(o,a-1,28),d=g.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(d),f.setUTCDate(d-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),_=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),x=new Date(Number(x=n(_.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),E=(_-x)/864e5/7+1;b.push('<td class="cw">'+E+"</td>")}if(y=this.getClassNames(f),y.push("day"),this.o.beforeShowDay!==e.noop){var k=this.o.beforeShowDay(this._utc_to_local(f));k===t?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&y.push("disabled"),k.classes&&(y=y.concat(k.classes.split(/\s+/))),k.tooltip&&(r=k.tooltip)}y=e.unique(y),b.push('<td class="'+y.join(" ")+'"'+(r?' title="'+r+'"':"")+">"+f.getUTCDate()+"</td>"),r=null,f.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var C=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===o&&C.eq(t.getUTCMonth()).addClass("active")}),(s>o||o>l)&&C.addClass("disabled"),o===s&&C.slice(0,u).addClass("disabled"),o===l&&C.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var A=this;e.each(C,function(t,n){if(!e(n).hasClass("disabled")){var r=new Date(o,t,1),i=A.o.beforeShowMonth(r);i===!1&&e(n).addClass("disabled")}})}b="",o=10*parseInt(o/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var M,T=e.map(this.dates,function(e){return e.getUTCFullYear()}),D=-1;11>D;D++)M=["year"],-1===D?M.push("old"):10===D&&M.push("new"),-1!==e.inArray(o,T)&&M.push("active"),(s>o||o>l)&&M.push("disabled"),b+='<span class="'+M.join(" ")+'">'+o+"</span>",o+=1;S.html(b)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(t){t.preventDefault();var r,i,o,a=e(t.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=g.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);
break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var u=new Date;u=n(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0),this.showMode(-2);var l="linked"===this.o.todayBtn?null:"view";this._setDate(u,l);break;case"clear":this.clearDates()}break;case"span":a.hasClass("disabled")||(this.viewDate.setUTCDate(1),a.hasClass("month")?(o=1,i=a.parent().find("span").index(a),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(r,i,o))):(o=1,i=0,r=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(r),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(r,i,o))),this.showMode(-1),this.fill());break;case"td":a.hasClass("day")&&!a.hasClass("disabled")&&(o=parseInt(a.text(),10)||1,r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),a.hasClass("old")?0===i?(i=11,r-=1):i-=1:a.hasClass("new")&&(11===i?(i=0,r+=1):i+=1),this._setDate(n(r,i,o)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var r,i,o=new Date(e.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),u=Math.abs(n);if(n=n>0?1:-1,1===u)i=-1===n?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==r},r=s+n,o.setUTCMonth(r),(0>r||r>11)&&(r=(r+12)%12);else{for(var l=0;u>l;l++)o=this.moveMonth(o,n);r=o.getUTCMonth(),o.setUTCDate(a),i=function(){return r!==o.getUTCMonth()}}for(;i();)o.setUTCDate(--a),o.setUTCMonth(r);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(27===e.keyCode&&this.show());var t,n,i,o=!1,a=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||r(),t),i=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||r(),t),i=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||r()),n.setUTCDate(n.getUTCDate()+t),i=new Date(a),i.setUTCDate(a.getUTCDate()+t)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||r(),t),i=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||r(),t),i=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||r()),n.setUTCDate(n.getUTCDate()+7*t),i=new Date(a),i.setUTCDate(a.getUTCDate()+7*t)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this._trigger(this.dates.length?"changeDate":"clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,h.call(e(this.inputs),n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker"),r=n.getUTCDate(),i=e.inArray(t.target,this.inputs),o=i-1,a=i+1,s=this.inputs.length;if(-1!==i){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(r)}),r<this.dates[o])for(;o>=0&&r<this.dates[o];)this.pickers[o--].setUTCDate(r);else if(r>this.dates[a])for(;s>a&&r>this.dates[a];)this.pickers[a++].setUTCDate(r);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var p=e.fn.datepicker,h=function(n){var r=Array.apply(null,arguments);r.shift();var i;return this.each(function(){var o=e(this),u=o.data("datepicker"),p="object"==typeof n&&n;if(!u){var h=a(this,"date"),d=e.extend({},f,h,p),m=s(d.language),g=e.extend({},f,m,h,p);if(o.hasClass("input-daterange")||g.inputs){var v={inputs:g.inputs||o.find("input").toArray()};o.data("datepicker",u=new c(this,e.extend(g,v)))}else o.data("datepicker",u=new l(this,g))}return"string"==typeof n&&"function"==typeof u[n]&&(i=u[n].apply(u,r),i!==t)?!1:void 0}),i!==t?i:this};e.fn.datepicker=h;var f=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},d=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=l;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,g.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(r,i,o){function a(){var e=this.slice(0,h[c].length),t=h[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!r)return t;if(r instanceof Date)return r;"string"==typeof i&&(i=g.parseFormat(i));var s,u,c,p=/([\-+]\d+)([dmwy])/,h=r.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){for(r=new Date,c=0;c<h.length;c++)switch(s=p.exec(h[c]),u=parseInt(s[1]),s[2]){case"d":r.setUTCDate(r.getUTCDate()+u);break;case"m":r=l.prototype.moveMonth.call(l.prototype,r,u);break;case"w":r.setUTCDate(r.getUTCDate()+7*u);break;case"y":r=l.prototype.moveYear.call(l.prototype,r,u)}return n(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}h=r&&r.match(this.nonpunctuation)||[],r=new Date;var f,d,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,r=n(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var w=i.parts.slice();if(h.length!==w.length&&(w=e(w).filter(function(t,n){return-1!==e.inArray(n,y)}).toArray()),h.length===w.length){var _;for(c=0,_=w.length;_>c;c++){if(f=parseInt(h[c],10),s=w[c],isNaN(f))switch(s){case"MM":d=e(m[o].months).filter(a),f=e.inArray(d[0],m[o].months)+1;break;case"M":d=e(m[o].monthsShort).filter(a),f=e.inArray(d[0],m[o].monthsShort)+1}v[s]=f}var x,E;for(c=0;c<y.length;c++)E=y[c],E in v&&!isNaN(v[E])&&(x=new Date(r),b[E](x,v[E]),isNaN(x)||(r=x))}return r},formatDate:function(t,n,r){if(!t)return"";"string"==typeof n&&(n=g.parseFormat(n));var i={d:t.getUTCDate(),D:m[r].daysShort[t.getUTCDay()],DD:m[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[r].monthsShort[t.getUTCMonth()],MM:m[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];for(var o=e.extend([],n.separators),a=0,s=n.parts.length;s>=a;a++)o.length&&t.push(o.shift()),t.push(i[n.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=g,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=p,this},e.fn.datepicker.version="1.4.0",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),h.call(n,"show"))}),e(function(){h.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),!function(){function e(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function t(e){return null!=e&&!isNaN(e)}function n(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function r(e){return e.length}function i(e){for(var t=1;e*t%1;)t*=10;return t}function o(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function a(){}function s(e){return as+e in this}function u(e){return e=as+e,e in this&&delete this[e]}function l(){var e=[];return this.forEach(function(t){e.push(t)}),e}function c(){var e=0;for(var t in this)t.charCodeAt(0)===ss&&++e;return e}function p(){for(var e in this)if(e.charCodeAt(0)===ss)return!1;return!0}function h(){}function f(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function d(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,r=us.length;r>n;++n){var i=us[n]+t;if(i in e)return i}}function m(){}function g(){}function v(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new a;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function y(){Wa.event.preventDefault()}function b(){for(var e,t=Wa.event;e=t.sourceEvent;)t=e;return t}function w(e){for(var t=new g,n=0,r=arguments.length;++n<r;)t[arguments[n]]=v(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=Wa.event;i.target=e,Wa.event=i,t[i.type].apply(n,r)}finally{Wa.event=o}}},t}function _(e){return cs(e,ms),e}function x(e){return"function"==typeof e?e:function(){return ps(e,this)}}function E(e){return"function"==typeof e?e:function(){return hs(e,this)}}function k(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=Wa.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?o:i}function C(e){return e.trim().replace(/\s+/g," ")}function A(e){return new RegExp("(?:^|\\s+)"+Wa.requote(e)+"(?:\\s+|$)","g")}function S(e){return(e+"").trim().split(/^|\s+/)}function M(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=S(e).map(T);var i=e.length;return"function"==typeof t?r:n}function T(e){var t=A(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",C(i+" "+e))):n.setAttribute("class",C(i.replace(t," ")))}}function D(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function O(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function L(e){return"function"==typeof e?e:(e=Wa.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function F(e){return{__data__:e}}function P(e){return function(){return ds(this,e)}}function N(t){return arguments.length||(t=e),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function B(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],a=0,s=o.length;s>a;a++)(i=o[a])&&t(i,a,n);return e}function R(e){return cs(e,vs),e}function j(e){var t,n;return function(r,i,o){var a,s=e[o].update,u=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<u;);return a}}function I(){var e=this.__transition__;e&&++e.active}function $(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=u(t,qa(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+Wa.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),u=z;s>0&&(e=e.substring(0,s));var l=bs.get(e);return l&&(e=l,u=U),s?t?i:r:t?m:o}function z(e,t){return function(n){var r=Wa.event;Wa.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{Wa.event=r}}}function U(e,t){var n=z(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function V(){var e=".dragsuppress-"+ ++_s,t="click"+e,n=Wa.select(Ja).on("touchmove"+e,y).on("dragstart"+e,y).on("selectstart"+e,y);if(ws){var r=Ka.style,i=r[ws];r[ws]="none"}return function(o){function a(){n.on(t,null)}n.on(e,null),ws&&(r[ws]=i),o&&(n.on(t,function(){y(),a()},!0),setTimeout(a,0))}}function Y(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>xs&&(Ja.scrollX||Ja.scrollY)){n=Wa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();xs=!(i.f||i.e),n.remove()}return xs?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function W(){return Wa.event.changedTouches[0].identifier}function H(){return Wa.event.target}function q(){return Ja}function G(e){return e>0?1:0>e?-1:0}function K(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function J(e){return e>1?0:-1>e?Es:Math.acos(e)}function X(e){return e>1?Cs:-1>e?-Cs:Math.asin(e)}function Z(e){return((e=Math.exp(e))-1/e)/2}function Q(e){return((e=Math.exp(e))+1/e)/2}function et(e){return((e=Math.exp(2*e))-1)/(e+1)}function tt(e){return(e=Math.sin(e/2))*e}function nt(){}function rt(e,t,n){return this instanceof rt?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof rt?new rt(e.h,e.s,e.l):vt(""+e,yt,rt):new rt(e,t,n)}function it(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(a-o)*e/60:180>e?a:240>e?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+t):n+t-n*t,o=2*n-a,new ft(i(e+120),i(e),i(e-120))}function ot(e,t,n){return this instanceof ot?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof ot?new ot(e.h,e.c,e.l):e instanceof st?lt(e.l,e.a,e.b):lt((e=bt((e=Wa.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new ot(e,t,n)}function at(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new st(n,Math.cos(e*=Ms)*t,Math.sin(e)*t)}function st(e,t,n){return this instanceof st?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof st?new st(e.l,e.a,e.b):e instanceof ot?at(e.l,e.c,e.h):bt((e=ft(e)).r,e.g,e.b):new st(e,t,n)}function ut(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=ct(i)*Is,r=ct(r)*$s,o=ct(o)*zs,new ft(ht(3.2404542*i-1.5371385*r-.4985314*o),ht(-.969266*i+1.8760108*r+.041556*o),ht(.0556434*i-.2040259*r+1.0572252*o))}function lt(e,t,n){return e>0?new ot(Math.atan2(n,t)*Ts,Math.sqrt(t*t+n*n),e):new ot(0/0,0/0,e)}function ct(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function pt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ht(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ft(e,t,n){return this instanceof ft?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ft?new ft(e.r,e.g,e.b):vt(""+e,ft,it):new ft(e,t,n)}function dt(e){return new ft(e>>16,e>>8&255,255&e)}function mt(e){return dt(e)+""}function gt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function vt(e,t,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(_t(i[0]),_t(i[1]),_t(i[2]))}return(o=Ys.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.substring(1),16))||(4===e.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),t(a,s,u))}function yt(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=0/0,i=u>0&&1>u?0:r),new rt(r,i,u)}function bt(e,t,n){e=wt(e),t=wt(t),n=wt(n);var r=pt((.4124564*e+.3575761*t+.1804375*n)/Is),i=pt((.2126729*e+.7151522*t+.072175*n)/$s),o=pt((.0193339*e+.119192*t+.9503041*n)/zs);return st(116*i-16,500*(r-i),200*(i-o))}function wt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _t(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function xt(e){return"function"==typeof e?e:function(){return e}}function Et(e){return e}function kt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ct(t,n,e,r)}}function Ct(e,t,n,r){function i(){var e,t=u.status;if(!t&&u.responseText||t>=200&&300>t||304===t){try{e=n.call(o,u)}catch(r){return void a.error.call(o,r)}a.load.call(o,e)}else a.error.call(o,u)}var o={},a=Wa.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!Ja.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(e){var t=Wa.event;Wa.event=e;try{a.progress.call(o,u)}finally{Wa.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(l=e,o):l},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(qa(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},Wa.rebind(o,a,"on"),null==r?o:o.get(At(r))}function At(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function St(){var e=Mt(),t=Tt()-e;t>24?(isFinite(t)&&(clearTimeout(Gs),Gs=setTimeout(St,t)),qs=0):(qs=1,Js(St))}function Mt(){var e=Date.now();for(Ks=Ws;Ks;)e>=Ks.t&&(Ks.f=Ks.c(e-Ks.t)),Ks=Ks.n;return e}function Tt(){for(var e,t=Ws,n=1/0;t;)t.f?t=e?e.n=t.n:Ws=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return Hs=e,n}function Dt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ot(e,t){var n=Math.pow(10,3*os(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Lt(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r?function(e){for(var t=e.length,i=[],o=0,a=r[0];t>0&&a>0;)i.push(e.substring(t-=a,t+a)),a=r[o=(o+1)%r.length];return i.reverse().join(n)}:Et;return function(e){var n=Zs.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"",u=n[4]||"",l=n[5],c=+n[6],p=n[7],h=n[8],f=n[9],d=1,m="",g="",v=!1;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="=",p&&(c-=Math.floor((c-1)/4))),f){case"n":p=!0,f="g";break;case"%":d=100,g="%",f="f";break;case"p":d=100,g="%",f="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+f.toLowerCase());case"c":case"d":v=!0,h=0;break;case"s":d=-1,f="r"}"$"===u&&(m=i[0],g=i[1]),"r"!=f||h||(f="g"),null!=h&&("g"==f?h=Math.max(1,Math.min(21,h)):("e"==f||"f"==f)&&(h=Math.max(0,Math.min(20,h)))),f=Qs.get(f)||Ft;var y=l&&p;return function(e){var n=g;if(v&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):s;if(0>d){var u=Wa.formatPrefix(e,h);e=u.scale(e),n=u.symbol+g}else e*=d;e=f(e,h);var b=e.lastIndexOf("."),w=0>b?e:e.substring(0,b),_=0>b?"":t+e.substring(b+1);!l&&p&&(w=o(w));var x=m.length+w.length+_.length+(y?0:i.length),E=c>x?new Array(x=c-x+1).join(r):"";return y&&(w=o(E+w)),i+=m,e=w+_,("<"===a?i+e+E:">"===a?E+i+e:"^"===a?E.substring(0,x>>=1)+i+e+E.substring(x):i+(y?e:E+e))+n}}}function Ft(e){return e+""}function Pt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Nt(e,t,n){function r(t){var n=e(t),r=o(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new tu(n-1)),1),n}function o(e,n){return t(e=new tu(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;r>a;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{tu=Pt;var r=new Pt;return r._=e,a(r,t,n)}finally{tu=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var u=e.utc=Bt(e);return u.floor=u,u.round=Bt(r),u.ceil=Bt(i),u.offset=Bt(o),u.range=s,e}function Bt(e){return function(t,n){try{tu=Pt;var r=new Pt;return r._=t,e(r,n)._}finally{tu=Date}}}function Rt(e){function t(e){function t(t){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.substring(u,s)),null!=(i=ru[n=e.charAt(++s)])&&(n=e.charAt(++s)),(o=M[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(e.substring(u,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&tu!==Pt,a=new(o?Pt:tu);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),o?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,s=0,u=t.length,l=n.length;u>s;){if(r>=l)return-1;if(i=t.charCodeAt(s++),37===i){if(a=t.charAt(s++),o=T[a in ru?t.charAt(s++):a],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){x.lastIndex=0;var r=x.exec(t.substring(n));return r?(e.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){w.lastIndex=0;var r=w.exec(t.substring(n));return r?(e.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){A.lastIndex=0;var r=A.exec(t.substring(n));return r?(e.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){k.lastIndex=0;var r=k.exec(t.substring(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,M.c.toString(),t,r)}function u(e,t,r){return n(e,M.x.toString(),t,r)}function l(e,t,r){return n(e,M.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.substring(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var p=e.dateTime,h=e.date,f=e.time,d=e.periods,m=e.days,g=e.shortDays,v=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{tu=Pt;var t=new tu;return t._=e,r(t)}finally{tu=Date}}var r=t(e);return n.parse=function(e){try{tu=Pt;var t=r.parse(e);return t&&t._}finally{tu=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=rn;var b=Wa.map(),w=It(m),_=$t(m),x=It(g),E=$t(g),k=It(v),C=$t(v),A=It(y),S=$t(y);d.forEach(function(e,t){b.set(e.toLowerCase(),t)});var M={a:function(e){return g[e.getDay()]},A:function(e){return m[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(p),d:function(e,t){return jt(e.getDate(),t,2)},e:function(e,t){return jt(e.getDate(),t,2)},H:function(e,t){return jt(e.getHours(),t,2)},I:function(e,t){return jt(e.getHours()%12||12,t,2)},j:function(e,t){return jt(1+eu.dayOfYear(e),t,3)},L:function(e,t){return jt(e.getMilliseconds(),t,3)},m:function(e,t){return jt(e.getMonth()+1,t,2)},M:function(e,t){return jt(e.getMinutes(),t,2)},p:function(e){return d[+(e.getHours()>=12)]},S:function(e,t){return jt(e.getSeconds(),t,2)},U:function(e,t){return jt(eu.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return jt(eu.mondayOfYear(e),t,2)},x:t(h),X:t(f),y:function(e,t){return jt(e.getFullYear()%100,t,2)},Y:function(e,t){return jt(e.getFullYear()%1e4,t,4)},Z:tn,"%":function(){return"%"}},T={a:r,A:i,b:o,B:a,c:s,d:Kt,e:Kt,H:Xt,I:Xt,j:Jt,L:en,m:Gt,M:Zt,p:c,S:Qt,U:Ut,w:zt,W:Vt,x:u,X:l,y:Wt,Y:Yt,Z:Ht,"%":nn};return t}function jt(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function It(e){return new RegExp("^(?:"+e.map(Wa.requote).join("|")+")","i")}function $t(e){for(var t=new a,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function zt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ut(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n));return r?(e.U=+r[0],n+r[0].length):-1}function Vt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n));return r?(e.W=+r[0],n+r[0].length):-1}function Yt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Wt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+2));return r?(e.y=qt(+r[0]),n+r[0].length):-1}function Ht(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=-t,n+5):-1}function qt(e){return e+(e>68?1900:2e3)}function Gt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Kt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Jt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function Xt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Zt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Qt(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function en(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function tn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(os(t)/60),i=os(t)%60;return n+jt(r,"0",2)+jt(i,"0",2)}function nn(e,t,n){ou.lastIndex=0;var r=ou.exec(t.substring(n,n+1));return r?n+r[0].length:-1}function rn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function on(){}function an(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function sn(e,t){e&&lu.hasOwnProperty(e.type)&&lu[e.type](e,t)}function un(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ln(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)un(e[n],t,1);t.polygonEnd()}function cn(){function e(e,t){e*=Ms,t=t*Ms/2+Es/4;var n=e-r,a=n>=0?1:-1,s=a*n,u=Math.cos(t),l=Math.sin(t),c=o*l,p=i*u+c*Math.cos(s),h=c*a*Math.sin(s);pu.add(Math.atan2(h,p)),r=e,i=u,o=l}var t,n,r,i,o;hu.point=function(a,s){hu.point=e,r=(t=a)*Ms,i=Math.cos(s=(n=s)*Ms/2+Es/4),o=Math.sin(s)},hu.lineEnd=function(){e(t,n)}}function pn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function hn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function fn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function dn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function mn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function gn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function vn(e){return[Math.atan2(e[1],e[0]),X(e[2])]}function yn(e,t){return os(e[0]-t[0])<As&&os(e[1]-t[1])<As}function bn(e,t){e*=Ms;var n=Math.cos(t*=Ms);wn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function wn(e,t,n){++fu,mu+=(e-mu)/fu,gu+=(t-gu)/fu,vu+=(n-vu)/fu}function _n(){function e(e,i){e*=Ms;var o=Math.cos(i*=Ms),a=o*Math.cos(e),s=o*Math.sin(e),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-t*u)*l+(l=t*s-n*a)*l),t*a+n*s+r*u);du+=l,yu+=l*(t+(t=a)),bu+=l*(n+(n=s)),wu+=l*(r+(r=u)),wn(t,n,r)}var t,n,r;ku.point=function(i,o){i*=Ms;var a=Math.cos(o*=Ms);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),ku.point=e,wn(t,n,r)}}function xn(){ku.point=bn}function En(){function e(e,t){e*=Ms;var n=Math.cos(t*=Ms),a=n*Math.cos(e),s=n*Math.sin(e),u=Math.sin(t),l=i*u-o*s,c=o*a-r*u,p=r*s-i*a,h=Math.sqrt(l*l+c*c+p*p),f=r*a+i*s+o*u,d=h&&-J(f)/h,m=Math.atan2(h,f);_u+=d*l,xu+=d*c,Eu+=d*p,du+=m,yu+=m*(r+(r=a)),bu+=m*(i+(i=s)),wu+=m*(o+(o=u)),wn(r,i,o)}var t,n,r,i,o;ku.point=function(a,s){t=a,n=s,ku.point=e,a*=Ms;var u=Math.cos(s*=Ms);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),wn(r,i,o)},ku.lineEnd=function(){e(t,n),ku.lineEnd=xn,ku.point=bn}}function kn(){return!0}function Cn(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(yn(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var u=new Sn(n,e,null,!0),l=new Sn(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Sn(r,e,null,!1),l=new Sn(r,null,u,!0),u.o=l,o.push(u),a.push(l)
}}),a.sort(t),An(o),An(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,p,h=o[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(var s=0,l=c.length;l>s;++s)i.point((p=c[s])[0],p[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d){c=f.p.z;for(var s=c.length-1;s>=0;--s)i.point((p=c[s])[0],p[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function An(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Sn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Mn(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function s(e,t){var n=i(e,t);g.point(n[0],n[1])}function u(){y.point=s,g.lineStart()}function l(){y.point=a,g.lineEnd()}function c(e,t){m.push([e,t]);var n=i(e,t);w.point(n[0],n[1])}function p(){w.lineStart(),m=[]}function h(){c(m[0][0],m[0][1]),w.lineEnd();var e,t=w.clean(),n=b.buffer(),r=n.length;if(m.pop(),d.push(m),m=null,r)if(1&t){e=n[0];var i,r=e.length-1,a=-1;if(r>0){for(_||(o.polygonStart(),_=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Tn))}var f,d,m,g=t(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=p,y.lineEnd=h,f=[],d=[]},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,f=Wa.merge(f);var e=Ln(v,d);f.length?(_||(o.polygonStart(),_=!0),Cn(f,On,e,n,o)):e&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),f=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Dn(),w=t(b),_=!1;return y}}function Tn(e){return e.length>1}function Dn(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:m,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function On(e,t){return((e=e.x)[0]<0?e[1]-Cs-As:Cs-e[1])-((t=t.x)[0]<0?t[1]-Cs-As:Cs-t[1])}function Ln(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;pu.reset();for(var s=0,u=t.length;u>s;++s){var l=t[s],c=l.length;if(c)for(var p=l[0],h=p[0],f=p[1]/2+Es/4,d=Math.sin(f),m=Math.cos(f),g=1;;){g===c&&(g=0),e=l[g];var v=e[0],y=e[1]/2+Es/4,b=Math.sin(y),w=Math.cos(y),_=v-h,x=_>=0?1:-1,E=x*_,k=E>Es,C=d*b;if(pu.add(Math.atan2(C*x*Math.sin(E),m*w+C*Math.cos(E))),o+=k?_+x*ks:_,k^h>=n^v>=n){var A=fn(pn(p),pn(e));gn(A);var S=fn(i,A);gn(S);var M=(k^_>=0?-1:1)*X(S[2]);(r>M||r===M&&(A[0]||A[1]))&&(a+=k^_>=0?1:-1)}if(!g++)break;h=v,d=b,m=w,p=e}}return(-As>o||As>o&&0>pu)^1&a}function Fn(e){var t,n=0/0,r=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Es:-Es,u=os(o-n);os(u-Es)<As?(e.point(n,r=(r+a)/2>0?Cs:-Cs),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=Es&&(os(n-i)<As&&(n-=i*As),os(o-s)<As&&(o-=s*As),r=Pn(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=0/0},clean:function(){return 2-t}}}function Pn(e,t,n,r){var i,o,a=Math.sin(e-n);return os(a)>As?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function Nn(e,t,n,r){var i;if(null==e)i=n*Cs,r.point(-Es,i),r.point(0,i),r.point(Es,i),r.point(Es,0),r.point(Es,-i),r.point(0,-i),r.point(-Es,-i),r.point(-Es,0),r.point(-Es,i);else if(os(e[0]-t[0])>As){var o=e[0]<t[0]?Es:-Es;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Bn(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(p,h){var f,d=[p,h],m=t(p,h),g=a?m?0:i(p,h):m?i(p+(0>p?Es:-Es),h):0;if(!n&&(l=u=m)&&e.lineStart(),m!==u&&(f=r(n,d),(yn(n,f)||yn(d,f))&&(d[0]+=As,d[1]+=As,m=t(d[0],d[1]))),m!==u)c=0,m?(e.lineStart(),f=r(d,n),e.point(f[0],f[1])):(f=r(n,d),e.point(f[0],f[1]),e.lineEnd()),n=f;else if(s&&n&&a^m){var v;g&o||!(v=r(d,n,!0))||(c=0,a?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||n&&yn(n,d)||e.point(d[0],d[1]),n=d,u=m,o=g},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(e,t,n){var r=pn(e),i=pn(t),a=[1,0,0],s=fn(r,i),u=hn(s,s),l=s[0],c=u-l*l;if(!c)return!n&&e;var p=o*u/c,h=-o*l/c,f=fn(a,s),d=mn(a,p),m=mn(s,h);dn(d,m);var g=f,v=hn(d,g),y=hn(g,g),b=v*v-y*(hn(d,d)-1);if(!(0>b)){var w=Math.sqrt(b),_=mn(g,(-v-w)/y);if(dn(_,d),_=vn(_),!n)return _;var x,E=e[0],k=t[0],C=e[1],A=t[1];E>k&&(x=E,E=k,k=x);var S=k-E,M=os(S-Es)<As,T=M||As>S;if(!M&&C>A&&(x=C,C=A,A=x),T?M?C+A>0^_[1]<(os(_[0]-E)<As?C:A):C<=_[1]&&_[1]<=A:S>Es^(E<=_[0]&&_[0]<=k)){var D=mn(g,(-v+w)/y);return dn(D,d),[_,vn(D)]}}}function i(t,n){var r=a?e:Es-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),a=o>0,s=os(o)>As,u=cr(e,6*Ms);return Mn(t,n,u,a?[0,-e]:[-Es,e-Es])}function Rn(e,t,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,p=s.y,h=0,f=1,d=c-u,m=p-l;if(o=e-u,d||!(o>0)){if(o/=d,0>d){if(h>o)return;f>o&&(f=o)}else if(d>0){if(o>f)return;o>h&&(h=o)}if(o=n-u,d||!(0>o)){if(o/=d,0>d){if(o>f)return;o>h&&(h=o)}else if(d>0){if(h>o)return;f>o&&(f=o)}if(o=t-l,m||!(o>0)){if(o/=m,0>m){if(h>o)return;f>o&&(f=o)}else if(m>0){if(o>f)return;o>h&&(h=o)}if(o=r-l,m||!(0>o)){if(o/=m,0>m){if(o>f)return;o>h&&(h=o)}else if(m>0){if(h>o)return;f>o&&(f=o)}return h>0&&(i.a={x:u+h*d,y:l+h*m}),1>f&&(i.b={x:u+f*d,y:l+f*m}),i}}}}}}function jn(e,t,n,r){function i(r,i){return os(r[0]-e)<As?i>0?0:3:os(r[0]-n)<As?i>0?2:1:os(r[1]-t)<As?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function u(e){for(var t=0,n=g.length,r=e[1],i=0;n>i;++i)for(var o,a=1,s=g[i],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=r?o[1]>r&&K(l,o,e)>0&&++t:o[1]<=r&&K(l,o,e)<0&&--t,l=o;return 0!==t}function l(o,s,u,l){var c=0,p=0;if(null==o||(c=i(o,u))!==(p=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+u+4)%4)!==p)}else l.point(s[0],s[1])}function c(i,o){return i>=e&&n>=i&&o>=t&&r>=o}function p(e,t){c(e,t)&&s.point(e,t)}function h(){T.point=d,g&&g.push(v=[]),k=!0,E=!1,_=x=0/0}function f(){m&&(d(y,b),w&&E&&S.rejoin(),m.push(S.buffer())),T.point=p,E&&s.lineEnd()}function d(e,t){e=Math.max(-Au,Math.min(Au,e)),t=Math.max(-Au,Math.min(Au,t));var n=c(e,t);if(g&&v.push([e,t]),k)y=e,b=t,w=n,k=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&E)s.point(e,t);else{var r={a:{x:_,y:x},b:{x:e,y:t}};M(r)?(E||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),C=!1):n&&(s.lineStart(),s.point(e,t),C=!1)}_=e,x=t,E=n}var m,g,v,y,b,w,_,x,E,k,C,A=s,S=Dn(),M=Rn(e,t,n,r),T={point:p,lineStart:h,lineEnd:f,polygonStart:function(){s=S,m=[],g=[],C=!0},polygonEnd:function(){s=A,m=Wa.merge(m);var t=u([e,r]),n=C&&t,i=m.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Cn(m,o,t,l,s),s.polygonEnd()),m=g=v=null}};return T}}function In(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function $n(e){var t=0,n=Es/3,r=nr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Es/180,n=e[1]*Es/180):[t/Es*180,n/Es*180]},i}function zn(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,X((o-(e*e+n*n)*i*i)/(2*i))]},n}function Un(){function e(e,t){Mu+=i*e-r*t,r=e,i=t}var t,n,r,i;Fu.point=function(o,a){Fu.point=e,t=r=o,n=i=a},Fu.lineEnd=function(){e(t,n)}}function Vn(e,t){Tu>e&&(Tu=e),e>Ou&&(Ou=e),Du>t&&(Du=t),t>Lu&&(Lu=t)}function Yn(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function i(){a.push("Z")}var o=Wn(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return o=Wn(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function Wn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Hn(e,t){mu+=e,gu+=t,++vu}function qn(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);yu+=a*(t+e)/2,bu+=a*(n+r)/2,wu+=a,Hn(t=e,n=r)}var t,n;Nu.point=function(r,i){Nu.point=e,Hn(t=r,n=i)}}function Gn(){Nu.point=Hn}function Kn(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);yu+=a*(r+e)/2,bu+=a*(i+t)/2,wu+=a,a=i*e-r*t,_u+=a*(r+e),xu+=a*(i+t),Eu+=3*a,Hn(r=e,i=t)}var t,n,r,i;Nu.point=function(o,a){Nu.point=e,Hn(t=r=o,n=i=a)},Nu.lineEnd=function(){e(t,n)}}function Jn(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,a,0,ks)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function o(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return a=e,s},result:m};return s}function Xn(e){function t(e){return(s?r:n)(e)}function n(t){return er(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=0/0,k.point=o,t.lineStart()}function o(n,r){var o=pn([n,r]),a=e(n,r);i(b,w,y,_,x,E,b=a[0],w=a[1],y=n,_=o[0],x=o[1],E=o[2],s,t),t.point(b,w)}function a(){k.point=n,t.lineEnd()}function u(){r(),k.point=l,k.lineEnd=c}function l(e,t){o(p=e,h=t),f=b,d=w,m=_,g=x,v=E,k.point=o}function c(){i(b,w,y,_,x,E,f,d,p,m,g,v,s,t),k.lineEnd=a,a()}var p,h,f,d,m,g,v,y,b,w,_,x,E,k={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),k.lineStart=u},polygonEnd:function(){t.polygonEnd(),k.lineStart=r}};return k}function i(t,n,r,s,u,l,c,p,h,f,d,m,g,v){var y=c-t,b=p-n,w=y*y+b*b;if(w>4*o&&g--){var _=s+f,x=u+d,E=l+m,k=Math.sqrt(_*_+x*x+E*E),C=Math.asin(E/=k),A=os(os(E)-1)<As||os(r-h)<As?(r+h)/2:Math.atan2(x,_),S=e(A,C),M=S[0],T=S[1],D=M-t,O=T-n,L=b*D-y*O;(L*L/w>o||os((y*D+b*O)/w-.5)>.3||a>s*f+u*d+l*m)&&(i(t,n,r,s,u,l,M,T,A,_/=k,x/=k,E,g,v),v.point(M,T),i(M,T,A,_,x,E,c,p,h,f,d,m,g,v))}}var o=.5,a=Math.cos(30*Ms),s=16;return t.precision=function(e){return arguments.length?(s=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function Zn(e){var t=Xn(function(t,n){return e([t*Ts,n*Ts])});return function(e){return rr(t(e))}}function Qn(e){this.stream=e}function er(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function tr(e){return nr(function(){return e})()}function nr(e){function t(e){return e=s(e[0]*Ms,e[1]*Ms),[e[0]*h+u,l-e[1]*h]}function n(e){return e=s.invert((e[0]-u)/h,(l-e[1])/h),e&&[e[0]*Ts,e[1]*Ts]}function r(){s=In(a=ar(v,y,b),o);var e=o(m,g);return u=f-e[0]*h,l=d+e[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),t}var o,a,s,u,l,c,p=Xn(function(e,t){return e=o(e,t),[e[0]*h+u,l-e[1]*h]}),h=150,f=480,d=250,m=0,g=0,v=0,y=0,b=0,w=Cu,_=Et,x=null,E=null;return t.stream=function(e){return c&&(c.valid=!1),c=rr(w(a,p(_(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(w=null==e?(x=e,Cu):Bn((x=+e)*Ms),i()):x},t.clipExtent=function(e){return arguments.length?(E=e,_=e?jn(e[0][0],e[0][1],e[1][0],e[1][1]):Et,i()):E},t.scale=function(e){return arguments.length?(h=+e,r()):h},t.translate=function(e){return arguments.length?(f=+e[0],d=+e[1],r()):[f,d]},t.center=function(e){return arguments.length?(m=e[0]%360*Ms,g=e[1]%360*Ms,r()):[m*Ts,g*Ts]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Ms,y=e[1]%360*Ms,b=e.length>2?e[2]%360*Ms:0,r()):[v*Ts,y*Ts,b*Ts]},Wa.rebind(t,p,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function rr(e){return er(e,function(t,n){e.point(t*Ms,n*Ms)})}function ir(e,t){return[e,t]}function or(e,t){return[e>Es?e-ks:-Es>e?e+ks:e,t]}function ar(e,t,n){return e?t||n?In(ur(e),lr(t,n)):ur(e):t||n?lr(t,n):or}function sr(e){return function(t,n){return t+=e,[t>Es?t-ks:-Es>t?t+ks:t,n]}}function ur(e){var t=sr(e);return t.invert=sr(-e),t}function lr(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),X(c*o+u*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),X(c*r-s*i)]},n}function cr(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var u=a*t;null!=i?(i=pr(n,i),o=pr(n,o),(a>0?o>i:i>o)&&(i+=a*ks)):(i=e+a*ks,o=e-.5*u);for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=vn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function pr(e,t){var n=pn(t);n[0]-=e,gn(n);var r=J(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-As)%(2*Math.PI)}function hr(e,t,n){var r=Wa.range(e,t-As,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function fr(e,t,n){var r=Wa.range(e,t-As,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function dr(e){return e.source}function mr(e){return e.target}function gr(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=a*Math.cos(n),p=a*Math.sin(n),h=2*Math.asin(Math.sqrt(tt(r-t)+i*a*tt(n-e))),f=1/Math.sin(h),d=h?function(e){var t=Math.sin(e*=h)*f,n=Math.sin(h-e)*f,r=n*u+t*c,i=n*l+t*p,a=n*o+t*s;return[Math.atan2(i,r)*Ts,Math.atan2(a,Math.sqrt(r*r+i*i))*Ts]}:function(){return[e*Ts,t*Ts]};return d.distance=h,d}function vr(){function e(e,i){var o=Math.sin(i*=Ms),a=Math.cos(i),s=os((e*=Ms)-t),u=Math.cos(s);Bu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),t=e,n=o,r=a}var t,n,r;Ru.point=function(i,o){t=i*Ms,n=Math.sin(o*=Ms),r=Math.cos(o),Ru.point=e},Ru.lineEnd=function(){Ru.point=Ru.lineEnd=m}}function yr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function br(e,t){function n(e,t){a>0?-Cs+As>t&&(t=-Cs+As):t>Cs-As&&(t=Cs-As);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Es/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=G(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Cs]},n):_r}function wr(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return os(i)<As?ir:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-G(i)*Math.sqrt(e*e+n*n)]},n)}function _r(e,t){return[e,Math.log(Math.tan(Es/4+t/2))]}function xr(e){var t,n=tr(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Es*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function Er(e,t){return[Math.log(Math.tan(Es/4+t/2)),-e]}function kr(e){return e[0]}function Cr(e){return e[1]}function Ar(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&K(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Sr(e,t){return e[0]-t[0]||e[1]-t[1]}function Mr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Tr(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,u=e[1],l=n[1],c=t[1]-u,p=r[1]-l,h=(s*(u-l)-p*(i-o))/(p*a-s*c);return[i+h*a,u+h*c]}function Dr(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Or(){Zr(this),this.edge=this.site=this.circle=null}function Lr(e){var t=Ku.pop()||new Or;return t.site=e,t}function Fr(e){Vr(e),Hu.remove(e),Ku.push(e),Zr(e)}function Pr(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];Fr(e);for(var u=o;u.circle&&os(n-u.circle.x)<As&&os(r-u.circle.cy)<As;)o=u.P,s.unshift(u),Fr(u),u=o;s.unshift(u),Vr(u);for(var l=a;l.circle&&os(n-l.circle.x)<As&&os(r-l.circle.cy)<As;)a=l.N,s.push(l),Fr(l),l=a;s.push(l),Vr(l);var c,p=s.length;for(c=1;p>c;++c)l=s[c],u=s[c-1],Kr(l.edge,u.site,l.site,i);u=s[0],l=s[p-1],l.edge=qr(u.site,l.site,null,i),Ur(u),Ur(l)}function Nr(e){for(var t,n,r,i,o=e.x,a=e.y,s=Hu._;s;)if(r=Br(s,a)-o,r>As)s=s.L;else{if(i=o-Rr(s,a),!(i>As)){r>-As?(t=s.P,n=s):i>-As?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=Lr(e);if(Hu.insert(t,u),t||n){if(t===n)return Vr(t),n=Lr(t.site),Hu.insert(u,n),u.edge=n.edge=qr(t.site,u.site),Ur(t),void Ur(n);if(!n)return void(u.edge=qr(t.site,u.site));Vr(t),Vr(n);var l=t.site,c=l.x,p=l.y,h=e.x-c,f=e.y-p,d=n.site,m=d.x-c,g=d.y-p,v=2*(h*g-f*m),y=h*h+f*f,b=m*m+g*g,w={x:(g*y-f*b)/v+c,y:(h*b-m*y)/v+p};Kr(n.edge,l,d,w),u.edge=qr(l,e,null,w),n.edge=qr(e,d,null,w),Ur(t),Ur(n)}}function Br(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,p=1/o-1/l,h=c/l;return p?(-h+Math.sqrt(h*h-2*p*(c*c/(-2*l)-u+l/2+i-o/2)))/p+r:(r+s)/2}function Rr(e,t){var n=e.N;if(n)return Br(n,t);var r=e.site;return r.y===t?r.x:1/0}function jr(e){this.site=e,this.edges=[]}function Ir(e){for(var t,n,r,i,o,a,s,u,l,c,p=e[0][0],h=e[1][0],f=e[0][1],d=e[1][1],m=Wu,g=m.length;g--;)if(o=m[g],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),t=l.x,n=l.y,(os(r-t)>As||os(i-n)>As)&&(s.splice(a,0,new Jr(Gr(o.site,c,os(r-p)<As&&d-i>As?{x:p,y:os(t-p)<As?n:d}:os(i-d)<As&&h-r>As?{x:os(n-d)<As?t:h,y:d}:os(r-h)<As&&i-f>As?{x:h,y:os(t-h)<As?n:f}:os(i-f)<As&&r-p>As?{x:os(n-f)<As?t:p,y:f}:null),o.site,null)),++u)}function $r(e,t){return t.angle-e.angle}function zr(){Zr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ur(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,p=o.y-s,h=2*(u*p-l*c);if(!(h>=-Ss)){var f=u*u+l*l,d=c*c+p*p,m=(p*f-l*d)/h,g=(u*d-c*f)/h,p=g+s,v=Ju.pop()||new zr;v.arc=e,v.site=i,v.x=m+a,v.y=p+Math.sqrt(m*m+g*g),v.cy=p,e.circle=v;for(var y=null,b=Gu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Gu.insert(y,v),y||(qu=v)}}}}function Vr(e){var t=e.circle;t&&(t.P||(qu=t.N),Gu.remove(t),Ju.push(t),Zr(t),e.circle=null)}function Yr(e){for(var t,n=Yu,r=Rn(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Wr(t,e)||!r(t)||os(t.a.x-t.b.x)<As&&os(t.a.y-t.b.y)<As)&&(t.a=t.b=null,n.splice(i,1))}function Wr(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,p=e.r,h=c.x,f=c.y,d=p.x,m=p.y,g=(h+d)/2,v=(f+m)/2;if(m===f){if(a>g||g>=s)return;if(h>d){if(o){if(o.y>=l)return}else o={x:g,y:u};n={x:g,y:l}}else{if(o){if(o.y<u)return}else o={x:g,y:l};n={x:g,y:u}}}else if(r=(h-d)/(m-f),i=v-r*g,-1>r||r>1)if(h>d){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(m>f){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Hr(e,t){this.l=e,this.r=t,this.a=this.b=null}function qr(e,t,n,r){var i=new Hr(e,t);return Yu.push(i),n&&Kr(i,e,t,n),r&&Kr(i,t,e,r),Wu[e.i].edges.push(new Jr(i,e,t)),Wu[t.i].edges.push(new Jr(i,t,e)),i}function Gr(e,t,n){var r=new Hr(e,null);return r.a=t,r.b=n,Yu.push(r),r}function Kr(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Jr(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Xr(){this._=null}function Zr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Qr(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ei(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ti(e){for(;e.L;)e=e.L;return e}function ni(e,t){var n,r,i,o=e.sort(ri).pop();for(Yu=[],Wu=new Array(e.length),Hu=new Xr,Gu=new Xr;;)if(i=qu,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Wu[o.i]=new jr(o),Nr(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;Pr(i.arc)}t&&(Yr(t),Ir(t));var a={cells:Wu,edges:Yu};return Hu=Gu=Yu=Wu=null,a}function ri(e,t){return t.y-e.y||t.x-e.x}function ii(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function oi(e){return e.x}function ai(e){return e.y}function si(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ui(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=t.nodes;u[0]&&ui(e,u[0],n,r,a,s),u[1]&&ui(e,u[1],a,r,i,s),u[2]&&ui(e,u[2],n,s,a,o),u[3]&&ui(e,u[3],a,s,i,o)}}function li(e,t){e=Wa.rgb(e),t=Wa.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,s=t.b-i;return function(e){return"#"+gt(Math.round(n+o*e))+gt(Math.round(r+a*e))+gt(Math.round(i+s*e))}}function ci(e,t){var n,r={},i={};for(n in e)n in t?r[n]=fi(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function pi(e,t){return t-=e=+e,function(n){return e+t*n}}function hi(e,t){var n,r,i,o=Zu.lastIndex=Qu.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Zu.exec(e))&&(r=Qu.exec(t));)(i=r.index)>o&&(i=t.substring(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:pi(n,r)})),o=Qu.lastIndex;return o<t.length&&(i=t.substring(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;t>r;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function fi(e,t){for(var n,r=Wa.interpolators.length;--r>=0&&!(n=Wa.interpolators[r](e,t)););return n}function di(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(fi(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function mi(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function gi(e){return function(t){return 1-e(1-t)}}function vi(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function yi(e){return e*e}function bi(e){return e*e*e}function wi(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function _i(e){return function(t){return Math.pow(t,e)}}function xi(e){return 1-Math.cos(e*Cs)}function Ei(e){return Math.pow(2,10*(e-1))}function ki(e){return 1-Math.sqrt(1-e*e)}function Ci(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/ks*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*ks/t)}}function Ai(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Si(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Mi(e,t){e=Wa.hcl(e),t=Wa.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return at(n+o*e,r+a*e,i+s*e)+""}}function Ti(e,t){e=Wa.hsl(e),t=Wa.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return it(n+o*e,r+a*e,i+s*e)+""}}function Di(e,t){e=Wa.lab(e),t=Wa.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(e){return ut(n+o*e,r+a*e,i+s*e)+""}}function Oi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Li(e){var t=[e.a,e.b],n=[e.c,e.d],r=Pi(t),i=Fi(t,n),o=Pi(Ni(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ts,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ts:0}function Fi(e,t){return e[0]*t[0]+e[1]*t[1]}function Pi(e){var t=Math.sqrt(Fi(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Ni(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Bi(e,t){var n,r=[],i=[],o=Wa.transform(e),a=Wa.transform(t),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,p=o.skew,h=a.skew,f=o.scale,d=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:pi(s[0],u[0])},{i:3,x:pi(s[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:pi(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),p!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:pi(p,h)}):h&&r.push(r.pop()+"skewX("+h+")"),f[0]!=d[0]||f[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:pi(f[0],d[0])},{i:n-2,x:pi(f[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(e){for(var t,o=-1;++o<n;)r[(t=i[o]).i]=t.x(e);return r.join("")}}function Ri(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function ji(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Ii(e){for(var t=e.source,n=e.target,r=zi(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function $i(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function zi(e,t){if(e===t)return e;for(var n=$i(e),r=$i(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Ui(e){e.fixed|=2}function Vi(e){e.fixed&=-7}function Yi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Wi(e){e.fixed&=-5}function Hi(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Hi(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function qi(e,t){return Wa.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Qi,e}function Gi(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Ki(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function Ji(e){return e.children}function Xi(e){return e.value}function Zi(e,t){return t.value-e.value}function Qi(e){return Wa.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function eo(e){return e.x}function to(e){return e.y}function no(e,t,n){e.y0=t,e.y=n}function ro(e){return Wa.range(e.length)}function io(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function oo(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function ao(e){return e.reduce(so,0)}function so(e,t){return e+t[1]}function uo(e,t){return lo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function lo(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function co(e){return[Wa.min(e),Wa.max(e)]}function po(e,t){return e.value-t.value}function ho(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function fo(e,t){e._pack_next=t,t._pack_prev=e}function mo(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function go(e){function t(e){c=Math.min(e.x-e.r,c),p=Math.max(e.x+e.r,p),h=Math.min(e.y-e.r,h),f=Math.max(e.y+e.r,f)}if((n=e.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,p=-1/0,h=1/0,f=-1/0;if(n.forEach(vo),r=n[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=n[1],i.x=i.r,i.y=0,t(i),l>2))for(o=n[2],wo(r,i,o),t(o),ho(r,o),r._pack_prev=o,ho(o,i),i=r._pack_next,a=3;l>a;a++){wo(r,i,o=n[a]);var d=0,m=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,m++)if(mo(s,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!mo(u,o);u=u._pack_prev,g++);d?(g>m||m==g&&i.r<r.r?fo(r,i=s):fo(r=u,i),a--):(ho(r,o),i=o,t(o))}var v=(c+p)/2,y=(h+f)/2,b=0;for(a=0;l>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach(yo)}}function vo(e){e._pack_next=e._pack_prev=e}function yo(e){delete e._pack_next,delete e._pack_prev}function bo(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)bo(i[o],t,n,r)}function wo(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+u*i+l*o,n.y=e.y+u*o-l*i}else n.x=e.x+r,n.y=e.y}function _o(e,t){return e.parent==t.parent?1:2}function xo(e){var t=e.children;return t.length?t[0]:e.t}function Eo(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ko(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Co(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Ao(e,t,n){return e.a.parent===t.parent?e.a:n}function So(e){return 1+Wa.max(e,function(e){return e.y})}function Mo(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function To(e){var t=e.children;return t&&t.length?To(t[0]):e}function Do(e){var t,n=e.children;return n&&(t=n.length)?Do(n[t-1]):e}function Oo(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Lo(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Fo(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Po(e){return e.rangeExtent?e.rangeExtent():Fo(e.range())}function No(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function Bo(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Ro(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:cl}function jo(e,t,n,r){var i=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=Wa.bisect(e,t,1,s)-1;return o[n](i[n](t))}}function Io(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?jo:No,u=r?ji:Ri;return a=i(e,t,u,n),s=i(t,e,u,fi),o}function o(e){return a(e)}var a,s;return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(Oi)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return Vo(e,t)},o.tickFormat=function(t,n){return Yo(e,t,n)},o.nice=function(t){return zo(e,t),i()},o.copy=function(){return Io(e,t,n,r)},i()}function $o(e,t){return Wa.rebind(e,t,"range","rangeRound","interpolate","clamp")}function zo(e,t){return Bo(e,Ro(Uo(e,t)[2]))}function Uo(e,t){null==t&&(t=10);var n=Fo(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Vo(e,t){return Wa.range.apply(Wa,Uo(e,t))}function Yo(e,t,n){var r=Uo(e,t);if(n){var i=Zs.exec(n);if(i.shift(),"s"===i[8]){var o=Wa.formatPrefix(Math.max(os(r[0]),os(r[1])));return i[7]||(i[7]="."+Wo(o.scale(r[2]))),i[8]="f",n=Wa.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+Ho(i[8],r)),n=i.join("")}else n=",."+Wo(r[2])+"f";return Wa.format(n)}function Wo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ho(e,t){var n=Wo(t[2]);return e in pl?Math.abs(n-Wo(Math.max(os(t[0]),os(t[1]))))+ +("e"!==e):n-2*("%"===e)}function qo(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=Bo(r.map(i),n?Math:fl);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=Fo(r),a=[],s=e[0],u=e[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),p=t%1?2:t;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var h=1;p>h;h++)a.push(o(l)*h);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var h=p-1;h>0;h--)a.push(o(l)*h);
for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(e,t){if(!arguments.length)return hl;arguments.length<2?t=hl:"function"!=typeof t&&(t=Wa.format(t));var r,s=Math.max(.1,e/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/o(u(i(e)+r))<=s?t(e):""}},a.copy=function(){return qo(e.copy(),t,n,r)},$o(a,e)}function Go(e,t,n){function r(t){return e(i(t))}var i=Ko(t),o=Ko(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Vo(n,e)},r.tickFormat=function(e,t){return Yo(n,e,t)},r.nice=function(e){return r.domain(zo(n,e))},r.exponent=function(a){return arguments.length?(i=Ko(t=a),o=Ko(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return Go(e.copy(),t,n)},$o(r,e)}function Ko(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Jo(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):0/0))-1)%o.length]}function r(t,n){return Wa.range(e.length).map(function(e){return t+n*e})}var i,o,s;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new a;for(var o,s=-1,u=r.length;++s<u;)i.has(o=r[s])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,s=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,a){arguments.length<2&&(a=0);var u=i[0],l=i[1],c=(l-u)/(Math.max(1,e.length-1)+a);return o=r(e.length<2?(u+l)/2:u+c*a/2,c),s=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=i[1]<i[0],c=i[l-0],p=i[1-l],h=(p-c)/(e.length-a+2*u);return o=r(c+h*u,h),l&&o.reverse(),s=h*(1-a),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=i[1]<i[0],c=i[l-0],p=i[1-l],h=Math.floor((p-c)/(e.length-a+2*u)),f=p-c-(e.length-a)*h;return o=r(c+Math.round(f/2),h),l&&o.reverse(),s=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Fo(t.a[0])},n.copy=function(){return Jo(e,t)},n.domain(e)}function Xo(n,r){function i(){var e=0,t=r.length;for(a=[];++e<t;)a[e-1]=Wa.quantile(n,e/t);return o}function o(e){return isNaN(e=+e)?void 0:r[Wa.bisect(a,e)]}var a;return o.domain=function(r){return arguments.length?(n=r.filter(t).sort(e),i()):n},o.range=function(e){return arguments.length?(r=e,i()):r},o.quantiles=function(){return a},o.invertExtent=function(e){return e=r.indexOf(e),0>e?[0/0,0/0]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return Xo(n,r)},i()}function Zo(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/o+e,[t,t+1/o]},r.copy=function(){return Zo(e,t,n)},i()}function Qo(e,t){function n(n){return n>=n?t[Wa.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return Qo(e,t)},n}function ea(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Vo(e,t)},t.tickFormat=function(t,n){return Yo(e,t,n)},t.copy=function(){return ea(e)},t}function ta(e){return e.innerRadius}function na(e){return e.outerRadius}function ra(e){return e.startAngle}function ia(e){return e.endAngle}function oa(e){function t(t){function a(){l.push("M",o(e(c),s))}for(var u,l=[],c=[],p=-1,h=t.length,f=xt(n),d=xt(r);++p<h;)i.call(this,u=t[p],p)?c.push([+f.call(this,u,p),+d.call(this,u,p)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=kr,r=Cr,i=kn,o=aa,a=o.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=wl.get(e)||aa).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function aa(e){return e.join("L")}function sa(e){return aa(e)+"Z"}function ua(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function la(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function ca(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function pa(e,t){return e.length<4?aa(e):e[1]+da(e.slice(1,e.length-1),ma(e,t))}function ha(e,t){return e.length<3?aa(e):e[0]+da((e.push(e[0]),e),ma([e[e.length-2]].concat(e,[e[1]]),t))}function fa(e,t){return e.length<3?aa(e):e[0]+da(e,ma(e,t))}function da(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return aa(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],u=2),t.length>1){s=t[1],o=e[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<t.length;l++,u++)o=e[u],s=t[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ma(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,u=e.length;++s<u;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function ga(e){if(e.length<3)return aa(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",wa(El,a),",",wa(El,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),_a(u,a,s);return e.pop(),u.push("L",r),u.join("")}function va(e){if(e.length<4)return aa(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(wa(El,o)+","+wa(El,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),_a(n,o,a);return n.join("")}function ya(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[wa(El,a),",",wa(El,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),_a(t,a,s);return t.join("")}function ba(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,u=e[n][1]-a,l=-1;++l<=n;)r=e[l],i=l/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*u);return ga(e)}function wa(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function _a(e,t,n){e.push("C",wa(_l,t),",",wa(_l,n),",",wa(xl,t),",",wa(xl,n),",",wa(El,t),",",wa(El,n))}function xa(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ea(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=xa(i,o);++t<n;)r[t]=(a+(a=xa(i=o,o=e[t+1])))/2;return r[t]=a,r}function ka(e){for(var t,n,r,i,o=[],a=Ea(e),s=-1,u=e.length-1;++s<u;)t=xa(e[s],e[s+1]),os(t)<As?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Ca(e){return e.length<3?aa(e):e[0]+da(e,ka(e))}function Aa(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]+yl,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Sa(e){function t(t){function u(){m.push("M",s(e(v),p),c,l(e(g.reverse()),p),"Z")}for(var h,f,d,m=[],g=[],v=[],y=-1,b=t.length,w=xt(n),_=xt(i),x=n===r?function(){return f}:xt(r),E=i===o?function(){return d}:xt(o);++y<b;)a.call(this,h=t[y],y)?(g.push([f=+w.call(this,h,y),d=+_.call(this,h,y)]),v.push([+x.call(this,h,y),+E.call(this,h,y)])):g.length&&(u(),g=[],v=[]);return g.length&&u(),m.length?m.join(""):null}var n=kr,r=kr,i=0,o=Cr,a=kn,s=aa,u=s.key,l=s,c="L",p=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?s=e:(s=wl.get(e)||aa).key,l=s.reverse||s,c=s.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(p=e,t):p},t}function Ma(e){return e.radius}function Ta(e){return[e.x,e.y]}function Da(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+yl;return[n*Math.cos(r),n*Math.sin(r)]}}function Oa(){return 64}function La(){return"circle"}function Fa(e){var t=Math.sqrt(e/Es);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Pa(e,t){return cs(e,Tl),e.id=t,e}function Na(e,t,n,r){var i=e.id;return B(e,"function"==typeof n?function(e,o,a){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,o,a)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Ba(e){return null==e&&(e=""),function(){this.textContent=e}}function Ra(e,t,n,r){var i=e.__transition__||(e.__transition__={active:0,count:0}),o=i[n];if(!o){var s=r.time;o=i[n]={tween:new a,time:s,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Wa.timer(function(r){function a(r){return i.active>n?l():(i.active=n,o.event&&o.event.start.call(e,c,t),o.tween.forEach(function(n,r){(r=r.call(e,c,t))&&m.push(r)}),void Wa.timer(function(){return d.c=u(r||1)?kn:u,1},0,s))}function u(r){if(i.active!==n)return l();for(var a=r/f,s=p(a),u=m.length;u>0;)m[--u].call(e,s);return a>=1?(o.event&&o.event.end.call(e,c,t),l()):void 0}function l(){return--i.count?delete i[n]:delete e.__transition__,1}var c=e.__data__,p=o.ease,h=o.delay,f=o.duration,d=Ks,m=[];return d.t=h+s,r>=h?a(r-h):void(d.c=a)},0,s)}}function ja(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Ia(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function $a(e){return e.toISOString()}function za(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=Wa.bisect(jl,i);return o==jl.length?[t.year,Uo(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/jl[o-1]<jl[o]/i?o-1:o]:[zl,Uo(e,n)[2]]}return r.invert=function(t){return Ua(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Ua)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Ua(+n+1),t).length}var o=r.domain(),a=Fo(o),s=null==e?i(a,10):"number"==typeof e&&i(a,e);return s&&(e=s[0],t=s[1]),r.domain(Bo(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Ua(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Ua(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Fo(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],Ua(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return za(e.copy(),t,n)},$o(r,e)}function Ua(e){return new Date(e)}function Va(e){return JSON.parse(e.responseText)}function Ya(e){var t=Ga.createRange();return t.selectNode(Ga.body),t.createContextualFragment(e.responseText)}var Wa={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Ha=[].slice,qa=function(e){return Ha.call(e)},Ga=document,Ka=Ga.documentElement,Ja=window;try{qa(Ka.childNodes)[0].nodeType}catch(Xa){qa=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{Ga.createElement("div").style.setProperty("opacity",0,"")}catch(Za){var Qa=Ja.Element.prototype,es=Qa.setAttribute,ts=Qa.setAttributeNS,ns=Ja.CSSStyleDeclaration.prototype,rs=ns.setProperty;Qa.setAttribute=function(e,t){es.call(this,e,t+"")},Qa.setAttributeNS=function(e,t,n){ts.call(this,e,t,n+"")},ns.setProperty=function(e,t,n){rs.call(this,e,t+"",n)}}Wa.ascending=e,Wa.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},Wa.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},Wa.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},Wa.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=e[o])&&n>=n);)n=i=void 0;for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a&&!(null!=(n=i=t.call(e,e[o],o))&&n>=n);)n=void 0;for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},Wa.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(n=+e[o])||(r+=n);else for(;++o<i;)isNaN(n=+t.call(e,e[o],o))||(r+=n);return r},Wa.mean=function(e,n){var r,i=0,o=e.length,a=-1,s=o;if(1===arguments.length)for(;++a<o;)t(r=e[a])?i+=r:--s;else for(;++a<o;)t(r=n.call(e,e[a],a))?i+=r:--s;return s?i/s:void 0},Wa.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},Wa.median=function(n,r){return arguments.length>1&&(n=n.map(r)),n=n.filter(t),n.length?Wa.quantile(n.sort(e),.5):void 0};var is=n(e);Wa.bisectLeft=is.left,Wa.bisect=Wa.bisectRight=is.right,Wa.bisector=function(t){return n(1===t.length?function(n,r){return e(t(n),r)}:t)},Wa.shuffle=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e},Wa.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},Wa.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],o=new Array(0>r?0:r);r>n;)o[n]=[t=i,i=e[++n]];return o},Wa.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=Wa.min(arguments,r),n=new Array(t);++e<t;)for(var i,o=-1,a=n[e]=new Array(i);++o<i;)a[o]=arguments[o][e];return n},Wa.transpose=function(e){return Wa.zip.apply(Wa,e)},Wa.keys=function(e){var t=[];for(var n in e)t.push(n);return t},Wa.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Wa.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Wa.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var os=Math.abs;Wa.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,o=[],a=i(os(n)),s=-1;if(e*=a,t*=a,n*=a,0>n)for(;(r=e+n*++s)>t;)o.push(r/a);else for(;(r=e+n*++s)<t;)o.push(r/a);return o},Wa.map=function(e){var t=new a;if(e instanceof a)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t},o(a,{has:s,get:function(e){return this[as+e]},set:function(e,t){return this[as+e]=t},remove:u,keys:l,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:c,empty:p,forEach:function(e){for(var t in this)t.charCodeAt(0)===ss&&e.call(this,t.substring(1),this[t])}});var as="\x00",ss=as.charCodeAt(0);Wa.nest=function(){function e(t,s,u){if(u>=o.length)return r?r.call(i,s):n?s.sort(n):s;for(var l,c,p,h,f=-1,d=s.length,m=o[u++],g=new a;++f<d;)(h=g.get(l=m(c=s[f])))?h.push(c):g.set(l,[c]);return t?(c=t(),p=function(n,r){c.set(n,e(t,r,u))}):(c={},p=function(n,r){c[n]=e(t,r,u)}),g.forEach(p),c}function t(e,n){if(n>=o.length)return e;var r=[],i=s[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],s=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(Wa.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return s[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},Wa.set=function(e){var t=new h;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},o(h,{has:s,add:function(e){return this[as+e]=!0,e},remove:function(e){return e=as+e,e in this&&delete this[e]},values:l,size:c,empty:p,forEach:function(e){for(var t in this)t.charCodeAt(0)===ss&&e.call(this,t.substring(1))}}),Wa.behavior={},Wa.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=f(e,t,t[n]);return e};var us=["webkit","ms","moz","Moz","o","O"];Wa.dispatch=function(){for(var e=new g,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=v(e);return e},g.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.substring(n+1),e=e.substring(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},Wa.event=null,Wa.requote=function(e){return e.replace(ls,"\\$&")};var ls=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,cs={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},ps=function(e,t){return t.querySelector(e)},hs=function(e,t){return t.querySelectorAll(e)},fs=Ka.matches||Ka[d(Ka,"matchesSelector")],ds=function(e,t){return fs.call(e,t)};"function"==typeof Sizzle&&(ps=function(e,t){return Sizzle(e,t)[0]||null},hs=Sizzle,ds=Sizzle.matchesSelector),Wa.selection=function(){return ys};var ms=Wa.selection.prototype=[];ms.select=function(e){var t,n,r,i,o=[];e=x(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return _(o)},ms.selectAll=function(e){var t,n,r=[];e=E(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(t=qa(e.call(n,n.__data__,s,i))),t.parentNode=n);return _(r)};var gs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Wa.ns={prefix:gs,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),gs.hasOwnProperty(n)?{space:gs[n],local:e}:e}},ms.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=Wa.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(k(t,e[t]));return this}return this.each(k(e,t))},ms.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=S(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!A(e[i]).test(t))return!1;return!0}for(t in e)this.each(M(t,e[t]));return this}return this.each(M(e,t))},ms.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(D(n,e[n],t));return this}if(2>r)return Ja.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(D(e,t,n))},ms.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(O(t,e[t]));return this}return this.each(O(e,t))},ms.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ms.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ms.append=function(e){return e=L(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ms.insert=function(e,t){return e=L(e),t=x(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},ms.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},ms.data=function(e,t){function n(e,n){var r,i,o,s=e.length,p=n.length,h=Math.min(s,p),f=new Array(p),d=new Array(p),m=new Array(s);if(t){var g,v=new a,y=new a,b=[];for(r=-1;++r<s;)g=t.call(i=e[r],i.__data__,r),v.has(g)?m[r]=i:v.set(g,i),b.push(g);for(r=-1;++r<p;)g=t.call(n,o=n[r],r),(i=v.get(g))?(f[r]=i,i.__data__=o):y.has(g)||(d[r]=F(o)),y.set(g,o),v.remove(g);for(r=-1;++r<s;)v.has(b[r])&&(m[r]=e[r])}else{for(r=-1;++r<h;)i=e[r],o=n[r],i?(i.__data__=o,f[r]=i):d[r]=F(o);for(;p>r;++r)d[r]=F(n[r]);for(;s>r;++r)m[r]=e[r]}d.update=f,d.parentNode=f.parentNode=m.parentNode=e.parentNode,u.push(d),l.push(f),c.push(m)}var r,i,o=-1,s=this.length;if(!arguments.length){for(e=new Array(s=(r=this[0]).length);++o<s;)(i=r[o])&&(e[o]=i.__data__);return e}var u=R([]),l=_([]),c=_([]);if("function"==typeof e)for(;++o<s;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<s;)n(r=this[o],e);return l.enter=function(){return u},l.exit=function(){return c},l},ms.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ms.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=P(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return _(i)},ms.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ms.sort=function(e){e=N.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},ms.each=function(e){return B(this,function(t,n,r){e.call(t,t.__data__,n,r)})},ms.call=function(e){var t=qa(arguments);return e.apply(t[0]=this,t),this},ms.empty=function(){return!this.node()},ms.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},ms.size=function(){var e=0;return this.each(function(){++e}),e};var vs=[];Wa.selection.enter=R,Wa.selection.enter.prototype=vs,vs.append=ms.append,vs.empty=ms.empty,vs.node=ms.node,vs.call=ms.call,vs.size=ms.size,vs.select=function(e){for(var t,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(t.push(r[l]=n=e.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):t.push(null)}return _(a)},vs.insert=function(e,t){return arguments.length<2&&(t=j(this)),ms.insert.call(this,e,t)},ms.transition=function(){for(var e,t,n=Cl||++Dl,r=[],i=Al||{time:Date.now(),ease:wi,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(e=[]);for(var s=this[o],u=-1,l=s.length;++u<l;)(t=s[u])&&Ra(t,u,n,i),e.push(t)}return Pa(r,n)},ms.interrupt=function(){return this.each(I)},Wa.select=function(e){var t=["string"==typeof e?ps(e,Ga):e];return t.parentNode=Ka,_([t])},Wa.selectAll=function(e){var t=qa("string"==typeof e?hs(e,Ga):e);return t.parentNode=Ka,_([t])};var ys=Wa.select(Ka);ms.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each($(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each($(e,t,n))};var bs=Wa.map({mouseenter:"mouseover",mouseleave:"mouseout"});bs.forEach(function(e){"on"+e in Ga&&bs.remove(e)});var ws="onselectstart"in Ga?null:d(Ka.style,"userSelect"),_s=0;Wa.mouse=function(e){return Y(e,b())};var xs=/WebKit/.test(Ja.navigator.userAgent)?-1:0;Wa.touches=function(e,t){return arguments.length<2&&(t=b().touches),t?qa(t).map(function(t){var n=Y(e,t);return n.identifier=t.identifier,n}):[]},Wa.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,a){return function(){function s(){var e,n,r=t(h,m);r&&(e=r[0]-b[0],n=r[1]-b[1],d|=e|n,b=r,f({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:e,dy:n}))}function u(){t(h,m)&&(v.on(o+g,null).on(a+g,null),y(d&&Wa.event.target===p),f({type:"dragend"}))}var l,c=this,p=Wa.event.target,h=c.parentNode,f=n.of(c,arguments),d=0,m=e(),g=".drag"+(null==m?"":"-"+m),v=Wa.select(i()).on(o+g,s).on(a+g,u),y=V(),b=t(h,m);r?(l=r.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],f({type:"dragstart"})}}var n=w(e,"drag","dragstart","dragend"),r=null,i=t(m,Wa.mouse,q,"mousemove","mouseup"),o=t(W,Wa.touch,H,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},Wa.rebind(e,n,"on")};var Es=Math.PI,ks=2*Es,Cs=Es/2,As=1e-6,Ss=As*As,Ms=Es/180,Ts=180/Es,Ds=Math.SQRT2,Os=2,Ls=4;Wa.interpolateZoom=function(e,t){function n(e){var t=e*y;if(v){var n=Q(m),a=o/(Os*h)*(n*et(Ds*t+m)-Z(m));return[r+a*l,i+a*c,o*n/Q(Ds*t+m)]}return[r+e*l,i+e*c,o*Math.exp(Ds*t)]}var r=e[0],i=e[1],o=e[2],a=t[0],s=t[1],u=t[2],l=a-r,c=s-i,p=l*l+c*c,h=Math.sqrt(p),f=(u*u-o*o+Ls*p)/(2*o*Os*h),d=(u*u-o*o-Ls*p)/(2*u*Os*h),m=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(d*d+1)-d),v=g-m,y=(v||Math.log(u/o))/Ds;return n.duration=1e3*y,n},Wa.behavior.zoom=function(){function e(e){e.on(S,l).on(Ns+".zoom",p).on("dblclick.zoom",h).on(D,c)}function t(e){return[(e[0]-k.x)/k.k,(e[1]-k.y)/k.k]}function n(e){return[e[0]*k.k+k.x,e[1]*k.k+k.y]}function r(e){k.k=Math.max(A[0],Math.min(A[1],e))}function i(e,t){t=n(t),k.x+=e[0]-t[0],k.y+=e[1]-t[1]}function o(){_&&_.domain(b.range().map(function(e){return(e-k.x)/k.k}).map(b.invert)),E&&E.domain(x.range().map(function(e){return(e-k.y)/k.k}).map(x.invert))}function a(e){e({type:"zoomstart"})}function s(e){o(),e({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function u(e){e({type:"zoomend"})}function l(){function e(){c=1,i(Wa.mouse(r),h),s(l)}function n(){p.on(M,null).on(T,null),f(c&&Wa.event.target===o),u(l)}var r=this,o=Wa.event.target,l=O.of(r,arguments),c=0,p=Wa.select(Ja).on(M,e).on(T,n),h=t(Wa.mouse(r)),f=V();I.call(r),a(l)}function c(){function e(){var e=Wa.touches(f);return h=k.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=t(e))}),e}function n(){var t=Wa.event.target;Wa.select(t).on(w,o).on(_,p),x.push(t);for(var n=Wa.event.changedTouches,a=0,u=n.length;u>a;++a)m[n[a].identifier]=null;var l=e(),c=Date.now();if(1===l.length){if(500>c-v){var h=l[0],f=m[h.identifier];r(2*k.k),i(h,f),y(),s(d)}v=c}else if(l.length>1){var h=l[0],b=l[1],E=h[0]-b[0],C=h[1]-b[1];g=E*E+C*C}}function o(){for(var e,t,n,o,a=Wa.touches(f),u=0,l=a.length;l>u;++u,o=null)if(n=a[u],o=m[n.identifier]){if(t)break;e=n,t=o}if(o){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,p=g&&Math.sqrt(c/g);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],r(p*h)}v=null,i(e,t),s(d)}function p(){if(Wa.event.touches.length){for(var t=Wa.event.changedTouches,n=0,r=t.length;r>n;++n)delete m[t[n].identifier];for(var i in m)return void e()}Wa.selectAll(x).on(b,null),E.on(S,l).on(D,c),C(),u(d)}var h,f=this,d=O.of(f,arguments),m={},g=0,b=".zoom-"+Wa.event.changedTouches[0].identifier,w="touchmove"+b,_="touchend"+b,x=[],E=Wa.select(f).on(S,null).on(D,n),C=V();I.call(f),n(),a(d)}function p(){var e=O.of(this,arguments);g?clearTimeout(g):(f=t(d=m||Wa.mouse(this)),I.call(this),a(e)),g=setTimeout(function(){g=null,u(e)},50),y(),r(Math.pow(2,.002*Fs())*k.k),i(d,f),s(e)}function h(){var e=O.of(this,arguments),n=Wa.mouse(this),o=t(n),l=Math.log(k.k)/Math.LN2;a(e),r(Math.pow(2,Wa.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(n,o),s(e),u(e)}var f,d,m,g,v,b,_,x,E,k={x:0,y:0,k:1},C=[960,500],A=Ps,S="mousedown.zoom",M="mousemove.zoom",T="mouseup.zoom",D="touchstart.zoom",O=w(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=O.of(this,arguments),t=k;Cl?Wa.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},a(e)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],i=n/2,o=r/2,a=Wa.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,n/k.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),u=n/r[2];this.__chart__=k={x:i-r[0]*u,y:o-r[1]*u,k:u},s(e)}}).each("end.zoom",function(){u(e)}):(this.__chart__=k,a(e),s(e),u(e))})},e.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},o(),e):[k.x,k.y]},e.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},o(),e):k.k},e.scaleExtent=function(t){return arguments.length?(A=null==t?Ps:[+t[0],+t[1]],e):A},e.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],e):m},e.size=function(t){return arguments.length?(C=t&&[+t[0],+t[1]],e):C},e.x=function(t){return arguments.length?(_=t,b=t.copy(),k={x:0,y:0,k:1},e):_},e.y=function(t){return arguments.length?(E=t,x=t.copy(),k={x:0,y:0,k:1},e):E},Wa.rebind(e,O,"on")};var Fs,Ps=[0,1/0],Ns="onwheel"in Ga?(Fs=function(){return-Wa.event.deltaY*(Wa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ga?(Fs=function(){return Wa.event.wheelDelta},"mousewheel"):(Fs=function(){return-Wa.event.detail},"MozMousePixelScroll");Wa.color=nt,nt.prototype.toString=function(){return this.rgb()+""},Wa.hsl=rt;var Bs=rt.prototype=new nt;Bs.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new rt(this.h,this.s,this.l/e)},Bs.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new rt(this.h,this.s,e*this.l)},Bs.rgb=function(){return it(this.h,this.s,this.l)},Wa.hcl=ot;var Rs=ot.prototype=new nt;Rs.brighter=function(e){return new ot(this.h,this.c,Math.min(100,this.l+js*(arguments.length?e:1)))},Rs.darker=function(e){return new ot(this.h,this.c,Math.max(0,this.l-js*(arguments.length?e:1)))},Rs.rgb=function(){return at(this.h,this.c,this.l).rgb()},Wa.lab=st;var js=18,Is=.95047,$s=1,zs=1.08883,Us=st.prototype=new nt;Us.brighter=function(e){return new st(Math.min(100,this.l+js*(arguments.length?e:1)),this.a,this.b)},Us.darker=function(e){return new st(Math.max(0,this.l-js*(arguments.length?e:1)),this.a,this.b)},Us.rgb=function(){return ut(this.l,this.a,this.b)},Wa.rgb=ft;var Vs=ft.prototype=new nt;Vs.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new ft(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ft(i,i,i)},Vs.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ft(e*this.r,e*this.g,e*this.b)},Vs.hsl=function(){return yt(this.r,this.g,this.b)},Vs.toString=function(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)};var Ys=Wa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});
Ys.forEach(function(e,t){Ys.set(e,dt(t))}),Wa.functor=xt,Wa.xhr=kt(Et),Wa.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=Ct(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=l)return a;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.substring(t,c-s)}return e.substring(t)}for(var r,i,o={},a={},s=[],l=e.length,c=0,p=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();(!t||(h=t(h,p++)))&&s.push(h)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new h,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(a).join(e)].concat(t.map(function(t){return i.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},Wa.csv=Wa.dsv(",","text/csv"),Wa.tsv=Wa.dsv(" ","text/tab-separated-values"),Wa.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=b().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return Y(e,r)};var Ws,Hs,qs,Gs,Ks,Js=Ja[d(Ja,"requestAnimationFrame")]||function(e){setTimeout(e,17)};Wa.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,f:!1,n:null};Hs?Hs.n=o:Ws=o,Hs=o,qs||(Gs=clearTimeout(Gs),qs=1,Js(St))},Wa.timer.flush=function(){Mt(),Tt()},Wa.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Xs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ot);Wa.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=Wa.round(e,Dt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Xs[8+n/3]};var Zs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Qs=Wa.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=Wa.round(e,Dt(e,t))).toFixed(Math.max(0,Math.min(20,Dt(e*(1+1e-15),t))))}}),eu=Wa.time={},tu=Date;Pt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){nu.setUTCDate.apply(this._,arguments)},setDay:function(){nu.setUTCDay.apply(this._,arguments)},setFullYear:function(){nu.setUTCFullYear.apply(this._,arguments)},setHours:function(){nu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){nu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){nu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){nu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){nu.setUTCSeconds.apply(this._,arguments)},setTime:function(){nu.setTime.apply(this._,arguments)}};var nu=Date.prototype;eu.year=Nt(function(e){return e=eu.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),eu.years=eu.year.range,eu.years.utc=eu.year.utc.range,eu.day=Nt(function(e){var t=new tu(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),eu.days=eu.day.range,eu.days.utc=eu.day.utc.range,eu.dayOfYear=function(e){var t=eu.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=eu[e]=Nt(function(e){return(e=eu.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=eu.year(e).getDay();return Math.floor((eu.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});eu[e+"s"]=n.range,eu[e+"s"].utc=n.utc.range,eu[e+"OfYear"]=function(e){var n=eu.year(e).getDay();return Math.floor((eu.dayOfYear(e)+(n+t)%7)/7)}}),eu.week=eu.sunday,eu.weeks=eu.sunday.range,eu.weeks.utc=eu.sunday.utc.range,eu.weekOfYear=eu.sundayOfYear;var ru={"-":"",_:" ",0:"0"},iu=/^\s*\d+/,ou=/^%/;Wa.locale=function(e){return{numberFormat:Lt(e),timeFormat:Rt(e)}};var au=Wa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Wa.format=au.numberFormat,Wa.geo={},on.prototype={s:0,t:0,add:function(e){an(e,this.t,su),an(su.s,this.s,this),this.s?this.t+=su.t:this.s=su.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var su=new on;Wa.geo.stream=function(e,t){e&&uu.hasOwnProperty(e.type)?uu[e.type](e,t):sn(e,t)};var uu={Feature:function(e,t){sn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)sn(n[r].geometry,t)}},lu={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){un(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)un(n[r],t,0)},Polygon:function(e,t){ln(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ln(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)sn(n[r],t)}};Wa.geo.area=function(e){return cu=0,Wa.geo.stream(e,hu),cu};var cu,pu=new on,hu={sphere:function(){cu+=4*Es},point:m,lineStart:m,lineEnd:m,polygonStart:function(){pu.reset(),hu.lineStart=cn},polygonEnd:function(){var e=2*pu;cu+=0>e?4*Es+e:e,hu.lineStart=hu.lineEnd=hu.point=m}};Wa.geo.bounds=function(){function e(e,t){b.push(w=[c=e,h=e]),p>t&&(p=t),t>f&&(f=t)}function t(t,n){var r=pn([t*Ms,n*Ms]);if(v){var i=fn(v,r),o=[i[1],-i[0],0],a=fn(o,i);gn(a),a=vn(a);var u=t-d,l=u>0?1:-1,m=a[0]*Ts*l,g=os(u)>180;if(g^(m>l*d&&l*t>m)){var y=a[1]*Ts;y>f&&(f=y)}else if(m=(m+360)%360-180,g^(m>l*d&&l*t>m)){var y=-a[1]*Ts;p>y&&(p=y)}else p>n&&(p=n),n>f&&(f=n);g?d>t?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t):h>=c?(c>t&&(c=t),t>h&&(h=t)):t>d?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t)}else e(t,n);v=r,d=t}function n(){_.point=t}function r(){w[0]=c,w[1]=h,_.point=e,v=null}function i(e,n){if(v){var r=e-d;y+=os(r)>180?r+(r>0?360:-360):r}else m=e,g=n;hu.point(e,n),t(e,n)}function o(){hu.lineStart()}function a(){i(m,g),hu.lineEnd(),os(y)>As&&(c=-(h=180)),w[0]=c,w[1]=h,v=null}function s(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,p,h,f,d,m,g,v,y,b,w,_={point:e,lineStart:n,lineEnd:r,polygonStart:function(){_.point=i,_.lineStart=o,_.lineEnd=a,y=0,hu.polygonStart()},polygonEnd:function(){hu.polygonEnd(),_.point=e,_.lineStart=n,_.lineEnd=r,0>pu?(c=-(h=180),p=-(f=90)):y>As?f=90:-As>y&&(p=-90),w[0]=c,w[1]=h}};return function(e){f=h=-(c=p=1/0),b=[],Wa.geo.stream(e,_);var t=b.length;if(t){b.sort(u);for(var n,r=1,i=b[0],o=[i];t>r;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,d=-1/0,t=o.length-1,r=0,i=o[t];t>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>d&&(d=a,c=n[0],h=i[1])}return b=w=null,1/0===c||1/0===p?[[0/0,0/0],[0/0,0/0]]:[[c,p],[h,f]]}}(),Wa.geo.centroid=function(e){fu=du=mu=gu=vu=yu=bu=wu=_u=xu=Eu=0,Wa.geo.stream(e,ku);var t=_u,n=xu,r=Eu,i=t*t+n*n+r*r;return Ss>i&&(t=yu,n=bu,r=wu,As>du&&(t=mu,n=gu,r=vu),i=t*t+n*n+r*r,Ss>i)?[0/0,0/0]:[Math.atan2(n,t)*Ts,X(r/Math.sqrt(i))*Ts]};var fu,du,mu,gu,vu,yu,bu,wu,_u,xu,Eu,ku={sphere:m,point:bn,lineStart:_n,lineEnd:xn,polygonStart:function(){ku.lineStart=En},polygonEnd:function(){ku.lineStart=_n}},Cu=Mn(kn,Fn,Nn,[-Es,-Es/2]),Au=1e9;Wa.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(s){return arguments.length?(o=jn(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(Wa.geo.conicEqualArea=function(){return $n(zn)}).raw=zn,Wa.geo.albers=function(){return Wa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Wa.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=Wa.geo.albers(),a=Wa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Wa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var l=o.scale(),c=+t[0],p=+t[1];return n=o.translate(t).clipExtent([[c-.455*l,p-.238*l],[c+.455*l,p+.238*l]]).stream(u).point,r=a.translate([c-.307*l,p+.201*l]).clipExtent([[c-.425*l+As,p+.12*l+As],[c-.214*l-As,p+.234*l-As]]).stream(u).point,i=s.translate([c-.205*l,p+.212*l]).clipExtent([[c-.214*l+As,p+.166*l+As],[c-.115*l-As,p+.234*l-As]]).stream(u).point,e},e.scale(1070)};var Su,Mu,Tu,Du,Ou,Lu,Fu={point:m,lineStart:m,lineEnd:m,polygonStart:function(){Mu=0,Fu.lineStart=Un},polygonEnd:function(){Fu.lineStart=Fu.lineEnd=Fu.point=m,Su+=os(Mu/2)}},Pu={point:Vn,lineStart:m,lineEnd:m,polygonStart:m,polygonEnd:m},Nu={point:Hn,lineStart:qn,lineEnd:Gn,polygonStart:function(){Nu.lineStart=Kn},polygonEnd:function(){Nu.point=Hn,Nu.lineStart=qn,Nu.lineEnd=Gn}};Wa.geo.path=function(){function e(e){return e&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),Wa.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,s=4.5;return e.area=function(e){return Su=0,Wa.geo.stream(e,i(Fu)),Su},e.centroid=function(e){return mu=gu=vu=yu=bu=wu=_u=xu=Eu=0,Wa.geo.stream(e,i(Nu)),Eu?[_u/Eu,xu/Eu]:wu?[yu/wu,bu/wu]:vu?[mu/vu,gu/vu]:[0/0,0/0]},e.bounds=function(e){return Ou=Lu=-(Tu=Du=1/0),Wa.geo.stream(e,i(Pu)),[[Tu,Du],[Ou,Lu]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Zn(e):Et,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new Yn:new Jn(e),"function"!=typeof s&&o.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(o.pointRadius(+t),+t),e):s},e.projection(Wa.geo.albersUsa()).context(null)},Wa.geo.transform=function(e){return{stream:function(t){var n=new Qn(t);for(var r in e)n[r]=e[r];return n}}},Qn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Wa.geo.projection=tr,Wa.geo.projectionMutator=nr,(Wa.geo.equirectangular=function(){return tr(ir)}).raw=ir.invert=ir,Wa.geo.rotation=function(e){function t(t){return t=e(t[0]*Ms,t[1]*Ms),t[0]*=Ts,t[1]*=Ts,t}return e=ar(e[0]%360*Ms,e[1]*Ms,e.length>2?e[2]*Ms:0),t.invert=function(t){return t=e.invert(t[0]*Ms,t[1]*Ms),t[0]*=Ts,t[1]*=Ts,t},t},or.invert=ir,Wa.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=ar(-e[0]*Ms,-e[1]*Ms,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Ts,e[1]*=Ts}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=cr((t=+r)*Ms,i*Ms),e):t},e.precision=function(r){return arguments.length?(n=cr(t*Ms,(i=+r)*Ms),e):i},e.angle(90)},Wa.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ms,i=e[1]*Ms,o=t[1]*Ms,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),p=Math.cos(o);return Math.atan2(Math.sqrt((n=p*a)*n+(n=l*c-u*p*s)*n),u*c+l*p*s)},Wa.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Wa.range(Math.ceil(o/g)*g,i,g).map(h).concat(Wa.range(Math.ceil(l/v)*v,u,v).map(f)).concat(Wa.range(Math.ceil(r/d)*d,n,d).filter(function(e){return os(e%g)>As}).map(c)).concat(Wa.range(Math.ceil(s/m)*m,a,m).filter(function(e){return os(e%v)>As}).map(p))}var n,r,i,o,a,s,u,l,c,p,h,f,d=10,m=d,g=90,v=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(f(u).slice(1),h(i).reverse().slice(1),f(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],u=+t[1][1],o>i&&(t=o,o=i,i=t),l>u&&(t=l,l=u,u=t),e.precision(y)):[[o,l],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(y)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],e):[g,v]},e.minorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],e):[d,m]},e.precision=function(t){return arguments.length?(y=+t,c=hr(s,a,90),p=fr(r,n,y),h=hr(l,u,90),f=fr(o,i,y),e):y},e.majorExtent([[-180,-90+As],[180,90-As]]).minorExtent([[-180,-80-As],[180,80+As]])},Wa.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=dr,i=mr;return e.distance=function(){return Wa.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},Wa.geo.interpolate=function(e,t){return gr(e[0]*Ms,e[1]*Ms,t[0]*Ms,t[1]*Ms)},Wa.geo.length=function(e){return Bu=0,Wa.geo.stream(e,Ru),Bu};var Bu,Ru={sphere:m,point:m,lineStart:vr,lineEnd:m,polygonStart:m,polygonEnd:m},ju=yr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Wa.geo.azimuthalEqualArea=function(){return tr(ju)}).raw=ju;var Iu=yr(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},Et);(Wa.geo.azimuthalEquidistant=function(){return tr(Iu)}).raw=Iu,(Wa.geo.conicConformal=function(){return $n(br)}).raw=br,(Wa.geo.conicEquidistant=function(){return $n(wr)}).raw=wr;var $u=yr(function(e){return 1/e},Math.atan);(Wa.geo.gnomonic=function(){return tr($u)}).raw=$u,_r.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Cs]},(Wa.geo.mercator=function(){return xr(_r)}).raw=_r;var zu=yr(function(){return 1},Math.asin);(Wa.geo.orthographic=function(){return tr(zu)}).raw=zu;var Uu=yr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(Wa.geo.stereographic=function(){return tr(Uu)}).raw=Uu,Er.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Cs]},(Wa.geo.transverseMercator=function(){var e=xr(Er),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Er,Wa.geom={},Wa.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=xt(n),o=xt(r),a=e.length,s=[],u=[];for(t=0;a>t;t++)s.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(s.sort(Sr),t=0;a>t;t++)u.push([s[t][0],-s[t][1]]);var l=Ar(s),c=Ar(u),p=c[0]===l[0],h=c[c.length-1]===l[l.length-1],f=[];for(t=l.length-1;t>=0;--t)f.push(e[s[l[t]][2]]);for(t=+p;t<c.length-h;++t)f.push(e[s[c[t]][2]]);return f}var n=kr,r=Cr;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},Wa.geom.polygon=function(e){return cs(e,Vu),e};var Vu=Wa.geom.polygon.prototype=[];Vu.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Vu.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},Vu.clip=function(e){for(var t,n,r,i,o,a,s=Dr(e),u=-1,l=this.length-Dr(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,i=this[u],o=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],Mr(a,c,i)?(Mr(o,c,i)||e.push(Tr(o,a,c,i)),e.push(a)):Mr(o,c,i)&&e.push(Tr(o,a,c,i)),o=a;s&&e.push(e[0]),c=i}return e};var Yu,Wu,Hu,qu,Gu,Ku=[],Ju=[];jr.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort($r),t.length},Jr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Xr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ti(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Qr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ei(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ei(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Qr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?ti(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,Qr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ei(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Qr(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ei(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Qr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ei(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},Wa.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ni(n(e),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/As)*As,y:Math.round(a(e,t)/As)*As,i:t}})}var r=kr,i=Cr,o=r,a=i,s=Xu;return e?t(e):(t.links=function(e){return ni(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return ni(n(e)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort($r),u=-1,l=s.length,c=s[l-1].edge,p=c.l===a?c.r:c.l;++u<l;)i=c,o=p,c=s[u].edge,p=c.l===a?c.r:c.l,r<o.i&&r<p.i&&ii(a,o,p)<0&&t.push([e[r],e[o.i],e[p.i]])}),t},t.x=function(e){return arguments.length?(o=xt(r=e),t):r},t.y=function(e){return arguments.length?(a=xt(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?Xu:e,t):s===Xu?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===Xu?null:s&&s[1]},t)};var Xu=[[-1e6,-1e6],[1e6,1e6]];Wa.geom.delaunay=function(e){return Wa.geom.voronoi().triangles(e)},Wa.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,c=e.y;if(null!=u)if(os(u-n)+os(c-r)<.01)l(e,t,n,r,i,o,a,s);else{var p=e.point;e.x=e.y=e.point=null,l(e,p,u,c,i,o,a,s),l(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else l(e,t,n,r,i,o,a,s)}function l(e,t,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),p=n>=l,h=r>=c,f=(h<<1)+p;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=si()),p?i=l:s=l,h?a=c:u=c,o(e,t,n,r,i,a,s,u)}var c,p,h,f,d,m,g,v,y,b=xt(s),w=xt(u);if(null!=t)m=t,g=n,v=r,y=i;else if(v=y=-(m=g=1/0),p=[],h=[],d=e.length,a)for(f=0;d>f;++f)c=e[f],c.x<m&&(m=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),p.push(c.x),h.push(c.y);else for(f=0;d>f;++f){var _=+b(c=e[f],f),x=+w(c,f);m>_&&(m=_),g>x&&(g=x),_>v&&(v=_),x>y&&(y=x),p.push(_),h.push(x)}var E=v-m,k=y-g;E>k?y=g+E:v=m+k;var C=si();if(C.add=function(e){o(C,e,+b(e,++f),+w(e,f),m,g,v,y)},C.visit=function(e){ui(e,C,m,g,v,y)},f=-1,null==t){for(;++f<d;)o(C,e[f],p[f],h[f],m,g,v,y);--f}else e.forEach(C.add);return p=h=e=c=null,C}var a,s=kr,u=Cr;return(a=arguments.length)?(s=oi,u=ai,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(s=e,o):s},o.y=function(e){return arguments.length?(u=e,o):u},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},Wa.interpolateRgb=li,Wa.interpolateObject=ci,Wa.interpolateNumber=pi,Wa.interpolateString=hi;var Zu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qu=new RegExp(Zu.source,"g");Wa.interpolate=fi,Wa.interpolators=[function(e,t){var n=typeof t;return("string"===n?Ys.has(t)||/^(#|rgb\(|hsl\()/.test(t)?li:hi:t instanceof nt?li:Array.isArray(t)?di:"object"===n&&isNaN(t)?ci:pi)(e,t)}],Wa.interpolateArray=di;var el=function(){return Et},tl=Wa.map({linear:el,poly:_i,quad:function(){return yi},cubic:function(){return bi},sin:function(){return xi},exp:function(){return Ei},circle:function(){return ki},elastic:Ci,back:Ai,bounce:function(){return Si}}),nl=Wa.map({"in":Et,out:gi,"in-out":vi,"out-in":function(e){return vi(gi(e))}});Wa.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=tl.get(n)||el,r=nl.get(r)||Et,mi(r(n.apply(null,Ha.call(arguments,1))))},Wa.interpolateHcl=Mi,Wa.interpolateHsl=Ti,Wa.interpolateLab=Di,Wa.interpolateRound=Oi,Wa.transform=function(e){var t=Ga.createElementNS(Wa.ns.prefix.svg,"g");return(Wa.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Li(n?n.matrix:rl)})(e)},Li.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var rl={a:1,b:0,c:0,d:1,e:0,f:0};Wa.interpolateTransform=Bi,Wa.layout={},Wa.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Ii(e[n]));return t}},Wa.layout.chord=function(){function e(){var e,l,p,h,f,d={},m=[],g=Wa.range(o),v=[];for(n=[],r=[],e=0,h=-1;++h<o;){for(l=0,f=-1;++f<o;)l+=i[h][f];m.push(l),v.push(Wa.range(o)),e+=l}for(a&&g.sort(function(e,t){return a(m[e],m[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(ks-c*o)/e,l=0,h=-1;++h<o;){for(p=l,f=-1;++f<o;){var y=g[h],b=v[y][f],w=i[y][b],_=l,x=l+=w*e;d[y+"-"+b]={index:y,subindex:b,startAngle:_,endAngle:x,value:w}}r[y]={index:y,startAngle:p,endAngle:l,value:(l-p)/e},l+=c}for(h=-1;++h<o;)for(f=h-1;++f<o;){var E=d[h+"-"+f],k=d[f+"-"+h];(E.value||k.value)&&n.push(E.value<k.value?{source:k,target:E}:{source:E,target:k})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,l):i},l.padding=function(e){return arguments.length?(c=e,n=r=null,l):c},l.sortGroups=function(e){return arguments.length?(a=e,n=r=null,l):a},l.sortSubgroups=function(e){return arguments.length?(s=e,n=null,l):s},l.sortChords=function(e){return arguments.length?(u=e,n&&t(),l):u},l.chords=function(){return n||e(),n},l.groups=function(){return r||e(),r},l},Wa.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,u=o*o+a*a;if(u>s*s/g){if(d>u){var l=t.charge/u;e.px-=o*l,e.py-=a*l}return!0}if(t.point&&u&&d>u){var l=t.pointCharge/u;e.px-=o*l,e.py-=a*l}}return!t.charge}}function t(e){e.px=Wa.event.x,e.py=Wa.event.y,s.resume()}var n,r,i,o,a,s={},u=Wa.dispatch("start","tick","end"),l=[1,1],c=.9,p=il,h=ol,f=-30,d=al,m=.1,g=.64,v=[],y=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var t,n,s,p,h,d,g,b,w,_=v.length,x=y.length;for(n=0;x>n;++n)s=y[n],p=s.source,h=s.target,b=h.x-p.x,w=h.y-p.y,(d=b*b+w*w)&&(d=r*o[n]*((d=Math.sqrt(d))-i[n])/d,b*=d,w*=d,h.x-=b*(g=p.weight/(h.weight+p.weight)),h.y-=w*g,p.x+=b*(g=1-g),p.y+=w*g);if((g=r*m)&&(b=l[0]/2,w=l[1]/2,n=-1,g))for(;++n<_;)s=v[n],s.x+=(b-s.x)*g,s.y+=(w-s.y)*g;if(f)for(Hi(t=Wa.geom.quadtree(v),r,a),n=-1;++n<_;)(s=v[n]).fixed||t.visit(e(s));for(n=-1;++n<_;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.chargeDistance=function(e){return arguments.length?(d=e*e,s):Math.sqrt(d)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(u.start({type:"start",alpha:r=e}),Wa.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;l>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[t],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][e]))return o;return Math.random()*r}var t,n,r,u=v.length,c=y.length,d=l[0],m=l[1];for(t=0;u>t;++t)(r=v[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=y[t],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;u>t;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof p)for(t=0;c>t;++t)i[t]=+p.call(this,y[t],t);else for(t=0;c>t;++t)i[t]=p;if(o=[],"function"==typeof h)for(t=0;c>t;++t)o[t]=+h.call(this,y[t],t);else for(t=0;c>t;++t)o[t]=h;if(a=[],"function"==typeof f)for(t=0;u>t;++t)a[t]=+f.call(this,v[t],t);else for(t=0;u>t;++t)a[t]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Wa.behavior.drag().origin(Et).on("dragstart.force",Ui).on("drag.force",t).on("dragend.force",Vi)),arguments.length?void this.on("mouseover.force",Yi).on("mouseout.force",Wi).call(n):n},Wa.rebind(s,u,"on")};var il=20,ol=1,al=1/0;Wa.layout.hierarchy=function(){function e(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(e,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return Ki(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=Zi,n=Ji,r=Xi;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Gi(t,function(e){e.children&&(e.value=0)}),Ki(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},Wa.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=t.value?r/t.value:0;++l<a;)e(s=o[l],n,u=s.value*r,i),n+=u}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=Wa.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},qi(n,r)},Wa.layout.pie=function(){function e(o){var a=o.map(function(n,r){return+t.call(e,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/Wa.sum(a),l=Wa.range(o.length);null!=n&&l.sort(n===sl?function(e,t){return a[t]-a[e]}:function(e,t){return n(o[e],o[t])});var c=[];return l.forEach(function(e){var t;c[e]={data:o[e],value:t=a[e],startAngle:s,endAngle:s+=t*u}}),c}var t=Number,n=sl,r=0,i=ks;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var sl={};Wa.layout.stack=function(){function e(s,u){var l=s.map(function(n,r){return t.call(e,n,r)}),c=l.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),p=n.call(e,c,u);l=Wa.permute(l,p),c=Wa.permute(c,p);var h,f,d,m=r.call(e,c,u),g=l.length,v=l[0].length;for(f=0;v>f;++f)for(i.call(e,l[0][f],d=m[f],c[0][f][1]),h=1;g>h;++h)i.call(e,l[h][f],d+=c[h-1][f][1],c[h][f][1]);return s}var t=Et,n=ro,r=io,i=no,o=eo,a=to;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:ul.get(t)||ro,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:ll.get(t)||io,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var ul=Wa.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(oo),o=e.map(ao),a=Wa.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,u=0,l=[],c=[];for(t=0;r>t;++t)n=a[t],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return Wa.range(e.length).reverse()},"default":ro}),ll=Wa.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,r,i,o,a,s,u,l,c=e.length,p=e[0],h=p.length,f=[];for(f[0]=u=l=0,n=1;h>n;++n){for(t=0,i=0;c>t;++t)i+=e[t][n][1];for(t=0,o=0,s=p[n][0]-p[n-1][0];c>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}f[n]=u-=i?o/i*s:0,l>u&&(l=u)}for(n=0;h>n;++n)f[n]-=l;
return f},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:io});Wa.layout.histogram=function(){function e(e,o){for(var a,s,u=[],l=e.map(n,this),c=r.call(this,l,o),p=i.call(this,c,l,o),o=-1,h=l.length,f=p.length-1,d=t?1:1/h;++o<f;)a=u[o]=[],a.dx=p[o+1]-(a.x=p[o]),a.y=0;if(f>0)for(o=-1;++o<h;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[Wa.bisect(p,s,1,f)-1],a.y+=d,a.push(e[o]));return u}var t=!0,n=Number,r=co,i=uo;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=xt(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return lo(e,t)}:xt(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},Wa.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),s=a[0],u=i[0],l=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Ki(s,function(e){e.r=+c(e.value)}),Ki(s,go),r){var p=r*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;Ki(s,function(e){e.r+=p}),Ki(s,go),Ki(s,function(e){e.r-=p})}return bo(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var t,n=Wa.layout.hierarchy().sort(po),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},qi(e,n)},Wa.layout.tree=function(){function e(e,i){var c=a.call(this,e,i),p=c[0],h=t(p);if(Ki(h,n),h.parent.m=-h.z,Gi(h,r),l)Gi(p,o);else{var f=p,d=p,m=p;Gi(p,function(e){e.x<f.x&&(f=e),e.x>d.x&&(d=e),e.depth>m.depth&&(m=e)});var g=s(f,d)/2-f.x,v=u[0]/(d.x+s(d,f)/2+g),y=u[1]/(m.depth||1);Gi(p,function(e){e.x=(e.x+g)*v,e.y=e.depth*y})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Co(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,u=i.parent.children[0],l=i.m,c=o.m,p=a.m,h=u.m;a=Eo(a),i=xo(i),a&&i;)u=xo(u),o=Eo(o),o.a=e,r=a.z+p-i.z-l+s(a._,i._),r>0&&(ko(Ao(a,e,n),e,r),l+=r,c+=r),p+=a.m,l+=i.m,h+=u.m,c+=o.m;a&&!Eo(o)&&(o.t=a,o.m+=p-c),i&&!xo(u)&&(u.t=i,u.m+=l-h,n=e)}return n}function o(e){e.x*=u[0],e.y=e.depth*u[1]}var a=Wa.layout.hierarchy().sort(null).value(null),s=_o,u=[1,1],l=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=null==(u=t)?o:null,e):l?null:u},e.nodeSize=function(t){return arguments.length?(l=null==(u=t)?null:o,e):l?u:null},qi(e,a)},Wa.layout.cluster=function(){function e(e,o){var a,s=t.call(this,e,o),u=s[0],l=0;Ki(u,function(e){var t=e.children;t&&t.length?(e.x=Mo(t),e.y=So(t)):(e.x=a?l+=n(e,a):0,e.y=0,a=e)});var c=To(u),p=Do(u),h=c.x-n(c,p)/2,f=p.x+n(p,c)/2;return Ki(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(f-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}var t=Wa.layout.hierarchy().sort(null).value(null),n=_o,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},qi(e,t)},Wa.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var o=n.children;if(o&&o.length){var a,s,u,l=p(n),c=[],h=o.slice(),d=1/0,m="slice"===f?l.dx:"dice"===f?l.dy:"slice-dice"===f?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(h,l.dx*l.dy/n.value),c.area=0;(u=h.length)>0;)c.push(a=h[u-1]),c.area+=a.area,"squarify"!==f||(s=r(c,m))<=d?(h.pop(),d=s):(c.area-=c.pop().area,i(c,m,l,!1),m=Math.min(l.dx,l.dy),c.length=c.area=0,d=1/0);c.length&&(i(c,m,l,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=p(t),s=r.slice(),u=[];for(e(s,a.dx*a.dy/t.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*d/r,r/(t*o*d)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=e[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=e[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),h&&(a=i),i}var a,s=Wa.layout.hierarchy(),u=Math.round,l=[1,1],c=null,p=Oo,h=!1,f="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(l=e,o):l},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Oo(t):Lo(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Lo(t,e)}if(!arguments.length)return c;var r;return p=null==(c=e)?Oo:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(u=e?Math.round:Number,o):u!=Number},o.sticky=function(e){return arguments.length?(h=e,a=null,o):h},o.ratio=function(e){return arguments.length?(d=e,o):d},o.mode=function(e){return arguments.length?(f=e+"",o):f},qi(o,s)},Wa.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=Wa.random.normal.apply(Wa,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=Wa.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},Wa.scale={};var cl={floor:Et,ceil:Et};Wa.scale.linear=function(){return Io([0,1],[0,1],fi,!1)};var pl={s:1,g:1,p:1,r:1,e:1};Wa.scale.log=function(){return qo(Wa.scale.linear().domain([0,1]),10,!0,[1,10])};var hl=Wa.format(".0e"),fl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};Wa.scale.pow=function(){return Go(Wa.scale.linear(),1,[0,1])},Wa.scale.sqrt=function(){return Wa.scale.pow().exponent(.5)},Wa.scale.ordinal=function(){return Jo([],{t:"range",a:[[]]})},Wa.scale.category10=function(){return Wa.scale.ordinal().range(dl)},Wa.scale.category20=function(){return Wa.scale.ordinal().range(ml)},Wa.scale.category20b=function(){return Wa.scale.ordinal().range(gl)},Wa.scale.category20c=function(){return Wa.scale.ordinal().range(vl)};var dl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(mt),ml=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(mt),gl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(mt),vl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(mt);Wa.scale.quantile=function(){return Xo([],[])},Wa.scale.quantize=function(){return Zo(0,1,[0,1])},Wa.scale.threshold=function(){return Qo([.5],[0,1])},Wa.scale.identity=function(){return ea([0,1])},Wa.svg={},Wa.svg.arc=function(){function e(){var e=t.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+yl,s=i.apply(this,arguments)+yl,u=(a>s&&(u=a,a=s,s=u),s-a),l=Es>u?"0":"1",c=Math.cos(a),p=Math.sin(a),h=Math.cos(s),f=Math.sin(s);return u>=bl?e?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":e?"M"+o*c+","+o*p+"A"+o+","+o+" 0 "+l+",1 "+o*h+","+o*f+"L"+e*h+","+e*f+"A"+e+","+e+" 0 "+l+",0 "+e*c+","+e*p+"Z":"M"+o*c+","+o*p+"A"+o+","+o+" 0 "+l+",1 "+o*h+","+o*f+"L0,0Z"}var t=ta,n=na,r=ra,i=ia;return e.innerRadius=function(n){return arguments.length?(t=xt(n),e):t},e.outerRadius=function(t){return arguments.length?(n=xt(t),e):n},e.startAngle=function(t){return arguments.length?(r=xt(t),e):r},e.endAngle=function(t){return arguments.length?(i=xt(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+yl;return[Math.cos(o)*e,Math.sin(o)*e]},e};var yl=-Cs,bl=ks-As;Wa.svg.line=function(){return oa(Et)};var wl=Wa.map({linear:aa,"linear-closed":sa,step:ua,"step-before":la,"step-after":ca,basis:ga,"basis-open":va,"basis-closed":ya,bundle:ba,cardinal:fa,"cardinal-open":pa,"cardinal-closed":ha,monotone:Ca});wl.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var _l=[0,2/3,1/3,0],xl=[0,1/3,2/3,0],El=[0,1/6,2/3,1/6];Wa.svg.line.radial=function(){var e=oa(Aa);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},la.reverse=ca,ca.reverse=la,Wa.svg.area=function(){return Sa(Et)},Wa.svg.area.radial=function(){var e=Sa(Aa);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Wa.svg.chord=function(){function e(e,s){var u=t(this,o,e,s),l=t(this,a,e,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=s.call(e,i,r),a=u.call(e,i,r)+yl,c=l.call(e,i,r)+yl;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Es)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=dr,a=mr,s=Ma,u=ra,l=ia;return e.radius=function(t){return arguments.length?(s=xt(t),e):s},e.source=function(t){return arguments.length?(o=xt(t),e):o},e.target=function(t){return arguments.length?(a=xt(t),e):a},e.startAngle=function(t){return arguments.length?(u=xt(t),e):u},e.endAngle=function(t){return arguments.length?(l=xt(t),e):l},e},Wa.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=dr,n=mr,r=Ta;return e.source=function(n){return arguments.length?(t=xt(n),e):t},e.target=function(t){return arguments.length?(n=xt(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},Wa.svg.diagonal.radial=function(){var e=Wa.svg.diagonal(),t=Ta,n=e.projection;return e.projection=function(e){return arguments.length?n(Da(t=e)):t},e},Wa.svg.symbol=function(){function e(e,r){return(kl.get(t.call(this,e,r))||Fa)(n.call(this,e,r))}var t=La,n=Oa;return e.type=function(n){return arguments.length?(t=xt(n),e):t},e.size=function(t){return arguments.length?(n=xt(t),e):n},e};var kl=Wa.map({circle:Fa,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Ml)),n=t*Ml;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Sl),n=t*Sl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Sl),n=t*Sl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});Wa.svg.symbolTypes=kl.keys();var Cl,Al,Sl=Math.sqrt(3),Ml=Math.tan(30*Ms),Tl=[],Dl=0;Tl.call=ms.call,Tl.empty=ms.empty,Tl.node=ms.node,Tl.size=ms.size,Wa.transition=function(e){return arguments.length?Cl?e.transition():e:ys.transition()},Wa.transition.prototype=Tl,Tl.select=function(e){var t,n,r,i=this.id,o=[];e=x(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)(r=u[l])&&(n=e.call(r,r.__data__,l,a))?("__data__"in r&&(n.__data__=r.__data__),Ra(n,l,i,r.__transition__[i]),t.push(n)):t.push(null)}return Pa(o,i)},Tl.selectAll=function(e){var t,n,r,i,o,a=this.id,s=[];e=E(e);for(var u=-1,l=this.length;++u<l;)for(var c=this[u],p=-1,h=c.length;++p<h;)if(r=c[p]){o=r.__transition__[a],n=e.call(r,r.__data__,p,u),s.push(t=[]);for(var f=-1,d=n.length;++f<d;)(i=n[f])&&Ra(i,f,a,o),t.push(i)}return Pa(s,a)},Tl.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=P(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return Pa(i,this.id)},Tl.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):B(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})},Tl.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Bi:fi,s=Wa.ns.qualify(e);return Na(this,"attr."+e,t,s.local?o:i)},Tl.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=Wa.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Tl.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=Ja.getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=fi(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Na(this,"style."+e,t,i)},Tl.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,Ja.getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Tl.text=function(e){return Na(this,"text",e,Ba)},Tl.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},Tl.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=Wa.ease.apply(Wa,arguments)),B(this,function(n){n.__transition__[t].ease=e}))},Tl.delay=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].delay:B(this,"function"==typeof e?function(n,r,i){n.__transition__[t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},Tl.duration=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].duration:B(this,"function"==typeof e?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},Tl.each=function(e,t){var n=this.id;if(arguments.length<2){var r=Al,i=Cl;Cl=n,B(this,function(t,r,i){Al=t.__transition__[n],e.call(t,t.__data__,r,i)}),Al=r,Cl=i}else B(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Wa.dispatch("start","end"))).on(e,t)});return this},Tl.transition=function(){for(var e,t,n,r,i=this.id,o=++Dl,a=[],s=0,u=this.length;u>s;s++){a.push(e=[]);for(var t=this[s],l=0,c=t.length;c>l;l++)(n=t[l])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,Ra(n,l,o,r)),e.push(n)}return Pa(a,o)},Wa.svg.axis=function(){function e(e){e.each(function(){var e,l=Wa.select(this),c=this.__chart__||n,p=this.__chart__=n.copy(),h=null==u?p.ticks?p.ticks.apply(p,s):p.domain():u,f=null==t?p.tickFormat?p.tickFormat.apply(p,s):Et:t,d=l.selectAll(".tick").data(h,p),m=d.enter().insert("g",".domain").attr("class","tick").style("opacity",As),g=Wa.transition(d.exit()).style("opacity",As).remove(),v=Wa.transition(d.order()).style("opacity",1),y=Po(p),b=l.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Wa.transition(b));m.append("line"),m.append("text");var _=m.select("line"),x=v.select("line"),E=d.select("text").text(f),k=m.select("text"),C=v.select("text");switch(r){case"bottom":e=ja,_.attr("y2",i),k.attr("y",Math.max(i,0)+a),x.attr("x2",0).attr("y2",i),C.attr("x",0).attr("y",Math.max(i,0)+a),E.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+o+"V0H"+y[1]+"V"+o);break;case"top":e=ja,_.attr("y2",-i),k.attr("y",-(Math.max(i,0)+a)),x.attr("x2",0).attr("y2",-i),C.attr("x",0).attr("y",-(Math.max(i,0)+a)),E.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+-o+"V0H"+y[1]+"V"+-o);break;case"left":e=Ia,_.attr("x2",-i),k.attr("x",-(Math.max(i,0)+a)),x.attr("x2",-i).attr("y2",0),C.attr("x",-(Math.max(i,0)+a)).attr("y",0),E.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+-o+","+y[0]+"H0V"+y[1]+"H"+-o);break;case"right":e=Ia,_.attr("x2",i),k.attr("x",Math.max(i,0)+a),x.attr("x2",i).attr("y2",0),C.attr("x",Math.max(i,0)+a).attr("y",0),E.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+o+","+y[0]+"H0V"+y[1]+"H"+o)}if(p.rangeBand){var A=p,S=A.rangeBand()/2;c=p=function(e){return A(e)+S}}else c.rangeBand?c=p:g.call(e,p);m.call(e,c),v.call(e,p)})}var t,n=Wa.scale.linear(),r=Ol,i=6,o=6,a=3,s=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Ll?t+"":Ol,e):r},e.ticks=function(){return arguments.length?(s=arguments,e):s},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Ol="bottom",Ll={top:1,right:1,bottom:1,left:1};Wa.svg.brush=function(){function e(o){o.each(function(){var o=Wa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(d,Et);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Fl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var c,p=Wa.transition(o),h=Wa.transition(a);u&&(c=Po(u),h.attr("x",c[0]).attr("width",c[1]-c[0]),n(p)),l&&(c=Po(l),h.attr("y",c[0]).attr("height",c[1]-c[0]),r(p)),t(p)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)]+","+p[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",c[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(e){e.select(".extent").attr("y",p[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function i(){function i(){32==Wa.event.keyCode&&(M||(b=null,D[0]-=c[1],D[1]-=p[1],M=2),y())}function d(){32==Wa.event.keyCode&&2==M&&(D[0]+=c[1],D[1]+=p[1],M=0,y())}function m(){var e=Wa.mouse(_),i=!1;w&&(e[0]+=w[0],e[1]+=w[1]),M||(Wa.event.altKey?(b||(b=[(c[0]+c[1])/2,(p[0]+p[1])/2]),D[0]=c[+(e[0]<b[0])],D[1]=p[+(e[1]<b[1])]):b=null),A&&g(e,u,0)&&(n(k),i=!0),S&&g(e,l,1)&&(r(k),i=!0),i&&(t(k),E({type:"brush",mode:M?"move":"resize"}))}function g(e,t,n){var r,i,s=Po(t),u=s[0],l=s[1],d=D[n],m=n?p:c,g=m[1]-m[0];return M&&(u-=d,l-=g+d),r=(n?f:h)?Math.max(u,Math.min(l,e[n])):e[n],M?i=(r+=d)+g:(b&&(d=Math.max(u,Math.min(l,2*b[n]-r))),r>d?(i=r,r=d):i=d),m[0]!=r||m[1]!=i?(n?a=null:o=null,m[0]=r,m[1]=i,!0):void 0}function v(){m(),k.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Wa.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),E({type:"brushend"})}var b,w,_=this,x=Wa.select(Wa.event.target),E=s.of(_,arguments),k=Wa.select(_),C=x.datum(),A=!/^(n|s)$/.test(C)&&u,S=!/^(e|w)$/.test(C)&&l,M=x.classed("extent"),T=V(),D=Wa.mouse(_),O=Wa.select(Ja).on("keydown.brush",i).on("keyup.brush",d);if(Wa.event.changedTouches?O.on("touchmove.brush",m).on("touchend.brush",v):O.on("mousemove.brush",m).on("mouseup.brush",v),k.interrupt().selectAll("*").interrupt(),M)D[0]=c[0]-D[0],D[1]=p[0]-D[1];else if(C){var L=+/w$/.test(C),F=+/^n/.test(C);w=[c[1-L]-D[0],p[1-F]-D[1]],D[0]=c[L],D[1]=p[F]}else Wa.event.altKey&&(b=D.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),Wa.select("body").style("cursor",x.style("cursor")),E({type:"brushstart"}),m()}var o,a,s=w(e,"brushstart","brush","brushend"),u=null,l=null,c=[0,0],p=[0,0],h=!0,f=!0,d=Pl[0];return e.event=function(e){e.each(function(){var e=s.of(this,arguments),t={x:c,y:p,i:o,j:a},n=this.__chart__||t;this.__chart__=t,Cl?Wa.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,c=n.x,p=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=di(c,t.x),r=di(p,t.y);return o=a=null,function(i){c=t.x=n(i),p=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(u=t,d=Pl[!u<<1|!l],e):u},e.y=function(t){return arguments.length?(l=t,d=Pl[!u<<1|!l],e):l},e.clamp=function(t){return arguments.length?(u&&l?(h=!!t[0],f=!!t[1]):u?h=!!t:l&&(f=!!t),e):u&&l?[h,f]:u?h:l?f:null},e.extent=function(t){var n,r,i,s,h;return arguments.length?(u&&(n=t[0],r=t[1],l&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(h=n,n=r,r=h),(n!=c[0]||r!=c[1])&&(c=[n,r])),l&&(i=t[0],s=t[1],u&&(i=i[1],s=s[1]),a=[i,s],l.invert&&(i=l(i),s=l(s)),i>s&&(h=i,i=s,s=h),(i!=p[0]||s!=p[1])&&(p=[i,s])),e):(u&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(h=n,n=r,r=h))),l&&(a?(i=a[0],s=a[1]):(i=p[0],s=p[1],l.invert&&(i=l.invert(i),s=l.invert(s)),i>s&&(h=i,i=s,s=h))),u&&l?[[n,i],[r,s]]:u?[n,r]:l&&[i,s])},e.clear=function(){return e.empty()||(c=[0,0],p=[0,0],o=a=null),e},e.empty=function(){return!!u&&c[0]==c[1]||!!l&&p[0]==p[1]},Wa.rebind(e,s,"on")};var Fl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Nl=eu.format=au.timeFormat,Bl=Nl.utc,Rl=Bl("%Y-%m-%dT%H:%M:%S.%LZ");Nl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?$a:Rl,$a.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},$a.toString=Rl.toString,eu.second=Nt(function(e){return new tu(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),eu.seconds=eu.second.range,eu.seconds.utc=eu.second.utc.range,eu.minute=Nt(function(e){return new tu(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),eu.minutes=eu.minute.range,eu.minutes.utc=eu.minute.utc.range,eu.hour=Nt(function(e){var t=e.getTimezoneOffset()/60;return new tu(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),eu.hours=eu.hour.range,eu.hours.utc=eu.hour.utc.range,eu.month=Nt(function(e){return e=eu.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),eu.months=eu.month.range,eu.months.utc=eu.month.utc.range;var jl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Il=[[eu.second,1],[eu.second,5],[eu.second,15],[eu.second,30],[eu.minute,1],[eu.minute,5],[eu.minute,15],[eu.minute,30],[eu.hour,1],[eu.hour,3],[eu.hour,6],[eu.hour,12],[eu.day,1],[eu.day,2],[eu.week,1],[eu.month,1],[eu.month,3],[eu.year,1]],$l=Nl.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",kn]]),zl={range:function(e,t,n){return Wa.range(Math.ceil(e/n)*n,+t,n).map(Ua)},floor:Et,ceil:Et};Il.year=eu.year,eu.scale=function(){return za(Wa.scale.linear(),Il,$l)};var Ul=Il.map(function(e){return[e[0].utc,e[1]]}),Vl=Bl.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",kn]]);Ul.year=eu.year.utc,eu.scale.utc=function(){return za(Wa.scale.linear(),Ul,Vl)},Wa.text=kt(function(e){return e.responseText}),Wa.json=function(e,t){return Ct(e,"application/json",Va,t)},Wa.html=function(e,t){return Ct(e,"text/html",Ya,t)},Wa.xml=kt(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define(Wa):"object"==typeof module&&module.exports&&(module.exports=Wa),this.d3=Wa}(),Delegator.prototype.method=function(e,t){var n=this.proto,r=this.target;return this.methods.push(e),n[e]=function(){var n=this[r][e].apply(this[r],arguments);return t?this:n},this},Delegator.prototype.access=function(e){return this.getter(e).setter(e)},Delegator.prototype.getter=function(e){var t=this.proto,n=this.target;return this.getters.push(e),t.__defineGetter__(e,function(){return this[n][e]}),this},Delegator.prototype.setter=function(e){var t=this.proto,n=this.target;return this.setters.push(e),t.__defineSetter__(e,function(t){return this[n][e]=t}),this},window.Gravatar={defaults:{secure:!1,placeholder:null,size:null},get:function(e,t){var n,r,i,o=[];return e||(e=""),t=_.extend({},Gravatar.defaults,t),t.secure?(n="https",r="secure.gravatar.com"):(n="http",r="gravatar.com"),i=/@/.test(e)?md5(e):e,t.placeholder&&o.push("default="+t.placeholder),t.size&&o.push("size="+t.size),o=0==o.length?"":"?"+o.join("&"),n+"://"+r+"/avatar/"+i+o}},function(e,t,n){"use strict";function r(e,t,n){var r,i=e.runtimeStyle&&e.runtimeStyle[t],o=e.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(r=o.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":n||0,n=o.pixelLeft+"px",o.left=r,i&&(e.runtimeStyle.left=i)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function i(e){return parseInt(e,10)}function o(e,t,i,o){if(e=(e||"").split(","),e=e[o||0]||e[0]||"auto",e=p.Util.trimText(e).split(" "),"backgroundSize"!==i||e[0]&&!e[0].match(/cover|contain|auto/)){if(e[0]=-1===e[0].indexOf("%")?r(t,i+"X",e[0]):e[0],e[1]===n){if("backgroundSize"===i)return e[1]="auto",e;e[1]=e[0]}e[1]=-1===e[1].indexOf("%")?r(t,i+"Y",e[1]):e[1]}else;return e}function a(e,t,n,r,i,o){var a,s,u,l,c=p.Util.getCSS(t,e,i);if(1===c.length&&(l=c[0],c=[],c[0]=l,c[1]=l),-1!==c[0].toString().indexOf("%"))u=parseFloat(c[0])/100,s=n.width*u,"backgroundSize"!==e&&(s-=(o||r).width*u);else if("backgroundSize"===e)if("auto"===c[0])s=r.width;else if(/contain|cover/.test(c[0])){var h=p.Util.resizeBounds(r.width,r.height,n.width,n.height,c[0]);s=h.width,a=h.height}else s=parseInt(c[0],10);else s=parseInt(c[0],10);return"auto"===c[1]?a=s/r.width*r.height:-1!==c[1].toString().indexOf("%")?(u=parseFloat(c[1])/100,a=n.height*u,"backgroundSize"!==e&&(a-=(o||r).height*u)):a=parseInt(c[1],10),[s,a]}function s(e,t){var n=[];return{storage:n,width:e,height:t,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var e=[];return n.push({type:"function",name:"drawShape",arguments:e}),{moveTo:function(){e.push({name:"moveTo",arguments:arguments})},lineTo:function(){e.push({name:"lineTo",arguments:arguments})},arcTo:function(){e.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){e.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){e.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(e,t){return n.push({type:"variable",name:e,arguments:t}),t}}}function u(e){return{zindex:e,children:[]}}var l,c,p={};p.Util={},p.Util.log=function(t){p.logging&&e.console&&e.console.log&&e.console.log(t)},p.Util.trimText=function(e){return function(t){return e?e.apply(t):((t||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),p.Util.asFloat=function(e){return parseFloat(e)},function(){var e=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,t=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;p.Util.parseTextShadows=function(n){if(!n||"none"===n)return[];for(var r=n.match(e),i=[],o=0;r&&o<r.length;o++){var a=r[o].match(t);i.push({color:a[0],offsetX:a[1]?a[1].replace("px",""):0,offsetY:a[2]?a[2].replace("px",""):0,blur:a[3]?a[3].replace("px",""):0})}return i}}(),p.Util.parseBackgroundImage=function(e){var t,n,r,i,o,a,s,u,l=" \r\n	",c=[],p=0,h=0,f=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&u.push(n),"-"===t.substr(0,1)&&(i=t.indexOf("-",1)+1)>0&&(r=t.substr(0,i),t=t.substr(i)),c.push({prefix:r,method:t.toLowerCase(),value:o,args:u})),u=[],t=r=n=o=""};f();for(var d=0,m=e.length;m>d;d++)if(a=e[d],!(0===p&&l.indexOf(a)>-1)){switch(a){case'"':s?s===a&&(s=null):s=a;break;case"(":if(s)break;if(0===p){p=1,o+=a;continue}h++;break;case")":if(s)break;if(1===p){if(0===h){p=0,o+=a,f();continue}h--}break;case",":if(s)break;if(0===p){f();continue}if(1===p&&0===h&&!t.match(/^url$/i)){u.push(n),n="",o+=a;continue}}o+=a,0===p?t+=a:n+=a}return f(),c},p.Util.Bounds=function(e){var t,n={};return e.getBoundingClientRect&&(t=e.getBoundingClientRect(),n.top=t.top,n.bottom=t.bottom||t.top+t.height,n.left=t.left,n.width=e.offsetWidth,n.height=e.offsetHeight),n},p.Util.OffsetBounds=function(e){var t=e.offsetParent?p.Util.OffsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},p.Util.getCSS=function(e,n,r){l!==e&&(c=t.defaultView.getComputedStyle(e,null));var a=c[n];if(/^background(Size|Position)$/.test(n))return o(a,e,n,r);if(/border(Top|Bottom)(Left|Right)Radius/.test(n)){var s=a.split(" ");return s.length<=1&&(s[1]=s[0]),s.map(i)}return a},p.Util.resizeBounds=function(e,t,n,r,i){var o,a,s=n/r,u=e/t;return i&&"auto"!==i?u>s^"contain"===i?(a=r,o=r*u):(o=n,a=n/u):(o=n,a=r),{width:o,height:a}},p.Util.BackgroundPosition=function(e,t,n,r,i){var o=a("backgroundPosition",e,t,n,r,i);return{left:o[0],top:o[1]}},p.Util.BackgroundSize=function(e,t,n,r){var i=a("backgroundSize",e,t,n,r);return{width:i[0],height:i[1]}},p.Util.Extend=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);
return t},p.Util.Children=function(e){var t;try{t=e.nodeName&&"IFRAME"===e.nodeName.toUpperCase()?e.contentDocument||e.contentWindow.document:function(e){var t=[];return null!==e&&!function(e,t){var r=e.length,i=0;if("number"==typeof t.length)for(var o=t.length;o>i;i++)e[r++]=t[i];else for(;t[i]!==n;)e[r++]=t[i++];return e.length=r,e}(t,e),t}(e.childNodes)}catch(r){p.Util.log("html2canvas.Util.Children failed with exception: "+r.message),t=[]}return t},p.Util.isTransparent=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},p.Util.Font=function(){var e={};return function(t,r,i){if(e[t+"-"+r]!==n)return e[t+"-"+r];var o,a,s,u=i.createElement("div"),l=i.createElement("img"),c=i.createElement("span"),p="Hidden Text";return u.style.visibility="hidden",u.style.fontFamily=t,u.style.fontSize=r,u.style.margin=0,u.style.padding=0,i.body.appendChild(u),l.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",l.width=1,l.height=1,l.style.margin=0,l.style.padding=0,l.style.verticalAlign="baseline",c.style.fontFamily=t,c.style.fontSize=r,c.style.margin=0,c.style.padding=0,c.appendChild(i.createTextNode(p)),u.appendChild(c),u.appendChild(l),o=l.offsetTop-c.offsetTop+1,u.removeChild(c),u.appendChild(i.createTextNode(p)),u.style.lineHeight="normal",l.style.verticalAlign="super",a=l.offsetTop-u.offsetTop+1,s={baseline:o,lineWidth:1,middle:a},e[t+"-"+r]=s,i.body.removeChild(u),s}}(),function(){function e(e){return function(t){try{e.addColorStop(t.stop,t.color)}catch(r){n.log(["failed to add color stop: ",r,"; tried to add: ",t])}}}var n=p.Util,r={};p.Generate=r;var i=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];r.parseGradient=function(e,t){var n,r,o,a,s,u,l,c,p,h,f,d,m=i.length;for(r=0;m>r&&!(o=e.match(i[r]));r+=1);if(o)switch(o[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},s=o[2].match(/\w+/g))for(u=s.length,r=0;u>r;r+=1)switch(s[r]){case"top":n.y0=0,n.y1=t.height;break;case"right":n.x0=t.width,n.x1=0;break;case"bottom":n.y0=t.height,n.y1=0;break;case"left":n.x0=0,n.x1=t.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=t.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=t.height/2),s=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(u=s.length,l=1/Math.max(u-1,1),r=0;u>r;r+=1)c=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),c[2]?(a=parseFloat(c[2]),a/="%"===c[3]?100:t.width):a=r*l,n.colorStops.push({color:c[1],stop:a});break;case"-webkit-gradient":if(n={type:"radial"===o[2]?"circle":o[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=o[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.x0=s[1]*t.width/100,n.y0=s[2]*t.height/100,n.x1=s[3]*t.width/100,n.y1=s[4]*t.height/100),s=o[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(u=s.length,r=0;u>r;r+=1)c=s[r].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),a=parseFloat(c[2]),"from"===c[1]&&(a=0),"to"===c[1]&&(a=1),n.colorStops.push({color:c[3],stop:a});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.x0=s[1]*t.width/100,n.y0=s[2]*t.height/100,n.x1=t.width-n.x0,n.y1=t.height-n.y0),s=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(u=s.length,l=1/Math.max(u-1,1),r=0;u>r;r+=1)c=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),c[2]?(a=parseFloat(c[2]),c[3]&&(a/=100)):a=r*l,n.colorStops.push({color:c[1],stop:a});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:t.width,y1:t.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},s=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.cx=s[1]*t.width/100,n.cy=s[2]*t.height/100),s=o[3].match(/\w+/),c=o[4].match(/[a-z\-]*/),s&&c)switch(c[0]){case"farthest-corner":case"cover":case"":p=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),d=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(p,h,f,d);break;case"closest-corner":p=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),d=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(p,h,f,d);break;case"farthest-side":"circle"===s[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===s[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(s=o[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(u=s.length,l=1/Math.max(u-1,1),r=0;u>r;r+=1)c=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),c[2]?(a=parseFloat(c[2]),a/="%"===c[3]?100:t.width):a=r*l,n.colorStops.push({color:c[1],stop:a})}return n},r.Gradient=function(n,r){if(0!==r.width&&0!==r.height){var i,o,a=t.createElement("canvas"),s=a.getContext("2d");if(a.width=r.width,a.height=r.height,i=p.Generate.parseGradient(n,r))switch(i.type){case"linear":o=s.createLinearGradient(i.x0,i.y0,i.x1,i.y1),i.colorStops.forEach(e(o)),s.fillStyle=o,s.fillRect(0,0,r.width,r.height);break;case"circle":o=s.createRadialGradient(i.cx,i.cy,0,i.cx,i.cy,i.rx),i.colorStops.forEach(e(o)),s.fillStyle=o,s.fillRect(0,0,r.width,r.height);break;case"ellipse":var u=t.createElement("canvas"),l=u.getContext("2d"),c=Math.max(i.rx,i.ry),h=2*c;u.width=u.height=h,o=l.createRadialGradient(i.rx,i.ry,0,i.rx,i.ry,c),i.colorStops.forEach(e(o)),l.fillStyle=o,l.fillRect(0,0,h,h),s.fillStyle=i.colorStops[i.colorStops.length-1].color,s.fillRect(0,0,a.width,a.height),s.drawImage(u,i.cx-i.rx,i.cy-i.ry,2*i.rx,2*i.ry)}return a}},r.ListAlpha=function(e){var t,n="";do t=e%26,n=String.fromCharCode(t+64)+n,e/=26;while(26*e>26);return n},r.ListRoman=function(e){var t,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],r=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],i="",o=n.length;if(0>=e||e>=4e3)return e;for(t=0;o>t;t+=1)for(;e>=r[t];)e-=r[t],i+=n[t];return i}}(),p.Parse=function(r,i){function o(){return Math.max(Math.max(ct.body.scrollWidth,ct.documentElement.scrollWidth),Math.max(ct.body.offsetWidth,ct.documentElement.offsetWidth),Math.max(ct.body.clientWidth,ct.documentElement.clientWidth))}function a(){return Math.max(Math.max(ct.body.scrollHeight,ct.documentElement.scrollHeight),Math.max(ct.body.offsetHeight,ct.documentElement.offsetHeight),Math.max(ct.body.clientHeight,ct.documentElement.clientHeight))}function l(e,t){var n=parseInt(mt(e,t),10);return isNaN(n)?0:n}function c(e,t,n,r,i,o){"transparent"!==o&&(e.setVariable("fillStyle",o),e.fillRect(t,n,r,i),lt+=1)}function h(e,t,n){return e.length>0?t+n.toUpperCase():void 0}function f(e,t){switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,h);case"uppercase":return e.toUpperCase();default:return e}}function d(e){return/^(normal|none|0px)$/.test(e)}function m(e,t,n,r){null!==e&&pt.trimText(e).length>0&&(r.fillText(e,t,n),lt+=1)}function g(e,t,n,r){var i=!1,o=mt(t,"fontWeight"),a=mt(t,"fontFamily"),s=mt(t,"fontSize"),u=pt.parseTextShadows(mt(t,"textShadow"));switch(parseInt(o,10)){case 401:o="bold";break;case 400:o="normal"}return e.setVariable("fillStyle",r),e.setVariable("font",[mt(t,"fontStyle"),mt(t,"fontVariant"),o,s,a].join(" ")),e.setVariable("textAlign",i?"right":"left"),u.length&&(e.setVariable("shadowColor",u[0].color),e.setVariable("shadowOffsetX",u[0].offsetX),e.setVariable("shadowOffsetY",u[0].offsetY),e.setVariable("shadowBlur",u[0].blur)),"none"!==n?pt.Font(a,s,ct):void 0}function v(e,t,n,r,i){switch(t){case"underline":c(e,n.left,Math.round(n.top+r.baseline+r.lineWidth),n.width,1,i);break;case"overline":c(e,n.left,Math.round(n.top),n.width,1,i);break;case"line-through":c(e,n.left,Math.ceil(n.top+r.middle+r.lineWidth),n.width,1,i)}}function y(e,t,n,r,i){var o;if(ht.rangeBounds&&!i)("none"!==n||0!==pt.trimText(t).length)&&(o=b(t,e.node,e.textOffset)),e.textOffset+=t.length;else if(e.node&&"string"==typeof e.node.nodeValue){var a=r?e.node.splitText(t.length):null;o=w(e.node,i),e.node=a}return o}function b(e,t,n){var r=ct.createRange();return r.setStart(t,n),r.setEnd(t,n+e.length),r.getBoundingClientRect()}function w(e,t){var n=e.parentNode,r=ct.createElement("wrapper"),i=e.cloneNode(!0);r.appendChild(e.cloneNode(!0)),n.replaceChild(r,e);var o=t?pt.OffsetBounds(r):pt.Bounds(r);return n.replaceChild(i,r),o}function _(e,t,n){var r,o,a=n.ctx,s=mt(e,"color"),u=mt(e,"textDecoration"),l=mt(e,"textAlign"),c={node:t,textOffset:0};pt.trimText(t.nodeValue).length>0&&(t.nodeValue=f(t.nodeValue,mt(e,"textTransform")),l=l.replace(["-webkit-auto"],["auto"]),o=t.nodeValue.split(!i.letterRendering&&/^(left|right|justify|auto)$/.test(l)&&d(mt(e,"letterSpacing"))?/(\b| )/:""),r=g(a,e,u,s),i.chinese&&o.forEach(function(e,t){/.*[\u4E00-\u9FA5].*$/.test(e)&&(e=e.split(""),e.unshift(t,1),o.splice.apply(o,e))}),o.forEach(function(e,t){var i=y(c,e,u,t<o.length-1,n.transform.matrix);i&&(m(e,i.left,i.bottom,a),v(a,u,i,r,s))}))}function x(e,t){var n,r,i=ct.createElement("boundelement");return i.style.display="inline",n=e.style.listStyleType,e.style.listStyleType="none",i.appendChild(ct.createTextNode(t)),e.insertBefore(i,e.firstChild),r=pt.Bounds(i),e.removeChild(i),e.style.listStyleType=n,r}function E(e){var t=-1,n=1,r=e.parentNode.childNodes;if(e.parentNode){for(;r[++t]!==e;)1===r[t].nodeType&&n++;return n}return-1}function k(e,t){var n,r=E(e);switch(t){case"decimal":n=r;break;case"decimal-leading-zero":n=1===r.toString().length?r="0"+r.toString():r.toString();break;case"upper-roman":n=p.Generate.ListRoman(r);break;case"lower-roman":n=p.Generate.ListRoman(r).toLowerCase();break;case"lower-alpha":n=p.Generate.ListAlpha(r).toLowerCase();break;case"upper-alpha":n=p.Generate.ListAlpha(r)}return n+". "}function C(e,t,n){var r,i,o,a=t.ctx,s=mt(e,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(s)){if(i=k(e,s),o=x(e,i),g(a,e,"none",mt(e,"color")),"inside"!==mt(e,"listStylePosition"))return;a.setVariable("textAlign","left"),r=n.left,m(i,r,o.bottom,a)}}function A(e){var t=r[e];return t&&t.succeeded===!0?t.img:!1}function S(e,t){var n=Math.max(e.left,t.left),r=Math.max(e.top,t.top),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height);return{left:n,top:r,width:i-n,height:o-r}}function M(e,t,n){var r,i="static"!==t.cssPosition,o=i?mt(e,"zIndex"):"auto",a=mt(e,"opacity"),s="none"!==mt(e,"cssFloat");t.zIndex=r=u(o),r.isPositioned=i,r.isFloated=s,r.opacity=a,r.ownStacking="auto"!==o||1>a,n&&n.zIndex.children.push(t)}function T(e,t,n,r,i){var o=l(t,"paddingLeft"),a=l(t,"paddingTop"),s=l(t,"paddingRight"),u=l(t,"paddingBottom");z(e,n,0,0,n.width,n.height,r.left+o+i[3].width,r.top+a+i[0].width,r.width-(i[1].width+i[3].width+o+s),r.height-(i[0].width+i[2].width+a+u))}function D(e){return["Top","Right","Bottom","Left"].map(function(t){return{width:l(e,"border"+t+"Width"),color:mt(e,"border"+t+"Color")}})}function O(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){return mt(e,"border"+t+"Radius")})}function L(e,t,n,r){var i=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:r,subdivide:function(o){var a=i(e,t,o),s=i(t,n,o),u=i(n,r,o),l=i(a,s,o),c=i(s,u,o),p=i(l,c,o);return[L(e,a,l,p),L(p,c,u,r)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function F(e,t,n,r,i,o,a){t[0]>0||t[1]>0?(e.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(e),r[1].curveTo(e)):e.push(["line",o,a]),(n[0]>0||n[1]>0)&&e.push(["line",i[0].start.x,i[0].start.y])}function P(e,t,n,r,i,o,a){var s=[];return t[0]>0||t[1]>0?(s.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(s),s.push(["line",a[0].end.x,a[0].end.y]),a[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(s.push(["line",i[1].end.x,i[1].end.y]),i[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function N(e,t,n){var r=e.left,i=e.top,o=e.width,a=e.height,s=t[0][0],u=t[0][1],l=t[1][0],c=t[1][1],p=t[2][0],h=t[2][1],f=t[3][0],d=t[3][1],m=o-l,g=a-h,v=o-p,y=a-d;return{topLeftOuter:yt(r,i,s,u).topLeft.subdivide(.5),topLeftInner:yt(r+n[3].width,i+n[0].width,Math.max(0,s-n[3].width),Math.max(0,u-n[0].width)).topLeft.subdivide(.5),topRightOuter:yt(r+m,i,l,c).topRight.subdivide(.5),topRightInner:yt(r+Math.min(m,o+n[3].width),i+n[0].width,m>o+n[3].width?0:l-n[3].width,c-n[0].width).topRight.subdivide(.5),bottomRightOuter:yt(r+v,i+g,p,h).bottomRight.subdivide(.5),bottomRightInner:yt(r+Math.min(v,o+n[3].width),i+Math.min(g,a+n[0].width),Math.max(0,p-n[1].width),Math.max(0,h-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:yt(r,i+y,f,d).bottomLeft.subdivide(.5),bottomLeftInner:yt(r+n[3].width,i+y,Math.max(0,f-n[3].width),Math.max(0,d-n[2].width)).bottomLeft.subdivide(.5)}}function B(e,t,n,r,i){var o=mt(e,"backgroundClip"),a=[];switch(o){case"content-box":case"padding-box":F(a,r[0],r[1],t.topLeftInner,t.topRightInner,i.left+n[3].width,i.top+n[0].width),F(a,r[1],r[2],t.topRightInner,t.bottomRightInner,i.left+i.width-n[1].width,i.top+n[0].width),F(a,r[2],r[3],t.bottomRightInner,t.bottomLeftInner,i.left+i.width-n[1].width,i.top+i.height-n[2].width),F(a,r[3],r[0],t.bottomLeftInner,t.topLeftInner,i.left+n[3].width,i.top+i.height-n[2].width);break;default:F(a,r[0],r[1],t.topLeftOuter,t.topRightOuter,i.left,i.top),F(a,r[1],r[2],t.topRightOuter,t.bottomRightOuter,i.left+i.width,i.top),F(a,r[2],r[3],t.bottomRightOuter,t.bottomLeftOuter,i.left+i.width,i.top+i.height),F(a,r[3],r[0],t.bottomLeftOuter,t.topLeftOuter,i.left,i.top+i.height)}return a}function R(e,t,n){var r,i,o,a,s,u,l=t.left,c=t.top,p=t.width,h=t.height,f=O(e),d=N(t,f,n),m={clip:B(e,d,n,f,t),borders:[]};for(r=0;4>r;r++)if(n[r].width>0){switch(i=l,o=c,a=p,s=h-n[2].width,r){case 0:s=n[0].width,u=P({c1:[i,o],c2:[i+a,o],c3:[i+a-n[1].width,o+s],c4:[i+n[3].width,o+s]},f[0],f[1],d.topLeftOuter,d.topLeftInner,d.topRightOuter,d.topRightInner);break;case 1:i=l+p-n[1].width,a=n[1].width,u=P({c1:[i+a,o],c2:[i+a,o+s+n[2].width],c3:[i,o+s],c4:[i,o+n[0].width]},f[1],f[2],d.topRightOuter,d.topRightInner,d.bottomRightOuter,d.bottomRightInner);break;case 2:o=o+h-n[2].width,s=n[2].width,u=P({c1:[i+a,o+s],c2:[i,o+s],c3:[i+n[3].width,o],c4:[i+a-n[3].width,o]},f[2],f[3],d.bottomRightOuter,d.bottomRightInner,d.bottomLeftOuter,d.bottomLeftInner);break;case 3:a=n[3].width,u=P({c1:[i,o+s+n[2].width],c2:[i,o],c3:[i+a,o+n[0].width],c4:[i+a,o+s]},f[3],f[0],d.bottomLeftOuter,d.bottomLeftInner,d.topLeftOuter,d.topLeftInner)}m.borders.push({args:u,color:n[r].color})}return m}function j(e,t){var n=e.drawShape();return t.forEach(function(e,t){n[0===t?"moveTo":e[0]+"To"].apply(null,e.slice(1))}),n}function I(e,t,n){"transparent"!==n&&(e.setVariable("fillStyle",n),j(e,t),e.fill(),lt+=1)}function $(e,t,n){var r,i,o=ct.createElement("valuewrap"),a=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];a.forEach(function(t){try{o.style[t]=mt(e,t)}catch(n){pt.log("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}}),o.style.borderColor="black",o.style.borderStyle="solid",o.style.display="block",o.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(e.type)||"SELECT"===e.nodeName)&&(o.style.lineHeight=mt(e,"height")),o.style.top=t.top+"px",o.style.left=t.left+"px",r="SELECT"===e.nodeName?(e.options[e.selectedIndex]||0).text:e.value,r||(r=e.placeholder),i=ct.createTextNode(r),o.appendChild(i),dt.appendChild(o),_(e,i,n),dt.removeChild(o)}function z(e){e.drawImage.apply(e,Array.prototype.slice.call(arguments,1)),lt+=1}function U(n,r){var i=e.getComputedStyle(n,r);if(i&&i.content&&"none"!==i.content&&"-moz-alt-content"!==i.content&&"none"!==i.display){var o=i.content+"",a=o.substr(0,1);a===o.substr(o.length-1)&&a.match(/'|"/)&&(o=o.substr(1,o.length-2));var s="url"===o.substr(0,3),u=t.createElement(s?"img":"span");return u.className=gt+"-before "+gt+"-after",Object.keys(i).filter(V).forEach(function(e){try{u.style[e]=i[e]}catch(t){pt.log(["Tried to assign readonly property ",e,"Error:",t])}}),s?u.src=pt.parseBackgroundImage(o)[0].args[0]:u.innerHTML=o,u}}function V(t){return isNaN(e.parseInt(t,10))}function Y(e,t){var n=U(e,":before"),r=U(e,":after");(n||r)&&(n&&(e.className+=" "+gt+"-before",e.parentNode.insertBefore(n,e),ot(n,t,!0),e.parentNode.removeChild(n),e.className=e.className.replace(gt+"-before","").trim()),r&&(e.className+=" "+gt+"-after",e.appendChild(r),ot(r,t,!0),e.removeChild(r),e.className=e.className.replace(gt+"-after","").trim()))}function W(e,t,n,r){var i=Math.round(r.left+n.left),o=Math.round(r.top+n.top);e.createPattern(t),e.translate(i,o),e.fill(),e.translate(-i,-o)}function H(e,t,n,r,i,o,a,s){var u=[];u.push(["line",Math.round(i),Math.round(o)]),u.push(["line",Math.round(i+a),Math.round(o)]),u.push(["line",Math.round(i+a),Math.round(s+o)]),u.push(["line",Math.round(i),Math.round(s+o)]),j(e,u),e.save(),e.clip(),W(e,t,n,r),e.restore()}function q(e,t,n){c(e,t.left,t.top,t.width,t.height,n)}function G(e,t,n,r,i){var o=pt.BackgroundSize(e,t,r,i),a=pt.BackgroundPosition(e,t,r,i,o),s=mt(e,"backgroundRepeat").split(",").map(pt.trimText);switch(r=J(r,o),s=s[i]||s[0]){case"repeat-x":H(n,r,a,t,t.left,t.top+a.top,99999,r.height);break;case"repeat-y":H(n,r,a,t,t.left+a.left,t.top,r.width,99999);break;case"no-repeat":H(n,r,a,t,t.left+a.left,t.top+a.top,r.width,r.height);break;default:W(n,r,a,{top:t.top,left:t.left,width:r.width,height:r.height})}}function K(e,t,n){for(var r,i=mt(e,"backgroundImage"),o=pt.parseBackgroundImage(i),a=o.length;a--;)if(i=o[a],i.args&&0!==i.args.length){var s="url"===i.method?i.args[0]:i.value;r=A(s),r?G(e,t,n,r,a):pt.log("html2canvas: Error loading background:",i)}}function J(e,t){if(e.width===t.width&&e.height===t.height)return e;var n,r=ct.createElement("canvas");return r.width=t.width,r.height=t.height,n=r.getContext("2d"),z(n,e,0,0,e.width,e.height,0,0,t.width,t.height),r}function X(e,t,n){return e.setVariable("globalAlpha",mt(t,"opacity")*(n?n.opacity:1))}function Z(e){return e.replace("px","")}function Q(e){var t=mt(e,"transform")||mt(e,"-webkit-transform")||mt(e,"-moz-transform")||mt(e,"-ms-transform")||mt(e,"-o-transform"),n=mt(e,"transform-origin")||mt(e,"-webkit-transform-origin")||mt(e,"-moz-transform-origin")||mt(e,"-ms-transform-origin")||mt(e,"-o-transform-origin")||"0px 0px";n=n.split(" ").map(Z).map(pt.asFloat);var r;if(t&&"none"!==t){var i=t.match(bt);if(i)switch(i[1]){case"matrix":r=i[2].split(",").map(pt.trimText).map(pt.asFloat)}}return{origin:n,matrix:r}}function et(e,t,n,r){var u=s(t?n.width:o(),t?n.height:a()),l={ctx:u,opacity:X(u,e,t),cssPosition:mt(e,"position"),borders:D(e),transform:r,clip:t&&t.clip?pt.Extend({},t.clip):null};return M(e,l,t),i.useOverflow===!0&&/(hidden|scroll|auto)/.test(mt(e,"overflow"))===!0&&/(BODY)/i.test(e.nodeName)===!1&&(l.clip=l.clip?S(l.clip,n):n),l}function tt(e,t,n){var r={left:t.left+e[3].width,top:t.top+e[0].width,width:t.width-(e[1].width+e[3].width),height:t.height-(e[0].width+e[2].width)};return n&&(r=S(r,n)),r}function nt(e,t){var n=t.matrix?pt.OffsetBounds(e):pt.Bounds(e);return t.origin[0]+=n.left,t.origin[1]+=n.top,n}function rt(e,t,n,r){var i,o=Q(e,t),a=nt(e,o),s=et(e,t,a,o),u=s.borders,l=s.ctx,c=tt(u,a,s.clip),p=R(e,a,u),h=ft.test(e.nodeName)?"#efefef":mt(e,"backgroundColor");switch(j(l,p.clip),l.save(),l.clip(),c.height>0&&c.width>0&&!r?(q(l,a,h),K(e,c,l)):r&&(s.backgroundColor=h),l.restore(),p.borders.forEach(function(e){I(l,e.args,e.color)}),n||Y(e,s),e.nodeName){case"IMG":(i=A(e.getAttribute("src")))?T(l,e,i,a,u):pt.log("html2canvas: Error loading <img>:"+e.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(e.type)&&(e.value||e.placeholder||"").length>0&&$(e,a,s);break;case"TEXTAREA":(e.value||e.placeholder||"").length>0&&$(e,a,s);break;case"SELECT":(e.options||e.placeholder||"").length>0&&$(e,a,s);break;case"LI":C(e,s,c);break;case"CANVAS":T(l,e,e,a,u)}return s}function it(e){return"none"!==mt(e,"display")&&"hidden"!==mt(e,"visibility")&&!e.hasAttribute("data-html2canvas-ignore")}function ot(e,t,n){it(e)&&(t=rt(e,t,n,!1)||t,ft.test(e.nodeName)||at(e,t,n))}function at(e,t,n){pt.Children(e).forEach(function(r){r.nodeType===r.ELEMENT_NODE?ot(r,t,n):r.nodeType===r.TEXT_NODE&&_(e,r,t)})}function st(){var e=mt(t.documentElement,"backgroundColor"),n=pt.isTransparent(e)&&ut===t.body,r=rt(ut,null,!1,n);return at(ut,r),n&&(e=r.backgroundColor),dt.removeChild(vt),{backgroundColor:e,stack:r}}e.scroll(0,0);var ut=i.elements===n?t.body:i.elements[0],lt=0,ct=ut.ownerDocument,pt=p.Util,ht=pt.Support(i,ct),ft=new RegExp("("+i.ignoreElements+")"),dt=ct.body,mt=pt.getCSS,gt="___html2canvas___pseudoelement",vt=ct.createElement("style");vt.innerHTML="."+gt+'-before:before { content: "" !important; display: none !important; }.'+gt+'-after:after { content: "" !important; display: none !important; }',dt.appendChild(vt),r=r||{};var yt=function(e){return function(t,n,r,i){var o=r*e,a=i*e,s=t+r,u=n+i;return{topLeft:L({x:t,y:u},{x:t,y:u-a},{x:s-o,y:n},{x:s,y:n}),topRight:L({x:t,y:n},{x:t+o,y:n},{x:s,y:u-a},{x:s,y:u}),bottomRight:L({x:s,y:n},{x:s,y:n+a},{x:t+o,y:u},{x:t,y:u}),bottomLeft:L({x:s,y:u},{x:s-o,y:u},{x:t,y:n+a},{x:t,y:n})}}}(4*((Math.sqrt(2)-1)/3)),bt=/(matrix)\((.+)\)/;return st()},p.Preload=function(r){function i(e){A.href=e,A.href=A.href;var t=A.protocol+A.host;return t===m}function o(){w.log("html2canvas: start: images: "+b.numLoaded+" / "+b.numTotal+" (failed: "+b.numFailed+")"),!b.firstRun&&b.numLoaded>=b.numTotal&&(w.log("Finished loading images: # "+b.numTotal+" (failed: "+b.numFailed+")"),"function"==typeof r.complete&&r.complete(b))}function a(t,i,a){var s,u,l=r.proxy;A.href=t,t=A.href,s="html2canvas_"+_++,a.callbackname=s,l+=l.indexOf("?")>-1?"&":"?",l+="url="+encodeURIComponent(t)+"&callback="+s,u=E.createElement("script"),e[s]=function(t){"error:"===t.substring(0,6)?(a.succeeded=!1,b.numLoaded++,b.numFailed++,o()):(d(i,a),i.src=t),e[s]=n;try{delete e[s]}catch(r){}u.parentNode.removeChild(u),u=null,delete a.script,delete a.callbackname},u.setAttribute("type","text/javascript"),u.setAttribute("src",l),a.script=u,e.document.body.appendChild(u)}function s(t,n){var r=e.getComputedStyle(t,n),i=r.content;"url"===i.substr(0,3)&&g.loadImage(p.Util.parseBackgroundImage(i)[0].args[0]),h(r.backgroundImage,t)}function u(e){s(e,":before"),s(e,":after")}function l(e,t){var r=p.Generate.Gradient(e,t);r!==n&&(b[e]={img:r,succeeded:!0},b.numTotal++,b.numLoaded++,o())}function c(e){return e&&e.method&&e.args&&e.args.length>0}function h(e,t){var r;p.Util.parseBackgroundImage(e).filter(c).forEach(function(e){"url"===e.method?g.loadImage(e.args[0]):e.method.match(/\-?gradient$/)&&(r===n&&(r=p.Util.Bounds(t)),l(e.value,r))})}function f(e){var t=!1;try{w.Children(e).forEach(f)}catch(r){}try{t=e.nodeType}catch(i){t=!1,w.log("html2canvas: failed to access some element's nodeType - Exception: "+i.message)}if(1===t||t===n){u(e);try{h(w.getCSS(e,"backgroundImage"),e)}catch(r){w.log("html2canvas: failed to get background-image - Exception: "+r.message)}h(e)}}function d(t,i){t.onload=function(){i.timer!==n&&e.clearTimeout(i.timer),b.numLoaded++,i.succeeded=!0,t.onerror=t.onload=null,o()},t.onerror=function(){if("anonymous"===t.crossOrigin&&(e.clearTimeout(i.timer),r.proxy)){var n=t.src;return t=new Image,i.img=t,t.src=n,void a(t.src,t,i)}b.numLoaded++,b.numFailed++,i.succeeded=!1,t.onerror=t.onload=null,o()}}var m,g,v,y,b={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},w=p.Util,_=0,x=r.elements[0]||t.body,E=x.ownerDocument,k=x.getElementsByTagName("img"),C=k.length,A=E.createElement("a"),S=function(e){return e.crossOrigin!==n}(new Image);for(A.href=e.location.href,m=A.protocol+A.host,g={loadImage:function(e){var t,o;e&&b[e]===n&&(t=new Image,e.match(/data:image\/.*;base64,/i)?(t.src=e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),o=b[e]={img:t},b.numTotal++,d(t,o)):i(e)||r.allowTaint===!0?(o=b[e]={img:t},b.numTotal++,d(t,o),t.src=e):S&&!r.allowTaint&&r.useCORS?(t.crossOrigin="anonymous",o=b[e]={img:t},b.numTotal++,d(t,o),t.src=e):r.proxy&&(o=b[e]={img:t},b.numTotal++,a(e,t,o)))},cleanupDOM:function(i){var a,s;if(!b.cleanupDone){w.log(i&&"string"==typeof i?"html2canvas: Cleanup because: "+i:"html2canvas: Cleanup after timeout: "+r.timeout+" ms.");for(s in b)if(b.hasOwnProperty(s)&&(a=b[s],"object"==typeof a&&a.callbackname&&a.succeeded===n)){e[a.callbackname]=n;try{delete e[a.callbackname]}catch(u){}a.script&&a.script.parentNode&&(a.script.setAttribute("src","about:blank"),a.script.parentNode.removeChild(a.script)),b.numLoaded++,b.numFailed++,w.log("html2canvas: Cleaned up failed img: '"+s+"' Steps: "+b.numLoaded+" / "+b.numTotal)}e.stop!==n?e.stop():t.execCommand!==n&&t.execCommand("Stop",!1),t.close!==n&&t.close(),b.cleanupDone=!0,i&&"string"==typeof i||o()}},renderingDone:function(){y&&e.clearTimeout(y)}},r.timeout>0&&(y=e.setTimeout(g.cleanupDOM,r.timeout)),w.log("html2canvas: Preload starts: finding background-images"),b.firstRun=!0,f(x),w.log("html2canvas: Preload: Finding images"),v=0;C>v;v+=1)g.loadImage(k[v].getAttribute("src"));return b.firstRun=!1,w.log("html2canvas: Preload: Done."),b.numTotal===b.numLoaded&&o(),g},p.Renderer=function(e,r){function i(e){function t(e){Object.keys(e).sort().forEach(function(n){var r=[],o=[],a=[],s=[];e[n].forEach(function(e){e.node.zIndex.isPositioned||e.node.zIndex.opacity<1?a.push(e):e.node.zIndex.isFloated?o.push(e):r.push(e)}),function u(e){e.forEach(function(e){s.push(e),e.children&&u(e.children)})}(r.concat(o,a)),s.forEach(function(e){e.context?t(e.context):i.push(e.node)})})}var r,i=[];return r=function(e){function t(e,r,i){var o="auto"===r.zIndex.zindex?0:Number(r.zIndex.zindex),a=e,s=r.zIndex.isPositioned,u=r.zIndex.isFloated,l={node:r},c=i;r.zIndex.ownStacking?(a=l.context={"!":[{node:r,children:[]}]},c=n):(s||u)&&(c=l.children=[]),0===o&&i?i.push(l):(e[o]||(e[o]=[]),e[o].push(l)),r.zIndex.children.forEach(function(e){t(a,e,c)})}var r={};return t(r,e),r}(e),t(r),i}function o(e){var t;if("string"==typeof r.renderer&&p.Renderer[e]!==n)t=p.Renderer[e](r);else{if("function"!=typeof e)throw new Error("Unknown renderer");t=e(r)}if("function"!=typeof t)throw new Error("Invalid renderer defined");return t}return o(r.renderer)(e,r,t,i(e.stack),p)},p.Util.Support=function(e,t){function r(){var e=new Image,r=t.createElement("canvas"),i=r.getContext===n?!1:r.getContext("2d");if(i===!1)return!1;r.width=r.height=10,e.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{i.drawImage(e,0,0),r.toDataURL()}catch(o){return!1}return p.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function i(){var e,n,r,i,o=!1;return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(n=t.createElement("boundtest"),n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n),r=e.getBoundingClientRect(),i=r.height,123===i&&(o=!0),t.body.removeChild(n))),o}return{rangeBounds:i(),svgRendering:e.svgRendering&&r()}},e.html2canvas=function(t,n){t=t.length?t:[t];var r,i,o={logging:!1,elements:t,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return o=p.Util.Extend(n,o),p.logging=o.logging,o.complete=function(e){("function"!=typeof o.onpreloaded||o.onpreloaded(e)!==!1)&&(r=p.Parse(e,o),("function"!=typeof o.onparsed||o.onparsed(r)!==!1)&&(i=p.Renderer(r,o),"function"==typeof o.onrendered&&o.onrendered(i)))},e.setTimeout(function(){p.Preload(o)},0),{render:function(e,t){return p.Renderer(e,p.Util.Extend(t,o))},parse:function(e,t){return p.Parse(e,p.Util.Extend(t,o))},preload:function(e){return p.Preload(p.Util.Extend(e,o))},log:p.Util.log}},e.html2canvas.log=p.Util.log,e.html2canvas.Renderer={Canvas:n},p.Renderer.Canvas=function(e){function r(e,t){e.beginPath(),t.forEach(function(t){e[t.name].apply(e,t.arguments)}),e.closePath()}function i(e){if(-1===s.indexOf(e.arguments[0].src)){l.drawImage(e.arguments[0],0,0);try{l.getImageData(0,0,1,1)}catch(t){return u=a.createElement("canvas"),l=u.getContext("2d"),!1}s.push(e.arguments[0].src)}return!0}function o(t,n){switch(n.type){case"variable":t[n.name]=n.arguments;break;case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{t.fillStyle=t.createPattern(n.arguments[0],"repeat")}catch(o){c.log("html2canvas: Renderer: Error creating pattern",o.message)}break;case"drawShape":r(t,n.arguments);break;case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!e.taintTest||e.taintTest&&i(n))&&t.drawImage.apply(t,n.arguments);break;default:t[n.name].apply(t,n.arguments)}}}e=e||{};var a=t,s=[],u=t.createElement("canvas"),l=u.getContext("2d"),c=p.Util,h=e.canvas||a.createElement("canvas");return function(e,t,r,i,a){var s,u,l,p=h.getContext("2d"),f=e.stack;return h.width=h.style.width=t.width||f.ctx.width,h.height=h.style.height=t.height||f.ctx.height,l=p.fillStyle,p.fillStyle=c.isTransparent(f.backgroundColor)&&t.background!==n?t.background:e.backgroundColor,p.fillRect(0,0,h.width,h.height),p.fillStyle=l,i.forEach(function(e){p.textBaseline="bottom",p.save(),e.transform.matrix&&(p.translate(e.transform.origin[0],e.transform.origin[1]),p.transform.apply(p,e.transform.matrix),p.translate(-e.transform.origin[0],-e.transform.origin[1])),e.clip&&(p.beginPath(),p.rect(e.clip.left,e.clip.top,e.clip.width,e.clip.height),p.clip()),e.ctx.storage&&e.ctx.storage.forEach(function(e){o(p,e)}),p.restore()}),c.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===t.elements.length&&"object"==typeof t.elements[0]&&"BODY"!==t.elements[0].nodeName?(u=a.Util.Bounds(t.elements[0]),s=r.createElement("canvas"),s.width=Math.ceil(u.width),s.height=Math.ceil(u.height),p=s.getContext("2d"),p.drawImage(h,u.left,u.top,u.width,u.height,0,0,u.width,u.height),h=null,s):h}}}(window,document);var Spinners={version:"3.0.0"};!function(e){function t(e){for(var t=1/e,n=[],r=0;e>r;r++)n.push((r+1)*t);return n}function n(e,t){return Math.sqrt(e*e+t*t)}function r(e){return e*Math.PI/180}function i(e){this.element=e}function o(t){t&&(this.element=t,l.remove(t),l.removeDetached(),this._position=0,this._state="stopped",this.setOptions(e.extend({color:"#000",dashes:12,radius:5,height:5,width:1.8,opacity:1,padding:3,rotation:700},arguments[1]||{})),this.drawPosition(0),l.add(this))}var a={scroll:function(e,t){if(!t)return e;var n=e.slice(0,t),r=e.slice(t,e.length);return r.concat(n)},isElement:function(e){return e&&1==e.nodeType},element:{isAttached:function(){function e(e){for(var t=e;t&&t.parentNode;)t=t.parentNode;return t}return function(t){var n=e(t);return!(!n||!n.body)}}()}},s={drawRoundedRectangle:function(t){var n=e.extend({top:0,left:0,width:0,height:0,radius:0},arguments[1]||{}),i=n,o=i.left,a=i.top,s=i.width,u=i.height,l=i.radius;t.beginPath(),t.moveTo(o+l,a),t.arc(o+s-l,a+l,l,r(-90),r(0),!1),t.arc(o+s-l,a+u-l,l,r(0),r(90),!1),t.arc(o+l,a+u-l,l,r(90),r(180),!1),t.arc(o+l,a+l,l,r(-180),r(-90),!1),t.closePath(),t.fill()}},u=function(){function e(e){var t=e;
return t.red=e[0],t.green=e[1],t.blue=e[2],t}function t(e){return parseInt(e,16)}function n(n){var r=[];if(0==n.indexOf("#")&&(n=n.substring(1)),n=n.toLowerCase(),""!=n.replace(a,""))return null;3==n.length?(r[0]=n.charAt(0)+n.charAt(0),r[1]=n.charAt(1)+n.charAt(1),r[2]=n.charAt(2)+n.charAt(2)):(r[0]=n.substring(0,2),r[1]=n.substring(2,4),r[2]=n.substring(4));for(var i=0;i<r.length;i++)r[i]=t(r[i]);return e(r)}function r(e,t){var r=n(e);return r[3]=t,r.opacity=t,r}function i(e,t){return"undefined"==typeof t&&(t=1),"rgba("+r(e,t).join()+")"}var o="0123456789abcdef",a=new RegExp("["+o+"]","g"),s=function(){function e(e,t,n){return e=e.toString(n||10),new Array(t-e.length).join("0")+e}return function(t,n,r){return"#"+e(t,2,16)+e(n,2,16)+e(r,2,16)}}();return{hex2rgb:n,hex2fill:i,rgb2hex:s}}();e.extend(Spinners,{enabled:!1,support:{canvas:function(){var t=e("<canvas>")[0];return!(!t.getContext||!t.getContext("2d"))}()},init:function(){(this.support.canvas||window.G_vmlCanvasManager&&window.attachEvent&&-1===navigator.userAgent.indexOf("Opera"))&&(window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document),this.enabled=!0)},create:function(e,t){return i.create(e,t),this.get(e)},get:function(e){return new i(e)},play:function(e){return this.get(e).play(),this},pause:function(e){return this.get(e).pause(),this},toggle:function(e){return this.get(e).toggle(),this},stop:function(e){return this.get(e).stop(),this},remove:function(e){return this.get(e).remove(),this},removeDetached:function(){return l.removeDetached(),this},center:function(e){return this.get(e).center(),this},setOptions:function(e,t){return this.get(e).setOptions(t),this},getDimensions:function(e){var t=l.get(e)[0],n=2*t.getLayout().workspace.radius;return{width:n,height:n}}});var l={spinners:[],get:function(t){if(t){var n=[];return e.each(this.spinners,function(r,i){i&&(a.isElement(t)?i.element==t:e(i.element).is(t))&&n.push(i)}),n}},add:function(e){this.spinners.push(e)},remove:function(t){e(e.map(this.spinners,function(n){return(a.isElement(t)?n.element==t:e(n.element).is(t))?n.element:void 0})).each(e.proxy(function(e,t){this.removeByElement(t)},this))},removeByElement:function(t){var n=this.get(t)[0];n&&(n.remove(),this.spinners=e.grep(this.spinners,function(e){return e.element!=t}))},removeDetached:function(){e.each(this.spinners,e.proxy(function(e,t){t&&t.element&&!a.element.isAttached(t.element)&&this.remove(t.element)},this))}};e.extend(i,{create:function(t){if(t){var n=arguments[1]||{},r=[];return a.isElement(t)?r.push(new o(t,n)):e(t).each(function(e,t){r.push(new o(t,n))}),r}}}),e.extend(i.prototype,{items:function(){return l.get(this.element)},play:function(){return e.each(this.items(),function(e,t){t.play()}),this},stop:function(){return e.each(this.items(),function(e,t){t.stop()}),this},pause:function(){return e.each(this.items(),function(e,t){t.pause()}),this},toggle:function(){return e.each(this.items(),function(e,t){t.toggle()}),this},center:function(){return e.each(this.items(),function(e,t){t.center()}),this},setOptions:function(t){return e.each(this.items(),function(e,n){n.setOptions(t)}),this},remove:function(){return l.remove(this.element),this}}),e.extend(o.prototype,{setOptions:function(t){if(this.options=e.extend({},this.options,t||{}),this.options.radii){var n=this.options.radii;this.options.radius=Math.min(n[0],n[1]),this.options.height=Math.max(n[0],n[1])-this.options.radius}this.options.dashWidth&&(this.options.width=this.options.dashWidth),this.options.speed&&(this.options.duration=1e3*this.options.speed);var r=this._state,i=this._position;switch(this._layout=null,this.build(),i&&i>=this.options.dashes-1&&(this._position=this.options.dashes-1),r){case"playing":this.play();break;case"paused":case"stopped":this.drawPosition(this._position)}this._centered&&this.center()},remove:function(){this.canvas&&(this.pause(),e(this.canvas).remove(),this.canvas=null,this.ctx=null)},build:function(){this.remove();var t=this.getLayout().workspace.radius;return e(document.body).append(this.canvas=e("<canvas>").attr({width:2*t,height:2*t}).css({zoom:1})),window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas[0]),this.ctx=this.canvas[0].getContext("2d"),this.ctx.globalAlpha=this.options.opacity,e(this.element).append(this.canvas),this.ctx.translate(t,t),this},drawPosition:function(e){var t=this.getLayout().workspace,n=a.scroll(t.opacities,-1*e),i=t.radius,o=this.options.dashes,s=r(360/o);this.ctx.clearRect(-1*i,-1*i,2*i,2*i);for(var u=0,l=o;l>u;u++)this.drawDash(n[u],this.options.color),this.ctx.rotate(s)},drawDash:function(e,t){this.ctx.fillStyle=u.hex2fill(t,e);var n=this.getLayout(),r=n.workspace.radius,i=n.dash.position,o=n.dash.dimensions;s.drawRoundedRectangle(this.ctx,{top:i.top-r,left:i.left-r,width:o.width,height:o.height,radius:Math.min(o.height,o.width)/2})},_nextPosition:function(){var t=this.options.rotation/this.options.dashes;this.nextPosition(),this._playTimer=window.setTimeout(e.proxy(this._nextPosition,this),t)},nextPosition:function(){this._position==this.options.dashes-1&&(this._position=-1),this._position++,this.drawPosition(this._position)},play:function(){if("playing"!=this._state){this._state="playing";var t=this.options.rotation/this.options.dashes;return this._playTimer=window.setTimeout(e.proxy(this._nextPosition,this),t),this}},pause:function(){return"paused"!=this._state?(this._pause(),this._state="paused",this):void 0},_pause:function(){this._playTimer&&(window.clearTimeout(this._playTimer),this._playTimer=null)},stop:function(){return"stopped"!=this._state?(this._pause(),this._position=0,this.drawPosition(0),this._state="stopped",this):void 0},toggle:function(){return this["playing"==this._state?"pause":"play"](),this},getLayout:function(){if(this._layout)return this._layout;var e=this.options,r=e.dashes,i=e.width,o=e.radius,a=e.radius+e.height,s=Math.max(i,a),u=Math.ceil(Math.max(s,n(a,i/2)));u+=e.padding;var l={workspace:{radius:u,opacities:t(r)},dash:{position:{top:u-a,left:u-i/2},dimensions:{width:i,height:a-o}}};return this._layout=l,l},center:function(){var t=2*this.getLayout().workspace.radius;e(this.element.parentNode).css({position:"relative"}),e(this.element).css({position:"absolute",height:t+"px",width:t+"px",top:"50%",left:"50%",marginLeft:-.5*t+"px",marginTop:-.5*t+"px"}),this._centered=!0}}),Spinners.init(),Spinners.enabled||(i.create=function(){return[]})}(jQuery),function(e,t,n){function r(e){var t=x(),n=t.querySelector("h2"),r=t.querySelector("p"),i=t.querySelector("button.cancel"),o=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:M(e.title).split("\n").join("<br>"),r.innerHTML=e.html?e.text:M(e.text||"").split("\n").join("<br>"),e.text&&D(r),e.customClass)A(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var a=t.getAttribute("data-custom-class");S(t,a),t.setAttribute("data-custom-class","")}if(L(t.querySelectorAll(".sa-icon")),e.type&&!p()){for(var u=!1,l=0;l<w.length;l++)if(e.type===w[l]){u=!0;break}if(!u)return h("Unknown alert type: "+e.type),!1;var c,f=["success","error","warning","info"];-1!==f.indexOf(e.type)&&(c=t.querySelector(".sa-icon.sa-"+e.type),D(c));var d=E();switch(e.type){case"success":A(c,"animate"),A(c.querySelector(".sa-tip"),"animateSuccessTip"),A(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":A(c,"animateErrorIcon"),A(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":A(c,"pulseWarning"),A(c.querySelector(".sa-body"),"pulseWarningIns"),A(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":d.setAttribute("type",e.inputType),A(t,"show-input"),setTimeout(function(){d.focus(),d.addEventListener("keyup",v.resetInputError)},400)}}if(e.imageUrl){var m=t.querySelector(".sa-icon.sa-custom");m.style.backgroundImage="url("+e.imageUrl+")",D(m);var g=80,y=80;if(e.imageSize){var b=e.imageSize.toString().split("x"),_=b[0],k=b[1];_&&k?(g=_,y=k):h("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}m.setAttribute("style",m.getAttribute("style")+"width:"+g+"px; height:"+y+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?i.style.display="inline-block":L(i),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?o.style.display="inline-block":L(o),e.cancelButtonText&&(i.innerHTML=M(e.cancelButtonText)),e.confirmButtonText&&(o.innerHTML=M(e.confirmButtonText)),e.confirmButtonColor&&(o.style.backgroundColor=e.confirmButtonColor,s(o,e.confirmButtonColor)),t.setAttribute("data-allow-ouside-click",e.allowOutsideClick);var C=e.doneFunction?!0:!1;t.setAttribute("data-has-done-function",C),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)}function i(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,r,i="#";for(r=0;3>r;r++)n=parseInt(e.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),i+=("00"+n).substr(n.length);return i}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null}function s(e,t){var n=a(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function u(){var e=x();N(k(),10),D(e),A(e,"showSweetAlert"),S(e,"hideSweetAlert"),f=t.activeElement;var n=e.querySelector("button.confirm");n.focus(),setTimeout(function(){A(e,"visible")},500);var r=e.getAttribute("data-timer");"null"!==r&&""!==r&&(e.timeout=setTimeout(function(){g.close()},r))}function l(){var e=x(),t=E();S(e,"show-input"),t.value="",t.setAttribute("type",_.inputType),v.resetInputError()}function c(){var e=x();e.style.marginTop=P(x())}function p(){return e.attachEvent&&!e.addEventListener?!0:!1}function h(t){e.console&&e.console.log("SweetAlert: "+t)}var f,d,m,g,v,y=".sweet-alert",b=".sweet-overlay",w=["error","warning","info","success","input","prompt"],_={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text"},x=function(){var e=t.querySelector(y);return e||(I(),e=x()),e},E=function(){var e=x();return e?e.querySelector("input"):void 0},k=function(){return t.querySelector(b)},C=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},A=function(e,t){C(e,t)||(e.className+=" "+t)},S=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(C(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},M=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},T=function(e){e.style.opacity="",e.style.display="block"},D=function(e){if(e&&!e.length)return T(e);for(var t=0;t<e.length;++t)T(e[t])},O=function(e){e.style.opacity="",e.style.display="none"},L=function(e){if(e&&!e.length)return O(e);for(var t=0;t<e.length;++t)O(e[t])},F=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},P=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},N=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,r=function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(r,t)};r()}e.style.display="block"},B=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,r=function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(r,t):e.style.display="none"};r()},R=function(n){if("function"==typeof MouseEvent){var r=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(r)}else if(t.createEvent){var i=t.createEvent("MouseEvents");i.initEvent("click",!1,!1),n.dispatchEvent(i)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},j=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)},I=function(){var e='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><fieldset><input type="text" tabIndex="3" /><div class="sa-input-error"></div></fieldset> <div class="sa-error-container"><div class="icon">!</div> <p>Not valid!</p></div> <button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',n=t.createElement("div");for(n.innerHTML=e;n.firstChild;)t.body.appendChild(n.firstChild)};g=v=function(){function a(e){var t=y;return"undefined"!=typeof t[e]?t[e]:_[e]}function p(){var e=!0;C(T,"show-input")&&(e=T.querySelector("input").value,e||(e="")),b.doneFunction(e),b.closeOnConfirm&&g.close()}function f(){var e=String(b.doneFunction).replace(/\s/g,""),t="function("===e.substring(0,9)&&")"!==e.substring(9,10);t&&b.doneFunction(!1),b.closeOnCancel&&g.close()}function v(t){var r=t||e.event,i=r.keyCode||r.which;if(-1!==[9,13,32,27].indexOf(i)){for(var o=r.target||r.srcElement,a=-1,u=0;u<B.length;u++)if(o===B[u]){a=u;break}9===i?(o=-1===a?P:a===B.length-1?B[0]:B[a+1],j(r),o.focus(),b.confirmButtonColor&&s(o,b.confirmButtonColor)):13===i?("INPUT"===o.tagName&&(o=P,P.focus()),o=-1===a?P:n):27===i&&b.allowEscapeKey===!0?(o=N,R(o,r)):o=n}}var y=arguments[0];if(A(t.body,"stop-scrolling"),l(),arguments[0]===n)return h("SweetAlert expects at least 1 attribute!"),!1;var b=o({},_);switch(typeof arguments[0]){case"string":b.title=arguments[0],b.text=arguments[1]||"",b.type=arguments[2]||"";break;case"object":if(arguments[0].title===n)return h('Missing "title" argument!'),!1;b.title=arguments[0].title;for(var w=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey","inputType"],E=w.length,S=0;E>S;S++){var M=w[S];b[M]=a(M)}b.confirmButtonText=b.showCancelButton?"Confirm":_.confirmButtonText,b.confirmButtonText=a("confirmButtonText"),b.doneFunction=arguments[1]||null;break;default:return h('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}r(b),c(),u();for(var T=x(),D=function(t){var n=t||e.event,r=n.target||n.srcElement,o=-1!==r.className.indexOf("confirm"),a=-1!==r.className.indexOf("sweet-overlay"),s=C(T,"visible"),u=b.doneFunction&&"true"===T.getAttribute("data-has-done-function");switch(n.type){case"mouseover":o&&b.confirmButtonColor&&(r.style.backgroundColor=i(b.confirmButtonColor,-.04));break;case"mouseout":o&&b.confirmButtonColor&&(r.style.backgroundColor=b.confirmButtonColor);break;case"mousedown":o&&b.confirmButtonColor&&(r.style.backgroundColor=i(b.confirmButtonColor,-.14));break;case"mouseup":o&&b.confirmButtonColor&&(r.style.backgroundColor=i(b.confirmButtonColor,-.04));break;case"focus":var l=T.querySelector("button.confirm"),c=T.querySelector("button.cancel");o?c.style.boxShadow="none":l.style.boxShadow="none";break;case"click":o&&u&&s?p():u&&s||a?f():F(T,r)&&"BUTTON"===r.tagName&&g.close()}},O=T.querySelectorAll("button"),L=0;L<O.length;L++)O[L].onclick=D,O[L].onmouseover=D,O[L].onmouseout=D,O[L].onmousedown=D,O[L].onmouseup=D,O[L].onfocus=D;k().onclick=D;var P=T.querySelector("button.confirm"),N=T.querySelector("button.cancel"),B=T.querySelectorAll("button[tabindex]");d=e.onkeydown,e.onkeydown=v,e.onfocus=function(){e.setTimeout(function(){m!==n&&(m.focus(),m=n)},0)}},g.setDefaults=v.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");o(_,e)},g.close=v.close=function(){var r=x();B(k(),5),B(r,5),S(r,"showSweetAlert"),A(r,"hideSweetAlert"),S(r,"visible");var i=r.querySelector(".sa-icon.sa-success");S(i,"animate"),S(i.querySelector(".sa-tip"),"animateSuccessTip"),S(i.querySelector(".sa-long"),"animateSuccessLong");var o=r.querySelector(".sa-icon.sa-error");S(o,"animateErrorIcon"),S(o.querySelector(".sa-x-mark"),"animateXMark");var a=r.querySelector(".sa-icon.sa-warning");S(a,"pulseWarning"),S(a.querySelector(".sa-body"),"pulseWarningIns"),S(a.querySelector(".sa-dot"),"pulseWarningIns"),S(t.body,"stop-scrolling"),e.onkeydown=d,f&&f.focus(),m=n,clearTimeout(r.timeout)},g.showInputError=v.showInputError=function(e){var t=x(),n=t.querySelector(".sa-input-error");A(n,"show");var r=t.querySelector(".sa-error-container");A(r,"show"),r.querySelector("p").innerHTML=e,t.querySelector("input").focus()},g.resetInputError=v.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=x(),n=t.querySelector(".sa-input-error");S(n,"show");var r=t.querySelector(".sa-error-container");S(r,"show")},"function"==typeof define&&define.amd?define(function(){return g}):"undefined"!=typeof module&&module.exports?module.exports=g:"undefined"!=typeof e&&(e.sweetAlert=e.swal=g)}(window,document);var tim=function e(t){"use strict";function n(){f=new RegExp(g.start+"\\s*("+g.path+")\\s*"+g.end,"gi")}function r(e){var t;if(e){for(t in e)e.hasOwnProperty(t)&&(g[t]=e[t]);n()}return g}function i(e,t){var n;switch(typeof e){case"string":if(t===m)return v[e]||"";t===!1?delete v[e]:v[e]=t;break;case"object":for(n in e)e.hasOwnProperty(n)&&i(n,e[n]);break;case"boolean":e||(v={})}return v}function o(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e,t){return e[1]-t[1]}function s(e,t,n){var r=y[e];return r||(r=y[e]=[]),r.push([t,n||0]),r.sort(a),t}function u(e,t){var n,r,i,o,a=y[e];if(a){for(n=[t],r=2,i=arguments.length;i>r;r++)n.push(arguments[r]);for(r=0,i=a.length;i>r;r++)if(n[0]=t,o=a[r][0].apply(null,n),t!==m&&o!==m&&(t=o),h){h=!1;break}}return t}function l(e,t){return("function"==typeof t?s:u).apply(null,arguments)}function c(e,t){for(var n,r,i,a,s,l,c,h,d,m,v,y,b;null!==(n=f.exec(e));){if(r=n[1],i=u("token",r,t,e),a=n.index,s=f.lastIndex,l=e.slice(0,a),c=e.slice(s),"function"==typeof i&&(i=i.call(t)),"boolean"!=typeof i&&"object"!=typeof i)e=l+i+c;else{if(h="",d=g.start+"/"+r+g.end,m=c.indexOf(d),!(m>=0))throw"tim: '"+r+"' not closed";if(c=c.slice(0,m),"boolean"==typeof i)h=i?c:"";else{for(v in i)i.hasOwnProperty(v)&&(f.lastIndex=0,y=o({_key:v,_content:i[v]},i[v]),y=u("loopData",y,b,r),b=p(c,y),h+=u("loop",b,r,y));h=u("loopEnd",h,r,y)}e=l+h+e.slice(s+c.length+d.length)}f.lastIndex=0}return e}function p(e,t){var n;return d||(d=1,u("init")),e=u("templateBefore",e),e.indexOf(g.start)<0&&(n=i(e),n&&(e=n)),e=u("template",e),e&&t!==m&&(e=c(e,t)),e=u("templateAfter",e)}var h,f,d,m,g={start:"{{",end:"}}",path:"[a-z0-9_][\\.a-z0-9_]*"},v={},y={};return t?r(t):n(),l.stop=function(){h=!0},p.settings=r,p.templates=i,p.parser=e,p.filter=l,s("token",function(e,t,n){for(var r=e.split("."),i=r.length,o=t,a=0;i>a;a++){if(o=o[r[a]],o===m)throw"tim: '"+r[a]+"' not found"+(a?" in "+n:"");if(a===i-1)return o}}),window&&window.document&&(p.dom=function(e){e=e||{};for(var t,n,r=e.type||g.type||"text/tim",o=e.attr||g.attr||"class",a=window.document,s=!!a.querySelectorAll,u=s?a.querySelectorAll("script[type='"+r+"']"):a.getElementsByTagName("script"),l=0,c=u.length,p={};c>l;l++)t=u[l],n="class"===o?t.className:t.getAttribute(o),n&&(s||t.type===r)&&(p[n]=t.innerHTML);return i(p),p},s("init",function(){p.dom()})),p}();!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return d({type:_.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),v=e("#"+t.containerId),v.length?v:(n&&(v=p(t)),v)}function r(e,t,n){return d({type:_.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function i(e){y=e}function o(e,t,n){return d({type:_.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return d({type:_.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function s(e,t){var r=m();v||n(r),c(e,r,t)||l(r)}function u(t){var r=m();return v||n(r),t&&0===e(":focus",t).length?void g(t):void(v.children().length&&v.remove())}function l(t){for(var n=v.children(),r=n.length-1;r>=0;r--)c(e(n[r]),t)}function c(t,n,r){var i=r&&r.force?r.force:!1;return t&&(i||0===e(":focus",t).length)?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){g(t)}}),!0):!1}function p(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(e(t.target)),v}function h(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(e){y&&y(e)}function d(t){function r(){a(),u(),l(),c(),p(),s()}function i(){A.hover(_,y),!E.onclick&&E.tapToDismiss&&A.click(d),E.closeButton&&D&&D.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),d(!0)}),E.onclick&&A.click(function(){E.onclick(),d()})}function o(){A.hide(),A[E.showMethod]({duration:E.showDuration,easing:E.showEasing,complete:E.onShown}),E.timeOut>0&&(C=setTimeout(d,E.timeOut),O.maxHideTime=parseFloat(E.timeOut),O.hideEta=(new Date).getTime()+O.maxHideTime,E.progressBar&&(O.intervalId=setInterval(x,10)))}function a(){t.iconClass&&A.addClass(E.toastClass).addClass(k)}function s(){E.newestOnTop?v.prepend(A):v.append(A)}function u(){t.title&&(S.append(t.title).addClass(E.titleClass),A.append(S))}function l(){t.message&&(M.append(t.message).addClass(E.messageClass),A.append(M))}function c(){E.closeButton&&(D.addClass("toast-close-button").attr("role","button"),A.prepend(D))}function p(){E.progressBar&&(T.addClass("toast-progress"),A.prepend(T))}function h(e,t){if(e.preventDuplicates){if(t.message===b)return!0;b=t.message}return!1}function d(t){return!e(":focus",A).length||t?(clearTimeout(O.intervalId),A[E.hideMethod]({duration:E.hideDuration,easing:E.hideEasing,complete:function(){g(A),E.onHidden&&"hidden"!==L.state&&E.onHidden(),L.state="hidden",L.endTime=new Date,f(L)}})):void 0}function y(){(E.timeOut>0||E.extendedTimeOut>0)&&(C=setTimeout(d,E.extendedTimeOut),O.maxHideTime=parseFloat(E.extendedTimeOut),O.hideEta=(new Date).getTime()+O.maxHideTime)}function _(){clearTimeout(C),O.hideEta=0,A.stop(!0,!0)[E.showMethod]({duration:E.showDuration,easing:E.showEasing})}function x(){var e=(O.hideEta-(new Date).getTime())/O.maxHideTime*100;T.width(e+"%")}var E=m(),k=t.iconClass||E.iconClass;if("undefined"!=typeof t.optionsOverride&&(E=e.extend(E,t.optionsOverride),k=t.optionsOverride.iconClass||k),!h(E,t)){w++,v=n(E,!0);var C=null,A=e("<div/>"),S=e("<div/>"),M=e("<div/>"),T=e("<div/>"),D=e(E.closeHtml),O={intervalId:null,hideEta:null,maxHideTime:null},L={toastId:w,state:"visible",startTime:new Date,options:E,map:t};return r(),o(),i(),f(L),E.debug&&console&&console.log(L),A}}function m(){return e.extend({},h(),x.options)}function g(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),b=void 0))}var v,y,b,w=0,_={error:"error",info:"info",success:"success",warning:"warning"},x={clear:s,remove:u,error:t,getContainer:n,info:r,options:{},subscribe:i,success:o,version:"2.1.1",warning:a};return x}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});var TWEEN=TWEEN||function(){var e=[];return{REVISION:"6",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},update:function(t){for(var n=0,r=e.length,t=void 0!==t?t:Date.now();r>n;)e[n].update(t)?n++:(e.splice(n,1),r--)}}}();TWEEN.Tween=function(e){var t=e,n={},r={},i=1e3,o=0,a=null,s=TWEEN.Easing.Linear.None,u=TWEEN.Interpolation.Linear,l=null,c=null,p=null;this.to=function(e,t){return null!==t&&(i=t),r=e,this},this.start=function(e){TWEEN.add(this),a=void 0!==e?e:Date.now(),a+=o;for(var i in r)if(null!==t[i]){if(r[i]instanceof Array){if(0===r[i].length)continue;r[i]=[t[i]].concat(r[i])}n[i]=t[i]}return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(e){return o=e,this},this.easing=function(e){return s=e,this},this.interpolation=function(e){return u=e,this},this.chain=function(e){return l=e,this},this.onUpdate=function(e){return c=e,this},this.onComplete=function(e){return p=e,this},this.update=function(e){if(a>e)return!0;var o=(e-a)/i;o=o>1?1:o;var h=s(o);for(var f in n){var d=n[f],m=r[f];t[f]=m instanceof Array?u(m,h):d+(m-d)*h}return null!==c&&c.call(t,h),1==o?(null!==p&&p.call(t),null!==l&&l.start(),!1):!0}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/r)))},Out:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin(2*(e-t)*Math.PI/r)+1)},InOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/r):n*Math.pow(2,-10*(e-=1))*Math.sin(2*(e-t)*Math.PI/r)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)},Out:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return.5>e?.5*TWEEN.Easing.Bounce.In(2*e):.5*TWEEN.Easing.Bounce.Out(2*e-1)+.5}}},TWEEN.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=TWEEN.Interpolation.Utils.Linear;return 0>t?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){var n,r=0,i=e.length-1,o=Math.pow,a=TWEEN.Interpolation.Utils.Bernstein;for(n=0;i>=n;n++)r+=o(1-t,i-n)*o(t,n)*e[n]*a(i,n);return r},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(0>t&&(i=Math.floor(r=n*(1+t))),o(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):0>t?e[0]-(o(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):o(e[i?i-1:0],e[i],e[i+1>n?n:i+1],e[i+2>n?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=TWEEN.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n,r=1;if(e[t])return e[t];for(n=t;n>1;n--)r*=n;return e[t]=r}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i,u=i*s;return(2*t-2*n+o+a)*u+(-3*t+3*n-2*o-a)*s+o*i+t}}},function(){function e(n,r){var i=e.getBaseURL,o=e.getSelfURL,a=e.hasWorkerSupport?e.Operative.BrowserWorker:e.Operative.Iframe;if("function"==typeof n){var s=new a({main:n},r,i,o),u=function(){return s.api.main.apply(s,arguments)};u.transfer=function(){return s.api.main.transfer.apply(s,arguments)};for(var l in s.api)t.call(s.api,l)&&(u[l]=s.api[l]);return u}return new a(n,r,i,o).api}if("undefined"!=typeof window||!self.importScripts){var t={}.hasOwnProperty,n=document.getElementsByTagName("script"),r=n[n.length-1],i=/operative/.test(r.src)&&r.src;e.pool=function(t,n,r){t=0|Math.abs(t)||1;for(var i=[],o=0,a=0;t>a;++a)i.push(e(n,r));return{terminate:function(){for(var e=0;t>e;++e)i[e].destroy()},next:function(){return o=o+1===t?0:o+1,i[o]}}},e.hasWorkerSupport=!!window.Worker,e.hasWorkerViaBlobSupport=!1,e.hasTransferSupport=!1;var o=(location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+location.pathname).replace(/[^\/]+$/,"");e.objCreate=Object.create||function(e){function t(){}return t.prototype=e,new t},e.setSelfURL=function(e){i=e},e.getSelfURL=function(){return i},e.setBaseURL=function(e){o=e},e.getBaseURL=function(){return o},window.operative=e}}(),function(){function e(e){this.value=e}function t(e,t,r,i){var o=this;e.get=e.get||function(e){return this[e]},e.set=e.set||function(e,t){return this[e]=t},this._curToken=0,this._queue=[],this._getBaseURL=r,this._getSelfURL=i,this.isDestroyed=!1,this.isContextReady=!1,this.module=e,this.dependencies=t||[],this.dataProperties={},this.api={},this.callbacks={},this.deferreds={},this._fixDependencyURLs(),this._setup();for(var a in e)n.call(e,a)&&this._createExposedMethod(a);this.api.__operative__=this,this.api.destroy=this.api.terminate=function(){return o.destroy()}}if("undefined"!=typeof window||!self.importScripts){var n={}.hasOwnProperty,r=[].slice,i={}.toString;operative.Operative=t;var o=t.Promise=window.Promise;t.prototype={_marshal:function(e){return e},_demarshal:function(e){return e},_enqueue:function(e){this._queue.push(e)},_fixDependencyURLs:function(){for(var e=this.dependencies,t=0,n=e.length;n>t;++t){var r=e[t];/\/\//.test(r)||(e[t]=r.replace(/^\/?/,this._getBaseURL().replace(/([^\/])$/,"$1/")))}},_dequeueAll:function(){for(var e=0,t=this._queue.length;t>e;++e)this._queue[e].call(this);this._queue=[]},_buildContextScript:function(e){var t,n=[],r=this.module,i=this.dataProperties;for(var o in r)t=r[o],"function"==typeof t?n.push('	self["'+o.replace(/"/g,'\\"')+'"] = '+t.toString()+";"):i[o]=t;return n.join("\n")+(e?"\n("+e.toString()+"());":"")},_createExposedMethod:function(t){var n=this,a=this.api[t]=function(){function i(){n.isContextReady?n._runMethod(t,a,s,l):n._enqueue(i)}if(n.isDestroyed)throw new Error("Operative: Cannot run method. Operative has already been destroyed");var a=++n._curToken,s=r.call(arguments),u="function"==typeof s[s.length-1]&&s.pop(),l=s[s.length-1]instanceof e&&s.pop();if(!u&&!o)throw new Error("Operative: No callback has been passed. Assumed that you want a promise. But `operative.Promise` is null. Please provide Promise polyfill/lib.");if(u)n.callbacks[a]=u,setTimeout(function(){i()},1);else if(o)return new o(function(e,t){var r;e.fulfil||e.fulfill?(r=e,r.fulfil=r.fulfill=e.fulfil||e.fulfill):r={fulfil:e,fulfill:e,resolve:e,reject:t,transferResolve:e,transferReject:t},n.deferreds[a]=r,i()
})};a.transfer=function(){var t=[].slice.call(arguments),n="function"==typeof t[t.length-1]?t.length-2:t.length-1,r=t[n],o=i.call(r);if("[object Array]"!==o)throw new Error("Operative:transfer() must be passed an Array of transfers as its last arguments (Expected: [object Array], Received: "+o+")");return t[n]=new e(r),a.apply(null,t)}},destroy:function(){this.isDestroyed=!0}}}}(),function(){function makeBlobURI(e){var t;try{t=new Blob([e],{type:"text/javascript"})}catch(n){t=new BlobBuilder,t.append(e),t=t.getBlob()}return URL.createObjectURL(t)}function workerBoilerScript(){var postMessage=self.postMessage,structuredCloningSupport=null,toString={}.toString;self.console={},self.isWorker=!0,["log","debug","error","info","warn","time","timeEnd"].forEach(function(e){self.console[e]=function(){postMessage({cmd:"console",method:e,args:[].slice.call(arguments)})}}),self.addEventListener("message",function(e){function callback(){returnResult({args:[].slice.call(arguments)})}function returnResult(e,t){postMessage({cmd:"result",token:data.token,result:e},hasTransferSupport&&t||[])}function extractTransfers(e){var t=e[e.length-1];if("[object Array]"!==toString.call(t))throw new Error("Operative: callback.transfer() must be passed an Array of transfers as its last arguments");return t}var data=e.data;if("string"==typeof data&&0===data.indexOf("EVAL|"))return void eval(data.substring(5));if(null==structuredCloningSupport)return structuredCloningSupport="PING"===e.data[0],self.postMessage(structuredCloningSupport?"pingback:structuredCloningSupport=YES":"pingback:structuredCloningSupport=NO"),void(structuredCloningSupport||(postMessage=function(e){return self.postMessage(JSON.stringify(e))}));structuredCloningSupport||(data=JSON.parse(data));var defs=data.definitions,isDeferred=!1,args=data.args;if(defs)for(var i in defs)self[i]=defs[i];else{callback.transfer=function(){var e=[].slice.call(arguments),t=extractTransfers(e);returnResult({args:e},t)},args.push(callback),self.deferred=function(){function e(e,t){return returnResult({isDeferred:!0,action:"resolve",args:[e]},t),n}function t(e,t){returnResult({isDeferred:!0,action:"reject",args:[e]},t)}isDeferred=!0;var n={};return n.fulfil=n.fulfill=n.resolve=function(t){return e(t)},n.reject=function(e){return t(e)},n.transferResolve=function(t){var n=extractTransfers(arguments);return e(t,n)},n.transferReject=function(e){var n=extractTransfers(arguments);return t(e,n)},n};var result=self[data.method].apply(self,args);isDeferred||void 0===result||returnResult({args:[result]}),self.deferred=function(){throw new Error("Operative: deferred() called at odd time")}}})}if("undefined"==typeof window&&self.importScripts)return void workerBoilerScript();var Operative=operative.Operative,URL=window.URL||window.webkitURL,BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,workerViaBlobSupport=function(){try{new Worker(makeBlobURI(";"))}catch(e){return!1}return!0}(),transferrableObjSupport=function(){try{var e=new ArrayBuffer(1);return new Worker(makeBlobURI(";")).postMessage(e,[e]),!e.byteLength}catch(t){return!1}}();operative.hasWorkerViaBlobSupport=workerViaBlobSupport,operative.hasTransferSupport=transferrableObjSupport,Operative.BrowserWorker=function(){Operative.apply(this,arguments)};var WorkerProto=Operative.BrowserWorker.prototype=operative.objCreate(Operative.prototype);WorkerProto._onWorkerMessage=function(e){var t=e.data;if("string"==typeof t&&0===t.indexOf("pingback"))return"pingback:structuredCloningSupport=NO"===t&&(this._marshal=function(e){return JSON.stringify(e)},this._demarshal=function(e){return JSON.parse(e)}),this.isContextReady=!0,this._postMessage({definitions:this.dataProperties}),void this._dequeueAll();switch(t=this._demarshal(t),t.cmd){case"console":window.console&&window.console[t.method].apply(window.console,t.args);break;case"result":var n=this.callbacks[t.token],r=this.deferreds[t.token],i=t.result&&t.result.isDeferred&&t.result.action;r&&i?r[i](t.result.args[0]):n?n.apply(this,t.result.args):r&&r.fulfil(t.result.args[0])}},WorkerProto._isWorkerViaBlobSupported=function(){return workerViaBlobSupport},WorkerProto._setup=function(){var e,t=this,n=this._getSelfURL(),r=this._isWorkerViaBlobSupported(),i=this._buildContextScript(r?workerBoilerScript:"");if(this.dependencies.length&&(i='importScripts("'+this.dependencies.join('", "')+'");\n'+i),r)e=this.worker=new Worker(makeBlobURI(i));else{if(!n)throw new Error("Operaritve: No operative.js URL available. Please set via operative.setSelfURL(...)");e=this.worker=new Worker(n),e.postMessage("EVAL|"+i)}e.postMessage("EVAL|self.hasTransferSupport="+transferrableObjSupport),e.postMessage(["PING"]),e.addEventListener("message",function(e){t._onWorkerMessage(e)})},WorkerProto._postMessage=function(e){var t=transferrableObjSupport&&e.transfers;return t?this.worker.postMessage(e,t.value):this.worker.postMessage(this._marshal(e))},WorkerProto._runMethod=function(e,t,n,r){this._postMessage({method:e,args:n,token:t,transfers:r})},WorkerProto.destroy=function(){this.worker.terminate(),Operative.prototype.destroy.call(this)}}(),function(){function e(){window.__run__=function(e,t,n,r){function i(){return n.apply(this,arguments)}var o=!1;window.deferred=function(){return o=!0,r},i.transfer=function(){return n.apply(this,[].slice.call(arguments,0,arguments.length-1))},n&&t.push(i);var a=window[e].apply(window,t);window.deferred=function(){throw new Error("Operative: deferred() called at odd time")},o||void 0===a||i(a)}}if("undefined"!=typeof window||!self.importScripts){var t=operative.Operative;t.Iframe=function(){t.apply(this,arguments)};var n=t.Iframe.prototype=operative.objCreate(t.prototype),r=0;n._setup=function(){var t=this,n="__operativeIFrameLoaded"+ ++r;this.module.isWorker=!1;var i=this.iframe=document.body.appendChild(document.createElement("iframe"));i.style.display="none";var o=this.iframeWindow=i.contentWindow,a=o.document;window[n]=function(){window[n]=null;var r=a.createElement("script"),i=t._buildContextScript(e);void 0!==r.text?r.text=i:r.innerHTML=i,a.documentElement.appendChild(r);for(var s in t.dataProperties)o[s]=t.dataProperties[s];t.isContextReady=!0,t._dequeueAll()},a.open();var s="";this.dependencies.length&&(s+='\n<script src="'+this.dependencies.join('"></script><script src="')+'"></script>'),a.write(s+"\n<script>setTimeout(window.parent."+n+",0);</script>"),a.close()},n._runMethod=function(e,t,n){var r=this,i=this.callbacks[t],o=this.deferreds[t];this.iframeWindow.__run__(e,n,function(e){var t=i,n=o;t?t.apply(r,arguments):n&&n.fulfil(e)},o)},n.destroy=function(){this.iframe.parentNode.removeChild(this.iframe),t.prototype.destroy.call(this)}}}();var Diff=window.Diff={longest_common_subsequence:function(e,t){var n,r,i,o,a,s,u,l,c,p,h;for(n={},l=0;l<t.length;l++)a=t[l],n[a]?n[a].push(l):n[a]=[l];for(o=[{file1index:-1,file2index:-1,chain:null}],u=0;u<e.length;u++){for(a=e[u],r=n[a]||[],p=0,s=o[0],c=0;c<r.length;c++){for(l=r[c],h=p;h<o.length&&!(o[h].file2index<l&&(h==o.length-1||o[h+1].file2index>l));h++);if(h<o.length&&(i={file1index:u,file2index:l,chain:o[h]},p==o.length?o.push(s):o[p]=s,p=h+1,s=i,p==o.length))break}o[p]=s}return o[o.length-1]},diff_comm:function(e,t){function n(){a.common.length&&(a.common.reverse(),r.push(a),a={common:[]})}for(var r=[],i=e.length,o=t.length,a={common:[]},s=Diff.longest_common_subsequence(e,t);null!==s;s=s.chain){for(var u={file1:[],file2:[]};--i>s.file1index;)u.file1.push(e[i]);for(;--o>s.file2index;)u.file2.push(t[o]);(u.file1.length||u.file2.length)&&(n(),u.file1.reverse(),u.file2.reverse(),r.push(u)),i>=0&&a.common.push(e[i])}return n(),r.reverse(),r},diff_patch:function(e,t){function n(e,t,n){for(var r=[],i=0;n>i;i++)r.push(e[t+i]);return{offset:t,length:n,chunk:r}}for(var r=[],i=e.length,o=t.length,a=Diff.longest_common_subsequence(e,t);null!==a;a=a.chain){var s=i-a.file1index-1,u=o-a.file2index-1;i=a.file1index,o=a.file2index,(s||u)&&r.push({file1:n(e,a.file1index+1,s),file2:n(t,a.file2index+1,u)})}return r.reverse(),r},strip_patch:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push({file1:{offset:r.file1.offset,length:r.file1.length},file2:{chunk:r.file2.chunk}})}return t},invert_patch:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.file1;n.file1=n.file2,n.file2=r}},patch:function(e,t){function n(t){for(;t>i;)r.push(e[i]),i++}for(var r=[],i=0,o=0;o<t.length;o++){var a=t[o];n(a.file1.offset);for(var s=0;s<a.file2.chunk.length;s++)r.push(a.file2.chunk[s]);i+=a.file1.length}return n(e.length),r},diff_indices:function(e,t){for(var n=[],r=e.length,i=t.length,o=Diff.longest_common_subsequence(e,t);null!==o;o=o.chain){var a=r-o.file1index-1,s=i-o.file2index-1;r=o.file1index,i=o.file2index,(a||s)&&n.push({file1:[r+1,a],file2:[i+1,s]})}return n.reverse(),n},diff3_merge_indices:function(e,t,n){function r(e,t){u.push([e.file1[0],t,e.file1[1],e.file2[0],e.file2[1]])}function i(e){e>c&&(l.push([1,c,e-c]),c=e)}var o,a=Diff.diff_indices(t,e),s=Diff.diff_indices(t,n),u=[];for(o=0;o<a.length;o++)r(a[o],0);for(o=0;o<s.length;o++)r(s[o],2);u.sort();for(var l=[],c=0,p=0;p<u.length;p++){for(var h=p,f=u[p],d=f[0],m=d+f[2];p<u.length-1;){var g=u[p+1],v=g[0];if(v>m)break;m=Math.max(m,v+g[2]),p++}if(i(d),h==p)f[4]>0&&l.push([f[1],f[3],f[4]]);else{var y={0:[e.length,-1,t.length,-1],2:[n.length,-1,t.length,-1]};for(o=h;p>=o;o++){f=u[o];var b=f[1],w=y[b],_=f[0],x=_+f[2],E=f[3],k=E+f[4];w[0]=Math.min(E,w[0]),w[1]=Math.max(k,w[1]),w[2]=Math.min(_,w[2]),w[3]=Math.max(x,w[3])}var C=y[0][0]+(d-y[0][2]),A=y[0][1]+(m-y[0][3]),S=y[2][0]+(d-y[2][2]),M=y[2][1]+(m-y[2][3]);l.push([-1,C,A-C,d,m-d,S,M-S])}c=m}return i(t.length),l},diff3_merge:function(e,t,n,r){function i(){c.length&&s.push({ok:c}),c=[]}function o(e){for(var t=0;t<e.length;t++)c.push(e[t])}function a(t){if(t[2]!=t[6])return!0;for(var r=t[1],i=t[5],o=0;o<t[2];o++)if(e[o+r]!=n[o+i])return!0;return!1}for(var s=[],u=[e,t,n],l=Diff.diff3_merge_indices(e,t,n),c=[],p=0;p<l.length;p++){var h=l[p],f=h[0];-1==f?r&&!a(h)?o(u[0].slice(h[1],h[1]+h[2])):(i(),s.push({conflict:{a:e.slice(h[1],h[1]+h[2]),aIndex:h[1],o:t.slice(h[3],h[3]+h[4]),oIndex:h[3],b:n.slice(h[5],h[5]+h[6]),bIndex:h[5]}})):o(u[f].slice(h[1],h[1]+h[2]))}return i(),s}};!function(){function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}e.prototype.diff_main=function(e,t,n,r){if("undefined"==typeof r&&(r=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==e||null==t)throw Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];"undefined"==typeof n&&(n=!0);var i=n,o=this.diff_commonPrefix(e,t);n=e.substring(0,o),e=e.substring(o),t=t.substring(o);var o=this.diff_commonSuffix(e,t),a=e.substring(e.length-o);return e=e.substring(0,e.length-o),t=t.substring(0,t.length-o),e=this.diff_compute_(e,t,i,r),n&&e.unshift([0,n]),a&&e.push([0,a]),this.diff_cleanupMerge(e),e},e.prototype.diff_compute_=function(e,t,n,r){if(!e)return[[1,t]];if(!t)return[[-1,e]];var i=e.length>t.length?e:t,o=e.length>t.length?t:e,a=i.indexOf(o);return-1!=a?(n=[[1,i.substring(0,a)],[0,o],[1,i.substring(a+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=-1),n):1==o.length?[[-1,e],[1,t]]:(i=this.diff_halfMatch_(e,t))?(o=i[0],e=i[1],a=i[2],t=i[3],i=i[4],o=this.diff_main(o,a,n,r),n=this.diff_main(e,t,n,r),o.concat([[0,i]],n)):n&&100<e.length&&100<t.length?this.diff_lineMode_(e,t,r):this.diff_bisect_(e,t,r)},e.prototype.diff_lineMode_=function(e,t,n){var r=this.diff_linesToChars_(e,t);e=r.chars1,t=r.chars2,r=r.lineArray,e=this.diff_main(e,t,!1,n),this.diff_charsToLines_(e,r),this.diff_cleanupSemantic(e),e.push([0,""]);for(var i=r=t=0,o="",a="";t<e.length;){switch(e[t][0]){case 1:i++,a+=e[t][1];break;case-1:r++,o+=e[t][1];break;case 0:if(r>=1&&i>=1){for(e.splice(t-r-i,r+i),t=t-r-i,r=this.diff_main(o,a,!1,n),i=r.length-1;i>=0;i--)e.splice(t,0,r[i]);t+=r.length}r=i=0,a=o=""}t++}return e.pop(),e},e.prototype.diff_bisect_=function(e,t,n){for(var r=e.length,i=t.length,o=Math.ceil((r+i)/2),a=o,s=2*o,u=Array(s),l=Array(s),c=0;s>c;c++)u[c]=-1,l[c]=-1;u[a+1]=0,l[a+1]=0;for(var c=r-i,p=0!=c%2,h=0,f=0,d=0,m=0,g=0;o>g&&!((new Date).getTime()>n);g++){for(var v=-g+h;g-f>=v;v+=2){var y,b=a+v;y=v==-g||v!=g&&u[b-1]<u[b+1]?u[b+1]:u[b-1]+1;for(var w=y-v;r>y&&i>w&&e.charAt(y)==t.charAt(w);)y++,w++;if(u[b]=y,y>r)f+=2;else if(w>i)h+=2;else if(p&&(b=a+c-v,b>=0&&s>b&&-1!=l[b])){var _=r-l[b];if(y>=_)return this.diff_bisectSplit_(e,t,y,w,n)}}for(v=-g+d;g-m>=v;v+=2){for(b=a+v,_=v==-g||v!=g&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1,y=_-v;r>_&&i>y&&e.charAt(r-_-1)==t.charAt(i-y-1);)_++,y++;if(l[b]=_,_>r)m+=2;else if(y>i)d+=2;else if(!p&&(b=a+c-v,b>=0&&s>b&&-1!=u[b]&&(y=u[b],w=a+y-b,_=r-_,y>=_)))return this.diff_bisectSplit_(e,t,y,w,n)}}return[[-1,e],[1,t]]},e.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),a=t.substring(0,r);return e=e.substring(n),t=t.substring(r),o=this.diff_main(o,a,!1,i),i=this.diff_main(e,t,!1,i),o.concat(i)},e.prototype.diff_linesToChars_=function(e,t){function n(e){for(var t="",n=0,o=-1,a=r.length;o<e.length-1;){o=e.indexOf("\n",n),-1==o&&(o=e.length-1);var s=e.substring(n,o+1),n=o+1;(i.hasOwnProperty?i.hasOwnProperty(s):void 0!==i[s])?t+=String.fromCharCode(i[s]):(t+=String.fromCharCode(a),i[s]=a,r[a++]=s)}return t}var r=[],i={};r[0]="";var o=n(e),a=n(t);return{chars1:o,chars2:a,lineArray:r}},e.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},e.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;i>n;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},e.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;i>n;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},e.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;if(n>r?e=e.substring(n-r):r>n&&(t=t.substring(0,n)),n=Math.min(n,r),e==t)return n;for(var r=0,i=1;;){var o=e.substring(n-i),o=t.indexOf(o);if(-1==o)return r;i+=o,(0==o||e.substring(n-i)==t.substring(0,i))&&(r=i,i++)}},e.prototype.diff_halfMatch_=function(e,t){function n(e,t,n){for(var r,i,o,s,u=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!=(l=t.indexOf(u,l+1));){var p=a.diff_commonPrefix(e.substring(n),t.substring(l)),h=a.diff_commonSuffix(e.substring(0,n),t.substring(0,l));c.length<h+p&&(c=t.substring(l-h,l)+t.substring(l,l+p),r=e.substring(0,n-h),i=e.substring(n+p),o=t.substring(0,l-h),s=t.substring(l+p))}return 2*c.length>=e.length?[r,i,o,s,c]:null}if(0>=this.Diff_Timeout)return null;var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(4>r.length||2*i.length<r.length)return null;var o,a=this,s=n(r,i,Math.ceil(r.length/4)),r=n(r,i,Math.ceil(r.length/2));if(!s&&!r)return null;o=r?s&&s[4].length>r[4].length?s:r:s;var u;return e.length>t.length?(s=o[0],r=o[1],i=o[2],u=o[3]):(i=o[0],u=o[1],s=o[2],r=o[3]),o=o[4],[s,r,i,u,o]},e.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],r=0,i=null,o=0,a=0,s=0,u=0,l=0;o<e.length;)0==e[o][0]?(n[r++]=o,a=u,s=l,l=u=0,i=e[o][1]):(1==e[o][0]?u+=e[o][1].length:l+=e[o][1].length,i&&i.length<=Math.max(a,s)&&i.length<=Math.max(u,l)&&(e.splice(n[r-1],0,[-1,i]),e[n[r-1]+1][0]=1,r--,r--,o=r>0?n[r-1]:-1,l=u=s=a=0,i=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;)-1==e[o-1][0]&&1==e[o][0]&&(t=e[o-1][1],n=e[o][1],r=this.diff_commonOverlap_(t,n),i=this.diff_commonOverlap_(n,t),r>=i?(r>=t.length/2||r>=n.length/2)&&(e.splice(o,0,[0,n.substring(0,r)]),e[o-1][1]=t.substring(0,t.length-r),e[o+1][1]=n.substring(r),o++):(i>=t.length/2||i>=n.length/2)&&(e.splice(o,0,[0,t.substring(0,i)]),e[o-1][0]=1,e[o-1][1]=n.substring(0,n.length-i),e[o+1][0]=-1,e[o+1][1]=t.substring(i),o++),o++),o++},e.prototype.diff_cleanupSemanticLossless=function(t){function n(t,n){if(!t||!n)return 6;var r=t.charAt(t.length-1),i=n.charAt(0),o=r.match(e.nonAlphaNumericRegex_),a=i.match(e.nonAlphaNumericRegex_),s=o&&r.match(e.whitespaceRegex_),u=a&&i.match(e.whitespaceRegex_),r=s&&r.match(e.linebreakRegex_),i=u&&i.match(e.linebreakRegex_),l=r&&t.match(e.blanklineEndRegex_),c=i&&n.match(e.blanklineStartRegex_);return l||c?5:r||i?4:o&&!s&&u?3:s||u?2:o||a?1:0}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){var i=t[r-1][1],o=t[r][1],a=t[r+1][1],s=this.diff_commonSuffix(i,o);if(s)var u=o.substring(o.length-s),i=i.substring(0,i.length-s),o=u+o.substring(0,o.length-s),a=u+a;for(var s=i,u=o,l=a,c=n(i,o)+n(o,a);o.charAt(0)===a.charAt(0);){var i=i+o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1),p=n(i,o)+n(o,a);p>=c&&(c=p,s=i,u=o,l=a)}t[r-1][1]!=s&&(s?t[r-1][1]=s:(t.splice(r-1,1),r--),t[r][1]=u,l?t[r+1][1]=l:(t.splice(r+1,1),r--))}r++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,i=null,o=0,a=!1,s=!1,u=!1,l=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(u||l)?(n[r++]=o,a=u,s=l,i=e[o][1]):(r=0,i=null),u=l=!1):(-1==e[o][0]?l=!0:u=!0,i&&(a&&s&&u&&l||i.length<this.Diff_EditCost/2&&3==a+s+u+l)&&(e.splice(n[r-1],0,[-1,i]),e[n[r-1]+1][0]=1,r--,i=null,a&&s?(u=l=!0,r=0):(r--,o=r>0?n[r-1]:-1,u=l=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},e.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,r=0,i=0,o="",a="";n<e.length;)switch(e[n][0]){case 1:i++,a+=e[n][1],n++;break;case-1:r++,o+=e[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(t=this.diff_commonPrefix(a,o),0!==t&&(n-r-i>0&&0==e[n-r-i-1][0]?e[n-r-i-1][1]+=a.substring(0,t):(e.splice(0,0,[0,a.substring(0,t)]),n++),a=a.substring(t),o=o.substring(t)),t=this.diff_commonSuffix(a,o),0!==t&&(e[n][1]=a.substring(a.length-t)+e[n][1],a=a.substring(0,a.length-t),o=o.substring(0,o.length-t))),0===r?e.splice(n-i,r+i,[1,a]):0===i?e.splice(n-r,r+i,[-1,o]):e.splice(n-r-i,r+i,[-1,o],[1,a]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,r=i=0,a=o=""}for(""===e[e.length-1][1]&&e.pop(),r=!1,n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),r=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),r=!0)),n++;r&&this.diff_cleanupMerge(e)},e.prototype.diff_xIndex=function(e,t){var n,r=0,i=0,o=0,a=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),-1!==e[n][0]&&(i+=e[n][1].length),!(r>t));n++)o=r,a=i;return e.length!=n&&-1===e[n][0]?a:a+(t-o)},e.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,a=0;a<e.length;a++){var s=e[a][0],u=e[a][1],u=u.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(s){case 1:t[a]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case-1:t[a]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:t[a]="<span>"+u+"</span>"}}return t.join("")},e.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},e.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},e.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=e[i][0],a=e[i][1];switch(o){case 1:n+=a.length;break;case-1:r+=a.length;break;case 0:t+=Math.max(n,r),r=n=0}}return t+=Math.max(n,r)},e.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(e,t){for(var n=[],r=0,i=0,o=t.split(/\t/g),a=0;a<o.length;a++){var s=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{n[r++]=[1,decodeURI(s)]}catch(u){throw Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var l=parseInt(s,10);if(isNaN(l)||0>l)throw Error("Invalid number in diff_fromDelta: "+s);s=e.substring(i,i+=l),n[r++]="="==o[a].charAt(0)?[0,s]:[-1,s];break;default:if(o[a])throw Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(i!=e.length)throw Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return n},e.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},e.prototype.match_bitap_=function(e,t,n){function r(e,r){var i=e/t.length,a=Math.abs(n-r);return o.Match_Distance?i+a/o.Match_Distance:a?1:i}if(t.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),o=this,a=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(a=Math.min(r(0,s),a),s=e.lastIndexOf(t,n+t.length),-1!=s&&(a=Math.min(r(0,s),a)));for(var u,l,c,p=1<<t.length-1,s=-1,h=t.length+e.length,f=0;f<t.length;f++){for(u=0,l=h;l>u;)r(f,n+l)<=a?u=l:h=l,l=Math.floor((h-u)/2+u);h=l,u=Math.max(1,n-l+1);var d=Math.min(n+l,e.length)+t.length;for(l=Array(d+2),l[d+1]=(1<<f)-1;d>=u;d--){var m=i[e.charAt(d-1)];if(l[d]=0===f?(l[d+1]<<1|1)&m:(l[d+1]<<1|1)&m|((c[d+1]|c[d])<<1|1)|c[d+1],l[d]&p&&(m=r(f,d-1),a>=m)){if(a=m,s=d-1,!(s>n))break;u=Math.max(1,2*n-s)}}if(r(f+1,n)>a)break;c=l}return s},e.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},e.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),r=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin,(n=t.substring(e.start2-r,e.start2))&&e.diffs.unshift([0,n]),(r=t.substring(e.start2+e.length1,e.start2+e.length1+r))&&e.diffs.push([0,r]),e.start1-=n.length,e.start2-=n.length,e.length1+=n.length+r.length,e.length2+=n.length+r.length}},e.prototype.patch_make=function(t,n,r){var i;if("string"==typeof t&&"string"==typeof n&&"undefined"==typeof r)i=t,n=this.diff_main(i,n,!0),2<n.length&&(this.diff_cleanupSemantic(n),this.diff_cleanupEfficiency(n));else if(t&&"object"==typeof t&&"undefined"==typeof n&&"undefined"==typeof r)n=t,i=this.diff_text1(n);else if("string"==typeof t&&n&&"object"==typeof n&&"undefined"==typeof r)i=t;else{if("string"!=typeof t||"string"!=typeof n||!r||"object"!=typeof r)throw Error("Unknown call format to patch_make.");i=t,n=r}if(0===n.length)return[];r=[],t=new e.patch_obj;for(var o=0,a=0,s=0,u=i,l=0;l<n.length;l++){var c=n[l][0],p=n[l][1];switch(!o&&0!==c&&(t.start1=a,t.start2=s),c){case 1:t.diffs[o++]=n[l],t.length2+=p.length,i=i.substring(0,s)+p+i.substring(s);break;case-1:t.length1+=p.length,t.diffs[o++]=n[l],i=i.substring(0,s)+i.substring(s+p.length);break;case 0:p.length<=2*this.Patch_Margin&&o&&n.length!=l+1?(t.diffs[o++]=n[l],t.length1+=p.length,t.length2+=p.length):p.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(t,u),r.push(t),t=new e.patch_obj,o=0,u=i,a=s)}1!==c&&(a+=p.length),-1!==c&&(s+=p.length)}return o&&(this.patch_addContext_(t,u),r.push(t)),r},e.prototype.patch_deepCopy=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=new e.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=i.diffs[a].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},e.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,i=[],o=0;o<e.length;o++){var a,s=e[o].start2+r,u=this.diff_text1(e[o].diffs),l=-1;if(u.length>this.Match_MaxBits?(a=this.match_main(t,u.substring(0,this.Match_MaxBits),s),-1!=a&&(l=this.match_main(t,u.substring(u.length-this.Match_MaxBits),s+u.length-this.Match_MaxBits),-1==l||a>=l)&&(a=-1)):a=this.match_main(t,u,s),-1==a)i[o]=!1,r-=e[o].length2-e[o].length1;else if(i[o]=!0,r=a-s,s=-1==l?t.substring(a,a+u.length):t.substring(a,l+this.Match_MaxBits),u==s)t=t.substring(0,a)+this.diff_text2(e[o].diffs)+t.substring(a+u.length);else if(s=this.diff_main(u,s,!1),u.length>this.Match_MaxBits&&this.diff_levenshtein(s)/u.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(s);for(var c,u=0,l=0;l<e[o].diffs.length;l++){var p=e[o].diffs[l];0!==p[0]&&(c=this.diff_xIndex(s,u)),1===p[0]?t=t.substring(0,a+c)+p[1]+t.substring(a+c):-1===p[0]&&(t=t.substring(0,a+c)+t.substring(a+this.diff_xIndex(s,u+p[1].length))),-1!==p[0]&&(u+=p[1].length)}}}return t=t.substring(n.length,t.length-n.length),[t,i]},e.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",r=1;t>=r;r++)n+=String.fromCharCode(r);for(r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var r=e[0],i=r.diffs;if(0==i.length||0!=i[0][0])i.unshift([0,n]),r.start1-=t,r.start2-=t,r.length1+=t,r.length2+=t;else if(t>i[0][1].length){var o=t-i[0][1].length;i[0][1]=n.substring(i[0][1].length)+i[0][1],r.start1-=o,r.start2-=o,r.length1+=o,r.length2+=o}return r=e[e.length-1],i=r.diffs,0==i.length||0!=i[i.length-1][0]?(i.push([0,n]),r.length1+=t,r.length2+=t):t>i[i.length-1][1].length&&(o=t-i[i.length-1][1].length,i[i.length-1][1]+=n.substring(0,o),r.length1+=o,r.length2+=o),n},e.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=n)){var i=t[r];t.splice(r--,1);for(var o=i.start1,a=i.start2,s="";0!==i.diffs.length;){var u=new e.patch_obj,l=!0;for(u.start1=o-s.length,u.start2=a-s.length,""!==s&&(u.length1=u.length2=s.length,u.diffs.push([0,s]));0!==i.diffs.length&&u.length1<n-this.Patch_Margin;){var s=i.diffs[0][0],c=i.diffs[0][1];1===s?(u.length2+=c.length,a+=c.length,u.diffs.push(i.diffs.shift()),l=!1):-1===s&&1==u.diffs.length&&0==u.diffs[0][0]&&c.length>2*n?(u.length1+=c.length,o+=c.length,l=!1,u.diffs.push([s,c]),i.diffs.shift()):(c=c.substring(0,n-u.length1-this.Patch_Margin),u.length1+=c.length,o+=c.length,0===s?(u.length2+=c.length,a+=c.length):l=!1,u.diffs.push([s,c]),c==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(c.length))}s=this.diff_text2(u.diffs),s=s.substring(s.length-this.Patch_Margin),c=this.diff_text1(i.diffs).substring(0,this.Patch_Margin),""!==c&&(u.length1+=c.length,u.length2+=c.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=c:u.diffs.push([0,c])),l||t.splice(++r,0,u)}}},e.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},e.prototype.patch_fromText=function(t){var n=[];if(!t)return n;t=t.split("\n");for(var r=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<t.length;){var o=t[r].match(i);if(!o)throw Error("Invalid patch string: "+t[r]);var a=new e.patch_obj;for(n.push(a),a.start1=parseInt(o[1],10),""===o[2]?(a.start1--,a.length1=1):"0"==o[2]?a.length1=0:(a.start1--,a.length1=parseInt(o[2],10)),a.start2=parseInt(o[3],10),""===o[4]?(a.start2--,a.length2=1):"0"==o[4]?a.length2=0:(a.start2--,a.length2=parseInt(o[4],10)),r++;r<t.length;){o=t[r].charAt(0);try{var s=decodeURI(t[r].substring(1))}catch(u){throw Error("Illegal escape in patch_fromText: "+s)}if("-"==o)a.diffs.push([-1,s]);else if("+"==o)a.diffs.push([1,s]);else if(" "==o)a.diffs.push([0,s]);else{if("@"==o)break;if(""!==o)throw Error('Invalid patch mode "'+o+'" in: '+s)}r++}}return n},e.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},e.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,e=["@@ -"+e+" +"+t+" @@\n"];var n;for(t=0;t<this.diffs.length;t++){switch(this.diffs[t][0]){case 1:n="+";break;case-1:n="-";break;case 0:n=" "}e[t+1]=n+encodeURI(this.diffs[t][1])+"\n"}return e.join("").replace(/%20/g," ")},this.diff_match_patch=e,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}();var JsDiff=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function n(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var r=function(e){this.ignoreWhitespace=e};r.prototype={diff:function(t,n){if(n===t)return[{value:n}];if(!n)return[{value:t,removed:!0}];if(!t)return[{value:n,added:!0}];n=this.tokenize(n),t=this.tokenize(t);var r=n.length,i=t.length,o=r+i,a=[{newPos:-1,components:[]}],s=this.extractCommon(a[0],n,t,0);if(a[0].newPos+1>=r&&s+1>=i)return a[0].components;for(var u=1;o>=u;u++)for(var l=-1*u;u>=l;l+=2){var c,p=a[l-1],h=a[l+1];s=(h?h.newPos:0)-l,p&&(a[l-1]=void 0);var f=p&&p.newPos+1<r,d=h&&s>=0&&i>s;if(f||d){!f||d&&p.newPos<h.newPos?(c=e(h),this.pushComponent(c.components,t[s],void 0,!0)):(c=e(p),c.newPos++,this.pushComponent(c.components,n[c.newPos],!0,void 0));var s=this.extractCommon(c,n,t,l);if(c.newPos+1>=r&&s+1>=i)return c.components;a[l]=c}else a[l]=void 0}},pushComponent:function(e,t,n,r){var i=e[e.length-1];i&&i.added===n&&i.removed===r?e[e.length-1]={value:this.join(i.value,t),added:n,removed:r}:e.push({value:t,added:n,removed:r})},extractCommon:function(e,t,n,r){for(var i=t.length,o=n.length,a=e.newPos,s=a-r;i>a+1&&o>s+1&&this.equals(t[a+1],n[s+1]);)a++,s++,this.pushComponent(e.components,t[a],void 0,void 0);return e.newPos=a,s},equals:function(e,t){var n=/\S/;return!this.ignoreWhitespace||n.test(e)||n.test(t)?e===t:!0},join:function(e,t){return e+t},tokenize:function(e){return e}};var i=new r,o=new r(!0),a=new r;o.tokenize=a.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var s=new r(!0);s.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var u=new r;return u.tokenize=function(e){for(var t=[],n=e.split(/^/m),r=0;r<n.length;r++){var i=n[r],o=n[r-1];"\n"==i&&o&&"\r"===o[o.length-1]?t[t.length-1]+="\n":i&&t.push(i)}return t},{Diff:r,diffChars:function(e,t){return i.diff(e,t)},diffWords:function(e,t){return o.diff(e,t)},diffWordsWithSpace:function(e,t){return a.diff(e,t)},diffLines:function(e,t){return u.diff(e,t)},diffCss:function(e,t){return s.diff(e,t)},createPatch:function(e,t,n,r,i){function o(e){return e.map(function(e){return" "+e})}function a(e,t,n){var r=l[l.length-2],i=t===l.length-2,o=t===l.length-3&&(n.added!==r.added||n.removed!==r.removed);/\n$/.test(n.value)||!i&&!o||e.push("\\ No newline at end of file")}var s=[];s.push("Index: "+e),s.push("==================================================================="),s.push("--- "+e+("undefined"==typeof r?"":"	"+r)),s.push("+++ "+e+("undefined"==typeof i?"":"	"+i));var l=u.diff(t,n);l[l.length-1].value||l.pop(),l.push({value:"",lines:[]});for(var c=0,p=0,h=[],f=1,d=1,m=0;m<l.length;m++){var g=l[m],v=g.lines||g.value.replace(/\n$/,"").split("\n");if(g.lines=v,g.added||g.removed){if(!c){var y=l[m-1];c=f,p=d,y&&(h=o(y.lines.slice(-4)),c-=h.length,p-=h.length)}h.push.apply(h,v.map(function(e){return(g.added?"+":"-")+e})),a(h,m,g),g.added?d+=v.length:f+=v.length}else{if(c)if(v.length<=8&&m<l.length-2)h.push.apply(h,o(v));else{var b=Math.min(v.length,4);s.push("@@ -"+c+","+(f-c+b)+" +"+p+","+(d-p+b)+" @@"),s.push.apply(s,h),s.push.apply(s,o(v.slice(0,b))),v.length<=4&&a(s,m,g),c=0,p=0,h=[]}f+=v.length,d+=v.length}}return s.join("\n")+"\n"},applyPatch:function(e,t){for(var n=t.split("\n"),r=[],i=!1,o=!1,a="I"===n[0][0]?4:0;a<n.length;a++)if("@"===n[a][0]){var s=n[a].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:s[3],oldlength:s[2],oldlines:[],newlength:s[4],newlines:[]})}else"+"===n[a][0]?r[0].newlines.push(n[a].substr(1)):"-"===n[a][0]?r[0].oldlines.push(n[a].substr(1)):" "===n[a][0]?(r[0].newlines.push(n[a].substr(1)),r[0].oldlines.push(n[a].substr(1))):"\\"===n[a][0]&&("+"===n[a-1][0]?i=!0:"-"===n[a-1][0]&&(o=!0));for(var u=e.split("\n"),a=r.length-1;a>=0;a--){for(var l=r[a],c=0;c<l.oldlength;c++)if(u[l.start-1+c]!==l.oldlines[c])return!1;Array.prototype.splice.apply(u,[l.start-1,+l.oldlength].concat(l.newlines))}if(i)for(;!u[u.length-1];)u.pop();else o&&u.push("");return u.join("\n")},convertChangesToXML:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push(n(i.value)),i.added?t.push("</ins>"):i.removed&&t.push("</del>")
}return t.join("")},convertChangesToDMP:function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push([t.added?1:t.removed?-1:0,t.value]);return n}}}();"undefined"!=typeof module&&(module.exports=JsDiff),function(e){function t(){var e=-1,t=this;t.append=function(n){var r,i=t.table;for(r=0;r<n.length;r++)e=e>>>8^i[255&(e^n[r])]},t.get=function(){return~e}}function n(e,t,n){return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}function r(e,t){var n,r;return n=new ArrayBuffer(e),r=new Uint8Array(n),t&&r.set(t,0),{buffer:n,array:r,view:new DataView(n)}}function i(){}function o(e){function t(t,n){var o=new Blob([e],{type:j});r=new s(o),r.init(function(){i.size=r.size,t()},n)}function n(e,t,n,i){r.readUint8Array(e,t,n,i)}var r,i=this;i.size=0,i.init=t,i.readUint8Array=n}function a(t){function n(e){for(var n=t.length;"="==t.charAt(n-1);)n--;o=t.indexOf(",")+1,a.size=Math.floor(.75*(n-o)),e()}function i(n,i,a){var s,u=r(i),l=4*Math.floor(n/3),c=4*Math.ceil((n+i)/3),p=e.atob(t.substring(l+o,c+o)),h=n-3*Math.floor(l/4);for(s=h;h+i>s;s++)u.array[s-h]=p.charCodeAt(s);a(u.array)}var o,a=this;a.size=0,a.init=n,a.readUint8Array=i}function s(e){function t(t){this.size=e.size,t()}function r(t,r,i,o){var a=new FileReader;a.onload=function(e){i(new Uint8Array(e.target.result))},a.onerror=o,a.readAsArrayBuffer(n(e,t,r))}var i=this;i.size=0,i.init=t,i.readUint8Array=r}function u(){}function l(e){function t(e){i=new Blob([],{type:j}),e()}function n(e,t){i=new Blob([i,A?e:e.buffer],{type:j}),t()}function r(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=n,r.readAsText(i,e)}var i,o=this;o.init=t,o.writeUint8Array=n,o.getData=r}function c(t){function n(e){a+="data:"+(t||"")+";base64,",e()}function r(t,n){var r,i=s.length,o=s;for(s="",r=0;r<3*Math.floor((i+t.length)/3)-i;r++)o+=String.fromCharCode(t[r]);for(;r<t.length;r++)s+=String.fromCharCode(t[r]);o.length>2?a+=e.btoa(o):s=o,n()}function i(t){t(a+e.btoa(s))}var o=this,a="",s="";o.init=n,o.writeUint8Array=r,o.getData=i}function p(e){function t(t){i=new Blob([],{type:e}),t()}function n(t,n){i=new Blob([i,A?t:t.buffer],{type:e}),n()}function r(e){e(i)}var i,o=this;o.init=t,o.writeUint8Array=n,o.getData=r}function h(e,t,n,r,i,o,a,s,u,l){function c(){e.removeEventListener(I,p,!1),s(d)}function p(e){var t=e.data,r=t.data;t.onappend&&(d+=r.length,n.writeUint8Array(r,function(){o(!1,r),h()},l)),t.onflush&&(r?(d+=r.length,n.writeUint8Array(r,function(){o(!1,r),c()},l)):c()),t.progress&&a&&a(f+t.current,i)}function h(){f=m*N,i>f?t.readUint8Array(r+f,Math.min(N,i-f),function(t){e.postMessage({append:!0,data:t}),m++,a&&a(f,i),o(!0,t)},u):e.postMessage({flush:!0})}var f,d,m=0;d=0,e.addEventListener(I,p,!1),h()}function f(e,t,n,r,i,o,a,s,u,l){function c(){var d;p=h*N,i>p?t.readUint8Array(r+p,Math.min(N,i-p),function(t){var s=e.append(t,function(){a&&a(r+p,i)});f+=s.length,o(!0,t),n.writeUint8Array(s,function(){o(!1,s),h++,setTimeout(c,1)},l),a&&a(p,i)},u):(d=e.flush(),d?(f+=d.length,n.writeUint8Array(d,function(){o(!1,d),s(f)},l)):s(f))}var p,h=0,f=0;c()}function d(n,r,i,o,a,s,u,l,c){function p(e,t){a&&!e&&g.append(t)}function d(e){s(e,g.get())}var m,g=new t;return e.zip.useWebWorkers?(m=new Worker(e.zip.workerScriptsPath+B),h(m,n,r,i,o,p,u,d,l,c)):f(new e.zip.Inflater,n,r,i,o,p,u,d,l,c),m}function m(n,r,i,o,a,s,u){function l(e,t){e&&m.append(t)}function c(e){o(e,m.get())}function p(){d.removeEventListener(I,p,!1),h(d,n,r,0,n.size,l,a,c,s,u)}var d,m=new t;return e.zip.useWebWorkers?(d=new Worker(e.zip.workerScriptsPath+R),d.addEventListener(I,p,!1),d.postMessage({init:!0,level:i})):f(new e.zip.Deflater,n,r,0,n.size,l,a,c,s,u),d}function g(e,n,r,i,o,a,s,u,l){function c(){var t=p*N;i>t?e.readUint8Array(r+t,Math.min(N,i-t),function(e){o&&h.append(e),s&&s(t,i,e),n.writeUint8Array(e,function(){p++,c()},l)},u):a(i,h.get())}var p=0,h=new t;c()}function v(e){var t,n,r="",i=["\xc7","\xfc","\xe9","\xe2","\xe4","\xe0","\xe5","\xe7","\xea","\xeb","\xe8","\xef","\xee","\xec","\xc4","\xc5","\xc9","\xe6","\xc6","\xf4","\xf6","\xf2","\xfb","\xf9","\xff","\xd6","\xdc","\xf8","\xa3","\xd8","\xd7","\u0192","\xe1","\xed","\xf3","\xfa","\xf1","\xd1","\xaa","\xba","\xbf","\xae","\xac","\xbd","\xbc","\xa1","\xab","\xbb","_","_","_","\xa6","\xa6","\xc1","\xc2","\xc0","\xa9","\xa6","\xa6","+","+","\xa2","\xa5","+","+","-","-","+","-","+","\xe3","\xc3","+","+","-","-","\xa6","-","+","\xa4","\xf0","\xd0","\xca","\xcb","\xc8","i","\xcd","\xce","\xcf","+","+","_","_","\xa6","\xcc","_","\xd3","\xdf","\xd4","\xd2","\xf5","\xd5","\xb5","\xfe","\xde","\xda","\xdb","\xd9","\xfd","\xdd","\xaf","\xb4","\xad","\xb1","_","\xbe","\xb6","\xa7","\xf7","\xb8","\xb0","\xa8","\xb7","\xb9","\xb3","\xb2","_"," "];for(t=0;t<e.length;t++)n=255&e.charCodeAt(t),r+=n>127?i[n-128]:String.fromCharCode(n);return r}function y(e){return decodeURIComponent(escape(e))}function b(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function w(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(r){}}function _(e,t,n,r,i){return e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=w(e.lastModDateRaw),1===(1&e.bitFlag)?void i(M):((r||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),4294967295===e.compressedSize||4294967295===e.uncompressedSize?void i(T):(e.filenameLength=t.view.getUint16(n+22,!0),void(e.extraFieldLength=t.view.getUint16(n+24,!0))))}function x(e,t){function n(){}function i(n,o){e.readUint8Array(e.size-n,n,function(e){var t=r(e.length,e).view;1347093766!=t.getUint32(0)?i(n+1,o):o(t)},function(){t(D)})}return n.prototype.getData=function(n,i,o,a){function s(e,t){h&&h.terminate(),h=null,e&&e(t)}function u(e){var t=r(4);return t.view.setUint32(0,e),f.crc32==t.view.getUint32(0)}function l(e,t){a&&!u(t)?c():n.getData(function(e){s(i,e)})}function c(){s(t,F)}function p(){s(t,L)}var h,f=this;e.readUint8Array(f.offset,30,function(i){var s,u=r(i.length,i);return 1347093252!=u.view.getUint32(0)?void t(S):(_(f,u,4,!1,t),s=f.offset+30+f.filenameLength+f.extraFieldLength,void n.init(function(){0===f.compressionMethod?g(e,n,s,f.compressedSize,a,l,o,c,p):h=d(e,n,s,f.compressedSize,a,l,o,c,p)},p))},c)},{getEntries:function(o){return e.size<22?void t(S):void i(22,function(i){var a,s;a=i.getUint32(16,!0),s=i.getUint16(8,!0),e.readUint8Array(a,e.size-a,function(e){var i,a,u,l,c=0,p=[],h=r(e.length,e);for(i=0;s>i;i++){if(a=new n,1347092738!=h.view.getUint32(c))return void t(S);_(a,h,c+6,!0,t),a.commentLength=h.view.getUint16(c+32,!0),a.directory=16==(16&h.view.getUint8(c+38)),a.offset=h.view.getUint32(c+42,!0),u=b(h.array.subarray(c+46,c+46+a.filenameLength)),a.filename=2048===(2048&a.bitFlag)?y(u):v(u),a.directory||"/"!=a.filename.charAt(a.filename.length-1)||(a.directory=!0),l=b(h.array.subarray(c+46+a.filenameLength+a.extraFieldLength,c+46+a.filenameLength+a.extraFieldLength+a.commentLength)),a.comment=2048===(2048&a.bitFlag)?y(l):v(l),p.push(a),c+=46+a.filenameLength+a.extraFieldLength+a.commentLength}o(p)},function(){t(D)})})},close:function(e){e&&e()}}}function E(e){return unescape(encodeURIComponent(e))}function k(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}function C(e,t,n){function i(e,t){s&&s.terminate(),s=null,e&&e(t)}function o(){i(t,O)}function a(){i(t,F)}var s,u={},l=[],c=0;return{add:function(p,h,f,d,v){function y(t){var i;C=v.lastModDate||new Date,_=r(26),u[p]={headerArray:_.array,directory:v.directory,filename:x,offset:c,comment:k(E(v.comment||""))},_.view.setUint32(0,335546376),v.version&&_.view.setUint8(0,v.version),n||0===v.level||v.directory||_.view.setUint16(4,2048),_.view.setUint16(6,(C.getHours()<<6|C.getMinutes())<<5|C.getSeconds()/2,!0),_.view.setUint16(8,(C.getFullYear()-1980<<4|C.getMonth()+1)<<5|C.getDate(),!0),_.view.setUint16(22,x.length,!0),i=r(30+x.length),i.view.setUint32(0,1347093252),i.array.set(_.array,4),i.array.set(x,30),c+=i.array.length,e.writeUint8Array(i.array,t,o)}function b(t,n){var a=r(16);c+=t||0,a.view.setUint32(0,1347094280),"undefined"!=typeof n&&(_.view.setUint32(10,n,!0),a.view.setUint32(4,n,!0)),h&&(a.view.setUint32(8,t,!0),_.view.setUint32(14,t,!0),a.view.setUint32(12,h.size,!0),_.view.setUint32(18,h.size,!0)),e.writeUint8Array(a.array,function(){c+=16,i(f)},o)}function w(){return v=v||{},p=p.trim(),v.directory&&"/"!=p.charAt(p.length-1)&&(p+="/"),u.hasOwnProperty(p)?void t(P):(x=k(E(p)),l.push(p),void y(function(){h?n||0===v.level?g(h,e,0,h.size,!0,b,d,a,o):s=m(h,e,v.level,b,d,a,o):b()},o))}var _,x,C;h?h.init(w,a):w()},close:function(t){var n,a,s,p=0,h=0;for(a=0;a<l.length;a++)s=u[l[a]],p+=46+s.filename.length+s.comment.length;for(n=r(p+22),a=0;a<l.length;a++)s=u[l[a]],n.view.setUint32(h,1347092738),n.view.setUint16(h+4,5120),n.array.set(s.headerArray,h+6),n.view.setUint16(h+32,s.comment.length,!0),s.directory&&n.view.setUint8(h+38,16),n.view.setUint32(h+42,s.offset,!0),n.array.set(s.filename,h+46),n.array.set(s.comment,h+46+s.filename.length),h+=46+s.filename.length+s.comment.length;n.view.setUint32(h,1347093766),n.view.setUint16(h+8,l.length,!0),n.view.setUint16(h+10,l.length,!0),n.view.setUint32(h+12,p,!0),n.view.setUint32(h+16,c,!0),e.writeUint8Array(n.array,function(){i(function(){e.getData(t)})},o)}}}var A,S="File format is not recognized.",M="File contains encrypted entry.",T="File is using Zip64 (4gb+ file size).",D="Error while reading zip file.",O="Error while writing zip file.",L="Error while writing file data.",F="Error while reading file data.",P="File already exists.",N=524288,B="inflate.js",R="deflate.js",j="text/plain",I="message";try{A=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch($){}t.prototype.table=function(){var e,t,n,r=[];for(e=0;256>e;e++){for(n=e,t=0;8>t;t++)1&n?n=n>>>1^3988292384:n>>>=1;r[e]=n}return r}(),o.prototype=new i,o.prototype.constructor=o,a.prototype=new i,a.prototype.constructor=a,s.prototype=new i,s.prototype.constructor=s,u.prototype.getData=function(e){e(this.data)},l.prototype=new u,l.prototype.constructor=l,c.prototype=new u,c.prototype.constructor=c,p.prototype=new u,p.prototype.constructor=p,e.zip={Reader:i,Writer:u,BlobReader:s,Data64URIReader:a,TextReader:o,BlobWriter:p,Data64URIWriter:c,TextWriter:l,createReader:function(e,t,n){e.init(function(){t(x(e,n))},n)},createWriter:function(e,t,n,r){e.init(function(){t(C(e,n,r))},n)},workerScriptsPath:"",useWebWorkers:!0}}(this),function(){function e(e){function t(t){this.size=e.uncompressedSize,t()}function n(t){o.data?t():e.getData(new v,function(e){o.data=e,i=new _(e),t()},null,o.checkCrc32)}function r(e,t,r,o){n(function(){i.readUint8Array(e,t,r,o)},o)}var i,o=this;o.size=0,o.init=t,o.readUint8Array=r}function t(e){function t(e){n+=e.uncompressedSize||0,e.children.forEach(t)}var n=0;return t(e),n}function n(e,t,r){function i(){a++,a<e.children.length?o(e.children[a]):t()}function o(e){e.directory?n(e,i,r):(e.reader=new e.Reader(e.data,r),e.reader.init(function(){e.uncompressedSize=e.reader.size,i()}))}var a=0;e.children.length?o(e.children[a]):t()}function r(e){var t=e.parent.children;t.forEach(function(n,r){n.id==e.id&&t.splice(r,1)})}function i(e,t,n,r,i){function o(e,t,n,r,i){function s(){var l=t.children[u];l?e.add(l.getFullname(),l.reader,function(){a+=l.uncompressedSize||0,o(e,l,function(){u++,s()},r,i)},function(e){r&&r(a+e,i)},{directory:l.directory,version:l.zipVersion}):n()}var u=0;s()}var a=0;o(e,t,n,r,i)}function o(e,t,n,r){function i(e,t){e.isDirectory&&e.createReader().readEntries(t),e.isFile&&t([])}function o(e,t,n){i(t,function(t){function i(t){function n(e){o(e,t,function(){s++,a()})}t.isDirectory&&n(e.addDirectory(t.name)),t.isFile&&t.file(function(r){var i=e.addBlob(t.name,r);i.uncompressedSize=r.size,n(i)},r)}function a(){var e=t[s];e?i(e):n()}var s=0;a()})}t.isDirectory?o(e,t,n):t.file(function(r){e.addBlob(t.name,r),n()},r)}function a(e,t,n,r,i,o,a){function s(e,t,n,r,i,o){function l(t){function n(e){u+=t.uncompressedSize||0,s(e,t,function(){p++,c()},r,i,o)}t.directory?e.getDirectory(t.name,{create:!0},n,i):e.getFile(t.name,{create:!0},function(e){t.getData(new zip.FileWriter(e,zip.getMimeType(t.name)),n,function(e){r&&r(u+e,o)},a)},i)}function c(){var e=t.children[p];e?l(e):n()}var p=0;c()}var u=0;t.directory?s(e,t,n,r,i,o):t.getData(new zip.FileWriter(e,zip.getMimeType(t.name)),n,r,a)}function s(e){e.entries=[],e.root=new f(e)}function u(e,t,n,r,i){function o(){var s=a*m;r&&r(s,e.size),s<e.size?e.readUint8Array(s,Math.min(m,e.size-s),function(e){t.writeUint8Array(new Uint8Array(e),function(){a++,o()})},i):t.getData(n)}var a=0;o()}function l(e,t,n,r){var i=this;!e||e.constructor==i.Writer&&i.data?t(i.data):(i.reader||(i.reader=new i.Reader(i.data,r)),i.reader.init(function(){e.init(function(){u(i.reader,e,t,n,r)},r)}))}function c(e,t,n,r){if(e.directory)return r?new f(e.fs,t,n,e):new h(e.fs,t,n,e);throw"Parent entry is not a directory."}function p(){}function h(e,t,n,r){var i=this;p.prototype.init.call(i,e,t,n,r),i.Reader=n.Reader,i.Writer=n.Writer,i.data=n.data,i.getData=n.getData||l}function f(e,t,n,r){var i=this;p.prototype.init.call(i,e,t,n,r),i.directory=!0}function d(){s(this)}var m=524288,g=zip.TextWriter,v=zip.BlobWriter,y=zip.Data64URIWriter,b=zip.Reader,w=zip.TextReader,_=zip.BlobReader,x=zip.Data64URIReader,E=zip.createReader,k=zip.createWriter;e.prototype=new b,e.prototype.constructor=e,e.prototype.checkCrc32=!1,p.prototype={init:function(e,t,n,r){var i=this;if(e.root&&r&&r.getChildByName(t))throw"Entry filename already exists.";n||(n={}),i.fs=e,i.name=t,i.id=e.entries.length,i.parent=r,i.children=[],i.zipVersion=n.zipVersion||20,i.uncompressedSize=0,e.entries.push(i),r&&i.parent.children.push(i)},getFileEntry:function(e,r,i,o,s){var u=this;n(u,function(){a(e,u,r,i,o,t(u),s)},o)},moveTo:function(e){var t=this;if(!e.directory)throw"Target entry is not a directory.";if(e.isDescendantOf(t))throw"Entry is a ancestor of target entry.";if(t!=e){if(e.getChildByName(t.name))throw"Entry filename already exists.";r(t),t.parent=e,e.children.push(t)}},getFullname:function(){for(var e=this,t=e.name,n=e.parent;n;)t=(n.name?n.name+"/":"")+t,n=n.parent;return t},isDescendantOf:function(e){for(var t=this.parent;t&&t.id!=e.id;)t=t.parent;return!!t}},p.prototype.constructor=p;var C;h.prototype=C=new p,C.constructor=h,C.getText=function(e,t,n,r){this.getData(new g(r),e,t,n)},C.getBlob=function(e,t,n,r){this.getData(new v(e),t,n,r)},C.getData64URI=function(e,t,n,r){this.getData(new y(e),t,n,r)};var A;f.prototype=A=new p,A.constructor=f,A.addDirectory=function(e){return c(this,e,null,!0)},A.addText=function(e,t){return c(this,e,{data:t,Reader:w,Writer:g})},A.addBlob=function(e,t){return c(this,e,{data:t,Reader:_,Writer:v})},A.addData64URI=function(e,t){return c(this,e,{data:t,Reader:x,Writer:y})},A.addFileEntry=function(e,t,n){o(this,e,t,n)},A.addData=function(e,t){return c(this,e,t)},A.importBlob=function(e,t,n){this.importZip(new _(e),t,n)},A.importText=function(e,t,n){this.importZip(new w(e),t,n)},A.importData64URI=function(e,t,n){this.importZip(new x(e),t,n)},A.exportBlob=function(e,t,n){this.exportZip(new v("application/zip"),e,t,n)},A.exportText=function(e,t,n){this.exportZip(new g,e,t,n)},A.exportFileEntry=function(e,t,n,r){this.exportZip(new zip.FileWriter(e,"application/zip"),t,n,r)},A.exportData64URI=function(e,t,n){this.exportZip(new y("application/zip"),e,t,n)},A.importZip=function(t,n,r){var i=this;E(t,function(t){t.getEntries(function(t){t.forEach(function(t){var n=i,r=t.filename.split("/"),o=r.pop();r.forEach(function(e){n=n.getChildByName(e)||new f(i.fs,e,null,n)}),t.directory||c(n,o,{data:t,Reader:e})}),n()})},r)},A.exportZip=function(e,r,o,a){var s=this;n(s,function(){k(e,function(e){i(e,s,function(){e.close(r)},o,t(s))},a)},a)},A.getChildByName=function(e){var t,n,r=this;for(t=0;t<r.children.length;t++)if(n=r.children[t],n.name==e)return n},d.prototype={remove:function(e){r(e),this.entries[e.id]=null},find:function(e){var t,n=e.split("/"),r=this.root;for(t=0;r&&t<n.length;t++)r=r.getChildByName(n[t]);return r},getById:function(e){return this.entries[e]},importBlob:function(e,t,n){s(this),this.root.importBlob(e,t,n)},importText:function(e,t,n){s(this),this.root.importText(e,t,n)},importData64URI:function(e,t,n){s(this),this.root.importData64URI(e,t,n)},exportBlob:function(e,t,n){this.root.exportBlob(e,t,n)},exportText:function(e,t,n){this.root.exportText(e,t,n)},exportFileEntry:function(e,t,n,r){this.root.exportFileEntry(e,t,n,r)},exportData64URI:function(e,t,n){this.root.exportData64URI(e,t,n)}},zip.fs={FS:d,ZipDirectoryEntry:f,ZipFileEntry:h},zip.getMimeType=function(){return"application/octet-stream"}}(),function(e){function t(){function e(e){var t,n,i,o,a,s,l=r.dyn_tree,c=r.stat_desc.static_tree,p=r.stat_desc.extra_bits,h=r.stat_desc.extra_base,f=r.stat_desc.max_length,m=0;for(o=0;u>=o;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;d>t;t++)n=e.heap[t],o=l[2*l[2*n+1]+1]+1,o>f&&(o=f,m++),l[2*n+1]=o,n>r.max_code||(e.bl_count[o]++,a=0,n>=h&&(a=p[n-h]),s=l[2*n],e.opt_len+=s*(o+a),c&&(e.static_len+=s*(c[2*n+1]+a)));if(0!==m){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(o=f;0!==o;o--)for(n=e.bl_count[o];0!==n;)i=e.heap[--t],i>r.max_code||(l[2*i+1]!=o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),n--)}}function t(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function n(e,n,r){var i,o,a,s=[],l=0;for(i=1;u>=i;i++)s[i]=l=l+r[i-1]<<1;for(o=0;n>=o;o++)a=e[2*o+1],0!==a&&(e[2*o]=t(s[a]++,a))}var r=this;r.build_tree=function(t){var i,o,a,s=r.dyn_tree,u=r.stat_desc.static_tree,l=r.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=d,i=0;l>i;i++)0!==s[2*i]?(t.heap[++t.heap_len]=c=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)a=t.heap[++t.heap_len]=2>c?++c:0,s[2*a]=1,t.depth[a]=0,t.opt_len--,u&&(t.static_len-=u[2*a+1]);for(r.max_code=c,i=Math.floor(t.heap_len/2);i>=1;i--)t.pqdownheap(s,i);a=l;do i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],t.pqdownheap(s,1),o=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=o,s[2*a]=s[2*i]+s[2*o],t.depth[a]=Math.max(t.depth[i],t.depth[o])+1,s[2*i+1]=s[2*o+1]=a,t.heap[1]=a++,t.pqdownheap(s,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],e(t),n(s,r.max_code,t.bl_count)}}function n(e,t,n,r,i){var o=this;o.static_tree=e,o.extra_bits=t,o.extra_base=n,o.elems=r,o.max_length=i}function r(e,t,n,r,i){var o=this;o.good_length=e,o.max_lazy=t,o.nice_length=n,o.max_chain=r,o.func=i}function i(e,t,n,r){var i=e[2*t],o=e[2*n];return o>i||i==o&&r[t]<=r[n]}function o(){function e(){var e;for(Dt=2*At,Lt[Pt-1]=0,e=0;Pt-1>e;e++)Lt[e]=0;qt=z[Gt].max_lazy,Jt=z[Gt].good_length,Xt=z[Gt].nice_length,Ht=z[Gt].max_chain,Ut=0,jt=0,Yt=0,It=Wt=tt-1,zt=0,Ft=0}function r(){var e;for(e=0;f>e;e++)Zt[2*e]=0;for(e=0;l>e;e++)Qt[2*e]=0;for(e=0;c>e;e++)en[2*e]=0;Zt[2*m]=1,tn.opt_len=tn.static_len=0,un=cn=0}function o(){nn.dyn_tree=Zt,nn.stat_desc=n.static_l_desc,rn.dyn_tree=Qt,rn.stat_desc=n.static_d_desc,on.dyn_tree=en,on.stat_desc=n.static_bl_desc,hn=0,fn=0,pn=8,r()}function a(e,t){var n,r,i=-1,o=e[1],a=0,s=7,u=4;for(0===o&&(s=138,u=3),e[2*(t+1)+1]=65535,n=0;t>=n;n++)r=o,o=e[2*(n+1)+1],++a<s&&r==o||(u>a?en[2*r]+=a:0!==r?(r!=i&&en[2*r]++,en[2*v]++):10>=a?en[2*y]++:en[2*b]++,a=0,i=r,0===o?(s=138,u=3):r==o?(s=6,u=3):(s=7,u=4))}function s(){var e;for(a(Zt,nn.max_code),a(Qt,rn.max_code),on.build_tree(tn),e=c-1;e>=3&&0===en[2*t.bl_order[e]+1];e--);return tn.opt_len+=3*(e+1)+5+5+4,e}function u(e){tn.pending_buf[tn.pending++]=e}function p(e){u(255&e),u(e>>>8&255)}function d(e){u(e>>8&255),u(255&e&255)}function g(e,t){var n,r=t;fn>w-r?(n=e,hn|=n<<fn&65535,p(hn),hn=n>>>w-fn,fn+=r-w):(hn|=e<<fn&65535,fn+=r)}function N(e,t){var n=2*e;g(65535&t[n],65535&t[n+1])}function it(e,t){var n,r,i=-1,o=e[1],a=0,s=7,u=4;for(0===o&&(s=138,u=3),n=0;t>=n;n++)if(r=o,o=e[2*(n+1)+1],!(++a<s&&r==o)){if(u>a){do N(r,en);while(0!==--a)}else 0!==r?(r!=i&&(N(r,en),a--),N(v,en),g(a-3,2)):10>=a?(N(y,en),g(a-3,3)):(N(b,en),g(a-11,7));a=0,i=r,0===o?(s=138,u=3):r==o?(s=6,u=3):(s=7,u=4)}}function ot(e,n,r){var i;for(g(e-257,5),g(n-1,5),g(r-4,4),i=0;r>i;i++)g(en[2*t.bl_order[i]+1],3);it(Zt,e-1),it(Qt,n-1)}function at(){16==fn?(p(hn),hn=0,fn=0):fn>=8&&(u(255&hn),hn>>>=8,fn-=8)}function st(){g(Q<<1,3),N(m,n.static_ltree),at(),9>1+pn+10-fn&&(g(Q<<1,3),N(m,n.static_ltree),at()),pn=7}function ut(e,n){var r,i,o;if(tn.pending_buf[ln+2*un]=e>>>8&255,tn.pending_buf[ln+2*un+1]=255&e,tn.pending_buf[an+un]=255&n,un++,0===e?Zt[2*n]++:(cn++,e--,Zt[2*(t._length_code[n]+h+1)]++,Qt[2*t.d_code(e)]++),0===(8191&un)&&Gt>2){for(r=8*un,i=Ut-jt,o=0;l>o;o++)r+=Qt[2*o]*(5+t.extra_dbits[o]);if(r>>>=3,cn<Math.floor(un/2)&&r<Math.floor(i/2))return!0}return un==sn-1}function lt(e,n){var r,i,o,a,s=0;if(0!==un)do r=tn.pending_buf[ln+2*s]<<8&65280|255&tn.pending_buf[ln+2*s+1],i=255&tn.pending_buf[an+s],s++,0===r?N(i,e):(o=t._length_code[i],N(o+h+1,e),a=t.extra_lbits[o],0!==a&&(i-=t.base_length[o],g(i,a)),r--,o=t.d_code(r),N(o,n),a=t.extra_dbits[o],0!==a&&(r-=t.base_dist[o],g(r,a)));while(un>s);N(m,e),pn=e[2*m+1]}function ct(){fn>8?p(hn):fn>0&&u(255&hn),hn=0,fn=0}function pt(e,t,n){ct(),pn=8,n&&(p(t),p(~t)),tn.pending_buf.set(Tt.subarray(e,e+t),tn.pending),tn.pending+=t}function ht(e,t,n){g((Z<<1)+(n?1:0),3),pt(e,t,!0)}function ft(e,t,i){var o,a,u=0;Gt>0?(nn.build_tree(tn),rn.build_tree(tn),u=s(),o=tn.opt_len+3+7>>>3,a=tn.static_len+3+7>>>3,o>=a&&(o=a)):o=a=t+5,o>=t+4&&-1!=e?ht(e,t,i):a==o?(g((Q<<1)+(i?1:0),3),lt(n.static_ltree,n.static_dtree)):(g((et<<1)+(i?1:0),3),ot(nn.max_code+1,rn.max_code+1,u+1),lt(Zt,Qt)),r(),i&&ct()}function dt(e){ft(jt>=0?jt:-1,Ut-jt,e),jt=Ut,_t.flush_pending()}function mt(){var e,t,n,r;do{if(r=Dt-Yt-Ut,0===r&&0===Ut&&0===Yt)r=At;else if(-1==r)r--;else if(Ut>=At+At-rt){Tt.set(Tt.subarray(At,At+At),0),Vt-=At,Ut-=At,jt-=At,e=Pt,n=e;do t=65535&Lt[--n],Lt[n]=t>=At?t-At:0;while(0!==--e);e=At,n=e;do t=65535&Ot[--n],Ot[n]=t>=At?t-At:0;while(0!==--e);r+=At}if(0===_t.avail_in)return;e=_t.read_buf(Tt,Ut+Yt,r),Yt+=e,Yt>=tt&&(Ft=255&Tt[Ut],Ft=(Ft<<Rt^255&Tt[Ut+1])&Bt)}while(rt>Yt&&0!==_t.avail_in)}function gt(e){var t,n=65535;for(n>Et-5&&(n=Et-5);;){if(1>=Yt){if(mt(),0===Yt&&e==C)return V;if(0===Yt)break}if(Ut+=Yt,Yt=0,t=jt+n,(0===Ut||Ut>=t)&&(Yt=Ut-t,Ut=t,dt(!1),0===_t.avail_out))return V;if(Ut-jt>=At-rt&&(dt(!1),0===_t.avail_out))return V}return dt(e==M),0===_t.avail_out?e==M?W:V:e==M?H:Y}function vt(e){var t,n,r=Ht,i=Ut,o=Wt,a=Ut>At-rt?Ut-(At-rt):0,s=Xt,u=Mt,l=Ut+nt,c=Tt[i+o-1],p=Tt[i+o];Wt>=Jt&&(r>>=2),s>Yt&&(s=Yt);do if(t=e,Tt[t+o]==p&&Tt[t+o-1]==c&&Tt[t]==Tt[i]&&Tt[++t]==Tt[i+1]){i+=2,t++;do;while(Tt[++i]==Tt[++t]&&Tt[++i]==Tt[++t]&&Tt[++i]==Tt[++t]&&Tt[++i]==Tt[++t]&&Tt[++i]==Tt[++t]&&Tt[++i]==Tt[++t]&&Tt[++i]==Tt[++t]&&Tt[++i]==Tt[++t]&&l>i);if(n=nt-(l-i),i=l-nt,n>o){if(Vt=e,o=n,n>=s)break;c=Tt[i+o-1],p=Tt[i+o]}}while((e=65535&Ot[e&u])>a&&0!==--r);return Yt>=o?o:Yt}function yt(e){for(var t,n=0;;){if(rt>Yt){if(mt(),rt>Yt&&e==C)return V;if(0===Yt)break}if(Yt>=tt&&(Ft=(Ft<<Rt^255&Tt[Ut+(tt-1)])&Bt,n=65535&Lt[Ft],Ot[Ut&Mt]=Lt[Ft],Lt[Ft]=Ut),0!==n&&At-rt>=(Ut-n&65535)&&Kt!=E&&(It=vt(n)),It>=tt)if(t=ut(Ut-Vt,It-tt),Yt-=It,qt>=It&&Yt>=tt){It--;do Ut++,Ft=(Ft<<Rt^255&Tt[Ut+(tt-1)])&Bt,n=65535&Lt[Ft],Ot[Ut&Mt]=Lt[Ft],Lt[Ft]=Ut;while(0!==--It);Ut++}else Ut+=It,It=0,Ft=255&Tt[Ut],Ft=(Ft<<Rt^255&Tt[Ut+1])&Bt;else t=ut(0,255&Tt[Ut]),Yt--,Ut++;if(t&&(dt(!1),0===_t.avail_out))return V}return dt(e==M),0===_t.avail_out?e==M?W:V:e==M?H:Y}function bt(e){for(var t,n,r=0;;){if(rt>Yt){if(mt(),rt>Yt&&e==C)return V;if(0===Yt)break}if(Yt>=tt&&(Ft=(Ft<<Rt^255&Tt[Ut+(tt-1)])&Bt,r=65535&Lt[Ft],Ot[Ut&Mt]=Lt[Ft],Lt[Ft]=Ut),Wt=It,$t=Vt,It=tt-1,0!==r&&qt>Wt&&At-rt>=(Ut-r&65535)&&(Kt!=E&&(It=vt(r)),5>=It&&(Kt==x||It==tt&&Ut-Vt>4096)&&(It=tt-1)),Wt>=tt&&Wt>=It){n=Ut+Yt-tt,t=ut(Ut-1-$t,Wt-tt),Yt-=Wt-1,Wt-=2;do++Ut<=n&&(Ft=(Ft<<Rt^255&Tt[Ut+(tt-1)])&Bt,r=65535&Lt[Ft],Ot[Ut&Mt]=Lt[Ft],Lt[Ft]=Ut);while(0!==--Wt);if(zt=0,It=tt-1,Ut++,t&&(dt(!1),0===_t.avail_out))return V}else if(0!==zt){if(t=ut(0,255&Tt[Ut-1]),t&&dt(!1),Ut++,Yt--,0===_t.avail_out)return V}else zt=1,Ut++,Yt--}return 0!==zt&&(t=ut(0,255&Tt[Ut-1]),zt=0),dt(e==M),0===_t.avail_out?e==M?W:V:e==M?H:Y}function wt(t){return t.total_in=t.total_out=0,t.msg=null,tn.pending=0,tn.pending_out=0,xt=K,Ct=C,o(),e(),T}var _t,xt,Et,kt,Ct,At,St,Mt,Tt,Dt,Ot,Lt,Ft,Pt,Nt,Bt,Rt,jt,It,$t,zt,Ut,Vt,Yt,Wt,Ht,qt,Gt,Kt,Jt,Xt,Zt,Qt,en,tn=this,nn=new t,rn=new t,on=new t;tn.depth=[];var an,sn,un,ln,cn,pn,hn,fn;tn.bl_count=[],tn.heap=[],Zt=[],Qt=[],en=[],tn.pqdownheap=function(e,t){for(var n=tn.heap,r=n[t],o=t<<1;o<=tn.heap_len&&(o<tn.heap_len&&i(e,n[o+1],n[o],tn.depth)&&o++,!i(e,r,n[o],tn.depth));)n[t]=n[o],t=o,o<<=1;n[t]=r},tn.deflateInit=function(e,t,n,r,i,o){return r||(r=X),i||(i=R),o||(o=k),e.msg=null,t==_&&(t=6),1>i||i>B||r!=X||9>n||n>15||0>t||t>9||0>o||o>E?L:(e.dstate=tn,St=n,At=1<<St,Mt=At-1,Nt=i+7,Pt=1<<Nt,Bt=Pt-1,Rt=Math.floor((Nt+tt-1)/tt),Tt=new Uint8Array(2*At),Ot=[],Lt=[],sn=1<<i+6,tn.pending_buf=new Uint8Array(4*sn),Et=4*sn,ln=Math.floor(sn/2),an=3*sn,Gt=t,Kt=o,kt=255&r,wt(e))},tn.deflateEnd=function(){return xt!=G&&xt!=K&&xt!=J?L:(tn.pending_buf=null,Lt=null,Ot=null,Tt=null,tn.dstate=null,xt==K?F:T)},tn.deflateParams=function(e,t,n){var r=T;return t==_&&(t=6),0>t||t>9||0>n||n>E?L:(z[Gt].func!=z[t].func&&0!==e.total_in&&(r=e.deflate(A)),Gt!=t&&(Gt=t,qt=z[Gt].max_lazy,Jt=z[Gt].good_length,Xt=z[Gt].nice_length,Ht=z[Gt].max_chain),Kt=n,r)},tn.deflateSetDictionary=function(e,t,n){var r,i=n,o=0;if(!t||xt!=G)return L;if(tt>i)return T;for(i>At-rt&&(i=At-rt,o=n-i),Tt.set(t.subarray(o,o+i),0),Ut=i,jt=i,Ft=255&Tt[0],Ft=(Ft<<Rt^255&Tt[1])&Bt,r=0;i-tt>=r;r++)Ft=(Ft<<Rt^255&Tt[r+(tt-1)])&Bt,Ot[r&Mt]=Lt[Ft],Lt[Ft]=r;return T},tn.deflate=function(e,t){var n,r,i,o,a;if(t>M||0>t)return L;if(!e.next_out||!e.next_in&&0!==e.avail_in||xt==J&&t!=M)return e.msg=U[O-L],L;if(0===e.avail_out)return e.msg=U[O-P],P;if(_t=e,o=Ct,Ct=t,xt==G&&(r=X+(St-8<<4)<<8,i=(Gt-1&255)>>1,i>3&&(i=3),r|=i<<6,0!==Ut&&(r|=q),r+=31-r%31,xt=K,d(r)),0!==tn.pending){if(_t.flush_pending(),0===_t.avail_out)return Ct=-1,T}else if(0===_t.avail_in&&o>=t&&t!=M)return _t.msg=U[O-P],P;if(xt==J&&0!==_t.avail_in)return e.msg=U[O-P],P;if(0!==_t.avail_in||0!==Yt||t!=C&&xt!=J){switch(a=-1,z[Gt].func){case j:a=gt(t);break;case I:a=yt(t);break;case $:a=bt(t)}if((a==W||a==H)&&(xt=J),a==V||a==W)return 0===_t.avail_out&&(Ct=-1),T;if(a==Y){if(t==A)st();else if(ht(0,0,!1),t==S)for(n=0;Pt>n;n++)Lt[n]=0;if(_t.flush_pending(),0===_t.avail_out)return Ct=-1,T}}return t!=M?T:D}}function a(){var e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}function s(e){var t=this,n=new a,r=512,i=C,o=new Uint8Array(r);"undefined"==typeof e&&(e=_),n.deflateInit(e),n.next_out=o,t.append=function(e,t){var a,s,u=[],l=0,c=0,p=0;if(e.length){n.next_in_index=0,n.next_in=e,n.avail_in=e.length;do{if(n.next_out_index=0,n.avail_out=r,a=n.deflate(i),a!=T)throw"deflating: "+n.msg;n.next_out_index&&u.push(n.next_out_index==r?new Uint8Array(o):new Uint8Array(o.subarray(0,n.next_out_index))),p+=n.next_out_index,t&&n.next_in_index>0&&n.next_in_index!=l&&(t(n.next_in_index),l=n.next_in_index)}while(n.avail_in>0||0===n.avail_out);return s=new Uint8Array(p),u.forEach(function(e){s.set(e,c),c+=e.length}),s}},t.flush=function(){var e,t,i=[],a=0,s=0;do{if(n.next_out_index=0,n.avail_out=r,e=n.deflate(M),e!=D&&e!=T)throw"deflating: "+n.msg;r-n.avail_out>0&&i.push(new Uint8Array(o.subarray(0,n.next_out_index))),s+=n.next_out_index}while(n.avail_in>0||0===n.avail_out);return n.deflateEnd(),t=new Uint8Array(s),i.forEach(function(e){t.set(e,a),a+=e.length}),t}}var u=15,l=30,c=19,p=29,h=256,f=h+1+p,d=2*f+1,m=256,g=7,v=16,y=17,b=18,w=16,_=-1,x=1,E=2,k=0,C=0,A=1,S=3,M=4,T=0,D=1,O=2,L=-2,F=-3,P=-5,N=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];t._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],t.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],t.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],t.d_code=function(e){return 256>e?N[e]:N[256+(e>>>7)]},t.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],t.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],t.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],t.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],n.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],n.static_l_desc=new n(n.static_ltree,t.extra_lbits,h+1,f,u),n.static_d_desc=new n(n.static_dtree,t.extra_dbits,0,l,u),n.static_bl_desc=new n(null,t.extra_blbits,0,c,g);
var B=9,R=8,j=0,I=1,$=2,z=[new r(0,0,0,0,j),new r(4,4,8,4,I),new r(4,5,16,8,I),new r(4,6,32,32,I),new r(4,4,16,16,$),new r(8,16,32,32,$),new r(8,16,128,128,$),new r(8,32,128,256,$),new r(32,128,258,1024,$),new r(32,258,258,4096,$)],U=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],V=0,Y=1,W=2,H=3,q=32,G=42,K=113,J=666,X=8,Z=0,Q=1,et=2,tt=3,nt=258,rt=nt+tt+1;a.prototype={deflateInit:function(e,t){var n=this;return n.dstate=new o,t||(t=u),n.dstate.deflateInit(n,e,t)},deflate:function(e){var t=this;return t.dstate?t.dstate.deflate(t,e):L},deflateEnd:function(){var e=this;if(!e.dstate)return L;var t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){var n=this;return n.dstate?n.dstate.deflateParams(n,e,t):L},deflateSetDictionary:function(e,t){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):L},read_buf:function(e,t,n){var r=this,i=r.avail_in;return i>n&&(i=n),0===i?0:(r.avail_in-=i,e.set(r.next_in.subarray(r.next_in_index,r.next_in_index+i),t),r.next_in_index+=i,r.total_in+=i,i)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};var it;e.zip?e.zip.Deflater=s:(it=new s,e.addEventListener("message",function(t){var n=t.data;n.init&&(it=new s(n.level),e.postMessage({oninit:!0})),n.append&&e.postMessage({onappend:!0,data:it.append(n.data,function(t){e.postMessage({progress:!0,current:t})})}),n.flush&&e.postMessage({onflush:!0,data:it.flush()})},!1))}(this),function(e){function t(){function e(e,t,n,r,l,c,p,f,m,v,y){var b,w,_,x,E,k,C,A,M,T,D,O,L,F,P;T=0,E=n;do i[e[t+T]]++,T++,E--;while(0!==E);if(i[0]==n)return p[0]=-1,f[0]=0,u;for(A=f[0],k=1;S>=k&&0===i[k];k++);for(C=k,k>A&&(A=k),E=S;0!==E&&0===i[E];E--);for(_=E,A>E&&(A=E),f[0]=A,F=1<<k;E>k;k++,F<<=1)if((F-=i[k])<0)return h;if((F-=i[E])<0)return h;for(i[E]+=F,s[1]=k=0,T=1,L=2;0!==--E;)s[L]=k+=i[T],L++,T++;E=0,T=0;do 0!==(k=e[t+T])&&(y[s[k]++]=E),T++;while(++E<n);for(n=s[_],s[0]=E=0,T=0,x=-1,O=-A,a[0]=0,D=0,P=0;_>=C;C++)for(b=i[C];0!==b--;){for(;C>O+A;){if(x++,O+=A,P=_-O,P=P>A?A:P,(w=1<<(k=C-O))>b+1&&(w-=b+1,L=C,P>k))for(;++k<P&&!((w<<=1)<=i[++L]);)w-=i[L];if(P=1<<k,v[0]+P>g)return h;a[x]=D=v[0],v[0]+=P,0!==x?(s[x]=E,o[0]=k,o[1]=A,k=E>>>O-A,o[2]=D-a[x-1]-k,m.set(o,3*(a[x-1]+k))):p[0]=D}for(o[1]=C-O,T>=n?o[0]=192:y[T]<r?(o[0]=y[T]<256?0:96,o[2]=y[T++]):(o[0]=c[y[T]-r]+16+64,o[2]=l[y[T++]-r]),w=1<<C-O,k=E>>>O;P>k;k+=w)m.set(o,3*(D+k));for(k=1<<C-1;0!==(E&k);k>>>=1)E^=k;for(E^=k,M=(1<<O)-1;(E&M)!=s[x];)x--,O-=A,M=(1<<O)-1}return 0!==F&&1!=_?d:u}function t(e){var t;for(n||(n=[],r=[],i=new Int32Array(S+1),o=[],a=new Int32Array(S),s=new Int32Array(S+1)),r.length<e&&(r=[]),t=0;e>t;t++)r[t]=0;for(t=0;S+1>t;t++)i[t]=0;for(t=0;3>t;t++)o[t]=0;a.set(i.subarray(0,S),0),s.set(i.subarray(0,S+1),0)}var n,r,i,o,a,s,l=this;l.inflate_trees_bits=function(i,o,a,s,u){var l;return t(19),n[0]=0,l=e(i,0,19,19,null,null,a,o,s,n,r),l==h?u.msg="oversubscribed dynamic bit lengths tree":(l==d||0===o[0])&&(u.msg="incomplete dynamic bit lengths tree",l=h),l},l.inflate_trees_dynamic=function(i,o,a,s,l,c,p,m,g){var v;return t(288),n[0]=0,v=e(a,0,i,257,E,k,c,s,m,n,r),v!=u||0===s[0]?(v==h?g.msg="oversubscribed literal/length tree":v!=f&&(g.msg="incomplete literal/length tree",v=h),v):(t(288),v=e(a,i,o,0,C,A,p,l,m,n,r),v!=u||0===l[0]&&i>257?(v==h?g.msg="oversubscribed distance tree":v==d?(g.msg="incomplete distance tree",v=h):v!=f&&(g.msg="empty distance tree with lengths",v=h),v):u)}}function n(){function e(e,t,n,r,i,o,a,s){var c,p,f,d,g,v,y,b,w,_,x,E,k,C,A,S;y=s.next_in_index,b=s.avail_in,g=a.bitb,v=a.bitk,w=a.write,_=w<a.read?a.read-w-1:a.end-w,x=m[e],E=m[t];do{for(;20>v;)b--,g|=(255&s.read_byte(y++))<<v,v+=8;if(c=g&x,p=n,f=r,S=3*(f+c),0!==(d=p[S]))for(;;){if(g>>=p[S+1],v-=p[S+1],0!==(16&d)){for(d&=15,k=p[S+2]+(g&m[d]),g>>=d,v-=d;15>v;)b--,g|=(255&s.read_byte(y++))<<v,v+=8;for(c=g&E,p=i,f=o,S=3*(f+c),d=p[S];;){if(g>>=p[S+1],v-=p[S+1],0!==(16&d)){for(d&=15;d>v;)b--,g|=(255&s.read_byte(y++))<<v,v+=8;if(C=p[S+2]+(g&m[d]),g>>=d,v-=d,_-=k,w>=C)A=w-C,w-A>0&&2>w-A?(a.window[w++]=a.window[A++],a.window[w++]=a.window[A++],k-=2):(a.window.set(a.window.subarray(A,A+2),w),w+=2,A+=2,k-=2);else{A=w-C;do A+=a.end;while(0>A);if(d=a.end-A,k>d){if(k-=d,w-A>0&&d>w-A){do a.window[w++]=a.window[A++];while(0!==--d)}else a.window.set(a.window.subarray(A,A+d),w),w+=d,A+=d,d=0;A=0}}if(w-A>0&&k>w-A){do a.window[w++]=a.window[A++];while(0!==--k)}else a.window.set(a.window.subarray(A,A+k),w),w+=k,A+=k,k=0;break}if(0!==(64&d))return s.msg="invalid distance code",k=s.avail_in-b,k=k>v>>3?v>>3:k,b+=k,y-=k,v-=k<<3,a.bitb=g,a.bitk=v,s.avail_in=b,s.total_in+=y-s.next_in_index,s.next_in_index=y,a.write=w,h;c+=p[S+2],c+=g&m[d],S=3*(f+c),d=p[S]}break}if(0!==(64&d))return 0!==(32&d)?(k=s.avail_in-b,k=k>v>>3?v>>3:k,b+=k,y-=k,v-=k<<3,a.bitb=g,a.bitk=v,s.avail_in=b,s.total_in+=y-s.next_in_index,s.next_in_index=y,a.write=w,l):(s.msg="invalid literal/length code",k=s.avail_in-b,k=k>v>>3?v>>3:k,b+=k,y-=k,v-=k<<3,a.bitb=g,a.bitk=v,s.avail_in=b,s.total_in+=y-s.next_in_index,s.next_in_index=y,a.write=w,h);if(c+=p[S+2],c+=g&m[d],S=3*(f+c),0===(d=p[S])){g>>=p[S+1],v-=p[S+1],a.window[w++]=p[S+2],_--;break}}else g>>=p[S+1],v-=p[S+1],a.window[w++]=p[S+2],_--}while(_>=258&&b>=10);return k=s.avail_in-b,k=k>v>>3?v>>3:k,b+=k,y-=k,v-=k<<3,a.bitb=g,a.bitk=v,s.avail_in=b,s.total_in+=y-s.next_in_index,s.next_in_index=y,a.write=w,u}var t,n,r,i,o=this,a=0,s=0,c=0,f=0,d=0,g=0,v=0,y=0,b=0,w=0;o.init=function(e,o,a,s,u,l){t=M,v=e,y=o,r=a,b=s,i=u,w=l,n=null},o.proc=function(o,_,x){var E,k,C,A,S,j,I,$=0,z=0,U=0;for(U=_.next_in_index,A=_.avail_in,$=o.bitb,z=o.bitk,S=o.write,j=S<o.read?o.read-S-1:o.end-S;;)switch(t){case M:if(j>=258&&A>=10&&(o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,x=e(v,y,r,b,i,w,o,_),U=_.next_in_index,A=_.avail_in,$=o.bitb,z=o.bitk,S=o.write,j=S<o.read?o.read-S-1:o.end-S,x!=u)){t=x==l?N:R;break}c=v,n=r,s=b,t=T;case T:for(E=c;E>z;){if(0===A)return o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);x=u,A--,$|=(255&_.read_byte(U++))<<z,z+=8}if(k=3*(s+($&m[E])),$>>>=n[k+1],z-=n[k+1],C=n[k],0===C){f=n[k+2],t=P;break}if(0!==(16&C)){d=15&C,a=n[k+2],t=D;break}if(0===(64&C)){c=C,s=k/3+n[k+2];break}if(0!==(32&C)){t=N;break}return t=R,_.msg="invalid literal/length code",x=h,o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);case D:for(E=d;E>z;){if(0===A)return o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);x=u,A--,$|=(255&_.read_byte(U++))<<z,z+=8}a+=$&m[E],$>>=E,z-=E,c=y,n=i,s=w,t=O;case O:for(E=c;E>z;){if(0===A)return o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);x=u,A--,$|=(255&_.read_byte(U++))<<z,z+=8}if(k=3*(s+($&m[E])),$>>=n[k+1],z-=n[k+1],C=n[k],0!==(16&C)){d=15&C,g=n[k+2],t=L;break}if(0===(64&C)){c=C,s=k/3+n[k+2];break}return t=R,_.msg="invalid distance code",x=h,o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);case L:for(E=d;E>z;){if(0===A)return o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);x=u,A--,$|=(255&_.read_byte(U++))<<z,z+=8}g+=$&m[E],$>>=E,z-=E,t=F;case F:for(I=S-g;0>I;)I+=o.end;for(;0!==a;){if(0===j&&(S==o.end&&0!==o.read&&(S=0,j=S<o.read?o.read-S-1:o.end-S),0===j&&(o.write=S,x=o.inflate_flush(_,x),S=o.write,j=S<o.read?o.read-S-1:o.end-S,S==o.end&&0!==o.read&&(S=0,j=S<o.read?o.read-S-1:o.end-S),0===j)))return o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);o.window[S++]=o.window[I++],j--,I==o.end&&(I=0),a--}t=M;break;case P:if(0===j&&(S==o.end&&0!==o.read&&(S=0,j=S<o.read?o.read-S-1:o.end-S),0===j&&(o.write=S,x=o.inflate_flush(_,x),S=o.write,j=S<o.read?o.read-S-1:o.end-S,S==o.end&&0!==o.read&&(S=0,j=S<o.read?o.read-S-1:o.end-S),0===j)))return o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);x=u,o.window[S++]=f,j--,t=M;break;case N:if(z>7&&(z-=8,A++,U--),o.write=S,x=o.inflate_flush(_,x),S=o.write,j=S<o.read?o.read-S-1:o.end-S,o.read!=o.write)return o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);t=B;case B:return x=l,o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);case R:return x=h,o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x);default:return x=p,o.bitb=$,o.bitk=z,_.avail_in=A,_.total_in+=U-_.next_in_index,_.next_in_index=U,o.write=S,o.inflate_flush(_,x)}},o.free=function(){}}function r(e,r){var i,o=this,a=I,s=0,c=0,f=0,v=[0],y=[0],b=new n,w=0,_=new Int32Array(3*g),x=0,E=new t;o.bitk=0,o.bitb=0,o.window=new Uint8Array(r),o.end=r,o.read=0,o.write=0,o.reset=function(e,t){t&&(t[0]=x),a==W&&b.free(e),a=I,o.bitk=0,o.bitb=0,o.read=o.write=0},o.reset(e,null),o.inflate_flush=function(e,t){var n,r,i;return r=e.next_out_index,i=o.read,n=(i<=o.write?o.write:o.end)-i,n>e.avail_out&&(n=e.avail_out),0!==n&&t==d&&(t=u),e.avail_out-=n,e.total_out+=n,e.next_out.set(o.window.subarray(i,i+n),r),r+=n,i+=n,i==o.end&&(i=0,o.write==o.end&&(o.write=0),n=o.write-i,n>e.avail_out&&(n=e.avail_out),0!==n&&t==d&&(t=u),e.avail_out-=n,e.total_out+=n,e.next_out.set(o.window.subarray(i,i+n),r),r+=n,i+=n),e.next_out_index=r,o.read=i,t},o.proc=function(e,n){var r,d,g,x,k,C,A,S;for(x=e.next_in_index,k=e.avail_in,d=o.bitb,g=o.bitk,C=o.write,A=C<o.read?o.read-C-1:o.end-C;;)switch(a){case I:for(;3>g;){if(0===k)return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);n=u,k--,d|=(255&e.read_byte(x++))<<g,g+=8}switch(r=7&d,w=1&r,r>>>1){case 0:d>>>=3,g-=3,r=7&g,d>>>=r,g-=r,a=$;break;case 1:var M=[],T=[],D=[[]],O=[[]];t.inflate_trees_fixed(M,T,D,O),b.init(M[0],T[0],D[0],0,O[0],0),d>>>=3,g-=3,a=W;break;case 2:d>>>=3,g-=3,a=U;break;case 3:return d>>>=3,g-=3,a=G,e.msg="invalid block type",n=h,o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n)}break;case $:for(;32>g;){if(0===k)return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);n=u,k--,d|=(255&e.read_byte(x++))<<g,g+=8}if((~d>>>16&65535)!=(65535&d))return a=G,e.msg="invalid stored block lengths",n=h,o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);s=65535&d,d=g=0,a=0!==s?z:0!==w?H:I;break;case z:if(0===k)return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);if(0===A&&(C==o.end&&0!==o.read&&(C=0,A=C<o.read?o.read-C-1:o.end-C),0===A&&(o.write=C,n=o.inflate_flush(e,n),C=o.write,A=C<o.read?o.read-C-1:o.end-C,C==o.end&&0!==o.read&&(C=0,A=C<o.read?o.read-C-1:o.end-C),0===A)))return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);if(n=u,r=s,r>k&&(r=k),r>A&&(r=A),o.window.set(e.read_buf(x,r),C),x+=r,k-=r,C+=r,A-=r,0!==(s-=r))break;a=0!==w?H:I;break;case U:for(;14>g;){if(0===k)return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);n=u,k--,d|=(255&e.read_byte(x++))<<g,g+=8}if(c=r=16383&d,(31&r)>29||(r>>5&31)>29)return a=G,e.msg="too many length or distance symbols",n=h,o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);if(r=258+(31&r)+(r>>5&31),!i||i.length<r)i=[];else for(S=0;r>S;S++)i[S]=0;d>>>=14,g-=14,f=0,a=V;case V:for(;4+(c>>>10)>f;){for(;3>g;){if(0===k)return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);n=u,k--,d|=(255&e.read_byte(x++))<<g,g+=8}i[j[f++]]=7&d,d>>>=3,g-=3}for(;19>f;)i[j[f++]]=0;if(v[0]=7,r=E.inflate_trees_bits(i,v,y,_,e),r!=u)return n=r,n==h&&(i=null,a=G),o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);f=0,a=Y;case Y:for(;;){if(r=c,!(258+(31&r)+(r>>5&31)>f))break;var L,F;for(r=v[0];r>g;){if(0===k)return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);n=u,k--,d|=(255&e.read_byte(x++))<<g,g+=8}if(r=_[3*(y[0]+(d&m[r]))+1],F=_[3*(y[0]+(d&m[r]))+2],16>F)d>>>=r,g-=r,i[f++]=F;else{for(S=18==F?7:F-14,L=18==F?11:3;r+S>g;){if(0===k)return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);n=u,k--,d|=(255&e.read_byte(x++))<<g,g+=8}if(d>>>=r,g-=r,L+=d&m[S],d>>>=S,g-=S,S=f,r=c,S+L>258+(31&r)+(r>>5&31)||16==F&&1>S)return i=null,a=G,e.msg="invalid bit length repeat",n=h,o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);F=16==F?i[S-1]:0;do i[S++]=F;while(0!==--L);f=S}}y[0]=-1;var P=[],N=[],B=[],R=[];if(P[0]=9,N[0]=6,r=c,r=E.inflate_trees_dynamic(257+(31&r),1+(r>>5&31),i,P,N,B,R,_,e),r!=u)return r==h&&(i=null,a=G),n=r,o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);b.init(P[0],N[0],_,B[0],_,R[0]),a=W;case W:if(o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,(n=b.proc(o,e,n))!=l)return o.inflate_flush(e,n);if(n=u,b.free(e),x=e.next_in_index,k=e.avail_in,d=o.bitb,g=o.bitk,C=o.write,A=C<o.read?o.read-C-1:o.end-C,0===w){a=I;break}a=H;case H:if(o.write=C,n=o.inflate_flush(e,n),C=o.write,A=C<o.read?o.read-C-1:o.end-C,o.read!=o.write)return o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);a=q;case q:return n=l,o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);case G:return n=h,o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n);default:return n=p,o.bitb=d,o.bitk=g,e.avail_in=k,e.total_in+=x-e.next_in_index,e.next_in_index=x,o.write=C,o.inflate_flush(e,n)}},o.free=function(e){o.reset(e,null),o.window=null,_=null},o.set_dictionary=function(e,t,n){o.window.set(e.subarray(t,t+n),0),o.read=o.write=n},o.sync_point=function(){return a==$?1:0}}function i(){function e(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=it,e.istate.blocks.reset(e,null),u):p}var t=this;t.mode=0,t.method=0,t.was=[0],t.need=0,t.marker=0,t.wbits=0,t.inflateEnd=function(e){return t.blocks&&t.blocks.free(e),t.blocks=null,u},t.inflateInit=function(n,i){return n.msg=null,t.blocks=null,8>i||i>15?(t.inflateEnd(n),p):(t.wbits=i,n.istate.blocks=new r(n,1<<i),e(n),u)},t.inflate=function(e,t){var n,r;if(!e||!e.istate||!e.next_in)return p;for(t=t==y?d:u,n=d;;)switch(e.istate.mode){case X:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,(15&(e.istate.method=e.read_byte(e.next_in_index++)))!=J){e.istate.mode=at,e.msg="unknown compression method",e.istate.marker=5;break}if((e.istate.method>>4)+8>e.istate.wbits){e.istate.mode=at,e.msg="invalid window size",e.istate.marker=5;break}e.istate.mode=Z;case Z:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,r=255&e.read_byte(e.next_in_index++),((e.istate.method<<8)+r)%31!==0){e.istate.mode=at,e.msg="incorrect header check",e.istate.marker=5;break}if(0===(r&K)){e.istate.mode=it;break}e.istate.mode=Q;case Q:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,e.istate.mode=et;case et:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,e.istate.mode=tt;case tt:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,e.istate.mode=nt;case nt:return 0===e.avail_in?n:(n=t,e.avail_in--,e.total_in++,e.istate.need+=255&e.read_byte(e.next_in_index++),e.istate.mode=rt,c);case rt:return e.istate.mode=at,e.msg="need dictionary",e.istate.marker=0,p;case it:if(n=e.istate.blocks.proc(e,n),n==h){e.istate.mode=at,e.istate.marker=0;break}if(n==u&&(n=t),n!=l)return n;n=t,e.istate.blocks.reset(e,e.istate.was),e.istate.mode=ot;case ot:return l;case at:return h;default:return p}},t.inflateSetDictionary=function(e,t,n){var r=0,i=n;return e&&e.istate&&e.istate.mode==rt?(i>=1<<e.istate.wbits&&(i=(1<<e.istate.wbits)-1,r=n-i),e.istate.blocks.set_dictionary(t,r,i),e.istate.mode=it,u):p},t.inflateSync=function(t){var n,r,i,o,a;if(!t||!t.istate)return p;if(t.istate.mode!=at&&(t.istate.mode=at,t.istate.marker=0),0===(n=t.avail_in))return d;for(r=t.next_in_index,i=t.istate.marker;0!==n&&4>i;)t.read_byte(r)==st[i]?i++:i=0!==t.read_byte(r)?0:4-i,r++,n--;return t.total_in+=r-t.next_in_index,t.next_in_index=r,t.avail_in=n,t.istate.marker=i,4!=i?h:(o=t.total_in,a=t.total_out,e(t),t.total_in=o,t.total_out=a,t.istate.mode=it,u)},t.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():p}}function o(){}function a(){var e=this,t=new o,n=512,r=v,i=new Uint8Array(n),a=!1;t.inflateInit(),t.next_out=i,e.append=function(e,o){var s,c,p=[],h=0,f=0,m=0;if(0!==e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=n,0!==t.avail_in||a||(t.next_in_index=0,a=!0),s=t.inflate(r),a&&s==d)return-1;if(s!=u&&s!=l)throw"inflating: "+t.msg;if((a||s==l)&&t.avail_in==e.length)return-1;t.next_out_index&&p.push(t.next_out_index==n?new Uint8Array(i):new Uint8Array(i.subarray(0,t.next_out_index))),m+=t.next_out_index,o&&t.next_in_index>0&&t.next_in_index!=h&&(o(t.next_in_index),h=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return c=new Uint8Array(m),p.forEach(function(e){c.set(e,f),f+=e.length}),c}},e.flush=function(){t.inflateEnd()}}var s=15,u=0,l=1,c=2,p=-2,h=-3,f=-4,d=-5,m=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],g=1440,v=0,y=4,b=9,w=5,_=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],x=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=15;t.inflate_trees_fixed=function(e,t,n,r){return e[0]=b,t[0]=w,n[0]=_,r[0]=x,u};var M=0,T=1,D=2,O=3,L=4,F=5,P=6,N=7,B=8,R=9,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=0,$=1,z=2,U=3,V=4,Y=5,W=6,H=7,q=8,G=9,K=32,J=8,X=0,Z=1,Q=2,et=3,tt=4,nt=5,rt=6,it=7,ot=12,at=13,st=[0,0,255,255];o.prototype={inflateInit:function(e){var t=this;return t.istate=new i,e||(e=s),t.istate.inflateInit(t,e)},inflate:function(e){var t=this;return t.istate?t.istate.inflate(t,e):p},inflateEnd:function(){var e=this;if(!e.istate)return p;var t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync:function(){var e=this;return e.istate?e.istate.inflateSync(e):p},inflateSetDictionary:function(e,t){var n=this;return n.istate?n.istate.inflateSetDictionary(n,e,t):p},read_byte:function(e){var t=this;return t.next_in.subarray(e,e+1)[0]},read_buf:function(e,t){var n=this;return n.next_in.subarray(e,e+t)}};var ut;e.zip?e.zip.Inflater=a:(ut=new a,e.addEventListener("message",function(t){var n=t.data;n.append&&e.postMessage({onappend:!0,data:ut.append(n.data,function(t){e.postMessage({progress:!0,current:t})})}),n.flush&&(ut.flush(),e.postMessage({onflush:!0}))},!1))}(this),function(e){var t,n={className:"autosizejs",append:"",callback:!1,resizeDelay:10,placeholder:!0},r='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=e(r).data("autosize",!0)[0];o.style.lineHeight="99px","99px"===e(o).css("lineHeight")&&i.push("lineHeight"),o.style.lineHeight="",e.fn.autosize=function(r){return this.length?(r=e.extend({},n,r||{}),o.parentNode!==document.body&&e(document.body).append(o),this.each(function(){function n(){var t,n=window.getComputedStyle?window.getComputedStyle(h,null):!1;n?(t=h.getBoundingClientRect().width,0===t&&(t=parseInt(n.width,10)),e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,r){t-=parseInt(n[r],10)})):t=Math.max(f.width(),0),o.style.width=t+"px"}function a(){var a={};if(t=h,o.className=r.className,l=parseInt(f.css("maxHeight"),10),e.each(i,function(e,t){a[t]=f.css(t)}),e(o).css(a),n(),window.chrome){var s=h.style.width;h.style.width="0px";{h.offsetWidth}h.style.width=s}}function s(){var i,s;t!==h?a():n(),o.value=!h.value&&r.placeholder?(e(h).attr("placeholder")||"")+r.append:h.value+r.append,o.style.overflowY=h.style.overflowY,s=parseInt(h.style.height,10),o.scrollTop=0,o.scrollTop=9e4,i=o.scrollTop,l&&i>l?(h.style.overflowY="scroll",i=l):(h.style.overflowY="hidden",c>i&&(i=c)),i+=d,s!==i&&(h.style.height=i+"px",m&&r.callback.call(h,h))}function u(){clearTimeout(p),p=setTimeout(function(){var e=f.width();e!==v&&(v=e,s())},parseInt(r.resizeDelay,10))}var l,c,p,h=this,f=e(h),d=0,m=e.isFunction(r.callback),g={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},v=f.width();f.data("autosize")||(f.data("autosize",!0),("border-box"===f.css("box-sizing")||"border-box"===f.css("-moz-box-sizing")||"border-box"===f.css("-webkit-box-sizing"))&&(d=f.outerHeight()-f.height()),c=Math.max(parseInt(f.css("minHeight"),10)-d||0,f.height()),f.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===f.css("resize")||"vertical"===f.css("resize")?"none":"horizontal"}),"onpropertychange"in h?"oninput"in h?f.on("input.autosize keyup.autosize",s):f.on("propertychange.autosize",function(){"value"===event.propertyName&&s()}):f.on("input.autosize",s),r.resizeDelay!==!1&&e(window).on("resize.autosize",u),f.on("autosize.resize",s),f.on("autosize.resizeIncludeStyle",function(){t=null,s()}),f.on("autosize.destroy",function(){t=null,clearTimeout(p),e(window).off("resize",u),f.off("autosize").off(".autosize").css(g).removeData("autosize")}),s())})):this}}(window.jQuery||window.$),RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(e){"use strict";var t;t="undefined"!=typeof jQuery&&jQuery?jQuery:{},t.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e){var t=/\./;if(isNaN(e))return e;if(t.test(e))return parseFloat(e);var n=parseInt(e);return isNaN(n)?null:n}},parsers:{parse:function(t,n){function r(){if(l=0,c="",n.start&&n.state.rowNum<n.start)return u=[],n.state.rowNum++,void(n.state.colNum=1);if(n.onParseEntry===e)s.push(u);else{var t=n.onParseEntry(u,n.state);t!==!1&&s.push(t)}u=[],n.end&&n.state.rowNum>=n.end&&(p=!0),n.state.rowNum++,n.state.colNum=1}function i(){if(n.onParseValue===e)u.push(c);else{var t=n.onParseValue(c,n.state);t!==!1&&u.push(t)}c="",l=0,n.state.colNum++}var o=n.separator,a=n.delimiter;n.state.rowNum||(n.state.rowNum=1),n.state.colNum||(n.state.colNum=1);var s=[],u=[],l=0,c="",p=!1,h=RegExp.escape(o),f=RegExp.escape(a),d=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,m=d.source;return m=m.replace(/S/g,h),m=m.replace(/D/g,f),d=RegExp(m,"gm"),t.replace(d,function(e){if(!p)switch(l){case 0:if(e===o){c+="",i();break}if(e===a){l=1;break}if(/^(\r\n|\n|\r)$/.test(e)){i(),r();break}c+=e,l=3;break;case 1:if(e===a){l=2;break}c+=e,l=1;break;case 2:if(e===a){c+=e,l=1;break}if(e===o){i();break}if(/^(\r\n|\n|\r)$/.test(e)){i(),r();break}throw new Error("CSVDataError: Illegal State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");case 3:if(e===o){i();break}if(/^(\r\n|\n|\r)$/.test(e)){i(),r();break}if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]")}}),0!==u.length&&(i(),r()),s},splitLines:function(t,n){function r(){if(s=0,n.start&&n.state.rowNum<n.start)return u="",void n.state.rowNum++;if(n.onParseEntry===e)a.push(u);else{var t=n.onParseEntry(u,n.state);t!==!1&&a.push(t)}u="",n.end&&n.state.rowNum>=n.end&&(l=!0),n.state.rowNum++}var i=n.separator,o=n.delimiter;n.state.rowNum||(n.state.rowNum=1);var a=[],s=0,u="",l=!1,c=RegExp.escape(i),p=RegExp.escape(o),h=/(D|S|\n|\r|[^DS\r\n]+)/,f=h.source;return f=f.replace(/S/g,c),f=f.replace(/D/g,p),h=RegExp(f,"gm"),t.replace(h,function(e){if(!l)switch(s){case 0:if(e===i){u+=e,s=0;break}if(e===o){u+=e,s=1;break}if("\n"===e){r();break}if(/^\r$/.test(e))break;u+=e,s=3;break;case 1:if(e===o){u+=e,s=2;break}u+=e,s=1;break;case 2:var t=u.substr(u.length-1);if(e===o&&t===o){u+=e,s=1;break}if(e===i){u+=e,s=0;break}if("\n"===e){r();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+n.state.rowNum+"]");case 3:if(e===i){u+=e,s=0;break}if("\n"===e){r();break}if("\r"===e)break;if(e===o)throw new Error("CSVDataError: Illegal quote [Row:"+n.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+n.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+n.state.rowNum+"]")}}),""!==u&&r(),a},parseEntry:function(t,n){function r(){if(n.onParseValue===e)a.push(u);else{var t=n.onParseValue(u,n.state);t!==!1&&a.push(t)}u="",s=0,n.state.colNum++}var i=n.separator,o=n.delimiter;n.state.rowNum||(n.state.rowNum=1),n.state.colNum||(n.state.colNum=1);var a=[],s=0,u="";if(!n.match){var l=RegExp.escape(i),c=RegExp.escape(o),p=/(D|S|\n|\r|[^DS\r\n]+)/,h=p.source;h=h.replace(/S/g,l),h=h.replace(/D/g,c),n.match=RegExp(h,"gm")}return t.replace(n.match,function(e){switch(s){case 0:if(e===i){u+="",r();break}if(e===o){s=1;break}if("\n"===e||"\r"===e)break;u+=e,s=3;break;case 1:if(e===o){s=2;break}u+=e,s=1;break;case 2:if(e===o){u+=e,s=1;break}if(e===i){r();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");case 3:if(e===i){r();break}if("\n"===e||"\r"===e)break;if(e===o)throw new Error("CSVDataError: Illegal Quote [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+n.state.rowNum+"][Col:"+n.state.colNum+"]")}}),r(),a}},helpers:{collectPropertyNames:function(e){var t,n,r=[];for(t in e)for(n in e[t])e[t].hasOwnProperty(n)&&r.indexOf(n)<0&&"function"!=typeof e[t][n]&&r.push(n);return r}},toArray:function(n,r,i){var r=r!==e?r:{},o={};o.callback=i!==e&&"function"==typeof i?i:!1,o.separator="separator"in r?r.separator:t.csv.defaults.separator,o.delimiter="delimiter"in r?r.delimiter:t.csv.defaults.delimiter;var a=r.state!==e?r.state:{},r={delimiter:o.delimiter,separator:o.separator,onParseEntry:r.onParseEntry,onParseValue:r.onParseValue,state:a},s=t.csv.parsers.parseEntry(n,r);return o.callback?void o.callback("",s):s},toArrays:function(n,r,i){var r=r!==e?r:{},o={};o.callback=i!==e&&"function"==typeof i?i:!1,o.separator="separator"in r?r.separator:t.csv.defaults.separator,o.delimiter="delimiter"in r?r.delimiter:t.csv.defaults.delimiter;var a=[],r={delimiter:o.delimiter,separator:o.separator,onParseEntry:r.onParseEntry,onParseValue:r.onParseValue,start:r.start,end:r.end,state:{rowNum:1,colNum:1}};return a=t.csv.parsers.parse(n,r),o.callback?void o.callback("",a):a},toObjects:function(n,r,i){var r=r!==e?r:{},o={};o.callback=i!==e&&"function"==typeof i?i:!1,o.separator="separator"in r?r.separator:t.csv.defaults.separator,o.delimiter="delimiter"in r?r.delimiter:t.csv.defaults.delimiter,o.headers="headers"in r?r.headers:t.csv.defaults.headers,r.start="start"in r?r.start:1,o.headers&&r.start++,r.end&&o.headers&&r.end++;var a=[],s=[],r={delimiter:o.delimiter,separator:o.separator,onParseEntry:r.onParseEntry,onParseValue:r.onParseValue,start:r.start,end:r.end,state:{rowNum:1,colNum:1},match:!1,transform:r.transform},u={delimiter:o.delimiter,separator:o.separator,start:1,end:1,state:{rowNum:1,colNum:1}},l=t.csv.parsers.splitLines(n,u),c=t.csv.toArray(l[0],r),a=t.csv.parsers.splitLines(n,r);
r.state.colNum=1,r.state.rowNum=c?2:1;for(var p=0,h=a.length;h>p;p++){var f=t.csv.toArray(a[p],r),d={};for(var m in c)d[c[m]]=f[m];s.push(r.transform!==e?r.transform.call(e,d):d),r.state.rowNum++}return o.callback?void o.callback("",s):s},fromArrays:function(n,r,i){var r=r!==e?r:{},o={};o.callback=i!==e&&"function"==typeof i?i:!1,o.separator="separator"in r?r.separator:t.csv.defaults.separator,o.delimiter="delimiter"in r?r.delimiter:t.csv.defaults.delimiter;var a,s,u,l,c="";for(u=0;u<n.length;u++){for(a=n[u],s=[],l=0;l<a.length;l++){var p=a[l]===e||null===a[l]?"":a[l].toString();p.indexOf(o.delimiter)>-1&&(p=p.replace(o.delimiter,o.delimiter+o.delimiter));var h="\n|\r|S|D";h=h.replace("S",o.separator),h=h.replace("D",o.delimiter),p.search(h)>-1&&(p=o.delimiter+p+o.delimiter),s.push(p)}c+=s.join(o.separator)+"\r\n"}return o.callback?void o.callback("",c):c},fromObjects:function(n,r,i){var r=r!==e?r:{},o={};if(o.callback=i!==e&&"function"==typeof i?i:!1,o.separator="separator"in r?r.separator:t.csv.defaults.separator,o.delimiter="delimiter"in r?r.delimiter:t.csv.defaults.delimiter,o.headers="headers"in r?r.headers:t.csv.defaults.headers,o.sortOrder="sortOrder"in r?r.sortOrder:"declare",o.manualOrder="manualOrder"in r?r.manualOrder:[],o.transform=r.transform,"string"==typeof o.manualOrder&&(o.manualOrder=t.csv.toArray(o.manualOrder,o)),o.transform!==e){var a=n;n=[];var s;for(s=0;s<a.length;s++)n.push(o.transform.call(e,a[s]))}var u=t.csv.helpers.collectPropertyNames(n);if("alpha"===o.sortOrder&&u.sort(),o.manualOrder.length>0){var l,c=[].concat(o.manualOrder);for(l=0;l<u.length;l++)c.indexOf(u[l])<0&&c.push(u[l]);u=c}var p,l,h,f,d=[];for(o.headers&&d.push(u),p=0;p<n.length;p++){for(h=[],l=0;l<u.length;l++)f=u[l],h.push(f in n[p]&&"function"!=typeof n[p][f]?n[p][f]:"");d.push(h)}return t.csv.fromArrays(d,r,o.callback)}},t.csvEntry2Array=t.csv.toArray,t.csv2Array=t.csv.toArrays,t.csv2Dictionary=t.csv.toObjects,"undefined"!=typeof module&&module.exports&&(module.exports=t.csv)}.call(this),function(e,t){"use strict";function n(){if(!r.READY){r.event.determineEventTypes();for(var e in r.gestures)r.gestures.hasOwnProperty(e)&&r.detection.register(r.gestures[e]);r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0}}var r=function(e,t){return new r.Instance(e,t||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in e,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=e.document,r.plugins={},r.READY=!1,r.Instance=function(e,t){var i=this;return n(),this.element=e,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),t||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.event.onTouch(e,r.EVENT_START,function(e){i.enabled&&r.detection.startDetect(i,e)}),this},r.Instance.prototype={on:function(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)this.element.addEventListener(n[r],t,!1);return this},off:function(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)this.element.removeEventListener(n[r],t,!1);return this},trigger:function(e,t){t||(t={});var n=r.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var i=this.element;return r.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var i=null,o=!1,a=!1;r.event={bindDom:function(e,t,n){for(var r=t.split(" "),i=0;i<r.length;i++)e.addEventListener(r[i],n,!1)},onTouch:function(e,t,n){var s=this;this.bindDom(e,r.EVENT_TYPES[t],function(u){var l=u.type.toLowerCase();if(!l.match(/mouse/)||!a){l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===u.which?o=!0:l.match(/mouse/)&&1!==u.which&&(o=!1),l.match(/touch|pointer/)&&(a=!0);var c=0;o&&(r.HAS_POINTEREVENTS&&t!=r.EVENT_END?c=r.PointerEvent.updatePointer(t,u):l.match(/touch/)?c=u.touches.length:a||(c=l.match(/up/)?0:1),c>0&&t==r.EVENT_END?t=r.EVENT_MOVE:c||(t=r.EVENT_END),(c||null===i)&&(i=u),n.call(r.detection,s.collectEventData(e,t,s.getTouchList(i,t),u)),r.HAS_POINTEREVENTS&&t==r.EVENT_END&&(c=r.PointerEvent.updatePointer(t,u))),c||(i=null,o=!1,a=!1,r.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=e[0],r.EVENT_TYPES[r.EVENT_MOVE]=e[1],r.EVENT_TYPES[r.EVENT_END]=e[2]},getTouchList:function(e){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():e.touches?e.touches:(e.indentifier=1,[e])},collectEventData:function(e,t,n,i){var o=r.POINTER_TOUCH;return(i.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,i))&&(o=r.POINTER_MOUSE),{center:r.utils.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:t,pointerType:o,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==r.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n={};return n[r.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==r.POINTER_MOUSE,n[r.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==r.POINTER_TOUCH,n[r.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==r.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],r=0,i=e.length;i>r;r++)t.push(e[r].pageX),n.push(e[r].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,r=t.pageX-e.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return n>=i?e.pageX-t.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:e.pageY-t.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==r.DIRECTION_UP||e==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,r=["webkit","khtml","moz","Moz","ms","o",""];if(t&&e.style){for(var i=0;i<r.length;i++)for(var o in t)t.hasOwnProperty(o)&&(n=o,r[i]&&(n=r[i]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[o]);"none"==t.userSelect&&(e.onselectstart=function(){return!1}),"none"==t.userDrag&&(e.ondragstart=function(){return!1})}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:r.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var o=this.gestures[n];if(!this.stopped&&t[o.name]!==!1&&o.handler.call(o,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==r.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var n=0,i=e.touches.length;i>n;n++)t.touches.push(r.utils.extend({},e.touches[n]))}var o=e.timeStamp-t.timeStamp,a=e.center.pageX-t.center.pageX,s=e.center.pageY-t.center.pageY,u=r.utils.getVelocity(o,a,s);return r.utils.extend(e,{deltaTime:o,deltaX:a,deltaY:s,velocityX:u.x,velocityY:u.y,distance:r.utils.getDistance(t.center,e.center),angle:r.utils.getAngle(t.center,e.center),interimAngle:this.current.lastEvent&&r.utils.getAngle(this.current.lastEvent.center,e.center),direction:r.utils.getDirection(t.center,e.center),interimDirection:this.current.lastEvent&&r.utils.getDirection(this.current.lastEvent.center,e.center),scale:r.utils.getScale(t.touches,e.touches),rotation:r.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),r.utils.extend(r.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},r.gestures=r.gestures||{},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case r.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==r.EVENT_END&&"touchcancel"!=e.srcEvent.type){var n=r.detection.previous,i=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),(!i||t.options.tap_always)&&(r.detection.current.name="tap",t.trigger(r.detection.current.name,e))}}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==r.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length<t.options.swipe_min_touches&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(r.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&r.detection.current.name!=this.name)return;if(r.detection.current.name!=this.name&&(r.detection.current.name=this.name,t.options.correct_for_drag_min_distance)){var n=Math.abs(t.options.drag_min_distance/e.distance);r.detection.current.startEvent.center.pageX+=e.deltaX*n,r.detection.current.startEvent.center.pageY+=e.deltaY*n,e=r.detection.extendEventData(e)}(r.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(e.direction=r.utils.isVertical(i)?e.deltaY<0?r.DIRECTION_UP:r.DIRECTION_DOWN:e.deltaX<0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&r.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!r.utils.isVertical(e.direction))&&e.preventDefault();break;case r.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(r.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var n=Math.abs(1-e.scale),i=Math.abs(e.rotation);if(n<t.options.transform_min_scale&&i<t.options.transform_min_rotation)return;r.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),i>t.options.transform_min_rotation&&t.trigger("rotate",e),n>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case r.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==r.POINTER_MOUSE?void e.stopDetect():(t.options.prevent_default&&e.preventDefault(),void(e.eventType==r.EVENT_START&&t.trigger(this.name,e)))}},r.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==r.EVENT_END&&t.trigger(this.name,e)}};var s=function(e,n){return n===t?e:(e.event.bindDom=function(e,r,i){n(e).on(r,function(e){var n=e.originalEvent||e;n.pageX===t&&(n.pageX=e.pageX,n.pageY=e.pageY),n.target||(n.target=e.target),n.which===t&&(n.which=n.button),n.preventDefault||(n.preventDefault=e.preventDefault),n.stopPropagation||(n.stopPropagation=e.stopPropagation),i.call(this,n)})},e.Instance.prototype.on=function(e,t){return n(this.element).on(e,t)},e.Instance.prototype.off=function(e,t){return n(this.element).off(e,t)},e.Instance.prototype.trigger=function(e,t){var r=n(this.element);return r.has(t.target).length&&(r=n(t.target)),r.trigger({type:e,gesture:t})},void(n.fn.hammer=function(t){return this.each(function(){var r=n(this),i=r.data("hammer");i?i&&t&&e.utils.extend(i.options,t):r.data("hammer",new e(this,t||{}))})}))};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(["jquery"],function(e){s(r,e)}):s(r,e.jQuery||e.Zepto)}(this),function(e){var t,n,r,i,o,a,s,u="Close",l="BeforeClose",c="AfterClose",p="BeforeAppend",h="MarkupParse",f="Open",d="Change",m="mfp",g="."+m,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",w=function(){},_=!!window.jQuery,x=e(window),E=function(e,n){t.ev.on(m+e+g,n)},k=function(t,n,r,i){var o=document.createElement("div");return o.className="mfp-"+t,r&&(o.innerHTML=r),i?n&&n.appendChild(o):(o=e(o),n&&o.appendTo(n)),o},C=function(n,r){t.ev.triggerHandler(m+n,r),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(r)?r:[r]))},A=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},S=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},M=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=M(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){r||(r=e(document.body));var o;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,u=n.items;for(o=0;o<u.length;o++)if(s=u[o],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=o;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],a="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=k("bg").on("click"+g,function(){t.close()}),t.wrap=k("wrap").attr("tabindex",-1).on("click"+g,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=k("container",t.wrap)),t.contentContainer=k("content"),t.st.preloader&&(t.preloader=k("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(o=0;o<l.length;o++){var c=l[o];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}C("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(E(h,function(e,t,n,r){n.close_replaceWith=A(r.type)}),a+=" mfp-close-btn-in"):t.wrap.append(A())),t.st.alignTop&&(a+=" mfp-align-top"),t.wrap.css(t.fixedContentPos?{overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}:{top:x.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup"+g,function(e){27===e.keyCode&&t.close()}),x.on("resize"+g,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var p=t.wH=x.height(),d={};if(t.fixedContentPos&&t._hasScrollBar(p)){var m=t._getScrollbarSize();m&&(d.marginRight=m)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):d.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),C("BuildControls"),e("html").css(d),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||r),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),i.on("focusin"+g,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(p),C(f),n},close:function(){t.isOpen&&(C(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(y),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){C(u);var n=y+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var r={marginRight:""};t.isIE7?e("body, html").css("overflow",""):r.overflow="",e("html").css(r)}i.off("keyup"+g+" focusin"+g),t.ev.off(g),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,C(c)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,r=window.innerHeight*n;t.wrap.css("height",r),t.wH=r}else t.wH=e||x.height();t.fixedContentPos||t.wrap.css("height",t.wH),C("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var r=n.type;if(C("BeforeChange",[t.currItem?t.currItem.type:"",r]),t.currItem=n,!t.currTemplate[r]){var i=t.st[r]?t.st[r].markup:!1;C("FirstMarkupParse",i),t.currTemplate[r]=i?e(i):!0}o&&o!==n.type&&t.container.removeClass("mfp-"+o+"-holder");var a=t["get"+r.charAt(0).toUpperCase()+r.slice(1)](n,t.currTemplate[r]);t.appendContent(a,r),n.preloaded=!0,C(d,n),o=n.type,t.container.prepend(t.contentContainer),C("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(A()):t.content=e:t.content="",C(p),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var r,i=t.items[n];if(i.tagName?i={el:e(i)}:(r=i.type,i={data:i,src:i.src}),i.el){for(var o=t.types,a=0;a<o.length;a++)if(i.el.hasClass("mfp-"+o[a])){r=o[a];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=r||t.st.type||"inline",i.index=n,i.parsed=!0,t.items[n]=i,C("ElementParse",i),t.items[n]},addGroup:function(e,n){var r=function(r){r.mfpEl=this,t._openClick(r,e,n)};n||(n={});var i="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(i).on(i,r)):(n.isObj=!1,n.delegate?e.off(i).on(i,n.delegate,r):(n.items=e,e.off(i).on(i,r)))},_openClick:function(n,r,i){var o=void 0!==i.midClick?i.midClick:e.magnificPopup.defaults.midClick;if(o||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==i.disableOn?i.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(x.width()<a)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),i.el=e(n.mfpEl),i.delegate&&(i.items=r.find(i.delegate)),t.open(i)}},updateStatus:function(e,r){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),r||"loading"!==e||(r=t.st.tLoading);var i={status:e,text:r};C("UpdateStatus",i),e=i.status,r=i.text,t.preloader.html(r),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(b)){var r=t.st.closeOnContentClick,i=t.st.closeOnBgClick;if(r&&i)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(r)return!0}else if(i&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||x.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,r){var i;r.data&&(n=e.extend(r.data,n)),C(h,[t,n,r]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(i=e.split("_"),i.length>1){var r=t.find(g+"-"+i[0]);if(r.length>0){var o=i[1];"replaceWith"===o?r[0]!==n[0]&&r.replaceWith(n):"img"===o?r.is("img")?r.attr("src",n):r.replaceWith('<img src="'+n+'" class="'+r.attr("class")+'" />'):r.attr(i[1],n)}}else t.find(g+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,n){return S(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){S();var r=e(this);if("string"==typeof n)if("open"===n){var i,o=_?r.data("magnificPopup"):r[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?i=o.items[a]:(i=r,o.delegate&&(i=i.find(o.delegate)),i=i.eq(a)),t._openClick({mfpEl:i},r,o)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),_?r.data("magnificPopup",n):r[0].magnificPopup=n,t.addGroup(r,n);return r};var T,D,O,L="inline",F=function(){O&&(D.after(O.addClass(T)).detach(),O=null)};e.magnificPopup.registerModule(L,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(L),E(u+"."+L,function(){F()})},getInline:function(n,r){if(F(),n.src){var i=t.st.inline,o=e(n.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(D||(T=i.hiddenClass,D=k(T),T="mfp-"+T),O=o.after(D).detach().removeClass(T)),t.updateStatus("ready")}else t.updateStatus("error",i.tNotFound),o=e("<div>");return n.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(r,{},n),r}}});var P,N="ajax",B=function(){P&&r.removeClass(P)},R=function(){B(),t.req&&t.req.abort()};e.magnificPopup.registerModule(N,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(N),P=t.st.ajax.cursor,E(u+"."+N,R),E("BeforeChange."+N,R)},getAjax:function(n){P&&r.addClass(P),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(r,i,o){var a={data:r,xhr:o};C("ParseAjax",a),t.appendContent(e(a.data),N),n.finished=!0,B(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),C("AjaxContentAdded")},error:function(){B(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var j,I=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var r=t.st.image.titleSrc;if(r){if(e.isFunction(r))return r.call(t,n);if(n.el)return n.el.attr(r)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),E(f+n,function(){"image"===t.currItem.type&&e.cursor&&r.addClass(e.cursor)}),E(u+n,function(){e.cursor&&r.removeClass(e.cursor),x.off("resize"+g)}),E("Resize"+n,t.resizeImage),t.isLowIE&&E("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,C("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,r=e.img[0],i=function(o){j&&clearInterval(j),j=setInterval(function(){return r.naturalWidth>0?void t._onImageHasSize(e):(n>200&&clearInterval(j),n++,void(3===n?i(10):40===n?i(50):100===n&&i(500)))},o)};i(1)},getImage:function(n,r){var i=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,C("ImageLoadComplete")):(i++,200>i?setTimeout(o,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,u=r.find(".mfp-img");if(u.length){var l=document.createElement("img");l.className="mfp-img",n.img=e(l).on("load.mfploader",o).on("error.mfploader",a),l.src=n.src,u.is("img")&&(n.img=n.img.clone()),l=n.img[0],l.naturalWidth>0?n.hasSize=!0:l.width||(n.hasSize=!1)}return t._parseMarkup(r,{title:I(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(j&&clearInterval(j),n.loadError?(r.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(r.removeClass("mfp-loading"),t.updateStatus("ready")),r):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,r.addClass("mfp-loading"),t.findImageSize(n)),r)}}});var $,z=function(){return void 0===$&&($=void 0!==document.createElement("p").style.MozTransform),$};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,r=".zoom";if(n.enabled&&t.supportsTransition){var i,o,a=n.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+n.duration/1e3+"s "+n.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=r,t.css(i),t},c=function(){t.content.css("visibility","visible")};E("BuildControls"+r,function(){if(t._allowZoom()){if(clearTimeout(i),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void c();o=s(e),o.css(t._getOffset()),t.wrap.append(o),i=setTimeout(function(){o.css(t._getOffset(!0)),i=setTimeout(function(){c(),setTimeout(function(){o.remove(),e=o=null,C("ZoomAnimationEnded")},16)},a)},16)}}),E(l+r,function(){if(t._allowZoom()){if(clearTimeout(i),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;o=s(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),E(u+r,function(){t._allowZoom()&&(c(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var r;r=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var i=r.offset(),o=parseInt(r.css("padding-top"),10),a=parseInt(r.css("padding-bottom"),10);i.top-=e(window).scrollTop()-o;var s={width:r.width(),height:(_?r.innerHeight():r[0].offsetHeight)-a-o};return z()?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var U="iframe",V="//about:blank",Y=function(e){if(t.currTemplate[U]){var n=t.currTemplate[U].find("iframe");n.length&&(e||(n[0].src=V),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(U,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(U),E("BeforeChange",function(e,t,n){t!==n&&(t===U?Y():n===U&&Y(!0))}),E(u+"."+U,function(){Y()})},getIframe:function(n,r){var i=n.src,o=t.st.iframe;e.each(o.patterns,function(){return i.indexOf(this.index)>-1?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var a={};return o.srcAction&&(a[o.srcAction]=i),t._parseMarkup(r,a,n),t.updateStatus("ready"),r}}});var W=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},H=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,r=".mfp-gallery",o=Boolean(e.fn.mfpFastClick);
return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",E(f+r,function(){n.navigateByImgClick&&t.wrap.on("click"+r,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),i.on("keydown"+r,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),E("UpdateStatus"+r,function(e,n){n.text&&(n.text=H(n.text,t.currItem.index,t.items.length))}),E(h+r,function(e,r,i,o){var a=t.items.length;i.counter=a>1?H(n.tCounter,o.index,a):""}),E("BuildControls"+r,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var r=n.arrowMarkup,i=t.arrowLeft=e(r.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(b),a=t.arrowRight=e(r.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(b),s=o?"mfpFastClick":"click";i[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(k("b",i[0],!1,!0),k("a",i[0],!1,!0),k("b",a[0],!1,!0),k("a",a[0],!1,!0)),t.container.append(i.add(a))}}),E(d+r,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void E(u+r,function(){i.off(r),t.wrap.off("click"+r),t.arrowLeft&&o&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=W(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=W(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,r=Math.min(n[0],t.items.length),i=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?i:r);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?r:i);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=W(n),!t.items[n].preloaded){var r=t.items[n];r.parsed||(r=t.parseEl(n)),C("LazyLoad",r),"image"===r.type&&(r.img=e('<img class="mfp-img" />').on("load.mfploader",function(){r.hasSize=!0}).on("error.mfploader",function(){r.hasSize=!0,r.loadError=!0,C("LazyLoadError",r)}).attr("src",r.src)),r.preloaded=!0}}}});var q="retina";e.magnificPopup.registerModule(q,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(E("ImageHasSize."+q,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),E("ElementParse."+q,function(t,r){r.src=e.replaceSrc(r,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,r=function(){x.off("touchmove"+o+" touchend"+o)},i="mfpFastClick",o="."+i;e.fn.mfpFastClick=function(i){return e(this).each(function(){var a,s=e(this);if(n){var u,l,c,p,h,f;s.on("touchstart"+o,function(e){p=!1,f=1,h=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],l=h.clientX,c=h.clientY,x.on("touchmove"+o,function(e){h=e.originalEvent?e.originalEvent.touches:e.touches,f=h.length,h=h[0],(Math.abs(h.clientX-l)>10||Math.abs(h.clientY-c)>10)&&(p=!0,r())}).on("touchend"+o,function(e){r(),p||f>1||(a=!0,e.preventDefault(),clearTimeout(u),u=setTimeout(function(){a=!1},t),i())})})}s.on("click"+o,function(){a||i()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+o+" click"+o),n&&x.off("touchmove"+o+" touchend"+o)}}(),S()}(window.jQuery||window.Zepto),function(e){function t(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,o=0,a=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(i=n.wheelDelta/120),n.detail&&(i=-n.detail/3),a=i,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,o=-1*i),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),r.unshift(t,i,o,a),(e.event.dispatch||e.event.handle).apply(this,r)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var r=n.length;r;)e.event.fixHooks[n[--r]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){"use strict";e.fn.serializeJSON=function(){var t,n;return t={},n=this.serializeArray(),e.each(n,function(n,r){var i,o,a;i=r.name,o=r.value,a=e.map(i.split("["),function(e){var t;return t=e[e.length-1],"]"===t?e.substring(0,e.length-1):e}),""===a[0]&&a.shift(),e.deepSet(t,a,o)}),t};var t=function(e){return e===Object(e)};e.deepSet=function(n,r,i){if(!r||0===r.length)throw new Error("ArgumentError: keys param expected to be an array with least one key");var o,a,s,u,l,c;o=r[0],a=r[1],void 0!==a&&null!==a?(s=r.slice(1),""===o&&(l=n.length-1,c=n[n.length-1],t(c)&&!c[a]?o=l:(n.push({}),o=l+1)),void 0===n[o]&&(u=""!==a&&isNaN(parseInt(a,10))?{}:[],n[o]=u),e.deepSet(n[o],s,i)):""===o?n.push(i):n[o]=i}}(jQuery),function(){var e,t=[].slice;e=this,e.namespace=function(n,r,i){var o,a,s,u,l,c;for(arguments.length<3&&(u=["undefined"!=typeof exports?exports:e].concat(t.call(arguments)),n=u[0],r=u[1],i=u[2]),c=n,l=r.split("."),o=0,s=l.length;s>o;o++)a=l[o],n=n[a]||(n[a]={});return i(n,c)}}.call(this),function(){var e;e={mixin:function(e){return _.extend(this.prototype,e)}},namespace("Kumu",function(t){return t.Mixins=e})}.call(this),function(){this.concern=function(e,t,n){return namespace(e,function(e){return e[t]=function(){return n.apply(arguments[0],arguments)}})}}.call(this),function(){this.extend=function(e,t){return null!=t.classMethods&&_.extend(e,t.classMethods),_.extend(e.prototype,_.omit(t,"classMethods")),e}}.call(this),function(){this.wrap=function(e,t){return e instanceof t?e:t===Array?[e]:new t(e)}}.call(this),function(){window.Shortcuts=function(){function e(){}return e._stack=[],e._bindings={},e._releaseBindings={},e._activeKeys={},e._KEYCODES={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,OPT:18,CAPS:20,ESC:27,ESCAPE:27,SPACE:32,SPACEBAR:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46,DELETE:46,EQUALS:61,CMD:91,"+":187,PLUS:187,"-":189,MINUS:189,".":190,PERIOD:190,BACKTICK:192,"/":191,"[":219,"\\":220,"]":221},e.code=function(e){return this._encode(e)},e.initialize=function(){return this._registerKeyListeners(),this._registerWindowListeners()},e.push=function(e){return null==e&&(e={reset:!0}),this._stack.push({bindings:this._clone(this._bindings),releaseBindings:this._clone(this._releaseBindings)}),e.reset?(this._bindings={},this._releaseBindings={}):void 0},e.pop=function(){return this.restore(this._stack.pop())},e.restore=function(e){return null==e&&(e=null),e?(this._bindings=e.bindings,this._releaseBindings=e.releaseBindings):this._stack.length>0?(this.restore(this._stack.shift),this._stack=[]):void 0},e._clone=function(e){var t,n;if(null==e||"object"!=typeof e)return e;n=new e.constructor;for(t in e)n[t]=this._clone(e[t]);return n},e.down=function(e,t){return this._bindKeystroke(e,t,null)},e.up=function(e,t){return this._bindKeystroke(e,null,t)},e.bind=function(e,t,n){return this._bindKeystroke(e,t,n)},e.bindAll=function(e){var t;return null==(t=this._bindings).all&&(t.all=[]),this._bindings.all.push(e)},e.unset=function(e){var t,n,r,i,o,a;for(o=e.split(","),a=[],n=0,i=o.length;i>n;n++)r=o[n],t=this._encode(r),this._bindings[t]=null,a.push(this._releaseBindings[t]=null);return a},e._bindKeystroke=function(e,t,n){var r,i,o,a,s,u,l,c;for(l=e.split(","),c=[],a=0,u=l.length;u>a;a++)s=l[a],o=this._encode(s),t&&(null==(r=this._bindings)[o]&&(r[o]=[]),this._bindings[o].push(t)),n?(null==(i=this._releaseBindings)[o]&&(i[o]=[]),c.push(this._releaseBindings[o].push(n))):c.push(void 0);return c},e._registerKeyListeners=function(){return $(document).bind("keydown",function(e){return function(t){return e._ignored(t)?e._reset():(e._capture(t)&&(e._activeKeys[t.which]=t.which),e._process(t))}}(this)).bind("keyup",function(e){return function(t){return e._ignored(t)?e._reset():(e._processRelease(t),e._capture(t)?delete e._activeKeys[t.which]:void 0)}}(this))},e._registerWindowListeners=function(){return $(window).bind("blur",this._reset)},e._process=function(t){var n,r,i,o,a,s,u;if(r=e._bindings[e._activeKeystroke(t)],i=e._bindings.all,r&&(t.preventDefault(),e._reset(),r))for(o=0,s=r.length;s>o;o++)n=r[o],n.call(null,t);if(i&&(e._reset(),i))for(a=0,u=i.length;u>a;a++)n=i[a],n.call(null,t);return void 0},e._processRelease=function(t){var n,r,i,o;if(r=e._releaseBindings[e._activeKeystroke(t)])for(i=0,o=r.length;o>i;i++)n=r[i],n.call(null,t);return t.which===e._KEYCODES.ESC?e._reset():void 0},e._reset=function(){return e._activeKeys={}},e._activeKeystroke=function(t){var n,r;r=[],t.shiftKey&&r.push(e._KEYCODES.SHIFT),t.altKey&&r.push(e._KEYCODES.ALT),t.ctrlKey&&r.push(e._KEYCODES.CTRL),t.metaKey&&r.push(e._KEYCODES.CMD);for(n in e._activeKeys)r.push(n);return e._sort(r).join("+")},e._ignored=function(t){return e._combinationIgnored(t)||e._targetIgnored(t)},e._combinationIgnored=function(){return!1},e._targetIgnored=function(t){var n;return e._forced(t)?!1:(n=$(t.target),n.is(":input")&&n.is(":not(a, button)"))},e._capture=function(t){var n;return n=t.which,!(n===e._KEYCODES.SHIFT||n===e._KEYCODES.ALT||n===e._KEYCODES.CTRL||n===e._KEYCODES.CMD||n===e._KEYCODES.CAPS)},e._forced=function(t){return t.ctrlKey||t.which===e._KEYCODES.ESC||e._activeKeys.ESC},e._encode=function(t){var n,r;return n=e._clean(t).map(e._encodeKey),r=e._sort(n).join("+")},e._sort=function(e){return e.sort(function(e,t){return e-t})},e._encodeKey=function(t){return e._KEYCODES[t]||t.charCodeAt(0)},e._clean=function(e){var t;return t=e.split("+"),t=t.map(function(e){return $.trim(e).toUpperCase()})},e}(),window.Shortcuts.initialize()}.call(this),function(e){function t(e,t,n,r){var i,o,a,s,u,l,p,d,m,g;if((t?t.ownerDocument||t:z)!==F&&L(t),t=t||F,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(N&&!r){if(i=wt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return et.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&E.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(a)),n}if(E.qsa&&(!B||!B.test(e))){if(d=p=$,m=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=h(e),(p=t.getAttribute("id"))?d=p.replace(xt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+f(l[u]);m=_t.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return et.apply(n,m.querySelectorAll(g)),n}catch(v){}finally{p||t.removeAttribute("id")}}}return _(e.replace(ct,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[$]=!0,e}function i(e){var t=F.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)C.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==G&&e}function p(){}function h(e,n){var r,i,o,a,s,u,l,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=C.preFilter;s;){(!r||(i=pt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ht.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ct," ")}),s=s.slice(r.length));for(a in C.filter)!(i=gt[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,u).slice(0)}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=V++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=U+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(l=t[$]||(t[$]={}),(u=l[r])&&u[0]===c){if((s=u[1])===!0||s===k)return s===!0}else if(u=l[r]=[c],u[1]=e(t,n,a)||k,u[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[$]&&(i=v(i)),o&&!o[$]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,p,h=[],f=[],d=a.length,m=r||w(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:g(m,h,e,s,u),y=n?o||(r?e:d||i)?[]:a:v;if(n&&n(v,y,s,u),i)for(l=g(y,f),i(l,[],s,u),c=l.length;c--;)(p=l[c])&&(y[f[c]]=!(v[f[c]]=p));if(r){if(o||e){if(o){for(l=[],c=y.length;c--;)(p=y[c])&&l.push(v[c]=p);o(null,y=[],l,u)}for(c=y.length;c--;)(p=y[c])&&(l=o?nt.call(r,p):h[c])>-1&&(r[l]=!(a[l]=p))}}else y=g(y===a?y.splice(d,y.length):y),o?o(null,a,y,u):et.apply(a,y)})}function y(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return nt.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==T)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>s;s++)if(n=C.relative[e[s].type])c=[d(m(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[$]){for(r=++s;i>r&&!C.relative[e[r].type];r++);return v(s>1&&m(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return m(c)}function b(e,n){var i=0,o=n.length>0,a=e.length>0,s=function(r,s,u,l,c){var p,h,f,d=0,m="0",v=r&&[],y=[],b=T,w=r||a&&C.find.TAG("*",c),_=U+=null==b?1:Math.random()||.1,x=w.length;for(c&&(T=s!==F&&s,k=i);m!==x&&null!=(p=w[m]);m++){if(a&&p){for(h=0;f=e[h++];)if(f(p,s,u)){l.push(p);break}c&&(U=_,k=++i)}o&&((p=!f&&p)&&d--,r&&v.push(p))}if(d+=m,o&&m!==d){for(h=0;f=n[h++];)f(v,y,s,u);if(r){if(d>0)for(;m--;)v[m]||y[m]||(y[m]=Z.call(l));y=g(y)}et.apply(l,y),c&&!r&&y.length>0&&d+n.length>1&&t.uniqueSort(l)}return c&&(U=_,T=b),v};return o?r(s):s}function w(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function _(e,t,n,r){var i,o,a,s,u,l=h(e);if(!r&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&E.getById&&9===t.nodeType&&N&&C.relative[o[1].type]){if(t=(C.find.ID(a.matches[0].replace(Et,kt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=gt.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((u=C.find[s])&&(r=u(a.matches[0].replace(Et,kt),_t.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return et.apply(n,r),n;break}}return M(e,l)(r,t,!N,n,_t.test(e)&&c(t.parentNode)||t),n}var x,E,k,C,A,S,M,T,D,O,L,F,P,N,B,R,j,I,$="sizzle"+-new Date,z=e.document,U=0,V=0,Y=n(),W=n(),H=n(),q=function(e,t){return e===t&&(O=!0),0},G="undefined",K=1<<31,J={}.hasOwnProperty,X=[],Z=X.pop,Q=X.push,et=X.push,tt=X.slice,nt=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},rt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=ot.replace("w","w#"),st="\\[!?"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\1|("+at+"))"+it+"*(?:((?:[<>])|[<>*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\5|("+at+")|)|)"+it+"*\\]",ut="\\["+it+"*("+ot+")"+it+"*(?:((?:[<>])|[<>*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+it+"*\\]",lt=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ut.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),pt=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ft=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(lt),mt=new RegExp("^"+at+"$"),gt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+rt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,bt=/^[^{]+\{\s*\[native \w/,wt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,xt=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),kt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{et.apply(X=tt.call(z.childNodes),z.childNodes),X[z.childNodes.length].nodeType}catch(Ct){et={apply:X.length?function(e,t){Q.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:z,r=n.defaultView;return n!==F&&9===n.nodeType&&n.documentElement?(F=n,P=n.documentElement,N=!S(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){L()},!1):r.attachEvent&&r.attachEvent("onunload",function(){L()})),E.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=bt.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),E.getById=i(function(e){return P.appendChild(e).id=$,!n.getElementsByName||!n.getElementsByName($).length}),E.getById?(C.find.ID=function(e,t){if(typeof t.getElementById!==G&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(Et,kt);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(Et,kt);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=E.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&N?t.getElementsByClassName(e):void 0},R=[],B=[],(E.qsa=bt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&B.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||B.push("\\["+it+"*(?:value|"+rt+")"),e.querySelectorAll(":checked").length||B.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&B.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(E.matchesSelector=bt.test(j=P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){E.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),R.push("!=",lt)}),B=B.length&&new RegExp(B.join("|")),R=R.length&&new RegExp(R.join("|")),t=bt.test(P.compareDocumentPosition),I=t||bt.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return O=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!E.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===z&&I(z,e)?-1:t===n||t.ownerDocument===z&&I(z,t)?1:D?nt.call(D,e)-nt.call(D,t):0:4&r?-1:1)}:function(e,t){if(e===t)return O=!0,0;var r,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:D?nt.call(D,e)-nt.call(D,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===z?-1:l[i]===z?1:0},n):F},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==F&&L(e),n=n.replace(ft,"='$1']"),!(!E.matchesSelector||!N||R&&R.test(n)||B&&B.test(n)))try{var r=j.call(e,n);if(r||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,F,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==F&&L(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==F&&L(e);var n=C.attrHandle[t.toLowerCase()],r=n&&J.call(C.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:E.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!E.detectDuplicates,D=!E.sortStable&&e.slice(0),e.sort(q),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},A=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=A(t);return n},C=t.selectors={cacheLength:50,createPseudo:r,match:gt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=(e[2]||e[3]).replace(Et,kt),e[2]=/^\[!/.test(e[0])?"!":e[4],e[3]=(e[6]||e[7]||"").replace(Et,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return gt.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&dt.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Y[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&Y(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,h,f,d,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(c=g[$]||(g[$]={}),l=c[e]||[],f=l[0]===U&&l[1],h=l[0]===U&&l[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(h=f=0)||d.pop();)if(1===p.nodeType&&++h&&p===t){c[e]=[U,f,h];break}}else if(y&&(l=(t[$]||(t[$]={}))[e])&&l[0]===U)h=l[1];else for(;(p=++f&&p&&p[m]||(h=f=0)||d.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++h||(y&&((p[$]||(p[$]={}))[e]=[U,h]),p!==t)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,n){var i,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[$]?o(n):o.length>1?(i=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=nt.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=M(e.replace(ct,"$1"));return i[$]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:r(function(e){return mt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Et,kt).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return vt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},C.pseudos.nth=C.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=u(x);p.prototype=C.filters=C.pseudos,C.setFilters=new p,M=t.compile=function(e,t){var n,r=[],i=[],o=H[e+" "];if(!o){for(t||(t=h(e)),n=t.length;n--;)o=y(t[n]),o[$]?r.push(o):i.push(o);o=H(e,b(i,r))}return o},E.sortStable=$.split("").sort(q).join("")===$,E.detectDuplicates=!!O,L(),E.sortDetached=i(function(e){return 1&e.compareDocumentPosition(F.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(rt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t.tokenize=h,"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:e.Sizzle=t}(window);var Sizzle;Sizzle=window.Sizzle,function(e,t){var n,r,i,o,a,s,u,l,c,p,h,f;return n=function(){},i=function(e){var t;return 1===(null!=(t=e.selectors)?t.length:void 0)?e.selectors[0]:e},f=function(){return{selector:"union",selectors:[]}},a=function(){return{selector:"intersection",selectors:[]}},c=function(e){var t;return(t=function(){switch(e.type){case"ID":return o;case"TAG":return h;case"CLASS":return l;case"ATTR":return r;case"PSEUDO":return u;case" ":case"+":case"<":case">":case"~":case"|":return p;default:throw new Error("Unrecognized input, "+e.type)}}())(e)},o=function(e){return{selector:"id",id:e.matches[0]}},h=function(e){var t,n;return n=e.matches[0],"*"===n?{selector:"universal"}:/^(element|connection|loop)$/.test(n)?{selector:"generic",type:n}:(t=/-connection$/.test(n)?"connection type":"element type",{selector:"attribute",attribute:t,operator:"=",value:n.replace("-connection","")})},l=function(e){return{selector:"attribute",attribute:"tags",operator:"~=",value:e.matches[0]}},r=function(e){var t,n,r,i;return i=e.matches,t=i[0],n=i[1],r=i[2],n&&"!"!==n||(r=void 0),"~="===n&&(r=r.slice(1,-1)),{selector:"attribute",attribute:t,operator:n,operator:n,value:r}},u=function(e){var t,n,r;switch(r=e.matches,n=r[0],t=r[1],n){case"not":case"filter":case"from":case"to":return{selector:n,subselector:s(t)};default:return{selector:n,args:t}}},p=function(e){return{combinator:e.type}},s=n.parse=function(e){var n,r,o,s,u,l,p,h,d;for(o=f(),r=t.tokenize(e),l=0,h=r.length;h>l;l++){for(n=r[l],s=a(),p=0,d=n.length;d>p;p++)u=n[p],s.selectors.push(c(u));o.selectors.push(i(s))}return i(o)},"function"==typeof define&&define.amd?define(function(){return n}):e.Kizzle=n}(window,Sizzle),function(){this.cloned=function(e,t){var n,r,i,o,a;if(1===t)return _.clone(e);if(null!=t&&(t-=1),_.isArray(e)){for(o=[],n=0,r=e.length;r>n;n++)a=e[n],o.push(cloned(a,t));return o}if(_.isObject(e)){o={};for(i in e)a=e[i],o[i]=cloned(a,t);return o}return e}}.call(this),function(){var e;e=1,this.download=function(t,n){var r,i,o;return i=n.filename,o=n.type,r=n.encoding,$(".download-wrapper").remove(),When.promise(function(n){var a,s;return s={filename:i,type:o,encoding:r},s.csrf=Rails.csrf,s.frame="download-"+e++,a=$(template("main::downloads/download",s)),a.find("[name=data]").val(t),a.appendTo("body"),a.find("form").submit(),n()})}}.call(this),function(){var e=[].slice;$.callback=function(){var t,n,r,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],r=new $.Deferred,n=function(e,t){return e?r.reject(e):r.resolve(t)},t.push(n),i.apply(null,t),r.promise()}}.call(this),function(){var e=[].slice,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(r){var i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b;return s=function(){function t(e,t){this.$el=e,this.deleted=!1,this.escaped=t.escaped,this.initializeOptions(t),"external"!==this.options.editor&&(this.editor=u.build(this.options.editor,this)),this.value=this.options.value,this.choices=this.options.choices,this.build(),this.show()}return t.prototype.extend=function(e){return r.extend(this.options,e)},t.prototype.trigger=function(){var t,n;return t=1<=arguments.length?e.call(arguments,0):[],(n=this.$el).triggerHandler.apply(n,t),this},t.prototype.refresh=function(){return this.editing?this.edit():this.show()},t.prototype.getValue=function(){return this.data().value()},t.prototype.getChoices=function(){return r.editable.helper.result(this.choices)},t.prototype.show=function(e){var t;return this.editing=!1,t=this.data(e),this.wrapper.display(t),this.trigger("show",t.value())},t.prototype.data=function(e){return new o(e||this.value,this.choices)},t.prototype.edit=function(e){return null==e&&(e={}),this.editor?(this.editing=!0,this.wrapper.edit(this.editor,e),this.trigger("edit",this.editor),e.error?this.error(e.error):void 0):this.trigger("edit")},t.prototype.configure=function(){return this.trigger("configure")},t.prototype.save=function(){var e,t,n,r,i;return t=!1,i=this.editor.value(),r=this.validate(i),console.log("Save",i,r),r?(e=jQuery.Event("update"),i=this.parse(i),n=this.getValue(),t=_.isEqual(i,n)||!i&&!n,t||this.trigger(e,[i]),e.isDefaultPrevented()?this.edit({value:i}):t?this.cancel():(this.value=i,this.show(i))):this.error("Invalid")},t.prototype.error=function(e){return this.trigger("error",e)
},t.prototype.validate=function(e){return this.options.validate(e)},t.prototype.parse=function(e){return this.options.parse(e)},t.prototype.format=function(e){return this.options.format(e)},t.prototype["delete"]=function(){return this.deleted=!0,this.show(),this.trigger("delete",this.value)},t.prototype.restore=function(){return this.deleted=!1,this.trigger("restore")},t.prototype.cancel=function(){return this.trigger("cancel"),this.show()},t.prototype.destroy=function(){return this.wrapper.destroy(),this.$el.tooltip("hide")},t.prototype.saveOnBlur=function(){return this.options.trigger.match(/all|blur/)&&!this.deleted},t.prototype.saveOnChange=function(){return this.options.trigger.match(/all|change/)},t.prototype.saveOnEnter=function(){return this.options.trigger.match(/all|enter/)},t.prototype.can=function(e){return!!this.options.actions.match(RegExp("all|"+e))},t.prototype.isList=function(){return null!=this.data().choices},t.prototype.isSubtle=function(){return"subtle"===this.options.mode},t.prototype.isFlashy=function(){return"flashy"===this.options.mode},t.prototype.isReadonly=function(){return this.options.readonly||"readonly"===this.options.mode},t.prototype.isLocked=function(){return this.options.locked},t.prototype.getLabelAndValueFromChoice=function(e){return _.isObject(e)?e:{value:e,label:e}},t.prototype.initializeOptions=function(e){var t;return t=this.domOptions(),this.options?r.extend(this.options,e):this.options=r.extend({},r.editable.defaults,t,e)},t.prototype.domOptions=function(){var e,t,n,i,o,a,s,u;for(a={},a.value=r.trim(this.$el.text()),s=this.$el.get(0).attributes,t=0,n=s.length;n>t;t++)e=s[t],i=e.nodeName.match(/^data-editable-([a-z\-]+)$/),i&&2===i.length&&(o=i[1],u=e.nodeValue,u="true"===u?!0:u,"as"===o&&(o="editor"),a[o]=u);return a},t.prototype.build=function(){return this.wrapper=new c(this)},t}(),o=function(){function e(e,t){this._value=r.editable.helper.result(e),this._choices=r.editable.helper.result(t)}return e.prototype.value=function(){return this._value},e.prototype.choices=function(e){return this._choices&&e?r.editable.helper.formalize(this._choices):this._choices},e.prototype.uniqueChoices=function(e){var t;return t=this.choices(e),t&&(t=_.uniq(this.choices(e),!1,function(e){return _.isObject(e)?e.value:e})),t},e.prototype.selectedChoices=function(){var e;return this._choices?(e=this,r.grep(this.choices(!0),function(t){return e.selected(t[1])})):void 0},e.prototype.selectedChoiceLabels=function(){return this._choices?r.map(this.selectedChoices(),function(e){return e[0]}):void 0},e.prototype.hasMultipleValues=function(){return this._value instanceof Array},e.prototype.selected=function(e){return r.editable.helper.equal(e,this._value)||r.inArray(e,this._value)>=0},e}(),a=function(){function e(e){this.editable=e}return e.prototype.render=function(e){var t,n,i,o,a;return this.data=e,t=null!=(i=this.getFormattedValue())?i:this.getFallbackContent(),a=this.editable.options.separator,n=this.editable.options.placeholder,t&&0!==t.length?t instanceof Array&&t.length>0&&a&&(t=_.chain(t).map(function(e){return[e,a]}).flatten().initial().value()):t=n,_.isArray(t)||(t=[t]),this.$el=(o=r("<div></div>").addClass("editable-display").addClass(this.editable.options.editor+"-container")).append.apply(o,t),this},e.prototype.isPresent=function(e){return null!=e&&""!==r.trim(e)},e.prototype.getFormattedValue=function(){var e,t,n;return t=this.data.value(),this.isPresent(t)?(n=_.isArray(t)?t:[t],e=_.map(n,this.editable.format,this.editable),this.editable.escaped||(e=e.map(function(e){return cockblock(e)})),e):void 0},e.prototype.getFallbackContent=function(){var e,t,n,r;return r=this.data.value(),e=this.data.choices(!0),(null!=e?e.length:void 0)>0&&e[0].label!==e[0].value&&(n=this.data.selectedChoiceLabels(),this.data.hasMultipleValues()||(n=n[0]),t=cockblock(n)),null==t&&(t=cockblock(r)),t},e}(),c=function(){function e(e){this.editable=e,this.onKeydown=t(this.onKeydown,this),this.onMouseUp=t(this.onMouseUp,this),this.onMouseMove=t(this.onMouseMove,this),this.onMouseDown=t(this.onMouseDown,this),this.$el=this.editable.$el,this.build(),this.listen()}return e.blurTimeout=null,e.prototype.show=function(){return this.$el.show()},e.prototype.hide=function(){return this.$el.hide("fade")},e.prototype.build=function(){var e;return this.displayView=new a(this.editable),this.toolbarView=new l(this.editable),e=["editable"],e.push("editable-"+this.editable.options.editor),this.editable.isReadonly()&&e.push("editable-readonly readonly"),/(normal|readonly)/.test(this.editable.options.mode)||e.push(this.editable.options.mode),this.$el.addClass(e.join(" ")).tooltip({title:"",trigger:"manual",selector:"editable-editor"}).on("error",this.onError),this},e.prototype.display=function(e){return this.$display=this.displayView.render(e).$el,this.$actions=this.toolbarView.render().$el,this.$el.removeClass("active").empty().append(this.$display,this.$actions),this.cleanup()},e.prototype.cleanup=function(){var e;return null!=(e=this.editor)&&"function"==typeof e.cleanup&&e.cleanup(),0===this.$el.closest(".editable.active").length&&r("body").removeClass("editable-active"),this.$el.tooltip("hide")},e.prototype.edit=function(e,t){var n,i,o,a,s,u,l,c,p;return this.editor=e,this.$el.find("> .editable-editor").remove(),"function"==typeof(i=this.editor).beforeRender&&i.beforeRender(),r("body").addClass("editable-active"),this.$el.addClass("active"),p=null!=(l=t.value)?l:this.editable.getValue(),u=null!=(c=t.choices)?c:this.editable.getChoices(),n=this.editor.render(p,u).$el.addClass("editable-editor").addClass(this.editable.options.editor+"-editor").toggleClass("locked",this.editable.isLocked()).appendTo(this.$el),n.on("select","input, textarea",function(e){return e.stopPropagation()}),"function"==typeof(o=this.editor).delegateEvents&&o.delegateEvents(),"function"==typeof(a=this.editor).afterRender&&a.afterRender(),"function"==typeof(s=this.editor).focus?s.focus():void 0},e.prototype.listen=function(){return r("body").on("mousedown touchstart",this.onMouseDown).on("mousemove",this.onMouseMove).on("mouseup touchend",this.onMouseUp).on("keydown",this.onKeydown)},e.prototype.destroy=function(){return r("body").off("mousedown touchstart",this.onMouseDown).off("mousemove",this.onMouseMove).off("mouseup touchend",this.onMouseUp).off("keydown",this.onKeydown)},e.prototype.onMouseDown=function(e){var t,n,i,o;if(1===e.which)return this.isDrag=!1,t=r(e.target),this.isActive()&&(o=0===t.closest(this.$el).length,i=0===t.closest("html").length,n=t.closest(".ui-autocomplete").length>0,o&&!n&&!i)?this.onBlur(e):void 0},e.prototype.onMouseMove=function(){return this.isDrag=!0},e.prototype.onMouseUp=function(e){var t;return 1!==e.which||this.isDrag||this.editable.isReadonly()||(t=r(e.target),!this.inDisplay(t)||this.displayClicksIgnored(t)||t.is("a, img"))?void 0:this.editable.edit()},e.prototype.onKeydown=function(e){return this.isActive()&&!this.hasActiveChild()&&27===e.which?(e.stopPropagation(),this.editable.cancel()):void 0},e.prototype.onBlur=function(e){var t;return("function"==typeof(t=this.editor).ignoreBlur?t.ignoreBlur(e):void 0)?void 0:(this.beforeBlur(),this.editable.saveOnBlur()?this.editable.save():this.editable.cancel())},e.prototype.beforeBlur=function(){return e.lastBlurAt=(new Date).getTime()},e.prototype.displayClicksIgnored=function(e){return this.timeSinceLastBlur()<100||r("body").is(".editable-active")&&0===e.closest(".editable.active").length},e.prototype.timeSinceLastBlur=function(){var t;return e.lastBlurAt?(t=(new Date).getTime(),t-e.lastBlurAt):Infinity},e.prototype.isActive=function(){return this.$el.is(".active")},e.prototype.inDisplay=function(e){return e.closest(this.$display).length>0},e.prototype.hasActiveChild=function(){return this.$el.find(".editable.active").length>0},e.prototype.onError=function(e,t){return t?(t instanceof Array&&(t=t.join(", ")),this.$el.tooltip("hide").attr("title",t).tooltip("fixTitle").tooltip("show")):void 0},e}(),l=function(){function e(e){this.editable=e,this.onDelete=t(this.onDelete,this),this.onConfigure=t(this.onConfigure,this),this.onEdit=t(this.onEdit,this)}return e.prototype.render=function(){var e,t;return t=this.editable.editor,e=this.editable.data(),this.$el=r("<div />").addClass("editable-toolbar btn-group"),this.editable.can("edit")&&this.$el.append('<div class="btn btn-default editable-edit"><i class="icon-edit" /></div>'),this.editable.can("configure")&&this.$el.append('<div class="btn btn-default editable-configure"><i class="icon-configure" /></div>'),this.editable.can("delete")&&e.value()&&this.$el.append('<div class="btn btn-danger editable-delete"><i class="icon-remove" /></div>'),this.listen(),this},e.prototype.listen=function(){return this.$el.find(".editable-edit").on("click touchstart",this.onEdit),this.$el.find(".editable-configure").on("click touchstart",this.onConfigure),this.$el.find(".editable-delete").on("click touchstart",this.onDelete)},e.prototype.onEdit=function(e){return e.preventDefault(),this.editable.edit()},e.prototype.onConfigure=function(e){return e.preventDefault(),this.editable.configure()},e.prototype.onDelete=function(e){return e.preventDefault(),this.deleteConfirmed()?this.editable["delete"]():void 0},e.prototype.deleteConfirmed=function(){var e;return e=r.editable.helper.result(this.editable.options["delete-confirmation"]),!e||confirm(e)},e}(),i=function(){function e(e){this.registryName=e,this.registry={}}return e.prototype.find=function(e,t){var n;if(null==t&&(t={}),t=_.defaults(t,{strict:!1}),"string"==typeof e){if(n=this.registry[e],t.strict&&!n)throw new Error("EditableError: Cannot find '"+e+"' "+this.registryName)}else n=e;return n},e.prototype.exists=function(e){return!!this.registry[e]},e.prototype.register=function(e,t){return this.registry[e]=t},e}(),u=function(){function e(e){this.editable=e}return e.registry=new i("editor"),e.build=function(t,n){var r;return new(r=e.registry.find(t)||function(){throw new Error("Editor not defined: "+t)}())(n)},e.prototype.can=function(e){return this.editable.can(e)},e.prototype.find=function(e){return this.$el.find(e)},e.prototype.remove=function(){return this.$el.remove()},e}(),r.editable={editor:{},extension:{},helper:{}},r.editable.extend=function(e,t){var n;return n=function(){},n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.__super__=t.prototype,e.prototype["super"]=function(e){return this.constructor.__super__[e]},e},r.editable["super"]=function(e,t,n){return e["super"](t).apply(e,n)},r.editable.helper.result=function(e){return e instanceof Function?this.result(e()):e},r.editable.helper.equal=function(e,t){return String(e)===String(t)},r.editable.helper.formalize=function(e){return e&&e.length>0&&!_.isObject(e[0])?r.map(e,function(e){return{label:e,value:e}}):e},r.editable.helper.eachChoice=function(e,t){var n,i,o,a,s,u,l,c;for(s=e.choices(!0),u=[],i=0,a=s.length;a>i;i++)n=s[i],o=n[0],c=n[1],l=r.editable.helper.equal(e.value(),c),u.push(t(c,o,l));return u},r.editable.helper.sortChoicesByPosition=function(e,t){var n;return n=function(e,n){return _.isObject(e)&&(e=e.value,n=n.value),r.inArray(e,t)-r.inArray(n,t)},e.sort(n)},r.editable.editor.Base=u,r.editable.editor.registry=u.registry,r.editable.editor.register=r.proxy(u.registry.register,u.registry),r.editable.editor.List=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),r.editable.editor.register("list",t),t.defaults={actions:"sort,select,create,update,delete"},t.prototype.render=function(){var e,t,n,i,o,a,s,u,l,c,p,h;for(this.data=this.editable.data(),this.options={via:this.editable.options.via},p=this.editable.options.via,c=(new Date).getTime(),this.$el=r("<ul></ul>"),l=this.data.choices(!0),a=0,u=l.length;u>a;a++)o=l[a],s=o[0],h=o[1],t=this.buildInput(p,h,s),i=this.buildLabel(p,h,s),"radio"===p&&t.attr("name","editable-"+c),e=r("<div></div>").addClass(p).append(t).append(i),n=r("<li></li>").addClass("editable-choice").append(e).appendTo(this.$el);return this.can("sort")&&this.makeSortable(),this},t.prototype.focus=function(){},t.prototype.value=function(){var e;return e=r.map(this.$el.find("input:checked"),function(e){return r(e).data("editable-data").value}),"radio"===this.options.via?e[0]:e},t.prototype.positions=function(){return r.map(this.$el.find(".editable-input"),function(e){return r(e).data("editable-data").value})},t.prototype.buildInput=function(e,t,n){var i;return i=r("<input />").addClass("editable-input").attr("type",e).attr("checked",this.checked(t)).data("editable-data",{value:t,label:n}).val(t).on("change",function(e){return function(i){var o,a;return i.stopPropagation(),o=r(i.target).is(":checked")?"select":"deselect",a=e.value(),e.editable.trigger(o,t,n).trigger("change",[a])}}(this))},t.prototype.buildLabel=function(e,t,n){var i;return i=r("<span />").attr({"data-value":t,"data-label":n}).addClass("editable-label").append(n)},t.prototype.choices=function(e){return null==e&&(e={}),this.$el.find(".editable-choice .editable-label").editable(e).on("show edit update delete",!1)},t.prototype.onChange=function(e){var t;return t=r(e.target),debug("onchange called with",t,t.is(":checked")),t.is(":checked")?this.editable.trigger("select",t.val()):void 0},t.prototype.form=function(e){var t,n;return null==e&&(e={}),n={mode:"subtle",actions:"edit",placeholder:"<span class='placeholder'>click to add value</span>"},e=_.defaults(e,n),t=r("<li />").addClass("form radio").appendTo(this.$el).editable(e).on("edit update",!1),0===this.$el.find(".editable-choice").length&&t.removeClass("radio").editable("edit"),t},t.prototype.makeSortable=function(){return this.$el.sortable().on("sort",function(e){return e.stopPropagation()}).on("sortupdate",function(e){return function(){var t;return t=e.positions(),"function"!=typeof e.editable.choices&&r.editable.helper.sortChoicesByPosition(e.editable.choices,t),e.editable.trigger("sort",[t])}}(this))},t.prototype.checked=function(e){return e===this.data.value()||r.inArray(e,this.data.value())>=0},t}(u),r.editable.editor.Select=function(e){function i(){return this.onChange=t(this.onChange,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),r.editable.editor.register("select-basic",i),i.prototype.render=function(){var e,t,n,i,o,a,s;for(this.data=this.editable.data(),this.$select=this.$el=r("<select></select>"),a=this.data.choices(!0),n=0,o=a.length;o>n;n++)t=a[n],i=t[0],s=t[1],e=r("<option></option>").html(i).val(s).attr("selected",this.selected(s)),this.$el.append(e);return this.$el.on("change",this.onChange),this},i.prototype.focus=function(){return this.$el.focus()},i.prototype.value=function(){return r.trim(this.$el.val())},i.prototype.onChange=function(){return this.editable.saveOnChange()?this.editable.save():void 0},i.prototype.selected=function(e){return r.editable.helper.equal(e,this.data.value())},i}(u),m=function(e){return null==e&&(e={}),this.each(function(){var t,n;return t=r(this),n=t.data("editable"),n?n.extend(e):t.data("editable",new s(t,e)),t})},b=function(){var e;return e=r(this.first()),e.data("editable").getValue()},y=function(e){return this.each(function(){var t;return t=r(this),t.data("editable").show(e),t})},d=function(e){return this.each(function(){var t;return t=r(this),t.data("editable").edit(e),t})},h=function(){return this.each(function(){var e;return e=r(this),e.data("editable").cancel(),e})},g=function(){return this.each(function(){var e;return e=r(this),e.data("editable").refresh(),e})},v=function(){return this.each(function(){var e;return e=r(this),e.data("editable").restore(),e})},f=function(){return this.each(function(){var e,t;return e=r(this),null!=(t=e.data("editable"))&&t.destroy(),e})},p={initialize:m,value:b,show:y,edit:d,cancel:h,refresh:g,destroy:f,restore:v},r.fn.editable=function(e){return p[e]?p[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?r.error("Method "+e+" not available on jQuery.editable"):p.initialize.apply(this,arguments)},r.editable.selector="data-editable-as",r.editable.defaults={validate:function(){return!0},parse:function(e){return e},format:function(e){return e},escaped:!1,editor:"string",via:"checkbox",mode:"normal",actions:"edit",trigger:"all",separator:", ",placeholder:'<span class="placeholder"></span>',"delete-confirmation":!1,locked:!1}}(jQuery),$(document).ready(function(){return $.editable.selector?$("["+$.editable.selector+"]:not([data-editable-ignore])").each(function(){return $(this).editable()}):void 0})}.call(this),function(){$.widget("kumu.editableattr",{options:{selection:null,attribute:null,options:{}},edit:function(e){return this.element.editable("edit",e)},refresh:function(){return this.element.editable("refresh")},destroy:function(){var e,t,n;return n=this.options,t=n.entity,e=n.assignment,this.element.off("select deselect update delete",this._events.process),t.attrs.off("change",this._events.update),e&&(e.off("edit",this._events.edit),e.off("destroy",this._events.hide)),this.element.editable("destroy"),$.Widget.prototype.destroy.call(this)},_create:function(){var e,t,n,r,i,o,a,s,u,l,c,p,h,f,d,m,g,v;return m=this,o=this.options.attribute=Attributes.resolve(this.options.attribute),a=o.typed(),i=o.get("name"),d=this.options.selection,c=this.options.entity=d.first(),s=c.attrs,r=this.options.assignment,g=r?function(){return r.get("value")}:function(){var e;return e=d.length>1?d.sharedAttr(o):o.isSingular()?c.getAttr(o):c.getAttrs(o),_.isArray(e)&&o.get("sort")&&(e=e.slice(0),e.sort()),e},u=function(){return o.choices()},p=this.options.format||function(e){var t;try{return a.massage(e)}catch(n){return t=n,e}},l=o.editor(),n=this.options.options.actions||"edit,delete",f=this.options.options.readonly||c.isVirtual()||!able.to("manage","entities"),o.isComputed()&&(t=g,e=p,l="expression",n="edit",g=function(){return Attribute.formatExpression(o.get("expression"))},p=function(){return e(t())},f=!able.to("manage","attributes"),u=void 0),v=d.length>1?"Set":"Add",h={readonly:f,actions:n,editor:l,value:g,choices:u,locked:o.get("locked"),format:p,escaped:a.escaped,separator:"<br />",placeholder:f?"":'<span class="placeholder">'+v+" "+cockblock(o.label())+"</span>"},h=_.defaults({},this.options.options,h),this.element.editable(h),this._events={edit:function(e){return m.element.editable("edit",e)},process:function(e,t){return m._process(e,t)},update:function(){return s.hasChanged(o)?m.refresh():void 0},hide:function(){return m.element.hide()}},this.element.on("edit-choice select deselect update delete",this._events.process),s.on("change",this._events.update),null!=r&&r.on("edit",this._events.edit),null!=r?r.on("destroy",this._events.hide):void 0},_onAttrChanged:function(){},_process:function(e,t){var n,r,i,o,a,s;if(a=this.options,s=a.selection,o=a.entity,r=a.attribute,n=a.assignment,"edit-choice"===e.type)return this.element.editable("cancel"),prompt("Replace value",t).then(function(e){return function(n){return n!==t?Workflows.updateAttributeValue(e.options.attribute,t,n):void 0}}(this));if(n)switch(e.type){case"update":return n.set("value",t);case"delete":return n.destroy()}else if(i=Attribute.isExpression(t)||r.isComputed()?function(){switch(e.type){case"update":return new Commands.Attributes.CreateAndAssign(s,r,t)}}():function(){switch(e.type){case"update":return new Commands.Attributes.Set(s,r,t);case"delete":return new Commands.Attributes.Clear(s,r)}}())return execute(i).fail(function(e){return function(){return e.element.editable("edit",{value:t}),alert("Unable to update "+r.label()+". Please try again.")}}(this))}})}.call(this),function(){var e,t,n,r,i=[].slice;e=jQuery,r=function(e,n,r){return n?"["+e+n+'"'+t(r)+'"]':"["+e+"]"},t=function(e){return e.replace(/"/g,'\\"')},n=function(){var e,t,n,o;return n=arguments[0],t=arguments[1],e=3<=arguments.length?i.call(arguments,2):[],o=function(){switch(e.length){case 0:return r(t);case 1:return r(t,"=",e[0]);case 2:return r(attributes,e[0],e[1])}}(),this[n](o)},e.fn.findByAttr=function(){return n.call.apply(n,[this,"find"].concat(i.call(arguments)))},e.fn.filterByAttr=function(){return n.call.apply(n,[this,"filter"].concat(i.call(arguments)))}}.call(this),function(){var e,t=[].slice;e=jQuery,e.fn.findByName=function(){var e,n,r,i,o,a;for(a=1<=arguments.length?t.call(arguments,0):[],e=a[0],r=n=0,i=a.length;i>n;r=++n)o=a[r],0===r?e=o:e+="["+o+"]";return this.find('[name="'+e+'"]')}}.call(this),function(){$.never=function(){return(new $.Deferred).promise()}}.call(this),$.fn.pluck=function(e){return this.map(function(){return $(this).attr(e)}).get()},function(){var e;e=jQuery,e.fn.removeClassByPrefix=function(t){return this.each(function(){return e(this).attr("class",function(e,n){return null!=n?n.replace(RegExp("\\s*\\b"+t+"\\S+","g"),""):void 0})})}}.call(this),function(){var e;e=jQuery,e.fn.replace=function(e,t){var n;return t instanceof Backbone.View&&(n=t,t=n.render().el),this.find('[data-role="'+e+'"]').replaceWith(t)}}.call(this),function(){$.widget("kumu.toggles",{_create:function(){var e;return e={"change .toggle":this._toggle},this._on(e)},_toggle:function(e){var t,n,r;return n=$(e.target),n.is(":radio")&&(r=n.closest(".toggles-group").find(".toggles"),r.removeClass("active")),t=n.closest(".toggles"),t.toggleClass("active",n.is(":checked"))}})}.call(this),function(){var e;e=jQuery,e.fn.scrollToChild=function(t){var n,r,i,o,a,s;return r=e(this),n=r.find("> :eq("+t+")"),o=n.position().top,i=n.outerHeight(!0),a=r.height(),s=r.scrollTop(),0>o?r.scrollTop(s+o):o+i>a?r.scrollTop(s+o+i-a):void 0}}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Backbone.ExtendedView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.assign=function(e,t){return t.setElement(this.$(e)).render()},n}(Backbone.View)}.call(this),function(){var e=[].slice;Backbone.Events.forwardEventsFor=function(){var t,n,r,i,o;for(o=1<=arguments.length?e.call(arguments,0):[],r=[],t=0,n=o.length;n>t;t++)i=o[t],r.push(this.listenTo(i,"all",function(){return this.trigger.apply(this,arguments)}));return r},Backbone.Events.stopForwardingEventsFor=function(){var t,n,r,i,o;for(o=1<=arguments.length?e.call(arguments,0):[],r=[],t=0,n=o.length;n>t;t++)i=o[t],r.push(this.stopListening(i,"all"));return r},_.extend(Backbone.Model.prototype,Backbone.Events),_.extend(Backbone.Collection.prototype,Backbone.Events)}.call(this),function(){Backbone.Memento=function(){function e(e){this.model=e,this.update()}return e.prototype.clone=function(){var e;return e=new Backbone.Memento(this.model),e.attributes=this.toJSON(),e},e.prototype.update=function(){return this.attributes=this.capture()},e.prototype.restore=function(){var e,t,n,r,i;for(this.model.set(this.attributes),r=this.getNewKeys(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(this.model.unset(t));return i},e.prototype.getNewKeys=function(){return Object.keys(this.model.attributes).filter(function(e){return function(t){return!e.attributes.hasOwnProperty(t)}}(this))},e.prototype.isEqual=function(e){var t;return t=this.capture(),e?_.isEqual(this.attributes[e],t[e]):_.isEqual(this.attributes,t)},e.prototype.hasChanged=function(e){return!this.isEqual(e)},e.prototype.get=function(e){return this.attributes[e]},e.prototype.toJSON=function(){return _.clone(this.attributes)},e.prototype.capture=function(){var e;return("function"==typeof(e=this.model).toSnapshot?e.toSnapshot():void 0)||this.model.toJSON()},e}(),Backbone.Model.prototype.toMemento=function(){return new Backbone.Memento(this)}}.call(this),function(){var e;e=Backbone.Model.prototype.save,Backbone.Model.wrap=function(e,t){return wrap(e,t)},Backbone.Model.prototype.setOnce=function(e,t,n){var r;"object"==typeof e?(r=e,n=t):(r={},r[e]=t);for(e in r)t=r[e],null!=this.attributes[e]&&delete r[e];return Backbone.Model.prototype.set.call(r,null,n)},Backbone.Model.prototype.peek=function(e){var t,n;return log.warn("Model#peek is deprecated, use fetch instead"),e=_.defaults({},e,{parse:!0}),t=this,n=e.success,e.success=function(r){return e.parse&&(r=t.parse(r,e)),n?n(t,r,e):void 0},e.error=function(n){return error&&error(t,n,e),t.trigger("error",t,n,e)},this.sync("read",this,e)},Backbone.Model.prototype.save=function(t,n){var r,i;return i=e.call(this,t,n),i?i:(r=new $.Deferred,r.reject(this,this.validationError,n),r.promise())}}.call(this),function(){var e,t;e=Backbone.View.prototype.constructor,t=Backbone.View.prototype.remove,Backbone.View.prototype.constructor=function(){return this.subviews={named:[],anonymous:[]},this.render=_.wrap(this.render,function(e){return this.removeSubviews("anonymous"),e.apply(this,Array.prototype.slice.call(arguments,1))}),e.apply(this,arguments)},Backbone.View.prototype.subview=function(e,t){return _.isString(e)?(this.removeSubview(e),this[e]=t,this.subviews.named.push(t)):(t=e,this.subviews.anonymous.push(t)),t},Backbone.View.prototype.remove=function(){return this.removeSubviews(),t.apply(this,arguments),this.trigger("remove")},Backbone.View.prototype.getSubviews=function(e){return e?this.subviews[e]:[].concat(this.subviews.named,this.subviews.anonymous)},Backbone.View.prototype.removeSubviews=function(e){var t,n,r,i;if(this.subviews){for(r=this.getSubviews(e),t=0,n=r.length;n>t;t++)i=r[t],this.removeSubview(i);return this.resetSubviews(e)}},Backbone.View.prototype.removeSubview=function(e){var t;return _.isString(e)&&(t=e,e=this[t]),e&&(this.stopListening(e),e.remove(),t)?this[t]=null:void 0},Backbone.View.prototype.resetSubviews=function(e){return e?this.subviews[e].length=0:this.subviews.named.length=this.subviews.anonymous.length=0}}.call(this),function(){var e,t,n;t={},n={constructor:function(e,t,n){var r;return null==n&&(n={}),this._super=t.prototype,this._super.constructor.call(this),this._instance=e,this._inverse=n.inverse,this._foreignKey=n.foreignKey||this._inverse+"_id",this._nested=null!=(r=n.nested)?r:!1,this._prepareReference(this),this},"new":function(e){return this._prepareModel(e)},add:function(e,t){return this._super.add.call(this,this._prepareModels(null!=e?e:{}),t)},create:function(e,t){return this._super.create.call(this,this._prepareModel(null!=e?e:{}),t)},reset:function(e,t){return(null!=t?t.parse:void 0)&&(e=this._super.parse.call(this,e,t),t.parse=!1),this._super.reset.call(this,this._prepareModels(e),t)},_prepareModels:function(e){var t,n,r,i;if(null!=e){if(_.isArray(e)){for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(this._prepareModel(r));return i}return this._prepareModel(e)}return[]},_prepareModel:function(e){var t;return null==e&&(e={}),e instanceof Backbone.Model?(t=e,this._inverse&&(t[this._inverse]=this._instance),null==this._instance.id||this._nested||t.set(this._foreignKey,this._instance.id)):e&&(this._inverse&&(e[this._inverse]=this._instance),null==this._instance.id||this._nested||(e[this._foreignKey]=this._instance.id),t=this._super._prepareModel.call(this,e),this._inverse&&delete t.attributes[this._inverse]),t.collection=this,this._prepareReference(t),t},_prepareReference:function(e){return this._inverse?e[this._inverse]=this._instance:void 0}},e=function(){function e(){}return e.create=function(e,r){var i,o;return o=(r.className+"Collection").constantize(),new(i=o.extend(n,t))(e,o,r)},e}(),Backbone.Model.prototype.hasMany=function(t,n){return null==n&&(n={}),null==n.className&&(n.className=t.singularize().classify()),this[t]=e.create(this,n)}}.call(this),BackbonePouchDB={},BackbonePouchDB.sync=function(){function e(e,t,n,r){e.post(t.toJSON(),n,r)}function t(e,t,n,r){e.put(t.toJSON(),n,r)}function n(e,t,n,r){e.remove(t.toJSON(),n,r)}function r(e,t,n,r){return t.id?e.get(t.id,n,r):t.view?(view=_.result(t,"view"),query=_.result(t,"query"),e.query(view,_.extend(n,query),r)):n.view?e.query(n.view,n,r):void e.allDocs(n,r)}function i(e,t,n){var r=new $.Deferred,i=function(i,o){function a(e){n.success&&n.success(e),r.resolve(t,e,n)}function s(e){n.error&&n.error(e),r.reject(t,e,n)}log.debug("sync:complete",e,t,n,i,o),i?"conflict"==i.name?(log.warn("Conflict detected",t.toJSON(),i,o),Conflicts.process(t).then(function(){a({})},function(){s({})})):(Workflows.onErrorResponse(i),s(o)):a(o)};return i.promise=r.promise(),i}var o=function(o,a,s){var u=_.result(a,"pouch")||_.result(a.collection,"pouch")||_.result(BackbonePouchDB,"pouch");if(s||(s={}),!u)throw"missing pouch: "+o;a.trigger("request",a,u,s);var l=_.extend({},s),c=i(o,a,l);switch(o){case"create":e(u,a,l,c);break;case"update":t(u,a,l,c);break;case"delete":n(u,a,l,c);break;case"read":r(u,a,l,c)}return c.promise};return o.pouch=function(){return _.result(BackbonePouchDB,"pouch")},o.callback=i,o}(),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Backbone.CouchCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.sync=BackbonePouchDB.sync,n.prototype.parse=function(e){return e.rows&&_.map(e.rows,function(e){return e.doc||e.value})},n}(Backbone.Collection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Backbone.CouchModel=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.idAttribute="_id",n.prototype.validations=Backbone.CouchValidations,n.prototype.sync=BackbonePouchDB.sync,n.timestamp=function(){return(new Date).toJSON()},n.prototype.clone=function(){var e;return e=_.omit(this.toJSON(),"_id","_rev"),new this.constructor(e)},n.prototype.parse=function(e){return null!=e.rev&&(e._rev=e.rev),null!=e.id&&(e._id=e.id),delete e.rev,delete e.id,delete e.ok,e},n.prototype.reify=function(e){var t,n,r;return this.attributes._id||(null!=e?e._id:void 0)||(r={Attribute:"attr",Element:"elem",Connection:"conn",Loop:"loop",Map:"map",Node:"node",Edge:"edge",Label:"labl",Perspective:"pers",Lens:"lens"},n=this.idPrefix||r[this.className]||function(){throw new Error("id prefix undefined for: "+this.className)}.call(this),t=n+"-"+uuid(),this.set("_id",t),null!=e&&(e._id=t)),this},n.prototype.save=function(e,t){var n,r;return null==e&&(e={}),null==t&&(t={}),this.reify(e),n=this.now(),null==this.attributes.created_at&&null==e.created_at&&(e.created_at=n),e.updated_at=n,r=t.success,t.success=function(e,t,n){return e.set({_rev:t._rev},{silent:!0}),"function"==typeof r?r(e,t,n):void 0},Backbone.Model.prototype.save.call(this,e,t)},n.prototype.destroy=function(e){var t;return null==e&&(e={}),this._previousCollection=this.collection,null==e.headers&&(e.headers={}),e.headers["If-Match"]=this.get("_rev"),t=e.success,e.success=function(e,n,r){return(null!=n?n.rev:void 0)&&e.set({_rev:n.rev},{silent:!0}),"function"==typeof t?t(e,n,r):void 0},Backbone.Model.prototype.destroy.call(this,e)},n.prototype.toSnapshot=function(){return _.omit(this.toJSON(),"_rev")},n.prototype.archive=function(){var e;return e=this.save({_archived:!0,archived_at:this.now()}),this.trigger("archive",this),e},n.prototype.isArchived=function(){return!!this.get("_archived")},n.prototype.restore=function(e){var t,n,r;return n=this,delete this.attributes._deleted,r=this.save({},e),this.trigger("restore",this),this._previousCollection&&(t=function(){return n._previousCollection.add(n)},(null!=e?e.wait:void 0)?r.then(t):t()),r},n.prototype.now=function(){return Backbone.CouchModel.timestamp()},n}(Backbone.Model)}.call(this),function(){var e,t,n,r=[].slice;t=function(e){return e.collection||e.className.pluralize().constantize()},n=function(e,n,r,i,o){var a,s,u;return i.presence&&null==r&&o.add(n,"must be present"),!i.uniqueness||(a=t(e),s={},s[n]=r,u=a.where(s),0===u.length||1===u.length&&u[0]===e)?void 0:o.add(n,"must be unique")},Backbone.Validations=function(){function t(){}return t.prototype.perform=function(t,n,r){return this.model=t,this.attributes=n,this.errors=new e(t),this.validate(t,n,r),this.errors.toJSON()},t.prototype.validate=function(){},t.prototype.validates=function(){var e,t,i,o,a,s,u;for(t=2<=arguments.length?r.call(arguments,0,i=arguments.length-1):(i=0,[]),s=arguments[i++],u=[],o=0,a=t.length;a>o;o++)e=t[o],u.push(n(this.model,e,this.attributes[e],s,this.errors));return u},t.prototype.validatesPresenceOf=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],this.validatesAll(e,{presence:!0})},t.prototype.validatesUniquenessOf=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],this.validatesAll(e,{uniqueness:!0})},t.prototype.validatesAll=function(e,t){var n,r,i,o;
for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(this.validates(n,t));return o},t}(),e=function(){function e(e){this.model=e,this.errors={}}return e.prototype.reset=function(){return this.errors={}},e.prototype.add=function(e,t){var n;return(null!=(n=this.errors)[e]?n[e]:n[e]=[]).push(t)},e.prototype.isEmpty=function(){return _.isEmpty(this.errors)},e.prototype.toJSON=function(){return this.isEmpty()?void 0:_.clone(this.errors)},e.prototype.toSentence=function(){var e,t,n,r;n=[],r=this.errors;for(e in r)t=r[e],n.push(e+" "+t.toSentence());return n.join("; ")},e}(),Backbone.Model.prototype.validate=function(e,t){var n;return n=(this.className+"Validations").constantize()||function(){throw new Error("BackboneValidationsError: validations undefined for "+this.className)}.call(this),null==n.instance&&(n.instance=new n),n.instance.perform(this,e||this.attributes,t)},Backbone.Model.prototype.hasErrors=function(e){return e?this.validationError&&null!=this.validationError[e]:null!=this.validationError},Backbone.Model.prototype.errorMessage=function(e,t){var n,r,i;return n=null!=(i=this.validationError)?i.toSentence():void 0,r="",null!=e&&(r+=e),null!=n&&(r+=n),null!=t&&(r+=t),r}}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Backbone.CouchValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(e){return e.isNew()?void 0:this.validatesPresenceOf("_id","_rev")},n}(Backbone.Validations)}.call(this),function(){var e;e=function(){function e(e){if(this.db=e,!this.db)throw new Error("batch db required");this.index={},this.docs=[],this.requests=[],this.deferred=new $.Deferred,this.promise=this.deferred.promise(),this.sync=this.sync.bind(this)}return e.prototype.get=function(e){var t;return t="number"==typeof e?e:this.indexOf(e),this.requests[t]},e.prototype.indexOf=function(e){var t;return this.index[null!=(t=e.cid)?t:e]},e.prototype.sync=function(e,t,n){var r,i,o;return null==n&&(n={}),r=BackbonePouchDB.sync.callback(e,t,n),o=r.promise,i=t.toJSON(),"delete"===e&&(i._deleted=!0),this.index[t.cid]=this.docs.length,this.docs.push(i),this.requests.push({model:t,callback:r}),t.trigger("request",t,o,n),o},e.prototype.send=function(){var e;return e=this,this.db.bulkDocs({docs:this.docs},{},function(t,n){return e.process(t,n)}),this.sent=!0,this.promise},e.prototype.process=function(e,t){var n,r,i,o,a;if(this.error=e,this.response=t,this.error)return this.deferred.reject(e);for(o=this.response,r=n=0,i=o.length;i>n;r=++n)t=o[r],a=this.get(r),a.response=t,t.error?(null==this.errors&&(this.errors=[]),this.errors.push(a),a.error=!0,a.callback(t,void 0)):a.callback(void 0,t);return this.deferred.resolve(t)},e}(),BackbonePouchDB.Batch=e,BackbonePouchDB.batch=function(t){return new e(t)}}.call(this),Backbone.synced=function(e,t,n){var r=e.sync;e.sync=t;var i=n();return e.sync=r,i},function(){Backbone.Model.prototype.validate=function(e,t){var n,r;return n=this.className+"Validations",r=n.constantize()||raise("Validation error: "+n+" undefined"),null==r.instance&&(r.instance=new r),r.instance.perform(this,e||this.attributes,t)}}.call(this),function(){var e,t,n,r,i,o,a,s,u=[].slice;for(e=function(){function e(e){this.name=e,this.aliases={},this.frames=[],this.benchmarks={}}return _.extend(e.prototype,Backbone.Events),e.enabled=!1,e.api=["on","off","alias","start","stop"],e.now=function(){return(new Date).getTime()},e.prototype.alias=function(e,t){var n;if("object"==typeof arguments[0]){n=arguments[0];for(e in n)t=n[e],this.alias(e,t)}else this.aliases[e]=t;return this},e.prototype.benchmark=function(e,t){var n;return this.start(),n=e.apply(null,t),this.stop(),n},e.prototype.benchmarked=function(e){var t;return t=this,function(){var n;return n=1<=arguments.length?u.call(arguments,0):[],t.benchmark(e,n)}},e.prototype.start=function(){var e,t,n,r;if(n=1<=arguments.length?u.call(arguments,0):[],0===n.length)this.open();else if(this.frame)for(e=0,r=n.length;r>e;e++)t=n[e],this.frame.start(this.key(t));return this},e.prototype.stop=function(){var e,t,n,r;if(n=1<=arguments.length?u.call(arguments,0):[],0===n.length)this.close();else if(this.frame)for(e=0,r=n.length;r>e;e++)t=n[e],this.frame.stop(this.key(t));return this},e.prototype.key=function(e){return this.aliases[e]||e},e.prototype.open=function(){var e,r,i,o;if(null==this.cycle&&(this.cycle=new t),this.frame=new n,this.previousFrame)for(o=this.previousFrame.carryovers,r=0,i=o.length;i>r;r++)e=o[r],this.frame.carryover(e);return this},e.prototype.close=function(){return this.frame.close(),this.cycle.push(this.frame),this.previousFrame=this.frame,this.frame=null,this.cycle.elapsed()?(this.cycle.process(),this.trigger("cycle",this.cycle),this.cycle.reset()):void 0},e}(),t=function(){function t(){this.fps={min:Infinity,max:-Infinity,current:0,theoretical:0},this.reset()}return t.prototype.reset=function(){return this.benchmarks={},this.startedAt=e.now(),this.frameCount=0,this.frameDurationTotal=0},t.prototype.push=function(t){var n,r,i,o,a;this.duration=e.now()-this.startedAt,this.frameCount+=1,this.frameDurationTotal+=t.duration,o=t.benchmarks,a=[];for(i in o)r=o[i],n=this.benchmarks[i],n?(n.total+=r.total,n.count+=r.count,n.min=Math.min(n.min,r.min),a.push(n.max=Math.max(n.max,r.max))):a.push(this.benchmarks[i]=r);return a},t.prototype.elapsed=function(){return this.duration>=1e3},t.prototype.process=function(){var e,t,n,r;this.fps.current=Math.round(1e3*this.frameCount/this.duration),this.fps.theoretical=Math.round(this.duration/(this.frameDurationTotal/this.frameCount)),this.fps.min=Math.min(this.fps.min,this.fps.current),this.fps.max=Math.max(this.fps.max,this.fps.current),n=this.benchmarks,r=[];for(t in n)e=n[t],e.average=e.total/e.count,r.push(e.duty=100*e.total/this.duration);return r},t.prototype.snapshot=function(){return{min:this.fps.min,max:this.fps.max,current:this.fps.current}},t.prototype.breakdown=function(){var e,t,n,r,i,o,a,s,u,l;u=[],r=[],s=this.benchmarks;for(n in s)e=s[n],r.push(n);for(r.sort(function(e,t){return e.length-t.length}),t=0,i=r.length;i>t;t++)n=r[t],l=u,e=this.benchmarks[n],e.children=[],n.match(":")&&(a=n.match(/(.*):[^:]+$/)[1],o=this.benchmarks[a],o&&(l=o.children)),l.push(e);return this.sort(u),u},t.prototype.sort=function(e){var t,n,r;for(n=0,r=e.length;r>n;n++)t=e[n],this.sort(t.children);return e.sort(function(e,t){return t.duty-e.duty})},t}(),n=function(){function t(){this.startedAt=e.now(),this.stoppedAt=null,this.timestamps={},this.timespans={},this.benchmarks={},this.carryovers=[]}return t.prototype.carryover=function(e){return this.timestamps[e]=this.startedAt},t.prototype.start=function(t){return this.timestamps[t]=e.now()},t.prototype.stop=function(t){var n,r;return r=this.timestamps[t],null!=r?((null!=(n=this.timespans)[t]?n[t]:n[t]=[]).push(e.now()-r),delete this.timestamps[t]):void 0},t.prototype.close=function(){var t,n,r,i,o,a;this.stoppedAt=e.now(),this.duration=this.stoppedAt-this.startedAt,n=this.timestamps;for(t in n)a=n[t],this.stop(t),this.carryovers.push(t);r=this.timespans,i=[];for(t in r)o=r[t],i.push(this.benchmarks[t]=this.benchmark(t,o));return i},t.prototype.benchmark=function(e,t){var n,r,i,o;for(n={key:e,count:t.length,min:Infinity,max:-Infinity,average:0,total:0},r=0,i=t.length;i>r;r++)o=t[r],n.min=Math.min(n.min,o),n.max=Math.max(n.max,o),n.total+=o;return n.average=n.total/n.count,n},t}(),e.global=new e,s=e.api,r=function(t){return e[t]=function(){var n;return(n=e.global)[t].apply(n,arguments)}},i=0,o=s.length;o>i;i++)a=s[i],r(a);namespace("window",function(t){return t.Benchmarks=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.benchmarks=e,this.benchmark=t(this.benchmark,this),this.update=t(this.update,this),this.render=t(this.render,this),this.first=!0,null==this.benchmarks&&(this.benchmarks=Benchmarks),this.render(),this.benchmarks.on("cycle",this.update)}return e.prototype.render=function(){return this.$benchmarks={},this.el=document.createElement("div"),this.$el=$(this.el),this},e.prototype.update=function(e){var t,n,r,i,o;for(this.$el.empty(),this.$el.append("<div class='benchmark'><span class='value'>"+e.fps.current+"</span><span class='name'>FPS</span></div>"),this.$el.append("<div class='benchmark'><span class='value'>"+e.fps.theoretical+"</span><span class='name'>FPST</span></div>"),i=e.breakdown(),o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(this.$el.append(this.benchmark(t)));return o},e.prototype.benchmark=function(e){var t,n,r,i,o,a,s;for(o=e.key.match(/:?([^:]+)$/).pop(),s=Math.round(e.duty),t=$("<div />").addClass("benchmark").html("<span class='value'>"+s+"%</span><span class='name'>"+o+"</span></div>"),a=e.children,r=0,i=a.length;i>r;r++)n=a[r],t.append(this.benchmark(n));return t},e}(),namespace("window",function(t){return t.BenchmarksDisplay=e})}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/actionbar/attribution"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<a href="'),n.push(r(this.owner.profileUrl())),n.push('" target="_blank">\n  <img class="avatar avatar-sm" src="'),n.push(r(this.owner.avatar({size:20}))),n.push('" />\n  '),n.push(r(this.owner.get("username"))),n.push("\n</a>\n\n"),this.project.isPublic()&&(n.push('\n  / <a href="'),n.push(r(this.project.publicUrl())),n.push('" target="_blank">'),n.push(r(this.project.slug())),n.push("</a>\n")),n.push("\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/articles/sidebar_article_view"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="sidebar-content container">\n  <div class="article-block">\n    <header>\n      <h1 class="title">'),n.push(r(this.title)),n.push('</h1>\n      <h3 class="subtitle">'),n.push(r(this.subtitle)),n.push('</h3>\n    </header>\n\n    <div class="markdown-container">'),n.push(marked(this.text)),n.push("</div>\n  </div>\n</div>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/attributes/attribute"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push(r(this.name)),n.push("\n\n"),"General"!==this.category&&(n.push('\n  <span class="label label-default">'),n.push(r(this.category)),n.push("</span>\n")),n.push("\n\n"),this["private"]&&n.push('<span class="label label-danger">Private</span>'),n.push('\n\n<aside class="text-muted">\n  '),n.push(r(this.format.capitalize())),1!==this.limit&&n.push(r("+")),n.push("\n</aside>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/attributes/attribute_value"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push("<li class='attribute-value'>\n  <div class='handle'></div>\n  <div class='content'>\n    <input type='hidden' name='attribute_values[ids][]' value='"),n.push(r(this.id)),n.push("'>\n    <!-- <input type='text' name='attribute_values[values][]' value='"),n.push(r(this.value)),n.push("' size='30' /> -->\n    <textarea name='attribute_values[values][]' rows='1'>"),n.push(r(this.value)),n.push("</textarea>\n    <a href='#' class='delete icon delete-value' tabindex='-1'></a>\n  </div>\n</li>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/attributes/edit"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="page-header">\n  <h2>'),n.push(r(this.attribute.isNew()?"New":"Edit")),n.push(' field</h2>\n  <nav>\n    <a href="#" data-dismiss="form"><i class="icon-chevron-left"></i> Back to fields</a>\n  </nav>\n</header>\n\n<form class="form-horizontal" onsubmit="false">\n  '),this.attribute.isCore()||n.push('\n  <div class="form-group">\n    <label class="col-xs-2 control-label">Name</label>\n    <div class="col-xs-6">\n      <input type="text" class="form-control" name="name" placeholder="Field name" />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label class="col-xs-2 control-label">Limit</label>\n    <div class="col-xs-6">\n      <select class="form-control" name="limit">\n        <option value="1">One</option>\n        <option value="none">One or more</option>\n      </select>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label class="col-xs-2 control-label">Type</label>\n    <div class="col-xs-6">\n      <select class="form-control" name="format">\n        <option value="string">String</option>\n        <option value="text">Text</option>\n        <option value="url">Url</option>\n        <option value="email">Email</option>\n        <option value="number">Number</option>\n        <option value="currency">Currency</option>\n        <option value="date">Date</option>\n<!--\n        <option value="percentage">Percentage</option>\n        <option value="element">Element</option>\n-->\n      </select>\n      <p class="help-block">The type allows us to compare and display the values more naturally.</p>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label class="col-xs-2 control-label">Prompt</label>\n    <div class="col-xs-6">\n      <select class="form-control" name="prompt">\n        <option value="none">None</option>\n        <option value="autocomplete">Autocomplete</option>\n        <option value="list">List</option>\n      </select>\n      <p class="help-block">Use prompts to guide users towards common values, or require users to choose from a predefined list.</p>\n    </div>\n  </div>\n  '),n.push('\n\n  <div class="choices-group form-group">\n    <label class="col-xs-2 control-label">Choices</label>\n    <div class="col-xs-6">\n      <div data-role="values"></div>\n    </div>\n  </div>\n\n  <fieldset>\n    <legend>Advanced Settings</legend>\n\n    '),this.attribute.isCore()||n.push('\n    <div class="form-group">\n      <label class="col-xs-2 control-label">Category</label>\n\n      <div class="col-xs-6">\n        <input class="form-control" type="text" name="category" placeholder="Category Name" autocomplete="off" />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-xs-2 control-label">Label</label>\n      <div class="col-xs-6">\n        <input class="form-control" type="text" name="label" placeholder="Defaults to field name" />\n        <p class="help-block">\n          Labels can be used to override the name used in the profile,\n          while keeping the field name itself short and selector friendly.\n        </p>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-xs-2 control-label">Expression</label>\n      <div class="col-xs-6">\n        <input class="form-control" type="text" name="expression" />\n        <p class="help-block">\n          Add an expression to make this a computed field.\n        </p>\n      </div>\n    </div>\n\n    <div class="form-group" style="display:none">\n      <label class="col-xs-2 control-label">Tooltip</label>\n      <div class="col-xs-6">\n        <input class="form-control" type="text" name="tooltip" />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-xs-2 control-label">Privacy</label>\n      <div class="col-xs-6">\n        <div class="checkbox"><label><input type="checkbox" name="private" value="true" /> Only allow contributors to see this field</label></div>\n      </div>\n    </div>\n    '),n.push('\n\n    <div class="form-group">\n      <label class="col-xs-2 control-label">Sorting</label>\n      <div class="col-xs-6">\n        <div class="checkbox">\n          <input type="checkbox" name="sort" value="true">\n          Sort values alphabetically\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-xs-2 control-label">Clustering</label>\n      <div class="col-xs-6">\n        <div class="checkbox">\n          <input type="checkbox" name="cluster" value="true">\n          Allow users to cluster by this field\n        </div>\n      </div>\n    </div>\n  </fieldset>\n\n  <div class="form-group">\n    <div class="col-xs-offset-2 col-xs-10 clearfix">\n      '),this.attribute.isNew()||this.attribute.isCore()||n.push('\n      <a href="#"class="delete danger pull-right">Delete this field</a>\n      '),n.push('\n\n      <button type="submit" class="btn btn-primary">Save</button>\n      <button type="button" class="btn btn-default" data-dismiss="form">Cancel</button>\n    </div>\n  </div>\n</form>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/attributes/index"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="tab-content">\n  <div class="tab-pane fade in active" id="home">\n    <header class="page-header">\n      <h2>Fields</h2>\n\n      <div class="actions">\n        <button class="new-attribute btn btn-default"><i class="icon-plus"></i> New field</button>\n      </div>\n    </header>\n\n    <div data-role="list"></div>\n\n    <h3>Relevance</h3>\n\n    <p>\n      By default the profile will include a prompt for each field.\n      Use the form below to customize which fields are included for each type\n      and omit ones that aren\'t relevant.\n    </p>\n\n    <div data-role="relevance"></div>\n  </div>\n\n  <div class="tab-pane fade"></div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/cluster/form"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t,i,o,a,s,u,l;for(n.push('<p>\n  Clustering helps you <strong>discover hidden connections</strong> between elements,\n  based on their underlying fields. Use the checkboxes below to control\n  which fields to cluster by.\n</p>\n\n<form class="selection-form">\n  '),s=this.advancedRules,t=0,o=s.length;o>t;t++)l=s[t],n.push('\n    <div class="advanced-rules">\n      <div class="checkbox">\n        <label>\n          <input type="hidden" name="selector" value="'),n.push(r(l.selector)),n.push('" />\n          <input type="hidden" name="attribute" value="'),n.push(r(l.attribute)),n.push('" />\n          <input type="hidden" name="type" value="'),n.push(r(l.type)),n.push('" />\n          <input type="checkbox" checked />\n          '),n.push(r(ClusterProperty.stringify({rules:[l]}))),n.push("\n        </label>\n      </div>\n    </div>\n  ");for(n.push("\n\n  "),u=this.attributes,i=0,a=u.length;a>i;i++)e=u[i],n.push('\n    <div class="simple-rules">\n      <div class="checkbox">\n        <label>\n          <input type="hidden" name="selector" />\n          <input type="hidden" name="attribute" value="'),n.push(r(e.name)),n.push('" />\n          <input type="hidden" name="type" />\n          <input type="checkbox" name="'),n.push(r(e.name.slug())),n.push('-checkbox" />\n          '),n.push(r(e.label)),n.push("\n        </label>\n      </div>\n    </div>\n  ");n.push('\n</form>\n\n<ul class="virtualizations list-unstyled"></ul>\n\n<div class="save-section hide" data-ability="manage-entities">\n  <p class="text-muted">\n    Clustering is temporary by default. If you would like to\n    permanently add the elements and connections\n    to the map you\'ll need to save them.\n  </p>\n\n  <div class="form-group">\n    <button class="save btn btn-default">Save elements and connections</button>\n  </div>\n\n  <div class="form-group">\n    <button class="save-new btn btn-link">Save elements and connections to new map</button>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/conflicts/conflict"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<a href="#" class="conflict list-group-item" data-conflict="'),n.push(r(this.id)),n.push('">\n  '),n.push(r(this.label)),n.push("\n</a>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/conflicts/editor"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="welcome row">\n  <div class="col-md-6">\n    <h4>Looks like you\'re not the only one working today</h4>\n\n    <p>\n      Some of the changes you\'ve made conflict with work recently done by others. To prevent either of you from losing your work we need your help resolving the differences.\n    </p>\n\n    <p>\n      Don\'t worry, merging conflicts is simple.\n    </p>\n  </div>\n\n  <div class="col-md-6">\n    <div class="alert alert-block alert-warning">\n      <h4>Note</h4> Your changes will not be saved until they\'ve been merged.\n    </div>\n  </div>\n</div>\n\n<div class="conflict-container"></div>\n\n<div class="success">\n  <h2>Nice work!</h2>\n\n  <p>\n    All outstanding conflicts have been resolved.<br />\n    Now you can get back to the fun stuff.\n  </p>\n\n  <p>\n    <button class="btn btn-success" data-dismiss="modal">Back to Work</button>\n  </p>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/conflicts/modal"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal">\xd7</button>\n      <h4 class="modal-title"><i class="icon-merge"></i>\n        Merge Required\n        <span class="conflict-count badge"></span>\n      </h4>\n    </div>\n\n    <div class="modal-body">\n    </div>\n\n    <div class="modal-footer">\n      <div class="upcoming-conflict pull-left">\n        <strong>Up next:</strong> <span class="upcoming-conflict-label"></span>\n      </div>\n\n      <button class="submit btn btn-default">Get started</button>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/conflicts/show"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push("<h3>\n  Merge "),n.push(r(this.type)),n.push("\n  <small>"),n.push(r(this.label)),n.push('</small>\n</h3>\n\n<ul class="conflicts list-unstyled"></ul>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/conflicts/value"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h5 class="conflict-header">\n  '),n.push(r(this.label)),n.push('\n  <a href="#" class="force force-accept pull-right">overwrite my version</a>\n</h5>\n\n<div class="conflict-editor"></div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/decorations/connections"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<!-- size -->\n<div class="toggles">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" class="toggle" /> Change size\n    </label>\n  </div>\n\n  <div class="toggled controls">\n    <div class="toggles-group">\n      <!-- size -->\n      <div class="toggles active">\n        <div class="radio">\n          <label>\n            <input type="radio" class="toggle" name="toggle-size" checked />\n            Set a fixed connection width\n          </label>\n        </div>\n\n        <div class="toggled controls" data-property="size"></div>\n      </div>\n\n      <!-- scale -->\n      <div class="toggles">\n        <div class="radio">\n          <label>\n            <input type="radio" class="toggle" name="toggle-size" />\n            Scale connection widths by field\n          </label>\n        </div>\n\n        <div class="toggled controls" data-property="scale"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- color -->\n<div class="toggles">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" class="toggle" /> Change color\n    </label>\n  </div>\n\n  <div class="toggled controls">\n    <div class="toggles-group">\n      <!-- size -->\n      <div class="toggles active">\n        <div class="radio">\n          <label>\n            <input type="radio" class="toggle" name="toggle-color" checked />\n            Set a fixed connection color\n          </label>\n        </div>\n\n        <div class="toggled controls" data-property="color" data-type="simple"></div>\n      </div>\n\n      <!-- scale -->\n      <div class="toggles">\n        <div class="radio">\n          <label>\n            <input type="radio" class="toggle" name="toggle-color" />\n            Color connections by field\n          </label>\n        </div>\n\n        <div class="toggled controls" data-property="color" data-type="scale"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- style -->\n<div class="toggles">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" class="toggle" /> Change style\n    </label>\n  </div>\n\n  <div class="toggled controls" data-property="style">\n    <div class="radio">\n      <label>\n        <input type="radio" name="style" value="solid" checked />\n        Solid\n      </label>\n    </div>\n\n    <div class="radio">\n      <label>\n        <input type="radio" name="style" value="dashed" />\n        Dashed\n      </label>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/decorations/elements"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<!-- size -->\n<div class="toggles">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" class="toggle" /> Change size\n    </label>\n  </div>\n\n  <div class="toggled controls">\n    <div class="toggles-group">\n      <!-- size -->\n      <div class="toggles active">\n        <div class="radio">\n          <label>\n            <input type="radio" class="toggle" name="toggle-size" checked />\n            Set a fixed element size\n          </label>\n        </div>\n\n        <div class="toggled controls" data-property="size"></div>\n      </div>\n\n      <!-- scale -->\n      <div class="toggles">\n        <div class="radio">\n          <label>\n            <input type="radio" class="toggle" name="toggle-size" />\n            Scale elements by field\n          </label>\n        </div>\n\n        <div class="toggled controls" data-property="scale"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- color -->\n<div class="toggles">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" class="toggle" /> Change color\n    </label>\n  </div>\n\n  <div class="toggled controls">\n    <div class="toggles-group">\n      <!-- fixed -->\n      <div class="toggles active">\n        <div class="radio">\n          <label>\n            <input type="radio" class="toggle" name="toggle-color" checked />\n            Set a fixed element color\n          </label>\n        </div>\n\n        <div class="toggled controls" data-property="color" data-type="simple"></div>\n      </div>\n\n      <!-- scale -->\n      <div class="toggles">\n        <div class="radio">\n          <label>\n            <input type="radio" class="toggle" name="toggle-color" />\n            Color elements by field\n          </label>\n        </div>\n\n        <div class="toggled controls" data-property="color" data-type="scale"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- image -->\n<div class="toggles">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" class="toggle" /> Add image\n    </label>\n  </div>\n\n  <div class="toggled controls" data-property="image-url" />\n</div>\n\n<!-- bullseye -->\n<div class="toggles">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" class="toggle" /> Add bullseye\n    </label>\n  </div>\n\n  <div class="toggled controls" data-property="bullseye-color"></div>\n</div>\n\n<!-- shadow -->\n<div class="toggles">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" class="toggle" /> Add shadow\n    </label>\n  </div>\n\n  <div class="toggled controls">\n    <div class="control" data-property="shadow-color"></div>\n    <div class="control" data-property="shadow-opacity"></div>\n    <div class="control" data-property="shadow-size"></div>\n  </div>\n</div>\n')
}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/decorations/form"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div data-role="selector-form"></div>\n<div data-role="decoration-form"></div>\n\n<p>\n  Lastly, please add a label if you\'d like to include this decoration in the legend.\n</p>\n<input type="text" class="form-control" name="label" placeholder="Label for Legend" value="'),n.push(r(this.label)),n.push('" />\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/decorations/modal"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal">\xd7</button>\n      <h4 class="modal-title">'),n.push(r(this.collection.singularize().capitalize())),n.push(' Decoration Builder</h4>\n    </div>\n\n    <div class="modal-body">\n      <div data-role="form">\n        <p>\n          It looks like this decoration was added through the advanced editor.\n          To use the builder we first need to know what\'s being decorated.\n        </p>\n\n        <div class="btn-group btn-group-justified">\n          <!-- use <a> to avoid justified button workaround -->\n          <a href="#" class="btn btn-default" data-collection="elements">Decorate Elements</a>\n          <a href="#" class="btn btn-default" data-collection="connections">Decorate Connections</a>\n        </div>\n\n        <h4>Note</h4>\n        <p>\n          In the future you can avoid this step by scoping your selectors\n          or including the collection within the comment.\n        </p>\n\n        <div>\n          <strong>Scoped Selector Example</strong>\n          <pre>element[image] { ... }</pre>\n        </div>\n\n        <div>\n          <strong>Comment Example</strong>\n          <pre>/* elements: optional legend label */\n[image] { ... }</pre>\n        </div>\n      </div>\n    </div>\n\n    <div class="modal-footer">\n      <span class="errors"></span>\n      <button class="btn btn-default" data-dismiss="modal">Cancel</button>\n      <button class="submit btn btn-primary">Done</button>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/decorations/selector"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){"show"===this.action?n.push('\n  <p class="text-center">\n    <a href="#" class="edit btn btn-default btn-block">Edit Selector</a>\n  </p>\n'):(n.push('\n  <div class="form-group">\n    <select class="select-method form-control">\n      <option value="all">Decorate all '),n.push(r(this.collection)),n.push("</option>\n      "),this.selection.length>0&&(n.push('\n      <option value="selected">Decorate selected '),n.push(r(this.collection)),n.push('</option>\n      <option value="similar">Decorate similar '),n.push(r(this.collection)),n.push("</option>\n      ")),n.push('\n      <option value="custom">Decorate custom selection</option>\n    </select>\n  </div>\n\n  <div class="more form-group"></div>\n')),n.push("\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/downloads/download"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="download-wrapper">\n  <iframe name="'),n.push(r(this.frame)),n.push('" style="display:none"></iframe>\n\n  <form action="/downloads" method="POST" target="'),n.push(r(this.frame)),n.push('">\n    <input type="hidden" name="authenticity_token" value="'),n.push(r(this.csrf)),n.push('" />\n    <input type="hidden" name="filename" value="'),n.push(r(this.filename)),n.push('" />\n    <input type="hidden" name="type" value="'),n.push(r(this.type)),n.push('" />\n    <input type="hidden" name="data" />\n    <input type="hidden" name="encoding" value="'),n.push(r(this.encoding)),n.push('" />\n  </form>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/editors/checkbox"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<form class="form-horizontal" action="#">\n  <ul class="list-unstyled"></ul>\n\n  <div class="new-value-group form-group input-group">\n    <span class="input-group-addon">\n      <input type="checkbox" class="new-value-checkbox">\n    </span>\n    <input type="text" class="new-value-input form-control" placeholder="New value..." />\n  </div>\n\n  <div class="actions">\n    <button type="button" class="cancel btn btn-default">Cancel</button>\n    <button type="submit" class="btn btn-primary">Done</button>\n  </div>\n</form>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/editors/markdown"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<textarea class="form-control"></textarea>\n\n<footer>\n  <div class="help">\n    You can\n\n    <form class="upload-form" style="display:inline">\n      <input type="file" class="upload-file hide"></input>\n\n      <a href="#" class="upload" data-track-click=\'markdown-upload\'>\n        upload an image\n      </a>\n    </form>\n\n    and\n\n    <a href=\'https://docs.kumu.io/guides/markdown.html\' target=\'_blank\' data-track-click=\'markdown-guide\'>\n      format text with Markdown\n    </a>\n  </div>\n\n  <div class="actions">\n    <button type="button" class="cancel btn btn-default">Cancel</button>\n    <button type="button" class="done btn btn-primary">Done</button>\n  </div>\n</footer>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/editors/multiselect"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="select"></div>\n\n<!--\n<div class="actions">\n  <button type="button" class="cancel btn btn-default">Cancel</button>\n  <button type="button" class="done btn btn-primary">Done</button>\n</div>\n -->\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/editors/radio"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<form action="#">\n  <div class="form-group">\n    <ul></ul>\n  </div>\n\n  <div class="new-value-group form-group">\n    <div class="input-group">\n      <span class="input-group-addon">\n        <input type="radio" class="new-value-radio">\n      </span>\n      <input type="text" class="new-value-input form-control" placeholder="New value..." />\n    </div>\n  </div>\n\n  <div class="actions">\n    <button type="button" class="cancel btn btn-default">Cancel</button>\n    <button type="submit" class="btn btn-primary">Done</button>\n  </div>\n</form>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/embeds/form"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">New embed / share link</h3>\n  </div>\n\n  <div class="panel-body">\n    <form data-remote>\n      <p>\n        Embeds allow you to share and display maps on your own blog or website.\n        Each embed automatically includes the current map, view, and selection.\n      </p>\n\n      <ul class="list-unstyled">\n        <li class="checkbox">\n          <label>\n            <input type="checkbox" name="includeOverview" /> Include map overview in sidebar\n          </label>\n        </li>\n\n        <li class="checkbox">\n          <label>\n            <input type="checkbox" name="preserveScene" /> Include current position and scale\n          </label>\n        </li>\n      </ul>\n\n      <input type="submit" class="btn btn-primary" value="Create embed / share link" />\n    </form>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/embeds/index"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="page-header">\n  <h2>Embeds</h2>\n</header>\n\n<div data-role="form"></div>\n\n<ul class="tokens list-unstyled"></ul>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/embeds/token"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<a class="preview-link" href="'),n.push(r(this.url)),n.push('" target="_blank" title="Preview">\n  <i class="fa fa-external-link-square fa-2x"></i>\n</a>\n\n<button class="delete btn btn-danger btn-flat"><i class="icon-ban"></i></button>\n\n<div class="map-name">'),n.push(r(this.map)),n.push('</div>\n<div class="perspective-name">'),n.push(r(this.perspective)),n.push('</div>\n\n<div>\n  <p>\n    Use the link below to share this embed with others:<br/>\n    <a href="'),n.push(r(this.url)),n.push('" target="_blank">'),n.push(r(this.url)),n.push('</a>\n  </p>\n</div>\n\n<p>\n  Or copy and paste the code below to embed this map on your blog or website.\n  For detailed instructions and advanced options, see the\n  <a href="http://docs.kumu.io/guides/embeds.html" target="_blank">embeds guide</a>.\n</p>\n\n<textarea class="code form-control">\n<iframe\n  src="'),n.push(r(this.url)),n.push('"\n  width="940" height="600" frameborder="0"></iframe>\n</textarea>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/exports/xlsx/rels"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Target="xl/workbook.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Id="rId1"/></Relationships>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/exports/xlsx/strings"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"/>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/exports/xlsx/styles"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"><fonts count="1"><font><b val="0"/><i val="0"/><strike val="0"/><u val="none"/><sz val="10.0"/><color rgb="FF000000"/><name val="Arial"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"><bgColor rgb="FFFFFFFF"/></patternFill></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf fillId="0" numFmtId="0" borderId="0" fontId="0"/></cellStyleXfs><cellXfs count="1"><xf applyAlignment="1" fillId="0" xfId="0" numFmtId="0" borderId="0" fontId="0"><alignment vertical="bottom" horizontal="general" wrapText="1"/></xf></cellXfs><cellStyles count="1"><cellStyle builtinId="0" name="Normal" xfId="0"/></cellStyles></styleSheet>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/exports/xlsx/types"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/><Override PartName="/xl/worksheets/sheet2.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/></Types>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/exports/xlsx/workbook"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main"><workbookPr/><sheets><sheet sheetId="1" name="Elements" state="visible" r:id="rId3"/><sheet sheetId="2" name="Connections" state="visible" r:id="rId4"/></sheets><definedNames/><calcPr/></workbook>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/exports/xlsx/workbook_rels"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Target="sharedStrings.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Id="rId2"/><Relationship Target="styles.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Id="rId1"/><Relationship Target="worksheets/sheet1.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Id="rId3"/><Relationship Target="worksheets/sheet2.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Id="rId4"/></Relationships>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/exports/xlsx/worksheet"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main"><sheetViews><sheetView workbookViewId="0"/></sheetViews><sheetData>'),n.push(this.data),n.push("</sheetData></worksheet>\n")}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/filters/form"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="row form-group">\n  <div class="col-xs-6">\n    <div class="elements collection-filter">\n      Elements\n      <a href="#" class="select" data-value="all">all</a> | <a href="#" class="select" data-value="none">none</a>\n      <ul class="choices list-unstyled"></ul>\n    </div>\n  </div>\n\n  <div class="col-xs-6">\n    <div class="connections collection-filter">\n      Connections\n      <a href="#" class="select" data-value="all">all</a> | <a href="#" class="select" data-value="none">none</a>\n      <ul class="choices list-unstyled"></ul>\n    </div>\n  </div>\n</div>\n\n<div class="form-group">\n  <label>Also include <em>(in addition to what\'s checked above)</em></label>\n\n  <div class="input-group">\n    <input type="text" class="form-control" name="include" placeholder="Include additional items matching selector" autocomplete="off">\n\n    <span class="input-group-btn">\n      <button type="button" class="build-selector btn btn-default" title="Build Selector" data-target="include">\n        <i class="icon-build"></i>\n      </button>\n    </span>\n  </div>\n</div>\n\n<div class="form-group">\n  <label>But ignore</label>\n\n  <div class="input-group">\n    <input type="text" class="form-control" name="ignore" placeholder="Ignore items matching selector" autocomplete="off">\n\n    <span class="input-group-btn">\n      <button type="button" class="build-selector btn btn-default" title="Build Selector" data-target="ignore">\n        <i class="icon-build"></i>\n      </button>\n    </span>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/focus/prompt"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="content">\n  <div class="container-fluid">\n    <p class="prompt-help">\n      Please select the elements you\'d like to explore\n    </p>\n\n    <form onsubmit="false">\n      <div class="prompt-group form-group">\n        <button type="button" class="build-selector-btn btn btn-flat"\n            title="Build Selector" data-placement="left"\n            data-track-click="focus-prompt.build-selector">\n          <i class="icon-build"></i>\n        </button>\n\n        <div class="input-group">\n          <div class="input-group-addon">\n            <i class="icon-search"></i>\n          </div>\n\n          <input type="text" class="prompt-input form-control" placeholder="Search for elements by label" data-track-click="focus-prompt.input" />\n        </div>\n      </div>\n    </form>\n\n    <ul class="roots"></ul>\n\n    <p class="text-center">\n      <button class="build-map-btn btn btn-primary">Build map</button>\n    </p>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/focus/root"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<li class="root">\n  <button class="delete-btn btn btn-flat"><i class="icon-remove"></i></button>\n  <span class="root-selector">'),n.push(r(this.label||this.root)),n.push('</span> out\n  <span class="root-degree">'),n.push(r(this.degree||0)),n.push("</span>\n</li>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/help/index"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="page-header">\n  <h2>Help</h2>\n</header>\n\n<div class="row">\n  <div class="col-xs-7">\n    <p>\n      We strive to keep Kumu as easy to use as possible but we know there\'s a lot to digest.\n      The quickest way to get up to speed is to watch the short intro video below and then\n      play around in a dummy project (public projects are free and can easily be deleted when you\'re done).\n      If you get stuck the help guides at\n      <a href="http://docs.kumu.io/" target="_blank">docs.kumu.io</a> will get you moving again.\n      We\'ve also included a list of handy keyboard shortcuts below.\n      If you still have any questions <a href="mailto:support@kumu.io">just ask!</a>\n    </p>\n  </div>\n\n  <div class="col-xs-5">\n    <h4>Ways to get help</h4>\n    <ul>\n      <li><a href="http://docs.kumu.io/" target="_blank">Read the docs</a></li>\n      <li><a href="http://blog.kumu.io/" target="_blank">Follow the blog</a></li>\n      <li><a href="http://chat.kumu.io/" target="_blank">Chat on Slack</a></li>\n      <li><a href="https://twitter.com/kumupowered" target="_blank">Tweet to @kumupowered</a></li>\n      <li><a href="https://kumu.io/kumu/help/issues" target="_blank">Open an issue</a></li>\n      <li><a href="mailto:support@kumu.io">Email support@kumu.io</a></li>\n    </ul>\n  </div>\n</div>\n\n<div class="video-container">\n  <iframe src="//player.vimeo.com/video/133504161?title=0&amp;byline=0&amp;portrait=0" width="530" height="298" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n</div>\n\n<!-- <a id="Intercom" href="mailto:lbccq94r@incoming.intercom.io" class="btn btn-block">Send us a message</a> -->\n\n<div id="shortcuts">\n  <h2>Shortcuts</h2>\n\n  <div class="row">\n    <div class="col-xs-4">\n      <h4>Navigation</h4>\n      <ul class="shortcuts">\n        <li class="shortcut"><span class="keystroke">S</span> Search</li>\n        <li class="shortcut"><span class="keystroke">T</span> Settings</li>\n        <li class="shortcut"><span class="keystroke">]</span> Zoom In</li>\n        <li class="shortcut"><span class="keystroke">[</span> Zoom Out</li>\n        <li class="shortcut"><span class="keystroke">\\</span> Zoom Fit</li>\n        <li class="shortcut"><span class="keystroke">dblclick</span> Quick Zoom</li>\n        <li class="shortcut"><span class="keystroke">Up/down/left/right</span> Pan</li>\n        <li class="shortcut"><span class="keystroke">SPACE</span> Pause</li>\n        <li class="shortcut"><span class="keystroke">TAB</span> Toggle Sidebar</li>\n        <li class="shortcut"><span class="keystroke">Z</span> Reset View</li>\n      </ul>\n    </div>\n\n    <div class="col-xs-4">\n      <h4>Editing</h4>\n      <ul class="shortcuts">\n        <li class="shortcut"><span class="keystroke">E</span> New Element</li>\n        <li class="shortcut"><span class="keystroke">C</span> New Connection</li>\n        <li class="shortcut"><span class="keystroke">L</span> New Loop</li>\n        <li class="shortcut"><span class="keystroke">K</span> Sketch Mode</li>\n        <li class="shortcut"><span class="keystroke">R</span> Rename Selection</li>\n        <li class="shortcut"><span class="keystroke">DELETE</span> Delete Selection</li>\n        <li class="shortcut"><span class="keystroke">ALT+click</span> New Element</li>\n        <li class="shortcut"><span class="keystroke">ALT+drag</span> New Connection</li>\n      </ul>\n    </div>\n\n    <div class="col-xs-4">\n      <h4>Selection</h4>\n      <ul class="shortcuts">\n        <li class="shortcut"><span class="keystroke">A</span> Select All</li>\n        <li class="shortcut"><span class="keystroke">SHIFT+E</span> Select All Elements</li>\n        <li class="shortcut"><span class="keystroke">SHIFT+C</span> Select All Connections</li>\n        <li class="shortcut"><span class="keystroke">SHIFT+L</span> Select All Loops</li>\n        <li class="shortcut"><span class="keystroke">SHIFT+CLICK</span> Toggle Selection</li>\n      </ul>\n    </div>\n  </div>\n\n  <h2>Advanced Shortcuts</h2>\n\n  <div class="row">\n    <div class="col-xs-6">\n      <div class="row">\n        <div class="col-xs-6">\n          <h4>Elements</h4>\n          <ul class="shortcuts">\n            <li class="shortcut"><span class="keystroke">P</span> Pin</li>\n            <li class="shortcut"><span class="keystroke">ALT+P</span> Unpin</li>\n          </ul>\n        </div>\n\n        <div class="col-xs-6">\n          <h4>Connections</h4>\n          <ul class="shortcuts">\n            <li class="shortcut"><span class="keystroke">U</span> Undirected</li>\n            <li class="shortcut"><span class="keystroke">D</span> Directed</li>\n            <li class="shortcut"><span class="keystroke">M</span> Mutual</li>\n            <li class="shortcut"><span class="keystroke">ALT+D</span> Reverse</li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="row">\n        <div class="col-xs-6">\n          <h4>Style</h4>\n          <ul class="shortcuts">\n            <li class="shortcut"><span class="keystroke">Q</span> Toggle Quality</li>\n            <li class="shortcut"><span class="keystroke">ALT+S</span> View Source</li>\n            <li class="shortcut"><span class="keystroke">.</span> Edit source</li>\n          </ul>\n        </div>\n\n        <div class="col-xs-6">\n          <h4>Layout</h4>\n          <ul class="shortcuts">\n            <li class="shortcut"><span class="keystroke">B</span> Bump</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div class="col-xs-6">\n      <h4>Focus</h4>\n      <ul class="shortcuts">\n        <li class="shortcut"><span class="keystroke">0-9</span> Set Focus</li>\n        <li class="shortcut"><span class="keystroke">+</span> Expand Focus</li>\n        <li class="shortcut"><span class="keystroke">-</span> Contract Focus</li>\n        <li class="shortcut"><span class="keystroke">`</span> Clear Focus</li>\n        <li class="shortcut"><span class="keystroke">CLICK+HOLD (map)</span> Clear Focus</li>\n        <li class="shortcut"><span class="keystroke">CLICK+HOLD (target)</span> Extend Focus</li>\n        <li class="shortcut"><span class="keystroke">SHIFT+CLICK+HOLD (target)</span> Shift Focus</li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/imports/show"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")
}),function(){(function(){n.push('<a href="#" class="back-btn close">&times;</a>\n\n<div class="sidebar-content container">\n  <h1 class="sidebar-header"><i class="icon-upload"></i> Import Review</h1>\n\n  <div class="stats">\n    <div class="element-stats stats-group">\n      <span class="count">-</span>\n      <span class="collection">elements</span>\n      <span class="split"></span>\n    </div>\n\n    <div class="connection-stats stats-group">\n      <span class="count">-</span>\n      <span class="collection">connections</span>\n      <span class="split"></span>\n    </div>\n  </div>\n\n  <div class="status">Preparing import...</div>\n\n  <div class="finalize">\n    <ul class="flags"></ul>\n\n    <p>\n      Import ready! Please review the map and click "Save Changes" to finalize the import.\n    </p>\n\n    <div class="actions">\n      <button class="cancel btn btn-default">Start Over</button>\n      <button class="save btn btn-primary">Save Changes</button>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/layout/form"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="body">\n  <header class="sidebar-header">\n    <h1 class="title">Layout Settings</h1>\n  </header>\n\n  <div class="content">\n    <section>\n      <h5>Simulation</h5>\n\n      <div>Cooling: <input type="checkbox" name="cooling" /></div>\n      <div>Friction: <input type="checkbox" name="friction" /></div>\n      <div>Damping: <input type="checkbox" name="damping" /></div>\n\n      <div>Max Force: <input name="maxForce" type="text" value="'),n.push(r(this.maxForce)),n.push('" /></div>\n      <div>Min Velocity: <input name="minVelocity" type="text" value="'),n.push(r(this.minVelocity)),n.push('" /></div>\n    </section>\n\n    <section>\n      <h5>Nodes</h5>\n      <div>Mass: <input name="particleMass" type="text" value="'),n.push(r(this.particleMass)),n.push('" /></div>\n      <div>Gravity: <input name="gravity" type="text" value="'),n.push(r(this.gravity)),n.push('" /></div>\n      <div>Charge: <input name="particleCharge" type="text" value="'),n.push(r(this.particleCharge)),n.push('" /></div>\n      <div>Theta (barnes-hut): <input name="theta" type="text" value="'),n.push(r(this.theta)),n.push('" /></div>\n      <div>Threshold (convergence): <input name="threshold" type="text" value="'),n.push(r(this.threshold)),n.push('" /></div>\n    </section>\n\n    <section>\n      <h5>Edges</h5>\n      <div>Length: <input name="springLength" type="text" value="'),n.push(r(this.springLength)),n.push('" /></div>\n      <div>Strength: <input name="springStrength" type="text" value="'),n.push(r(this.springStrength)),n.push('" /></div>\n      <div>Constant: <input name="springConstant" type="text" value="'),n.push(r(this.springConstant)),n.push('" /></div>\n    </section>\n\n    <section>\n      <div class="actions center">\n        <div class="buttons">\n          <button class="submit btn btn-primary" name="update">Update</button>\n          <button class="submit btn btn-default" name="reset">Update and Reset</button>\n        </div>\n      </div>\n\n      <textarea name="settings"></textarea>\n    </section>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/lenses/show"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="preview"></div>\n\n<div class="details">\n'),this.label?(n.push('\n  <div class="lens-label">'),n.push(r(this.label)),n.push("</div>\n")):n.push('\n  <div class="lens-label-placeholder">Not displayed in legend</div>\n'),n.push('\n\n  <div class="lens-selector">'),n.push(r(this.selector)),n.push('</div>\n</div>\n\n<div class="actions btn-group pull-right">\n  <button class="edit btn btn-flat btn-default"><i class="icon-edit"></i></button>\n  <button class="delete btn btn-flat btn-danger"><i class="icon-remove"></i></button>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/maps/show"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="article-block">\n  <button class="map-overview-more-btn btn btn-default btn-flat" data-ability="update-project">\n    <i class="icon-more"></i>\n  </button>\n\n  '),this.title&&(n.push('\n    <header class="map-overview-header article-header">\n      <h1 class="article-title map-name sidebar-header">'),n.push(r(this.title)),n.push("</h1>\n    </header>\n  ")),n.push('\n\n  <div class="map-description"></div>\n</div>\n\n<footer class="permalinks">\n  '),this.url&&(n.push('\n    <a href="'),n.push(r(this.url)),n.push('">'),n.push(r(this.url)),n.push("</a>\n\n    "),this.permalink&&(n.push('\n      | <a href="'),n.push(r(this.permalink)),n.push('" class="permalink" data-id="'),n.push(r(this.id)),n.push('">permalink</a>\n    ')),n.push("\n  ")),n.push("\n</footer>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/members/form"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="form-group">\n  <div class="input-group">\n    <input class="form-control" type="text" name="username" placeholder="Username or email" autocomplete="off" />\n    <span class="input-group-btn">\n      <button type="submit" class="btn btn-default">Add contributor</button>\n    </span>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/members/index"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="page-header">\n  <h2>Contributors</h2>\n\n  <div class="actions">\n    <div data-role="form"></div>\n  </div>\n</header>\n\n<div class="hidden-user-owned">\n  <p>\n    Project access is managed through the organization\'s settings.\n  </p>\n\n  <p>\n    <a class="btn btn-default" href="'),n.push(r(this.settingsUrl)),n.push('">\n      Manage project access\n    </a>\n  </p>\n</div>\n\n<div class="hidden-organization-owned">\n  <div class="row">\n    <div class="col-sm-7">\n      <div data-role="members"></div>\n    </div>\n\n    <div class="col-sm-5">\n      <h5>Need more control?</h5>\n\n      <p>\n        If you\'d like to be able to add observers or designate project managers,\n        consider upgrading to an Organization account. Organizations give you\n        full control over project access along with team-based management,\n        branding opportunities, and more!\n      </p>\n\n      <p>\n        <a class="btn btn-success" href="http://blog.kumu.io/introducing-organizations/" target="_blank">\n          Learn more\n        </a>\n      </p>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/members/list"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<ul class="role-list" data-role="contributor"></ul>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/members/member"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<span title="'),n.push(r(this.name)),n.push('">\n  <img class="avatar" src="'),n.push(r(this.avatar)),n.push('" />\n  <span class="username">'),n.push(r(this.username||this.email)),n.push("</span>\n</span>\n\n"),this.isOwner&&n.push('<span class="label label-primary">Owner</span>'),n.push("\n"),this.isPending&&n.push('<span class="label label-default">Pending</span>'),n.push("\n\n"),this.isPending&&n.push('\n  <button class="resend btn btn-default btn-flat"><i class="fa fa-paper-plane" title="Resend invitation"></i></button>\n'),n.push('\n\n<button class="delete btn btn-danger btn-flat"><i class="icon-ban"></i></button>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/members/overview"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<ul class="members list-unstyled">\n  <li class="member owner" title="'),n.push(currentProject.owner.get("username")),n.push('">\n    <img class="member-image" src="'),n.push(currentProject.owner.avatar()),n.push('" />\n  </li>\n\n  <li data-ability=\'manage-members\'>\n    <a class="new-member" href="#" title="Add Member"><i class="icon-plus"></i></a>\n  </li>\n</ul>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/all"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>All metrics</h2>\n\n<p>\n  If you\'re interested in more than one metric, save yourself some time\n  and run all metrics at once. WARNING: this may take a while for large maps.\n</p>\n\n<div class="text-center">\n  <button type="submit" class="btn btn-default">\n    Run all metrics\n  </button>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/betweenness"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Betweenness Centrality</h2>\n\n<p>\n  Betweenness centrality measures how many times\n  an element lies on the shortest path between two other elements.\n  In general, elements with high betweenness have more control over the\n  flow of information and act as key bridges within the network.\n  They can also be potential single points of failure.\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the brokers / bottlenecks\n  </button>\n</div>\n\n<div class="form-group text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</div>\n\n<div class="options hidden">\n  <p>\n    Betweenness can be adjusted using <strong>connection weights</strong>.\n    By default we assume connection weights are strengths (in that higher values\n    indicate stronger / tighter connections).\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="edgeWeightAttr" data-prefix="Weight connections by">\n      <option value="">Do not weight connections</option>\n    </select>\n  </div>\n\n  <div class="form-group text-center">\n    <div class="checkbox">\n      <label>\n        <input type="checkbox" name="invertWeights" checked /> Treat weights as strengths (vs costs)\n      </label>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/closeness"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Closeness Centrality</h2>\n\n<p>\n  Closeness measures the distance each element is from all other elements.\n  In general, elements with high closeness can spread information to the\n  rest of the network most easily and usually have high visibility into what is\n  happening across the network.\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the sensers / spreaders\n  </button>\n</div>\n\n<p class="text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</p>\n\n<div class="options hidden">\n  <p>\n    Closeness can be adjusted using <strong>connection weights</strong>.\n    By default we assume connection weights are strengths (in that higher values\n    indicate stronger / tighter connections).\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="edgeWeightAttr" data-prefix="Weight connections by">\n      <option value="">Do not weight connections</option>\n    </select>\n  </div>\n\n  <div class="form-group text-center">\n    <div class="checkbox">\n      <label>\n        <input type="checkbox" name="invertWeights" checked /> Treat weights as strengths (vs costs)\n      </label>\n    </div>\n  </div>\n</div>\n\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/degree"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Degree Centrality</h2>\n\n<p>\n  Degree centrality is the simplest of the centrality metrics,\n  counting the number of connections an element has.\n  In general, elements with high degree are the local connectors / hubs,\n  but aren\'t necessarily the best connected to the wider network.\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the connectors / hubs\n  </button>\n</div>\n\n<p class="text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</p>\n\n<div class="options hidden">\n  <p>\n    Degree can be adjusted using <strong>connection weights</strong>.\n    When weighted, degree represents the total cost/value\n    of an element\'s connections instead of just the count.\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="edgeWeightAttr" data-prefix="Weight connections by">\n      <option value="">Do not weight connections</option>\n    </select>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/density"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Density</h2>\n\n<p>\n  Density measures the percentage of all possible connections that\n  are actually present in an element\'s immediate network.\n</p>\n\n<div class="text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the cliques\n  </button>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/eigenvector"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Eigenvector Centrality</h2>\n\n<p>\n  Eigenvector centrality measures how well connected an element is\n  to other well connected elements.\n  In general, elements with high eigenvector centrality are the leaders\n  of the network, though they may not have the strongest local influence.\n</p>\n\n<div class="text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the leaders\n  </button>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/indegree"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Indegree</h2>\n\n<p>\n  Indegree measures the number of incoming connections for an element.\n  In general, elements with high indegree are the leaders, looked to by others\n  as a source of advice, expertise, or information.\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the influencers\n  </button>\n</div>\n\n<p class="text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</p>\n\n<div class="options hidden">\n  <p>\n    Indegree can be adjusted using <strong>connection weights</strong>.\n    When weighted, indegree represents the total cost/value\n    of an element\'s incoming connections instead of just the count.\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="edgeWeightAttr" data-prefix="Weight connections by">\n      <option value="">Do not weight connections</option>\n    </select>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/micmac"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>MICMAC Cross Impact Analysis</h2>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Run MICMAC\n  </button>\n</div>\n\n<div class="form-group text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</div>\n\n<div class="options hidden">\n  <div class="form-group">\n    <label>Desired MICMAC order</label>\n    <input type="number" class="form-control" name="order" min="1" value="32" />\n  </div>\n\n  <div class="form-group">\n    <select class="form-control expression" name="edgeWeightAttr" data-prefix="Weight connections by">\n      <option value="">Do not weight connections</option>\n    </select>\n  </div>\n\n  <div class="form-group text-center">\n    <div class="checkbox">\n      <label>\n        <input type="checkbox" name="invertWeights" checked /> Treat weights as strengths (vs costs)\n      </label>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/outdegree"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Outdegree</h2>\n\n<p>\n  Outdegree measures the number of outgoing connections for an element.\n  In general, elements with high outdegree can reach a high number\n  of elements and spark the flow of information across a network\n  (but may not be the most efficient at spreading the information).\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the connectors / spreaders\n  </button>\n</div>\n\n<p class="text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</p>\n\n<div class="options hidden">\n  <p>\n    Outdegree can be adjusted using <strong>connection weights</strong>.\n    When weighted, outdegree represents the total cost/value\n    of an element\'s outgoing connections instead of just the count.\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="edgeWeightAttr" data-prefix="Weight connections by">\n      <option value="">Do not weight connections</option>\n    </select>\n  </div>\n</div>\n\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/pairs"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Pairs</h2>\n\n<p>\n  Pairs measures the number of possible connections within an element\'s\n  immediate network (if each element were connected to every other element).\n</p>\n\n<div class="text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the largest neighborhoods\n  </button>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/reach"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Reach (two-step out)</h2>\n\n<p>\n  Reach measures the portion of the network within two steps of an element.\n  In general, elements with high reach can spread information\n  through the network through close friend-of-a-friend contacts.\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover elements with deepest reach\n  </button>\n</div>\n\n<p class="text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</p>\n\n<div class="options hidden">\n  <p>\n    Reach can be adjusted using <strong>element weights</strong>.\n    When weighted, reach represents the total cost/value\n    of an element\'s friend-of-a-friend network instead of just the count.\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="nodeWeightAttr" data-prefix="Weight elements by">\n      <option value="">Do not weight elements</option>\n    </select>\n  </div>\n</div>\n\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/reach_efficiency"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Reach Efficiency (two-step out)</h2>\n\n<p>\n  Reach efficiency normalizes reach by dividing it by size (number of neighbors).\n  In general, elements with high reach efficiency are less connected\n  but gain more exposure through each direct relationship.\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover elements with efficient reach\n  </button>\n</div>\n\n<p class="text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</p>\n\n<div class="options hidden">\n  <p>\n    Reach efficiency can be adjusted using <strong>element weights</strong>.\n    When weighted, reach efficiency\n    represents the effectiveness of an element\'s connections within its\n    friend-of-a-friend network.\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="nodeWeightAttr" data-prefix="Weight elements by">\n      <option value="">Do not weight elements</option>\n    </select>\n  </div>\n</div>\n\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/size"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Size</h2>\n\n<p>\n  Size measures the number of neighbors an elements has\n  (plus the element itself). It\'s similar to degree, but counts the number\n  of elements instead of connections.\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the most connected elements\n  </button>\n</div>\n\n<p class="text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</p>\n\n<div class="options hidden">\n  <p>\n    Size can be adjusted using <strong>element weights</strong>.\n    When weighted, size represents the total cost/value\n    of an element\'s immediate network instead of just the count.\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="nodeWeightAttr" data-prefix="Weight elements by">\n      <option value="">Do not weight elements</option>\n    </select>\n  </div>\n</div>\n\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/forms/ties"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h2>Ties</h2>\n\n<p>\n  Ties measures the number of connections within an element\'s\n  immediate network. This is different from degree in that it also\n  counts connections that exist between members of the element\'s\n  immediate network.\n</p>\n\n<div class="form-group text-center">\n  <button type="submit" class="btn btn-default">\n    Discover the most connected neighborhoods\n  </button>\n</div>\n\n<p class="text-center">\n  <a href="#" class="options-toggle">Advanced options <i class="fa fa-angle-down"></i></a>\n</p>\n\n<div class="options hidden">\n  <p>\n    Ties can be adjusted using <strong>connection weights</strong>.\n    When weighted, ties represents the total cost/value\n    of all connections within an element\'s immediate network instead of just the count.\n  </p>\n\n  <div class="form-group">\n    <select class="form-control expression" name="edgeWeightAttr" data-prefix="Weight connections by">\n      <option value="">Do not weight connections</option>\n    </select>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/metrics/index"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t,i,o,a,s,u;for(n.push('<nav class="sidebar-nav">\n  <button class="sidebar-nav-back btn"><i class="icon-back"></i> Back</button>\n</nav>\n\n<div class="sidebar-content container">\n  <h1 class="sidebar-header"><i class="kicon kicon-metrics"></i> Metrics</h1>\n\n  <p class="hero">\n    Metrics help you <strong>discover key players</strong> within a network,\n    based on their relationships.\n  </p>\n\n  <div class="form-group">\n    <select name="metric" class="form-control">\n      <option value="">Choose a metric</option>\n\n      '),s=this.popularMetrics,e=0,i=s.length;i>e;e++)a=s[e],n.push('\n      <option value="'),n.push(r(a)),n.push('">'),n.push(r(a.capitalize())),n.push("</option>\n      ");for(n.push('\n\n      <option disabled="disabled">---</option>\n\n      '),u=this.metrics,t=0,o=u.length;o>t;t++)a=u[t],n.push('\n      <option value="'),n.push(r(a)),n.push('">'),n.push(r(a.capitalize())),n.push("</option>\n      ");n.push('\n\n      <option disabled="disabled">---</option>\n      <option value="all">All metrics</option>\n    </select>\n  </div>\n\n  <div class="form-wrapper"></div>\n\n  <div class="progress">\n    <div class="progress-bar" role="progressbar">\n    </div>\n  </div>\n\n  <hr>\n\n  <div data-role="table"></div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/modal/issues"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="page-header">\n  <h2>Issues</h2>\n</header>\n\n<section>\n  <p>\n    Issues allow you (and anyone with access to the project) to raise concerns,\n    challenge assumptions, and engage multiple perspectives. Think of them as\n    the fuel driving changes to your map when you can\'t all be in one room.\n  </p>\n\n  <p>\n    We\'ll soon have issues tied directly into the app, but until then we recommend\n    opening them in a new tab so it\'s easy to jump back and forth between the\n    issues and the maps.\n  </p>\n\n  <p>\n    <a class="btn btn-default" href="'),n.push(r(currentProject.issuesUrl())),n.push('" target="_blank">\n      View issues in new tab\n    </a>\n  </p>\n\n  <h4 style="margin-top:50px">Wait a sec... where did discussions go?</h4>\n\n  <p>\n    If you\'re a long time Kumu user you know we originally called\n    these things discussions. Discussions are important but making sure\n    discussions are actionable and stay focused is even more so. We think\n    "issues" captures that spirit better than "discussions" do.\n  </p>\n\n  <p>\n    Plus you always felt like an a-hole closing a discussion. Closing an issue\n    doesn\'t mean the discussion is over&mdash;it just means the issue has been\n    resolved, for now.\n  </p>\n</section>\n')
}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/modal/modal"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div data-role="flash"></div>\n\n<button class="close">\n  close <i class="fa fa-times"></i>\n</button>\n\n<div class="wrap">\n  <div class="content clearfix">\n<!--     <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal">&times;</button>\n    </div>\n -->\n    <div class="content-layout clearfix">\n      <div id="mainModalSidebar">\n        <img class="avatar" src="'),n.push(r(currentProject.owner.avatar())),n.push('" />\n\n        <ul class="nav nav-tabs tabs-left">\n          <li class="active">\n            <a href="#" data-toggle="tab" data-target="#mainModalOverview">\n              <i class="icon-overview"></i> Overview\n            </a>\n          </li>\n\n          <li data-ability="manage-presentations">\n            <a href="#" data-toggle="tab" data-target="#mainModalPresentations">\n              <i class="icon-presentation"></i> Presentations\n            </a>\n          </li>\n\n          <li>\n            <a href="#" data-toggle="tab" data-target="#mainModalIssues">\n              <i class="icon-issue"></i> Issues\n            </a>\n          </li>\n\n          <li>\n            <a href="#" data-toggle="tab" data-target="#mainModalHelp">\n              <i class="icon-help"></i> Help\n            </a>\n          </li>\n\n          <li class="divider" data-ability="update-project"></li>\n\n          <li data-ability="manage-attributes">\n            <a href="#" data-toggle="tab" data-target="#mainModalAttributes">\n              <i class="icon-attributes"></i> Fields\n            </a>\n          </li>\n\n          <li data-ability="manage-members">\n            <a href="#" data-toggle="tab" data-target="#mainModalMembers">\n              <i class="icon-members"></i> Members\n            </a>\n          </li>\n\n          <li data-ability="manage-embeds">\n            <a href="#" data-toggle="tab" data-target="#mainModalEmbeds">\n              <i class="icon-embed"></i> Embeds\n            </a>\n          </li>\n\n          <li data-ability="update-project">\n            <a href="#" data-toggle="tab" data-target="#mainModalTrash">\n              <i class="icon-trash"></i> Trash\n            </a>\n          </li>\n\n          <li data-ability="manage-project">\n            <a href="#" data-toggle="tab" data-target="#mainModalSettings">\n              <i class="fa fa-cog"></i> Admin\n            </a>\n          </li>\n\n          <li class="divider" data-ability="update-project"></li>\n\n          <li data-ability="update-project">\n            <a href="#" data-toggle="tab" data-target="#mainModalAddons">\n              <i class="icon-addon"></i> Add-ons\n            </a>\n          </li>\n\n          <li class="divider"></li>\n\n          <li>\n            <a href="#" data-toggle="tab" data-target="#mainModalFork">\n              <i class="icon-fork"></i> Fork project\n            </a>\n          </li>\n\n          <li>\n            <a href="/dashboard">\n              <i class="icon-switch-projects"></i> Switch projects\n            </a>\n          </li>\n\n          <li>\n            <a href="/new">\n              <i class="fa fa-plus-square"></i> New project\n            </a>\n          </li>\n        </ul>\n      </div>\n\n      <div id="mainModalContent">\n        <div class="tab-content">\n          <div class="tab-pane active" id="mainModalOverview"></div>\n          <div class="tab-pane" id="mainModalIssues"></div>\n          <div class="tab-pane" id="mainModalPresentations"></div>\n          <div class="tab-pane" id="mainModalFork"></div>\n          <div class="tab-pane" id="mainModalSettings"></div>\n          <div class="tab-pane" id="mainModalMembers"></div>\n          <div class="tab-pane" id="mainModalAddons"></div>\n          <div class="tab-pane" id="mainModalAttributes"></div>\n          <div class="tab-pane" id="mainModalEmbeds"></div>\n          <div class="tab-pane" id="mainModalTrash"></div>\n          <div class="tab-pane" id="mainModalHelp"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/modal/overview"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="project-overview">\n  <button class="menu-btn btn btn-default btn-flat" data-ability="manage-project">\n    <i class="icon-more"></i>\n  </button>\n\n  <div class="article-block">\n    <h1 class="article-title center">\n      <aside>Project overview</aside>\n      '),n.push(r(this.projectName)),n.push('\n    </h1>\n\n    <div class="project-description"></div>\n  </div>\n</div>\n\n<div>\n  <div class="project-license"></div>\n\n  <p class="text-center" style="margin-top:20px" data-ability="update-project">\n    Not sure which license to use? Check out our\n    <a href="http://docs.kumu.io/guides/licensing.html" target="_blank">Licensing Guide</a>.\n  </p>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/modal/settings"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="page-header">\n  <h2>Admin</h2>\n</header>\n\n<div data-ability="manage-project">\n  <ul class="list-unstyled">\n    <li><a href="#" data-action="change-privacy" data-dismiss="modal">Change privacy</a></li>\n    <li><a href="#" data-action="rename-project" data-dismiss="modal">Rename project</a></li>\n    <li class="hidden-organization-owned"><a href="#" data-action="transfer-project" data-dismiss="modal">Transfer project</a></li>\n    <li><a href="#" class="danger" data-action="delete-project" data-dismiss="modal">Delete project</a></li>\n  </ul>\n\n  <h4>Advanced</h4>\n  <ul class="list-unstyled">\n    <li><div data-role="proxy"></div></li>\n  </ul>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/modals/base"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h4 class="title"></h4>\n    </div>\n\n    <div class="modal-body">\n    </div>\n\n    <div class="modal-footer">\n      <div class="errors"></div>\n\n      <i class="icon-spinner icon-2x pull-left"></i>\n\n      <a href="#" class="btn cancel">Cancel</a>\n      <a href="#" class="btn btn-primary submit">Submit</a>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/modals/loader"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="spinner"></div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/modals/prompt"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<form class="form">\n  '),this.message&&(n.push("\n    <p>"),n.push(r(this.message)),n.push("</p>\n  ")),n.push('\n\n  <input class="form-control" type="'),n.push(r(this.type)),n.push('" placeholder="'),n.push(this.placeholder),n.push('" name="value" width="100%" />\n</form>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/overlays/drop"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="drop-overlay-content">\n  <div class="drop-overlay-target"></div>\n  <div class="drop-overlay-logo"></div>\n  <h3>Incoming!</h3>\n  <p>Drop files here to import them into the project</p>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/overlays/finder"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="input-group">\n  <div class="input-group-addon">\n    <i class="icon-search"></i>\n  </div>\n  <input class="selector-input form-control" type="text" placeholder="Search"\n      autocomplete="off" data-track-click="finder">\n  <div class="input-group-btn">\n    <button type="button" class="build-btn btn btn-flat" title="Build Selector"\n        data-track-click="finder.build-selector">\n      <i class="icon-build"></i>\n    </button>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/overlays/viewport"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="map-focus-prompt"></div>\n<div class="map-core"></div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/perspectives/decorations_form"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="btn-group btn-group-justified">\n  <div class="btn-group">\n    <button class="btn btn-default" data-collection="elements">Add element rule</a>\n  </div>\n\n  <div class="btn-group">\n    <button class="btn btn-default" data-collection="connections">Add connection rule</a>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profile/attributes/bulk_editor"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="form-group">\n  <select class="attribute-select form-control"></select>\n</div>\n\n<div class="form-group form-wrapper">\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profile/attributes/dropdown"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t,i,o,a,s,u,l;for(n.push('<!-- no need to worry about core attributes since they won\'t be shown in the general list -->\n<li class="dropdown-submenu">\n  <a href="#">Name</a>\n  <ul class="dropdown-menu">\n    <li><input type="text" name="name" class="form-control" placeholder="Rename to..." /></li>\n  </ul>\n</li>\n<li class="dropdown-submenu">\n  <a href="#">Type</a>\n  <ul class="dropdown-menu">\n    <li><a href="#" data-update="format" data-value="string">String</a></li>\n    <li><a href="#" data-update="format" data-value="text">Text</a></li>\n    <li><a href="#" data-update="format" data-value="url">Url</a></li>\n    <li><a href="#" data-update="format" data-value="email">Email</a></li>\n    <li><a href="#" data-update="format" data-value="number">Number</a></li>\n    <li><a href="#" data-update="format" data-value="currency">Currency</a></li>\n    <li><a href="#" data-update="format" data-value="date">Date</a></li>\n<!--\n    <li><a href="#" data-update="format" data-value="percentage">Percentage</a></li>\n    <li class="divider"></li>\n    <li class="dropdown-submenu">\n      <a href="#">Element</a>\n      <ul class="dropdown-menu">\n        '),s=this.elementTypes,t=0,o=s.length;o>t;t++)l=s[t],n.push('\n        <li><a href="#" data-update="format" data-value="element|'),n.push(r(l)),n.push('">'),n.push(r(l)),n.push("</a></li>\n        ");for(n.push("\n        "),this.elementTypes.length>0&&n.push('\n        <li class="divider"></li>\n        '),n.push('\n        <li><a href="#" data-update="format" data-value="element">Any element</a></li>\n      </ul>\n    </li>\n-->\n  </ul>\n</li>\n<li class="dropdown-submenu">\n  <a href="#">Limit</a>\n  <ul class="dropdown-menu">\n    <li><a href="#" data-update="limit" data-value="1">One</a></li>\n    <li><a href="#" data-update="limit" data-value="none">One or more</a></li>\n  </ul>\n</li>\n<li class="dropdown-submenu">\n  <a href="#">Prompt</a>\n  <ul class="dropdown-menu">\n    <li><a href="#" data-update="prompt" data-value="autocomplete">Autocomplete</a></li>\n    <li><a href="#" data-update="prompt" data-value="list">List</a></li>\n    <li><a href="#" data-update="prompt" data-value="none">None</a></li>\n  </ul>\n</li>\n<li class="dropdown-submenu">\n  <a href="#">Category</a>\n  <ul class="dropdown-menu">\n    '),u=this.categories,i=0,a=u.length;a>i;i++)e=u[i],n.push('\n    <li><a href="#" data-update="category" data-value="'),n.push(r(e)),n.push('">'),n.push(r(e)),n.push("</a></li>\n    ");n.push('\n    <li><input type="text" name="category" class="form-control" placeholder="New category..." /></li>\n  </ul>\n</li>\n<li class="dropdown-submenu">\n  <a href="#">Visibility</a>\n  <ul class="dropdown-menu">\n    <li><a href="#" data-update="private" data-value="false">Public</a></li>\n    <li><a href="#" data-update="private" data-value="true">Private</a></li>\n  </ul>\n</li>\n<li class="dropdown-submenu">\n  <a href="#">Clustering</a>\n  <ul class="dropdown-menu" data-track-click="change-attribute-cluster">\n    <li><a href="#" data-update="cluster" data-value="true" data-track-click="change-attribute-cluster-on">On</a></li>\n    <li><a href="#" data-update="cluster" data-value="false" data-track-click="change-attribute-cluster-off">Off</a></li>\n  </ul>\n</li>\n<li class="dropdown-submenu">\n  <a href="#">More</a>\n  <ul class="dropdown-menu">\n    <li><a href="#" data-action="settings">Settings</a></li>\n    <li><a href="#" data-action="relevance">Relevance</a></li>\n    <li class="divider"></li>\n    <li><a href="#" data-action="delete" class="danger">Delete</a></li>\n  </ul>\n</li>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profile/attributes/form"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="actions col-sm-offset-4 col-sm-8">\n  <button type="button" class="new-attribute btn btn-primary"><i class="icon-plus"></i> New field</button>\n</div>\n\n<div class="inputs">\n  <div class="col-sm-4">\n    <input class="attribute-name form-control" type="text" name="name" placeholder="Field" autocomplete="off" />\n  </div>\n\n  <div class="col-sm-8">\n    <div class="values">\n      <input class="attribute-value form-control" type="text" name="value" placeholder="Value" />\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profile/attributes/group"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){"General"!==this.name&&(n.push('\n  <legend>\n    <!-- TODO: direct additions into category / relevance -->\n    <button class="add btn btn-flat hide" data-ability="manage-attributes">+</button>\n    '),n.push(r(this.name)),n.push("\n  </legend>\n")),n.push('\n\n<div class="attributes"></div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profile/attributes/view"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="col-sm-4">\n  <label class="name control-label dropdown-toggle" data-toggle="dropdown" data-track-click="attribute-dropdown">\n    '),this.icon?(n.push('\n      <i class="fa fa-'),n.push(r(this.icon)),n.push('" title="'),n.push(r(this.attribute)),n.push('"></i>\n    ')):(n.push("\n      "),this["private"]&&n.push('<span class="label label-danger">Private</span>'),n.push("\n      "),n.push(r(this.attribute)),n.push("\n    ")),n.push('\n\n    <span class="caret" data-ability="manage-attributes"></span>\n  </label>\n\n  <ul class="dropdown-menu" data-ability="manage-attributes"></ul>\n</div>\n\n<div class="col-sm-8">\n  <div class="values"></div>\n  <p class="new-value-placeholder placeholder" data-ability="manage-attributes"></p>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profiles/connection_profile"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<a href="#" class="back-btn close">&times;</a>\n\n<div class="sidebar-content container">\n  <div class="article-block">\n    <header class="profile-header">\n      <h1 class="connection-label article-title title"></h1>\n      <h4 class="connection-type article-subtitle subtitle" data-editable-placeholder="Add Type"></h4>\n      '),this.virtual&&n.push('\n        <span class="label label-primary hide-read-only">Virtual</span>\n      '),n.push('\n    </header>\n\n    <div class="overview">\n      <div class="description" data-editable-placeholder="Add Description"></div>\n    </div>\n  </div>\n\n  <div class="details">\n  <!--   <ul class="profile-nav nav nav-tabs nav-sleek">\n      <li class="active"><a href="#profileAttributes" data-toggle="tab" title="Attributes"><i class="icon-attribute"></i></a></li>\n      <li><a href="#profileAttachments" data-toggle="tab" title="Attachments"><i class="icon-attachment"></i></a></li>\n      <li><a href="#profileNotes" data-toggle="tab" title="Notes"><i class="icon-note"></i></a></li>\n      <li><a href="#profileDiscussions" data-toggle="tab" title="Discussions"><i class="icon-discussion"></i></a></li>\n    </ul>\n\n    <div class="tab-content">\n      <div id="profileAttributes" class="tab-pane active"></div>\n      <div id="profileAttachments" class="tab-pane"></div>\n      <div id="profileNotes" class="tab-pane"></div>\n      <div id="profileDiscussions" class="tab-pane"></div>\n    </div> -->\n  </div>\n\n  <footer class="permalinks">\n    '),this.url&&(n.push('\n      <a href="'),n.push(r(this.url)),n.push('">'),n.push(r(this.url)),n.push("</a>\n      "),this.virtual||(n.push('\n        | <a href="'),n.push(r(this.permalink)),n.push('" class="permalink" data-id="'),n.push(r(this.id)),n.push('">permalink</a>\n      ')),n.push("\n    ")),n.push("\n  </footer>\n</div>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profiles/element_profile"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<a href="#" class="back-btn close">&times;</a>\n\n<div class="sidebar-content container">\n  <div class="article-block">\n    <header class="article-header profile-header">\n      <table>\n        <tr>\n          <td>\n            <h1 class="element-label article-title title"></h1>\n            <h4 class="element-type article-subtitle subtitle"></h4>\n\n            '),this.virtual&&n.push('\n              <span class="label label-primary hide-read-only">Virtual</span>\n            '),n.push('\n          </td>\n          <td valign="top">\n            <div data-role="profile-image"></div>\n          </td>\n        </tr>\n      </table>\n    </header>\n\n    <div class="overview">\n      <div class="description"></div>\n    </div>\n  </div>\n\n  '),this.twitterUsername&&(n.push('\n    <!-- q=from%3Athesaltybits+OR+from%3Arymohr -->\n    <a class="twitter-timeline" href="https://twitter.com/'),n.push(r(this.twitterUsername)),n.push('"\n        width="100%"\n        data-widget-id="443187050032807939"\n        data-screen-name="'),n.push(r(this.twitterUsername)),n.push('"\n        data-tweet-limit="10"\n        data-chrome="noheader noborders transparent">\n      Loading tweets by @'),n.push(r(this.twitterUsername)),n.push("\n    </a>\n  ")),n.push('\n\n  <div class="details">\n  </div>\n\n  <footer class="permalinks">\n    '),this.url&&(n.push('\n      <a href="'),n.push(r(this.url)),n.push('">'),n.push(r(this.url)),n.push("</a>\n\n      "),this.virtual||(n.push('\n        | <a href="'),n.push(r(this.permalink)),n.push('" class="permalink" data-id="'),n.push(r(this.id)),n.push('">permalink</a>\n      ')),n.push("\n    ")),n.push("\n  </footer>\n</div>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profiles/image"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.src?(n.push('\n  <img class="profile-image" src="'),n.push(r(this.src)),n.push('" title="'),n.push(r(this.title)),n.push('"/>\n')):this.readonly||n.push('\n  <button class="btn btn-flat profile-image-placeholder">\n    <i class="fa fa-camera"></i>\n  </button>\n'),n.push("\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profiles/loop_profile"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<a href="#" class="back-btn close">&times;</a>\n\n<div class="sidebar-content container">\n  <div class="article-block">\n    <header class="profile-header">\n      <h1 class="loop-label article-title title"></h1>\n      <h4 class="loop-type article-subtitle subtitle"></h4>\n      '),this.virtual&&n.push('\n        <span class="label label-primary hide-read-only">Virtual</span>\n      '),n.push('\n    </header>\n\n    <div class="overview">\n      <div class="description"></div>\n    </div>\n  </div>\n\n  <div class="details">\n  <!--   <ul class="profile-nav nav nav-tabs nav-sleek">\n      <li class="active"><a href="#profileAttributes" data-toggle="tab" title="Attributes"><i class="icon-attribute"></i></a></li>\n      <li><a href="#profileAttachments" data-toggle="tab" title="Attachments"><i class="icon-attachment"></i></a></li>\n      <li><a href="#profileNotes" data-toggle="tab" title="Notes"><i class="icon-note"></i></a></li>\n      <li><a href="#profileDiscussions" data-toggle="tab" title="Discussions"><i class="icon-discussion"></i></a></li>\n    </ul>\n\n    <div class="tab-content">\n      <div id="profileAttributes" class="tab-pane active"></div>\n      <div id="profileAttachments" class="tab-pane"></div>\n      <div id="profileNotes" class="tab-pane"></div>\n      <div id="profileDiscussions" class="tab-pane"></div>\n    </div> -->\n  </div>\n\n  <footer class="permalinks">\n    '),this.url&&(n.push('\n      <a href="'),n.push(r(this.url)),n.push('">'),n.push(r(this.url)),n.push("</a>\n      "),this.virtual||(n.push('\n        | <a href="'),n.push(r(this.permalink)),n.push('" class="permalink" data-id="'),n.push(r(this.id)),n.push('">permalink</a>\n      ')),n.push("\n    ")),n.push("\n  </footer>\n</div>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/profiles/multiple_profile"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t,i,o,a,s,u,l;for(n.push('<a href="#" class="back-btn close">&times;</a>\n\n<div class="sidebar-content container">\n  <header class="profile-header">\n    <h1 class="sidebar-header">Multiple Selections</h1>\n  </header>\n\n  <!-- TODO: selection summary -->\n  <div class="overview">\n    <div class="collection-counts">\n      '),u=this.collections,i=0,a=u.length;a>i;i++)e=u[i],n.push('\n      <div data-collection-count="'),n.push(r(e.count)),n.push('">\n        <span class="count">'),n.push(r(e.count)),n.push("</span> "),n.push(r(e.name)),n.push('\n\n        <button\n            class="deselect-btn btn btn-flat btn-danger"\n            title="Deselect '),n.push(r(e.name)),n.push('"\n            data-deselect="'),n.push(r(e.name)),n.push('">\n          <i class="icon-remove"></i>\n        </button>\n      </div>\n      ');for(n.push('\n    </div>\n  </div>\n\n  <div class="details" data-ability="manage-entities">\n    <ul class="nav nav-tabs nav-sleek">\n      <li class="active"><a href="#multiAttributes" data-toggle="tab">Edit</a></li>\n      <li><a href="#multiConnections" data-toggle="tab">Connect</a></li>\n      <li data-ability="create-exports"><a href="#multiExport" data-toggle="tab">Export</a></li>\n    </ul>\n\n    <div class="tab-content">\n      <div id="multiAttributes" class="tab-pane active">\n        <div data-role="tags"></div>\n        <div data-role="attribute-form"></div>\n      </div>\n\n      <div id="multiConnections" class="tab-pane" >\n        <p>\n          Use the buttons below to quickly connect all members of a group with each other.\n        </p>\n\n        <div class="text-center">\n          <div class="btn-group">\n            <button type="button" class="btn btn-default" data-connect-all="'),n.push(r(this.defaultDirection)),n.push('">\n              Connect selected elements\n            </button>\n            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n              <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu" role="menu">\n              '),l=Connection.directions,o=0,s=l.length;s>o;o++)t=l[o],n.push('\n              <li>\n                <a href="#" data-connect-all="'),n.push(r(t)),n.push('">\n                  Connect with <strong>'),n.push(r(t)),n.push("</strong> connections\n                  "),t===this.defaultDirection&&n.push(r("(default)")),n.push("\n                </a>\n              </li>\n              ");n.push('\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div id="multiExport" class="tab-pane" data-ability="create-exports">\n        <p>\n          Use the button below to export the selected items to a spreadsheet.\n        </p>\n\n        <button class="btn btn-default btn-block" data-export="xlsx">\n          Export selected items as <strong>xlsx</strong>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/projects/delete"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="alert alert-warning">\n  <h4>Warning</h4>\n\n  <p>\n    Projects cannot be recovered once deleted.\n    Are you sure you want to delete this project?\n  </p>\n</div>\n\n<form onsubmit="false">\n  <input type="submit" class="btn btn-block btn-danger" value="Delete Project" />\n</form>\n')
}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/projects/privacy"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push(currentProject.isPrivate()?'\n  <p>\n    This project is currently <strong>private</strong> meaning you control\n    who can see and contribute to it. By making it public you allow\n    anyone to see it, but you still control who can contribute.\n  </p>\n\n  <form onsubmit="false">\n    <input type="submit" class="btn btn-block btn-default" value="Make this project public" />\n  </form>\n':'\n  <p>\n    This project is currently <strong>public</strong> meaning you control\n    who can contribute but anyone can see it. By making it private\n    you retain full control of who can see and contribute to it.\n  </p>\n\n  <p>\n    To convert this project to a private project, make sure you have a credit card\n    on file and you have unused private projects available in your plan.\n  </p>\n\n  <form onsubmit="false">\n    <input type="submit" class="btn btn-block btn-default" value="Make this project private" />\n  </form>\n'),n.push("\n")}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/projects/rename"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="alert alert-warning">\n  <h4>Warning</h4>\n\n  <p>\n    Renaming the project will break any existing URLs pointing\n    to this project.\n  </p>\n</div>\n\n<form onsubmit="false">\n  <div class="form-group">\n    <input type="text" class="form-control" name="name" value="'),n.push(r(this.name)),n.push('" />\n  </div>\n\n  <input type="submit" class="btn btn-block btn-danger" value="Rename Project" />\n</form>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/projects/transfer"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t,i,o,a,s,u,l;for(n.push('<div class="alert alert-warning">\n  <h4>Warning</h4>\n\n  <p>\n    Transferring the project will break any existing URLs pointing\n    to this project.\n  </p>\n</div>\n\n<form onsubmit="false">\n  <p>\n    Please select the account you would like to transfer the project to.\n    If you would like to transfer the project to a user that isn\'t listed below,\n    you\'ll need to add them as a contributor first. You can also transfer the\n    project to any organization you own.\n  </p>\n\n  <div class="form-group">\n    <select class="form-control">\n      <optgroup label="Users">\n        '),s=this.contributors,e=0,i=s.length;i>e;e++)l=s[e],n.push('\n          <option value="'),n.push(r(l.id)),n.push('" '),l.id===currentProject.owner.id&&n.push(r("selected")),n.push(">\n            "),n.push(r(l.get("username"))),n.push("\n          </option>\n        ");if(n.push("\n      </optgroup>\n      \n      "),this.organizations.length){for(n.push('\n      <option disabled></option>\n      <optgroup label="Organizations">\n        '),u=this.organizations,t=0,o=u.length;o>t;t++)a=u[t],n.push('\n          <option value="'),n.push(r(a.id)),n.push('" '),a.id===currentProject.owner.id&&n.push(r("selected")),n.push(">\n            "),n.push(r(a.username)),n.push("\n          </option>\n        ");n.push("\n      </optgroup>\n      ")}n.push('\n    </select>\n  </div>\n\n  <input type="submit" class="btn btn-block btn-danger" value="Transfer project" />\n</form>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/relevance/form"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div>\n  <a href="#" data-toggle="all">All</a> |\n  <a href="#" data-toggle="none">None</a>\n</div>\n\n<ul class="list-unstyled"></ul>\n\n<div>\n  <button type="button" class="cancel btn btn-default">Cancel</button>\n  <button type="button" class="done btn btn-primary">Done</button>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/relevance/group"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="row">\n  <div class="col-xs-4 text-right">\n    <h4>'),n.push(r(this.label)),n.push('</h4>\n  </div>\n</div>\n\n<div class="rules"></div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/relevance/rule"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var e,t,i,o;if(n.push('<label class="col-xs-4 control-label">\n  '),n.push(r(this.type)),n.push('\n</label>\n\n<div class="col-xs-8 attributes">\n  <div class="form-control-static">\n    <ul class="list-unstyled">\n    '),this.attributes){if(n.push("\n      "),0===this.attributes.length)n.push("\n      <li><em>None</em></li>\n      ");else for(o=this.attributes,t=0,i=o.length;i>t;t++)e=o[t],n.push("\n      <li>"),n.push(r(e)),n.push("</li>\n      ");n.push("\n    ")}else n.push("\n      <li><em>All</em></li>\n    ");n.push('\n    </ul>\n\n    <a href="#" class="edit" data-ability="manage-attributes">Edit</a>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/selector_builder/builder"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div data-role="form"></div>\n<div data-role="preview"></div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/selector_builder/condition"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="and">and<button class="remove btn btn-flat btn-danger"><i class="icon-remove"></i></button></div>\n\n<div class="property">\n  <select class="form-control" name="property"></select>\n</div>\n\n<div class="operator">\n  <select class="form-control" name="operator"></select>\n</div>\n\n<div class="value">\n  <input type="text" class="form-control" name="value" autocomplete="off" />\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/selector_builder/form"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="alert" style="display:none">\n  <strong>Warning</strong> The current selector uses advanced selectors not supported by the builder.\n  We suggest editing the selector by hand instead.\n</div>\n\n<div class="prompts"></div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/selector_builder/group"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<!--\n  To keep things simple we render a divider at the top of each intersection\n  and just hide the first one using css.\n-->\n<div class="divider">\n  <div class="divider-label or">\n    or\n    <button class="remove-group btn btn-flat btn-danger"><i class="icon-remove"></i></button>\n  </div>\n</div>\n\n<div class="conditions"></div>\n\n<div class="extend">\n  <button class="new-group btn btn-flat">or</button>\n  <button class="new-condition btn btn-flat">and</button>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/selector_builder/modal"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="modal-title">\n        <h4>Selector Builder</h4>\n      </div>\n    </div>\n\n    <div class="modal-body"></div>\n\n    <div class="modal-footer">\n      <button class="cancel btn btn-default">Cancel</button>\n      <button class="done btn btn-primary">Use Selector</button>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/selector_builder/preview"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<span class="selector"></span>\n\n<p class="matches">\n  <span class="status">\n    <i class="icon-spinner icon-spin icon-large"></i>\n  </span>\n\n  <span class="result"></span>\n</p>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/settings/proxy"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push("Image proxy is <strong>"),n.push(r(this.status)),n.push('</strong> - <a href="#" class="toggle">'),n.push(r(this.action)),n.push(' it</a>\n\n<p class="text-muted">\n  Note: For security reasons we\'re only able to generate screenshots when\n  the proxy is enabled.\n</p>\n')}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/sidebar/dirty"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<span class="message">You have unsaved changes</span>\n\n<button class="cancel btn btn-default">Cancel</button>\n<button class="save btn btn-primary">Save</button>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/sidebar/paged"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<a class="back-btn close" href="#">&times;</a>\n\n<div class="content tab-content"></div>\n<div class="navbar" data-toggle="buttons-radio"></div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/trash/entity"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<a href="#" class="entity list-group-item"\n    data-collection="'),n.push(r(this.collection)),n.push('"\n    data-id="'),n.push(r(this.id)),n.push('">\n  '),n.push(r(this.label)),n.push("\n</a>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/trash/form"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<p>\n  Use the form below to review and destroy items individually.\n</p>\n\n<div class="row">\n  <div class="col-xs-10">\n    <div class="form-group">\n      <select class="form-control"></select>\n    </div>\n  </div>\n\n  <div class="col-xs-2">\n    <div class="form-group">\n<!--\n      <div class="btn-group">\n        <button class="restore-btn btn btn-success dropdown-toggle" data-toggle="dropdown">\n          Restore <span class="caret"></span>\n        </button>\n        <ul class="dropdown-menu text-left">\n          <li><a href="#">Map One</a></li>\n          <li><a href="#">Map Two</a></li>\n        </ul>\n      </div>\n-->\n      <button class="delete-btn btn btn-danger btn-block">Destroy</button>\n    </div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/trash/index"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<header class="page-header">\n  <h2>Trash</h2>\n</header>\n\n<div class="loader">\n  <i class="icon-spinner"></i> Loading...\n</div>\n\n<div class="content">\n  <div data-role="status"></div>\n  <div class="hidden-empty">\n    <div data-role="form"></div>\n    <div data-role="preview"></div>\n  </div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/trash/preview"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="trash-preview-placeholder">\n  <h1>Preview</h1>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/trash/status"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){0===this.total?n.push("\n  <p>Trash is empty.</p>\n"):(n.push("\n  <p>\n    There's currently "),n.push(TrashHelper.totals(this.totals)),n.push(' in the trash\n    &mdash;\n    <a href="#" class="delete-all danger">Destroy All</a>\n  </p>\n')),n.push("\n")}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/welcome/embedded_overview"]=function(e){e||(e={});var t,n=[],r=function(e){return e&&e.ecoSafe?e:"undefined"!=typeof e&&null!=e?o(e):""},i=e.safe,o=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},o||(o=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="welcome-container container article-block">\n  '),this.title&&(n.push('\n  <header class="welcome-header article-header">\n    <h1 class="map-name article-title sidebar-header">'),n.push(r(this.title)),n.push("</h1>\n  </header>\n  ")),n.push('\n\n  <div class="map-description article-block markdown-container">\n    '),this.description?(n.push("\n      "),n.push(marked(this.description)),n.push("\n    ")):n.push("\n      <p><em>No description</em></p>\n    "),n.push("\n  </div>\n</div>\n")}).call(this)}.call(e),e.safe=i,e.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/welcome/index"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="sidebar-content container">\n  <div id="mapOverview"></div>\n</div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["main/templates/welcome/map_overview"]=function(e){e||(e={});var t,n=[],r=e.safe,i=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},i||(i=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<h1 class="title map-name sidebar-header"></h1>\n\n<div class="map-description"></div>\n')}).call(this)}.call(e),e.safe=r,e.escape=i,n.join("")}}.call(this),webpackJsonp([1,0],[function(e,t,n){e.exports=n(1894)},function(e,t,n){"use strict";e.exports=n(234)},function(e){"use strict";function t(e,t,r,i,o,a,s,u){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,a,s,u],p=0;l=new Error(t.replace(/%s/g,function(){return c[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};e.exports=t},function(e,t,n){(function(t){function r(){}function i(){h.log.apply(h,arguments)}function o(){h.log.apply(h,arguments)}function a(){h.warn.apply(h,arguments)}function s(e){v[e]=m()}function u(e){var t=v[e];if(!t)throw new Error("No such label: "+e);var n=m()-t;h.log(e+": "+n+"ms")}function l(){var e=new Error;e.name="Trace",e.message=f.format.apply(null,arguments),h.error(e.stack)}function c(e){h.log(f.inspect(e)+"\n")}function p(e){if(!e){var t=g.call(arguments,1);d.ok(!1,f.format.apply(null,t))}}var h,f=n(19),d=n(42),m=n(82),g=Array.prototype.slice,v={};h="undefined"!=typeof t&&t.console?t.console:"undefined"!=typeof window&&window.console?window.console:{};for(var y=[[r,"log"],[i,"info"],[o,"warn"],[a,"error"],[s,"time"],[u,"timeEnd"],[l,"trace"],[c,"dir"],[p,"assert"]],b=0;b<y.length;b++){var w=y[b],_=w[0],x=w[1];h[x]||(h[x]=_)}e.exports=h}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(22),i=r;e.exports=i},function(e,t){"use strict";function n(e,t,n,r){function i(t,n,r){var i=e.Matrix.storage(n||"default");return new i(t,r)}var o=r("matrix",{"":function(){return i([])},string:function(e){return i([],e)},"string, string":function(e,t){return i([],e,t)},Array:function(e){return i(e)},Matrix:function(e){return i(e,e.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o}t.name="matrix",t.factory=n},function(e){"use strict";e.exports=function t(e,n,r){return e&&"function"==typeof e.map?e.map(function(e){return t(e,n,r)}):n(e)}},function(e){"use strict";function t(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e){for(var n,a,s=t(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";var r=n(1131);t.isNumber=function(e){return"number"==typeof e},t.isInteger=function(e){return!!isFinite(e)&&e==Math.round(e)},t.sign=function(e){return e>0?1:0>e?-1:0},t.format=function(e,n){if("function"==typeof n)return n(e);if(e===1/0)return"Infinity";if(e===-(1/0))return"-Infinity";if(isNaN(e))return"NaN";var r="auto",i=void 0;switch(n&&(n.notation&&(r=n.notation),t.isNumber(n)?i=n:n.precision&&(i=n.precision)),r){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"auto":return t.toPrecision(e,i,n&&n.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return new r(e).toExponential(t)},t.toFixed=function(e,t){return new r(e).toFixed(t)},t.toPrecision=function(e,t,n){return new r(e).toPrecision(t,n)},t.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},t.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,t.nearlyEqual=function(e,n,r){if(null==r)return e==n;if(e==n)return!0;if(isNaN(e)||isNaN(n))return!1;if(isFinite(e)&&isFinite(n)){var i=Math.abs(e-n);return i<t.DBL_EPSILON||i<=Math.max(Math.abs(e),Math.abs(n))*r}return!1}},function(e,t,n){(function(e,t){!function(t,n){e.exports=n()}(this,function(){"use strict";function r(){return Rr.apply(null,arguments)}function i(e){Rr=e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return Ot(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(e){return null==e._pf&&(e._pf=p()),e._pf}function f(e){if(null==e._isValid){var t=h(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=c(0/0);return null!=e?l(h(t),e):h(t).userInvalidated=!0,t}function m(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=h(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ir.length>0)for(n in Ir)r=Ir[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),$r===!1&&($r=!0,r.updateOffset(this),$r=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function y(e){return 0>e?Math.ceil(e):Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&a++;return a+o}function _(){}function x(e){return e?e.toLowerCase().replace("_","-"):e}function E(e){for(var t,n,r,i,o=0;o<e.length;){for(i=x(e[o]).split("-"),t=i.length,n=x(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=k(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return null}function k(t){var r=null;if(!zr[t]&&"undefined"!=typeof e&&e&&e.exports)try{r=jr._abbr,n(2394)("./"+t),C(r)}catch(i){}return zr[t]}function C(e,t){var n;return e&&(n="undefined"==typeof t?S(e):A(e,t),n&&(jr=n)),jr._abbr}function A(e,t){return null!==t?(t.abbr=e,zr[e]=zr[e]||new _,zr[e].set(t),C(e),zr[e]):(delete zr[e],null)}function S(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return jr;if(!o(e)){if(t=k(e))return t;e=[e]}return E(e)}function M(e,t){var n=e.toLowerCase();Ur[n]=Ur[n+"s"]=Ur[t]=e}function T(e){return"string"==typeof e?Ur[e]||Ur[e.toLowerCase()]:void 0}function D(e){var t,n,r={};for(n in e)u(e,n)&&(t=T(n),t&&(r[t]=e[n]));return r}function O(e,t){return function(n){return null!=n?(F(this,e,n),r.updateOffset(this,t),this):L(this,e)}}function L(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function F(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function N(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function B(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Hr[e]=i),t&&(Hr[t[0]]=function(){return N(i.apply(this,arguments),t[1],t[2])}),n&&(Hr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function R(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e){var t,n,r=e.match(Vr);for(t=0,n=r.length;n>t;t++)r[t]=Hr[r[t]]?Hr[r[t]]:R(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function I(e,t){return e.isValid()?(t=$(t,e.localeData()),Wr[t]=Wr[t]||j(t),Wr[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Yr.lastIndex=0;r>=0&&Yr.test(e);)e=e.replace(Yr,n),Yr.lastIndex=0,r-=1;return e}function z(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function U(e,t,n){si[e]=z(t)?t:function(e){return e&&n?n:t}}function V(e,t){return u(si,e)?si[e](t._strict,t._locale):new RegExp(Y(e))}function Y(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)ui[e[n]]=r}function H(e,t){W(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function q(e,t,n){null!=t&&u(ui,e)&&ui[e](t,n._a,n,e)}function G(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function K(e){return this._months[e.month()]}function J(e){return this._monthsShort[e.month()]}function X(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Z(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),G(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function Q(e){return null!=e?(Z(this,e),r.updateOffset(this,!0),this):L(this,"Month")}function et(){return G(this.year(),this.month())}function tt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[ci]<0||n[ci]>11?ci:n[pi]<1||n[pi]>G(n[li],n[ci])?pi:n[hi]<0||n[hi]>24||24===n[hi]&&(0!==n[fi]||0!==n[di]||0!==n[mi])?hi:n[fi]<0||n[fi]>59?fi:n[di]<0||n[di]>59?di:n[mi]<0||n[mi]>999?mi:-1,h(e)._overflowDayOfYear&&(li>t||t>pi)&&(t=pi),h(e).overflow=t),e}function nt(e){r.suppressDeprecationWarnings===!1&&"undefined"!=typeof t&&t.warn&&t.warn("Deprecation warning: "+e)}function rt(e,t){var n=!0;return l(function(){return n&&(nt(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function it(e,t){yi[e]||(nt(t),yi[e]=!0)}function ot(e){var t,n,r=e._i,i=bi.exec(r);if(i){for(h(e).iso=!0,t=0,n=wi.length;n>t;t++)if(wi[t][1].exec(r)){e._f=wi[t][0];break}for(t=0,n=_i.length;n>t;t++)if(_i[t][1].exec(r)){e._f+=(i[6]||" ")+_i[t][0];break}r.match(ii)&&(e._f+="Z"),kt(e)}else e._isValid=!1}function at(e){var t=xi.exec(e._i);return null!==t?void(e._d=new Date(+t[1])):(ot(e),void(e._isValid===!1&&(delete e._isValid,r.createFromInputFallback(e))))}function st(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function ut(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function lt(e){return ct(e)?366:365}function ct(e){return e%4===0&&e%100!==0||e%400===0}function pt(){return ct(this.year())}function ht(e,t,n){var r,i=n-t,o=n-e.day();
return o>i&&(o-=7),i-7>o&&(o+=7),r=Lt(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ft(e){return ht(e,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function mt(){return this._week.doy}function gt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function vt(e){var t=ht(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function yt(e,t,n,r,i){var o,a=6+i-r,s=ut(e,0,1+a),u=s.getUTCDay();return i>u&&(u+=7),n=null!=n?1*n:i,o=1+a+7*(t-1)-u+n,{year:o>0?e:e-1,dayOfYear:o>0?o:lt(e-1)+o}}function bt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function wt(e,t,n){return null!=e?e:null!=t?t:n}function _t(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function xt(e){var t,n,r,i,o=[];if(!e._d){for(r=_t(e),e._w&&null==e._a[pi]&&null==e._a[ci]&&Et(e),e._dayOfYear&&(i=wt(e._a[li],r[li]),e._dayOfYear>lt(i)&&(h(e)._overflowDayOfYear=!0),n=ut(i,0,e._dayOfYear),e._a[ci]=n.getUTCMonth(),e._a[pi]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[hi]&&0===e._a[fi]&&0===e._a[di]&&0===e._a[mi]&&(e._nextDay=!0,e._a[hi]=0),e._d=(e._useUTC?ut:st).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[hi]=24)}}function Et(e){var t,n,r,i,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=wt(t.GG,e._a[li],ht(Lt(),1,4).year),r=wt(t.W,1),i=wt(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=wt(t.gg,e._a[li],ht(Lt(),o,a).year),r=wt(t.w,1),null!=t.d?(i=t.d,o>i&&++r):i=null!=t.e?t.e+o:o),s=yt(n,r,i,a,o),e._a[li]=s.year,e._dayOfYear=s.dayOfYear}function kt(e){if(e._f===r.ISO_8601)return void ot(e);e._a=[],h(e).empty=!0;var t,n,i,o,a,s=""+e._i,u=s.length,l=0;for(i=$(e._f,e._locale).match(Vr)||[],t=0;t<i.length;t++)o=i[t],n=(s.match(V(o,e))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),Hr[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),q(o,n,e)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=u-l,s.length>0&&h(e).unusedInput.push(s),h(e).bigHour===!0&&e._a[hi]<=12&&e._a[hi]>0&&(h(e).bigHour=void 0),e._a[hi]=Ct(e._locale,e._a[hi],e._meridiem),xt(e),tt(e)}function Ct(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function At(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],kt(t),f(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||r>o)&&(r=o,n=t));l(e,n||t)}function St(e){if(!e._d){var t=D(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],xt(e)}}function Mt(e){var t=new g(tt(Tt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Tt(e){var t=e._i,n=e._f;return e._locale=e._locale||S(e._l),null===t||void 0===n&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(tt(t)):(o(n)?At(e):n?kt(e):a(t)?e._d=t:Dt(e),e))}function Dt(e){var t=e._i;void 0===t?e._d=new Date:a(t)?e._d=new Date(+t):"string"==typeof t?at(e):o(t)?(e._a=s(t.slice(0),function(e){return parseInt(e,10)}),xt(e)):"object"==typeof t?St(e):"number"==typeof t?e._d=new Date(t):r.createFromInputFallback(e)}function Ot(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Mt(o)}function Lt(e,t,n,r){return Ot(e,t,n,r,!1)}function Ft(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Lt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Pt(){var e=[].slice.call(arguments,0);return Ft("isBefore",e)}function Nt(){var e=[].slice.call(arguments,0);return Ft("isAfter",e)}function Bt(e){var t=D(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=S(),this._bubble()}function Rt(e){return e instanceof Bt}function jt(e,t){B(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+N(~~(e/60),2)+t+N(~~e%60,2)})}function It(e){var t=(e||"").match(ii)||[],n=t[t.length-1]||[],r=(n+"").match(Si)||["-",0,0],i=+(60*r[1])+b(r[2]);return"+"===r[0]?i:-i}function $t(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(v(e)||a(e)?+e:+Lt(e))-+n,n._d.setTime(+n._d+i),r.updateOffset(n,!1),n):Lt(e).local()}function zt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ut(e,t){var n,i=this._offset||0;return null!=e?("string"==typeof e&&(e=It(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=zt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?on(this,Qt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:zt(this)}function Vt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Yt(e){return this.utcOffset(0,e)}function Wt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this}function Ht(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(It(this._i)),this}function qt(e){return e=e?Lt(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Gt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(m(e,this),e=Tt(e),e._a){var t=e._isUTC?c(e._a):Lt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Jt(){return!this._isUTC}function Xt(){return this._isUTC}function Zt(){return this._isUTC&&0===this._offset}function Qt(e,t){var n,r,i,o=e,a=null;return Rt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Mi.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:b(a[pi])*n,h:b(a[hi])*n,m:b(a[fi])*n,s:b(a[di])*n,ms:b(a[mi])*n}):(a=Ti.exec(e))?(n="-"===a[1]?-1:1,o={y:en(a[2],n),M:en(a[3],n),d:en(a[4],n),h:en(a[5],n),m:en(a[6],n),s:en(a[7],n),w:en(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=nn(Lt(o.from),Lt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Bt(o),Rt(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function en(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tn(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nn(e,t){var n;return t=$t(t,e),e.isBefore(t)?n=tn(e,t):(n=tn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function rn(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(it(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Qt(n,r),on(this,i,e),this}}function on(e,t,n,i){var o=t._milliseconds,a=t._days,s=t._months;i=null==i||i,o&&e._d.setTime(+e._d+o*n),a&&F(e,"Date",L(e,"Date")+a*n),s&&Z(e,L(e,"Month")+s*n),i&&r.updateOffset(e,a||s)}function an(e,t){var n=e||Lt(),r=$t(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,Lt(n)))}function sn(){return new g(this)}function un(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=v(e)?e:Lt(e),+this>+e):(n=v(e)?+e:+Lt(e),n<+this.clone().startOf(t))}function ln(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=v(e)?e:Lt(e),+e>+this):(n=v(e)?+e:+Lt(e),+this.clone().endOf(t)<n)}function cn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function pn(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=v(e)?e:Lt(e),+this===+e):(n=+Lt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function hn(e,t,n){var r,i,o=$t(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(i=fn(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:y(i)}function fn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function dn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():I(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function gn(e){var t=I(this,e||r.defaultFormat);return this.localeData().postformat(t)}function vn(e,t){return this.isValid()?Qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yn(e){return this.from(Lt(),e)}function bn(e,t){return this.isValid()?Qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wn(e){return this.to(Lt(),e)}function _n(e){var t;return void 0===e?this._locale._abbr:(t=S(e),null!=t&&(this._locale=t),this)}function xn(){return this._locale}function En(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function kn(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Cn(){return+this._d-6e4*(this._offset||0)}function An(){return Math.floor(+this/1e3)}function Sn(){return this._offset?new Date(+this):this._d}function Mn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Dn(){return f(this)}function On(){return l({},h(this))}function Ln(){return h(this).overflow}function Fn(e,t){B(0,[e,e.length],0,t)}function Pn(e,t,n){return ht(Lt([e,11,31+t-n]),t,n).week}function Nn(e){var t=ht(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Bn(e){var t=ht(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Rn(){return Pn(this.year(),1,4)}function jn(){var e=this.localeData()._week;return Pn(this.year(),e.dow,e.doy)}function In(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function $n(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function zn(e){return this._weekdays[e.day()]}function Un(e){return this._weekdaysShort[e.day()]}function Vn(e){return this._weekdaysMin[e.day()]}function Yn(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Lt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Wn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=$n(e,this.localeData()),this.add(e-t,"d")):t}function Hn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Gn(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Kn(e,t){return t._meridiemParse}function Jn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Zn(e,t){t[mi]=b(1e3*("0."+e))}function Qn(){return this._isUTC?"UTC":""}function er(){return this._isUTC?"Coordinated Universal Time":""}function tr(e){return Lt(1e3*e)}function nr(){return Lt.apply(null,arguments).parseZone()}function rr(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function ir(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function or(){return this._invalidDate}function ar(e){return this._ordinal.replace("%d",e)}function sr(e){return e}function ur(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function lr(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function cr(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function pr(e,t,n,r){var i=S(),o=c().set(r,t);return i[n](o,e)}function hr(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return pr(e,t,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=pr(e,o,n,i);return a}function fr(e,t){return hr(e,t,"months",12,"month")}function dr(e,t){return hr(e,t,"monthsShort",12,"month")}function mr(e,t){return hr(e,t,"weekdays",7,"day")}function gr(e,t){return hr(e,t,"weekdaysShort",7,"day")}function vr(e,t){return hr(e,t,"weekdaysMin",7,"day")}function yr(){var e=this._data;return this._milliseconds=Zi(this._milliseconds),this._days=Zi(this._days),this._months=Zi(this._months),e.milliseconds=Zi(e.milliseconds),e.seconds=Zi(e.seconds),e.minutes=Zi(e.minutes),e.hours=Zi(e.hours),e.months=Zi(e.months),e.years=Zi(e.years),this}function br(e,t,n,r){var i=Qt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function wr(e,t){return br(this,e,t,1)}function _r(e,t){return br(this,e,t,-1)}function xr(e){return 0>e?Math.floor(e):Math.ceil(e)}function Er(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*xr(Cr(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=y(o/1e3),u.seconds=e%60,t=y(e/60),u.minutes=t%60,n=y(t/60),u.hours=n%24,a+=y(n/24),i=y(kr(a)),s+=i,a-=xr(Cr(i)),r=y(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function kr(e){return 4800*e/146097}function Cr(e){return 146097*e/4800}function Ar(e){var t,n,r=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+kr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Cr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Sr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function Mr(e){return function(){return this.as(e)}}function Tr(e){return e=T(e),this[e+"s"]()}function Dr(e){return function(){return this._data[e]}}function Or(){return y(this.days()/7)}function Lr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Fr(e,t,n){var r=Qt(e).abs(),i=mo(r.as("s")),o=mo(r.as("m")),a=mo(r.as("h")),s=mo(r.as("d")),u=mo(r.as("M")),l=mo(r.as("y")),c=i<go.s&&["s",i]||1===o&&["m"]||o<go.m&&["mm",o]||1===a&&["h"]||a<go.h&&["hh",a]||1===s&&["d"]||s<go.d&&["dd",s]||1===u&&["M"]||u<go.M&&["MM",u]||1===l&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,Lr.apply(null,c)}function Pr(e,t){return void 0!==go[e]&&(void 0===t?go[e]:(go[e]=t,!0))}function Nr(e){var t=this.localeData(),n=Fr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Br(){var e,t,n,r=vo(this._milliseconds)/1e3,i=vo(this._days),o=vo(this._months);e=y(r/60),t=y(e/60),r%=60,e%=60,n=y(o/12),o%=12;var a=n,s=o,u=i,l=t,c=e,p=r,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||p?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(p?p+"S":""):"P0D"}var Rr,jr,Ir=r.momentProperties=[],$r=!1,zr={},Ur={},Vr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wr={},Hr={},qr=/\d/,Gr=/\d\d/,Kr=/\d{3}/,Jr=/\d{4}/,Xr=/[+-]?\d{6}/,Zr=/\d\d?/,Qr=/\d{1,3}/,ei=/\d{1,4}/,ti=/[+-]?\d{1,6}/,ni=/\d+/,ri=/[+-]?\d+/,ii=/Z|[+-]\d\d:?\d\d/gi,oi=/[+-]?\d+(\.\d{1,3})?/,ai=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,si={},ui={},li=0,ci=1,pi=2,hi=3,fi=4,di=5,mi=6;B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),U("M",Zr),U("MM",Zr,Gr),U("MMM",ai),U("MMMM",ai),W(["M","MM"],function(e,t){t[ci]=b(e)-1}),W(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ci]=i:h(n).invalidMonth=e});var gi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yi={};r.suppressDeprecationWarnings=!1;var bi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],_i=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],xi=/^\/?Date\((\-?\d+)/i;r.createFromInputFallback=rt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),M("year","y"),U("Y",ri),U("YY",Zr,Gr),U("YYYY",ei,Jr),U("YYYYY",ti,Xr),U("YYYYYY",ti,Xr),W(["YYYYY","YYYYYY"],li),W("YYYY",function(e,t){t[li]=2===e.length?r.parseTwoDigitYear(e):b(e)}),W("YY",function(e,t){t[li]=r.parseTwoDigitYear(e)}),r.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var Ei=O("FullYear",!1);B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),U("w",Zr),U("ww",Zr,Gr),U("W",Zr),U("WW",Zr,Gr),H(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var ki={dow:0,doy:6};B("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),U("DDD",Qr),U("DDDD",Kr),W(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),r.ISO_8601=function(){};var Ci=rt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Lt.apply(null,arguments);return this>e?this:e}),Ai=rt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Lt.apply(null,arguments);return e>this?this:e});jt("Z",":"),jt("ZZ",""),U("Z",ii),U("ZZ",ii),W(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=It(e)});var Si=/([\+\-]|\d\d)/gi;r.updateOffset=function(){};var Mi=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ti=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qt.fn=Bt.prototype;var Di=rn(1,"add"),Oi=rn(-1,"subtract");r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Li=rt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Fn("gggg","weekYear"),Fn("ggggg","weekYear"),Fn("GGGG","isoWeekYear"),Fn("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),U("G",ri),U("g",ri),U("GG",Zr,Gr),U("gg",Zr,Gr),U("GGGG",ei,Jr),U("gggg",ei,Jr),U("GGGGG",ti,Xr),U("ggggg",ti,Xr),H(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),H(["gg","GG"],function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)}),B("Q",0,0,"quarter"),M("quarter","Q"),U("Q",qr),W("Q",function(e,t){t[ci]=3*(b(e)-1)}),B("D",["DD",2],"Do","date"),M("date","D"),U("D",Zr),U("DD",Zr,Gr),U("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),W(["D","DD"],pi),W("Do",function(e,t){t[pi]=b(e.match(Zr)[0],10)});var Fi=O("Date",!0);B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),U("d",Zr),U("e",Zr),U("E",Zr),U("dd",ai),U("ddd",ai),U("dddd",ai),H(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:h(n).invalidWeekday=e}),H(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var Pi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ni="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");B("H",["HH",2],0,"hour"),B("h",["hh",2],0,function(){return this.hours()%12||12}),Gn("a",!0),Gn("A",!1),M("hour","h"),U("a",Kn),U("A",Kn),U("H",Zr),U("h",Zr),U("HH",Zr,Gr),U("hh",Zr,Gr),W(["H","HH"],hi),W(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),W(["h","hh"],function(e,t,n){t[hi]=b(e),h(n).bigHour=!0});var Ri=/[ap]\.?m?\.?/i,ji=O("Hours",!0);B("m",["mm",2],0,"minute"),M("minute","m"),U("m",Zr),U("mm",Zr,Gr),W(["m","mm"],fi);var Ii=O("Minutes",!1);B("s",["ss",2],0,"second"),M("second","s"),U("s",Zr),U("ss",Zr,Gr),W(["s","ss"],di);var $i=O("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),U("S",Qr,qr),U("SS",Qr,Gr),U("SSS",Qr,Kr);var zi;for(zi="SSSS";zi.length<=9;zi+="S")U(zi,ni);for(zi="S";zi.length<=9;zi+="S")W(zi,Zn);var Ui=O("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var Vi=g.prototype;Vi.add=Di,Vi.calendar=an,Vi.clone=sn,Vi.diff=hn,Vi.endOf=kn,Vi.format=gn,Vi.from=vn,Vi.fromNow=yn,Vi.to=bn,Vi.toNow=wn,Vi.get=P,Vi.invalidAt=Ln,Vi.isAfter=un,Vi.isBefore=ln,Vi.isBetween=cn,Vi.isSame=pn,Vi.isValid=Dn,Vi.lang=Li,Vi.locale=_n,Vi.localeData=xn,Vi.max=Ai,Vi.min=Ci,Vi.parsingFlags=On,Vi.set=P,Vi.startOf=En,Vi.subtract=Oi,Vi.toArray=Mn,Vi.toObject=Tn,Vi.toDate=Sn,Vi.toISOString=mn,Vi.toJSON=mn,Vi.toString=dn,Vi.unix=An,Vi.valueOf=Cn,Vi.year=Ei,Vi.isLeapYear=pt,Vi.weekYear=Nn,Vi.isoWeekYear=Bn,Vi.quarter=Vi.quarters=In,Vi.month=Q,Vi.daysInMonth=et,Vi.week=Vi.weeks=gt,Vi.isoWeek=Vi.isoWeeks=vt,Vi.weeksInYear=jn,Vi.isoWeeksInYear=Rn,Vi.date=Fi,Vi.day=Vi.days=Wn,Vi.weekday=Hn,Vi.isoWeekday=qn,Vi.dayOfYear=bt,Vi.hour=Vi.hours=ji,Vi.minute=Vi.minutes=Ii,Vi.second=Vi.seconds=$i,Vi.millisecond=Vi.milliseconds=Ui,Vi.utcOffset=Ut,Vi.utc=Yt,Vi.local=Wt,Vi.parseZone=Ht,Vi.hasAlignedHourOffset=qt,Vi.isDST=Gt,Vi.isDSTShifted=Kt,Vi.isLocal=Jt,Vi.isUtcOffset=Xt,Vi.isUtc=Zt,Vi.isUTC=Zt,Vi.zoneAbbr=Qn,Vi.zoneName=er,Vi.dates=rt("dates accessor is deprecated. Use date instead.",Fi),Vi.months=rt("months accessor is deprecated. Use month instead",Q),Vi.years=rt("years accessor is deprecated. Use year instead",Ei),Vi.zone=rt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Vt);var Yi=Vi,Wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Hi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},qi="Invalid date",Gi="%d",Ki=/\d{1,2}/,Ji={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Xi=_.prototype;Xi._calendar=Wi,Xi.calendar=rr,Xi._longDateFormat=Hi,Xi.longDateFormat=ir,Xi._invalidDate=qi,Xi.invalidDate=or,Xi._ordinal=Gi,Xi.ordinal=ar,Xi._ordinalParse=Ki,Xi.preparse=sr,Xi.postformat=sr,Xi._relativeTime=Ji,Xi.relativeTime=ur,Xi.pastFuture=lr,Xi.set=cr,Xi.months=K,Xi._months=gi,Xi.monthsShort=J,Xi._monthsShort=vi,Xi.monthsParse=X,Xi.week=ft,Xi._week=ki,Xi.firstDayOfYear=mt,Xi.firstDayOfWeek=dt,Xi.weekdays=zn,Xi._weekdays=Pi,Xi.weekdaysMin=Vn,Xi._weekdaysMin=Bi,Xi.weekdaysShort=Un,Xi._weekdaysShort=Ni,Xi.weekdaysParse=Yn,Xi.isPM=Jn,Xi._meridiemParse=Ri,Xi.meridiem=Xn,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),r.lang=rt("moment.lang is deprecated. Use moment.locale instead.",C),r.langData=rt("moment.langData is deprecated. Use moment.localeData instead.",S);var Zi=Math.abs,Qi=Mr("ms"),eo=Mr("s"),to=Mr("m"),no=Mr("h"),ro=Mr("d"),io=Mr("w"),oo=Mr("M"),ao=Mr("y"),so=Dr("milliseconds"),uo=Dr("seconds"),lo=Dr("minutes"),co=Dr("hours"),po=Dr("days"),ho=Dr("months"),fo=Dr("years"),mo=Math.round,go={s:45,m:45,h:22,d:26,M:11},vo=Math.abs,yo=Bt.prototype;yo.abs=yr,yo.add=wr,yo.subtract=_r,yo.as=Ar,yo.asMilliseconds=Qi,yo.asSeconds=eo,yo.asMinutes=to,yo.asHours=no,yo.asDays=ro,yo.asWeeks=io,yo.asMonths=oo,yo.asYears=ao,yo.valueOf=Sr,yo._bubble=Er,yo.get=Tr,yo.milliseconds=so,yo.seconds=uo,yo.minutes=lo,yo.hours=co,yo.days=po,yo.weeks=Or,yo.months=ho,yo.years=fo,yo.humanize=Nr,yo.toISOString=Br,yo.toString=Br,yo.toJSON=Br,yo.locale=_n,yo.localeData=xn,yo.toIsoString=rt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Br),yo.lang=Li,B("X",0,0,"unix"),B("x",0,0,"valueOf"),U("x",ri),U("X",oi),W("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,n){n._d=new Date(b(e))}),r.version="2.10.6",i(Lt),r.fn=Yi,r.min=Pt,r.max=Nt,r.utc=c,r.unix=tr,r.months=fr,r.isDate=a,r.locale=C,r.invalid=d,r.duration=Qt,r.isMoment=v,r.weekdays=mr,r.parseZone=nr,r.localeData=S,r.isDuration=Rt,r.monthsShort=dr,r.weekdaysMin=vr,r.defineLocale=A,r.weekdaysShort=gr,r.normalizeUnits=T,r.relativeTimeThreshold=Pr;var bo=r;return bo})}).call(t,n(66)(e),n(3))},,function(e,t,n){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function i(e,t){var n=r(e);n._nativeNode=t,t[m]=n}function o(e){var t=e._nativeNode;t&&(delete t[m],e._nativeNode=null)}function a(e,t){if(!(e._flags&d.hasCachedChildNodes)){var n=e._renderedChildren,o=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=r(s)._domID;if(null!=u){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(f)===String(u)||8===o.nodeType&&o.nodeValue===" react-text: "+u+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+u+" "){i(s,o);continue e}h(!1)}}e._flags|=d.hasCachedChildNodes}}function s(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&a(r,e);return n}function u(e){var t=s(e);return null!=t&&t._nativeNode===e?t:null}function l(e){if(void 0===e._nativeNode?h(!1):void 0,e._nativeNode)return e._nativeNode;for(var t=[];!e._nativeNode;)t.push(e),e._nativeParent?void 0:h(!1),e=e._nativeParent;for(;t.length;e=t.pop())a(e,e._nativeNode);return e._nativeNode}var c=n(50),p=n(202),h=n(2),f=c.ID_ATTRIBUTE_NAME,d=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:s,getInstanceFromNode:u,getNodeFromInstance:l,precacheChildNodes:a,precacheNode:i,uncacheNode:o};e.exports=g},function(e,t){"use strict";t.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega","true":"\\mathrm{True}","false":"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},t.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},t.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var n={deg:"^\\circ"};t.toSymbol=function(e,r){if(r="undefined"!=typeof r&&r)return n.hasOwnProperty(e)?n[e]:"\\mathrm{"+e+"}";if(t.symbols.hasOwnProperty(e))return t.symbols[e];if(-1!==e.indexOf("_")){var i=e.indexOf("_");return t.toSymbol(e.substring(0,i))+"_{"+t.toSymbol(e.substring(i+1))+"}"}return e}},function(e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e){e.exports=function(e){return null==e?"":""+e}},function(e,t,n){"use strict";function r(e,t,n,r){var o=e.DenseMatrix,a=function(e,t,n,a){var u,l=e._data,c=e._size,p=e._datatype,h=n;"string"==typeof p&&(u=p,t=r.convert(t,u),h=r.find(n,[u,u]));var f=c.length>0?s(h,0,c,c[0],l,t,a):[];return new o({data:f,size:i(c),datatype:u})},s=function(e,t,n,r,i,o,a){var u=[];if(t===n.length-1)for(var l=0;r>l;l++)u[l]=a?e(o,i[l]):e(i[l],o);else for(var c=0;r>c;c++)u[c]=s(e,t+1,n,n[t+1],i[c],o,a);return u};return a}var i=n(16).clone;t.name="algorithm14",t.factory=r},function(e,t){"use strict";t.clone=function n(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return n(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e&&e.isBigNumber===!0)return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=n(e[i]));return r},t.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.deepExtend=function r(e,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(t.hasOwnProperty(n))if(t[n]&&t[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?r(e[n],t[n]):e[n]=t[n];else{if(Array.isArray(t[n]))throw new TypeError("Arrays are not supported by deepExtend");e[n]=t[n]}return e},t.deepEqual=function(e,n){var r,i,o;if(Array.isArray(e)){if(!Array.isArray(n))return!1;if(e.length!=n.length)return!1;for(i=0,o=e.length;o>i;i++)if(!t.deepEqual(e[i],n[i]))return!1;return!0}if(e instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;
for(r in e)if(!t.deepEqual(e[r],n[r]))return!1;for(r in n)if(!t.deepEqual(e[r],n[r]))return!1;return!0}return typeof e==typeof n&&e==n},t.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(e){}return!1},t.lazy=function(e,n,r){if(t.canDefineProperty()){var i,o=!0;Object.defineProperty(e,n,{get:function(){return o&&(i=r(),o=!1),i},set:function(e){i=e,o=!1},configurable:!0,enumerable:!0})}else e[n]=r()},t.traverse=function(e,t){var n=e;if(t)for(var r=t.split("."),i=0;i<r.length;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}return n},t.isFactory=function(e){return e&&"function"==typeof e.factory}},function(e,t,n){"use strict";var r=n(7),i=n(33),o=(n(4),n(97),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,n,r,i,a,s){var u={$$typeof:o,type:e,key:t,ref:n,props:s,_owner:a};return u};s.createElement=function(e,t,n){var r,o={},u=null,l=null,c=null,p=null;if(null!=t){l=void 0===t.ref?null:t.ref,u=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(o[r]=t[r])}var h=arguments.length-2;if(1===h)o.children=n;else if(h>1){for(var f=Array(h),d=0;h>d;d++)f[d]=arguments[d+2];o.children=f}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===o[r]&&(o[r]=m[r])}return s(e,u,l,c,p,i.current,o)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){var n=s(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},s.cloneElement=function(e,t,n){var o,u=r({},e.props),l=e.key,c=e.ref,p=e._self,h=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,f=i.current),void 0!==t.key&&(l=""+t.key);var d;e.type&&e.type.defaultProps&&(d=e.type.defaultProps);for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(u[o]=void 0===t[o]&&void 0!==d?d[o]:t[o])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var g=Array(m),v=0;m>v;v++)g[v]=arguments[v+2];u.children=g}return s(e.type,l,c,p,h,f,u)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},e.exports=s},function(e,t,n){(function(e,r){"use strict";function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function o(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,n){if(o()<n)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=e.prototype):(null===t&&(t=new e(n)),t.length=n),t}function e(t,n,r){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,n,r);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,n,r)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,r):"string"==typeof t?p(e,t,n):d(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return u(t),0>=t?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}function c(t,n){if(u(n),t=a(t,0>n?0:0|m(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;++r)t[r]=0;return t}function p(t,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(n,r);t=a(t,i);var o=t.write(n,r);return o!==i&&(t=t.slice(0,o)),t}function h(e,t){var n=t.length<0?0:0|m(t.length);e=a(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(t,n,r,i){if(n.byteLength,0>r||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),e.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=e.prototype):t=h(t,n),t}function d(t,n){if(e.isBuffer(n)){var r=0|m(n.length);return t=a(t,r),0===t.length?t:(n.copy(t,0,0,r),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||J(n.length)?a(t,0):h(t,n);if("Buffer"===n.type&&Q(n.data))return h(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(t){return+t!=t&&(t=0),e.alloc(+t)}function v(t,n){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return W(t).length;n=(""+n).toLowerCase(),i=!0}}function y(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,t>=n)return"";for(e||(e="utf8");;)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(t,n,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(0>r){if(!o)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:_(t,n,r,i,o);if("number"==typeof n)return n=255&n,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):_(t,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;s>l;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var p=!0,h=0;u>h;h++)if(o(e,l+h)!==o(t,h)){p=!1;break}if(p)return l}return-1}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return K(W(t,e.length-n),e,n,r)}function k(e,t,n,r){return K(H(t),e,n,r)}function C(e,t,n,r){return k(e,t,n,r)}function A(e,t,n,r){return K(G(t),e,n,r)}function S(e,t,n,r){return K(q(t,e.length-n),e,n,r)}function M(e,t,n){return X.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var u,l,c,p;switch(s){case 1:128>o&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(p=(31&o)<<6|63&u,p>127&&(a=p));break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(p=(15&o)<<12|(63&u)<<6|63&l,p>2047&&(55296>p||p>57343)&&(a=p));break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(p=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c,p>65535&&1114112>p&&(a=p))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return D(r)}function D(e){var t=e.length;if(et>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=et));return n}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;++i)r+=String.fromCharCode(e[i]);return r}function F(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;++o)i+=Y(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(t,n,r,i,o,a){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||a>n)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function R(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function I(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function $(e,t,n,r,i){return i||I(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return i||I(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,r,52,8),n+8}function U(e){if(e=V(e).replace(tt,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return 16>e?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;r>a;++a){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function q(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(e){return X.toByteArray(U(e))}function K(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function J(e){return e!==e}var X=n(503),Z=n(512),Q=n(341);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=o(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,n){return s(null,e,t,n)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,n){return l(null,e,t,n)},e.allocUnsafe=function(e){return c(null,e)},e.allocUnsafeSlow=function(e){return c(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,o=0,a=Math.min(r,i);a>o;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return i>r?-1:r>i?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!e.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},e.byteLength=v,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)b(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;e>t;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):y.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,n,r,i,o){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),0>n||r>t.length||0>i||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=r-n,u=Math.min(a,s),l=this.slice(i,o),c=t.slice(n,r),p=0;u>p;++p)if(l[p]!==c[p]){a=l[p],s=c[p];break}return s>a?-1:a>s?1:0},e.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},e.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var et=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),t>n&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=this.subarray(t,n),i.__proto__=e.prototype;else{var o=n-t;i=new e(o,void 0);for(var a=0;o>a;++a)i[a]=this[a+t]}return i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),Z.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),Z.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),Z.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),Z.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;B(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;B(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):R(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):R(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):j(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):R(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):R(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):j(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||B(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o,a=i-r;if(this===t&&n>r&&i>n)for(o=a-1;o>=0;--o)t[o+n]=this[o+r];else if(1e3>a||!e.TYPED_ARRAY_SUPPORT)for(o=0;a>o;++o)t[o+n]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),n);return a},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var o=t.charCodeAt(0);256>o&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t=255&t);if(0>n||this.length<n||this.length<r)throw new RangeError("Out of range index");if(n>=r)return this;n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var a;if("number"==typeof t)for(a=n;r>a;++a)this[a]=t;else{var s=e.isBuffer(t)?t:W(new e(t,i).toString()),u=s.length;for(a=0;r-n>a;++a)this[a+n]=s[a%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(t,n(18).Buffer,function(){return this}())},function(e,t,n){(function(e,r,i){function o(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,e,r.depth)}function a(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function s(e){return e}function u(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return w(i)||(i=l(e,i,r)),i}var o=c(e,n);if(o)return o;var a=Object.keys(n),s=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),A(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(S(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(A(n))return p(n)}var v="",y=!1,b=["{","}"];if(m(n)&&(y=!0,b=["[","]"]),S(n)){var _=n.name?": "+n.name:"";v=" [Function"+_+"]"}if(E(n)&&(v=" "+RegExp.prototype.toString.call(n)),C(n)&&(v=" "+Date.prototype.toUTCString.call(n)),A(n)&&(v=" "+p(n)),0===a.length&&(!y||0==n.length))return b[0]+v+b[1];if(0>r)return E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var x;return x=y?h(e,n,r,s,a):a.map(function(t){return f(e,n,r,s,t,y)}),e.seen.pop(),d(x,v,b)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(w(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],a=0,s=t.length;s>a;++a)o.push(L(t,String(a))?f(e,t,n,r,String(a),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))}),o}function f(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),L(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function m(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return null==e}function b(e){return"number"==typeof e}function w(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function x(e){return void 0===e}function E(e){return k(e)&&"[object RegExp]"===T(e)}function k(e){return"object"==typeof e&&null!==e}function C(e){return k(e)&&"[object Date]"===T(e)}function A(e){return k(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function M(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function T(e){return Object.prototype.toString.call(e)}function D(e){return 10>e?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),B[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var F=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(F,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];i>n;s=r[++n])a+=v(s)||!k(s)?" "+s:" "+o(s);return a},t.deprecate=function(n,o){function a(){if(!s){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?i.trace(o):i.error(o),s=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(r.noDeprecation===!0)return n;var s=!1;return a};var P,N={};t.debuglog=function(e){if(x(P)&&(P={NODE_ENV:"production"}.NODE_DEBUG||""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(P)){var n=r.pid;N[e]=function(){var r=t.format.apply(t,arguments);i.error("%s %d: %s",e,n,r)}}else N[e]=function(){};return N[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=g,t.isNull=v,t.isNullOrUndefined=y,t.isNumber=b,t.isString=w,t.isSymbol=_,t.isUndefined=x,t.isRegExp=E,t.isObject=k,t.isDate=C,t.isError=A,t.isFunction=S,t.isPrimitive=M,t.isBuffer=n(88);var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){i.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(40),t._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(26),n(3))},function(e,t,n){"use strict";var r=n(264);e.exports={debugTool:r}},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.DenseMatrix,a=function(e,t,n){var a=e._data,u=e._size,l=e._datatype,c=t._data,p=t._size,h=t._datatype,f=[];if(u.length!==p.length)throw new o(u.length,p.length);for(var d=0;d<u.length;d++){if(u[d]!==p[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");f[d]=u[d]}var m,g=n;"string"==typeof l&&l===h&&(m=l,t=r.convert(t,m),g=r.find(n,[m,m]));var v=f.length>0?s(g,0,f,f[0],a,c):[];return new i({data:v,size:f,datatype:m})},s=function(e,t,n,r,i,o){var a=[];if(t===n.length-1)for(var u=0;r>u;u++)a[u]=e(i[u],o[u]);else for(var l=0;r>l;l++)a[l]=s(e,t+1,n,n[t+1],i[l],o[l]);return a};return a}var i=n(85),o=n(37),a=i.string;a.isString,t.name="algorithm13",t.factory=r},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){e.exports={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0}
},function(e,t,n){"use strict";function r(e,t,n){var i,o=e.length;if(o!=t[n])throw new c(o,t[n]);if(n<t.length-1){var a=n+1;for(i=0;o>i;i++){var s=e[i];if(!Array.isArray(s))throw new c(t.length-1,t.length,"<");r(e[i],t,a)}}else for(i=0;o>i;i++)if(Array.isArray(e[i]))throw new c(t.length+1,t.length,">")}function i(e,n,r,o){var a,s,u=e.length,c=n[r],p=Math.min(u,c);if(e.length=c,r<n.length-1){var h=r+1;for(a=0;p>a;a++)s=e[a],Array.isArray(s)||(s=[s],e[a]=s),i(s,n,h,o);for(a=p;c>a;a++)s=[],e[a]=s,i(s,n,h,o)}else{for(a=0;p>a;a++)for(;Array.isArray(e[a]);)e[a]=e[a][0];if(o!==t.UNINITIALIZED)for(a=p;c>a;a++)e[a]=l.clone(o)}}function o(e,t,n){var r,i;if(t>n){var a=n+1;for(r=0,i=e.length;i>r;r++)e[r]=o(e[r],t,a)}else for(;Array.isArray(e);)e=e[0];return e}function a(e,t,n){var r,i;if(Array.isArray(e)){var o=n+1;for(r=0,i=e.length;i>r;r++)e[r]=a(e[r],t,o)}else for(var s=n;t>s;s++)e=[e];return e}var s=n(8),u=n(64),l=n(16),c=(n(260),n(37)),p=n(189);t.size=function(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t},t.validate=function(e,t){var n=0==t.length;if(n){if(Array.isArray(e))throw new c(e.length,0)}else r(e,t,0)},t.validateIndex=function(e,t){if(!s.isNumber(e)||!s.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(0>e)throw new p(e);if(void 0!==t&&e>=t)throw new p(e,t)},t.UNINITIALIZED={},t.resize=function(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach(function(e){if(!s.isNumber(e)||!s.isInteger(e)||0>e)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")});var r=void 0!==n?n:0;return i(e,t,0,r),e},t.squeeze=function(e,n){for(var r=n||t.size(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var i=r.length;1===r[i-1];)i--;return i<r.length&&(e=o(e,i,0),r.length=i),e},t.unsqueeze=function(e,n,r,i){var o=i||t.size(e);if(r)for(var s=0;r>s;s++)e=[e],o.unshift(1);for(e=a(e,n,0);o.length<n;)o.push(1);return e},t.flatten=function(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(e){Array.isArray(e)?e.forEach(n):t.push(e)}),t},t.isArray=Array.isArray},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(23),s=r(a),u=n(45),l=n(172),c=(r(l),n(35)),p=r(c),h=1,f=u.mat4.create(),d=function(){function e(t,n){i(this,e),this.type="SceneObject",this.mode=s["default"].TRIANGLES,this.id=String(h++),this.uuid=p["default"](),this.name=null,this.parent=null,this.children=[],this.visible=!0,this.cull=!0,this.data=null,this.position=u.vec3.fromValues(0,0,0),this.rotation=u.vec3.fromValues(0,0,0),this.scale=u.vec3.fromValues(1,1,1),this.modelViewMatrix=u.mat4.create(),this.matrix=u.mat4.create(),this.matrixInvalid=!1,this.matrixWorld=u.mat4.create(),this.matrixWorldInvalid=!1,this.renderOrder=0,this.geometry=t,this.material=n,this.updateMatrix()}return o(e,[{key:"add",value:function(e){null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e)}},{key:"remove",value:function(e){var t=this.children.indexOf(e);-1!==t&&(e.parent=null,this.children.splice(t,1))}},{key:"getObject",value:function(e){if(this.id===e||this.name===e)return this;for(var t=0;t<=this.children.length;t++){var n=this.children[t].getObject(e);if(void 0!==n)return n}}},{key:"updateMatrix",value:function(){u.mat4.identity(this.matrix),u.mat4.rotateZ(this.matrix,this.matrix,this.rotation[2]),u.mat4.rotateY(this.matrix,this.matrix,this.rotation[1]),u.mat4.rotateX(this.matrix,this.matrix,this.rotation[0]),u.mat4.translate(this.matrix,this.matrix,this.position),u.mat4.scale(this.matrix,this.matrix,this.scale),this.matrixWorldInvalid=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixWorldInvalid!==!0&&e!==!0||(null===this.parent?u.mat4.copy(this.matrixWorld,this.matrix):u.mat4.multiply(this.matrixWorld,this.parent.matrixWorld,this.matrix),this.matrixWorldInvalid=!1,e=!0);for(var t=0;t<this.children.length;t++)this.children[t].updateMatrixWorld(e)}},{key:"applyMatrix",value:function(e){u.mat4.multiply(this.matrix,e,this.matrix)}},{key:"translate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.position[0]+=e,this.position[1]+=t,this.position[2]+=n}},{key:"setPosition",value:function(e,t,n){u.vec3.set(this.position,e,t,n)}},{key:"setScale",value:function(e,t,n){1===arguments.length&&(n=t=e),u.vec3.set(this.scale,e,t,n)}},{key:"setRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;u.vec3.set(this.rotation,e,t,n)}},{key:"toWorld",value:function(e){return u.vec3.transformMat4(e,e,this.matrixWorld)}},{key:"toLocal",value:function(){return u.vec3.applyMatrix4(u.mat4.invert(f,this.matrixWorld))}},{key:"traverse",value:function(e){e(this);for(var t=0;t<this.children.length;t++)this.children[t].traverse(e)}},{key:"traverseVisible",value:function(e){if(this.visible!==!1){e(this);for(var t=0;t<this.children.length;t++)this.children[t].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){null!==this.parent&&(e(this.parent),this.parent.traverseAncestors(e))}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,u.vec3.copy(this.position,e.position),u.vec3.copy(this.rotation,e.rotation),u.vec3.copy(this.scale,e.scale),u.mat4.copy(this.matrix,e.matrix),u.mat4.copy(this.matrixWorld,e.matrixWorld),this.matrixInvalid=e.matrixInvalid,this.matrixWorldInvalid=e.matrixWorldInvalid,this.visible=e.visible,this.culled=e.culled,this.renderOrder=e.renderOrder,this.data=JSON.parse(JSON.stringify(e.data)),t===!0)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}},{key:"x",set:function(e){return this.matrixInvalid=!0,this.position[0]=e},get:function(){return this.position[0]}},{key:"y",set:function(e){return this.matrixInvalid=!0,this.position[1]=e},get:function(){return this.position[1]}},{key:"z",set:function(e){return this.matrixInvalid=!0,this.position[2]=e},get:function(){return this.position[2]}}]),e}();t["default"]=d,e.exports=t["default"]},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(n){try{return l.call(null,e,0)}catch(n){return l.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){d&&h&&(d=!1,h.length?f=h.concat(f):m=-1,f.length&&a())}function a(){if(!d){var e=r(o);d=!0;for(var t=f.length;t;){for(h=f,f=[];++m<t;)h&&h[m].run();m=-1,t=f.length}h=null,d=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var h,f=[],d=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||d||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";function r(){S.ReactReconcileTransaction&&_?void 0:g(!1)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=S.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,i,o,a){r(),_.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var n=e.dirtyComponentsLength;n!==v.length?g(!1):void 0,v.sort(a),y++;for(var r=0;n>r;r++){var i=v[r],o=i._pendingCallbacks;i._pendingCallbacks=null;var s;if(f.logTopLevelRenders){var u=i;i._currentElement.props===i._renderedComponent._currentElement&&(u=i._renderedComponent),s="React update: "+u.getName(),t.time(s)}if(d.performUpdateIfNecessary(i,e.reconcileTransaction,y),s&&t.timeEnd(s),o)for(var l=0;l<o.length;l++)e.callbackQueue.enqueue(o[l],i.getPublicInstance())}}function u(e){return r(),_.isBatchingUpdates?(v.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void _.batchedUpdates(u,e)}function l(e,t){_.isBatchingUpdates?void 0:g(!1),b.enqueue(e,t),w=!0}var c=n(7),p=n(199),h=n(38),f=n(205),d=(n(20),n(52)),m=n(96),g=n(2),v=[],y=0,b=p.getPooled(),w=!1,_=null,x={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),C()):v.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},k=[x,E];c(i.prototype,m.Mixin,{getTransactionWrappers:function(){return k},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,S.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),h.addPoolingTo(i);var C=function(){for(;v.length||w;){if(v.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(w){w=!1;var t=b;b=p.getPooled(),t.notifyAll(),p.release(t)}}},A={injectReconcileTransaction:function(e){e?void 0:g(!1),S.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:g(!1),"function"!=typeof e.batchedUpdates?g(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?g(!1):void 0,_=e}},S={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:C,injection:A,asap:l};e.exports=S}).call(t,n(3))},function(e){e.exports=_},function(e){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e){var t={};t.EPSILON=1e-6,t.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,t.RANDOM=Math.random,t.setMatrixArrayType=function(e){GLMAT_ARRAY_TYPE=e};var n=Math.PI/180;t.toRadian=function(e){return e*n},e.exports=t},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,n){return e===n||i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,n){return(e.re===n.re||i(e.re,n.re,t.epsilon))&&(e.im===n.im||i(e.im,n.im,t.epsilon))},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return o(e.value,t.value)},"string, string":function(e,t){return e===t}});return o}var i=n(8).nearlyEqual;t.factory=r},function(e,t,n){"use strict";var r=n(75),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};e.exports=a},function(e){"use strict";var t={current:null};e.exports=t},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return this.isDefaultPrevented=u?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=n(7),o=n(38),a=n(22),s=(n(4),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return String(n++)};var n=0;e.exports=t["default"]},function(e){"use strict";var t=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=t},function(e){"use strict";function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=n,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(n)?"["+n.join(", ")+"]":n)+")",this.stack=(new Error).stack}t.prototype=new RangeError,t.prototype.constructor=RangeError,t.prototype.name="DimensionError",t.prototype.isDimensionError=!0,e.exports=t},function(e,t,n){"use strict";var r=n(2),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},u=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r,i),a}return new o(e,t,n,r,i)},l=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=i,h=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},f={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=f},,function(e){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t,r,a){var s=n(12),u=r(n(5)),l=r(n(62)),c=r(n(63)),p=r(n(31)),h=r(n(48)),f=r(n(15)),d=e.DenseMatrix,m=e.SparseMatrix,g=a("multiply",i({"Array, Array":function(e,t){v(o.size(e),o.size(t));var n=g(u(e),u(t));return n&&n.isMatrix===!0?n.valueOf():n},"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return v(n,r),1===n.length?1===r.length?y(e,t,n[0]):b(e,t):1===r.length?_(e,t):x(e,t)},"Matrix, Array":function(e,t){return g(e,u(t))},"Array, Matrix":function(e,t){return g(u(e,t.storage()),t)},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=h(e,t,c,!1);break;case"dense":n=f(e,t,c,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=h(t,e,c,!0);break;case"dense":n=f(t,e,c,!0)}return n},"Array, any":function(e,t){return f(u(e),t,c,!1).valueOf()},"any, Array":function(e,t){return f(u(t),e,c,!0).valueOf()}},c.signatures)),v=function(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}},y=function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var r,i=e._data,o=e._datatype,s=t._data,u=t._datatype,p=l,h=c;o&&u&&o===u&&"string"==typeof o&&(r=o,p=a.find(l,[r,r]),h=a.find(c,[r,r]));for(var f=h(i[0],s[0]),d=1;n>d;d++)f=p(f,h(i[d],s[d]));return f},b=function(e,t){switch(t.storage()){case"dense":return w(e,t)}throw new Error("Not implemented")},w=function(e,t){var n,r=e._data,i=e._size,o=e._datatype,s=t._data,u=t._size,p=t._datatype,h=i[0],f=u[1],m=l,g=c;o&&p&&o===p&&"string"==typeof o&&(n=o,m=a.find(l,[n,n]),g=a.find(c,[n,n]));for(var v=[],y=0;f>y;y++){for(var b=g(r[0],s[0][y]),w=1;h>w;w++)b=m(b,g(r[w],s[w][y]));v[y]=b}return 1===f?v[0]:new d({data:v,size:[f],datatype:n})},_=function(e,t){switch(e.storage()){case"dense":return E(e,t);case"sparse":return A(e,t)}},x=function(e,t){switch(e.storage()){case"dense":switch(t.storage()){case"dense":return k(e,t);case"sparse":return C(e,t)}break;case"sparse":switch(t.storage()){case"dense":return S(e,t);case"sparse":return M(e,t)}}},E=function(e,t){var n,r=e._data,i=e._size,o=e._datatype,s=t._data,u=t._datatype,p=i[0],h=i[1],f=l,m=c;o&&u&&o===u&&"string"==typeof o&&(n=o,f=a.find(l,[n,n]),m=a.find(c,[n,n]));for(var g=[],v=0;p>v;v++){for(var y=r[v],b=m(y[0],s[0]),w=1;h>w;w++)b=f(b,m(y[w],s[w]));g[v]=b}return 1===p?g[0]:new d({data:g,size:[p],datatype:n})},k=function(e,t){var n,r=e._data,i=e._size,o=e._datatype,s=t._data,u=t._size,p=t._datatype,h=i[0],f=i[1],m=u[1],g=l,v=c;o&&p&&o===p&&"string"==typeof o&&(n=o,g=a.find(l,[n,n]),v=a.find(c,[n,n]));for(var y=[],b=0;h>b;b++){var w=r[b];y[b]=[];for(var _=0;m>_;_++){for(var x=v(w[0],s[0][_]),E=1;f>E;E++)x=g(x,v(w[E],s[E][_]));y[b][_]=x}}return 1===h&&1===m?y[0][0]:new d({data:y,size:[h,m],datatype:n})},C=function(e,t){var n=e._data,r=e._size,i=e._datatype,o=t._values,s=t._index,u=t._ptr,h=t._size,f=t._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,g=r[0],v=h[1],y=l,b=c,w=p,_=0;i&&f&&i===f&&"string"==typeof i&&(d=i,y=a.find(l,[d,d]),b=a.find(c,[d,d]),w=a.find(p,[d,d]),_=a.convert(0,d));for(var x=[],E=[],k=[],C=new m({values:x,index:E,ptr:k,size:[g,v],datatype:d}),A=0;v>A;A++){k[A]=E.length;var S=u[A],M=u[A+1];if(M>S)for(var T=0,D=0;g>D;D++){for(var O,L=D+1,F=S;M>F;F++){var P=s[F];T!==L?(O=b(n[D][P],o[F]),T=L):O=y(O,b(n[D][P],o[F]))}T!==L||w(O,_)||(E.push(D),x.push(O))}}return k[v]=E.length,1===g&&1===v?1===x.length?x[0]:0:C},A=function(e,t){var n=e._values,r=e._index,i=e._ptr,o=e._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=t._data,h=t._datatype,f=e._size[0],d=t._size[0],g=[],v=[],y=[],b=l,w=c,_=p,x=0;o&&h&&o===h&&"string"==typeof o&&(s=o,b=a.find(l,[s,s]),w=a.find(c,[s,s]),_=a.find(p,[s,s]),x=a.convert(0,s));var E=[],k=[];y[0]=0;for(var C=0;d>C;C++){var A=u[C];if(!_(A,x))for(var S=i[C],M=i[C+1],T=S;M>T;T++){var D=r[T];k[D]?E[D]=b(E[D],w(A,n[T])):(k[D]=!0,v.push(D),E[D]=w(A,n[T]))}}for(var O=v.length,L=0;O>L;L++){var F=v[L];g[L]=E[F]}return y[1]=v.length,1===f?1===g.length?g[0]:0:new m({values:g,index:v,ptr:y,size:[f,1],datatype:s})},S=function(e,t){var n=e._values,r=e._index,i=e._ptr,o=e._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=t._data,h=t._datatype,f=e._size[0],d=t._size[0],g=t._size[1],v=l,y=c,b=p,w=0;o&&h&&o===h&&"string"==typeof o&&(s=o,v=a.find(l,[s,s]),y=a.find(c,[s,s]),b=a.find(p,[s,s]),w=a.convert(0,s));for(var _=[],x=[],E=[],k=new m({values:_,index:x,ptr:E,size:[f,g],datatype:s}),C=[],A=[],S=0;g>S;S++){E[S]=x.length;for(var M=S+1,T=0;d>T;T++){var D=u[T][S];if(!b(D,w))for(var O=i[T],L=i[T+1],F=O;L>F;F++){var P=r[F];A[P]!==M?(A[P]=M,x.push(P),C[P]=y(D,n[F])):C[P]=v(C[P],y(D,n[F]))}}for(var N=E[S],B=x.length,R=N;B>R;R++){var j=x[R];_[R]=C[j]}}return E[g]=x.length,1===f&&1===g?1===_.length?_[0]:0:k},M=function(e,t){var n,r=e._values,i=e._index,o=e._ptr,s=e._datatype,u=t._values,p=t._index,h=t._ptr,f=t._datatype,d=e._size[0],g=t._size[1],v=r&&u,y=l,b=c;s&&f&&s===f&&"string"==typeof s&&(n=s,y=a.find(l,[n,n]),b=a.find(c,[n,n]));for(var w,_,x,E,k,C,A,S,M=v?[]:void 0,T=[],D=[],O=new m({values:M,index:T,ptr:D,size:[d,g],datatype:n}),L=v?[]:void 0,F=[],P=0;g>P;P++){D[P]=T.length;var N=P+1;for(k=h[P],C=h[P+1],E=k;C>E;E++)if(S=p[E],v)for(_=o[S],x=o[S+1],w=_;x>w;w++)A=i[w],F[A]!==N?(F[A]=N,T.push(A),L[A]=b(u[E],r[w])):L[A]=y(L[A],b(u[E],r[w]));else for(_=o[S],x=o[S+1],w=_;x>w;w++)A=i[w],F[A]!==N&&(F[A]=N,T.push(A));if(v)for(var B=D[P],R=T.length,j=B;R>j;j++){var I=T[j];M[j]=L[I]}}return D[g]=T.length,1===d&&1===g&&v?1===M.length?M[0]:0:O};return g.toTex="\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)",g}var i=n(16).extend,o=n(24);t.name="multiply",t.factory=r},function(e,t,n){(function(t){"use strict";function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);o>i;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return r>n?-1:n>r?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function a(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function s(e){if(w.isFunction(e)){if(E)return e.name;var t=e.toString(),n=t.match(C);return n&&n[1]}}function u(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function l(e){if(E||!w.isFunction(e))return w.inspect(e);var t=s(e),n=t?": "+t:"";return"[Function"+n+"]"}function c(e){return u(l(e.actual),128)+" "+e.operator+" "+u(l(e.expected),128)}function p(e,t,n,r,i){throw new k.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function h(e,t){e||p(e,!0,t,"==",k.ok)}function f(e,t,n,s){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(a(e)&&a(t)&&o(e)===o(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;s=s||{actual:[],expected:[]};var u=s.actual.indexOf(e);return-1!==u&&u===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),m(e,t,n,s))}return n?e===t:e==t}function d(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function m(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=d(e),o=d(t);if(i&&!o||!i&&o)return!1;if(i)return e=x.call(e),t=x.call(t),f(e,t,n);var a,s,u=A(e),l=A(t);if(u.length!==l.length)return!1;for(u.sort(),l.sort(),s=u.length-1;s>=0;s--)if(u[s]!==l[s])return!1;for(s=u.length-1;s>=0;s--)if(a=u[s],!f(e[a],t[a],n,r))return!1;return!0}function g(e,t,n){f(e,t,!0)&&p(e,t,n,"notDeepStrictEqual",g)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&t.call({},e)===!0}function y(e){var t;try{e()}catch(n){t=n}return t}function b(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=y(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&p(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&w.isError(i),s=!e&&i&&!n;if((a&&o&&v(i,n)||s)&&p(i,n,"Got unwanted exception"+r),e&&i&&n&&!v(i,n)||!e&&i)throw i}var w=n(19),_=Object.prototype.hasOwnProperty,x=Array.prototype.slice,E=function(){return"foo"===function(){}.name}(),k=e.exports=h,C=/\s*function\s+([^\(\s]*)\s*/;k.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var t=e.stackStartFunction||p;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=s(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},w.inherits(k.AssertionError,Error),k.fail=p,k.ok=h,k.equal=function(e,t,n){e!=t&&p(e,t,n,"==",k.equal)},k.notEqual=function(e,t,n){e==t&&p(e,t,n,"!=",k.notEqual)},k.deepEqual=function(e,t,n){f(e,t,!1)||p(e,t,n,"deepEqual",k.deepEqual)},k.deepStrictEqual=function(e,t,n){f(e,t,!0)||p(e,t,n,"deepStrictEqual",k.deepStrictEqual)},k.notDeepEqual=function(e,t,n){f(e,t,!1)&&p(e,t,n,"notDeepEqual",k.notDeepEqual)},k.notDeepStrictEqual=g,k.strictEqual=function(e,t,n){e!==t&&p(e,t,n,"===",k.strictEqual)},k.notStrictEqual=function(e,t,n){e===t&&p(e,t,n,"!==",k.notStrictEqual)},k["throws"]=function(e,t,n){b(!0,e,t,n)},k.doesNotThrow=function(e,t,n){b(!1,e,t,n)},k.ifError=function(e){if(e)throw e};var A=Object.keys||function(e){var t=[];for(var n in e)_.call(e,n)&&t.push(n);return t}}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(176),s=r(a),u=n(304),l=r(u),c=n(105),p=r(c),h=n(35),f=r(h),d=function(){function e(){i(this,e),this.id=s["default"].nextID(),this.uuid=f["default"](),this.type="BufferGeometry",this.index=null,this.attributes={},this.groups=[],this.drawRange={start:0,count:1/0}}return o(e,[{key:"buffer",value:function(e,t,n,r){this.bufferAttribute(e,t,n,!1,r)}},{key:"bufferDynamic",value:function(e,t,n,r){this.bufferAttribute(e,t,n,!0,r)}},{key:"bufferAttribute",value:function(e,t,n,r,i){var o=new p["default"](t,n,r,i||e);"index"===e?this.index=o:this.attributes[e]=o}},{key:"update",value:function(e,t){var n="index"===e?this.index:this.attributes[e];t(n),n.invalidate(!0)}},{key:"updateEach",value:function(e,t){this.update(e,function(e){for(var n=e.getCount(),r=0;n>r;r+=e.width)t(e.array,r,r+1,r+2,r+3)})}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups.length=0}},{key:"applyMatrix",value:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0)}},{key:"merge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.attributes,r=e.attributes;for(var i in n){var o=n[i],a=r[i];if(void 0!==a){var s=o.array,u=a.array;if("index"===i)for(var l=0,c=a.width*indexOffset;l<u.length;l++,c++)s[c]=u[l]+t;else for(var l=0,c=a.width*t;l<u.length;l++,c++)s[c]=u[l]}}return this}},{key:"fromGeometry",value:function(e){return e.__directGeometry=(new l["default"]).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)}},{key:"fromDirectGeometry",value:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new THREE.BufferAttribute(t,3).copyVector3sArray(e.vertices)),e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.addAttribute("color",new THREE.BufferAttribute(n,3).copyColorsArray(e.colors))}if(e.indices.length>0){var r=e.vertices.length>65535?Uint32Array:Uint16Array,i=new r(3*e.indices.length);this.setIndex(new THREE.BufferAttribute(i,1).copyIndicesArray(e.indices))}return this.groups=e.groups,this}}]),e}();t["default"]=d,d.MaxIndex=65535,e.exports=t["default"]},function(e,t,n){var r;!function(){"use strict";function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e+=" "+n;else if(Array.isArray(n))e+=" "+i.apply(null,n);else if("object"===r)for(var a in n)o.call(n,a)&&n[a]&&(e+=" "+a)}}return e.substr(1)}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=i:(r=function(){return i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}()},function(e,t,n){t.glMatrix=n(30),t.mat2=n(295),t.mat2d=n(296),t.mat3=n(171),t.mat4=n(297),t.quat=n(298),t.vec2=n(172),t.vec3=n(173),t.vec4=n(174)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=(r(i),n(109)),a=r(o),s=n(67),u=r(s),l=[].slice,c={el:function(e){var t=e?this.refs[e]:this;return a["default"].findDOMNode(t)},$el:function(e){return u["default"](this.el(e))},componentDidMount:function(){this.$el().find("[title]").tooltip()},componentWillUnmount:function(){this.$el().find("[title]").tooltip("destroy")},curry:function(){var e=this[arguments[0]],t=[this].concat(l.call(arguments,1));return e.bind.apply(this,t)},link:function(e,t,n){var r=!1,i={},o=this,a=this.state[e],s=this.onChange;return"string"==typeof t?(r=!0,a=a===t):(n=t,t=void 0,a||a===!1||(a="")),{value:a,requestChange:function(a){var u=r?t:a;i[e]=u,o.setState(i),n?n(u):s&&s(e,u)}}}};t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n,r){var o=e.DenseMatrix,a=function(e,t,n,a){var s=e._data,u=e._size,l=e._datatype,c=t._values,p=t._index,h=t._ptr,f=t._size,d=t._datatype;if(u.length!==f.length)throw new i(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");
var m,g=u[0],v=u[1],y=0,b=n;"string"==typeof l&&l===d&&(m=l,y=r.convert(0,m),b=r.find(n,[m,m]));for(var w=[],_=0;g>_;_++)w[_]=[];for(var x=[],E=[],k=0;v>k;k++){for(var C=k+1,A=h[k],S=h[k+1],M=A;S>M;M++){var T=p[M];x[T]=a?b(c[M],s[T][k]):b(s[T][k],c[M]),E[T]=C}for(var D=0;g>D;D++)w[D][k]=E[D]===C?x[D]:a?b(y,s[D][k]):b(s[D][k],y)}return new o({data:w,size:[g,v],datatype:m})};return a}var i=n(37);t.name="algorithm03",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(31)),a=e.SparseMatrix,s=function(e,t,n,r){var s=e._values,u=e._index,l=e._ptr,c=e._size,p=e._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=c[0],d=c[1],m=o,g=0,v=n;"string"==typeof p&&(h=p,m=i.find(o,[h,h]),g=i.convert(0,h),t=i.convert(t,h),v=i.find(n,[h,h]));for(var y=[],b=[],w=[],_=new a({values:y,index:b,ptr:w,size:[f,d],datatype:h}),x=0;d>x;x++){w[x]=b.length;for(var E=l[x],k=l[x+1],C=E;k>C;C++){var A=u[C],S=r?v(t,s[C]):v(s[C],t);m(S,g)||(b.push(A),y.push(S))}}return w[d]=b.length,_};return s}t.name="algorithm11",t.factory=r},function(e,t){"use strict";function n(e,t,n,r){var i=e.DenseMatrix,o=function(e,t,n,o){var a=e._values,s=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=l[0],f=l[1],d=n;"string"==typeof c&&(p=c,t=r.convert(t,p),d=r.find(n,[p,p]));for(var m=[],g=new i({data:m,size:[h,f],datatype:p}),v=[],y=[],b=0;f>b;b++){for(var w=b+1,_=u[b],x=u[b+1],E=_;x>E;E++){var k=s[E];v[k]=a[E],y[k]=w}for(var C=0;h>C;C++)0===b&&(m[C]=[]),m[C][b]=y[C]===w?o?d(t,v[C]):d(v[C],t):o?d(t,0):d(0,t)}return g};return o}t.name="algorithm12",t.factory=n},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(2),o={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)?i(!1):void 0;var h=p.toLowerCase(),f=n[p],d={attributeName:h,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasSideEffects:r(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!d.mustUseProperty&&d.hasSideEffects?i(!1):void 0,d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:i(!1),u.hasOwnProperty(p)){var m=u[p];d.attributeName=m}a.hasOwnProperty(p)&&(d.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(d.propertyName=l[p]),c.hasOwnProperty(p)&&(d.mutationMethod=c[p]),s.properties[p]=d}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:o};e.exports=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1986);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=r(i);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(402),o=(n(20),n(2)),a={mountComponent:function(e,t,n,i,o){var a=e.mountComponent(t,n,i,o);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),a},getNativeNode:function(e){return e.getNativeNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){return e._updateBatchNumber!==n?void(null!=e._updateBatchNumber&&e._updateBatchNumber!==n+1?o(!1):void 0):void e.performUpdateIfNecessary(t)}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r,o){function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator")}function s(e){for(var t in e)if(e.hasOwnProperty(t)&&t in i)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}return a.prototype.eval=function(e){return this.compile().eval(e)},a.prototype.type="Node",a.prototype.isNode=!0,a.prototype.compile=function(){if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var e={math:o.expression.transform,args:{},_validateScope:s},t={},n=this._compile(e,t),r=Object.keys(e).map(function(e){return"    var "+e+' = defs["'+e+'"];'}),i=r.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+n+";  }};",a=new Function("defs",i);return a(e)},a.prototype._compile=function(){throw new Error("Cannot compile a Node interface")},a.prototype.forEach=function(){throw new Error("Cannot run forEach on a Node interface")},a.prototype.map=function(){throw new Error("Cannot run map on a Node interface")},a.prototype._ifNode=function(e){if(!e||!e.isNode)throw new TypeError("Callback function must return a Node");return e},a.prototype.traverse=function(e){function t(e,n){e.forEach(function(e,r,i){n(e,r,i),t(e,n)})}e(this,null,null),t(this,e)},a.prototype.transform=function(e){function t(e,n){return e.map(function(e,r,i){var o=n(e,r,i);return t(o,n)})}var n=e(this,null,null);return t(n,e)},a.prototype.filter=function(e){var t=[];return this.traverse(function(n,r,i){e(n,r,i)&&t.push(n)}),t},a.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},a.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},a.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},a.prototype.toString=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof t?t:this._toString(e)},a.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},a.prototype.toTex=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof t?t:this._toTex(e)},a.prototype._toTex=function(){throw new Error("_toTex not implemented for "+this.type)},a.prototype.getIdentifier=function(){return this.type},a.prototype.getContent=function(){return this},a}var i=n(344);n(16).extend,t.name="Node",t.path="expression.node",t.math=!0,t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(62)),u=n(12),l=r(n(107)),c=r(n(363)),p=r(n(119)),h=r(n(21)),f=r(n(15)),d=o("add",i({"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,s);break;default:n=l(t,e,s,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,s,!1);break;default:n=h(e,t,s)}}return n},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,t,s,!1);break;default:n=f(e,t,s,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=p(t,e,s,!0);break;default:n=f(t,e,s,!0)}return n},"Array, any":function(e,t){return f(a(e),t,s,!1).valueOf()},"any, Array":function(e,t){return f(a(t),e,s,!0).valueOf()}},s.signatures));return d.toTex="\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)",d}var i=n(16).extend;t.name="add",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function o(t,n){var r=n.re*n.re+n.im*n.im;return 0!=r?new e.Complex((t.re*n.re+t.im*n.im)/r,(t.im*n.re-t.re*n.im)/r):new e.Complex(0!=t.re?t.re/0:0,0!=t.im?t.im/0:0)}var a=r(n(63)),s=i("divide",{"number, number":function(e,t){return e/t},"Complex, Complex":o,"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var n=e.clone();return n.value=s(null===n.value?n._normalize(1):n.value,t),n},"number | Fraction | BigNumber, Unit":function(e,t){var n=t.pow(-1);return n.value=a(null===n.value?n._normalize(1):n.value,e),n},"Unit, Unit":function(e,t){return e.divide(t)}});return s}t.factory=r},function(e,t,n){"use strict";function r(e){if(m){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)g(t,n[r],null);else null!=e.html?t.innerHTML=e.html:null!=e.text&&h(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function o(e,t){m?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){m?e.html=t:e.node.innerHTML=t}function s(e,t){m?e.text=t:h(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=n(200),p=n(128),h=n(218),f=1,d=11,m="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),g=p(function(e,t,n){t.node.nodeType===d||t.node.nodeType===f&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=g,l.replaceChildWithTree=i,l.queueChild=o,l.queueHTML=a,l.queueText=s,e.exports=l},,function(e,t,n){"use strict";function r(e){return"[object Array]"===E.call(e)}function i(e){return"[object ArrayBuffer]"===E.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function l(e){return"undefined"==typeof e}function c(e){return null!==e&&"object"==typeof e}function p(e){return"[object Date]"===E.call(e)}function h(e){return"[object File]"===E.call(e)}function f(e){return"[object Blob]"===E.call(e)}function d(e){return"[object Function]"===E.call(e)}function m(e){return c(e)&&d(e.pipe)}function g(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function v(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function b(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,i=e.length;i>n;n++)t.call(null,e[n],n,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(null,e[o],o,e)}function w(){function e(e,n){t[n]="object"==typeof t[n]&&"object"==typeof e?w(t[n],e):e}for(var t={},n=0,r=arguments.length;r>n;n++)b(arguments[n],e);return t}function _(e,t,n){return b(t,function(t,r){e[r]=n&&"function"==typeof t?x(t,n):t}),e}var x=n(465),E=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:i,isFormData:o,isArrayBufferView:a,isString:s,isNumber:u,isObject:c,isUndefined:l,isDate:p,isFile:h,isBlob:f,isFunction:d,isStream:m,isURLSearchParams:g,isStandardBrowserEnv:y,forEach:b,merge:w,extend:_,trim:v}},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(222),c=i(l),p=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="ShaderMaterial",n.raw=!1,n.defines={},n.uniforms={},n.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",n.fragmentShader="void main() {\n	gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n}",n.vertexColors=0,n.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},n.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&r.warn("ShaderMaterial: attributes should be defined in BufferGeometry"),n.set(e)),n}return s(t,e),u(t,[{key:"setUniform",value:function(e,t){var n=this.uniforms[e];n.value=t,n.needsUpdate=!0,this.needsUpdate=!0}}]),t}(c["default"]);t["default"]=p,e.exports=t["default"]}).call(t,n(3))},,function(e){"use strict";var t={};e.exports=t},function(e,t){"use strict";function n(e,t,n,r){var i=r("add",{"number, number":function(e,t){return e+t},"Complex, Complex":function(t,n){return new e.Complex(t.re+n.re,t.im+n.im)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=i(n.value,t.value),n.fixPrefix=!1,n}});return i}t.factory=n},function(e,t){"use strict";function n(e,t,n,r){var i=r("multiplyScalar",{"number, number":function(e,t){return e*t},"Complex, Complex":function(t,n){return new e.Complex(t.re*n.re-t.im*n.im,t.re*n.im+t.im*n.re)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber, Unit":function(e,t){var n=t.clone();return n.value=null===n.value?n._normalize(e):i(n.value,e),n},"Unit, number | Fraction | BigNumber":function(e,t){var n=e.clone();return n.value=null===n.value?n._normalize(t):i(n.value,t),n},"Unit, Unit":function(e,t){return e.multiply(t)}});return i}t.factory=n},function(e,t,n){"use strict";function r(e,n){if(Array.isArray(e)){for(var i="[",o=e.length,a=0;o>a;a++)0!=a&&(i+=", "),i+=r(e[a],n);return i+="]"}return t.format(e,n)}var i=n(8).format,o=n(1139).format;t.isString=function(e){return"string"==typeof e},t.endsWith=function(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t},t.format=function(e,n){return"number"==typeof e?i(e,n):e&&e.isBigNumber===!0?o(e,n):e&&e.isFraction===!0?n&&"decimal"===n.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?r(e,n):t.isString(e)?'"'+e+'"':"function"==typeof e?e.syntax?e.syntax+"":"function":"object"==typeof e?"function"==typeof e.format?e.format(n):e.toString():String(e)}},function(e,t,n){var r=n(1161);r.connect=n(1163),r.connectFilter=n(1164),r.ListenerMixin=n(427),r.listenTo=n(1165),r.listenToMany=n(1166),e.exports=r},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e){e.exports=$},function(e){function t(e,n,r){var i="KaTeX parse error: "+e;if(void 0!==n&&void 0!==r){i+=" at position "+r+": ";var o=n._input;o=o.slice(0,r)+"\u0332"+o.slice(r);var a=Math.max(0,r-15),s=r+15;i+=o.slice(a,s)}var u=new Error(i);return u.name="ParseError",u.__proto__=t.prototype,u.position=r,u}t.prototype.__proto__=Error.prototype,e.exports=t},function(e){function t(e){return c[e]}function n(e){return(""+e).replace(p,t)}function r(e){i(e,"")}var i,o=Array.prototype.indexOf,a=function(e,t){if(null==e)return-1;if(o&&e.indexOf===o)return e.indexOf(t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},s=function(e,t){return-1!==a(e,t)},u=/([A-Z])/g,l=function(e){return e.replace(u,"-$1").toLowerCase()},c={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},p=/[&><"']/g;if("undefined"!=typeof document){var h=document.createElement("span");i="textContent"in h?function(e,t){e.textContent=t}:function(e,t){e.innerText=t}}e.exports={contains:s,escape:n,hyphenate:l,indexOf:a,setTextContent:i,clearNode:r}},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(31)),s=e.SparseMatrix,u=function(e,t,n,r){var u=e._data,l=e._size,c=e._datatype,p=t._values,h=t._index,f=t._ptr,d=t._size,m=t._datatype;if(l.length!==d.length)throw new i(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,v=l[0],y=l[1],b=a,w=0,_=n;"string"==typeof c&&c===m&&(g=c,b=o.find(a,[g,g]),w=o.convert(0,g),_=o.find(n,[g,g]));for(var x=[],E=[],k=[],C=0;y>C;C++){k[C]=E.length;for(var A=f[C],S=f[C+1],M=A;S>M;M++){var T=h[M],D=r?_(p[M],u[T][C]):_(u[T][C],p[M]);b(D,w)||(E.push(T),x.push(D))}}return k[y]=E.length,new s({values:x,index:E,ptr:k,size:[v,y],datatype:g})};return u}var i=n(37);t.name="algorithm02",t.factory=r},function(e,t,n){"use strict";var r=n(93),i=n(123),o=n(126),a=n(213),s=n(214),u=n(2),l={},c=null,p=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return p(e,!0)},f=function(e){return p(e,!1)},d={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?u(!1):void 0;var i=l[t]||(l[t]={});i[e._rootNodeID]=n;var o=r.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e._rootNodeID]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var i=l[t];i&&delete i[e._rootNodeID]},deleteAllListeners:function(e){for(var t in l)if(l[t][e._rootNodeID]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e._rootNodeID]}},extractEvents:function(e,t,n,i){for(var o,s=r.plugins,u=0;u<s.length;u++){var l=s[u];if(l){var c=l.extractEvents(e,t,n,i);c&&(o=a(o,c))}}return o},enqueueEvents:function(e){e&&(c=a(c,e))},processEventQueue:function(e){var t=c;c=null,e?s(t,h):s(t,f),c?u(!1):void 0,o.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=d},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return b(e,r)}function i(e,t,n){var i=t?y.bubbled:y.captured,o=r(e,n,i);o&&(n._dispatchListeners=g(n._dispatchListeners,o),n._dispatchInstances=g(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,i,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=b(e,r);i&&(n._dispatchListeners=g(n._dispatchListeners,i),n._dispatchInstances=g(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){v(e,o)}function c(e){v(e,a)}function p(e,t,n,r){m.traverseEnterLeave(n,r,s,e,t)}function h(e){v(e,u)}var f=n(32),d=n(71),m=n(123),g=n(213),v=n(214),y=(n(4),f.PropagationPhases),b=d.getListener,w={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:p};e.exports=w},function(e){"use strict";var t={};e.exports=t},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(34),o=n(131),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";var r=n(2),i=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=i},function(e,t,n){"use strict";var r=n(75),i=r({prop:null,context:null,childContext:null});e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);t["default"]=r.loadHelpers(n(1605)),e.exports=t["default"]},,,,,function(e){function t(){return(new Date).getTime()}e.exports=t},function(e,t,n){"use strict";function r(e,t,r,o){var a=n(12),s=r(n(5)),u=r(n(62)),l=r(n(160)),c=r(n(107)),p=r(n(47)),h=r(n(255)),f=r(n(119)),d=r(n(21)),m=r(n(15)),g=o("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(t,n){return new e.Complex(t.re-n.re,t.im-n.im)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=g(n.value,t.value),n.fixPrefix=!1,n},"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();if(n.length!==r.length)throw new i(n.length,r.length);var o;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":o=h(e,t,g);break;default:o=p(t,e,g,!0)}break;default:switch(t.storage()){case"sparse":o=c(e,t,g,!1);break;default:o=d(e,t,g)}}return o},"Array, Array":function(e,t){return g(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return g(s(e),t)},"Matrix, Array":function(e,t){return g(e,s(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=f(e,l(t),u);break;default:n=m(e,t,g)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=f(t,e,g,!0);break;default:n=m(t,e,g,!0)}return n},"Array, any":function(e,t){return m(s(e),t,g,!1).valueOf()},"any, Array":function(e,t){return m(s(t),e,g,!0).valueOf()}});return g.toTex="\\left(${args[0]}"+a.operators.subtract+"${args[1]}\\right)",g}var i=n(37);t.name="subtract",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=e.DenseMatrix,a=function(e,t,n){var a=e._size,u=e._datatype,l=t._size,c=t._datatype;if(a.length!==l.length)throw new i(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var p,h=a[0],f=a[1],d=0,m=n;"string"==typeof u&&u===c&&(p=u,d=r.convert(0,p),m=r.find(n,[p,p]));var g,v,y=[];for(g=0;h>g;g++)y[g]=[];var b=new o({data:y,size:[h,f],datatype:p}),w=[],_=[],x=[],E=[];for(v=0;f>v;v++){var k=v+1;for(s(e,v,x,w,k),s(t,v,E,_,k),g=0;h>g;g++){var C=x[g]===k?w[g]:d,A=E[g]===k?_[g]:d;y[g][v]=m(C,A)}}return b},s=function(e,t,n,r,i){for(var o=e._values,a=e._index,s=e._ptr,u=s[t],l=s[t+1];l>u;u++){var c=a[u];n[c]=i,r[c]=o[u]}};return a}var i=n(37);t.name="algorithm07",t.factory=r},function(e,t,n){"use strict";t.array=n(24),t["boolean"]=n(1142),t["function"]=n(591),t.number=n(8),t.object=n(16),t.string=n(64),t.types=n(260),t.emitter=n(590)},function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e,n){return n=n||"on",n+t.capitalize(e)}function o(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function a(e){if(!o(e))return e;for(var t,n,r=1,i=arguments.length;i>r;r++){t=arguments[r];for(n in t)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,a)}else e[n]=t[n]}return e}function s(e){return"function"==typeof e}function u(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}function l(e){return"object"==typeof e&&"callee"in e&&"number"==typeof e.length}function c(e,t){if(e)throw Error(t||e)}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=r,t.callbackName=i,t.isObject=o,t.extend=a,t.isFunction=s,t.object=u,t.isArguments=l,t.throwIf=c,t.EventEmitter=n(768),t.nextTick=function(e){setTimeout(e,0)}},function(e,t,n){var r=n(14),i=n(268),o=String.prototype.trim;e.exports=function(e,t){return e=r(e),!t&&o?o.call(e):(t=i(t),e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))}},function(e){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=a({},e,{src:o(e)}),n=e.aspect?h:p;return c["default"].renderToStaticMarkup(u["default"].createElement(n,t))}function o(e){var t=e.src,n=t.includes("?")?"&":"?",r=[];return Object.keys(e).forEach(function(t){/^(src|aspect|width|height)$/.test(t)||r.push(t+"="+e[t])}),t+n+r.join("&")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),u=r(s),l=n(262),c=r(l),p=function(e){var t=e.src,n=e.width,r=e.height;return u["default"].createElement("iframe",{src:t,width:n,height:r,frameBorder:"0",allowFullScreen:!0})},h=function(e){var t=e.src,n=e.aspect;return u["default"].createElement("div",{className:"widget-container","data-aspect-ratio":n},u["default"].createElement("div",{className:"widget-content"},u["default"].createElement("iframe",{src:t,width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0})))};t["default"]=i,e.exports=t["default"]},,function(e){"use strict";var t={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},n={getNativeProps:function(e,n){if(!n.disabled)return n;var r={};for(var i in n)!t[i]&&n.hasOwnProperty(i)&&(r[i]=n[i]);return r}};e.exports=n},function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a(!1),!l.plugins[n]){t.extractEvents?void 0:a(!1),l.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)?void 0:a(!1)}}}function i(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){l.registrationNameModules[e]?a(!1):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(2),s=null,u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a(!1):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?a(!1):void 0,u[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=l},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=d++,h[e[g]]={}),h[e[g]]}var i,o=n(7),a=n(32),s=n(93),u=n(396),l=n(212),c=n(421),p=n(132),h={},f=!1,d=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),v=o({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),o=s.registrationNameDependencies[e],u=a.topLevelTypes,l=0;l<o.length;l++){var c=o[l];i.hasOwnProperty(c)&&i[c]||(c===u.topWheel?p("wheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):p("mousewheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?p("scroll",!0)?v.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(p("focus",!0)?(v.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):p("focusin")&&(v.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):m.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,m[c],n),i[c]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!i&&!f){var e=l.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),f=!0}}});e.exports=v},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(74),o=n(212),a=n(130),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)
},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(2),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,u){this.isInTransaction()?r(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,i,o,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};e.exports=o},function(e){"use strict";var t=!1;e.exports=t},function(e){"use strict";function t(e){return r[e]}function n(e){return(""+e).replace(i,t)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;e.exports=n},function(e){"use strict";function t(e){var t=e&&(n&&e[n]||e[r]);return"function"==typeof t?t:void 0}var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(28),p=r(c),h=n(1784),f=r(h),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=(e.type,e.title),n=e.label,r=e.text;if(t||n||r){var i=p["default"].omit(this.props,"title","label","text");return l["default"].createElement(f["default"],this.props,this.renderControl(i))}return this.renderControl(this.props)}},{key:"renderControl",value:function(e){var t=e.type,n=void 0;n="control-group"===t?"control-group":t+"-control control",e.className&&(n+=" "+e.className);var r=p["default"].pick(e,"width","height","margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","color","backgroundColor","boxShadow","opacity","fontFamily","fontSize","fontWeight","fontStyle","lineHeight","textAlign","textTransform");return"inherit"===r.backgroundColor&&(n+=" sync-scene-background",r.backgroundColor=void 0),l["default"].createElement("div",{className:n,style:r},e.children)}}]),t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(t){function n(){var e=$(u).find(".context-menu");if(a.of){var t=a.my,n=a.at;a.of,t=t||"left top",n=n||"right bottom",e.position({my:t,at:n,of:a.of,collision:"fit"})}else{var r=a.top,i=a.left;e.css({position:"absolute",top:r,left:i})}}function i(e){0===$(e.target).closest(s).length&&o()}function o(){a.onClose&&a.onClose(),$("body").off("click",i),r(u),document.body.removeChild(u),v=void 0}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v&&v.dispose();var s=$("<div>").appendTo("body"),u=s.get(0);return setTimeout(function(){$("body").on("click",i)},0),e(h["default"].cloneElement(t,{dispose:o}),u,n),v={render:function(t){e(h["default"].cloneElement(t,{dispose:o}),u)},dispose:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=t.MenuItem=t.MenuGroup=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1),h=i(p),f=n(44),d=i(f),m=n(629),g=(t.MenuGroup=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){return h["default"].createElement("div",l({className:"context-menu-group"},this.props))}}]),t}(h["default"].Component),t.MenuItem=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){if(this.props.divider)return h["default"].createElement("div",{className:"context-menu-item divider"});var e=this.props,t=e.type,n=e.inset,r=e.text,i=e.active,o=e.header;"checkbox"!==t&&"radio"!==t||(n=!0);var a=d["default"]("context-menu-item",this.props.className,{inset:n,active:i,header:o,option:!o});return h["default"].createElement("div",l({},this.props,{className:a}),h["default"].createElement("div",{className:"text-container"},this.renderActiveIcon(),h["default"].createElement("span",{className:"text"},r)),this.renderAside())}},{key:"renderActiveIcon",value:function(){var e=this.props,t=e.type,n=e.active;return!n||"checkbox"!==t&&"radio"!==t?void 0:h["default"].createElement("i",{className:"fa fa-check"})}},{key:"renderAside",value:function(){var e=this.props,t=e.shortcut,n=e.aside,r=e.children;return r?h["default"].createElement("aside",null,h["default"].createElement("i",{className:"fa fa-angle-right"})):t?h["default"].createElement("aside",{className:"shortcut"},t):n?h["default"].createElement("aside",null,n):void 0}}]),t}(h["default"].Component)),v=void(t.Menu=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stack:[]},n}return s(t,e),c(t,[{key:"componentDidUpdate",value:function(){var e=$(".context-menu");e.position({my:"left top",at:"left top",of:e,collision:"fit"})}},{key:"render",value:function(){var e=this.state.stack,t=0===e.length?this:e[e.length-1],n=t.props.children,r=d["default"]("context-menu",this.props.className,{"icons-left":this.props.icons});return n=h["default"].Children.map(n,this.cloneChild.bind(this)),h["default"].createElement(m.VelocityTransitionGroup,{enter:{animation:"fadeIn",duration:300},runOnMount:!0},h["default"].createElement("div",{className:r,onClick:this.handleClick.bind(this)},n))}},{key:"cloneChild",value:function(e){return e?e.type===g?this.cloneMenuItem(e):this.cloneMenuGroup(e):void 0}},{key:"cloneMenuGroup",value:function(e){var t=h["default"].Children.map(e.props.children,this.cloneChild.bind(this));return h["default"].cloneElement(e,void 0,t)}},{key:"cloneMenuItem",value:function(e){var t=this,n=e.props,r=n.onClick,i=n.children,o={onClick:r};return i&&!r&&(o.onClick=function(n){n.stopPropagation(),t.pushStack(e)}),h["default"].cloneElement(e,o)}},{key:"pushStack",value:function(e){var t=this.state.stack.concat(e);this.setState({stack:t})}},{key:"handleClick",value:function(){this.props.dispose()}}]),t}(h["default"].Component));t["default"]=u}).call(t,n(102),n(150))},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return a["default"].render(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(109),a=i(o);e.exports=t["default"]}).call(t,n(102))},function(e){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];e.push(n[2]?"@media "+n[2]+"{"+n[1]+"}":n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e){function t(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(s(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(s(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function n(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function r(e,t){var n=d(),r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function a(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function s(e,t){var n,r,s;if(t.singleton){var p=g++;n=m||(m=o(t)),r=u.bind(null,n,p,!1),s=u.bind(null,n,p,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(t),r=c.bind(null,n),s=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(t),r=l.bind(null,n),s=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else s()}}function u(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function l(e,t){var n=t.css,r=t.media;if(t.sourceMap,r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=(t.media,t.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,v=[];e.exports=function(e,r){r=r||{},"undefined"==typeof r.singleton&&(r.singleton=f()),"undefined"==typeof r.insertAt&&(r.insertAt="bottom");var i=n(e);return t(i,r),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],u=p[s.id];u.refs--,o.push(u)}if(e){var l=n(e);t(l,r)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete p[u.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(35),u=i(s),l=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments[3];o(this,e),this.uuid=u["default"](),this.array=t,this.width=n,this.name=i,this.dynamic=r,this.updateRange={offset:0,count:-1},this.version=0}return a(e,[{key:"getCount",value:function(){return this.array.length/this.width}},{key:"invalidate",value:function(){this.version++}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.width=e.width,this.dynamic=e.dynamic,this}},{key:"copyAt",value:function(e,t,n){e*=this.width,n*=t.width;for(var r=0;r<this.width;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){return r.warn("copyColorsArray deprecated, use copyVec3Array"),this.copyVec3Array(e)}},{key:"copyIndicesArray",value:function(e){return r.warn("copyIndicesArray deprecated, use copyVec3Array"),this.copyVec3Array(e)}},{key:"copyVec2Array",value:function(e){for(var t=this.array,n=0,r=0;r<e.length;r++){var i=e[r];t[n++]=i[0],t[n++]=i[1]}return this}},{key:"copyVec3Array",value:function(e){for(var t=this.array,n=0,r=0;r<e.length;r++){var i=e[r];t[n++]=i[0],t[n++]=i[1],t[n++]=i[2]}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0;r<e.length;r++){var i=e[r];t[n++]=i[0],t[n++]=i[1],t[n++]=i[2],t[n++]=i[3]}return this}},{key:"getX",value:function(e){return this.array[e*this.width]}},{key:"getY",value:function(e){return this.array[e*this.width+1]}},{key:"getZ",value:function(e){return this.array[e*this.width+2]}},{key:"getW",value:function(e){return this.array[e*this.width+3]}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"setX",value:function(e,t){return this.array[e*this.width]=t,this}},{key:"setY",value:function(e,t){return this.array[e*this.width+1]=t,this}},{key:"setZ",value:function(e,t){return this.array[e*this.width+2]=t,this}},{key:"setW",value:function(e,t){return this.array[e*this.width+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.width,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.width,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.width,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"clone",value:function(){return(new e).copy(this)}}]),e}();t["default"]=l,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(47)),u=r(n(84)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=n(12),f=o("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,n){return e>n&&!i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"string, string":function(e,t){return e>t},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,f);break;default:n=s(t,e,f,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,f,!1);break;default:n=c(e,t,f)}}return n},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,f,!1);break;default:n=p(e,t,f,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,f,!0);break;default:n=p(t,e,f,!0)}return n},"Array, any":function(e,t){return p(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,f,!0).valueOf()}});return f.toTex="\\left(${args[0]}"+h.operators.larger+"${args[1]}\\right)",f}var i=n(8).nearlyEqual;t.name="larger",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=e.DenseMatrix,a=function(e,t,n,a){var s=e._data,u=e._size,l=e._datatype,c=t._values,p=t._index,h=t._ptr,f=t._size,d=t._datatype;if(u.length!==f.length)throw new i(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g,v=u[0],y=u[1],b="string"==typeof l&&l===d?l:void 0,w=b?r.find(n,[b,b]):n,_=[];for(m=0;v>m;m++)_[m]=[];var x=[],E=[];for(g=0;y>g;g++){for(var k=g+1,C=h[g],A=h[g+1],S=C;A>S;S++)m=p[S],x[m]=a?w(c[S],s[m][g]):w(s[m][g],c[S]),E[m]=k;for(m=0;v>m;m++)_[m][g]=E[m]===k?x[m]:s[m][g]}return new o({data:_,size:[v,y],datatype:b})};return a}var i=n(37);t.name="algorithm01",t.factory=r},function(e,t,n){function r(e){return e[0].precision}var i=n(591).memoize,o=n(584);t.e=i(function(e){return new e(1).exp()},r),t.phi=i(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},r),t.pi=i(function(e){var t=e.constructor({precision:e.precision+4}),n=new t(4).times(o(new t(1).div(5))).minus(o(new t(1).div(239)));return new e(4).times(n)},r),t.tau=i(function(e){var n=t.pi(e.constructor({precision:e.precision+2}));return new e(2).times(n)},r)},function(e,t,n){"use strict";e.exports=n(381)},function(e){"use strict";function t(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function n(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r=e.substring("."===e[0]&&"$"===e[1]?2:1);return(""+r).replace(t,function(e){return n[e]})}var r={escape:t,unescape:n};e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function i(e,t,n,o){var h=typeof e;if("undefined"!==h&&"boolean"!==h||(e=null),null===e||"string"===h||"number"===h||a.isValidElement(e))return n(o,e,""===t?c+r(e,0):t),1;var f,d,m=0,g=""===t?c:t+p;if(Array.isArray(e))for(var v=0;v<e.length;v++)f=e[v],d=g+r(f,v),m+=i(f,d,n,o);else{var y=s(e);if(y){var b,w=y.call(e);if(y!==e.entries)for(var _=0;!(b=w.next()).done;)f=b.value,d=g+r(f,_++),m+=i(f,d,n,o);else for(;!(b=w.next()).done;){var x=b.value;x&&(f=x[1],d=g+l.escape(x[0])+p+r(f,0),m+=i(f,d,n,o))}}else"object"===h&&(String(e),u(!1))}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=(n(33),n(17)),s=n(99),u=n(2),l=n(110),c=(n(4),"."),p=":";e.exports=o},,function(e){var t=Array.isArray;e.exports=t},function(e){"use strict";e.exports="15.1.0"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=r(o),s=function u(e,t,n){i(this,u),this.uuid=a["default"](),this.data=e,this.width=t,this.offset=n};t["default"]=s,e.exports=t["default"]},function(e,t,n){var r,i;(function(e,n){(function(){var o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,_,x,E,k,C,A,S,M,T,D,O,L,F,P,N,B,R,j,I,$,z,U,V,Y,W,H,q,G,K,J,X,Z,Q,et,tt,nt,rt,it,ot,at,st,ut,lt,ct,pt,ht,ft,dt,mt,gt,vt,yt,bt,wt,_t,xt,Et,kt,Ct,At,St,Mt,Tt=[].slice;kt=function(){var e,t,n,r,i;for(e={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,t=i.length;t>r;r++)n=i[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),K=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),t>e&&(e=t),e>n&&(e=n),e},Ct=function(e){return e.length>=3?[].slice.call(e):e[0]},k=function(e){var t;for(t in e)3>t?(e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e},u=Math.PI,bt=Math.round,S=Math.cos,L=Math.floor,it=Math.pow,J=Math.log,_t=Math.sin,xt=Math.sqrt,v=Math.atan2,Q=Math.max,g=Math.abs,p=2*u,l=u/3,a=u/180,c=180/u,E=function(){return arguments[0]instanceof o?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,arguments,function(){})},m=[],"undefined"!=typeof e&&null!==e&&null!=e.exports&&(e.exports=E),r=[],i=function(){return E}.apply(t,r),!(void 0!==i&&(e.exports=i)),E.version="1.1.1",d={},h=[],f=!1,o=function(){function e(){var e,t,r,i,o,a,s,u,l;for(a=this,t=[],u=0,i=arguments.length;i>u;u++)e=arguments[u],null!=e&&t.push(e);if(s=t[t.length-1],null!=d[s])a._rgb=k(d[s](Ct(t.slice(0,-1))));else{for(f||(h=h.sort(function(e,t){return t.p-e.p}),f=!0),l=0,o=h.length;o>l&&(r=h[l],!(s=r.test.apply(r,t)));l++);s&&(a._rgb=k(d[s].apply(d,t)))}null==a._rgb&&n.warn("unknown format: "+t),null==a._rgb&&(a._rgb=[0,0,0]),3===a._rgb.length&&a._rgb.push(1)}return e.prototype.alpha=function(e){return arguments.length?(this._rgb[3]=e,this):this._rgb[3]},e.prototype.toString=function(){return this.name()},e}(),E._input=d,E.brewer=_={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},At={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},E.colors=A=At,Y=function(){var e,t,n,r,i,o,a,u,l;return t=Ct(arguments),i=t[0],e=t[1],n=t[2],u=(i+16)/116,a=isNaN(e)?u:u+e/500,l=isNaN(n)?u:u-n/200,u=s.Yn*W(u),a=s.Xn*W(a),l=s.Zn*W(l),o=Mt(3.2404542*a-1.5371385*u-.4985314*l),r=Mt(-.969266*a+1.8760108*u+.041556*l),n=Mt(.0556434*a-.2040259*u+1.0572252*l),o=K(o,0,255),r=K(r,0,255),n=K(n,0,255),[o,r,n,t.length>3?t[3]:1]},Mt=function(e){return bt(255*(.00304>=e?12.92*e:1.055*it(e,1/2.4)-.055))},W=function(e){return e>s.t1?e*e*e:s.t2*(e-s.t0)},s={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},pt=function(){var e,t,n,r,i,o,a,s;return r=Ct(arguments),n=r[0],t=r[1],e=r[2],i=gt(n,t,e),o=i[0],a=i[1],s=i[2],[116*a-16,500*(o-a),200*(a-s)]},vt=function(e){return(e/=255)<=.04045?e/12.92:it((e+.055)/1.055,2.4)},St=function(e){return e>s.t3?it(e,1/3):e/s.t2+s.t0},gt=function(){var e,t,n,r,i,o,a;return r=Ct(arguments),n=r[0],t=r[1],e=r[2],n=vt(n),t=vt(t),e=vt(e),i=St((.4124564*n+.3575761*t+.1804375*e)/s.Xn),o=St((.2126729*n+.7151522*t+.072175*e)/s.Yn),a=St((.0193339*n+.119192*t+.9503041*e)/s.Zn),[i,o,a]},E.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["lab"]),function(){})},d.lab=Y,o.prototype.lab=function(){return pt(this._rgb)},y=function(e){var t,n,r,i,o,a,s,u,l,c,p;return e=function(){var t,n,r;for(r=[],n=0,t=e.length;t>n;n++)i=e[n],r.push(E(i));return r}(),2===e.length?(l=function(){var t,n,r;for(r=[],n=0,t=e.length;t>n;n++)i=e[n],r.push(i.lab());return r}(),o=l[0],a=l[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push(o[t]+e*(a[t]-o[t]));return r}(),E.lab.apply(E,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;t>n;n++)i=e[n],r.push(i.lab());return r}(),o=c[0],a=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push((1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]);return r}(),E.lab.apply(E,n)}):4===e.length?(p=function(){var t,n,r;for(r=[],n=0,t=e.length;t>n;n++)i=e[n],r.push(i.lab());return r}(),o=p[0],a=p[1],s=p[2],u=p[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*u[t]);return r}(),E.lab.apply(E,n)}):5===e.length&&(n=y(e.slice(0,3)),r=y(e.slice(2,5)),t=function(e){return.5>e?n(2*e):r(2*(e-.5))}),t},E.bezier=function(e){var t;return t=y(e),t.scale=function(){return E.scale(t)},t},E.cubehelix=function(e,t,n,r,i){var o,a,s;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),a=i[1]-i[0],o=0,s=function(s){var u,l,c,h,f,d,m,g,v;return u=p*((e+120)/360+t*s),m=it(i[0]+a*s,r),d=0!==o?n[0]+s*o:n,l=d*m*(1-m)/2,h=S(u),v=_t(u),g=m+l*(-.14861*h+1.78277*v),f=m+l*(-.29227*h-.90649*v),c=m+1.97294*l*h,E(k([255*g,255*f,255*c]))},s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:(n=e,"array"===kt(n)?(o=n[1]-n[0],0===o&&(n=n[1])):o=0,s)},s.lightness=function(e){return null==e?i:(i=e,"array"===kt(i)?(a=i[1]-i[0],0===a&&(i=i[1])):a=0,s)},s.scale=function(){return E.scale(s)},s.hue(n),s},E.random=function(){var e,t,n,r;for(t="0123456789abcdef",e="#",n=r=0;6>r;n=++r)e+=t.charAt(L(16*Math.random()));return new o(e)},d.rgb=function(){var e,t,n,r;t=Ct(arguments),n=[];for(e in t)r=t[e],n.push(r);return n},E.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["rgb"]),function(){})},o.prototype.rgb=function(){return this._rgb.slice(0,3)},o.prototype.rgba=function(){return this._rgb},h.push({p:15,test:function(){var e;return e=Ct(arguments),"array"===kt(e)&&3===e.length?"rgb":4===e.length&&"number"===kt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),F=function(e){var t,n,r,i,o,a;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),a=parseInt(e,16),i=a>>16,r=a>>8&255,n=255&a,[i,r,n,1];
if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),a=parseInt(e,16),i=a>>24&255,r=a>>16&255,n=a>>8&255,t=bt((255&a)/255*100)/100,[i,r,n,t];if(null!=d.css&&(o=d.css(e)))return o;throw"unknown color: "+e},st=function(e,t){var n,r,i,o,a,s,u;return null==t&&(t="rgb"),a=e[0],i=e[1],r=e[2],n=e[3],u=a<<16|i<<8|r,s="000000"+u.toString(16),s=s.substr(s.length-6),o="0"+bt(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},d.hex=function(e){return F(e)},E.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["hex"]),function(){})},o.prototype.hex=function(e){return null==e&&(e="rgb"),st(this._rgb,e)},h.push({p:10,test:function(e){return 1===arguments.length&&"string"===kt(e)?"hex":void 0}}),B=function(){var e,t,n,r,i,o,a,s,u,l,c,p,h,f;if(e=Ct(arguments),i=e[0],c=e[1],a=e[2],0===c)u=r=t=255*a;else{for(f=[0,0,0],n=[0,0,0],h=.5>a?a*(1+c):a+c-a*c,p=2*a-h,i/=360,f[0]=i+1/3,f[1]=i,f[2]=i-1/3,o=s=0;2>=s;o=++s)f[o]<0&&(f[o]+=1),f[o]>1&&(f[o]-=1),n[o]=6*f[o]<1?p+6*(h-p)*f[o]:2*f[o]<1?h:3*f[o]<2?p+(h-p)*(2/3-f[o])*6:p;l=[bt(255*n[0]),bt(255*n[1]),bt(255*n[2])],u=l[0],r=l[1],t=l[2]}return e.length>3?[u,r,t,e[3]]:[u,r,t]},lt=function(e,t,n){var r,i,o,a,s;return void 0!==e&&e.length>=3&&(a=e,e=a[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),Q=Math.max(e,t,n),i=(Q+o)/2,Q===o?(s=0,r=Number.NaN):s=.5>i?(Q-o)/(Q+o):(Q-o)/(2-Q-o),e===Q?r=(t-n)/(Q-o):t===Q?r=2+(n-e)/(Q-o):n===Q&&(r=4+(e-t)/(Q-o)),r*=60,0>r&&(r+=360),[r,s,i]},E.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["hsl"]),function(){})},d.hsl=B,o.prototype.hsl=function(){return lt(this._rgb)},R=function(){var e,t,n,r,i,o,a,s,u,l,c,p,h,f,d,m,g,v;if(e=Ct(arguments),i=e[0],m=e[1],v=e[2],v*=255,0===m)u=r=t=v;else switch(360===i&&(i=0),i>360&&(i-=360),0>i&&(i+=360),i/=60,o=L(i),n=i-o,a=v*(1-m),s=v*(1-m*n),g=v*(1-m*(1-n)),o){case 0:l=[v,g,a],u=l[0],r=l[1],t=l[2];break;case 1:c=[s,v,a],u=c[0],r=c[1],t=c[2];break;case 2:p=[a,v,g],u=p[0],r=p[1],t=p[2];break;case 3:h=[a,s,v],u=h[0],r=h[1],t=h[2];break;case 4:f=[g,a,v],u=f[0],r=f[1],t=f[2];break;case 5:d=[v,a,s],u=d[0],r=d[1],t=d[2]}return u=bt(u),r=bt(r),t=bt(t),[u,r,t,e.length>3?e[3]:1]},ct=function(){var e,t,n,r,i,o,a,s,u;return a=Ct(arguments),o=a[0],n=a[1],e=a[2],i=Math.min(o,n,e),Q=Math.max(o,n,e),t=Q-i,u=Q/255,0===Q?(r=Number.NaN,s=0):(s=t/Q,o===Q&&(r=(n-e)/t),n===Q&&(r=2+(e-o)/t),e===Q&&(r=4+(o-n)/t),r*=60,0>r&&(r+=360)),[r,s,u]},E.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["hsv"]),function(){})},d.hsv=R,o.prototype.hsv=function(){return ct(this._rgb)},nt=function(e){var t,r,i;return"number"===kt(e)&&e>=0&&16777215>=e?(i=e>>16,r=e>>8&255,t=255&e,[i,r,t,1]):(n.warn("unknown num color: "+e),[0,0,0,1])},dt=function(){var e,t,n,r;return r=Ct(arguments),n=r[0],t=r[1],e=r[2],(n<<16)+(t<<8)+e},E.num=function(e){return new o(e,"num")},o.prototype.num=function(e){return null==e&&(e="rgb"),dt(this._rgb,e)},d.num=nt,h.push({p:10,test:function(e){return 1===arguments.length&&"number"===kt(e)&&e>=0&&16777215>=e?"num":void 0}}),M=function(e){var t,n,r,i,o,a,s,u;if(e=e.toLowerCase(),null!=E.colors&&E.colors[e])return F(E.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),i=a=0;2>=a;i=++a)s[i]=+s[i];s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),i=u=0;3>=u;i=++u)s[i]=+s[i];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),i=t=0;2>=t;i=++t)s[i]=bt(2.55*s[i]);s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),i=n=0;2>=n;i=++n)s[i]=bt(2.55*s[i]);s[3]=+s[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=B(r),s[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=B(r),s[3]=+o[4]);return s},at=function(e){var t;return t=e[3]<1?"rgba":"rgb","rgb"===t?t+"("+e.slice(0,3).map(bt).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(bt).join(",")+","+e[3]+")":void 0},yt=function(e){return bt(100*e)/100},N=function(e,t){var n;return n=1>t?"hsla":"hsl",e[0]=yt(e[0]||0),e[1]=yt(100*e[1])+"%",e[2]=yt(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},d.css=function(e){return M(e)},E.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["css"]),function(){})},o.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?at(this._rgb):"hsl"===e.slice(0,3)?N(this.hsl(),this.alpha()):void 0},d.named=function(e){return F(At[e])},h.push({p:20,test:function(e){return 1===arguments.length&&null!=At[e]?"named":void 0}}),o.prototype.name=function(e){var t,n;arguments.length&&(At[e]&&(this._rgb=F(At[e])),this._rgb[3]=1),t=this.hex();for(n in At)if(t===At[n])return n;return t},H=function(){var e,t,n,r;return r=Ct(arguments),n=r[0],e=r[1],t=r[2],t*=a,[n,S(t)*e,_t(t)*e]},q=function(){var e,t,n,r,i,o,a,s,u,l,c;return n=Ct(arguments),s=n[0],i=n[1],a=n[2],l=H(s,i,a),e=l[0],t=l[1],r=l[2],c=Y(e,t,r),u=c[0],o=c[1],r=c[2],[K(u,0,255),K(o,0,255),K(r,0,255),n.length>3?n[3]:1]},V=function(){var e,t,n,r,i,o;return o=Ct(arguments),i=o[0],e=o[1],t=o[2],n=xt(e*e+t*t),r=(v(t,e)*c+360)%360,0===bt(1e4*n)&&(r=Number.NaN),[i,n,r]},ht=function(){var e,t,n,r,i,o,a;return o=Ct(arguments),i=o[0],n=o[1],t=o[2],a=pt(i,n,t),r=a[0],e=a[1],t=a[2],V(r,e,t)},E.lch=function(){var e;return e=Ct(arguments),new o(e,"lch")},E.hcl=function(){var e;return e=Ct(arguments),new o(e,"hcl")},d.lch=q,d.hcl=function(){var e,t,n,r;return r=Ct(arguments),t=r[0],e=r[1],n=r[2],q([n,e,t])},o.prototype.lch=function(){return ht(this._rgb)},o.prototype.hcl=function(){return ht(this._rgb).reverse()},ot=function(e){var t,n,r,i,o,a,s,u,l;return null==e&&(e="rgb"),u=Ct(arguments),s=u[0],i=u[1],t=u[2],s/=255,i/=255,t/=255,o=1-Math.max(s,Math.max(i,t)),r=1>o?1/(1-o):0,n=(1-s-o)*r,a=(1-i-o)*r,l=(1-t-o)*r,[n,a,l,o]},C=function(){var e,t,n,r,i,o,a,s,u;return t=Ct(arguments),r=t[0],a=t[1],u=t[2],o=t[3],e=t.length>4?t[4]:1,1===o?[0,0,0,e]:(s=r>=1?0:bt(255*(1-r)*(1-o)),i=a>=1?0:bt(255*(1-a)*(1-o)),n=u>=1?0:bt(255*(1-u)*(1-o)),[s,i,n,e])},d.cmyk=function(){return C(Ct(arguments))},E.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["cmyk"]),function(){})},o.prototype.cmyk=function(){return ot(this._rgb)},d.gl=function(){var e,t,n,r,i;for(r=function(){var e,n;e=Ct(arguments),n=[];for(t in e)i=e[t],n.push(i);return n}.apply(this,arguments),e=n=0;2>=n;e=++n)r[e]*=255;return r},E.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["gl"]),function(){})},o.prototype.gl=function(){var e;return e=this._rgb,[e[0]/255,e[1]/255,e[2]/255,e[3]]},ft=function(e,t,n){var r;return r=Ct(arguments),e=r[0],t=r[1],n=r[2],e=X(e),t=X(t),n=X(n),.2126*e+.7152*t+.0722*n},X=function(e){return e/=255,.03928>=e?e/12.92:it((e+.055)/1.055,2.4)},m=[],j=function(e,t,n,r){var i,o,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==kt(e)&&(e=E(e)),"object"!==kt(t)&&(t=E(t)),a=0,o=m.length;o>a;a++)if(i=m[a],r===i[0]){s=i[1](e,t,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha())),s},E.interpolate=j,o.prototype.interpolate=function(e,t,n){return j(this,e,t,n)},E.mix=j,o.prototype.mix=o.prototype.interpolate,U=function(e,t,n,r){var i,a;return i=e._rgb,a=t._rgb,new o(i[0]+n*(a[0]-i[0]),i[1]+n*(a[1]-i[1]),i[2]+n*(a[2]-i[2]),r)},m.push(["rgb",U]),o.prototype.luminance=function(e,t){var n,r,i,o;return null==t&&(t="rgb"),arguments.length?(0===e?this._rgb=[0,0,0,this._rgb[3]]:1===e?this._rgb=[255,255,255,this._rgb[3]]:(r=1e-7,i=20,o=function(n,a){var s,u;return u=n.interpolate(a,.5,t),s=u.luminance(),Math.abs(e-s)<r||!i--?u:s>e?o(n,u):o(u,a)},n=ft(this._rgb),this._rgb=(n>e?o(E("black"),this):o(this,E("white"))).rgba()),this):ft(this._rgb)},Et=function(e){var t,n,r,i;return i=e/100,66>i?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*J(n),t=20>i?0:-254.76935184120902+.8274096064007395*(t=i-10)+115.67994401066147*J(t)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*J(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*J(n),t=255),k([r,n,t])},mt=function(){var e,t,n,r,i,o,a,s,u;for(a=Ct(arguments),o=a[0],n=a[1],e=a[2],i=1e3,r=4e4,t=.4;r-i>t;)u=.5*(r+i),s=Et(u),s[2]/s[0]>=e/o?r=u:i=u;return bt(u)},E.temperature=E.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["temperature"]),function(){})},d.temperature=d.kelvin=d.K=Et,o.prototype.temperature=function(){return mt(this._rgb)},o.prototype.kelvin=o.prototype.temperature,E.contrast=function(e,t){var n,r,i,a;return"string"!==(i=kt(e))&&"number"!==i||(e=new o(e)),"string"!==(a=kt(t))&&"number"!==a||(t=new o(t)),n=e.luminance(),r=t.luminance(),n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},o.prototype.get=function(e){var t,r,i,o,a,s;return i=this,a=e.split("."),o=a[0],t=a[1],s=i[o](),t?(r=o.indexOf(t),r>-1?s[r]:n.warn("unknown channel "+t+" in mode "+o)):s},o.prototype.set=function(e,t){var r,i,o,a,s,u;if(o=this,s=e.split("."),a=s[0],r=s[1])if(u=o[a](),i=a.indexOf(r),i>-1)if("string"===kt(t))switch(t.charAt(0)){case"+":u[i]+=+t;break;case"-":u[i]+=+t;break;case"*":u[i]*=+t.substr(1);break;case"/":u[i]/=+t.substr(1);break;default:u[i]=+t}else u[i]=t;else n.warn("unknown channel "+r+" in mode "+a);else u=t;return o._rgb=E(u,a).alpha(o.alpha())._rgb,o},o.prototype.darken=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lab(),t[0]-=s.Kn*e,E.lab(t).alpha(n.alpha())},o.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},o.prototype.darker=o.prototype.darken,o.prototype.brighter=o.prototype.brighten,o.prototype.saturate=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lch(),t[1]+=e*s.Kn,t[1]<0&&(t[1]=0),E.lch(t).alpha(n.alpha())},o.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},o.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),E(t[0]*e,t[1]*e,t[2]*e,e)},b=function(e,t,n){if(!b[n])throw"unknown blend mode "+n;return b[n](e,t)},w=function(e){return function(t,n){var r,i;return r=E(n).rgb(),i=E(t).rgb(),E(e(r,i),"rgb")}},O=function(e){return function(t,n){var r,i,o;for(o=[],r=i=0;3>=i;r=++i)o[r]=e(t[r],n[r]);return o}},tt=function(e){return e},et=function(e,t){return e*t/255},T=function(e,t){return e>t?t:e},G=function(e,t){return e>t?e:t},wt=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},rt=function(e,t){return 128>t?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},x=function(e,t){return 255*(1-(1-t/255)/(e/255))},D=function(e,t){return 255===e?255:(e=255*(t/255)/(1-e/255),e>255?255:e)},b.normal=w(O(tt)),b.multiply=w(O(et)),b.screen=w(O(wt)),b.overlay=w(O(rt)),b.darken=w(O(T)),b.lighten=w(O(G)),b.dodge=w(O(D)),b.burn=w(O(x)),E.blend=b,E.analyze=function(e){var t,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;t>n;n++)i=e[n],null==i||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return E.limits(r,e,t)},r},E.scale=function(e){var t,n,r,i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,_;return l="rgb",c=E("#ccc"),d=0,a=!1,o=[0,1],f=[],h=[0,0],t=!1,r=[],p=!1,u=0,s=1,i=!1,n={},w=function(e){var t,n,i,o,a,s,u;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===kt(e)&&null!=(null!=(o=E.brewer)?o[e]:void 0)&&(e=E.brewer[e]),"array"===kt(e)){for(e=e.slice(0),t=i=0,a=e.length-1;a>=0?a>=i:i>=a;t=a>=0?++i:--i)n=e[t],"string"===kt(n)&&(e[t]=E(n));for(f.length=0,t=u=0,s=e.length-1;s>=0?s>=u:u>=s;t=s>=0?++u:--u)f.push(t/(e.length-1))}return b(),r=e},v=function(e){var n,r;if(null!=t){for(r=t.length-1,n=0;r>n&&e>=t[n];)n++;return n-1}return 0},_=function(e){return e},m=function(e){var n,r,i,o,a;return a=e,t.length>2&&(o=t.length-1,n=v(e),i=t[0]+(t[1]-t[0])*(0+.5*d),r=t[o-1]+(t[o]-t[o-1])*(1-.5*d),a=u+(t[n]+.5*(t[n+1]-t[n])-i)/(r-i)*(s-u)),a},y=function(e,i){var o,a,p,d,m,g,y,b;if(null==i&&(i=!1),isNaN(e))return c;if(i?b=e:t&&t.length>2?(o=v(e),b=o/(t.length-2),b=h[0]+b*(1-h[0]-h[1])):s!==u?(b=(e-u)/(s-u),b=h[0]+b*(1-h[0]-h[1]),b=Math.min(1,Math.max(0,b))):b=1,i||(b=_(b)),d=Math.floor(1e4*b),n[d])a=n[d];else{if("array"===kt(r))for(p=m=0,y=f.length-1;y>=0?y>=m:m>=y;p=y>=0?++m:--m){if(g=f[p],g>=b){a=r[p];break}if(b>=g&&p===f.length-1){a=r[p];break}if(b>g&&b<f[p+1]){b=(b-g)/(f[p+1]-g),a=E.interpolate(r[p],r[p+1],b,l);break}}else"function"===kt(r)&&(a=r(b));n[d]=a}return a},b=function(){return n={}},w(e),g=function(e){var t;return t=E(y(e)),p&&t[p]?t[p]():t},g.classes=function(e){var n;return null!=e?("array"===kt(e)?(t=e,o=[e[0],e[e.length-1]]):(n=E.analyze(o),t=0===e?[n.min,n.max]:E.limits(n,"e",e)),g):t},g.domain=function(e){var t,n,i,a,l,c,p;if(!arguments.length)return o;if(u=e[0],s=e[e.length-1],f=[],i=r.length,e.length===i&&u!==s)for(l=0,a=e.length;a>l;l++)n=e[l],f.push((n-u)/(s-u));else for(t=p=0,c=i-1;c>=0?c>=p:p>=c;t=c>=0?++p:--p)f.push(t/(i-1));return o=[u,s],g},g.mode=function(e){return arguments.length?(l=e,b(),g):l},g.range=function(e,t){return w(e,t),g},g.out=function(e){return p=e,g},g.spread=function(e){return arguments.length?(d=e,g):d},g.correctLightness=function(e){return null==e&&(e=!0),i=e,b(),_=i?function(e){var t,n,r,i,o,a,s,u,l;for(t=y(0,!0).lab()[0],n=y(1,!0).lab()[0],s=t>n,r=y(e,!0).lab()[0],o=t+(n-t)*e,i=r-o,u=0,l=1,a=20;Math.abs(i)>.01&&a-->0;)!function(){return s&&(i*=-1),0>i?(u=e,e+=.5*(l-e)):(l=e,e+=.5*(u-e)),r=y(e,!0).lab()[0],i=r-o}();return e}:function(e){return e},g},g.padding=function(e){return null!=e?("number"===kt(e)&&(e=[e,e]),h=e,g):h},g.colors=function(){var n,r,i,a,s,u,l,c,p;if(a=0,s="hex",1===arguments.length&&("string"===kt(arguments[0])?s=arguments[0]:a=arguments[0]),2===arguments.length&&(a=arguments[0],s=arguments[1]),a)return r=o[0],n=o[1]-r,function(){l=[];for(var e=0;a>=0?a>e:e>a;a>=0?e++:e--)l.push(e);return l}.apply(this).map(function(e){return g(r+e/(a-1)*n)[s]()});if(e=[],c=[],t&&t.length>2)for(i=p=1,u=t.length;u>=1?u>p:p>u;i=u>=1?++p:--p)c.push(.5*(t[i-1]+t[i]));else c=o;return c.map(function(e){return g(e)[s]()})},g},null==E.scales&&(E.scales={}),E.scales.cool=function(){return E.scale([E.hsl(180,1,.9),E.hsl(250,.7,.4)])},E.scales.hot=function(){return E.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},E.analyze=function(e,t,n){var r,i,o,a,s,u,l;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},l=function(e,i){return n(e,i)?r(null!=t&&"function"===kt(t)?t(e):null!=t&&"string"===kt(t)||"number"===kt(t)?e[t]:e):void 0},"array"===kt(e))for(a=0,o=e.length;o>a;a++)u=e[a],l(u);else for(i in e)u=e[i],l(u,i);return s.domain=[s.min,s.max],s.limits=function(e,t){return E.limits(s,e,t)},s},E.limits=function(e,t,n){var r,i,o,a,s,u,l,c,p,h,f,d,m,v,y,b,w,_,x,k,C,A,S,M,T,D,O,F,P,N,B,R,j,I,$,z,U,V,Y,W,H,q,G,K,X,Z,et,tt,nt,rt,ot,at,st,ut,lt;if(null==t&&(t="equal"),null==n&&(n=7),"array"===kt(e)&&(e=E.analyze(e)),T=e.min,Q=e.max,ot=e.sum,ut=e.values.sort(function(e,t){return e-t}),S=[],"c"===t.substr(0,1)&&(S.push(T),S.push(Q)),"e"===t.substr(0,1)){for(S.push(T),k=B=1,$=n-1;$>=1?$>=B:B>=$;k=$>=1?++B:--B)S.push(T+k/n*(Q-T));S.push(Q)}else if("l"===t.substr(0,1)){if(0>=T)throw"Logarithmic scales are only possible for values > 0";for(D=Math.LOG10E*J(T),M=Math.LOG10E*J(Q),S.push(T),k=lt=1,z=n-1;z>=1?z>=lt:lt>=z;k=z>=1?++lt:--lt)S.push(it(10,D+k/n*(M-D)));S.push(Q)}else if("q"===t.substr(0,1)){for(S.push(T),k=r=1,q=n-1;q>=1?q>=r:r>=q;k=q>=1?++r:--r)R=ut.length*k/n,j=L(R),j===R?S.push(ut[j]):(I=R-j,S.push(ut[j]*I+ut[j+1]*(1-I)));S.push(Q)}else if("k"===t.substr(0,1)){for(F=ut.length,v=new Array(F),_=new Array(n),rt=!0,P=0,b=null,b=[],b.push(T),k=i=1,G=n-1;G>=1?G>=i:i>=G;k=G>=1?++i:--i)b.push(T+k/n*(Q-T));for(b.push(Q);rt;){for(C=o=0,K=n-1;K>=0?K>=o:o>=K;C=K>=0?++o:--o)_[C]=0;for(k=a=0,X=F-1;X>=0?X>=a:a>=X;k=X>=0?++a:--a){for(st=ut[k],O=Number.MAX_VALUE,C=s=0,Z=n-1;Z>=0?Z>=s:s>=Z;C=Z>=0?++s:--s)x=g(b[C]-st),O>x&&(O=x,y=C);_[y]++,v[k]=y}for(N=new Array(n),C=u=0,et=n-1;et>=0?et>=u:u>=et;C=et>=0?++u:--u)N[C]=null;for(k=l=0,tt=F-1;tt>=0?tt>=l:l>=tt;k=tt>=0?++l:--l)w=v[k],null===N[w]?N[w]=ut[k]:N[w]+=ut[k];for(C=c=0,nt=n-1;nt>=0?nt>=c:c>=nt;C=nt>=0?++c:--c)N[C]*=1/_[C];for(rt=!1,C=p=0,U=n-1;U>=0?U>=p:p>=U;C=U>=0?++p:--p)if(N[C]!==b[k]){rt=!0;break}b=N,P++,P>200&&(rt=!1)}for(A={},C=h=0,V=n-1;V>=0?V>=h:h>=V;C=V>=0?++h:--h)A[C]=[];for(k=f=0,Y=F-1;Y>=0?Y>=f:f>=Y;k=Y>=0?++f:--f)w=v[k],A[w].push(ut[k]);for(at=[],C=d=0,W=n-1;W>=0?W>=d:d>=W;C=W>=0?++d:--d)at.push(A[C][0]),at.push(A[C][A[C].length-1]);for(at=at.sort(function(e,t){return e-t}),S.push(at[0]),k=m=1,H=at.length-1;H>=m;k=m+=2)isNaN(at[k])||S.push(at[k])}return S},P=function(e,t,n){var r,i,o,a;return r=Ct(arguments),e=r[0],t=r[1],n=r[2],e/=360,1/3>e?(i=(1-t)/3,a=(1+t*S(p*e)/S(l-p*e))/3,o=1-(i+a)):2/3>e?(e-=1/3,a=(1-t)/3,o=(1+t*S(p*e)/S(l-p*e))/3,i=1-(a+o)):(e-=2/3,o=(1-t)/3,i=(1+t*S(p*e)/S(l-p*e))/3,a=1-(o+i)),a=K(n*a*3),o=K(n*o*3),i=K(n*i*3),[255*a,255*o,255*i,r.length>3?r[3]:1]},ut=function(){var e,t,n,r,i,o,a,s;return a=Ct(arguments),o=a[0],t=a[1],e=a[2],p=2*Math.PI,o/=255,t/=255,e/=255,i=Math.min(o,t,e),r=(o+t+e)/3,s=1-i/r,0===s?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=p-n),n/=p),[360*n,s,r]},E.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(o,Tt.call(arguments).concat(["hsi"]),function(){})},d.hsi=P,o.prototype.hsi=function(){return ut(this._rgb)},I=function(e,t,n,r){var i,o,a,s,u,l,c,p,h,f,d,m,g;return"hsl"===r?(m=e.hsl(),g=t.hsl()):"hsv"===r?(m=e.hsv(),g=t.hsv()):"hsi"===r?(m=e.hsi(),g=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",m=e.hcl(),g=t.hcl()),"h"===r.substr(0,1)&&(a=m[0],f=m[1],l=m[2],s=g[0],d=g[1],c=g[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,1!==l&&0!==l||"hsv"===r||(h=d)):(o=a,1!==c&&0!==c||"hsv"===r||(h=f)):(i=s>a&&s-a>180?s-(a+360):a>s&&a-s>180?s+360-a:s-a,o=a+n*i),null==h&&(h=f+n*(d-f)),u=l+n*(c-l),p=E[r](o,h,u)},m=m.concat(function(){var e,t,n,r;for(n=["hsv","hsl","hsi","hcl","lch"],r=[],t=0,e=n.length;e>t;t++)Z=n[t],r.push([Z,I]);return r}()),z=function(e,t,n){var r,i;return r=e.num(),i=t.num(),E.num(r+(i-r)*n,"num")},m.push(["num",z]),$=function(e,t,n,r){var i,a,s;return a=e.lab(),s=t.lab(),i=new o(a[0]+n*(s[0]-a[0]),a[1]+n*(s[1]-a[1]),a[2]+n*(s[2]-a[2]),r)},m.push(["lab",$])}).call(this)}).call(t,n(66)(e),n(3))},,function(e,t,n){(function(e,r){var i=n(780),o={"function":!0,object:!0},a=o[typeof t]&&t&&!t.nodeType?t:void 0,s=o[typeof e]&&e&&!e.nodeType?e:void 0,u=i(a&&s&&"object"==typeof r&&r),l=i(o[typeof self]&&self),c=i(o[typeof window]&&window),p=i(o[typeof this]&&this),h=u||c!==(p&&p.window)&&c||l||p||Function("return this")();e.exports=h}).call(t,n(66)(e),function(){return this}())},function(e,t){"use strict";function n(e,t,n,r){var i=e.DenseMatrix,o=function(e,t,n,o){var a=e._values,s=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=l[0],f=l[1],d=n;"string"==typeof c&&(p=c,t=r.convert(t,p),d=r.find(n,[p,p]));for(var m=[],g=new i({data:m,size:[h,f],datatype:p}),v=[],y=[],b=0;f>b;b++){for(var w=b+1,_=u[b],x=u[b+1],E=_;x>E;E++){var k=s[E];v[k]=a[E],y[k]=w}for(var C=0;h>C;C++)0===b&&(m[C]=[]),m[C][b]=y[C]===w?o?d(t,v[C]):d(v[C],t):t}return g};return o}t.name="algorithm10",t.factory=n},function(e){"use strict";e.exports=function t(e,n){e&&e.isMatrix===!0&&(e=e.valueOf());for(var r=0,i=e.length;i>r;r++){var o=e[r];Array.isArray(o)?t(o,n):n(o)}}},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){c.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):g(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(g(e,i,r),i===n)break;i=o}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&g(r,document.createTextNode(n),i):n?(m(i,n),u(r,i,t)):u(r,e,t)}var c=n(56),p=n(374),h=n(208),f=(n(11),n(20),n(128)),d=n(133),m=n(218),g=f(function(e,t,n){e.insertBefore(t,n)}),v=p.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case h.INSERT_MARKUP:i(e,s.content,r(e,s.afterNode));break;case h.MOVE_EXISTING:o(e,s.fromNode,r(e,s.afterNode));break;case h.SET_MARKUP:d(e,s.content);break;case h.TEXT_CONTENT:m(e,s.content);break;case h.REMOVE_NODE:a(e,s.fromNode)}}}};e.exports=y},function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var o=n(50),a=(n(11),n(389),n(20),n(422)),s=(n(4),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty){var s=r.propertyName;r.hasSideEffects&&""+e[s]==""+n||(e[s]=n)}else{var u=r.attributeName,l=r.attributeNamespace;l?e.setAttributeNS(l,u,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(u,""):e.setAttribute(u,""+n)}}}else if(o.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:n.hasSideEffects&&""+e[i]==""||(e[i]="")}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t,n){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function i(e){return e===y.topMouseMove||e===y.topTouchMove}function o(e){return e===y.topMouseDown||e===y.topTouchStart}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=b.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(i,n,e):m.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?g(!1):void 0,e.currentTarget=t?b.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var h,f,d=n(32),m=n(126),g=n(2),v=(n(4),{injectComponentTree:function(e){h=e},injectTreeTraversal:function(e){f=e}}),y=d.topLevelTypes,b={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return h.getInstanceFromNode(e)},getNodeFromInstance:function(e){return h.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return f.traverseEnterLeave(e,t,n,r,i)},injection:v};e.exports=b},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?l(!1):void 0}function i(e){r(e),null!=e.value||null!=e.onChange?l(!1):void 0}function o(e){r(e),null!=e.checked||null!=e.onChange?l(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(167),u=n(76),l=n(2),c=(n(4),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},h={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var i=p[r](t,r,e,u.prop);i instanceof Error&&!(i.message in h)&&(h[i.message]=!0,a(n))}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f},function(e,t,n){"use strict";var r=n(2),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r(!1):void 0,o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e){"use strict";function t(e,t,r,i){try{return t(r,i)}catch(o){return void(null===n&&(n=o))}}var n=null,r={invokeGuardedCallback:t,invokeGuardedCallbackWithCatch:t,rethrowCaughtError:function(){if(n){var e=n;throw n=null,e}}};e.exports=r},function(e){"use strict";var t={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=t},function(e){"use strict";var t=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=t},function(e){"use strict";function t(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=t},function(e){"use strict";function t(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=r[e];return!!i&&!!n[i]}function n(){return t}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=n},function(e){"use strict";function t(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=t},function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(13);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t,n){"use strict";var r=n(13),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=n(128),s=a(function(e,t){e.innerHTML=t});if(r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(s=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),u=null}e.exports=s},function(e){"use strict";function t(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=t},function(e,t,n){"use strict";var r=(n(7),n(22)),i=(n(4),r);e.exports=i},function(e,t,n){"use strict";var r=n(86),i=n(607).instanceJoinCreator,o=function(e){for(var t,n=0,r={};n<(e.children||[]).length;++n)t=e.children[n],e[t]&&(r[t]=e[t]);return r},a=function s(e){var t={};for(var n in e){var i=e[n],a=o(i),u=s(a);t[n]=i;for(var l in u){var c=u[l];t[n+r.capitalize(l)]=c}}return t};e.exports={hasListener:function(e){for(var t,n,r,i=0;i<(this.subscriptions||[]).length;++i)for(r=[].concat(this.subscriptions[i].listenable),t=0;t<r.length;t++)if(n=r[t],n===e||n.hasListener&&n.hasListener(e))return!0;return!1},listenToMany:function(e){var t=a(e);for(var n in t){var i=r.callbackName(n),o=this[i]?i:this[n]?n:void 0;o&&this.listenTo(t[n],o,this[i+"Default"]||this[o+"Default"]||o)}},validateListening:function(e){return e===this?"Listener is not able to listen to itself":r.isFunction(e.listen)?e.hasListener&&e.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:e+" is missing a listen method"},listenTo:function(e,t,n){var i,o,a,s=this.subscriptions=this.subscriptions||[];return r.throwIf(this.validateListening(e)),this.fetchInitialState(e,n),i=e.listen(this[t]||t,this),o=function(){var e=s.indexOf(a);r.throwIf(-1===e,"Tried to remove listen already gone from subscriptions list!"),s.splice(e,1),i()},a={stop:o,listenable:e},s.push(a),a},stopListeningTo:function(e){for(var t,n=0,i=this.subscriptions||[];n<i.length;n++)if(t=i[n],t.listenable===e)return t.stop(),r.throwIf(-1!==i.indexOf(t),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var e,t=this.subscriptions||[];e=t.length;)t[0].stop(),r.throwIf(t.length!==e-1,"Failed to remove listen from subscriptions list!")},fetchInitialState:function(e,t){t=t&&this[t]||t;var n=this;if(r.isFunction(t)&&r.isFunction(e.getInitialState)){var i=e.getInitialState();i&&r.isFunction(i.then)?i.then(function(){t.apply(n,arguments)}):t.call(this,i)}},joinTrailing:i("last"),joinLeading:i("first"),joinConcat:i("all"),joinStrict:i("strict")}},,,,,,,,function(e,t,n){(function(t){var r=n(288),i=n(185),o=n(145),a=function(e,n,a,s,u){o[a][e]&&o[a][e].replace&&(e=o[a][e].replace);var l,c=i.getCharacterMetrics(e,n);return c?l=new r.symbolNode(e,c.height,c.depth,c.italic,c.skew,u):("undefined"!=typeof t&&t.warn("No character metrics for '"+e+"' in style '"+n+"'"),l=new r.symbolNode(e,0,0,0,0,u)),s&&(l.style.color=s),l},s=function(e,t,n,r){return a(e,"Math-Italic",t,n,r.concat(["mathit"]))},u=function(e,t,n,r){return"main"===o[t][e].font?a(e,"Main-Regular",t,n,r):a(e,"AMS-Regular",t,n,r.concat(["amsrm"]))
},l=function(e){var t=0,n=0,r=0;if(e.children)for(var i=0;i<e.children.length;i++)e.children[i].height>t&&(t=e.children[i].height),e.children[i].depth>n&&(n=e.children[i].depth),e.children[i].maxFontSize>r&&(r=e.children[i].maxFontSize);e.height=t,e.depth=n,e.maxFontSize=r},c=function(e,t,n){var i=new r.span(e,t);return l(i),n&&(i.style.color=n),i},p=function(e){var t=new r.documentFragment(e);return l(t),t},h=function(e,t){var n=c([],[new r.symbolNode("\u200b")]);n.style.fontSize=t/e.style.sizeMultiplier+"em";var i=c(["fontsize-ensurer","reset-"+e.size,"size5"],[n]);return i},f=function(e,t,n,i){var o,a,s;if("individualShift"===t){var u=e;for(e=[u[0]],o=-u[0].shift-u[0].elem.depth,a=o,s=1;s<u.length;s++){var l=-u[s].shift-a-u[s].elem.depth,p=l-(u[s-1].elem.height+u[s-1].elem.depth);a+=l,e.push({type:"kern",size:p}),e.push(u[s])}}else if("top"===t){var f=n;for(s=0;s<e.length;s++)f-="kern"===e[s].type?e[s].size:e[s].elem.height+e[s].elem.depth;o=f}else o="bottom"===t?-n:"shift"===t?-e[0].elem.depth-n:"firstBaseline"===t?-e[0].elem.depth:0;var d=0;for(s=0;s<e.length;s++)"elem"===e[s].type&&(d=Math.max(d,e[s].elem.maxFontSize));var m=h(i,d),g=[];for(a=o,s=0;s<e.length;s++)if("kern"===e[s].type)a+=e[s].size;else{var v=e[s].elem,y=-v.depth-a;a+=v.height+v.depth;var b=c([],[m,v]);b.height-=y,b.depth+=y,b.style.top=y+"em",g.push(b)}var w=c(["baseline-fix"],[m,new r.symbolNode("\u200b")]);g.push(w);var _=c(["vlist"],g);return _.height=Math.max(a,_.height),_.depth=Math.max(-o,_.depth),_},d={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49},m={"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}};e.exports={makeSymbol:a,mathit:s,mathrm:u,makeSpan:c,makeFragment:p,makeVList:f,sizingMultiplier:d,spacingFunctions:m}}).call(t,n(3))},function(e){for(var t={math:{"\\equiv":{font:"main",group:"rel",replace:"\u2261"},"\\prec":{font:"main",group:"rel",replace:"\u227a"},"\\succ":{font:"main",group:"rel",replace:"\u227b"},"\\sim":{font:"main",group:"rel",replace:"\u223c"},"\\perp":{font:"main",group:"rel",replace:"\u22a5"},"\\preceq":{font:"main",group:"rel",replace:"\u2aaf"},"\\succeq":{font:"main",group:"rel",replace:"\u2ab0"},"\\simeq":{font:"main",group:"rel",replace:"\u2243"},"\\mid":{font:"main",group:"rel",replace:"\u2223"},"\\ll":{font:"main",group:"rel",replace:"\u226a"},"\\gg":{font:"main",group:"rel",replace:"\u226b"},"\\asymp":{font:"main",group:"rel",replace:"\u224d"},"\\parallel":{font:"main",group:"rel",replace:"\u2225"},"\\bowtie":{font:"main",group:"rel",replace:"\u22c8"},"\\smile":{font:"main",group:"rel",replace:"\u2323"},"\\sqsubseteq":{font:"main",group:"rel",replace:"\u2291"},"\\sqsupseteq":{font:"main",group:"rel",replace:"\u2292"},"\\doteq":{font:"main",group:"rel",replace:"\u2250"},"\\frown":{font:"main",group:"rel",replace:"\u2322"},"\\ni":{font:"main",group:"rel",replace:"\u220b"},"\\propto":{font:"main",group:"rel",replace:"\u221d"},"\\vdash":{font:"main",group:"rel",replace:"\u22a2"},"\\dashv":{font:"main",group:"rel",replace:"\u22a3"},"\\owns":{font:"main",group:"rel",replace:"\u220b"},"\\ldotp":{font:"main",group:"punct",replace:"."},"\\cdotp":{font:"main",group:"punct",replace:"\u22c5"},"\\aleph":{font:"main",group:"textord",replace:"\u2135"},"\\forall":{font:"main",group:"textord",replace:"\u2200"},"\\hbar":{font:"main",group:"textord",replace:"\u210f"},"\\exists":{font:"main",group:"textord",replace:"\u2203"},"\\nabla":{font:"main",group:"textord",replace:"\u2207"},"\\flat":{font:"main",group:"textord",replace:"\u266d"},"\\ell":{font:"main",group:"textord",replace:"\u2113"},"\\natural":{font:"main",group:"textord",replace:"\u266e"},"\\clubsuit":{font:"main",group:"textord",replace:"\u2663"},"\\wp":{font:"main",group:"textord",replace:"\u2118"},"\\sharp":{font:"main",group:"textord",replace:"\u266f"},"\\diamondsuit":{font:"main",group:"textord",replace:"\u2662"},"\\Re":{font:"main",group:"textord",replace:"\u211c"},"\\heartsuit":{font:"main",group:"textord",replace:"\u2661"},"\\Im":{font:"main",group:"textord",replace:"\u2111"},"\\spadesuit":{font:"main",group:"textord",replace:"\u2660"},"\\dag":{font:"main",group:"textord",replace:"\u2020"},"\\ddag":{font:"main",group:"textord",replace:"\u2021"},"\\rmoustache":{font:"main",group:"close",replace:"\u23b1"},"\\lmoustache":{font:"main",group:"open",replace:"\u23b0"},"\\rgroup":{font:"main",group:"close",replace:"\u27ef"},"\\lgroup":{font:"main",group:"open",replace:"\u27ee"},"\\mp":{font:"main",group:"bin",replace:"\u2213"},"\\ominus":{font:"main",group:"bin",replace:"\u2296"},"\\uplus":{font:"main",group:"bin",replace:"\u228e"},"\\sqcap":{font:"main",group:"bin",replace:"\u2293"},"\\ast":{font:"main",group:"bin",replace:"\u2217"},"\\sqcup":{font:"main",group:"bin",replace:"\u2294"},"\\bigcirc":{font:"main",group:"bin",replace:"\u25ef"},"\\bullet":{font:"main",group:"bin",replace:"\u2219"},"\\ddagger":{font:"main",group:"bin",replace:"\u2021"},"\\wr":{font:"main",group:"bin",replace:"\u2240"},"\\amalg":{font:"main",group:"bin",replace:"\u2a3f"},"\\longleftarrow":{font:"main",group:"rel",replace:"\u27f5"},"\\Leftarrow":{font:"main",group:"rel",replace:"\u21d0"},"\\Longleftarrow":{font:"main",group:"rel",replace:"\u27f8"},"\\longrightarrow":{font:"main",group:"rel",replace:"\u27f6"},"\\Rightarrow":{font:"main",group:"rel",replace:"\u21d2"},"\\Longrightarrow":{font:"main",group:"rel",replace:"\u27f9"},"\\leftrightarrow":{font:"main",group:"rel",replace:"\u2194"},"\\longleftrightarrow":{font:"main",group:"rel",replace:"\u27f7"},"\\Leftrightarrow":{font:"main",group:"rel",replace:"\u21d4"},"\\Longleftrightarrow":{font:"main",group:"rel",replace:"\u27fa"},"\\mapsto":{font:"main",group:"rel",replace:"\u21a6"},"\\longmapsto":{font:"main",group:"rel",replace:"\u27fc"},"\\nearrow":{font:"main",group:"rel",replace:"\u2197"},"\\hookleftarrow":{font:"main",group:"rel",replace:"\u21a9"},"\\hookrightarrow":{font:"main",group:"rel",replace:"\u21aa"},"\\searrow":{font:"main",group:"rel",replace:"\u2198"},"\\leftharpoonup":{font:"main",group:"rel",replace:"\u21bc"},"\\rightharpoonup":{font:"main",group:"rel",replace:"\u21c0"},"\\swarrow":{font:"main",group:"rel",replace:"\u2199"},"\\leftharpoondown":{font:"main",group:"rel",replace:"\u21bd"},"\\rightharpoondown":{font:"main",group:"rel",replace:"\u21c1"},"\\nwarrow":{font:"main",group:"rel",replace:"\u2196"},"\\rightleftharpoons":{font:"main",group:"rel",replace:"\u21cc"},"\\nless":{font:"ams",group:"rel",replace:"\u226e"},"\\nleqslant":{font:"ams",group:"rel",replace:"\ue010"},"\\nleqq":{font:"ams",group:"rel",replace:"\ue011"},"\\lneq":{font:"ams",group:"rel",replace:"\u2a87"},"\\lneqq":{font:"ams",group:"rel",replace:"\u2268"},"\\lvertneqq":{font:"ams",group:"rel",replace:"\ue00c"},"\\lnsim":{font:"ams",group:"rel",replace:"\u22e6"},"\\lnapprox":{font:"ams",group:"rel",replace:"\u2a89"},"\\nprec":{font:"ams",group:"rel",replace:"\u2280"},"\\npreceq":{font:"ams",group:"rel",replace:"\u22e0"},"\\precnsim":{font:"ams",group:"rel",replace:"\u22e8"},"\\precnapprox":{font:"ams",group:"rel",replace:"\u2ab9"},"\\nsim":{font:"ams",group:"rel",replace:"\u2241"},"\\nshortmid":{font:"ams",group:"rel",replace:"\ue006"},"\\nmid":{font:"ams",group:"rel",replace:"\u2224"},"\\nvdash":{font:"ams",group:"rel",replace:"\u22ac"},"\\nvDash":{font:"ams",group:"rel",replace:"\u22ad"},"\\ntriangleleft":{font:"ams",group:"rel",replace:"\u22ea"},"\\ntrianglelefteq":{font:"ams",group:"rel",replace:"\u22ec"},"\\subsetneq":{font:"ams",group:"rel",replace:"\u228a"},"\\varsubsetneq":{font:"ams",group:"rel",replace:"\ue01a"},"\\subsetneqq":{font:"ams",group:"rel",replace:"\u2acb"},"\\varsubsetneqq":{font:"ams",group:"rel",replace:"\ue017"},"\\ngtr":{font:"ams",group:"rel",replace:"\u226f"},"\\ngeqslant":{font:"ams",group:"rel",replace:"\ue00f"},"\\ngeqq":{font:"ams",group:"rel",replace:"\ue00e"},"\\gneq":{font:"ams",group:"rel",replace:"\u2a88"},"\\gneqq":{font:"ams",group:"rel",replace:"\u2269"},"\\gvertneqq":{font:"ams",group:"rel",replace:"\ue00d"},"\\gnsim":{font:"ams",group:"rel",replace:"\u22e7"},"\\gnapprox":{font:"ams",group:"rel",replace:"\u2a8a"},"\\nsucc":{font:"ams",group:"rel",replace:"\u2281"},"\\nsucceq":{font:"ams",group:"rel",replace:"\u22e1"},"\\succnsim":{font:"ams",group:"rel",replace:"\u22e9"},"\\succnapprox":{font:"ams",group:"rel",replace:"\u2aba"},"\\ncong":{font:"ams",group:"rel",replace:"\u2246"},"\\nshortparallel":{font:"ams",group:"rel",replace:"\ue007"},"\\nparallel":{font:"ams",group:"rel",replace:"\u2226"},"\\nVDash":{font:"ams",group:"rel",replace:"\u22af"},"\\ntriangleright":{font:"ams",group:"rel",replace:"\u22eb"},"\\ntrianglerighteq":{font:"ams",group:"rel",replace:"\u22ed"},"\\nsupseteqq":{font:"ams",group:"rel",replace:"\ue018"},"\\supsetneq":{font:"ams",group:"rel",replace:"\u228b"},"\\varsupsetneq":{font:"ams",group:"rel",replace:"\ue01b"},"\\supsetneqq":{font:"ams",group:"rel",replace:"\u2acc"},"\\varsupsetneqq":{font:"ams",group:"rel",replace:"\ue019"},"\\nVdash":{font:"ams",group:"rel",replace:"\u22ae"},"\\precneqq":{font:"ams",group:"rel",replace:"\u2ab5"},"\\succneqq":{font:"ams",group:"rel",replace:"\u2ab6"},"\\nsubseteqq":{font:"ams",group:"rel",replace:"\ue016"},"\\unlhd":{font:"ams",group:"bin",replace:"\u22b4"},"\\unrhd":{font:"ams",group:"bin",replace:"\u22b5"},"\\nleftarrow":{font:"ams",group:"rel",replace:"\u219a"},"\\nrightarrow":{font:"ams",group:"rel",replace:"\u219b"},"\\nLeftarrow":{font:"ams",group:"rel",replace:"\u21cd"},"\\nRightarrow":{font:"ams",group:"rel",replace:"\u21cf"},"\\nleftrightarrow":{font:"ams",group:"rel",replace:"\u21ae"},"\\nLeftrightarrow":{font:"ams",group:"rel",replace:"\u21ce"},"\\vartriangle":{font:"ams",group:"rel",replace:"\u25b3"},"\\hslash":{font:"ams",group:"textord",replace:"\u210f"},"\\triangledown":{font:"ams",group:"textord",replace:"\u25bd"},"\\lozenge":{font:"ams",group:"textord",replace:"\u25ca"},"\\circledS":{font:"ams",group:"textord",replace:"\u24c8"},"\\measuredangle":{font:"ams",group:"textord",replace:"\u2221"},"\\nexists":{font:"ams",group:"textord",replace:"\u2204"},"\\mho":{font:"ams",group:"textord",replace:"\u2127"},"\\Finv":{font:"ams",group:"textord",replace:"\u2132"},"\\Game":{font:"ams",group:"textord",replace:"\u2141"},"\\Bbbk":{font:"ams",group:"textord",replace:"k"},"\\backprime":{font:"ams",group:"textord",replace:"\u2035"},"\\blacktriangle":{font:"ams",group:"textord",replace:"\u25b2"},"\\blacktriangledown":{font:"ams",group:"textord",replace:"\u25bc"},"\\blacksquare":{font:"ams",group:"textord",replace:"\u25a0"},"\\blacklozenge":{font:"ams",group:"textord",replace:"\u29eb"},"\\bigstar":{font:"ams",group:"textord",replace:"\u2605"},"\\sphericalangle":{font:"ams",group:"textord",replace:"\u2222"},"\\complement":{font:"ams",group:"textord",replace:"\u2201"},"\\eth":{font:"ams",group:"textord",replace:"\xf0"},"\\diagup":{font:"ams",group:"textord",replace:"\u2571"},"\\diagdown":{font:"ams",group:"textord",replace:"\u2572"},"\\square":{font:"ams",group:"textord",replace:"\u25a1"},"\\Box":{font:"ams",group:"textord",replace:"\u25a1"},"\\Diamond":{font:"ams",group:"textord",replace:"\u25ca"},"\\yen":{font:"ams",group:"textord",replace:"\xa5"},"\\beth":{font:"ams",group:"textord",replace:"\u2136"},"\\daleth":{font:"ams",group:"textord",replace:"\u2138"},"\\gimel":{font:"ams",group:"textord",replace:"\u2137"},"\\digamma":{font:"ams",group:"textord",replace:"\u03dd"},"\\varkappa":{font:"ams",group:"textord",replace:"\u03f0"},"\\ulcorner":{font:"ams",group:"textord",replace:"\u250c"},"\\urcorner":{font:"ams",group:"textord",replace:"\u2510"},"\\llcorner":{font:"ams",group:"textord",replace:"\u2514"},"\\lrcorner":{font:"ams",group:"textord",replace:"\u2518"},"\\leqq":{font:"ams",group:"rel",replace:"\u2266"},"\\leqslant":{font:"ams",group:"rel",replace:"\u2a7d"},"\\eqslantless":{font:"ams",group:"rel",replace:"\u2a95"},"\\lesssim":{font:"ams",group:"rel",replace:"\u2272"},"\\lessapprox":{font:"ams",group:"rel",replace:"\u2a85"},"\\approxeq":{font:"ams",group:"rel",replace:"\u224a"},"\\lessdot":{font:"ams",group:"bin",replace:"\u22d6"},"\\lll":{font:"ams",group:"rel",replace:"\u22d8"},"\\lessgtr":{font:"ams",group:"rel",replace:"\u2276"},"\\lesseqgtr":{font:"ams",group:"rel",replace:"\u22da"},"\\lesseqqgtr":{font:"ams",group:"rel",replace:"\u2a8b"},"\\doteqdot":{font:"ams",group:"rel",replace:"\u2251"},"\\risingdotseq":{font:"ams",group:"rel",replace:"\u2253"},"\\fallingdotseq":{font:"ams",group:"rel",replace:"\u2252"},"\\backsim":{font:"ams",group:"rel",replace:"\u223d"},"\\backsimeq":{font:"ams",group:"rel",replace:"\u22cd"},"\\subseteqq":{font:"ams",group:"rel",replace:"\u2ac5"},"\\Subset":{font:"ams",group:"rel",replace:"\u22d0"},"\\sqsubset":{font:"ams",group:"rel",replace:"\u228f"},"\\preccurlyeq":{font:"ams",group:"rel",replace:"\u227c"},"\\curlyeqprec":{font:"ams",group:"rel",replace:"\u22de"},"\\precsim":{font:"ams",group:"rel",replace:"\u227e"},"\\precapprox":{font:"ams",group:"rel",replace:"\u2ab7"},"\\vartriangleleft":{font:"ams",group:"rel",replace:"\u22b2"},"\\trianglelefteq":{font:"ams",group:"rel",replace:"\u22b4"},"\\vDash":{font:"ams",group:"rel",replace:"\u22a8"},"\\Vvdash":{font:"ams",group:"rel",replace:"\u22aa"},"\\smallsmile":{font:"ams",group:"rel",replace:"\u2323"},"\\smallfrown":{font:"ams",group:"rel",replace:"\u2322"},"\\bumpeq":{font:"ams",group:"rel",replace:"\u224f"},"\\Bumpeq":{font:"ams",group:"rel",replace:"\u224e"},"\\geqq":{font:"ams",group:"rel",replace:"\u2267"},"\\geqslant":{font:"ams",group:"rel",replace:"\u2a7e"},"\\eqslantgtr":{font:"ams",group:"rel",replace:"\u2a96"},"\\gtrsim":{font:"ams",group:"rel",replace:"\u2273"},"\\gtrapprox":{font:"ams",group:"rel",replace:"\u2a86"},"\\gtrdot":{font:"ams",group:"bin",replace:"\u22d7"},"\\ggg":{font:"ams",group:"rel",replace:"\u22d9"},"\\gtrless":{font:"ams",group:"rel",replace:"\u2277"},"\\gtreqless":{font:"ams",group:"rel",replace:"\u22db"},"\\gtreqqless":{font:"ams",group:"rel",replace:"\u2a8c"},"\\eqcirc":{font:"ams",group:"rel",replace:"\u2256"},"\\circeq":{font:"ams",group:"rel",replace:"\u2257"},"\\triangleq":{font:"ams",group:"rel",replace:"\u225c"},"\\thicksim":{font:"ams",group:"rel",replace:"\u223c"},"\\thickapprox":{font:"ams",group:"rel",replace:"\u2248"},"\\supseteqq":{font:"ams",group:"rel",replace:"\u2ac6"},"\\Supset":{font:"ams",group:"rel",replace:"\u22d1"},"\\sqsupset":{font:"ams",group:"rel",replace:"\u2290"},"\\succcurlyeq":{font:"ams",group:"rel",replace:"\u227d"},"\\curlyeqsucc":{font:"ams",group:"rel",replace:"\u22df"},"\\succsim":{font:"ams",group:"rel",replace:"\u227f"},"\\succapprox":{font:"ams",group:"rel",replace:"\u2ab8"},"\\vartriangleright":{font:"ams",group:"rel",replace:"\u22b3"},"\\trianglerighteq":{font:"ams",group:"rel",replace:"\u22b5"},"\\Vdash":{font:"ams",group:"rel",replace:"\u22a9"},"\\shortmid":{font:"ams",group:"rel",replace:"\u2223"},"\\shortparallel":{font:"ams",group:"rel",replace:"\u2225"},"\\between":{font:"ams",group:"rel",replace:"\u226c"},"\\pitchfork":{font:"ams",group:"rel",replace:"\u22d4"},"\\varpropto":{font:"ams",group:"rel",replace:"\u221d"},"\\blacktriangleleft":{font:"ams",group:"rel",replace:"\u25c0"},"\\therefore":{font:"ams",group:"rel",replace:"\u2234"},"\\backepsilon":{font:"ams",group:"rel",replace:"\u220d"},"\\blacktriangleright":{font:"ams",group:"rel",replace:"\u25b6"},"\\because":{font:"ams",group:"rel",replace:"\u2235"},"\\llless":{font:"ams",group:"rel",replace:"\u22d8"},"\\gggtr":{font:"ams",group:"rel",replace:"\u22d9"},"\\lhd":{font:"ams",group:"bin",replace:"\u22b2"},"\\rhd":{font:"ams",group:"bin",replace:"\u22b3"},"\\eqsim":{font:"ams",group:"rel",replace:"\u2242"},"\\Join":{font:"main",group:"rel",replace:"\u22c8"},"\\Doteq":{font:"ams",group:"rel",replace:"\u2251"},"\\dotplus":{font:"ams",group:"bin",replace:"\u2214"},"\\smallsetminus":{font:"ams",group:"bin",replace:"\u2216"},"\\Cap":{font:"ams",group:"bin",replace:"\u22d2"},"\\Cup":{font:"ams",group:"bin",replace:"\u22d3"},"\\doublebarwedge":{font:"ams",group:"bin",replace:"\u2a5e"},"\\boxminus":{font:"ams",group:"bin",replace:"\u229f"},"\\boxplus":{font:"ams",group:"bin",replace:"\u229e"},"\\divideontimes":{font:"ams",group:"bin",replace:"\u22c7"},"\\ltimes":{font:"ams",group:"bin",replace:"\u22c9"},"\\rtimes":{font:"ams",group:"bin",replace:"\u22ca"},"\\leftthreetimes":{font:"ams",group:"bin",replace:"\u22cb"},"\\rightthreetimes":{font:"ams",group:"bin",replace:"\u22cc"},"\\curlywedge":{font:"ams",group:"bin",replace:"\u22cf"},"\\curlyvee":{font:"ams",group:"bin",replace:"\u22ce"},"\\circleddash":{font:"ams",group:"bin",replace:"\u229d"},"\\circledast":{font:"ams",group:"bin",replace:"\u229b"},"\\centerdot":{font:"ams",group:"bin",replace:"\u22c5"},"\\intercal":{font:"ams",group:"bin",replace:"\u22ba"},"\\doublecap":{font:"ams",group:"bin",replace:"\u22d2"},"\\doublecup":{font:"ams",group:"bin",replace:"\u22d3"},"\\boxtimes":{font:"ams",group:"bin",replace:"\u22a0"},"\\dashrightarrow":{font:"ams",group:"rel",replace:"\u21e2"},"\\dashleftarrow":{font:"ams",group:"rel",replace:"\u21e0"},"\\leftleftarrows":{font:"ams",group:"rel",replace:"\u21c7"},"\\leftrightarrows":{font:"ams",group:"rel",replace:"\u21c6"},"\\Lleftarrow":{font:"ams",group:"rel",replace:"\u21da"},"\\twoheadleftarrow":{font:"ams",group:"rel",replace:"\u219e"},"\\leftarrowtail":{font:"ams",group:"rel",replace:"\u21a2"},"\\looparrowleft":{font:"ams",group:"rel",replace:"\u21ab"},"\\leftrightharpoons":{font:"ams",group:"rel",replace:"\u21cb"},"\\curvearrowleft":{font:"ams",group:"rel",replace:"\u21b6"},"\\circlearrowleft":{font:"ams",group:"rel",replace:"\u21ba"},"\\Lsh":{font:"ams",group:"rel",replace:"\u21b0"},"\\upuparrows":{font:"ams",group:"rel",replace:"\u21c8"},"\\upharpoonleft":{font:"ams",group:"rel",replace:"\u21bf"},"\\downharpoonleft":{font:"ams",group:"rel",replace:"\u21c3"},"\\multimap":{font:"ams",group:"rel",replace:"\u22b8"},"\\leftrightsquigarrow":{font:"ams",group:"rel",replace:"\u21ad"},"\\rightrightarrows":{font:"ams",group:"rel",replace:"\u21c9"},"\\rightleftarrows":{font:"ams",group:"rel",replace:"\u21c4"},"\\twoheadrightarrow":{font:"ams",group:"rel",replace:"\u21a0"},"\\rightarrowtail":{font:"ams",group:"rel",replace:"\u21a3"},"\\looparrowright":{font:"ams",group:"rel",replace:"\u21ac"},"\\curvearrowright":{font:"ams",group:"rel",replace:"\u21b7"},"\\circlearrowright":{font:"ams",group:"rel",replace:"\u21bb"},"\\Rsh":{font:"ams",group:"rel",replace:"\u21b1"},"\\downdownarrows":{font:"ams",group:"rel",replace:"\u21ca"},"\\upharpoonright":{font:"ams",group:"rel",replace:"\u21be"},"\\downharpoonright":{font:"ams",group:"rel",replace:"\u21c2"},"\\rightsquigarrow":{font:"ams",group:"rel",replace:"\u21dd"},"\\leadsto":{font:"ams",group:"rel",replace:"\u21dd"},"\\Rrightarrow":{font:"ams",group:"rel",replace:"\u21db"},"\\restriction":{font:"ams",group:"rel",replace:"\u21be"},"`":{font:"main",group:"textord",replace:"\u2018"},"\\$":{font:"main",group:"textord",replace:"$"},"\\%":{font:"main",group:"textord",replace:"%"},"\\_":{font:"main",group:"textord",replace:"_"},"\\angle":{font:"main",group:"textord",replace:"\u2220"},"\\infty":{font:"main",group:"textord",replace:"\u221e"},"\\prime":{font:"main",group:"textord",replace:"\u2032"},"\\triangle":{font:"main",group:"textord",replace:"\u25b3"},"\\Gamma":{font:"main",group:"textord",replace:"\u0393"},"\\Delta":{font:"main",group:"textord",replace:"\u0394"},"\\Theta":{font:"main",group:"textord",replace:"\u0398"},"\\Lambda":{font:"main",group:"textord",replace:"\u039b"},"\\Xi":{font:"main",group:"textord",replace:"\u039e"},"\\Pi":{font:"main",group:"textord",replace:"\u03a0"},"\\Sigma":{font:"main",group:"textord",replace:"\u03a3"},"\\Upsilon":{font:"main",group:"textord",replace:"\u03a5"},"\\Phi":{font:"main",group:"textord",replace:"\u03a6"},"\\Psi":{font:"main",group:"textord",replace:"\u03a8"},"\\Omega":{font:"main",group:"textord",replace:"\u03a9"},"\\neg":{font:"main",group:"textord",replace:"\xac"},"\\lnot":{font:"main",group:"textord",replace:"\xac"},"\\top":{font:"main",group:"textord",replace:"\u22a4"},"\\bot":{font:"main",group:"textord",replace:"\u22a5"},"\\emptyset":{font:"main",group:"textord",replace:"\u2205"},"\\varnothing":{font:"ams",group:"textord",replace:"\u2205"},"\\alpha":{font:"main",group:"mathord",replace:"\u03b1"},"\\beta":{font:"main",group:"mathord",replace:"\u03b2"},"\\gamma":{font:"main",group:"mathord",replace:"\u03b3"},"\\delta":{font:"main",group:"mathord",replace:"\u03b4"},"\\epsilon":{font:"main",group:"mathord",replace:"\u03f5"},"\\zeta":{font:"main",group:"mathord",replace:"\u03b6"},"\\eta":{font:"main",group:"mathord",replace:"\u03b7"},"\\theta":{font:"main",group:"mathord",replace:"\u03b8"},"\\iota":{font:"main",group:"mathord",replace:"\u03b9"},"\\kappa":{font:"main",group:"mathord",replace:"\u03ba"},"\\lambda":{font:"main",group:"mathord",replace:"\u03bb"},"\\mu":{font:"main",group:"mathord",replace:"\u03bc"},"\\nu":{font:"main",group:"mathord",replace:"\u03bd"},"\\xi":{font:"main",group:"mathord",replace:"\u03be"},"\\omicron":{font:"main",group:"mathord",replace:"o"},"\\pi":{font:"main",group:"mathord",replace:"\u03c0"},"\\rho":{font:"main",group:"mathord",replace:"\u03c1"},"\\sigma":{font:"main",group:"mathord",replace:"\u03c3"},"\\tau":{font:"main",group:"mathord",replace:"\u03c4"},"\\upsilon":{font:"main",group:"mathord",replace:"\u03c5"},"\\phi":{font:"main",group:"mathord",replace:"\u03d5"},"\\chi":{font:"main",group:"mathord",replace:"\u03c7"},"\\psi":{font:"main",group:"mathord",replace:"\u03c8"},"\\omega":{font:"main",group:"mathord",replace:"\u03c9"},"\\varepsilon":{font:"main",group:"mathord",replace:"\u03b5"},"\\vartheta":{font:"main",group:"mathord",replace:"\u03d1"},"\\varpi":{font:"main",group:"mathord",replace:"\u03d6"},"\\varrho":{font:"main",group:"mathord",replace:"\u03f1"},"\\varsigma":{font:"main",group:"mathord",replace:"\u03c2"},"\\varphi":{font:"main",group:"mathord",replace:"\u03c6"},"*":{font:"main",group:"bin",replace:"\u2217"},"+":{font:"main",group:"bin"},"-":{font:"main",group:"bin",replace:"\u2212"},"\\cdot":{font:"main",group:"bin",replace:"\u22c5"},"\\circ":{font:"main",group:"bin",replace:"\u2218"},"\\div":{font:"main",group:"bin",replace:"\xf7"},"\\pm":{font:"main",group:"bin",replace:"\xb1"},"\\times":{font:"main",group:"bin",replace:"\xd7"},"\\cap":{font:"main",group:"bin",replace:"\u2229"},"\\cup":{font:"main",group:"bin",replace:"\u222a"},"\\setminus":{font:"main",group:"bin",replace:"\u2216"},"\\land":{font:"main",group:"bin",replace:"\u2227"},"\\lor":{font:"main",group:"bin",replace:"\u2228"},"\\wedge":{font:"main",group:"bin",replace:"\u2227"},"\\vee":{font:"main",group:"bin",replace:"\u2228"},"\\surd":{font:"main",group:"textord",replace:"\u221a"},"(":{font:"main",group:"open"},"[":{font:"main",group:"open"},"\\langle":{font:"main",group:"open",replace:"\u27e8"},"\\lvert":{font:"main",group:"open",replace:"\u2223"},")":{font:"main",group:"close"},"]":{font:"main",group:"close"},"?":{font:"main",group:"close"},"!":{font:"main",group:"close"},"\\rangle":{font:"main",group:"close",replace:"\u27e9"},"\\rvert":{font:"main",group:"close",replace:"\u2223"},"=":{font:"main",group:"rel"},"<":{font:"main",group:"rel"},">":{font:"main",group:"rel"},":":{font:"main",group:"rel"},"\\approx":{font:"main",group:"rel",replace:"\u2248"},"\\cong":{font:"main",group:"rel",replace:"\u2245"},"\\ge":{font:"main",group:"rel",replace:"\u2265"},"\\geq":{font:"main",group:"rel",replace:"\u2265"},"\\gets":{font:"main",group:"rel",replace:"\u2190"},"\\in":{font:"main",group:"rel",replace:"\u2208"},"\\notin":{font:"main",group:"rel",replace:"\u2209"},"\\subset":{font:"main",group:"rel",replace:"\u2282"},"\\supset":{font:"main",group:"rel",replace:"\u2283"},"\\subseteq":{font:"main",group:"rel",replace:"\u2286"},"\\supseteq":{font:"main",group:"rel",replace:"\u2287"},"\\nsubseteq":{font:"ams",group:"rel",replace:"\u2288"},"\\nsupseteq":{font:"ams",group:"rel",replace:"\u2289"},"\\models":{font:"main",group:"rel",replace:"\u22a8"},"\\leftarrow":{font:"main",group:"rel",replace:"\u2190"},"\\le":{font:"main",group:"rel",replace:"\u2264"},"\\leq":{font:"main",group:"rel",replace:"\u2264"},"\\ne":{font:"main",group:"rel",replace:"\u2260"},"\\neq":{font:"main",group:"rel",replace:"\u2260"},"\\rightarrow":{font:"main",group:"rel",replace:"\u2192"},"\\to":{font:"main",group:"rel",replace:"\u2192"},"\\ngeq":{font:"ams",group:"rel",replace:"\u2271"},"\\nleq":{font:"ams",group:"rel",replace:"\u2270"},"\\!":{font:"main",group:"spacing"},"\\ ":{font:"main",group:"spacing",replace:"\xa0"},"~":{font:"main",group:"spacing",replace:"\xa0"},"\\,":{font:"main",group:"spacing"},"\\:":{font:"main",group:"spacing"},"\\;":{font:"main",group:"spacing"},"\\enspace":{font:"main",group:"spacing"},"\\qquad":{font:"main",group:"spacing"},"\\quad":{font:"main",group:"spacing"},"\\space":{font:"main",group:"spacing",replace:"\xa0"},",":{font:"main",group:"punct"},";":{font:"main",group:"punct"},"\\colon":{font:"main",group:"punct",replace:":"},"\\barwedge":{font:"ams",group:"textord",replace:"\u22bc"},"\\veebar":{font:"ams",group:"textord",replace:"\u22bb"},"\\odot":{font:"main",group:"textord",replace:"\u2299"},"\\oplus":{font:"main",group:"textord",replace:"\u2295"},"\\otimes":{font:"main",group:"textord",replace:"\u2297"},"\\partial":{font:"main",group:"textord",replace:"\u2202"},"\\oslash":{font:"main",group:"textord",replace:"\u2298"},"\\circledcirc":{font:"ams",group:"textord",replace:"\u229a"},"\\boxdot":{font:"ams",group:"textord",replace:"\u22a1"},"\\bigtriangleup":{font:"main",group:"textord",replace:"\u25b3"},"\\bigtriangledown":{font:"main",group:"textord",replace:"\u25bd"},"\\dagger":{font:"main",group:"textord",replace:"\u2020"},"\\diamond":{font:"main",group:"textord",replace:"\u22c4"},"\\star":{font:"main",group:"textord",replace:"\u22c6"},"\\triangleleft":{font:"main",group:"textord",replace:"\u25c3"},"\\triangleright":{font:"main",group:"textord",replace:"\u25b9"},"\\{":{font:"main",group:"open",replace:"{"},"\\}":{font:"main",group:"close",replace:"}"},"\\lbrace":{font:"main",group:"open",replace:"{"},"\\rbrace":{font:"main",group:"close",replace:"}"},"\\lbrack":{font:"main",group:"open",replace:"["},"\\rbrack":{font:"main",group:"close",replace:"]"},"\\lfloor":{font:"main",group:"open",replace:"\u230a"},"\\rfloor":{font:"main",group:"close",replace:"\u230b"},"\\lceil":{font:"main",group:"open",replace:"\u2308"},"\\rceil":{font:"main",group:"close",replace:"\u2309"},"\\backslash":{font:"main",group:"textord",replace:"\\"},"|":{font:"main",group:"textord",replace:"\u2223"},"\\vert":{font:"main",group:"textord",replace:"\u2223"},"\\|":{font:"main",group:"textord",replace:"\u2225"},"\\Vert":{font:"main",group:"textord",replace:"\u2225"},"\\uparrow":{font:"main",group:"textord",replace:"\u2191"},"\\Uparrow":{font:"main",group:"textord",replace:"\u21d1"},"\\downarrow":{font:"main",group:"textord",replace:"\u2193"},"\\Downarrow":{font:"main",group:"textord",replace:"\u21d3"},"\\updownarrow":{font:"main",group:"textord",replace:"\u2195"},"\\Updownarrow":{font:"main",group:"textord",replace:"\u21d5"},"\\coprod":{font:"math",group:"op",replace:"\u2210"},"\\bigvee":{font:"math",group:"op",replace:"\u22c1"},"\\bigwedge":{font:"math",group:"op",replace:"\u22c0"},"\\biguplus":{font:"math",group:"op",replace:"\u2a04"},"\\bigcap":{font:"math",group:"op",replace:"\u22c2"},"\\bigcup":{font:"math",group:"op",replace:"\u22c3"},"\\int":{font:"math",group:"op",replace:"\u222b"},"\\intop":{font:"math",group:"op",replace:"\u222b"},"\\iint":{font:"math",group:"op",replace:"\u222c"},"\\iiint":{font:"math",group:"op",replace:"\u222d"},"\\prod":{font:"math",group:"op",replace:"\u220f"},"\\sum":{font:"math",group:"op",replace:"\u2211"},"\\bigotimes":{font:"math",group:"op",replace:"\u2a02"},"\\bigoplus":{font:"math",group:"op",replace:"\u2a01"},"\\bigodot":{font:"math",group:"op",replace:"\u2a00"},"\\oint":{font:"math",group:"op",replace:"\u222e"},"\\bigsqcup":{font:"math",group:"op",replace:"\u2a06"},"\\smallint":{font:"math",group:"op",replace:"\u222b"},"\\ldots":{font:"main",group:"punct",replace:"\u2026"},"\\cdots":{font:"main",group:"inner",replace:"\u22ef"},"\\ddots":{font:"main",group:"inner",replace:"\u22f1"},"\\vdots":{font:"main",group:"textord",replace:"\u22ee"},"\\acute":{font:"main",group:"accent",replace:"\xb4"},"\\grave":{font:"main",group:"accent",replace:"`"},"\\ddot":{font:"main",group:"accent",replace:"\xa8"},"\\tilde":{font:"main",group:"accent",replace:"~"},"\\bar":{font:"main",group:"accent",replace:"\xaf"},"\\breve":{font:"main",group:"accent",replace:"\u02d8"},"\\check":{font:"main",group:"accent",replace:"\u02c7"},"\\hat":{font:"main",group:"accent",replace:"^"},"\\vec":{font:"main",group:"accent",replace:"\u20d7"},"\\dot":{font:"main",group:"accent",replace:"\u02d9"}},text:{"\\ ":{font:"main",group:"spacing",replace:"\xa0"}," ":{font:"main",group:"spacing",replace:"\xa0"},"~":{font:"main",group:"spacing",replace:"\xa0"}}},n='0123456789/@."',r=0;r<n.length;r++){var i=n.charAt(r);t.math[i]={font:"main",group:"textord"}}for(var o="0123456789`!@*()-=+[]'\";:?/.,",r=0;r<o.length;r++){var i=o.charAt(r);t.text[i]={font:"main",group:"textord"}}for(var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<a.length;r++){var i=a.charAt(r);t.math[i]={font:"main",group:"mathord"},t.text[i]={font:"main",group:"textord"}}e.exports=t},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||i}var i=n(148),o=(n(20),n(97),n(61)),a=n(2);n(4),r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},e.exports=r},function(e,t,n){"use strict";function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e,t){e._store&&!e._store.validated&&null==e.key&&(e._store.validated=!0,o("uniqueKey",e,t))}function o(e,t,n){var i=r();if(!i){var o="string"==typeof n?n:n.displayName||n.name;o&&(i=" Check the top-level render call using <"+o+">.")}var a=d[e]||(d[e]={});if(a[i])return null;a[i]=!0;var s={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];l.isValidElement(r)&&i(r,t)}else if(l.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=h(e);if(o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)l.isValidElement(a.value)&&i(a.value,t)}}function s(e,t,n,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?f(!1):void 0,a=t[o](n,o,e,i)}catch(s){a=s}a instanceof Error&&!(a.message in m)&&(m[a.message]=!0,r())}}function u(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps}}var l=n(17),c=n(76),p=(n(73),n(33)),h=(n(97),n(99)),f=n(2),d=(n(4),{}),m={},g={createElement:function(e){var t="string"==typeof e||"function"==typeof e,n=l.createElement.apply(this,arguments);if(null==n)return n;if(t)for(var r=2;r<arguments.length;r++)a(arguments[r],e);return u(n),n},createFactory:function(e){var t=g.createElement.bind(null,e);return t.type=e,t},cloneElement:function(){for(var e=l.cloneElement.apply(this,arguments),t=2;t<arguments.length;t++)a(arguments[t],e.type);return u(e),e}};e.exports=g},function(e,t,n){"use strict";function r(){}var i=(n(4),{isMounted:function(){return!1},enqueueCallback:function(){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e){r(e,"replaceState")},enqueueSetState:function(e){r(e,"setState")}});e.exports=i},function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e){var t,n=null===e||e===!1;if(n)t=s.create(i);else if("object"==typeof e){var o=e;!o||"function"!=typeof o.type&&"string"!=typeof o.type?l(!1):void 0,t="string"==typeof o.type?u.createInternalComponent(o):r(o.type)?new o.type(o):new c(o)}else"string"==typeof e||"number"==typeof e?t=u.createInstanceForText(e):l(!1);
return t._mountIndex=0,t._mountImage=null,t}var o=n(7),a=n(380),s=n(204),u=n(209),l=(n(20),n(2)),c=(n(4),function(e){this.construct(e)});o(c.prototype,a.Mixin,{_instantiateReactComponent:i}),e.exports=i},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return a["default"].unmountComponentAtNode(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(109),a=i(o);e.exports=t["default"]}).call(t,n(150))},,function(e,t,n){var r=n(153),i=n(118),o=r(i,"Map");e.exports=o},function(e,t,n){function r(e,t){var n=e[t];return i(n)?n:void 0}var i=n(795);e.exports=r},,function(e,t,n){"use strict";function r(e,t,r,o,a){function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}function u(e){throw new Error("Undefined symbol "+e)}var l=r(n(53)),c=r(n(365));return s.prototype=new l,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(e,t){return e.undef=u,e.Unit=c,t[this.name]?this.name:this.name in e.math?'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(c.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},s.prototype.forEach=function(){},s.prototype.map=function(){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(){return this.name},s.prototype._toTex=function(){var e=!1;"undefined"==typeof a[this.name]&&c.isValuelessUnit(this.name)&&(e=!0);var t=i.toSymbol(this.name,e);return"\\"===t[0]?t:" "+t},s}var i=n(12);t.name="SymbolNode",t.path="expression.node",t.math=!0,t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(55)),s=r(n(41)),u=r(n(556)),l=r(n(5)),c=r(n(48)),p=r(n(15)),h=o("divide",i({"Array | Matrix, Array | Matrix":function(e,t){return s(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,a,!1);break;case"dense":n=p(e,t,a,!1)}return n},"Array, any":function(e,t){return p(l(e),t,a,!1).valueOf()},"any, Array | Matrix":function(e,t){return s(e,u(t))}},a.signatures));return h.toTex="\\frac{${args[0]}}{${args[1]}}",h}var i=n(16).extend;t.name="divide",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(n){return n>=0||t.predictable?Math.log(n):l(new e.Complex(n,0))}function s(t){return new e.Complex(Math.log(Math.sqrt(t.re*t.re+t.im*t.im)),Math.atan2(t.im,t.re))}var u=r(n(55)),l=o("log",{number:a,Complex:s,BigNumber:function(n){return!n.isNegative()||t.predictable?n.ln():s(new e.Complex(n.toNumber(),0))},"Array | Matrix":function(e){return i(e,l)},"any, any":function(e,t){return u(l(e),l(t))}});return l.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},l}var i=n(6);t.name="log",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(n,r){return i(r)||n>=0||t.predictable?Math.pow(n,r):u(new e.Complex(n,0),new e.Complex(r,0))}function u(e,t){return h(m(d(e),t))}function l(e,t){if(!i(t)||0>t)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var n=o(e);if(2!=n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!=n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var r=f(n[0]).valueOf(),a=e;t>=1;)1==(1&t)&&(r=m(a,r)),t>>=1,a=m(a,a);return r}function c(e,t){return g(l(e.valueOf(),t))}var p=n(12),h=r(n(352)),f=r(n(353)),d=r(n(157)),m=r(n(41)),g=r(n(5)),v=a("pow",{"number, number":s,"Complex, Complex":u,"BigNumber, BigNumber":function(n,r){return r.isInteger()||n>=0||t.predictable?n.pow(r):u(new e.Complex(n.toNumber(),0),new e.Complex(r.toNumber(),0))},"Fraction, Fraction":function(e,n){if(1!==n.d){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return s(e.valueOf(),n.valueOf())}return e.pow(n)},"Array, number":l,"Array, BigNumber":function(e,t){return l(e,t.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(e,t){return c(e,t.toNumber())},"Unit, number":function(e,t){return e.pow(t)}});return v.toTex="\\left(${args[0]}\\right)"+p.operators.pow+"{${args[1]}}",v}var i=n(8).isInteger,o=n(24).size;t.name="pow",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){function o(n){return n>=0||t.predictable?Math.sqrt(n):a(new e.Complex(n,0))}function a(t){var n,r,i=Math.sqrt(t.re*t.re+t.im*t.im);return n=t.re>=0?.5*Math.sqrt(2*(i+t.re)):Math.abs(t.im)/Math.sqrt(2*(i-t.re)),r=t.re<=0?.5*Math.sqrt(2*(i-t.re)):Math.abs(t.im)/Math.sqrt(2*(i+t.re)),t.im>=0?new e.Complex(n,r):new e.Complex(n,-r)}var s=r("sqrt",{number:o,Complex:a,BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():o(e.toNumber())},"Array | Matrix":function(e){return i(e,s,!0)},Unit:function(e){return e.pow(.5)}});return s.toTex="\\sqrt{${args[0]}}",s}var i=n(6);t.name="sqrt",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=n(12),s=o("unaryMinus",{number:function(e){return-e},Complex:function(t){return new e.Complex(-t.re,-t.im)},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=s(e.value),t},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex=a.operators.unaryMinus+"\\left(${args[0]}\\right)",s}var i=n(6);t.name="unaryMinus",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(t,n){var r=u(t),i=r?new e.BigNumber(0):0;if(l(t),n){var a=c(n);return t.length>0?a.resize(t,i):a}var s=[];return t.length>0?o(s,t,i):s}function u(e){var t=!1;return e.forEach(function(e,n,r){e&&e.isBigNumber===!0&&(t=!0,r[n]=e.toNumber())}),t}function l(e){e.forEach(function(e){if("number"!=typeof e||!i(e)||0>e)throw new Error("Parameters in function zeros must be positive integers")})}var c=r(n(5)),p=a("zeros",{"":function(){return"array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(e){var n=e[e.length-1];if("string"==typeof n){var r=e.pop();return s(e,r)}return"array"===t.matrix?s(e):s(e,"default")},Array:s,Matrix:function(e){var t=e.storage();return s(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return s(e.valueOf(),t)}});return p.toTex="\\mathrm{${name}}\\left(${args}\\right)",p}var i=n(8).isInteger,o=n(24).resize;t.name="zeros",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(47)),u=r(n(84)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=n(12),f=o("smaller",{"boolean, boolean":function(e,t){return t>e},"number, number":function(e,n){return n>e&&!i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"string, string":function(e,t){return t>e},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,f);break;default:n=s(t,e,f,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,f,!1);break;default:n=c(e,t,f)}}return n},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,f,!1);break;default:n=p(e,t,f,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,f,!0);break;default:n=p(t,e,f,!0)}return n},"Array, any":function(e,t){return p(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,f,!0).valueOf()}});return f.toTex="\\left(${args[0]}"+h.operators.smaller+"${args[1]}\\right)",f}var i=n(8).nearlyEqual;t.name="smaller",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=r("isInteger",{number:o.isInteger,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return i(e,a)}});return a}var i=n(6),o=n(8);t.name="isInteger",t.factory=r},function(e,t,n){var r=n(586),i=n(1138);e.exports=function(e,t,n,o){if(e.isNaN()||!e.isFinite())return new t(0/0);var a=t.precision,s=new t(e),u=s.isNegative();u&&(s.s=-s.s);var l=a+(0|Math.log(a))+3;if(t.config({precision:l}),s=r(s,t.constructor({precision:l}),n),s[0].constructor=t,s[1])return s=s[0],o&&s.isZero()&&(s=new t(1/0)),t.config({precision:a}),s;var c;if(s=s[0],n){c=i(s.div(3125),n),t.config({precision:Math.min(l,a+15)});for(var p=new t(5),h=new t(16),f=new t(20),d=0;5>d;++d){var m=c.times(c),g=m.times(c),v=g.times(m);c=h.times(v).minus(f.times(g)).plus(p.times(c))}u&&(c.s=-c.s)}else{var y,b;s.abs().lt(t.ONE)?(y=64,b=3):(y=256,b=4),c=i(s.div(y),n),t.config({precision:Math.min(l,a+8)});for(var w=new t(8);b>0;--b){var m=c.times(c),_=m.times(m);c=w.times(_.minus(m)).plus(t.ONE)}}return o&&(c=c.e<=-a?new t(1/0):t.ONE.div(c)),t.config({precision:a}),c.toDP(a-1)}},function(e,t,n){"use strict";function r(e){return(""+e).replace(w,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t){var n=e.func,r=e.context;n.call(r,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);v(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?l(u,i,n,g.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,o+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),i.push(u))}function l(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(t,a,i,o);v(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function p(){return null}function h(e){return v(e,p,null)}function f(e){var t=[];return l(e,t,null,g.thatReturnsArgument),t}var d=n(38),m=n(17),g=n(22),v=n(111),y=d.twoArgumentPooler,b=d.fourArgumentPooler,w=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,b);var _={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:h,toArray:f};e.exports=_},function(e,t,n){"use strict";function r(e,t){var n=x.hasOwnProperty(t)?x[t]:null;k.hasOwnProperty(t)&&(n!==w.OVERRIDE_BASE?g(!1):void 0),e&&(n!==w.DEFINE_MANY&&n!==w.DEFINE_MANY_MERGED?g(!1):void 0)}function i(e,t){if(t){"function"==typeof t?g(!1):void 0,f.isValidElement(t)?g(!1):void 0;var n=e.prototype,i=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&E.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==b){var a=t[o],l=n.hasOwnProperty(o);if(r(l,o),E.hasOwnProperty(o))E[o](e,a);else{var c=x.hasOwnProperty(o),p="function"==typeof a,h=p&&!c&&!l&&t.autobind!==!1;if(h)i.push(o,a),n[o]=a;else if(l){var d=x[o];!c||d!==w.DEFINE_MANY_MERGED&&d!==w.DEFINE_MANY?g(!1):void 0,d===w.DEFINE_MANY_MERGED?n[o]=s(n[o],a):d===w.DEFINE_MANY&&(n[o]=u(n[o],a))}else n[o]=a}}}}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in E;i?g(!1):void 0;var o=n in e;o?g(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:g(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?g(!1):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=l(e,i)}}var p=n(7),h=n(146),f=n(17),d=(n(76),n(73),n(148)),m=n(61),g=n(2),v=n(75),y=n(36),b=(n(4),y({mixins:null})),w=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),_=[],x={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?s(e.getDefaultProps,t):t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},k={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},C=function(){};p(C.prototype,h.prototype,k);var A={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=t,this.refs=m,this.updater=n||d,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?g(!1):void 0,this.state=r};t.prototype=new C,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],_.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:g(!1);for(var n in x)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){_.push(e)}}};e.exports=A},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function i(e){function t(t,n,r,i,o,a){if(i=i||E,a=a||r,null==n[r]){var s=w[o];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,o,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,i,o){var a=t[n],s=g(a);if(s!==e){var u=w[i],l=v(a);return new Error("Invalid "+u+" `"+o+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return i(t)}function a(){return i(_.thatReturns(null))}function s(e){function t(t,n,r,i,o){if("function"!=typeof e)return new Error("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var s=w[i],u=g(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<a.length;l++){var c=e(a,l,r,i,o+"["+l+"]");if(c instanceof Error)return c}return null}return i(t)}function u(){function e(e,t,n,r,i){if(!b.isValidElement(e[t])){var o=w[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return i(e)}function l(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=w[i],s=e.name||E,u=y(t[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return i(t)}function c(e){function t(t,n,i,o,a){for(var s=t[n],u=0;u<e.length;u++)if(r(s,e[u]))return null;var l=w[o],c=JSON.stringify(e);return new Error("Invalid "+l+" `"+a+"` of value `"+s+"` "+("supplied to `"+i+"`, expected one of "+c+"."))}return i(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function p(e){function t(t,n,r,i,o){if("function"!=typeof e)return new Error("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],s=g(a);if("object"!==s){var u=w[i];return new Error("Invalid "+u+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var l in a)if(a.hasOwnProperty(l)){var c=e(a,l,r,i,o+"."+l);if(c instanceof Error)return c}return null}return i(t)}function h(e){function t(t,n,r,i,o){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,i,o))return null}var u=w[i];return new Error("Invalid "+u+" `"+o+"` supplied to "+("`"+r+"`."))}return i(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function e(e,t,n,r,i){if(!m(e[t])){var o=w[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(e)}function d(e){function t(t,n,r,i,o){var a=t[n],s=g(a);if("object"!==s){var u=w[i];return new Error("Invalid "+u+" `"+o+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var p=c(a,l,r,i,o+"."+l);if(p)return p}}return null}return i(t)}function m(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(m);if(null===e||b.isValidElement(e))return!0;var t=x(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!m(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!m(i[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function v(e){var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var b=n(17),w=n(73),_=n(22),x=n(99),E="<<anonymous>>",k={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:a(),arrayOf:s,element:u(),instanceOf:l,node:f(),objectOf:p,oneOf:c,oneOfType:h,shape:d};e.exports=k},,,,function(e,t,n){var r=n(30),i={};i.create=function(){var e=new r.ARRAY_TYPE(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},i.clone=function(e){var t=new r.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},i.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],p=c*a-s*l,h=-c*o+s*u,f=l*o-a*u,d=n*p+r*h+i*f;return d?(d=1/d,e[0]=p*d,e[1]=(-c*r+i*l)*d,e[2]=(s*r-i*a)*d,e[3]=h*d,e[4]=(c*n-i*u)*d,e[5]=(-s*n+i*o)*d,e[6]=f*d,e[7]=(-l*n+r*u)*d,e[8]=(a*n-r*o)*d,e):null},i.adjoint=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=a*c-s*l,e[1]=i*l-r*c,e[2]=r*s-i*a,e[3]=s*u-o*c,e[4]=n*c-i*u,e[5]=i*o-n*s,e[6]=o*l-a*u,e[7]=r*u-n*l,e[8]=n*a-r*o,e},i.determinant=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)},i.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],h=n[0],f=n[1],d=n[2],m=n[3],g=n[4],v=n[5],y=n[6],b=n[7],w=n[8];return e[0]=h*r+f*a+d*l,e[1]=h*i+f*s+d*c,e[2]=h*o+f*u+d*p,e[3]=m*r+g*a+v*l,e[4]=m*i+g*s+v*c,e[5]=m*o+g*u+v*p,e[6]=y*r+b*a+w*l,e[7]=y*i+b*s+w*c,e[8]=y*o+b*u+w*p,e},i.mul=i.multiply,i.translate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],h=n[0],f=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=h*r+f*a+l,e[7]=h*i+f*s+c,e[8]=h*o+f*u+p,e},i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],h=Math.sin(n),f=Math.cos(n);return e[0]=f*r+h*a,e[1]=f*i+h*s,e[2]=f*o+h*u,e[3]=f*a-h*r,e[4]=f*s-h*i,e[5]=f*u-h*o,e[6]=l,e[7]=c,e[8]=p,e},i.scale=function(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},i.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},i.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,p=r*s,h=i*a,f=i*s,d=i*u,m=o*a,g=o*s,v=o*u;return e[0]=1-p-d,e[3]=c-v,e[6]=h+g,e[1]=c+v,e[4]=1-l-d,e[7]=f-m,e[2]=h-g,e[5]=f+m,e[8]=1-l-p,e},i.normalFromMat4=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],p=t[9],h=t[10],f=t[11],d=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*u-i*a,w=n*l-o*a,_=r*u-i*s,x=r*l-o*s,E=i*l-o*u,k=c*m-p*d,C=c*g-h*d,A=c*v-f*d,S=p*g-h*m,M=p*v-f*m,T=h*v-f*g,D=y*T-b*M+w*S+_*A-x*C+E*k;return D?(D=1/D,e[0]=(s*T-u*M+l*S)*D,e[1]=(u*A-a*T-l*C)*D,e[2]=(a*M-s*A+l*k)*D,e[3]=(i*M-r*T-o*S)*D,e[4]=(n*T-i*A+o*C)*D,e[5]=(r*A-n*M-o*k)*D,e[6]=(m*E-g*x+v*_)*D,e[7]=(g*w-d*E-v*b)*D,e[8]=(d*x-m*w+v*y)*D,e):null},i.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},e.exports=i},function(e,t,n){var r=n(30),i={};i.create=function(){var e=new r.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},i.fromValues=function(e,t){var n=new r.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},i.set=function(e,t,n){return e[0]=t,e[1]=n,e},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},i.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},i.lerp=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e},i.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},i.transformMat2=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e},i.transformMat2d=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e},i.transformMat3=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;u>s;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}(),i.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},e.exports=i},function(e,t,n){var r=n(30),i={};i.create=function(){var e=new r.ARRAY_TYPE(3);return e[0]=0,e[1]=0,e[2]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.fromValues=function(e,t,n){var i=new r.ARRAY_TYPE(3);return i[0]=e,i[1]=t,i[2]=n,i},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},i.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e},i.lerp=function(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e},i.hermite=function(e,t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return e[0]=t[0]*s+n[0]*u+r[0]*l+i[0]*c,e[1]=t[1]*s+n[1]*u+r[1]*l+i[1]*c,e[2]=t[2]*s+n[2]*u+r[2]*l+i[2]*c,e},i.bezier=function(e,t,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,p=3*u*a,h=u*o;return e[0]=t[0]*l+n[0]*c+r[0]*p+i[0]*h,e[1]=t[1]*l+n[1]*c+r[1]*p+i[1]*h,e[2]=t[2]*l+n[2]*c+r[2]*p+i[2]*h,e},i.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=i*t,e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e},i.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},i.transformQuat=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,p=l*i+u*r-a*o,h=l*o+a*i-s*r,f=-a*r-s*i-u*o;return e[0]=c*l+f*-a+p*-u-h*-s,e[1]=p*l+f*-s+h*-a-c*-u,e[2]=h*l+f*-u+c*-s-p*-a,e},i.rotateX=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.rotateY=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.rotateZ=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;u>s;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),i.angle=function(e,t){var n=i.fromValues(e[0],e[1],e[2]),r=i.fromValues(t[0],t[1],t[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},e.exports=i},function(e,t,n){var r=n(30),i={};i.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.fromValues=function(e,t,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.set=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},i.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},i.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},i.sub=i.subtract,i.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},i.mul=i.multiply,i.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},i.div=i.divide,i.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},i.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},i.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},i.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},i.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},i.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},i.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a),e},i.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},i.lerp=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e},i.random=function(e,t){return t=t||1,e[0]=r.RANDOM(),e[1]=r.RANDOM(),e[2]=r.RANDOM(),e[3]=r.RANDOM(),i.normalize(e,e),i.scale(e,e,t),e},i.transformMat4=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e},i.transformQuat=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,p=l*i+u*r-a*o,h=l*o+a*i-s*r,f=-a*r-s*i-u*o;return e[0]=c*l+f*-a+p*-u-h*-s,e[1]=p*l+f*-s+h*-a-c*-u,e[2]=h*l+f*-u+c*-s-p*-a,e[3]=t[3],e},i.forEach=function(){var e=i.create();return function(t,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;u>s;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}(),i.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},e.exports=i},function(e,t,n){"use strict";function r(e,t,n){var r=a[e]={render:t,defaults:n};return new o(r)}function i(e){return e?a[e]:a}function o(e){this.widget=e}var a={},s=n(279);o.prototype.route=function(e,t){return t=_.defaults({},t,this.widget.defaults),s.add(e,this.widget.render,t),this},o.prototype.defaults=function(e){return this.widget.defaults=e,this};var u={add:s.add,register:r};e.exports={helper:u,register:r,get:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(35),s=r(a),u=1,l=function(){function e(){i(this,e),this.id=u++,this.uuid=s["default"](),this.type="Geometry",this.vertices=[],this.verticesNeedUpdate=!1}return o(e,[{key:"applyMatrix",value:function(e){for(var t=0;t<this.vertices.length;t++){var n=this.vertices[t];vec3.transformMat4(n,n,e)}this.verticesNeedUpdate=!0}}]),e}();t["default"]=l,l.nextID=function(){return u++},e.exports=t["default"]},,,function(e,t,n){"use strict";var r=n(22),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e){"use strict";function t(e){try{e.focus()}catch(t){}}e.exports=t},function(e){"use strict";function t(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=t},function(e,t,n){"use strict";function r(e){return a?void 0:o(!1),h.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?h[e]:null}var i=n(13),o=n(2),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){h[e]=p,s[e]=!0}),e.exports=r},function(e){"use strict";function t(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function n(e,n){if(t(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!r.call(n,i[a])||!t(e[i[a]],n[i[a]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e){function t(e,t,n,r){this.id=e,this.size=t,this.cramped=r,this.sizeMultiplier=n}t.prototype.sup=function(){return h[f[this.id]]},t.prototype.sub=function(){return h[d[this.id]]},t.prototype.fracNum=function(){return h[m[this.id]]},t.prototype.fracDen=function(){return h[g[this.id]]},t.prototype.cramp=function(){return h[v[this.id]]},t.prototype.cls=function(){return c[this.size]+(this.cramped?" cramped":" uncramped")},t.prototype.reset=function(){return p[this.size]};var n=0,r=1,i=2,o=3,a=4,s=5,u=6,l=7,c=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"],p=["reset-textstyle","reset-textstyle","reset-scriptstyle","reset-scriptscriptstyle"],h=[new t(n,0,1,!1),new t(r,0,1,!0),new t(i,1,1,!1),new t(o,1,1,!0),new t(a,2,.7,!1),new t(s,2,.7,!0),new t(u,3,.5,!1),new t(l,3,.5,!0)],f=[a,s,a,s,u,l,u,l],d=[s,s,s,s,l,l,l,l],m=[i,o,a,s,u,l,u,l],g=[o,o,s,s,l,l,l,l],v=[r,r,o,o,s,s,l,l];e.exports={DISPLAY:h[n],TEXT:h[i],SCRIPT:h[a],SCRIPTSCRIPT:h[u]}},function(e,t,n){var r=n(184),i=.431,o=1,a=.677,s=.394,u=.444,l=.686,c=.345,p=.413,h=.363,f=.289,d=.15,m=.247,g=.386,v=.05,y=2.39,b=1.01,w=.81,_=.71,x=.25,E=.04,k=.111,C=.166,A=.2,S=.6,M=.1,T=10,D={xHeight:i,quad:o,num1:a,num2:s,num3:u,denom1:l,denom2:c,sup1:p,sup2:h,sup3:f,sub1:d,sub2:m,supDrop:g,subDrop:v,axisHeight:x,defaultRuleThickness:E,bigOpSpacing1:k,bigOpSpacing2:C,bigOpSpacing3:A,bigOpSpacing4:S,bigOpSpacing5:M,ptPerEm:T,delim1:y,getDelim2:function(e){if(e.size===r.TEXT.size)return b;if(e.size===r.SCRIPT.size)return w;if(e.size===r.SCRIPTSCRIPT.size)return _;throw new Error("Unexpected style size: "+e.size)}},O={"AMS-Regular":{8672:{depth:-.064,height:.437,italic:0,skew:0},8674:{depth:-.064,height:.437,italic:0,skew:0},10003:{depth:0,height:.69224,italic:0,skew:0},10016:{depth:0,height:.69224,italic:0,skew:0},1008:{depth:0,height:.43056,italic:.04028,skew:0},107:{depth:0,height:.68889,italic:0,skew:0},10731:{depth:.11111,height:.69224,italic:0,skew:0},10846:{depth:.19444,height:.75583,italic:0,skew:0},10877:{depth:.13667,height:.63667,italic:0,skew:0},10878:{depth:.13667,height:.63667,italic:0,skew:0},10885:{depth:.25583,height:.75583,italic:0,skew:0},10886:{depth:.25583,height:.75583,italic:0,skew:0},10887:{depth:.13597,height:.63597,italic:0,skew:0},10888:{depth:.13597,height:.63597,italic:0,skew:0},10889:{depth:.26167,height:.75726,italic:0,skew:0},10890:{depth:.26167,height:.75726,italic:0,skew:0},10891:{depth:.48256,height:.98256,italic:0,skew:0},10892:{depth:.48256,height:.98256,italic:0,skew:0},10901:{depth:.13667,height:.63667,italic:0,skew:0},10902:{depth:.13667,height:.63667,italic:0,skew:0},10933:{depth:.25142,height:.75726,italic:0,skew:0},10934:{depth:.25142,height:.75726,italic:0,skew:0},10935:{depth:.26167,height:.75726,italic:0,skew:0},10936:{depth:.26167,height:.75726,italic:0,skew:0},10937:{depth:.26167,height:.75726,italic:0,skew:0},10938:{depth:.26167,height:.75726,italic:0,skew:0},10949:{depth:.25583,height:.75583,italic:0,skew:0},10950:{depth:.25583,height:.75583,italic:0,skew:0},10955:{depth:.28481,height:.79383,italic:0,skew:0},10956:{depth:.28481,height:.79383,italic:0,skew:0},165:{depth:0,height:.675,italic:.025,skew:0},174:{depth:.15559,height:.69224,italic:0,skew:0},240:{depth:0,height:.68889,italic:0,skew:0},295:{depth:0,height:.68889,italic:0,skew:0},57350:{depth:.08167,height:.58167,italic:0,skew:0},57351:{depth:.08167,height:.58167,italic:0,skew:0},57352:{depth:.08167,height:.58167,italic:0,skew:0},57353:{depth:0,height:.43056,italic:.04028,skew:0},57356:{depth:.25142,height:.75726,italic:0,skew:0},57357:{depth:.25142,height:.75726,italic:0,skew:0},57358:{depth:.41951,height:.91951,italic:0,skew:0},57359:{depth:.30274,height:.79383,italic:0,skew:0},57360:{depth:.30274,height:.79383,italic:0,skew:0},57361:{depth:.41951,height:.91951,italic:0,skew:0},57366:{depth:.25142,height:.75726,italic:0,skew:0},57367:{depth:.25142,height:.75726,italic:0,skew:0},57368:{depth:.25142,height:.75726,italic:0,skew:0},57369:{depth:.25142,height:.75726,italic:0,skew:0},57370:{depth:.13597,height:.63597,italic:0,skew:0},57371:{depth:.13597,height:.63597,italic:0,skew:0},65:{depth:0,height:.68889,italic:0,skew:0},66:{depth:0,height:.68889,italic:0,skew:0},67:{depth:0,height:.68889,italic:0,skew:0},68:{depth:0,height:.68889,italic:0,skew:0},69:{depth:0,height:.68889,italic:0,skew:0},70:{depth:0,height:.68889,italic:0,skew:0},71:{depth:0,height:.68889,italic:0,skew:0},710:{depth:0,height:.825,italic:0,skew:0},72:{depth:0,height:.68889,italic:0,skew:0},73:{depth:0,height:.68889,italic:0,skew:0},732:{depth:0,height:.9,italic:0,skew:0},74:{depth:.16667,height:.68889,italic:0,skew:0},75:{depth:0,height:.68889,italic:0,skew:0},76:{depth:0,height:.68889,italic:0,skew:0},77:{depth:0,height:.68889,italic:0,skew:0},770:{depth:0,height:.825,italic:0,skew:0},771:{depth:0,height:.9,italic:0,skew:0},78:{depth:0,height:.68889,italic:0,skew:0},79:{depth:.16667,height:.68889,italic:0,skew:0},80:{depth:0,height:.68889,italic:0,skew:0},81:{depth:.16667,height:.68889,italic:0,skew:0},82:{depth:0,height:.68889,italic:0,skew:0},8245:{depth:0,height:.54986,italic:0,skew:0},83:{depth:0,height:.68889,italic:0,skew:0},84:{depth:0,height:.68889,italic:0,skew:0},8463:{depth:0,height:.68889,italic:0,skew:0},8487:{depth:0,height:.68889,italic:0,skew:0},8498:{depth:0,height:.68889,italic:0,skew:0},85:{depth:0,height:.68889,italic:0,skew:0},8502:{depth:0,height:.68889,italic:0,skew:0},8503:{depth:0,height:.68889,italic:0,skew:0},8504:{depth:0,height:.68889,italic:0,skew:0},8513:{depth:0,height:.68889,italic:0,skew:0},8592:{depth:-.03598,height:.46402,italic:0,skew:0},8594:{depth:-.03598,height:.46402,italic:0,skew:0},86:{depth:0,height:.68889,italic:0,skew:0},8602:{depth:-.13313,height:.36687,italic:0,skew:0},8603:{depth:-.13313,height:.36687,italic:0,skew:0},8606:{depth:.01354,height:.52239,italic:0,skew:0},8608:{depth:.01354,height:.52239,italic:0,skew:0},8610:{depth:.01354,height:.52239,italic:0,skew:0},8611:{depth:.01354,height:.52239,italic:0,skew:0},8619:{depth:0,height:.54986,italic:0,skew:0},8620:{depth:0,height:.54986,italic:0,skew:0},8621:{depth:-.13313,height:.37788,italic:0,skew:0},8622:{depth:-.13313,height:.36687,italic:0,skew:0},8624:{depth:0,height:.69224,italic:0,skew:0},8625:{depth:0,height:.69224,italic:0,skew:0},8630:{depth:0,height:.43056,italic:0,skew:0},8631:{depth:0,height:.43056,italic:0,skew:0},8634:{depth:.08198,height:.58198,italic:0,skew:0},8635:{depth:.08198,height:.58198,italic:0,skew:0},8638:{depth:.19444,height:.69224,italic:0,skew:0},8639:{depth:.19444,height:.69224,italic:0,skew:0},8642:{depth:.19444,height:.69224,italic:0,skew:0},8643:{depth:.19444,height:.69224,italic:0,skew:0},8644:{depth:.1808,height:.675,italic:0,skew:0},8646:{depth:.1808,height:.675,italic:0,skew:0},8647:{depth:.1808,height:.675,italic:0,skew:0},8648:{depth:.19444,height:.69224,italic:0,skew:0},8649:{depth:.1808,height:.675,italic:0,skew:0},8650:{depth:.19444,height:.69224,italic:0,skew:0},8651:{depth:.01354,height:.52239,italic:0,skew:0},8652:{depth:.01354,height:.52239,italic:0,skew:0},8653:{depth:-.13313,height:.36687,italic:0,skew:0},8654:{depth:-.13313,height:.36687,italic:0,skew:0},8655:{depth:-.13313,height:.36687,italic:0,skew:0},8666:{depth:.13667,height:.63667,italic:0,skew:0},8667:{depth:.13667,height:.63667,italic:0,skew:0},8669:{depth:-.13313,height:.37788,italic:0,skew:0},87:{depth:0,height:.68889,italic:0,skew:0},8705:{depth:0,height:.825,italic:0,skew:0},8708:{depth:0,height:.68889,italic:0,skew:0},8709:{depth:.08167,height:.58167,italic:0,skew:0},8717:{depth:0,height:.43056,italic:0,skew:0},8722:{depth:-.03598,height:.46402,italic:0,skew:0},8724:{depth:.08198,height:.69224,italic:0,skew:0},8726:{depth:.08167,height:.58167,italic:0,skew:0},8733:{depth:0,height:.69224,italic:0,skew:0},8736:{depth:0,height:.69224,italic:0,skew:0},8737:{depth:0,height:.69224,italic:0,skew:0},8738:{depth:.03517,height:.52239,italic:0,skew:0},8739:{depth:.08167,height:.58167,italic:0,skew:0},8740:{depth:.25142,height:.74111,italic:0,skew:0},8741:{depth:.08167,height:.58167,italic:0,skew:0},8742:{depth:.25142,height:.74111,italic:0,skew:0},8756:{depth:0,height:.69224,italic:0,skew:0},8757:{depth:0,height:.69224,italic:0,skew:0},8764:{depth:-.13313,height:.36687,italic:0,skew:0},8765:{depth:-.13313,height:.37788,italic:0,skew:0},8769:{depth:-.13313,height:.36687,italic:0,skew:0},8770:{depth:-.03625,height:.46375,italic:0,skew:0},8774:{depth:.30274,height:.79383,italic:0,skew:0},8776:{depth:-.01688,height:.48312,italic:0,skew:0},8778:{depth:.08167,height:.58167,italic:0,skew:0},8782:{depth:.06062,height:.54986,italic:0,skew:0},8783:{depth:.06062,height:.54986,italic:0,skew:0},8785:{depth:.08198,height:.58198,italic:0,skew:0},8786:{depth:.08198,height:.58198,italic:0,skew:0},8787:{depth:.08198,height:.58198,italic:0,skew:0},8790:{depth:0,height:.69224,italic:0,skew:0},8791:{depth:.22958,height:.72958,italic:0,skew:0},8796:{depth:.08198,height:.91667,italic:0,skew:0},88:{depth:0,height:.68889,italic:0,skew:0},8806:{depth:.25583,height:.75583,italic:0,skew:0},8807:{depth:.25583,height:.75583,italic:0,skew:0},8808:{depth:.25142,height:.75726,italic:0,skew:0},8809:{depth:.25142,height:.75726,italic:0,skew:0},8812:{depth:.25583,height:.75583,italic:0,skew:0},8814:{depth:.20576,height:.70576,italic:0,skew:0},8815:{depth:.20576,height:.70576,italic:0,skew:0},8816:{depth:.30274,height:.79383,italic:0,skew:0},8817:{depth:.30274,height:.79383,italic:0,skew:0},8818:{depth:.22958,height:.72958,italic:0,skew:0},8819:{depth:.22958,height:.72958,italic:0,skew:0},8822:{depth:.1808,height:.675,italic:0,skew:0},8823:{depth:.1808,height:.675,italic:0,skew:0},8828:{depth:.13667,height:.63667,italic:0,skew:0},8829:{depth:.13667,height:.63667,italic:0,skew:0},8830:{depth:.22958,height:.72958,italic:0,skew:0},8831:{depth:.22958,height:.72958,italic:0,skew:0},8832:{depth:.20576,height:.70576,italic:0,skew:0},8833:{depth:.20576,height:.70576,italic:0,skew:0},8840:{depth:.30274,height:.79383,italic:0,skew:0},8841:{depth:.30274,height:.79383,italic:0,skew:0},8842:{depth:.13597,height:.63597,italic:0,skew:0},8843:{depth:.13597,height:.63597,italic:0,skew:0},8847:{depth:.03517,height:.54986,italic:0,skew:0},8848:{depth:.03517,height:.54986,italic:0,skew:0},8858:{depth:.08198,height:.58198,italic:0,skew:0},8859:{depth:.08198,height:.58198,italic:0,skew:0},8861:{depth:.08198,height:.58198,italic:0,skew:0},8862:{depth:0,height:.675,italic:0,skew:0},8863:{depth:0,height:.675,italic:0,skew:0},8864:{depth:0,height:.675,italic:0,skew:0},8865:{depth:0,height:.675,italic:0,skew:0},8872:{depth:0,height:.69224,italic:0,skew:0},8873:{depth:0,height:.69224,italic:0,skew:0},8874:{depth:0,height:.69224,italic:0,skew:0},8876:{depth:0,height:.68889,italic:0,skew:0},8877:{depth:0,height:.68889,italic:0,skew:0},8878:{depth:0,height:.68889,italic:0,skew:0},8879:{depth:0,height:.68889,italic:0,skew:0},8882:{depth:.03517,height:.54986,italic:0,skew:0},8883:{depth:.03517,height:.54986,italic:0,skew:0},8884:{depth:.13667,height:.63667,italic:0,skew:0},8885:{depth:.13667,height:.63667,italic:0,skew:0},8888:{depth:0,height:.54986,italic:0,skew:0},8890:{depth:.19444,height:.43056,italic:0,skew:0},8891:{depth:.19444,height:.69224,italic:0,skew:0},8892:{depth:.19444,height:.69224,italic:0,skew:0},89:{depth:0,height:.68889,italic:0,skew:0},8901:{depth:0,height:.54986,italic:0,skew:0},8903:{depth:.08167,height:.58167,italic:0,skew:0},8905:{depth:.08167,height:.58167,italic:0,skew:0},8906:{depth:.08167,height:.58167,italic:0,skew:0},8907:{depth:0,height:.69224,italic:0,skew:0},8908:{depth:0,height:.69224,italic:0,skew:0},8909:{depth:-.03598,height:.46402,italic:0,skew:0},8910:{depth:0,height:.54986,italic:0,skew:0},8911:{depth:0,height:.54986,italic:0,skew:0},8912:{depth:.03517,height:.54986,italic:0,skew:0},8913:{depth:.03517,height:.54986,italic:0,skew:0},8914:{depth:0,height:.54986,italic:0,skew:0},8915:{depth:0,height:.54986,italic:0,skew:0},8916:{depth:0,height:.69224,italic:0,skew:0},8918:{depth:.0391,height:.5391,italic:0,skew:0},8919:{depth:.0391,height:.5391,italic:0,skew:0},8920:{depth:.03517,height:.54986,italic:0,skew:0},8921:{depth:.03517,height:.54986,italic:0,skew:0},8922:{depth:.38569,height:.88569,italic:0,skew:0},8923:{depth:.38569,height:.88569,italic:0,skew:0},8926:{depth:.13667,height:.63667,italic:0,skew:0},8927:{depth:.13667,height:.63667,italic:0,skew:0},8928:{depth:.30274,height:.79383,italic:0,skew:0},8929:{depth:.30274,height:.79383,italic:0,skew:0},8934:{depth:.23222,height:.74111,italic:0,skew:0},8935:{depth:.23222,height:.74111,italic:0,skew:0},8936:{depth:.23222,height:.74111,italic:0,skew:0},8937:{depth:.23222,height:.74111,italic:0,skew:0},8938:{depth:.20576,height:.70576,italic:0,skew:0},8939:{depth:.20576,height:.70576,italic:0,skew:0},8940:{depth:.30274,height:.79383,italic:0,skew:0},8941:{depth:.30274,height:.79383,italic:0,skew:0},8994:{depth:.19444,height:.69224,italic:0,skew:0},8995:{depth:.19444,height:.69224,italic:0,skew:0},90:{depth:0,height:.68889,italic:0,skew:0},9416:{depth:.15559,height:.69224,italic:0,skew:0},9484:{depth:0,height:.69224,italic:0,skew:0},9488:{depth:0,height:.69224,italic:0,skew:0},9492:{depth:0,height:.37788,italic:0,skew:0},9496:{depth:0,height:.37788,italic:0,skew:0},9585:{depth:.19444,height:.68889,italic:0,skew:0},9586:{depth:.19444,height:.74111,italic:0,skew:0},9632:{depth:0,height:.675,italic:0,skew:0},9633:{depth:0,height:.675,italic:0,skew:0},9650:{depth:0,height:.54986,italic:0,skew:0},9651:{depth:0,height:.54986,italic:0,skew:0},9654:{depth:.03517,height:.54986,italic:0,skew:0},9660:{depth:0,height:.54986,italic:0,skew:0},9661:{depth:0,height:.54986,italic:0,skew:0},9664:{depth:.03517,height:.54986,italic:0,skew:0},9674:{depth:.11111,height:.69224,italic:0,skew:0},9733:{depth:.19444,height:.69224,italic:0,skew:0},989:{depth:.08167,height:.58167,italic:0,skew:0}},"Main-Bold":{100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.44444,italic:0,skew:0},102:{depth:0,height:.69444,italic:.10903,skew:0},10216:{depth:.25,height:.75,italic:0,skew:0},10217:{depth:.25,height:.75,italic:0,skew:0},103:{depth:.19444,height:.44444,italic:.01597,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.69444,italic:0,skew:0},106:{depth:.19444,height:.69444,italic:0,skew:0},107:{depth:0,height:.69444,italic:0,skew:0},108:{depth:0,height:.69444,italic:0,skew:0},10815:{depth:0,height:.68611,italic:0,skew:0},109:{depth:0,height:.44444,italic:0,skew:0},10927:{depth:.19667,height:.69667,italic:0,skew:0},10928:{depth:.19667,height:.69667,italic:0,skew:0},110:{depth:0,height:.44444,italic:0,skew:0},111:{depth:0,height:.44444,italic:0,skew:0},112:{depth:.19444,height:.44444,italic:0,skew:0},113:{depth:.19444,height:.44444,italic:0,skew:0},114:{depth:0,height:.44444,italic:0,skew:0},115:{depth:0,height:.44444,italic:0,skew:0},116:{depth:0,height:.63492,italic:0,skew:0},117:{depth:0,height:.44444,italic:0,skew:0},118:{depth:0,height:.44444,italic:.01597,skew:0},119:{depth:0,height:.44444,italic:.01597,skew:0},120:{depth:0,height:.44444,italic:0,skew:0},121:{depth:.19444,height:.44444,italic:.01597,skew:0},122:{depth:0,height:.44444,italic:0,skew:0},123:{depth:.25,height:.75,italic:0,skew:0},124:{depth:.25,height:.75,italic:0,skew:0},125:{depth:.25,height:.75,italic:0,skew:0},126:{depth:.35,height:.34444,italic:0,skew:0},168:{depth:0,height:.69444,italic:0,skew:0},172:{depth:0,height:.44444,italic:0,skew:0},175:{depth:0,height:.59611,italic:0,skew:0},176:{depth:0,height:.69444,italic:0,skew:0},177:{depth:.13333,height:.63333,italic:0,skew:0},180:{depth:0,height:.69444,italic:0,skew:0},215:{depth:.13333,height:.63333,italic:0,skew:0},247:{depth:.13333,height:.63333,italic:0,skew:0},305:{depth:0,height:.44444,italic:0,skew:0},33:{depth:0,height:.69444,italic:0,skew:0},34:{depth:0,height:.69444,italic:0,skew:0},35:{depth:.19444,height:.69444,italic:0,skew:0},36:{depth:.05556,height:.75,italic:0,skew:0},37:{depth:.05556,height:.75,italic:0,skew:0},38:{depth:0,height:.69444,italic:0,skew:0},39:{depth:0,height:.69444,italic:0,skew:0},40:{depth:.25,height:.75,italic:0,skew:0},41:{depth:.25,height:.75,italic:0,skew:0},42:{depth:0,height:.75,italic:0,skew:0},43:{depth:.13333,height:.63333,italic:0,skew:0},44:{depth:.19444,height:.15556,italic:0,skew:0},45:{depth:0,height:.44444,italic:0,skew:0},46:{depth:0,height:.15556,italic:0,skew:0},47:{depth:.25,height:.75,italic:0,skew:0},48:{depth:0,height:.64444,italic:0,skew:0},49:{depth:0,height:.64444,italic:0,skew:0},50:{depth:0,height:.64444,italic:0,skew:0},51:{depth:0,height:.64444,italic:0,skew:0},52:{depth:0,height:.64444,italic:0,skew:0},53:{depth:0,height:.64444,italic:0,skew:0},54:{depth:0,height:.64444,italic:0,skew:0},55:{depth:0,height:.64444,italic:0,skew:0},56:{depth:0,height:.64444,italic:0,skew:0},567:{depth:.19444,height:.44444,italic:0,skew:0},57:{depth:0,height:.64444,italic:0,skew:0},58:{depth:0,height:.44444,italic:0,skew:0},59:{depth:.19444,height:.44444,italic:0,skew:0},60:{depth:.08556,height:.58556,italic:0,skew:0},61:{depth:-.10889,height:.39111,italic:0,skew:0},62:{depth:.08556,height:.58556,italic:0,skew:0},63:{depth:0,height:.69444,italic:0,skew:0},64:{depth:0,height:.69444,italic:0,skew:0},65:{depth:0,height:.68611,italic:0,skew:0},66:{depth:0,height:.68611,italic:0,skew:0},67:{depth:0,height:.68611,italic:0,skew:0},68:{depth:0,height:.68611,italic:0,skew:0},69:{depth:0,height:.68611,italic:0,skew:0},70:{depth:0,height:.68611,italic:0,skew:0},71:{depth:0,height:.68611,italic:0,skew:0},710:{depth:0,height:.69444,italic:0,skew:0},711:{depth:0,height:.63194,italic:0,skew:0},713:{depth:0,height:.59611,italic:0,skew:0},714:{depth:0,height:.69444,italic:0,skew:0},715:{depth:0,height:.69444,italic:0,skew:0},72:{depth:0,height:.68611,italic:0,skew:0},728:{depth:0,height:.69444,italic:0,skew:0},729:{depth:0,height:.69444,italic:0,skew:0},73:{depth:0,height:.68611,italic:0,skew:0},730:{depth:0,height:.69444,italic:0,skew:0},732:{depth:0,height:.69444,italic:0,skew:0},74:{depth:0,height:.68611,italic:0,skew:0},75:{depth:0,height:.68611,italic:0,skew:0},76:{depth:0,height:.68611,italic:0,skew:0},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:0,skew:0},77:{depth:0,height:.68611,italic:0,skew:0},770:{depth:0,height:.69444,italic:0,skew:0},771:{depth:0,height:.69444,italic:0,skew:0},772:{depth:0,height:.59611,italic:0,skew:0},774:{depth:0,height:.69444,italic:0,skew:0},775:{depth:0,height:.69444,italic:0,skew:0},776:{depth:0,height:.69444,italic:0,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:0,skew:0},78:{depth:0,height:.68611,italic:0,skew:0},780:{depth:0,height:.63194,italic:0,skew:0},79:{depth:0,height:.68611,italic:0,skew:0},80:{depth:0,height:.68611,italic:0,skew:0},81:{depth:.19444,height:.68611,italic:0,skew:0},82:{depth:0,height:.68611,italic:0,skew:0},8211:{depth:0,height:.44444,italic:.03194,skew:0},8212:{depth:0,height:.44444,italic:.03194,skew:0},8216:{depth:0,height:.69444,italic:0,skew:0},8217:{depth:0,height:.69444,italic:0,skew:0},8220:{depth:0,height:.69444,italic:0,skew:0},8221:{depth:0,height:.69444,italic:0,skew:0},8224:{depth:.19444,height:.69444,italic:0,skew:0},8225:{depth:.19444,height:.69444,italic:0,skew:0},824:{depth:.19444,height:.69444,italic:0,skew:0},8242:{depth:0,height:.55556,italic:0,skew:0},83:{depth:0,height:.68611,italic:0,skew:0},84:{depth:0,height:.68611,italic:0,skew:0},8407:{depth:0,height:.72444,italic:.15486,skew:0},8463:{depth:0,height:.69444,italic:0,skew:0},8465:{depth:0,height:.69444,italic:0,skew:0},8467:{depth:0,height:.69444,italic:0,skew:0},8472:{depth:.19444,height:.44444,italic:0,skew:0},8476:{depth:0,height:.69444,italic:0,skew:0},85:{depth:0,height:.68611,italic:0,skew:0},8501:{depth:0,height:.69444,italic:0,skew:0},8592:{depth:-.10889,height:.39111,italic:0,skew:0},8593:{depth:.19444,height:.69444,italic:0,skew:0},8594:{depth:-.10889,height:.39111,italic:0,skew:0},8595:{depth:.19444,height:.69444,italic:0,skew:0},8596:{depth:-.10889,height:.39111,italic:0,skew:0},8597:{depth:.25,height:.75,italic:0,skew:0},8598:{depth:.19444,height:.69444,italic:0,skew:0},8599:{depth:.19444,height:.69444,italic:0,skew:0},86:{depth:0,height:.68611,italic:.01597,skew:0},8600:{depth:.19444,height:.69444,italic:0,skew:0},8601:{depth:.19444,height:.69444,italic:0,skew:0},8636:{depth:-.10889,height:.39111,italic:0,skew:0},8637:{depth:-.10889,height:.39111,italic:0,skew:0},8640:{depth:-.10889,height:.39111,italic:0,skew:0},8641:{depth:-.10889,height:.39111,italic:0,skew:0},8656:{depth:-.10889,height:.39111,italic:0,skew:0},8657:{depth:.19444,height:.69444,italic:0,skew:0},8658:{depth:-.10889,height:.39111,italic:0,skew:0},8659:{depth:.19444,height:.69444,italic:0,skew:0},8660:{depth:-.10889,height:.39111,italic:0,skew:0},8661:{depth:.25,height:.75,italic:0,skew:0},87:{depth:0,height:.68611,italic:.01597,skew:0},8704:{depth:0,height:.69444,italic:0,skew:0},8706:{depth:0,height:.69444,italic:.06389,skew:0},8707:{depth:0,height:.69444,italic:0,skew:0},8709:{depth:.05556,height:.75,italic:0,skew:0},8711:{depth:0,height:.68611,italic:0,skew:0},8712:{depth:.08556,height:.58556,italic:0,skew:0},8715:{depth:.08556,height:.58556,italic:0,skew:0},8722:{depth:.13333,height:.63333,italic:0,skew:0},8723:{depth:.13333,height:.63333,italic:0,skew:0},8725:{depth:.25,height:.75,italic:0,skew:0},8726:{depth:.25,height:.75,italic:0,skew:0},8727:{depth:-.02778,height:.47222,italic:0,skew:0},8728:{depth:-.02639,height:.47361,italic:0,skew:0},8729:{depth:-.02639,height:.47361,italic:0,skew:0},8730:{depth:.18,height:.82,italic:0,skew:0},8733:{depth:0,height:.44444,italic:0,skew:0},8734:{depth:0,height:.44444,italic:0,skew:0},8736:{depth:0,height:.69224,italic:0,skew:0},8739:{depth:.25,height:.75,italic:0,skew:0},8741:{depth:.25,height:.75,italic:0,skew:0},8743:{depth:0,height:.55556,italic:0,skew:0},8744:{depth:0,height:.55556,italic:0,skew:0},8745:{depth:0,height:.55556,italic:0,skew:0},8746:{depth:0,height:.55556,italic:0,skew:0},8747:{depth:.19444,height:.69444,italic:.12778,skew:0},8764:{depth:-.10889,height:.39111,italic:0,skew:0},8768:{depth:.19444,height:.69444,italic:0,skew:0},8771:{depth:.00222,height:.50222,italic:0,skew:0},8776:{depth:.02444,height:.52444,italic:0,skew:0},8781:{depth:.00222,height:.50222,italic:0,skew:0},88:{depth:0,height:.68611,italic:0,skew:0},8801:{depth:.00222,height:.50222,italic:0,skew:0},8804:{depth:.19667,height:.69667,italic:0,skew:0},8805:{depth:.19667,height:.69667,italic:0,skew:0},8810:{depth:.08556,height:.58556,italic:0,skew:0},8811:{depth:.08556,height:.58556,italic:0,skew:0},8826:{depth:.08556,height:.58556,italic:0,skew:0},8827:{depth:.08556,height:.58556,italic:0,skew:0},8834:{depth:.08556,height:.58556,italic:0,skew:0},8835:{depth:.08556,height:.58556,italic:0,skew:0},8838:{depth:.19667,height:.69667,italic:0,skew:0},8839:{depth:.19667,height:.69667,italic:0,skew:0},8846:{depth:0,height:.55556,italic:0,skew:0},8849:{depth:.19667,height:.69667,italic:0,skew:0},8850:{depth:.19667,height:.69667,italic:0,skew:0},8851:{depth:0,height:.55556,italic:0,skew:0},8852:{depth:0,height:.55556,italic:0,skew:0},8853:{depth:.13333,height:.63333,italic:0,skew:0},8854:{depth:.13333,height:.63333,italic:0,skew:0},8855:{depth:.13333,height:.63333,italic:0,skew:0},8856:{depth:.13333,height:.63333,italic:0,skew:0},8857:{depth:.13333,height:.63333,italic:0,skew:0},8866:{depth:0,height:.69444,italic:0,skew:0},8867:{depth:0,height:.69444,italic:0,skew:0},8868:{depth:0,height:.69444,italic:0,skew:0},8869:{depth:0,height:.69444,italic:0,skew:0},89:{depth:0,height:.68611,italic:.02875,skew:0},8900:{depth:-.02639,height:.47361,italic:0,skew:0},8901:{depth:-.02639,height:.47361,italic:0,skew:0},8902:{depth:-.02778,height:.47222,italic:0,skew:0},8968:{depth:.25,height:.75,italic:0,skew:0},8969:{depth:.25,height:.75,italic:0,skew:0},8970:{depth:.25,height:.75,italic:0,skew:0},8971:{depth:.25,height:.75,italic:0,skew:0},8994:{depth:-.13889,height:.36111,italic:0,skew:0},8995:{depth:-.13889,height:.36111,italic:0,skew:0},90:{depth:0,height:.68611,italic:0,skew:0},91:{depth:.25,height:.75,italic:0,skew:0},915:{depth:0,height:.68611,italic:0,skew:0},916:{depth:0,height:.68611,italic:0,skew:0},92:{depth:.25,height:.75,italic:0,skew:0},920:{depth:0,height:.68611,italic:0,skew:0},923:{depth:0,height:.68611,italic:0,skew:0},926:{depth:0,height:.68611,italic:0,skew:0},928:{depth:0,height:.68611,italic:0,skew:0},93:{depth:.25,height:.75,italic:0,skew:0},931:{depth:0,height:.68611,italic:0,skew:0},933:{depth:0,height:.68611,italic:0,skew:0},934:{depth:0,height:.68611,italic:0,skew:0},936:{depth:0,height:.68611,italic:0,skew:0},937:{depth:0,height:.68611,italic:0,skew:0},94:{depth:0,height:.69444,italic:0,skew:0},95:{depth:.31,height:.13444,italic:.03194,skew:0},96:{depth:0,height:.69444,italic:0,skew:0},9651:{depth:.19444,height:.69444,italic:0,skew:0},9657:{depth:-.02778,height:.47222,italic:0,skew:0},9661:{depth:.19444,height:.69444,italic:0,skew:0},9667:{depth:-.02778,height:.47222,italic:0,skew:0},97:{depth:0,height:.44444,italic:0,skew:0},9711:{depth:.19444,height:.69444,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},9824:{depth:.12963,height:.69444,italic:0,skew:0},9825:{depth:.12963,height:.69444,italic:0,skew:0},9826:{depth:.12963,height:.69444,italic:0,skew:0},9827:{depth:.12963,height:.69444,italic:0,skew:0},9837:{depth:0,height:.75,italic:0,skew:0},9838:{depth:.19444,height:.69444,italic:0,skew:0},9839:{depth:.19444,height:.69444,italic:0,skew:0},99:{depth:0,height:.44444,italic:0,skew:0}},"Main-Italic":{100:{depth:0,height:.69444,italic:.10333,skew:0},101:{depth:0,height:.43056,italic:.07514,skew:0},102:{depth:.19444,height:.69444,italic:.21194,skew:0},103:{depth:.19444,height:.43056,italic:.08847,skew:0},104:{depth:0,height:.69444,italic:.07671,skew:0},105:{depth:0,height:.65536,italic:.1019,skew:0},106:{depth:.19444,height:.65536,italic:.14467,skew:0},107:{depth:0,height:.69444,italic:.10764,skew:0},108:{depth:0,height:.69444,italic:.10333,skew:0},109:{depth:0,height:.43056,italic:.07671,skew:0},110:{depth:0,height:.43056,italic:.07671,skew:0},111:{depth:0,height:.43056,italic:.06312,skew:0},112:{depth:.19444,height:.43056,italic:.06312,skew:0},113:{depth:.19444,height:.43056,italic:.08847,skew:0},114:{depth:0,height:.43056,italic:.10764,skew:0},115:{depth:0,height:.43056,italic:.08208,skew:0},116:{depth:0,height:.61508,italic:.09486,skew:0},117:{depth:0,height:.43056,italic:.07671,skew:0},118:{depth:0,height:.43056,italic:.10764,skew:0},119:{depth:0,height:.43056,italic:.10764,skew:0},120:{depth:0,height:.43056,italic:.12042,skew:0},121:{depth:.19444,height:.43056,italic:.08847,skew:0},122:{depth:0,height:.43056,italic:.12292,skew:0},126:{depth:.35,height:.31786,italic:.11585,skew:0},163:{depth:0,height:.69444,italic:0,skew:0},305:{depth:0,height:.43056,italic:.07671,skew:0},33:{depth:0,height:.69444,italic:.12417,skew:0},34:{depth:0,height:.69444,italic:.06961,skew:0},35:{depth:.19444,height:.69444,italic:.06616,skew:0},37:{depth:.05556,height:.75,italic:.13639,skew:0},38:{depth:0,height:.69444,italic:.09694,skew:0},39:{depth:0,height:.69444,italic:.12417,skew:0},40:{depth:.25,height:.75,italic:.16194,skew:0},41:{depth:.25,height:.75,italic:.03694,skew:0},42:{depth:0,height:.75,italic:.14917,skew:0},43:{depth:.05667,height:.56167,italic:.03694,skew:0},44:{depth:.19444,height:.10556,italic:0,skew:0},45:{depth:0,height:.43056,italic:.02826,skew:0},46:{depth:0,height:.10556,italic:0,skew:0},47:{depth:.25,height:.75,italic:.16194,skew:0},48:{depth:0,height:.64444,italic:.13556,skew:0},49:{depth:0,height:.64444,italic:.13556,skew:0},50:{depth:0,height:.64444,italic:.13556,skew:0},51:{depth:0,height:.64444,italic:.13556,skew:0},52:{depth:.19444,height:.64444,italic:.13556,skew:0},53:{depth:0,height:.64444,italic:.13556,skew:0},54:{depth:0,height:.64444,italic:.13556,skew:0},55:{depth:.19444,height:.64444,italic:.13556,skew:0},56:{depth:0,height:.64444,italic:.13556,skew:0},567:{depth:.19444,height:.43056,italic:.03736,skew:0},57:{depth:0,height:.64444,italic:.13556,skew:0},58:{depth:0,height:.43056,italic:.0582,skew:0},59:{depth:.19444,height:.43056,italic:.0582,skew:0},61:{depth:-.13313,height:.36687,italic:.06616,skew:0},63:{depth:0,height:.69444,italic:.1225,skew:0},64:{depth:0,height:.69444,italic:.09597,skew:0},65:{depth:0,height:.68333,italic:0,skew:0},66:{depth:0,height:.68333,italic:.10257,skew:0},67:{depth:0,height:.68333,italic:.14528,skew:0},68:{depth:0,height:.68333,italic:.09403,skew:0},69:{depth:0,height:.68333,italic:.12028,skew:0},70:{depth:0,height:.68333,italic:.13305,skew:0},71:{depth:0,height:.68333,italic:.08722,skew:0},72:{depth:0,height:.68333,italic:.16389,skew:0},73:{depth:0,height:.68333,italic:.15806,skew:0},74:{depth:0,height:.68333,italic:.14028,skew:0},75:{depth:0,height:.68333,italic:.14528,skew:0},76:{depth:0,height:.68333,italic:0,skew:0},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:.09694,skew:0},77:{depth:0,height:.68333,italic:.16389,skew:0},770:{depth:0,height:.69444,italic:.06646,skew:0},771:{depth:0,height:.66786,italic:.11585,skew:0},772:{depth:0,height:.56167,italic:.10333,skew:0},774:{depth:0,height:.69444,italic:.10806,skew:0},775:{depth:0,height:.66786,italic:.11752,skew:0},776:{depth:0,height:.66786,italic:.10474,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:.1225,skew:0},78:{depth:0,height:.68333,italic:.16389,skew:0},780:{depth:0,height:.62847,italic:.08295,skew:0},79:{depth:0,height:.68333,italic:.09403,skew:0},80:{depth:0,height:.68333,italic:.10257,skew:0},81:{depth:.19444,height:.68333,italic:.09403,skew:0},82:{depth:0,height:.68333,italic:.03868,skew:0},8211:{depth:0,height:.43056,italic:.09208,skew:0},8212:{depth:0,height:.43056,italic:.09208,skew:0},8216:{depth:0,height:.69444,italic:.12417,skew:0},8217:{depth:0,height:.69444,italic:.12417,skew:0},8220:{depth:0,height:.69444,italic:.1685,skew:0},8221:{depth:0,height:.69444,italic:.06961,skew:0},83:{depth:0,height:.68333,italic:.11972,skew:0},84:{depth:0,height:.68333,italic:.13305,skew:0},8463:{depth:0,height:.68889,italic:0,skew:0},85:{depth:0,height:.68333,italic:.16389,skew:0},86:{depth:0,height:.68333,italic:.18361,skew:0},87:{depth:0,height:.68333,italic:.18361,skew:0},88:{depth:0,height:.68333,italic:.15806,skew:0},89:{depth:0,height:.68333,italic:.19383,skew:0},90:{depth:0,height:.68333,italic:.14528,skew:0},91:{depth:.25,height:.75,italic:.1875,skew:0},915:{depth:0,height:.68333,italic:.13305,skew:0},916:{depth:0,height:.68333,italic:0,skew:0},920:{depth:0,height:.68333,italic:.09403,skew:0},923:{depth:0,height:.68333,italic:0,skew:0},926:{depth:0,height:.68333,italic:.15294,skew:0},928:{depth:0,height:.68333,italic:.16389,skew:0},93:{depth:.25,height:.75,italic:.10528,skew:0},931:{depth:0,height:.68333,italic:.12028,skew:0},933:{depth:0,height:.68333,italic:.11111,skew:0},934:{depth:0,height:.68333,italic:.05986,skew:0},936:{depth:0,height:.68333,italic:.11111,skew:0},937:{depth:0,height:.68333,italic:.10257,skew:0},94:{depth:0,height:.69444,italic:.06646,skew:0},95:{depth:.31,height:.12056,italic:.09208,skew:0},97:{depth:0,height:.43056,italic:.07671,skew:0},98:{depth:0,height:.69444,italic:.06312,skew:0},99:{depth:0,height:.43056,italic:.05653,skew:0}},"Main-Regular":{32:{depth:-0,height:0,italic:0,skew:0},160:{depth:-0,height:0,italic:0,skew:0},8230:{depth:-0,height:.12,italic:0,skew:0},8614:{depth:.011,height:.511,italic:0,skew:0},8617:{depth:.011,height:.511,italic:0,skew:0},8618:{depth:.011,height:.511,italic:0,skew:0},8652:{depth:.011,height:.671,italic:0,skew:0},8773:{depth:-.022,height:.589,italic:0,skew:0},8784:{depth:-.133,height:.67,italic:0,skew:0},8800:{depth:.215,height:.716,italic:0,skew:0},8872:{depth:.249,height:.75,italic:0,skew:0},8904:{depth:.005,height:.505,italic:0,skew:0},8942:{depth:.03,height:.9,italic:0,skew:0},8943:{depth:-.19,height:.31,italic:0,skew:0},8945:{depth:-.1,height:.82,italic:0,skew:0},9136:{depth:.244,height:.744,italic:0,skew:0},9137:{depth:.244,height:.744,italic:0,skew:0},10222:{depth:.244,height:.744,italic:0,skew:0},10223:{depth:.244,height:.744,italic:0,skew:0},10229:{depth:.011,height:.511,italic:0,skew:0},10230:{depth:.011,height:.511,italic:0,skew:0},10231:{depth:.011,height:.511,italic:0,skew:0},10232:{depth:.024,height:.525,italic:0,skew:0},10233:{depth:.024,height:.525,italic:0,skew:0},10234:{depth:.024,height:.525,italic:0,skew:0},10236:{depth:.011,height:.511,italic:0,skew:0},100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.43056,italic:0,skew:0},102:{depth:0,height:.69444,italic:.07778,skew:0},10216:{depth:.25,height:.75,italic:0,skew:0},10217:{depth:.25,height:.75,italic:0,skew:0},103:{depth:.19444,height:.43056,italic:.01389,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.66786,italic:0,skew:0},106:{depth:.19444,height:.66786,italic:0,skew:0},107:{depth:0,height:.69444,italic:0,skew:0},108:{depth:0,height:.69444,italic:0,skew:0},10815:{depth:0,height:.68333,italic:0,skew:0},109:{depth:0,height:.43056,italic:0,skew:0},10927:{depth:.13597,height:.63597,italic:0,skew:0},10928:{depth:.13597,height:.63597,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:0},112:{depth:.19444,height:.43056,italic:0,skew:0},113:{depth:.19444,height:.43056,italic:0,skew:0},114:{depth:0,height:.43056,italic:0,skew:0},115:{depth:0,height:.43056,italic:0,skew:0},116:{depth:0,height:.61508,italic:0,skew:0},117:{depth:0,height:.43056,italic:0,skew:0},118:{depth:0,height:.43056,italic:.01389,skew:0},119:{depth:0,height:.43056,italic:.01389,skew:0},120:{depth:0,height:.43056,italic:0,skew:0},121:{depth:.19444,height:.43056,italic:.01389,skew:0},122:{depth:0,height:.43056,italic:0,skew:0},123:{depth:.25,height:.75,italic:0,skew:0},124:{depth:.25,height:.75,italic:0,skew:0},125:{depth:.25,height:.75,italic:0,skew:0},126:{depth:.35,height:.31786,italic:0,skew:0},168:{depth:0,height:.66786,italic:0,skew:0},172:{depth:0,height:.43056,italic:0,skew:0},175:{depth:0,height:.56778,italic:0,skew:0},176:{depth:0,height:.69444,italic:0,skew:0},177:{depth:.08333,height:.58333,italic:0,skew:0},180:{depth:0,height:.69444,italic:0,skew:0},215:{depth:.08333,height:.58333,italic:0,skew:0},247:{depth:.08333,height:.58333,italic:0,skew:0},305:{depth:0,height:.43056,italic:0,skew:.02778},33:{depth:0,height:.69444,italic:0,skew:0},34:{depth:0,height:.69444,italic:0,skew:0},35:{depth:.19444,height:.69444,italic:0,skew:0},36:{depth:.05556,height:.75,italic:0,skew:0},37:{depth:.05556,height:.75,italic:0,skew:0},38:{depth:0,height:.69444,italic:0,skew:0},39:{depth:0,height:.69444,italic:0,skew:0},40:{depth:.25,height:.75,italic:0,skew:0},41:{depth:.25,height:.75,italic:0,skew:0},42:{depth:0,height:.75,italic:0,skew:0},43:{depth:.08333,height:.58333,italic:0,skew:0},44:{depth:.19444,height:.10556,italic:0,skew:0},45:{depth:0,height:.43056,italic:0,skew:0},46:{depth:0,height:.10556,italic:0,skew:0},47:{depth:.25,height:.75,italic:0,skew:0},48:{depth:0,height:.64444,italic:0,skew:0},49:{depth:0,height:.64444,italic:0,skew:0},50:{depth:0,height:.64444,italic:0,skew:0},51:{depth:0,height:.64444,italic:0,skew:0},52:{depth:0,height:.64444,italic:0,skew:0},53:{depth:0,height:.64444,italic:0,skew:0},54:{depth:0,height:.64444,italic:0,skew:0},55:{depth:0,height:.64444,italic:0,skew:0},56:{depth:0,height:.64444,italic:0,skew:0},567:{depth:.19444,height:.43056,italic:0,skew:.08334},57:{depth:0,height:.64444,italic:0,skew:0},58:{depth:0,height:.43056,italic:0,skew:0},59:{depth:.19444,height:.43056,italic:0,skew:0},60:{depth:.0391,height:.5391,italic:0,skew:0},61:{depth:-.13313,height:.36687,italic:0,skew:0},62:{depth:.0391,height:.5391,italic:0,skew:0},63:{depth:0,height:.69444,italic:0,skew:0},64:{depth:0,height:.69444,italic:0,skew:0},65:{depth:0,height:.68333,italic:0,skew:0},66:{depth:0,height:.68333,italic:0,skew:0},67:{depth:0,height:.68333,italic:0,skew:0},68:{depth:0,height:.68333,italic:0,skew:0},69:{depth:0,height:.68333,italic:0,skew:0},70:{depth:0,height:.68333,italic:0,skew:0},71:{depth:0,height:.68333,italic:0,skew:0},710:{depth:0,height:.69444,italic:0,skew:0},711:{depth:0,height:.62847,italic:0,skew:0},713:{depth:0,height:.56778,italic:0,skew:0},714:{depth:0,height:.69444,italic:0,skew:0},715:{depth:0,height:.69444,italic:0,skew:0},72:{depth:0,height:.68333,italic:0,skew:0},728:{depth:0,height:.69444,italic:0,skew:0},729:{depth:0,height:.66786,italic:0,skew:0},73:{depth:0,height:.68333,italic:0,skew:0},730:{depth:0,height:.69444,italic:0,skew:0},732:{depth:0,height:.66786,italic:0,skew:0},74:{depth:0,height:.68333,italic:0,skew:0},75:{depth:0,height:.68333,italic:0,skew:0},76:{depth:0,height:.68333,italic:0,skew:0},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:0,skew:0},77:{depth:0,height:.68333,italic:0,skew:0},770:{depth:0,height:.69444,italic:0,skew:0},771:{depth:0,height:.66786,italic:0,skew:0},772:{depth:0,height:.56778,italic:0,skew:0},774:{depth:0,height:.69444,italic:0,skew:0},775:{depth:0,height:.66786,italic:0,skew:0},776:{depth:0,height:.66786,italic:0,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:0,skew:0},78:{depth:0,height:.68333,italic:0,skew:0},780:{depth:0,height:.62847,italic:0,skew:0},79:{depth:0,height:.68333,italic:0,skew:0},80:{depth:0,height:.68333,italic:0,skew:0},81:{depth:.19444,height:.68333,italic:0,skew:0},82:{depth:0,height:.68333,italic:0,skew:0},8211:{depth:0,height:.43056,italic:.02778,skew:0},8212:{depth:0,height:.43056,italic:.02778,skew:0},8216:{depth:0,height:.69444,italic:0,skew:0},8217:{depth:0,height:.69444,italic:0,skew:0},8220:{depth:0,height:.69444,italic:0,skew:0},8221:{depth:0,height:.69444,italic:0,skew:0},8224:{depth:.19444,height:.69444,italic:0,skew:0},8225:{depth:.19444,height:.69444,italic:0,skew:0},824:{depth:.19444,height:.69444,italic:0,skew:0},8242:{depth:0,height:.55556,italic:0,skew:0},83:{depth:0,height:.68333,italic:0,skew:0},84:{depth:0,height:.68333,italic:0,skew:0},8407:{depth:0,height:.71444,italic:.15382,skew:0},8463:{depth:0,height:.68889,italic:0,skew:0},8465:{depth:0,height:.69444,italic:0,skew:0},8467:{depth:0,height:.69444,italic:0,skew:.11111},8472:{depth:.19444,height:.43056,italic:0,skew:.11111},8476:{depth:0,height:.69444,italic:0,skew:0},85:{depth:0,height:.68333,italic:0,skew:0},8501:{depth:0,height:.69444,italic:0,skew:0},8592:{depth:-.13313,height:.36687,italic:0,skew:0},8593:{depth:.19444,height:.69444,italic:0,skew:0},8594:{depth:-.13313,height:.36687,italic:0,skew:0},8595:{depth:.19444,height:.69444,italic:0,skew:0},8596:{depth:-.13313,height:.36687,italic:0,skew:0},8597:{depth:.25,height:.75,italic:0,skew:0},8598:{depth:.19444,height:.69444,italic:0,skew:0},8599:{depth:.19444,height:.69444,italic:0,skew:0},86:{depth:0,height:.68333,italic:.01389,skew:0},8600:{depth:.19444,height:.69444,italic:0,skew:0},8601:{depth:.19444,height:.69444,italic:0,skew:0},8636:{depth:-.13313,height:.36687,italic:0,skew:0},8637:{depth:-.13313,height:.36687,italic:0,skew:0},8640:{depth:-.13313,height:.36687,italic:0,skew:0},8641:{depth:-.13313,height:.36687,italic:0,skew:0},8656:{depth:-.13313,height:.36687,italic:0,skew:0},8657:{depth:.19444,height:.69444,italic:0,skew:0},8658:{depth:-.13313,height:.36687,italic:0,skew:0},8659:{depth:.19444,height:.69444,italic:0,skew:0},8660:{depth:-.13313,height:.36687,italic:0,skew:0},8661:{depth:.25,height:.75,italic:0,skew:0},87:{depth:0,height:.68333,italic:.01389,skew:0},8704:{depth:0,height:.69444,italic:0,skew:0},8706:{depth:0,height:.69444,italic:.05556,skew:.08334},8707:{depth:0,height:.69444,italic:0,skew:0},8709:{depth:.05556,height:.75,italic:0,skew:0},8711:{depth:0,height:.68333,italic:0,skew:0},8712:{depth:.0391,height:.5391,italic:0,skew:0},8715:{depth:.0391,height:.5391,italic:0,skew:0},8722:{depth:.08333,height:.58333,italic:0,skew:0},8723:{depth:.08333,height:.58333,italic:0,skew:0},8725:{depth:.25,height:.75,italic:0,skew:0},8726:{depth:.25,height:.75,italic:0,skew:0},8727:{depth:-.03472,height:.46528,italic:0,skew:0},8728:{depth:-.05555,height:.44445,italic:0,skew:0},8729:{depth:-.05555,height:.44445,italic:0,skew:0},8730:{depth:.2,height:.8,italic:0,skew:0},8733:{depth:0,height:.43056,italic:0,skew:0},8734:{depth:0,height:.43056,italic:0,skew:0},8736:{depth:0,height:.69224,italic:0,skew:0},8739:{depth:.25,height:.75,italic:0,skew:0},8741:{depth:.25,height:.75,italic:0,skew:0},8743:{depth:0,height:.55556,italic:0,skew:0},8744:{depth:0,height:.55556,italic:0,skew:0},8745:{depth:0,height:.55556,italic:0,skew:0},8746:{depth:0,height:.55556,italic:0,skew:0},8747:{depth:.19444,height:.69444,italic:.11111,skew:0},8764:{depth:-.13313,height:.36687,italic:0,skew:0},8768:{depth:.19444,height:.69444,italic:0,skew:0},8771:{depth:-.03625,height:.46375,italic:0,skew:0},8776:{depth:-.01688,height:.48312,italic:0,skew:0},8781:{depth:-.03625,height:.46375,italic:0,skew:0},88:{depth:0,height:.68333,italic:0,skew:0},8801:{depth:-.03625,height:.46375,italic:0,skew:0},8804:{depth:.13597,height:.63597,italic:0,skew:0},8805:{depth:.13597,height:.63597,italic:0,skew:0},8810:{depth:.0391,height:.5391,italic:0,skew:0},8811:{depth:.0391,height:.5391,italic:0,skew:0},8826:{depth:.0391,height:.5391,italic:0,skew:0},8827:{depth:.0391,height:.5391,italic:0,skew:0},8834:{depth:.0391,height:.5391,italic:0,skew:0},8835:{depth:.0391,height:.5391,italic:0,skew:0},8838:{depth:.13597,height:.63597,italic:0,skew:0},8839:{depth:.13597,height:.63597,italic:0,skew:0},8846:{depth:0,height:.55556,italic:0,skew:0},8849:{depth:.13597,height:.63597,italic:0,skew:0},8850:{depth:.13597,height:.63597,italic:0,skew:0},8851:{depth:0,height:.55556,italic:0,skew:0},8852:{depth:0,height:.55556,italic:0,skew:0},8853:{depth:.08333,height:.58333,italic:0,skew:0},8854:{depth:.08333,height:.58333,italic:0,skew:0},8855:{depth:.08333,height:.58333,italic:0,skew:0},8856:{depth:.08333,height:.58333,italic:0,skew:0},8857:{depth:.08333,height:.58333,italic:0,skew:0},8866:{depth:0,height:.69444,italic:0,skew:0},8867:{depth:0,height:.69444,italic:0,skew:0},8868:{depth:0,height:.69444,italic:0,skew:0},8869:{depth:0,height:.69444,italic:0,skew:0},89:{depth:0,height:.68333,italic:.025,skew:0},8900:{depth:-.05555,height:.44445,italic:0,skew:0},8901:{depth:-.05555,height:.44445,italic:0,skew:0},8902:{depth:-.03472,height:.46528,italic:0,skew:0},8968:{depth:.25,height:.75,italic:0,skew:0},8969:{depth:.25,height:.75,italic:0,skew:0},8970:{depth:.25,height:.75,italic:0,skew:0},8971:{depth:.25,height:.75,italic:0,skew:0},8994:{depth:-.14236,height:.35764,italic:0,skew:0},8995:{depth:-.14236,height:.35764,italic:0,skew:0},90:{depth:0,height:.68333,italic:0,skew:0},91:{depth:.25,height:.75,italic:0,skew:0},915:{depth:0,height:.68333,italic:0,skew:0},916:{depth:0,height:.68333,italic:0,skew:0},92:{depth:.25,height:.75,italic:0,skew:0},920:{depth:0,height:.68333,italic:0,skew:0},923:{depth:0,height:.68333,italic:0,skew:0},926:{depth:0,height:.68333,italic:0,skew:0},928:{depth:0,height:.68333,italic:0,skew:0},93:{depth:.25,height:.75,italic:0,skew:0},931:{depth:0,height:.68333,italic:0,skew:0},933:{depth:0,height:.68333,italic:0,skew:0},934:{depth:0,height:.68333,italic:0,skew:0},936:{depth:0,height:.68333,italic:0,skew:0},937:{depth:0,height:.68333,italic:0,skew:0},94:{depth:0,height:.69444,italic:0,skew:0},95:{depth:.31,height:.12056,italic:.02778,skew:0},96:{depth:0,height:.69444,italic:0,skew:0},9651:{depth:.19444,height:.69444,italic:0,skew:0},9657:{depth:-.03472,height:.46528,italic:0,skew:0},9661:{depth:.19444,height:.69444,italic:0,skew:0},9667:{depth:-.03472,height:.46528,italic:0,skew:0},97:{depth:0,height:.43056,italic:0,skew:0},9711:{depth:.19444,height:.69444,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},9824:{depth:.12963,height:.69444,italic:0,skew:0},9825:{depth:.12963,height:.69444,italic:0,skew:0},9826:{depth:.12963,height:.69444,italic:0,skew:0},9827:{depth:.12963,height:.69444,italic:0,skew:0},9837:{depth:0,height:.75,italic:0,skew:0},9838:{depth:.19444,height:.69444,italic:0,skew:0},9839:{depth:.19444,height:.69444,italic:0,skew:0},99:{depth:0,height:.43056,italic:0,skew:0}},"Math-BoldItalic":{100:{depth:0,height:.69444,italic:0,skew:0},1009:{depth:.19444,height:.44444,italic:0,skew:0},101:{depth:0,height:.44444,italic:0,skew:0},1013:{depth:0,height:.44444,italic:0,skew:0},102:{depth:.19444,height:.69444,italic:.11042,skew:0},103:{depth:.19444,height:.44444,italic:.03704,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.69326,italic:0,skew:0},106:{depth:.19444,height:.69326,italic:.0622,skew:0},107:{depth:0,height:.69444,italic:.01852,skew:0},108:{depth:0,height:.69444,italic:.0088,skew:0},109:{depth:0,height:.44444,italic:0,skew:0},110:{depth:0,height:.44444,italic:0,skew:0},111:{depth:0,height:.44444,italic:0,skew:0},112:{depth:.19444,height:.44444,italic:0,skew:0},113:{depth:.19444,height:.44444,italic:.03704,skew:0},114:{depth:0,height:.44444,italic:.03194,skew:0},115:{depth:0,height:.44444,italic:0,skew:0},116:{depth:0,height:.63492,italic:0,skew:0},117:{depth:0,height:.44444,italic:0,skew:0},118:{depth:0,height:.44444,italic:.03704,skew:0},119:{depth:0,height:.44444,italic:.02778,skew:0},120:{depth:0,height:.44444,italic:0,skew:0},121:{depth:.19444,height:.44444,italic:.03704,skew:0},122:{depth:0,height:.44444,italic:.04213,skew:0},47:{depth:.19444,height:.69444,italic:0,skew:0},65:{depth:0,height:.68611,italic:0,skew:0},66:{depth:0,height:.68611,italic:.04835,skew:0},67:{depth:0,height:.68611,italic:.06979,skew:0},68:{depth:0,height:.68611,italic:.03194,skew:0},69:{depth:0,height:.68611,italic:.05451,skew:0},70:{depth:0,height:.68611,italic:.15972,skew:0},71:{depth:0,height:.68611,italic:0,skew:0},72:{depth:0,height:.68611,italic:.08229,skew:0},73:{depth:0,height:.68611,italic:.07778,skew:0},74:{depth:0,height:.68611,italic:.10069,skew:0},75:{depth:0,height:.68611,italic:.06979,skew:0},76:{depth:0,height:.68611,italic:0,skew:0},77:{depth:0,height:.68611,italic:.11424,skew:0},78:{depth:0,height:.68611,italic:.11424,skew:0},79:{depth:0,height:.68611,italic:.03194,skew:0},80:{depth:0,height:.68611,italic:.15972,skew:0},81:{depth:.19444,height:.68611,italic:0,skew:0},82:{depth:0,height:.68611,italic:.00421,skew:0},83:{depth:0,height:.68611,italic:.05382,skew:0},84:{depth:0,height:.68611,italic:.15972,skew:0},85:{depth:0,height:.68611,italic:.11424,skew:0},86:{depth:0,height:.68611,italic:.25555,skew:0},87:{depth:0,height:.68611,italic:.15972,skew:0},88:{depth:0,height:.68611,italic:.07778,skew:0},89:{depth:0,height:.68611,italic:.25555,skew:0},90:{depth:0,height:.68611,italic:.06979,skew:0},915:{depth:0,height:.68611,italic:.15972,skew:0},916:{depth:0,height:.68611,italic:0,skew:0},920:{depth:0,height:.68611,italic:.03194,skew:0},923:{depth:0,height:.68611,italic:0,skew:0},926:{depth:0,height:.68611,italic:.07458,skew:0},928:{depth:0,height:.68611,italic:.08229,skew:0},931:{depth:0,height:.68611,italic:.05451,skew:0},933:{depth:0,height:.68611,italic:.15972,skew:0},934:{depth:0,height:.68611,italic:0,skew:0},936:{depth:0,height:.68611,italic:.11653,skew:0},937:{depth:0,height:.68611,italic:.04835,skew:0},945:{depth:0,height:.44444,italic:0,skew:0},946:{depth:.19444,height:.69444,italic:.03403,skew:0},947:{depth:.19444,height:.44444,italic:.06389,skew:0},948:{depth:0,height:.69444,italic:.03819,skew:0},949:{depth:0,height:.44444,italic:0,skew:0},950:{depth:.19444,height:.69444,italic:.06215,skew:0},951:{depth:.19444,height:.44444,italic:.03704,skew:0},952:{depth:0,height:.69444,italic:.03194,skew:0},953:{depth:0,height:.44444,italic:0,skew:0},954:{depth:0,height:.44444,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.44444,italic:0,skew:0},957:{depth:0,height:.44444,italic:.06898,skew:0},958:{depth:.19444,height:.69444,italic:.03021,skew:0},959:{depth:0,height:.44444,italic:0,skew:0},960:{depth:0,height:.44444,italic:.03704,skew:0},961:{depth:.19444,height:.44444,italic:0,skew:0},962:{depth:.09722,height:.44444,italic:.07917,skew:0},963:{depth:0,height:.44444,italic:.03704,skew:0},964:{depth:0,height:.44444,italic:.13472,skew:0},965:{depth:0,height:.44444,italic:.03704,skew:0},966:{depth:.19444,height:.44444,italic:0,skew:0},967:{depth:.19444,height:.44444,italic:0,skew:0},968:{depth:.19444,height:.69444,italic:.03704,skew:0},969:{depth:0,height:.44444,italic:.03704,skew:0},97:{depth:0,height:.44444,italic:0,skew:0},977:{depth:0,height:.69444,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},981:{depth:.19444,height:.69444,italic:0,skew:0},982:{depth:0,height:.44444,italic:.03194,skew:0},99:{depth:0,height:.44444,italic:0,skew:0}},"Math-Italic":{100:{depth:0,height:.69444,italic:0,skew:.16667},1009:{depth:.19444,height:.43056,italic:0,skew:.08334},101:{depth:0,height:.43056,italic:0,skew:.05556},1013:{depth:0,height:.43056,italic:0,skew:.05556},102:{depth:.19444,height:.69444,italic:.10764,skew:.16667},103:{depth:.19444,height:.43056,italic:.03588,skew:.02778},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.65952,italic:0,skew:0},106:{depth:.19444,height:.65952,italic:.05724,skew:0},107:{depth:0,height:.69444,italic:.03148,skew:0},108:{depth:0,height:.69444,italic:.01968,skew:.08334},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:.05556},112:{depth:.19444,height:.43056,italic:0,skew:.08334},113:{depth:.19444,height:.43056,italic:.03588,skew:.08334},114:{depth:0,height:.43056,italic:.02778,skew:.05556},115:{depth:0,height:.43056,italic:0,skew:.05556},116:{depth:0,height:.61508,italic:0,skew:.08334},117:{depth:0,height:.43056,italic:0,skew:.02778},118:{depth:0,height:.43056,italic:.03588,skew:.02778},119:{depth:0,height:.43056,italic:.02691,skew:.08334},120:{depth:0,height:.43056,italic:0,skew:.02778},121:{depth:.19444,height:.43056,italic:.03588,skew:.05556},122:{depth:0,height:.43056,italic:.04398,skew:.05556},47:{depth:.19444,height:.69444,italic:0,skew:0},65:{depth:0,height:.68333,italic:0,skew:.13889},66:{depth:0,height:.68333,italic:.05017,skew:.08334},67:{depth:0,height:.68333,italic:.07153,skew:.08334},68:{depth:0,height:.68333,italic:.02778,skew:.05556},69:{depth:0,height:.68333,italic:.05764,skew:.08334},70:{depth:0,height:.68333,italic:.13889,skew:.08334},71:{depth:0,height:.68333,italic:0,skew:.08334},72:{depth:0,height:.68333,italic:.08125,skew:.05556},73:{depth:0,height:.68333,italic:.07847,skew:.11111},74:{depth:0,height:.68333,italic:.09618,skew:.16667},75:{depth:0,height:.68333,italic:.07153,skew:.05556},76:{depth:0,height:.68333,italic:0,skew:.02778},77:{depth:0,height:.68333,italic:.10903,skew:.08334},78:{depth:0,height:.68333,italic:.10903,skew:.08334},79:{depth:0,height:.68333,italic:.02778,skew:.08334},80:{depth:0,height:.68333,italic:.13889,skew:.08334},81:{depth:.19444,height:.68333,italic:0,skew:.08334},82:{depth:0,height:.68333,italic:.00773,skew:.08334},83:{depth:0,height:.68333,italic:.05764,skew:.08334},84:{depth:0,height:.68333,italic:.13889,skew:.08334},85:{depth:0,height:.68333,italic:.10903,skew:.02778},86:{depth:0,height:.68333,italic:.22222,skew:0},87:{depth:0,height:.68333,italic:.13889,skew:0},88:{depth:0,height:.68333,italic:.07847,skew:.08334},89:{depth:0,height:.68333,italic:.22222,skew:0},90:{depth:0,height:.68333,italic:.07153,skew:.08334},915:{depth:0,height:.68333,italic:.13889,skew:.08334},916:{depth:0,height:.68333,italic:0,skew:.16667},920:{depth:0,height:.68333,italic:.02778,skew:.08334},923:{depth:0,height:.68333,italic:0,skew:.16667},926:{depth:0,height:.68333,italic:.07569,skew:.08334},928:{depth:0,height:.68333,italic:.08125,skew:.05556},931:{depth:0,height:.68333,italic:.05764,skew:.08334},933:{depth:0,height:.68333,italic:.13889,skew:.05556},934:{depth:0,height:.68333,italic:0,skew:.08334},936:{depth:0,height:.68333,italic:.11,skew:.05556},937:{depth:0,height:.68333,italic:.05017,skew:.08334},945:{depth:0,height:.43056,italic:.0037,skew:.02778},946:{depth:.19444,height:.69444,italic:.05278,skew:.08334},947:{depth:.19444,height:.43056,italic:.05556,skew:0},948:{depth:0,height:.69444,italic:.03785,skew:.05556},949:{depth:0,height:.43056,italic:0,skew:.08334},950:{depth:.19444,height:.69444,italic:.07378,skew:.08334},951:{depth:.19444,height:.43056,italic:.03588,skew:.05556},952:{depth:0,height:.69444,italic:.02778,skew:.08334},953:{depth:0,height:.43056,italic:0,skew:.05556},954:{depth:0,height:.43056,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.43056,italic:0,skew:.02778},957:{depth:0,height:.43056,italic:.06366,skew:.02778},958:{depth:.19444,height:.69444,italic:.04601,skew:.11111},959:{depth:0,height:.43056,italic:0,skew:.05556},960:{depth:0,height:.43056,italic:.03588,skew:0},961:{depth:.19444,height:.43056,italic:0,skew:.08334},962:{depth:.09722,height:.43056,italic:.07986,skew:.08334},963:{depth:0,height:.43056,italic:.03588,skew:0},964:{depth:0,height:.43056,italic:.1132,skew:.02778},965:{depth:0,height:.43056,italic:.03588,skew:.02778},966:{depth:.19444,height:.43056,italic:0,skew:.08334},967:{depth:.19444,height:.43056,italic:0,skew:.05556},968:{depth:.19444,height:.69444,italic:.03588,skew:.11111},969:{depth:0,height:.43056,italic:.03588,skew:0},97:{depth:0,height:.43056,italic:0,skew:0},977:{depth:0,height:.69444,italic:0,skew:.08334},98:{depth:0,height:.69444,italic:0,skew:0},981:{depth:.19444,height:.69444,italic:0,skew:.08334},982:{depth:0,height:.43056,italic:.02778,skew:0},99:{depth:0,height:.43056,italic:0,skew:.05556}},"Math-Regular":{100:{depth:0,height:.69444,italic:0,skew:.16667},1009:{depth:.19444,height:.43056,italic:0,skew:.08334},101:{depth:0,height:.43056,italic:0,skew:.05556},1013:{depth:0,height:.43056,italic:0,skew:.05556},102:{depth:.19444,height:.69444,italic:.10764,skew:.16667},103:{depth:.19444,height:.43056,italic:.03588,skew:.02778},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.65952,italic:0,skew:0},106:{depth:.19444,height:.65952,italic:.05724,skew:0},107:{depth:0,height:.69444,italic:.03148,skew:0},108:{depth:0,height:.69444,italic:.01968,skew:.08334},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:.05556},112:{depth:.19444,height:.43056,italic:0,skew:.08334},113:{depth:.19444,height:.43056,italic:.03588,skew:.08334},114:{depth:0,height:.43056,italic:.02778,skew:.05556},115:{depth:0,height:.43056,italic:0,skew:.05556},116:{depth:0,height:.61508,italic:0,skew:.08334},117:{depth:0,height:.43056,italic:0,skew:.02778},118:{depth:0,height:.43056,italic:.03588,skew:.02778},119:{depth:0,height:.43056,italic:.02691,skew:.08334},120:{depth:0,height:.43056,italic:0,skew:.02778},121:{depth:.19444,height:.43056,italic:.03588,skew:.05556},122:{depth:0,height:.43056,italic:.04398,skew:.05556},65:{depth:0,height:.68333,italic:0,skew:.13889},66:{depth:0,height:.68333,italic:.05017,skew:.08334},67:{depth:0,height:.68333,italic:.07153,skew:.08334},68:{depth:0,height:.68333,italic:.02778,skew:.05556},69:{depth:0,height:.68333,italic:.05764,skew:.08334},70:{depth:0,height:.68333,italic:.13889,skew:.08334},71:{depth:0,height:.68333,italic:0,skew:.08334},72:{depth:0,height:.68333,italic:.08125,skew:.05556},73:{depth:0,height:.68333,italic:.07847,skew:.11111},74:{depth:0,height:.68333,italic:.09618,skew:.16667},75:{depth:0,height:.68333,italic:.07153,skew:.05556},76:{depth:0,height:.68333,italic:0,skew:.02778},77:{depth:0,height:.68333,italic:.10903,skew:.08334},78:{depth:0,height:.68333,italic:.10903,skew:.08334},79:{depth:0,height:.68333,italic:.02778,skew:.08334},80:{depth:0,height:.68333,italic:.13889,skew:.08334},81:{depth:.19444,height:.68333,italic:0,skew:.08334},82:{depth:0,height:.68333,italic:.00773,skew:.08334},83:{depth:0,height:.68333,italic:.05764,skew:.08334},84:{depth:0,height:.68333,italic:.13889,skew:.08334},85:{depth:0,height:.68333,italic:.10903,skew:.02778},86:{depth:0,height:.68333,italic:.22222,skew:0},87:{depth:0,height:.68333,italic:.13889,skew:0},88:{depth:0,height:.68333,italic:.07847,skew:.08334},89:{depth:0,height:.68333,italic:.22222,skew:0},90:{depth:0,height:.68333,italic:.07153,skew:.08334},915:{depth:0,height:.68333,italic:.13889,skew:.08334},916:{depth:0,height:.68333,italic:0,skew:.16667},920:{depth:0,height:.68333,italic:.02778,skew:.08334},923:{depth:0,height:.68333,italic:0,skew:.16667},926:{depth:0,height:.68333,italic:.07569,skew:.08334},928:{depth:0,height:.68333,italic:.08125,skew:.05556},931:{depth:0,height:.68333,italic:.05764,skew:.08334},933:{depth:0,height:.68333,italic:.13889,skew:.05556},934:{depth:0,height:.68333,italic:0,skew:.08334},936:{depth:0,height:.68333,italic:.11,skew:.05556},937:{depth:0,height:.68333,italic:.05017,skew:.08334},945:{depth:0,height:.43056,italic:.0037,skew:.02778},946:{depth:.19444,height:.69444,italic:.05278,skew:.08334},947:{depth:.19444,height:.43056,italic:.05556,skew:0},948:{depth:0,height:.69444,italic:.03785,skew:.05556},949:{depth:0,height:.43056,italic:0,skew:.08334},950:{depth:.19444,height:.69444,italic:.07378,skew:.08334},951:{depth:.19444,height:.43056,italic:.03588,skew:.05556},952:{depth:0,height:.69444,italic:.02778,skew:.08334},953:{depth:0,height:.43056,italic:0,skew:.05556},954:{depth:0,height:.43056,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.43056,italic:0,skew:.02778},957:{depth:0,height:.43056,italic:.06366,skew:.02778},958:{depth:.19444,height:.69444,italic:.04601,skew:.11111},959:{depth:0,height:.43056,italic:0,skew:.05556},960:{depth:0,height:.43056,italic:.03588,skew:0},961:{depth:.19444,height:.43056,italic:0,skew:.08334},962:{depth:.09722,height:.43056,italic:.07986,skew:.08334},963:{depth:0,height:.43056,italic:.03588,skew:0},964:{depth:0,height:.43056,italic:.1132,skew:.02778},965:{depth:0,height:.43056,italic:.03588,skew:.02778},966:{depth:.19444,height:.43056,italic:0,skew:.08334},967:{depth:.19444,height:.43056,italic:0,skew:.05556},968:{depth:.19444,height:.69444,italic:.03588,skew:.11111},969:{depth:0,height:.43056,italic:.03588,skew:0},97:{depth:0,height:.43056,italic:0,skew:0},977:{depth:0,height:.69444,italic:0,skew:.08334},98:{depth:0,height:.69444,italic:0,skew:0},981:{depth:.19444,height:.69444,italic:0,skew:.08334},982:{depth:0,height:.43056,italic:.02778,skew:0},99:{depth:0,height:.43056,italic:0,skew:.05556}},"Size1-Regular":{8748:{depth:.306,height:.805,italic:.19445,skew:0},8749:{depth:.306,height:.805,italic:.19445,skew:0},10216:{depth:.35001,height:.85,italic:0,skew:0},10217:{depth:.35001,height:.85,italic:0,skew:0},10752:{depth:.25001,height:.75,italic:0,skew:0},10753:{depth:.25001,height:.75,italic:0,skew:0},10754:{depth:.25001,height:.75,italic:0,skew:0},10756:{depth:.25001,height:.75,italic:0,skew:0},10758:{depth:.25001,height:.75,italic:0,skew:0},123:{depth:.35001,height:.85,italic:0,skew:0},125:{depth:.35001,height:.85,italic:0,skew:0},40:{depth:.35001,height:.85,italic:0,skew:0},41:{depth:.35001,height:.85,italic:0,skew:0},47:{depth:.35001,height:.85,italic:0,skew:0},710:{depth:0,height:.72222,italic:0,skew:0},732:{depth:0,height:.72222,italic:0,skew:0},770:{depth:0,height:.72222,italic:0,skew:0},771:{depth:0,height:.72222,italic:0,skew:0},8214:{depth:-99e-5,height:.601,italic:0,skew:0},8593:{depth:1e-5,height:.6,italic:0,skew:0},8595:{depth:1e-5,height:.6,italic:0,skew:0},8657:{depth:1e-5,height:.6,italic:0,skew:0},8659:{depth:1e-5,height:.6,italic:0,skew:0},8719:{depth:.25001,height:.75,italic:0,skew:0},8720:{depth:.25001,height:.75,italic:0,skew:0},8721:{depth:.25001,height:.75,italic:0,skew:0},8730:{depth:.35001,height:.85,italic:0,skew:0},8739:{depth:-.00599,height:.606,italic:0,skew:0},8741:{depth:-.00599,height:.606,italic:0,skew:0},8747:{depth:.30612,height:.805,italic:.19445,skew:0},8750:{depth:.30612,height:.805,italic:.19445,skew:0},8896:{depth:.25001,height:.75,italic:0,skew:0},8897:{depth:.25001,height:.75,italic:0,skew:0},8898:{depth:.25001,height:.75,italic:0,skew:0},8899:{depth:.25001,height:.75,italic:0,skew:0},8968:{depth:.35001,height:.85,italic:0,skew:0},8969:{depth:.35001,height:.85,italic:0,skew:0},8970:{depth:.35001,height:.85,italic:0,skew:0},8971:{depth:.35001,height:.85,italic:0,skew:0},91:{depth:.35001,height:.85,italic:0,skew:0},9168:{depth:-99e-5,height:.601,italic:0,skew:0},92:{depth:.35001,height:.85,italic:0,skew:0},93:{depth:.35001,height:.85,italic:0,skew:0}},"Size2-Regular":{8748:{depth:.862,height:1.36,italic:.44445,skew:0},8749:{depth:.862,height:1.36,italic:.44445,skew:0},10216:{depth:.65002,height:1.15,italic:0,skew:0},10217:{depth:.65002,height:1.15,italic:0,skew:0},10752:{depth:.55001,height:1.05,italic:0,skew:0},10753:{depth:.55001,height:1.05,italic:0,skew:0},10754:{depth:.55001,height:1.05,italic:0,skew:0},10756:{depth:.55001,height:1.05,italic:0,skew:0},10758:{depth:.55001,height:1.05,italic:0,skew:0},123:{depth:.65002,height:1.15,italic:0,skew:0},125:{depth:.65002,height:1.15,italic:0,skew:0},40:{depth:.65002,height:1.15,italic:0,skew:0},41:{depth:.65002,height:1.15,italic:0,skew:0},47:{depth:.65002,height:1.15,italic:0,skew:0},710:{depth:0,height:.75,italic:0,skew:0},732:{depth:0,height:.75,italic:0,skew:0},770:{depth:0,height:.75,italic:0,skew:0},771:{depth:0,height:.75,italic:0,skew:0},8719:{depth:.55001,height:1.05,italic:0,skew:0},8720:{depth:.55001,height:1.05,italic:0,skew:0},8721:{depth:.55001,height:1.05,italic:0,skew:0},8730:{depth:.65002,height:1.15,italic:0,skew:0},8747:{depth:.86225,height:1.36,italic:.44445,skew:0},8750:{depth:.86225,height:1.36,italic:.44445,skew:0},8896:{depth:.55001,height:1.05,italic:0,skew:0},8897:{depth:.55001,height:1.05,italic:0,skew:0},8898:{depth:.55001,height:1.05,italic:0,skew:0},8899:{depth:.55001,height:1.05,italic:0,skew:0},8968:{depth:.65002,height:1.15,italic:0,skew:0},8969:{depth:.65002,height:1.15,italic:0,skew:0},8970:{depth:.65002,height:1.15,italic:0,skew:0},8971:{depth:.65002,height:1.15,italic:0,skew:0},91:{depth:.65002,height:1.15,italic:0,skew:0},92:{depth:.65002,height:1.15,italic:0,skew:0},93:{depth:.65002,height:1.15,italic:0,skew:0}},"Size3-Regular":{10216:{depth:.95003,height:1.45,italic:0,skew:0},10217:{depth:.95003,height:1.45,italic:0,skew:0},123:{depth:.95003,height:1.45,italic:0,skew:0},125:{depth:.95003,height:1.45,italic:0,skew:0},40:{depth:.95003,height:1.45,italic:0,skew:0},41:{depth:.95003,height:1.45,italic:0,skew:0},47:{depth:.95003,height:1.45,italic:0,skew:0},710:{depth:0,height:.75,italic:0,skew:0},732:{depth:0,height:.75,italic:0,skew:0},770:{depth:0,height:.75,italic:0,skew:0},771:{depth:0,height:.75,italic:0,skew:0},8730:{depth:.95003,height:1.45,italic:0,skew:0},8968:{depth:.95003,height:1.45,italic:0,skew:0},8969:{depth:.95003,height:1.45,italic:0,skew:0},8970:{depth:.95003,height:1.45,italic:0,skew:0},8971:{depth:.95003,height:1.45,italic:0,skew:0},91:{depth:.95003,height:1.45,italic:0,skew:0},92:{depth:.95003,height:1.45,italic:0,skew:0},93:{depth:.95003,height:1.45,italic:0,skew:0}},"Size4-Regular":{10216:{depth:1.25003,height:1.75,italic:0,skew:0},10217:{depth:1.25003,height:1.75,italic:0,skew:0},123:{depth:1.25003,height:1.75,italic:0,skew:0},125:{depth:1.25003,height:1.75,italic:0,skew:0},40:{depth:1.25003,height:1.75,italic:0,skew:0},41:{depth:1.25003,height:1.75,italic:0,skew:0},47:{depth:1.25003,height:1.75,italic:0,skew:0},57344:{depth:-.00499,height:.605,italic:0,skew:0},57345:{depth:-.00499,height:.605,italic:0,skew:0},57680:{depth:0,height:.12,italic:0,skew:0},57681:{depth:0,height:.12,italic:0,skew:0},57682:{depth:0,height:.12,italic:0,skew:0},57683:{depth:0,height:.12,italic:0,skew:0},710:{depth:0,height:.825,italic:0,skew:0},732:{depth:0,height:.825,italic:0,skew:0},770:{depth:0,height:.825,italic:0,skew:0},771:{depth:0,height:.825,italic:0,skew:0},8730:{depth:1.25003,height:1.75,italic:0,skew:0},8968:{depth:1.25003,height:1.75,italic:0,skew:0},8969:{depth:1.25003,height:1.75,italic:0,skew:0},8970:{depth:1.25003,height:1.75,italic:0,skew:0},8971:{depth:1.25003,height:1.75,italic:0,skew:0},91:{depth:1.25003,height:1.75,italic:0,skew:0},9115:{depth:.64502,height:1.155,italic:0,skew:0},9116:{depth:1e-5,height:.6,italic:0,skew:0},9117:{depth:.64502,height:1.155,italic:0,skew:0},9118:{depth:.64502,height:1.155,italic:0,skew:0},9119:{depth:1e-5,height:.6,italic:0,skew:0},9120:{depth:.64502,height:1.155,italic:0,skew:0},9121:{depth:.64502,height:1.155,italic:0,skew:0},9122:{depth:-99e-5,height:.601,italic:0,skew:0},9123:{depth:.64502,height:1.155,italic:0,skew:0},9124:{depth:.64502,height:1.155,italic:0,skew:0},9125:{depth:-99e-5,height:.601,italic:0,skew:0},9126:{depth:.64502,height:1.155,italic:0,skew:0},9127:{depth:1e-5,height:.9,italic:0,skew:0},9128:{depth:.65002,height:1.15,italic:0,skew:0},9129:{depth:.90001,height:0,italic:0,skew:0},9130:{depth:0,height:.3,italic:0,skew:0},9131:{depth:1e-5,height:.9,italic:0,skew:0},9132:{depth:.65002,height:1.15,italic:0,skew:0},9133:{depth:.90001,height:0,italic:0,skew:0},9143:{depth:.88502,height:.915,italic:0,skew:0},92:{depth:1.25003,height:1.75,italic:0,skew:0},93:{depth:1.25003,height:1.75,italic:0,skew:0}}},L=function(e,t){return O[t][e.charCodeAt(0)]
};e.exports={metrics:D,getCharacterMetrics:L}},function(e){function t(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}e.exports=t},function(e){function t(e){return!!e&&"object"==typeof e}e.exports=t},function(e){"use strict";function t(e,n,r,i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=n,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+e+" ("+n+" provided, "+r+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}t.prototype=new Error,t.prototype.constructor=Error,t.prototype.name="ArgumentsError",t.prototype.isArgumentsError=!0,e.exports=t},function(e){"use strict";function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=n):(this.min=n,this.max=r),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}t.prototype=new RangeError,t.prototype.constructor=RangeError,t.prototype.name="IndexError",t.prototype.isIndexError=!0,e.exports=t},function(e){"use strict";function t(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),o=0;o<i.length;o++)if(r in i[o])return o;return null}function n(e,n){var r=e;"keep"!==n&&(r=e.getContent());var o=r.getIdentifier(),a=t(r,n);if(null===a)return null;var s=i[a][o];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+o+"' has the invalid associativity '"+s.associativity+"'.")}return null}function r(e,n,r){var o=e,a=n;if("keep"!==r)var o=e.getContent(),a=n.getContent();var s=o.getIdentifier(),u=a.getIdentifier(),l=t(o,r);if(null===l)return null;var c=i[l][s];if(c.hasOwnProperty("associativeWith")&&c.associativeWith instanceof Array){for(var p=0;p<c.associativeWith.length;p++)if(c.associativeWith[p]===u)return!0;return!1}return null}var i=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];e.exports.properties=i,e.exports.getPrecedence=t,e.exports.getAssociativity=n,e.exports.isAssociativeWith=r},function(e,t,n){"use strict";function r(e,t,r){function a(t,n){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(ft=n&&n.nodes?n.nodes:{},"string"==typeof t)return dt=t,y();if(Array.isArray(t)||t instanceof e.Matrix)return o(t,function(e){if("string"!=typeof e)throw new TypeError("String expected");return dt=e,y()});throw new TypeError("String or matrix expected")}function s(){mt=0,gt=dt.charAt(0),bt=0,wt=null}function u(){mt++,gt=dt.charAt(mt)}function l(){return dt.charAt(mt+1)}function c(){return dt.charAt(mt+2)}function p(){for(yt=ct.NULL,vt="";" "==gt||"	"==gt||"\n"==gt&&bt;)u();if("#"==gt)for(;"\n"!=gt&&""!=gt;)u();if(""==gt)return void(yt=ct.DELIMITER);if("\n"==gt&&!bt)return yt=ct.DELIMITER,vt=gt,void u();var e=gt+l(),t=e+c();if(3==t.length&&pt[t])return yt=ct.DELIMITER,vt=t,u(),u(),void u();if(2==e.length&&pt[e])return yt=ct.DELIMITER,vt=e,u(),void u();if(pt[gt])return yt=ct.DELIMITER,vt=gt,void u();if(!g(gt)){if(m()){for(;m()||v(gt);)vt+=gt,u();return void(yt=ht[vt]?ct.DELIMITER:ct.SYMBOL)}for(yt=ct.UNKNOWN;""!=gt;)vt+=gt,u();throw K('Syntax error in part "'+vt+'"')}if(yt=ct.NUMBER,"."==gt)vt+=gt,u(),v(gt)||(yt=ct.UNKNOWN);else{for(;v(gt);)vt+=gt,u();"."==gt&&(vt+=gt,u())}for(;v(gt);)vt+=gt,u();if(e=l(),("E"==gt||"e"==gt)&&(v(e)||"-"==e||"+"==e))for(vt+=gt,u(),"+"!=gt&&"-"!=gt||(vt+=gt,u()),v(gt)||(yt=ct.UNKNOWN);v(gt);)vt+=gt,u()}function h(){do p();while("\n"==vt)}function f(){bt++}function d(){bt--}function m(){var e=dt.charAt(mt-1),t=dt.charAt(mt+1),n=function(e){return/^[a-zA-Z_\u00C0-\u02AF\u0370-\u03FF]$/.test(e)},r=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)};return n(gt)||r(gt,t)||r(e,gt)}function g(e){return e>="0"&&"9">=e||"."==e}function v(e){return e>="0"&&"9">=e}function y(){s(),p();var e=b();if(""!=vt)throw yt==ct.DELIMITER?J("Unexpected operator "+vt):K('Unexpected part "'+vt+'"');return e}function b(){var e,t,n=[];if(""==vt)return new tt("undefined","undefined");for("\n"!=vt&&";"!=vt&&(e=w());"\n"==vt||";"==vt;)0==n.length&&e&&(t=";"!=vt,n.push({node:e,visible:t})),p(),"\n"!=vt&&";"!=vt&&""!=vt&&(e=w(),t=";"!=vt,n.push({node:e,visible:t}));return n.length>0?new Q(n):e}function w(){if(yt==ct.SYMBOL&&"function"==vt)throw K('Deprecated keyword "function". Functions can now be assigned without it, like "f(x) = x^2".');return _()}function _(){var e,t,n,r,i=x();if("="==vt){if(i&&i.isSymbolNode)return e=i.name,h(),n=_(),new Z(e,n);if(i&&i.isIndexNode)return h(),n=_(),new lt(i,n);if(i&&i.isFunctionNode&&(r=!0,t=[],e=i.name,i.args.forEach(function(e,n){e&&e.isSymbolNode?t[n]=e.name:r=!1}),r))return h(),n=_(),new nt(e,t,n);throw K("Invalid left hand side of assignment operator =")}return i}function x(){for(var e=E();"?"==vt;){var t=wt;wt=bt,h();var n=e,r=E();if(":"!=vt)throw K("False part of conditional expression expected");wt=null,h();var i=x();e=new et(n,r,i),wt=t}return e}function E(){for(var e=k();"or"==vt;)h(),e=new it("or","or",[e,k()]);return e}function k(){for(var e=C();"xor"==vt;)h(),e=new it("xor","xor",[e,C()]);return e}function C(){for(var e=A();"and"==vt;)h(),e=new it("and","and",[e,A()]);return e}function A(){for(var e=S();"|"==vt;)h(),e=new it("|","bitOr",[e,S()]);return e}function S(){for(var e=M();"^|"==vt;)h(),e=new it("^|","bitXor",[e,M()]);return e}function M(){for(var e=T();"&"==vt;)h(),e=new it("&","bitAnd",[e,T()]);return e}function T(){var e,t,n,r,i;for(e=D(),t={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};vt in t;)n=vt,r=t[n],h(),i=[e,D()],e=new it(n,r,i);return e}function D(){var e,t,n,r,i;for(e=O(),t={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};vt in t;)n=vt,r=t[n],h(),i=[e,O()],e=new it(n,r,i);return e}function O(){var e,t,n,r,i;for(e=L(),t={to:"to","in":"to"};vt in t;)n=vt,r=t[n],h(),i=[e,L()],e=new it(n,r,i);return e}function L(){var e,t=[];if(e=":"==vt?new tt("1","number"):F(),":"==vt&&wt!==bt){for(t.push(e);":"==vt&&t.length<3;)h(),t.push(")"==vt||"]"==vt||","==vt||""==vt?new ut("end"):F());e=3==t.length?new st(t[0],t[2],t[1]):new st(t[0],t[1])}return e}function F(){var e,t,n,r,i;for(e=P(),t={"+":"add","-":"subtract"};vt in t;)n=vt,r=t[n],h(),i=[e,P()],e=new it(n,r,i);return e}function P(){var e,t,n,r,i;for(e=N(),t=e,n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(vt in n)r=vt,i=n[r],h(),t=N(),e=new it(r,i,[e,t]);else{if(!(yt==ct.SYMBOL||"in"==vt&&e&&e.isConstantNode||yt==ct.NUMBER&&!t.isConstantNode||"("==vt||"["==vt))break;t=N(),e=new it("*","multiply",[e,t])}return e}function N(){var e,t,n={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[vt];return n?(e=vt,h(),t=[N()],new it(e,n,t)):B()}function B(){var e,t,n,r;return e=R(),"^"!=vt&&".^"!=vt||(t=vt,n="^"==t?"pow":"dotPow",h(),r=[e,N()],e=new it(t,n,r)),e}function R(){var e,t,n,r,i;for(e=j(),t={"!":"factorial","'":"transpose"};vt in t;)n=vt,r=t[n],p(),i=[e],e=new it(n,r,i);return e}function j(){var e,t=[];if(yt==ct.SYMBOL&&ft[vt]){if(e=ft[vt],p(),"("==vt){if(t=[],f(),p(),")"!=vt)for(t.push(x());","==vt;)p(),t.push(x());if(")"!=vt)throw K("Parenthesis ) expected");d(),p()}return new e(t)}return I()}function I(){var e,t;return yt==ct.SYMBOL||yt==ct.DELIMITER&&vt in ht?(t=vt,p(),e=$(t),e=z(e)):U()}function $(e){var t;if("("==vt){if(t=[],f(),p(),")"!=vt)for(t.push(x());","==vt;)p(),t.push(x());if(")"!=vt)throw K("Parenthesis ) expected");return d(),p(),new at(e,t)}return new ut(e)}function z(e){for(var t;"["==vt;){if(t=[],f(),p(),"]"!=vt)for(t.push(x());","==vt;)p(),t.push(x());if("]"!=vt)throw K("Parenthesis ] expected");d(),p(),e=new rt(e,t)}return e}function U(){var e,t,n;if('"'==vt){for(t="",n="";""!=gt&&('"'!=gt||"\\"==n);)t+=gt,n=gt,u();if(p(),'"'!=vt)throw K('End of string " expected');return p(),e=new tt(t,"string"),e=z(e)}return V()}function V(){var e,t,n,r;if("["==vt){if(f(),p(),"]"!=vt){var i=Y();if(";"==vt){for(n=1,t=[i];";"==vt;)p(),t[n]=Y(),n++;if("]"!=vt)throw K("End of matrix ] expected");d(),p(),r=t[0].nodes.length;for(var o=1;n>o;o++)if(t[o].nodes.length!=r)throw J("Column dimensions mismatch ("+t[o].nodes.length+" != "+r+")");e=new X(t)}else{if("]"!=vt)throw K("End of matrix ] expected");d(),p(),e=i}}else d(),p(),e=new X([]);return e}return W()}function Y(){for(var e=[_()],t=1;","==vt;)p(),e[t]=_(),t++;return new X(e)}function W(){var e;return yt==ct.NUMBER?(e=vt,p(),new tt(e,"number")):H()}function H(){var e;if("("==vt){if(f(),p(),e=_(),")"!=vt)throw K("Parenthesis ) expected");return d(),p(),new ot(e)}return q()}function q(){throw K(""==vt?"Unexpected end of expression":"Value expected")}function G(){return mt-vt.length+1}function K(e){var t=G(),n=new SyntaxError(e+" (char "+t+")");return n["char"]=t,n}function J(e){var t=G(),n=new Error(e+" (char "+t+")");return n["char"]=t,n}var X=r(n(345)),Z=r(n(537)),Q=r(n(538)),et=r(n(539)),tt=r(n(346)),nt=r(n(540)),rt=r(n(348)),it=r(n(541)),ot=r(n(542)),at=r(n(347)),st=r(n(349)),ut=r(n(155)),lt=r(n(543)),ct={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},pt={",":!0,"(":!0,")":!0,"[":!0,"]":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},ht={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},ft={},dt="",mt=0,gt="",vt="",yt=ct.NULL,bt=0,wt=null;return a}var i=n(188),o=n(6);t.name="parse",t.path="expression",t.factory=r},function(e,t,n){var r=n(189);t.transform=function(e){return e&&e.isIndexError?new r(e.index+1,e.min+1,e.max+1):e}},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("abs",{number:Math.abs,Complex:function(e){var t=Math.abs(e.re),n=Math.abs(e.im);if(1e3>t&&1e3>n)return Math.sqrt(t*t+n*n);if(t>=n){var r=n/t;return t*Math.sqrt(1+r*r)}var i=t/n;return n*Math.sqrt(1+i*i)},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return i(e,o,!0)},Unit:function(e){var t=e.clone();return t.value=o(t.value),t}});return o.toTex="\\left|${args[0]}\\right|",o}var i=n(6);t.name="abs",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(47)),u=r(n(255)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=o("compare",{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,n){return e===n||i(e,n,t.epsilon)?0:e>n?1:-1},"BigNumber, BigNumber":function(t,n){return new e.BigNumber(t.cmp(n))},"Fraction, Fraction":function(t,n){return new e.Fraction(t.compare(n))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return h(e.value,t.value)},"string, string":function(e,t){return e===t?0:e>t?1:-1},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,h);break;default:n=s(t,e,h,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,h,!1);break;default:n=c(e,t,h)}}return n},"Array, Array":function(e,t){return h(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return h(a(e),t)},"Matrix, Array":function(e,t){return h(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,h,!1);break;default:n=p(e,t,h,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,h,!0);break;default:n=p(t,e,h,!0)}return n},"Array, any":function(e,t){return p(a(e),t,h,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,h,!0).valueOf()}});return h.toTex="\\mathrm{${name}}\\left(${args}\\right)",h}var i=n(8).nearlyEqual;t.name="compare",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("isNegative",{number:function(e){return 0>e},BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0&&e.n>0},Unit:function(e){return o(e.value)},"Array | Matrix":function(e){return i(e,o)}});return o}var i=n(6);n(8),t.name="isNegative",t.factory=r},function(e){"use strict";e.exports=function(e){return Array.isArray(e)||e&&e.isMatrix===!0}},function(){},function(e){"use strict";function t(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){r.forEach(function(r){n[t(r,e)]=n[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},o={isUnitlessNumber:n,shorthandPropertyExpansions:i};e.exports=o},function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(7),o=n(38),a=n(2);i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),e.exports=r},function(e){"use strict";var t={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=t},function(e,t,n){"use strict";var r=n(121),i=n(387),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(){}};e.exports=o},function(e){"use strict";var t={hasCachedChildNodes:1};e.exports=t},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=u.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=l.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=n(7),s=n(92),u=n(124),l=n(11),c=n(27),p=(n(4),!1),h={getNativeProps:function(e,t){return a({},s.getNativeProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=u.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||p||(p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=u.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=h},function(e){"use strict";var t,n={injectEmptyComponentFactory:function(e){t=e}},r={create:function(e){return t(e)}};r.injection=n,e.exports=r},function(e){"use strict";var t={logTopLevelRenders:!1};e.exports=t},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(391),o=n(332),a=n(180),s=n(181),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=u},function(e,t,n){(function(t){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===L?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(T)||""}function a(e,n,r,i,o){var a;if(b.logTopLevelRenders){var s=e._currentElement.props,u=s.type;a="React mount: "+("string"==typeof u?u:u.displayName||u.name),t.time(a)}var l=_.mountComponent(e,r,null,g(e,n),o);a&&t.timeEnd(a),e._renderedComponent._topLevelWrapper=e,R._mountImageIntoNode(l,n,e,i,r)}function s(e,t,n,r){var i=E.ReactReconcileTransaction.getPooled(!n&&v.useCreateElement);i.perform(a,null,e,t,i,n,r),E.ReactReconcileTransaction.release(i)}function u(e,t,n){for(_.unmountComponent(e,n),t.nodeType===L&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=i(e);if(t){var n=m.getInstanceFromNode(t);return!(!n||!n._nativeParent)}}function c(e){var t=i(e),n=t&&m.getInstanceFromNode(t);return n&&!n._nativeParent?n:null}function p(e){var t=c(e);return t?t._nativeContainerInfo._topLevelWrapper:null}var h=n(56),f=n(50),d=n(94),m=(n(33),n(11)),g=n(235),v=n(386),y=n(17),b=n(205),w=(n(20),n(238)),_=n(52),x=n(211),E=n(27),k=n(61),C=n(149),A=n(2),S=n(133),M=n(134),T=(n(4),f.ID_ATTRIBUTE_NAME),D=f.ROOT_ATTRIBUTE_NAME,O=1,L=9,F=11,P={},N=1,B=function(){this.rootID=N++};B.prototype.isReactComponent={},B.prototype.render=function(){return this.props};var R={TopLevelWrapper:B,_instancesByReactRootID:P,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return R.scrollMonitor(n,function(){x.enqueueElementInternal(e,t),r&&x.enqueueCallbackInternal(e,r)}),e},_renderNewRootComponent:function(e,t,n,r){!t||t.nodeType!==O&&t.nodeType!==L&&t.nodeType!==F?A(!1):void 0,d.ensureScrollValueMonitoring();var i=C(e);E.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return P[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?A(!1):void 0,R._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){x.validateCallback(r,"ReactDOM.render"),y.isValidElement(t)?void 0:A(!1);var a=y(B,null,null,null,null,null,t),s=p(n);if(s){var u=s._currentElement,c=u.props;if(M(c,t)){var h=s._renderedComponent.getPublicInstance(),f=r&&function(){r.call(h)};return R._updateRootComponent(s,a,n,f),h}R.unmountComponentAtNode(n)}var d=i(n),m=d&&!!o(d),g=l(n),v=m&&!s&&!g,b=R._renderNewRootComponent(a,n,v,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):k)._renderedComponent.getPublicInstance();return r&&r.call(b),b},render:function(e,t,n){return R._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){!e||e.nodeType!==O&&e.nodeType!==L&&e.nodeType!==F?A(!1):void 0;var t=p(e);return t?(delete P[t._instance.rootID],E.batchedUpdates(u,t,e,!1),!0):(l(e),1===e.nodeType&&e.hasAttribute(D),!1)},_mountImageIntoNode:function(e,t,n,o,a){if(!t||t.nodeType!==O&&t.nodeType!==L&&t.nodeType!==F?A(!1):void 0,o){var s=i(t);if(w.canReuseMarkup(e,s))return void m.precacheNode(n,s);var u=s.getAttribute(w.CHECKSUM_ATTR_NAME);s.removeAttribute(w.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(w.CHECKSUM_ATTR_NAME,u);var c=e,p=r(c,l);" (client) "+c.substring(p-20,p+20)+"\n (server) "+l.substring(p-20,p+20),t.nodeType===L?A(!1):void 0}if(t.nodeType===L?A(!1):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else S(t,e),m.precacheNode(n,t.firstChild)}};e.exports=R}).call(t,n(3))},function(e,t,n){"use strict";var r=n(75),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=i},function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=l(t)),n}function i(e){return c?void 0:u(!1),new c(e)}function o(e){return new h(e)}function a(e){return e instanceof h}var s=n(7),u=n(2),l=null,c=null,p={},h=null,f={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){h=e},injectComponentClasses:function(e){s(p,e)}},d={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:a,injection:f};e.exports=d},function(e,t,n){"use strict";var r=n(17),i=n(2),o={NATIVE:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?o.EMPTY:r.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.NATIVE:void i(!1)}};e.exports=o},function(e,t,n){"use strict";function r(e){a.enqueueUpdate(e)}function i(e){var t=o.get(e);return t?t:null}var o=(n(33),n(127)),a=n(27),s=n(2),u=(n(4),{isMounted:function(e){var t=o.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var o=i(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void r(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)},validateCallback:function(e){e&&"function"!=typeof e?s(!1):void 0}});e.exports=u},function(e){"use strict";var t={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){t.currentScrollLeft=e.x,t.currentScrollTop=e.y}};e.exports=t},function(e,t,n){"use strict";function r(e,t){if(null==t?i(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=n(2);e.exports=r},function(e){"use strict";var t=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=t},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.NATIVE?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(210);e.exports=r},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(13),o=null;e.exports=r},function(e){"use strict";function t(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&n[e.type]||"textarea"===t)}var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=t},function(e,t,n){"use strict";var r=n(13),i=n(98),o=n(133),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,i(t))})),e.exports=a},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=r(i);t["default"]=o["default"].createActions(["newPresentation","fetchPresentations","fetchPresentationsDone","fetchPresentationsFail","selectPresentation","deselectPresentation","buildPresentation","buildPresentationDone","publishPresentation","publishPresentationDone","publishPresentationFail","unpublishPresentation","unpublishPresentationDone","unpublishPresentationFail","deletePresentation","deletePresentationDone","deletePresentationFail","resetPresentationStatus"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(302),o=r(i),a=n(303);r(a),t["default"]=o["default"],e.exports=t["default"]},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(23),u=i(s),l=(n(45),n(35)),c=i(l),p=1,h=function(){function e(){o(this,e),this.id=p++,this.uuid=c["default"](),this.type="Material",this.dynamic=!1,this.texture=null,this.side=u["default"].FRONT,this.opacity=1,this.transparent=!0,this.blending=1,this.blendSrc=u["default"].SRC_ALPHA,this.blendDst=u["default"].ONE_MINUS_SRC_ALPHA,this.blendEquation=u["default"].FUNC_ADD,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0}return a(e,[{key:"set",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var i=this[t];void 0!==i?this[t]=void 0===n.slice||n instanceof String?n:n.slice():r.warn(this.type+' "'+t+'" is not a property of this material.')}else r.warn('Material "'+t+'" parameter is undefined.')}}}]),e}();t["default"]=h,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(25),l=r(u),c=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="Scene",e}return a(t,e),s(t,[{key:"animate",value:function(){}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(23),u=r(s),l=n(25),c=r(l),p=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.type="Line",r.mode=u["default"].LINE_STRIP,r.geometry=void 0!==e?e:new THREE.Geometry,r.material=void 0!==n?n:new THREE.LineBasicMaterial({color:16777215*Math.random()}),r}return a(t,e),t}(c["default"]);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(23),u=r(s),l=n(25),c=r(l),p=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.type="Points",r.mode=u["default"].POINTS,r.geometry=e,r.material=n,r}return a(t,e),t}(c["default"]);t["default"]=p,e.exports=t["default"]},,,,,function(e){function t(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=t},function(e,t,n){var r=n(595),i=n(594);e.exports={stringify:r,parse:i}},function(e){e.exports="#define GLSLIFY 1\nuniform float t;\nvarying vec2 uv;\n\nvoid main() {\n  gl_FragColor = vec4(0.5*(uv+1.0), 0.5*(cos(t)+1.0), 1.0);\n}\n"},function(e){e.exports="#define GLSLIFY 1\nvarying vec2 uv;\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  uv = position.xy;\n}\n"},function(e,t,n){"use strict";var r=n(7),i=n(165),o=n(146),a=n(166),s=n(263),u=n(17),l=(n(147),n(167)),c=n(114),p=n(265),h=(n(4),u.createElement),f=u.createFactory,d=u.cloneElement,m=r,g={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:p},Component:o,createElement:h,cloneElement:d,isValidElement:u.isValidElement,PropTypes:l,createClass:a.createClass,createFactory:f,createMixin:function(e){return e},DOM:s,version:c,__spread:m};e.exports=g},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(135),9);e.exports=r},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(7),o=n(27),a=n(96),s=n(22),u={initialize:s,close:function(){h.isBatchingUpdates=!1}},l={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[l,u];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=h.isBatchingUpdates;h.isBatchingUpdates=!0,a?e(t,n,r,i,o):p.perform(e,null,t,n,r,i,o)}};e.exports=h},function(e,t,n){"use strict";function r(){x||(x=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(p),v.EventPluginUtils.injectTreeTraversal(f),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:_,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:w,BeforeInputEventPlugin:i}),v.NativeComponent.injectGenericComponentClass(c),v.NativeComponent.injectTextComponentClass(d),v.DOMProperty.injectDOMPropertyConfig(u),v.DOMProperty.injectDOMPropertyConfig(b),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new h(e)}),v.Updates.injectReconcileTransaction(y),v.Updates.injectBatchingStrategy(m),v.Component.injectEnvironment(l))}var i=n(371),o=n(373),a=n(375),s=n(376),u=n(378),l=n(201),c=n(383),p=n(11),h=n(385),f=n(394),d=n(392),m=n(236),g=n(397),v=n(398),y=n(401),b=n(403),w=n(404),_=n(405),x=!1;e.exports={inject:r}},function(e,t,n){"use strict";var r=n(416),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=a},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1}var i=n(7),o=n(38),a=n(96),s=[],u={enqueue:function(){}},l={getTransactionWrappers:function(){return s},getReactMountReady:function(){return u},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a.Mixin,l),o.addPoolingTo(r),e.exports=r},function(e){function t(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=t},function(e,t,n){(function(r,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t){function n(){i(o),document.body.removeChild(o)}var o=document.createElement("div");document.body.appendChild(o),r(u["default"].createElement(c["default"],a({},t,{afterClose:n}),e),o)};var s=n(1),u=o(s),l=n(469),c=o(l);e.exports=t["default"]}).call(t,n(102),n(150))},,,,function(e){"use strict";function t(e,t,r){if(!e)return null;var i={};for(var o in e)n.call(e,o)&&(i[o]=t.call(r,e[o],o,e));return i}var n=Object.prototype.hasOwnProperty;e.exports=t},function(e,t,n){"use strict";var r,i=n(13);i.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){"use strict";var r,i=n(246);r=i.now?function(){return i.now()}:function(){return Date.now()},e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(529);e.exports=r},function(e,t,n){var r=n(153),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e){return null!=e&&a(i(e))&&!o(e)}var i=n(781),o=n(289),a=n(342);e.exports=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=n(12),u=r(n(5)),l=e.DenseMatrix,c=e.SparseMatrix,p=a("transpose",{Array:function(e){return p(u(e)).valueOf()},Matrix:function(e){var t,n=e.size();switch(n.length){case 1:t=e.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+o(n)+")");switch(e.storage()){case"dense":t=h(e,r,i);break;case"sparse":t=f(e,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+o(this._size)+")")}return t},any:function(e){return i(e)}}),h=function(e,t,n){for(var r,o=e._data,a=[],s=0;n>s;s++){r=a[s]=[];for(var u=0;t>u;u++)r[u]=i(o[u][s])}return new l({data:a,size:[n,t],datatype:e._datatype})},f=function(e,t,n){for(var r=e._values,o=e._index,a=e._ptr,s=r?[]:void 0,u=[],l=[],p=[],h=0;t>h;h++)p[h]=0;var f,d,m;for(f=0,d=o.length;d>f;f++)p[o[f]]++;for(var g=0,v=0;t>v;v++)l.push(g),g+=p[v],p[v]=l[v];for(l.push(g),m=0;n>m;m++)for(var y=a[m],b=a[m+1],w=y;b>w;w++){var _=p[o[w]]++;u[_]=m,r&&(s[_]=i(r[w]))}return new c({values:s,index:u,ptr:l,size:[n,t],datatype:e._datatype})};return p.toTex="\\left(${args[0]}\\right)"+s.operators.transpose,p}var i=n(16).clone,o=n(64).format;t.name="transpose",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=r("combinations",{"number, number":function(e,t){var n,r,i;if(!o(e)||0>e)throw new TypeError("Positive integer value expected in function combinations");if(!o(t)||0>t)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(n=Math.max(t,e-t),r=1,i=1;e-n>=i;i++)r=r*(n+i)/i;return r},"BigNumber, BigNumber":function(t,n){var r,o,a,s,u=new e.BigNumber(1);if(!i(t)||!i(n))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(t))throw new TypeError("k must be less than n in function combinations");for(r=t.minus(n),n.lt(r)&&(r=n),o=u,a=u,s=t.minus(r);a.lte(s);a=a.plus(1))o=o.times(r.plus(a)).dividedBy(a);return o}});return a.toTex="\\binom{${args[0]}}{${args[1]}}",a}function i(e){return e.isInteger()&&e.gte(0)}var o=n(8).isInteger;t.name="combinations",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(560)),s=n(12),u=o("factorial",{number:function(e){if(0>e)throw new Error("Value must be non-negative");return a(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return a(e.plus(1))},"Array | Matrix":function(e){return i(e,u)}});return u.toTex="\\left(${args[0]}\\right)"+s.operators.factorial,u}var i=n(6);n(108),t.name="factorial",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("isPositive",{number:function(e){return e>0},BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return o(e.value)},"Array | Matrix":function(e){return i(e,o)}});return o}var i=n(6);n(8),t.name="isPositive",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(31)),s=e.SparseMatrix,u=function(e,t,n){var r=e._values,u=e._index,l=e._ptr,c=e._size,p=e._datatype,h=t._values,f=t._index,d=t._ptr,m=t._size,g=t._datatype;if(c.length!==m.length)throw new i(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var v,y=c[0],b=c[1],w=a,_=0,x=n;"string"==typeof p&&p===g&&(v=p,w=o.find(a,[v,v]),_=o.convert(0,v),x=o.find(n,[v,v]));var E,k,C,A,S=r&&h?[]:void 0,M=[],T=[],D=new s({values:S,index:M,ptr:T,size:[y,b],datatype:v}),O=S?[]:void 0,L=S?[]:void 0,F=[],P=[];for(k=0;b>k;k++){T[k]=M.length;var N=k+1;for(C=l[k],A=l[k+1];A>C;C++)E=u[C],M.push(E),F[E]=N,O&&(O[E]=r[C]);for(C=d[k],A=d[k+1];A>C;C++)E=f[C],F[E]!==N&&M.push(E),P[E]=N,L&&(L[E]=h[C]);if(S)for(C=T[k];C<M.length;){E=M[C];var B=F[E],R=P[E];if(B===N||R===N){var j=B===N?O[E]:_,I=R===N?L[E]:_,$=x(j,I);w($,_)?M.splice(C,1):(S.push($),C++)}}}return T[b]=M.length,D};return u}var i=n(37);t.name="algorithm05",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(31)),u=e.SparseMatrix,l=function(e,t,n){var r=e._values,l=e._size,c=e._datatype,p=t._values,h=t._size,f=t._datatype;if(l.length!==h.length)throw new o(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var d,m=l[0],g=l[1],v=s,y=0,b=n;"string"==typeof c&&c===f&&(d=c,v=a.find(s,[d,d]),y=a.convert(0,d),b=a.find(n,[d,d]));for(var w=r&&p?[]:void 0,_=[],x=[],E=new u({values:w,index:_,ptr:x,size:[m,g],datatype:d}),k=w?[]:void 0,C=[],A=[],S=0;g>S;S++){x[S]=_.length;var M=S+1;if(i(e,S,C,k,A,M,E,b),i(t,S,C,k,A,M,E,b),k)for(var T=x[S];T<_.length;){var D=_[T];if(A[D]===M){var O=k[D];v(O,y)?_.splice(T,1):(w.push(O),T++)}else _.splice(T,1)}else for(var L=x[S];L<_.length;){var F=_[L];A[F]!==M?_.splice(L,1):L++}}return x[g]=_.length,E};return l}var i=n(1143),o=n(37);t.name="algorithm06",t.factory=r},function(e){e.exports=function(e,t,n,r){if(e.isNaN())return new t(0/0);if(r&&e.isZero())return new t(1/0);if(!n)if(r){if(e.isNegative()||e.gt(t.ONE))throw new Error("asech() only has non-complex values for 0 <= x <= 1.")}else if(e.lt(t.ONE))throw new Error("acosh() only has non-complex values for x >= 1.");var i=t.precision;t.config({precision:i+4});var o=new t(e);o.constructor=t,r&&(o=t.ONE.div(o));var a=n?o.times(o).plus(t.ONE):o.times(o).minus(t.ONE),s=o.plus(a.sqrt()).ln();return t.config({precision:i}),new t(s.toPrecision(i))}},function(e,t,n){var r=n(108),i=n(366),o=n(584);e.exports=function(e,t,n){if(e.isNaN())return new t(0/0);if(!n&&e.isZero()||n&&!e.isFinite())return new t(0);var a=t.precision;if(!n&&!e.isFinite()||n&&e.isZero()){var s=r.pi(t.constructor({precision:a+2})).div(2).toDP(a-1);return s.constructor=t,s.s=e.s,s}t.config({precision:a+4}),n&&(e=t.ONE.div(e));var u=e.abs();if(u.lte(.875)){var l=o(e);return l.constructor=t,t.config({precision:a}),l.toDP(t.precision-1)}if(u.gte(1.143)){var s=r.pi(t.constructor({precision:a+4})).div(2),l=s.minus(o(t.ONE.div(u)));return l.s=e.s,l.constructor=t,t.config({precision:a}),l.toDP(t.precision-1)}return e=e.div(e.times(e).plus(1).sqrt()),t.config({precision:a}),i(e,t)}},function(e){e.exports=function(e,t,n,r){if(e.isNaN())return new t(0/0);if(!e.isFinite())return new t(r?0:n?e:1/0);var i=t.precision;t.config({precision:i+4});var o=new t(e);return o.constructor=t,o=o.exp(),o=n?o.minus(t.ONE.div(o)):o.plus(t.ONE.div(o)),o=r?new t(2).div(o):o.div(2),t.config({precision:i}),new t(o.toPrecision(i))}},function(e,t){"use strict";t.type=function(e){var t=typeof e;return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":"Object":"function"===t?"Function":t}},function(e,t,n){(function(n){"use strict";function r(e){i[e]||(i[e]=!0,"undefined"!=typeof n&&n.warn&&n.warn(e))}t.__esModule=!0,t["default"]=r;var i={};e.exports=t["default"]}).call(t,n(3))},function(e,t,n){"use strict";e.exports=n(601)},function(e,t,n){"use strict";function r(e){return i.createFactory(e)}var i=n(17),o=(n(147),n(245)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);e.exports=a},function(e,t,n){"use strict";function r(){}function i(){}var o=(n(13),n(247),n(4),[]),a={addDevtool:function(e){o.push(e)},removeDevtool:function(e){for(var t=0;t<o.length;t++)o[t]===e&&(o.splice(t,1),t--)},beginProfiling:function(){},endProfiling:function(){},getFlushHistory:function(){},onBeginFlush:function(){r("onBeginFlush")},onEndFlush:function(){r("onEndFlush")},onBeginLifeCycleTimer:function(e,t){i(e),r("onBeginLifeCycleTimer",e,t)},onEndLifeCycleTimer:function(e,t){i(e),r("onEndLifeCycleTimer",e,t)},onBeginReconcilerTimer:function(e,t){i(e),r("onBeginReconcilerTimer",e,t)},onEndReconcilerTimer:function(e,t){i(e),r("onEndReconcilerTimer",e,t)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onNativeOperation:function(e,t,n){i(e),r("onNativeOperation",e,t,n)},onSetState:function(){r("onSetState")},onSetDisplayName:function(e,t){i(e),r("onSetDisplayName",e,t)},onSetChildren:function(e,t){i(e),r("onSetChildren",e,t)},onSetOwner:function(e,t){i(e),r("onSetOwner",e,t)},onSetText:function(e,t){i(e),r("onSetText",e,t)},onMountRootComponent:function(e){i(e),r("onMountRootComponent",e)},onMountComponent:function(e){i(e),r("onMountComponent",e)},onUpdateComponent:function(e){i(e),r("onUpdateComponent",e)},onUnmountComponent:function(e){i(e),r("onUnmountComponent",e)}};e.exports=a},function(e,t,n){"use strict";function r(e){return i.isValidElement(e)?void 0:o(!1),e}var i=n(17),o=n(2);e.exports=r},,,function(e,t,n){var r=n(621);e.exports=function(e){return null==e?"\\s":e.source?e.source:"["+r(e)+"]"}},function(e,t,n){var r=n(14),i=n(431);e.exports=function(e,t,n,o){e=r(e),t=~~t;var a=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",o){case"right":return a=t-e.length,e+i(n,a);case"both":return a=t-e.length,i(n,Math.ceil(a/2))+e+i(n,Math.floor(a/2));default:return a=t-e.length,i(n,a)+e}}},function(e,t,n){function r(e){return i(e)?e:Object(e)}var i=n(240);e.exports=r},function(e,t,n){var r=n(687),i=n(454),o=n(455),a="[object Array]",s=Object.prototype,u=s.toString,l=r(Array,"isArray"),c=l||function(e){return o(e)&&i(e.length)&&u.call(e)==a};e.exports=c},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Option=t.Select=void 0;var i=n(1),o=r(i);t.Select=o["default"].createClass({displayName:"Select",getDefaultProps:function(){return{style:"simple",editable:!0,many:!1}},render:function(){var e="simple-select "+this.props.style;return this.props.className&&(e+=" "+this.props.className),this.props.editable||(e+=" readonly"),o["default"].createElement("ul",{className:e},this.renderOptions())},renderOptions:function(){var e=this,t=this.props,n=t.children,r=(t.many,t.value);return t.onChange,this.props.hasOwnProperty("value")&&(n=o["default"].Children.map(this.props.children,function(t){return o["default"].cloneElement(t,{active:t.props.value===r,onClick:t.props.onClick||e.handleClick(t)})})),n},handleClick:function(e){var t=this;if(this.props.editable&&this.props.onChange){var n=e.props.value;return function(){return t.props.onChange(n)}}}}),t.Option=o["default"].createClass({displayName:"Option",render:function(){var e="simple-select-option";return this.props.active&&(e+=" active"),o["default"].createElement("li",{className:e,onClick:this.props.onClick},this.props.children)}})},function(e,t,n){"use strict";function r(e){var t,n;return t=i(e||""),t=o(t),n=$("<div>").html(t),n.find("[lang]").each(function(){var e,t=$(this),n=t.attr("lang"),r=t.attr("title"),i=t.is("pre"),o=i?t.find("code").text():t.text();"widget"===n?e=a(o,r):"tex"!==n&&"latex"!==n||(e=u(o,{block:i})),e&&t.replaceWith(e)}),n.find("table").addClass("table table-striped"),n.html()}function i(e){return l(e)}function o(e){return c(e)}function a(e,t){var n=h.render(e,{title:t});return n===e&&(n=s(e,t)),n}function s(e,t){var n="#"+e.slug(),r=$("<a>").attr("href","#").attr("data-selector",n).attr("data-showcase-mode","loose").text(t||e);return r}function u(e,t){var n={displayMode:t&&t.block};return p.renderToString(e,n)}var l=n(278),c=n(441),p=n(513),h=n(475),f=n(505);l.setOptions({renderer:new f,pedantic:!1,sanitize:!1,gfm:!0,widgets:!0,tables:!0,breaks:!0,smartLists:!0,xhtml:!0}),c.defaults.protocols=/^(http|https|mailto|#|\/|=)/i,e.exports=r},function(e,t,n){var r;(function(i){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){function i(e){this.tokens=[],this.tokens.links={},this.options=e||d.defaults,this.rules=m.normal,this.options.gfm&&(this.rules=this.options.tables?m.tables:m.gfm)}function a(e,t){if(this.options=t||d.defaults,this.links=e,this.rules=g.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?g.breaks:g.gfm:this.options.pedantic&&(this.rules=g.pedantic)}function s(e){this.options=e||{}}function u(e){this.tokens=[],this.token=null,this.options=e||d.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function l(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?String.fromCharCode("x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1)):""})}function p(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function h(){}function f(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function d(e,t,n){if(n||"function"==typeof t){n||(n=t,t=null),t=f({},d.defaults,t||{});var r,o,a=t.highlight,s=0;try{r=i.lex(e,t)}catch(c){return n(c)}o=r.length;var p=function(e){if(e)return t.highlight=a,n(e);var i;try{i=u.parse(r,t)}catch(o){e=o}return t.highlight=a,e?n(e):n(null,i)};if(!a||a.length<3)return p();if(delete t.highlight,!o)return p();for(;s<r.length;s++)!function(e){return"code"!==e.type?--o||p():a(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--o||p():(e.text=n,e.escaped=!0,void(--o||p()))})}(r[s])}else try{return t&&(t=f({},d.defaults,t)),u.parse(i.lex(e,t),t)}catch(c){if(c.message+="\nPlease report this to https://github.com/chjj/marked.",(t||d.defaults).silent)return"<p>An error occured:</p><pre>"+l(c.message+"",!0)+"</pre>";throw c}}var m={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:h,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:h,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:h,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};m.bullet=/(?:[*+-]|\d+\.)/,m.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,m.item=p(m.item,"gm")(/bull/g,m.bullet)(),m.list=p(m.list)(/bull/g,m.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+m.def.source+")")(),m.blockquote=p(m.blockquote)("def",m.def)(),m._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",m.html=p(m.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,m._tag)(),m.paragraph=p(m.paragraph)("hr",m.hr)("heading",m.heading)("lheading",m.lheading)("blockquote",m.blockquote)("tag","<"+m._tag)("def",m.def)(),m.normal=f({},m),m.gfm=f({},m.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),m.gfm.paragraph=p(m.paragraph)("(?!","(?!"+m.gfm.fences.source.replace("\\1","\\2")+"|"+m.list.source.replace("\\1","\\3")+"|")(),m.tables=f({},m.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),i.rules=m,i.lex=function(e,t){var n=new i(t);return n.lex(e)},i.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},i.prototype.token=function(e,t,n){for(var r,i,o,a,s,u,l,c,p,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<u.align.length;c++)u.align[c]=/^ *-+: *$/.test(u.align[c])?"right":/^ *:-+: *$/.test(u.align[c])?"center":/^ *:-+ *$/.test(u.align[c])?"left":null;for(c=0;c<u.cells.length;c++)u.cells[c]=u.cells[c].split(/ *\| */);this.tokens.push(u)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),o=o[0].match(this.rules.item),r=!1,p=o.length,c=0;p>c;c++)u=o[c],l=u.length,u=u.replace(/^ *([*+-]|\d+\.) +/,""),~u.indexOf("\n ")&&(l-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(s=m.bullet.exec(o[c+1])[0],a===s||a.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=p-1)),i=r||/\n\n(?!\s*$)/.test(u),c!==p-1&&(r="\n"===u.charAt(u.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(u,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===o[1]||"script"===o[1]||"style"===o[1],text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<u.align.length;c++)u.align[c]=/^ *-+: *$/.test(u.align[c])?"right":/^ *:-+: *$/.test(u.align[c])?"center":/^ *:-+ *$/.test(u.align[c])?"left":null;for(c=0;c<u.cells.length;c++)u.cells[c]=u.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(u)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var g={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:h,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^[!$]?\[(inside)\]\(href\)/,reflink:/^[!$]?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^[!$]?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:h,text:/^[\s\S]+?(?=[\\<!\[_*`$]| {2,}\n|$)/,widget:/^\[\[(href)\]\]/,latex:/^\$\$\s*([\s\S]+?)\s*\$\$/};g._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,g._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,g.link=p(g.link)("inside",g._inside)("href",g._href)(),g.reflink=p(g.reflink)("inside",g._inside)(),g.widget=p(g.widget)("href",g._href)(),g.normal=f({},g),g.pedantic=f({},g.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),g.gfm=f({},g.normal,{escape:p(g.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:p(g.text)("]|","~]|")("|","|https?://|")()}),g.breaks=f({},g.gfm,{br:p(g.br)("{2,}","*")(),text:p(g.gfm.text)("{2,}","*")()}),a.rules=g,a.output=function(e,t,n){var r=new a(t,n);return r.output(e)},a.prototype.output=function(e){for(var t,n,r,i,o="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=this.mangle(":"===i[1].charAt(6)?i[1].substring(7):i[1]),r=this.mangle("mailto:")+n):(n=l(i[1]),r=n),o+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),o+=this.options.sanitize?l(i[0]):i[0];else if(this.options.widgets&&(i=this.rules.widget.exec(e)))e=e.substring(i[0].length),o+=this.renderer.widget(i[2],i[3]);else if(this.options.latex&&(i=this.rules.latex.exec(e)))e=e.substring(i[0].length),o+=this.renderer.latex(i[1]);else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),o+=this.renderer.codespan(l(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),o+=l(this.smartypants(i[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=l(i[1]),r=n,o+=this.renderer.link(r,null,n);return o},a.prototype.outputLink=function(e,t){var n=l(t.href),r=t.title?l(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,l(e[1]))},a.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"\u2014").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):e},a.prototype.mangle=function(e){for(var t,n="",r=e.length,i=0;r>i;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+l(t,!0)+'">'+(n?e:l(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:l(e,!0))+"\n</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(c(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(0===r.indexOf("javascript:"))return""}var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},s.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},s.prototype.widget=function(e,t){var n="[["+e;return t&&(n+=' "'+t+'"'),n+="]]"},s.prototype.latex=function(e){return'<code class="lang-latex">'+e+"</code>"},u.parse=function(e,t,n){var r=new u(t,n);return r.parse(e)},u.prototype.parse=function(e){this.inline=new a(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},u.prototype.next=function(){return this.token=this.tokens.pop()},u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},u.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;
return this.inline.output(e)},u.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i,o="",a="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});a+=this.renderer.tablerow(n)}return this.renderer.table(o,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",s=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,s);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},h.exec=h,d.options=d.setOptions=function(e){return f(d.defaults,e),d},d.defaults={gfm:!0,widgets:!0,latex:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new s,xhtml:!1},d.Parser=u,d.parser=u.parse,d.Renderer=s,d.Lexer=i,d.lexer=i.lex,d.InlineLexer=a,d.inlineLexer=a.output,d.parse=d,"undefined"!=typeof e&&"object"===o(t)?e.exports=d:(r=function(){return d}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(function(){return this||("undefined"!=typeof window?window:i)}())}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n){return a.add(e,t,n)}function i(e,t,n){return a.call(e,t,n)}var o=(n(28),n(476)),a=new o;e.exports={add:r,call:i}},function(e,t,n){"use strict";var r=n(197).readFileSync,i=n(28),o={};o.trim=function(e){return e.replace(/(^\s+|\s+$)/g,"")},o.read=function(e){return o.trim(r(e,"utf8"))},o.template=function(e,t){var n=i.template(o.read("lib/widgets/"+e+".jst"));return t?n(t):n},o.t=function(e){return i.template(e)},o.encode=function(e){return encodeURIComponent(e)},e.exports=o},,,,,,,,function(e,t,n){function r(e,t,n,r,i,o){this.classes=e||[],this.children=t||[],this.height=n||0,this.depth=r||0,this.maxFontSize=i||0,this.style=o||{},this.attributes={}}function i(e,t,n,r){this.children=e||[],this.height=t||0,this.depth=n||0,this.maxFontSize=r||0}function o(e,t,n,r,i,o,a){this.value=e||"",this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.classes=o||[],this.style=a||{},this.maxFontSize=0}var a=n(69),s=function(e){e=e.slice();for(var t=e.length-1;t>=0;t--)e[t]||e.splice(t,1);return e.join(" ")};r.prototype.setAttribute=function(e,t){this.attributes[e]=t},r.prototype.toNode=function(){var e=document.createElement("span");e.className=s(this.classes);for(var t in this.style)Object.prototype.hasOwnProperty.call(this.style,t)&&(e.style[t]=this.style[t]);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e},r.prototype.toMarkup=function(){var e="<span";this.classes.length&&(e+=' class="',e+=a.escape(s(this.classes)),e+='"');var t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=a.hyphenate(n)+":"+this.style[n]+";");t&&(e+=' style="'+a.escape(t)+'"');for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=a.escape(this.attributes[r]),e+='"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</span>"},i.prototype.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},i.prototype.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},o.prototype.toNode=function(){var e=document.createTextNode(this.value),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=this.italic+"em"),this.classes.length>0&&(t=t||document.createElement("span"),t.className=s(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e},o.prototype.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=a.escape(s(this.classes)),t+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=a.hyphenate(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+a.escape(n)+'"');var i=a.escape(this.value);return e?(t+=">",t+=i,t+="</span>"):i},e.exports={span:r,documentFragment:i,symbolNode:o}},function(e,t,n){function r(e){var t=i(e)?u.call(e):"";return t==o||t==a}var i=n(230),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,u=s.toString;e.exports=r},function(e,t){var n={};n.hexTable=new Array(256);for(var r=0;256>r;++r)n.hexTable[r]="%"+((16>r?"0":"")+r.toString(16)).toUpperCase();t.arrayToObject=function(e,t){for(var n=t.plainObjects?Object.create(null):{},r=0,i=e.length;i>r;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n},t.merge=function(e,n,r){if(!n)return e;if("object"!=typeof n)return Array.isArray(e)?e.push(n):"object"==typeof e?e[n]=!0:e=[e,n],e;if("object"!=typeof e)return e=[e].concat(n);Array.isArray(e)&&!Array.isArray(n)&&(e=t.arrayToObject(e,r));for(var i=Object.keys(n),o=0,a=i.length;a>o;++o){var s=i[o],u=n[s];e[s]=Object.prototype.hasOwnProperty.call(e,s)?t.merge(e[s],u,r):u}return e},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;"string"!=typeof e&&(e=""+e);for(var t="",r=0,i=e.length;i>r;++r){var o=e.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&57>=o||o>=65&&90>=o||o>=97&&122>=o?t+=e[r]:128>o?t+=n.hexTable[o]:2048>o?t+=n.hexTable[192|o>>6]+n.hexTable[128|63&o]:55296>o||o>=57344?t+=n.hexTable[224|o>>12]+n.hexTable[128|o>>6&63]+n.hexTable[128|63&o]:(++r,o=65536+((1023&o)<<10|1023&e.charCodeAt(r)),t+=n.hexTable[240|o>>18]+n.hexTable[128|o>>12&63]+n.hexTable[128|o>>6&63]+n.hexTable[128|63&o])}return t},t.compact=function(e,n){if("object"!=typeof e||null===e)return e;n=n||[];var r=n.indexOf(e);if(-1!==r)return n[r];if(n.push(e),Array.isArray(e)){for(var i=[],o=0,a=e.length;a>o;++o)"undefined"!=typeof e[o]&&i.push(e[o]);return i}var s=Object.keys(e);for(o=0,a=s.length;a>o;++o){var u=s[o];e[u]=t.compact(e[u],n)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,n){"use strict";function r(e,t,n){var r=e,i=void 0===r[n];i&&null!=t&&(r[n]=t)}function i(e){if(null==e)return e;var t={};return o(e,r,t),t}var o=(n(110),n(111));n(4),e.exports=i},,,,function(e,t,n){var r=n(30),i={};i.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},i.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},i.transpose=function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},i.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null},i.adjoint=function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},i.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},i.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*s+o*u,e[1]=i*s+a*u,e[2]=r*l+o*c,e[3]=i*l+a*c,e},i.mul=i.multiply,i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=r*-s+o*u,e[3]=i*-s+a*u,e},i.scale=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=i*s,e[2]=o*u,e[3]=a*u,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},i.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},i.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},e.exports=i},function(e,t,n){var r=n(30),i={};i.create=function(){var e=new r.ARRAY_TYPE(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},i.clone=function(e){var t=new r.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},i.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=n*o-r*i;return u?(u=1/u,e[0]=o*u,e[1]=-r*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*s-o*a)*u,e[5]=(r*a-n*s)*u,e):null},i.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},i.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=n[0],c=n[1],p=n[2],h=n[3],f=n[4],d=n[5];return e[0]=r*l+o*c,e[1]=i*l+a*c,e[2]=r*p+o*h,e[3]=i*p+a*h,e[4]=r*f+o*d+s,e[5]=i*f+a*d+u,e},i.mul=i.multiply,i.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*l,e[1]=i*c+a*l,e[2]=r*-l+o*c,e[3]=i*-l+a*c,e[4]=s,e[5]=u,e},i.scale=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r*l,e[1]=i*l,e[2]=o*c,e[3]=a*c,e[4]=s,e[5]=u,e},i.translate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=r*l+o*c+s,e[5]=i*l+a*c+u,e},i.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},i.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},e.exports=i},function(e,t,n){var r=n(30),i={};i.create=function(){var e=new r.ARRAY_TYPE(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.clone=function(e){var t=new r.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},i.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],p=t[9],h=t[10],f=t[11],d=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*u-i*a,w=n*l-o*a,_=r*u-i*s,x=r*l-o*s,E=i*l-o*u,k=c*m-p*d,C=c*g-h*d,A=c*v-f*d,S=p*g-h*m,M=p*v-f*m,T=h*v-f*g,D=y*T-b*M+w*S+_*A-x*C+E*k;return D?(D=1/D,e[0]=(s*T-u*M+l*S)*D,e[1]=(i*M-r*T-o*S)*D,e[2]=(m*E-g*x+v*_)*D,e[3]=(h*x-p*E-f*_)*D,e[4]=(u*A-a*T-l*C)*D,e[5]=(n*T-i*A+o*C)*D,e[6]=(g*w-d*E-v*b)*D,e[7]=(c*E-h*w+f*b)*D,e[8]=(a*M-s*A+l*k)*D,e[9]=(r*A-n*M-o*k)*D,e[10]=(d*x-m*w+v*y)*D,e[11]=(p*w-c*x-f*y)*D,e[12]=(s*C-a*S-u*k)*D,e[13]=(n*S-r*C+i*k)*D,e[14]=(m*b-d*_-g*y)*D,e[15]=(c*_-p*b+h*y)*D,e):null},i.adjoint=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],p=t[9],h=t[10],f=t[11],d=t[12],m=t[13],g=t[14],v=t[15];return e[0]=s*(h*v-f*g)-p*(u*v-l*g)+m*(u*f-l*h),e[1]=-(r*(h*v-f*g)-p*(i*v-o*g)+m*(i*f-o*h)),e[2]=r*(u*v-l*g)-s*(i*v-o*g)+m*(i*l-o*u),e[3]=-(r*(u*f-l*h)-s*(i*f-o*h)+p*(i*l-o*u)),e[4]=-(a*(h*v-f*g)-c*(u*v-l*g)+d*(u*f-l*h)),e[5]=n*(h*v-f*g)-c*(i*v-o*g)+d*(i*f-o*h),e[6]=-(n*(u*v-l*g)-a*(i*v-o*g)+d*(i*l-o*u)),e[7]=n*(u*f-l*h)-a*(i*f-o*h)+c*(i*l-o*u),e[8]=a*(p*v-f*m)-c*(s*v-l*m)+d*(s*f-l*p),e[9]=-(n*(p*v-f*m)-c*(r*v-o*m)+d*(r*f-o*p)),e[10]=n*(s*v-l*m)-a*(r*v-o*m)+d*(r*l-o*s),e[11]=-(n*(s*f-l*p)-a*(r*f-o*p)+c*(r*l-o*s)),e[12]=-(a*(p*g-h*m)-c*(s*g-u*m)+d*(s*h-u*p)),e[13]=n*(p*g-h*m)-c*(r*g-i*m)+d*(r*h-i*p),e[14]=-(n*(s*g-u*m)-a*(r*g-i*m)+d*(r*u-i*s)),e[15]=n*(s*h-u*p)-a*(r*h-i*p)+c*(r*u-i*s),e},i.determinant=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],p=e[10],h=e[11],f=e[12],d=e[13],m=e[14],g=e[15],v=t*a-n*o,y=t*s-r*o,b=t*u-i*o,w=n*s-r*a,_=n*u-i*a,x=r*u-i*s,E=l*d-c*f,k=l*m-p*f,C=l*g-h*f,A=c*m-p*d,S=c*g-h*d,M=p*g-h*m;return v*M-y*S+b*A+w*C-_*k+x*E},i.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],h=t[9],f=t[10],d=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=n[0],w=n[1],_=n[2],x=n[3];return e[0]=b*r+w*s+_*p+x*m,e[1]=b*i+w*u+_*h+x*g,e[2]=b*o+w*l+_*f+x*v,e[3]=b*a+w*c+_*d+x*y,b=n[4],w=n[5],_=n[6],x=n[7],e[4]=b*r+w*s+_*p+x*m,e[5]=b*i+w*u+_*h+x*g,e[6]=b*o+w*l+_*f+x*v,e[7]=b*a+w*c+_*d+x*y,b=n[8],w=n[9],_=n[10],x=n[11],e[8]=b*r+w*s+_*p+x*m,e[9]=b*i+w*u+_*h+x*g,e[10]=b*o+w*l+_*f+x*v,e[11]=b*a+w*c+_*d+x*y,b=n[12],w=n[13],_=n[14],x=n[15],e[12]=b*r+w*s+_*p+x*m,e[13]=b*i+w*u+_*h+x*g,e[14]=b*o+w*l+_*f+x*v,e[15]=b*a+w*c+_*d+x*y,e},i.mul=i.multiply,i.translate=function(e,t,n){var r,i,o,a,s,u,l,c,p,h,f,d,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],h=t[9],f=t[10],d=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=p,e[9]=h,e[10]=f,e[11]=d,e[12]=r*m+s*g+p*v+t[12],e[13]=i*m+u*g+h*v+t[13],e[14]=o*m+l*g+f*v+t[14],e[15]=a*m+c*g+d*v+t[15]),e},i.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.rotate=function(e,t,n,i){var o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,_,x,E,k,C,A,S,M,T=i[0],D=i[1],O=i[2],L=Math.sqrt(T*T+D*D+O*O);return Math.abs(L)<r.EPSILON?null:(L=1/L,T*=L,D*=L,O*=L,o=Math.sin(n),a=Math.cos(n),s=1-a,u=t[0],l=t[1],c=t[2],p=t[3],h=t[4],f=t[5],d=t[6],m=t[7],g=t[8],v=t[9],y=t[10],b=t[11],w=T*T*s+a,_=D*T*s+O*o,x=O*T*s-D*o,E=T*D*s-O*o,k=D*D*s+a,C=O*D*s+T*o,A=T*O*s+D*o,S=D*O*s-T*o,M=O*O*s+a,e[0]=u*w+h*_+g*x,e[1]=l*w+f*_+v*x,e[2]=c*w+d*_+y*x,e[3]=p*w+m*_+b*x,e[4]=u*E+h*k+g*C,e[5]=l*E+f*k+v*C,e[6]=c*E+d*k+y*C,e[7]=p*E+m*k+b*C,e[8]=u*A+h*S+g*M,e[9]=l*A+f*S+v*M,e[10]=c*A+d*S+y*M,e[11]=p*A+m*S+b*M,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},i.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],p=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+p*r,e[7]=u*i+h*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=p*i-s*r,e[11]=h*i-u*r,e},i.rotateY=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],p=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-p*r,e[3]=u*i-h*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+p*i,e[11]=u*r+h*i,e},i.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],p=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+p*r,e[3]=u*i+h*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=p*i-s*r,e[7]=h*i-u*r,e},i.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},i.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotation=function(e,t,n){var i,o,a,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,u*=c,l*=c,i=Math.sin(t),o=Math.cos(t),a=1-o,e[0]=s*s*a+o,e[1]=u*s*a+l*i,e[2]=l*s*a-u*i,e[3]=0,e[4]=s*u*a-l*i,e[5]=u*u*a+o,e[6]=l*u*a+s*i,e[7]=0,e[8]=s*l*a+u*i,e[9]=u*l*a-s*i,e[10]=l*l*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},i.fromXRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromYRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromZRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.fromRotationTranslation=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,u=i+i,l=o+o,c=r*s,p=r*u,h=r*l,f=i*u,d=i*l,m=o*l,g=a*s,v=a*u,y=a*l;return e[0]=1-(f+m),e[1]=p+y,e[2]=h-v,e[3]=0,e[4]=p-y,e[5]=1-(c+m),e[6]=d+g,e[7]=0,e[8]=h+v,e[9]=d-g,e[10]=1-(c+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},i.fromRotationTranslationScale=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,l=o+o,c=a+a,p=i*u,h=i*l,f=i*c,d=o*l,m=o*c,g=a*c,v=s*u,y=s*l,b=s*c,w=r[0],_=r[1],x=r[2];return e[0]=(1-(d+g))*w,e[1]=(h+b)*w,e[2]=(f-y)*w,e[3]=0,e[4]=(h-b)*_,e[5]=(1-(p+g))*_,e[6]=(m+v)*_,e[7]=0,e[8]=(f+y)*x,e[9]=(m-v)*x,e[10]=(1-(p+d))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},i.fromRotationTranslationScaleOrigin=function(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],u=t[3],l=o+o,c=a+a,p=s+s,h=o*l,f=o*c,d=o*p,m=a*c,g=a*p,v=s*p,y=u*l,b=u*c,w=u*p,_=r[0],x=r[1],E=r[2],k=i[0],C=i[1],A=i[2];return e[0]=(1-(m+v))*_,e[1]=(f+w)*_,e[2]=(d-b)*_,e[3]=0,e[4]=(f-w)*x,e[5]=(1-(h+v))*x,e[6]=(g+y)*x,e[7]=0,e[8]=(d+b)*E,e[9]=(g-y)*E,e[10]=(1-(h+m))*E,e[11]=0,e[12]=n[0]+k-(e[0]*k+e[4]*C+e[8]*A),e[13]=n[1]+C-(e[1]*k+e[5]*C+e[9]*A),e[14]=n[2]+A-(e[2]*k+e[6]*C+e[10]*A),e[15]=1,e},i.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,p=r*s,h=i*a,f=i*s,d=i*u,m=o*a,g=o*s,v=o*u;return e[0]=1-p-d,e[1]=c+v,e[2]=h-g,e[3]=0,e[4]=c-v,e[5]=1-l-d,e[6]=f+m,e[7]=0,e[8]=h+g,e[9]=f-m,e[10]=1-l-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},i.frustum=function(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e},i.perspective=function(e,t,n,r,i){var o=1/Math.tan(t/2),a=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*a,e[15]=0,e},i.perspectiveFromFieldOfView=function(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-((a-s)*u*.5),e[9]=(i-o)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},i.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e},i.lookAt=function(e,t,n,o){var a,s,u,l,c,p,h,f,d,m,g=t[0],v=t[1],y=t[2],b=o[0],w=o[1],_=o[2],x=n[0],E=n[1],k=n[2];return Math.abs(g-x)<r.EPSILON&&Math.abs(v-E)<r.EPSILON&&Math.abs(y-k)<r.EPSILON?i.identity(e):(h=g-x,f=v-E,d=y-k,m=1/Math.sqrt(h*h+f*f+d*d),h*=m,f*=m,d*=m,a=w*d-_*f,s=_*h-b*d,u=b*f-w*h,m=Math.sqrt(a*a+s*s+u*u),m?(m=1/m,a*=m,s*=m,u*=m):(a=0,s=0,u=0),l=f*u-d*s,c=d*a-h*u,p=h*s-f*a,m=Math.sqrt(l*l+c*c+p*p),m?(m=1/m,l*=m,c*=m,p*=m):(l=0,c=0,p=0),e[0]=a,e[1]=l,e[2]=h,e[3]=0,e[4]=s,e[5]=c,e[6]=f,e[7]=0,e[8]=u,e[9]=p,e[10]=d,e[11]=0,e[12]=-(a*g+s*v+u*y),e[13]=-(l*g+c*v+p*y),e[14]=-(h*g+f*v+d*y),e[15]=1,e)},i.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},i.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},e.exports=i},function(e,t,n){var r=n(30),i=n(171),o=n(173),a=n(174),s={};s.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.rotationTo=function(){var e=o.create(),t=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){var u=o.dot(i,a);return-.999999>u?(o.cross(e,t,i),o.length(e)<1e-6&&o.cross(e,n,i),o.normalize(e,e),s.setAxisAngle(r,e,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+u,s.normalize(r,r))}}(),s.setAxes=function(){var e=i.create();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],s.normalize(t,s.fromMat3(t,e))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.setAxisAngle=function(e,t,n){n=.5*n;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},s.add=a.add,s.multiply=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-r*l,e[2]=o*c+a*l+r*u-i*s,e[3]=a*c-r*s-i*u-o*l,e},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-r*s,e},s.rotateY=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-o*s,e[1]=i*u+a*s,e[2]=o*u+r*s,e[3]=a*u-i*s,e},s.rotateZ=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=o*u+a*s,e[3]=a*u-o*s,e},s.calculateW=function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(e,t,n,r){var i,o,a,s,u,l=t[0],c=t[1],p=t[2],h=t[3],f=n[0],d=n[1],m=n[2],g=n[3];return o=l*f+c*d+p*m+h*g,0>o&&(o=-o,f=-f,d=-d,m=-m,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*l+u*f,e[1]=s*c+u*d,e[2]=s*p+u*m,e[3]=s*h+u*g,e},s.sqlerp=function(){var e=s.create(),t=s.create();return function(n,r,i,o,a,u){return s.slerp(e,r,a,u),s.slerp(t,i,o,u),s.slerp(n,e,t,2*u*(1-u)),n}}(),s.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e},s.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e},s.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},e.exports=s},function(e){function t(e,t,n){e=String(e);var r=-1;for(n||(n=" "),t-=e.length;++r<t;)e=n+e;return e}e.exports=t},function(e,t,n){function r(e,t,n){return t in e?e[t]:n}function i(e,t){var n=r.bind(null,t||{}),i=n("transform",Function.prototype),a=n("padding"," "),s=n("before"," "),u=n("after"," | "),l=n("start",1),c=Array.isArray(e),p=c?e:e.split("\n"),h=l+p.length-1,f=String(h).length,d=p.map(function(e,t){var n=l+t,r={before:s,number:n,width:f,after:u,line:e};return i(r),r.before+o(r.number,f,a)+r.after+r.line});return c?d:d.join("\n")}var o=n(299);e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(277),s=r(a),u=o["default"].createClass({displayName:"Markdown",getDefaultProps:function(){return{src:""}},render:function(){var e="markdown";this.props.className&&(e+=" "+this.props.className);var t=s["default"](this.props.src);return o["default"].createElement("div",{className:e,dangerouslySetInnerHTML:{__html:t}})}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(45),l=n(25),c=r(l),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;i(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return c.type="OrthographicCamera",c.left=e,c.right=n,c.bottom=r,c.top=a,c.near=s,c.far=l,c.matrixWorldInverse=u.mat4.create(),c.projectionMatrix=u.mat4.create(),c.updateProjectionMatrix(),c}return a(t,e),s(t,[{key:"resize",value:function(e,t){this.left=.5*e/-2,this.right=.5*e/2,this.bottom=.5*t/-2,this.top=.5*t/2,this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){u.mat4.ortho(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far)}}]),t}(c["default"]);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(45),l=n(25),c=r(l),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:45,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4/3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.type="PerspectiveCamera",s.fov=e,s.aspect=n,s.near=r,s.far=a,s.matrixWorldInverse=u.mat4.create(),s.projectionMatrix=u.mat4.create(),s.updateProjectionMatrix(),s}return a(t,e),s(t,[{key:"resize",value:function(e,t){this.aspect=e/t,this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){u.mat4.perspective(this.projectionMatrix,this.fov,this.aspect,this.near,this.far)}}]),t}(c["default"]);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(176),s=r(a),u=n(35),l=r(u),c=function(){function e(){i(this,e),this.id=s["default"].nextID(),this.uuid=l["default"](),this.type="DirectGeometry",this.indices=[],this.vertices=[],this.colors=[],this.groups=[],this.verticesNeedUpdate=!1,this.colorsNeedUpdate=!1,this.groupsNeedUpdate=!1}return o(e,[{key:"computeGroups",value:function(){}},{key:"fromGeometry",value:function(){return this}}]),e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(105),u=r(s),l=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.meshPerAttribute=r,a}return a(t,e),t}(u["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t
}}(),u=n(43),l=r(u),c=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="InstancedBufferGeometry",e.maxInstancedCount=void 0,e}return a(t,e),s(t,[{key:"addGroup",value:function(e,t,n){this.groups.push({start:e,count:t,instances:n})}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(308),u=r(s),l=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.meshPerAttribute=r,a}return a(t,e),t}(u["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=r(o),s=function u(e,t){i(this,u),this.uuid=a["default"](),this.array=e,this.stride=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0};t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(311),s=r(a),u=function(){function e(){i(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d")}return o(e,[{key:"render",value:function(e){s["default"](this.context,e)}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(45),l=n(306),c=i(l),p=n(115),h=i(p),f=n(224),d=(i(f),n(315)),m=i(d),g=n(314),v=i(g),y=n(320),b=i(y),w=n(319),_=i(w),x=n(318),E=i(x),k=n(313),C=i(k),A=n(325),S=(i(A),n(312)),M=i(S),T=n(316),D=i(T),O=n(326),L=i(O),F=n(324),P=i(F),N=n(323),B=(i(N),n(322)),R=i(B),j=n(321),I=i(j),$=n(309),z=i($),U=n(116),V=i(U),Y=n(221),W=i(Y),H=n(327),q=i(H),G=n(328),K=i(G),J=0,X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.params=t,this.initCanvas(),this.initRenderer(),this.initTextRenderer(),this.stack=[this.canvas,this.text.canvas],this.stack.context=[this.gl,this.text.context],this.camera=new W["default"]}return s(e,[{key:"initCanvas",value:function(){var e={antialias:!0},t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("webgl-experimental",e)||t.getContext("experimental-webgl",e);if(!n)throw"Error creating WebGL context";this.canvas=t,this.gl=this.context=n,this.onContextLost=this.onContextLost.bind(this),this.canvas.addEventListener("webglcontextlost",this.onContextLost)}},{key:"initRenderer",value:function(){this.gl,this.extensions=new m["default"](this.gl),this.capabilities=new v["default"](this.gl,this.extensions,this.params),this.props=new _["default"],this.state=new b["default"](this.gl,this.extensions),this.programs=new E["default"](this,this.capabilities),this.buffers=new C["default"](this.gl,this.props),this.bufferRenderer=new M["default"](this.gl,this.extensions),this.indexedBufferRenderer=new D["default"](this.gl,this.extensions),this.transparentObjects=[],this.usedTextureUnits=0,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.clearColor=[1,1,1,1],this.state.init(),this.projectionMatrix=u.mat4.create(),this.modelViewMatrix=u.mat4.create(),this.setDefaultGLState()}},{key:"initTextRenderer",value:function(){this.text=new z["default"]}},{key:"resize",value:function(e,t){this.width=e,this.height=t}},{key:"draw",value:function(e){var t=V["default"](e.guide.get("backgroundColor")).gl();this.setClearColor.apply(this,o(t)),q["default"](this,this.camera,e);var n=K["default"](e);this.render(n,this.camera),this.text.render(e)}},{key:"render",value:function(e,t,n,r){var i=(this.gl,this.width),o=this.height,a=this.state,s=this.projectionMatrix;this.modelViewMatrix,this.gl.viewport(0,0,i,o),this.transparentObjects.length=0,e.autoUpdate===!0&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),u.mat4.invert(t.matrixWorldInverse,t.matrixWorld),u.mat4.multiply(s,t.projectionMatrix,t.matrixWorldInverse),this.projectObject(e),this.autoClear!==!0&&r!==!0||this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),this.renderObjects(this.transparentObjects,t),a.setDepthTest(!0),a.setDepthWrite(!0),a.setColorWrite(!0),J+=.01}},{key:"projectObject",value:function(e){if(e.visible!==!1){var t=0,n=void 0;void 0!==e.geometry&&void 0!==e.material&&(this.buffers.update(e),this.pushRenderItem(e,e.geometry,e.material,t,n));for(var r=0;r<e.children.length;r++)this.projectObject(e.children[r])}}},{key:"pushRenderItem",value:function(e,t,n,r,i){var o={id:e.id,object:e,geometry:t,material:n,z:r,group:i};this.transparentObjects.push(o)}},{key:"renderObjects",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.object,o=r.geometry,a=r.material,s=r.group;u.mat4.multiply(i.modelViewMatrix,t.matrixWorldInverse,i.matrixWorld),this.renderBufferDirect(t,o,a,i,s)}}},{key:"renderBufferDirect",value:function(e,t,n,r,i){var o=this.gl;this.setMaterial(n);var a=void 0,s=!1,u=this.setProgram(e,n,r),l=t.id+"_"+u.id;l!==this.currentGeometryProgram&&(this.currentGeometryProgram=l,s=!0);var p=t.index,f=t.attributes.position;if(null!==p?(a=this.indexedBufferRenderer,a.setIndex(p)):a=this.bufferRenderer,s&&(P["default"](this,n,u,t),null!==p&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.buffers.get(p))),void 0===i){var d=void 0;d=null!==p?p.getCount():f instanceof h["default"]?f.data.array.length/3:f.getCount(),i={start:t.drawRange.start,count:Math.min(t.drawRange.count,d)}}"string"==typeof r.mode,a.mode=r.mode,t instanceof c["default"]&&t.maxInstancedCount>0?a.renderInstances(t):a.render(i.start,i.count)}},{key:"setMaterial",value:function(e){var t=this.gl,n=this.state;e.side!==t.FRONT_AND_BACK?n.enable(t.CULL_FACE):n.disable(t.CULL_FACE),n.setFlipSided(e.side===t.BACK),e.transparent===!0?n.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha):n.setBlending(0),n.setDepthFunc(e.depthFunc),n.setDepthTest(e.depthTest),n.setDepthWrite(e.depthWrite),n.setColorWrite(e.colorWrite),n.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}},{key:"setProgram",value:function(e,t,n){var r=this.gl,i=this.capabilities;this.usedTextureUnits=0;var o=!1,a=!1,s=this.props.get(t);!t.needsUpdate&&s.program||(this.initMaterial(t,n),t.needsUpdate=!1);var u=s.program,l=u.getUniforms();if(s.uniforms,u.id!==this.currentProgramID&&(r.useProgram(u.program),this.currentProgramID=u.id,o=!0,a=!0),t.id!==this.currentMaterialID&&(this.currentMaterialID=t.id,a=!0),o||e!==this.currentCamera){if(r.uniformMatrix4fv(l.projectionMatrix,!1,e.projectionMatrix),i.logarithmicDepthBuffer&&r.uniform1f(l.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==this.currentCamera&&(this.currentCamera=e),void 0!==l.cameraPosition){var c=e.matrixWorld[12],p=e.matrixWorld[13],h=e.matrixWorld[14];r.uniform3f(l.cameraPosition,c,p,h)}void 0!==l.viewMatrix&&r.uniformMatrix4fv(l.viewMatrix,!1,e.matrixWorldInverse)}return a&&t.uniforms.texture&&(t.uniforms.texture.value=t.texture),(a||t.dynamic===!0)&&(t.dynamic===!0&&t.setObject(n),R["default"](this,s.uniformsList)),r.uniformMatrix4fv(l.modelViewMatrix,!1,n.modelViewMatrix),void 0!==l.modelMatrix&&r.uniformMatrix4fv(l.modelMatrix,!1,n.matrixWorld),u}},{key:"initMaterial",value:function(e,t){var n=(this.gl,this.props.get(e)),i=this.programs.getParameters(e,t),o=this.programs.getProgramCode(e,i),a=n.program,s=!0;if(void 0===a)r.warn("onMaterialDispose ignored");else if(a.code!==o)this.programs.release(e.program),this.props["delete"](e),e.program=void 0;else{if(void 0!==i.shader)return;s=!1}s&&(Object.assign(n,{name:e.type,uniforms:I["default"](e.uniforms),vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}),e.props=n,a=this.programs.get(e,i,o),n.program=a,e.program=a);var u=(a.getAttributes(),n.program.getUniforms());n.uniformsList=[];for(var l in e.uniforms){var c=u[l];c&&n.uniformsList.push([e.uniforms[l],c])}}},{key:"setTexture",value:function(e,t){var n=this.gl,i=this.state,o=this.props.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;return void 0===a?void r.warn("Texture marked for update but image is undefined",e):a.complete===!1?void r.warn("Texture marked for update but image is incomplete",e):void L["default"](this,o,e,t)}i.activeTexture(n.TEXTURE0+t),i.bindTexture(n.TEXTURE_2D,o.__webglTexture)}},{key:"clear",value:function(e,t,n){var r=0,i=this.gl;(void 0===e||e)&&(r|=i.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=i.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=i.STENCIL_BUFFER_BIT),i.clear(r)}},{key:"clearColor",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.gl.clear(this.gl.DEPTH_BUFFER_BIT)}},{key:"clearStencil",value:function(){this.gl.clear(this.gl.STENCIL_BUFFER_BIT)}},{key:"setClearColor",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this.clearColor=n,(e=this.gl).clearColor.apply(e,n)}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"onContextLost",value:function(e){e.preventDefault(),this.resetGLState(),this.setDefaultGLState(),this.props.clear()}},{key:"setDefaultGLState",value:function(){var e;this.state.init(),this.gl.viewport(0,0,this.width,this.height),(e=this.gl).clearColor.apply(e,o(this.clearColor))}},{key:"resetGLState",value:function(){this.currentProgramID=null,this.currentCamera=null,this.currentGeometryProgram="",this.currentMaterialID=-1,this.state.reset()}},{key:"dispose",value:function(){this.shader.dispose(),this.buffer.dispose(),this.canvas.removeEventListener(this.onContextLost)}}]),e}();t["default"]=X,e.exports=t["default"]}).call(t,n(3))},function(e,t){"use strict";function n(e,t){var n=t.nodes;t.edges,e.save(),e.textAlign="left",e.textBaseline="middle",r(e),i(e,t);for(var a=0;a<n.length;a++){var s=n[a],u=s.display;if(s.culled===!1&&u.drawLabel===!0){var l=u.label,c=u.position.x+u.radius+.3*u.fontSize,p=u.position.y;o(e,l,c,p,u)}}e.restore()}function r(e){e.clearRect(0,0,e.canvas.width,e.canvas.height)}function i(e,t){var n=t.resolution,r=t.display,i=r.offset,o=r.scale,a=r.translation;e.scale(n,n),e.translate(i.x,i.y),e.scale(o,o),e.translate(a.x,a.y)}function o(e,t,n,r,i){e.globalAlpha=i.showcaseOpacity,e.font=i.font,e.fillStyle=i.fontColor,e.fillText(t,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){(function(n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.gl=t,this.extensions=n,this.mode=void 0}return i(e,[{key:"render",value:function(e,t){this.gl.drawArrays(this.mode,e,t)}},{key:"renderInstances",value:function(e){var t=this.extensions.get("ANGLE_instanced_arrays");if(null===t)return void n.error("Using InstancedBufferGeometry but doesn't support ANGLE_instanced_arrays.");var r=e.attributes.position;r instanceof THREE.InterleavedBufferAttribute?t.drawArraysInstancedANGLE(this.mode,0,r.data.count,e.maxInstancedCount):t.drawArraysInstancedANGLE(this.mode,0,r.count,e.maxInstancedCount)}}]),e}();t["default"]=o,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(115),u=i(s),l=function(){function e(t,n){o(this,e),this.gl=t,this.props=n}return a(e,[{key:"get",value:function(e){var t=this.getAttributeData(e);return this.props.get(t).buffer}},{key:"update",value:function(e){var t=e.geometry,n=t.index,r=t.attributes;null!==n&&this.updateAttribute(n,this.gl.ELEMENT_ARRAY_BUFFER);for(var i in r)this.updateAttribute(r[i],this.gl.ARRAY_BUFFER)}},{key:"updateAttribute",value:function(e,t){var n=this.getAttributeData(e),r=this.props.get(n);void 0===r.buffer?this.createBuffer(r,n,t):r.version!==n.version&&this.updateBuffer(r,n,t)}},{key:"createBuffer",value:function(e,t,n){var r=this.gl,i=t.dynamic?r.DYNAMIC_DRAW:r.STATIC_DRAW;e.buffer=r.createBuffer(),r.bindBuffer(n,e.buffer),r.bufferData(n,t.array,i),e.version=t.version}},{key:"updateBuffer",value:function(e,t,n){var i=this.gl;i.bindBuffer(n,e.buffer),t.dynamic===!1||-1===t.updateRange.count?i.bufferSubData(n,0,t.array):0===t.updateRange.count?r.error("dynamic BufferAttribute marked as needsUpdate but updateRange.count is 0"):(i.bufferSubData(n,t.updateRange.offset*t.array.BYTES_PER_ELEMENT,t.array.subarray(t.updateRange.offset,t.updateRange.offset+t.updateRange.count)),t.updateRange.count=0),e.version=t.version}},{key:"getAttributeData",value:function(e){return e instanceof u["default"]?e.data:e}}]),e}();t["default"]=l,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){(function(n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,i){r(this,e),this.gl=t,this.precision=void 0!==i.precision?i.precision:"highp",this.logarithmicDepthBuffer=void 0!==i.logarithmicDepthBuffer&&i.logarithmicDepthBuffer,this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxCubemapSize=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=t.getParameter(t.MAX_VARYING_VECTORS),this.maxFragmentUniforms=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!n.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures,this.checkMaxPrecision(),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!n.get("EXT_frag_depth"))}return i(e,[{key:"checkMaxPrecision",value:function(){var e=this.getMaxPrecision(this.precision);e!==this.precision&&(n.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",e,"instead."),this.precision=e)}},{key:"getMaxPrecision",value:function(e){var t=this.gl;if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}}]),e}();t["default"]=o,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(43),u=i(s),l=function(){function e(t){o(this,e),this.gl=t,this.extensions={},this.get("OES_texture_float"),this.get("OES_texture_float_linear"),this.get("OES_texture_half_float"),this.get("OES_texture_half_float_linear"),this.get("OES_standard_derivatives"),this.get("ANGLE_instanced_arrays"),this.get("OES_element_index_uint")&&(u["default"].MaxIndex=4294967296)}return a(e,[{key:"get",value:function(e){if(void 0!==this.extensions[e])return this.extensions[e];var t=void 0,n=this.gl;switch(e){case"EXT_texture_filter_anisotropic":t=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:t=n.getExtension(e)}return null===t&&r.warn("WebGLRenderer: "+e+" extension not supported."),this.extensions[e]=t,t}}]),e}();t["default"]=l,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){(function(n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.gl=t,this.extensions=n,this.mode=void 0,this.type=void 0,this.size=void 0}return i(e,[{key:"setIndex",value:function(e){e.array instanceof Uint32Array&&this.extensions.get("OES_element_index_uint")?(this.type=this.gl.UNSIGNED_INT,this.size=4):(this.type=this.gl.UNSIGNED_SHORT,this.size=2)}},{key:"render",value:function(e,t){this.gl.drawElements(this.mode,t,this.type,e*this.size)}},{key:"renderInstances",value:function(e){var t=this.extensions.get("ANGLE_instanced_arrays");return null===t?void n.error("WebGLBufferRenderer: gpu does not support ANGLE_instanced_arrays."):void t.drawElementsInstancedANGLE(mode,e.index.array.length,type,0,e.maxInstancedCount)}}]),e}();t["default"]=o,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){if(void 0===e)return"";var t=[];for(var n in e){var r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join("\n")}function s(e,t,n,r){return["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+e,t,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.texture?"#define USE_TEXTURE":"",r.vertexColors?"#define USE_COLOR":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&n.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","  attribute vec3 color;","#endif","\n"].join("\n")}function u(e,t,n,r){return[r.logarithmicDepthBuffer&&extensions.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"","precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+e,t,r.texture?"#define USE_TEXTURE":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","\n"].join("\n")}function l(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;r>i;i++){var o=e.getActiveUniform(t,i),a=o.name,s=e.getUniformLocation(t,a),u=a.lastIndexOf("[0]");-1!==u&&u===a.length-3&&(n[a.substr(0,u)]=s),n[a]=s}return n}function c(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;r>i;i++){var o=e.getActiveAttrib(t,i),a=o.name;n[a]=e.getAttribLocation(t,a)}return n}function p(e,t,n){var i=h(e,e.VERTEX_SHADER,t),o=h(e,e.FRAGMENT_SHADER,n),a=!1,s=(g++,e.createProgram());e.attachShader(s,i),e.attachShader(s,o),e.linkProgram(s);var u=e.getProgramInfoLog(s),l=e.getShaderInfoLog(i),c=e.getShaderInfoLog(o);return""!==u&&r.warn("programLog",u),""!==l&&r.warn("vertexLog",l,m["default"](t)),""!==c&&r.warn("fragmentLog",c,m["default"](n)),e.getProgramParameter(s,e.LINK_STATUS)===!1&&(a=e.getError(),r.error("THREE.WebGLProgram: shader error: ",a,"gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS))),e.deleteShader(i),e.deleteShader(o),{program:s,error:a,vertexShader:i,fragmentShader:o}}function h(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)===!1&&r.error("Unable to compile shader"),i}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(300),m=i(d),g=1,v=function(){function e(t,n,r,i){o(this,e);var l=t.gl,c=t.extensions,h=void 0,f=void 0;if(this.id=g++,this.gl=l,this.code=n,this.referenceCount=0,this.cachedUniforms=void 0,this.cachedAttributes=void 0,r.raw===!0)h=r.vertexShader,f=r.fragmentShader;else{var d=a(r.defines);h=s(r.type,d,c,i)+r.vertexShader,f=u(r.type,d,c,i)+r.fragmentShader}var m=p(l,h,f);this.program=m.program,this.runnable=m.error===!1,this.vertexShader=m.vertexShader,this.fragmentShader=m.fragmentShader}return f(e,[{key:"getUniforms",value:function(){return void 0===this.cachedUniforms&&(this.cachedUniforms=l(this.gl,this.program)),this.cachedUniforms}},{key:"getAttributes",value:function(){return void 0===this.cachedAttributes&&(this.cachedAttributes=c(this.gl,this.program)),this.cachedAttributes}}]),e}();t["default"]=v,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(23),u=i(s),l=n(317),c=i(l),p=["precision","supportsVertexTextures","texture","envMap","envMapMode","lightMap","aoMap","emissiveMap","bumpMap","normalMap","specularMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","maxDirLights","maxPointLights","maxSpotLights","maxHemiLights","maxShadows","shadowMapEnabled","shadowMapType","shadowMapDebug","alphaTest","metal","doubleSided","flipSided"],h=function(){function e(t,n){o(this,e),this.programs=[],this.renderer=t,this.capabilities=n}return a(e,[{key:"get",value:function(e,t,n){for(var r=0;r<this.programs.length;r++){var i=this.programs[r];if(i.code===n)return i.referenceCount++,i}var o=new c["default"](this.renderer,n,e,t);return this.programs.push(o),o}},{key:"release",value:function(e){if(0===--e.referenceCount){var t=programs.indexOf(e);programs[t]=programs[programs.length-1],programs.pop(),e.destroy()}}},{key:"getParameters",value:function(e){var t=(this.gl,this.renderer),n=this.capabilities;return{shader:e.shader,precision:this.getPrecision(e),supportsVertexTextures:n.vertexTextures,texture:!!e.texture,combine:e.combine,vertexColors:e.vertexColors,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,alphaTest:e.alphaTest,doubleSided:e.side===u["default"].FRONT_AND_BACK,flipSided:e.side===u["default"].BACK}}},{key:"getPrecision",value:function(e){var t=(this.renderer,this.capabilities),n=t.precision;return null!==e.precision&&(n=t.getMaxPrecision(e.precision),n!==e.precision&&r.warn("Material precision "+e.precision+" not supported, using "+n+" instead.")),n}},{key:"getProgramCode",value:function(e,t){var n=[t.shader,e.vertexShader,e.fragmentShader];if(t.shaderID?n.push(t.shaderID):(n.push(e.vertexShader),n.push(e.fragmentShader)),void 0!==e.defines)for(var r in e.defines){var i=e.defines[r];n.push(r,i)}for(var o=0;o<p.length;o++){var a=p[o],s=t[a];n.push(a,s)}return n.join()}}]),e}();t["default"]=h,e.exports=t["default"]}).call(t,n(3))},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e),this.props={}}return r(e,[{key:"get",value:function(e){var t=e.uuid;if(void 0===t)throw"WebGLProps: uuid required";var n=this.props[t];return void 0===n&&(this.props[t]=n={}),n}},{key:"delete",value:function(e){this.clear(e)}},{key:"clear",value:function(e){if(0===arguments.length)this.props={};else{if(void 0===e.uuid)throw"WebGLProps: uuid required";this.props[e.uuid]=void 0}}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){(function(n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,i,o){r(this,e),this.gl=t,this.extensions=i,this.paramThreeToGL=o,this.newAttributes=new Uint8Array(16),this.enabledAttributes=new Uint8Array(16),this.capabilities={},this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=void 0,this.currentBoundTextures={},n.warn("WebGLState #setDepthFunc and #setBlending not implemented")}return i(e,[{key:"init",value:function(){var e=this.gl;e.clearColor(.2,.2,.2,1),e.clearDepth(1),e.clearStencil(0),this.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.frontFace(e.CCW),e.cullFace(e.BACK),this.enable(e.CULL_FACE),this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)}},{key:"reset",value:function(){for(var e=0;e<enabledAttributes.length;e++)1===this.enabledAttributes[e]&&(this.gl.disableVertexAttribArray(e),this.enabledAttributes[e]=0);this.capabilities={},this.compressedTextureFormats=null,this.currentBlending=null,this.currentDepthWrite=null,this.currentColorWrite=null,this.currentFlipSided=null}},{key:"enable",value:function(e){this.capabilities[e]!==!0&&(this.capabilities[e]=!0,this.gl.enable(e))}},{key:"disable",value:function(e){this.capabilities[e]!==!1&&(this.capabilities[e]=!1,this.gl.disable(e))}},{key:"initAttributes",value:function(){for(var e=0;e<this.newAttributes.length;e++)this.newAttributes[e]=0}},{key:"enableAttribute",value:function(e){this.newAttributes[e]=1,0===this.enabledAttributes[e]&&(this.enabledAttributes[e]=1,this.gl.enableVertexAttribArray(e))}},{key:"disableUnusedAttributes",value:function(){for(var e=0;e<this.enabledAttributes.length;e++)this.enabledAttributes[e]!==this.newAttributes[e]&&(this.enabledAttributes[e]=0,this.gl.disableVertexAttribArray(e))}},{key:"setDepthFunc",value:function(){}},{key:"setDepthTest",value:function(e){e===!0?this.enable(this.gl.DEPTH_TEST):this.disable(this.gl.DEPTH_TEST)}},{key:"setDepthWrite",value:function(e){this.currentDepthWrite!==e&&(this.currentDepthWrite=e,this.gl.depthMask(e))}},{key:"setColorWrite",value:function(e){this.currentColorWrite!==e&&(this.currentColorWrite=e,this.gl.colorMask(e,e,e,e))}},{key:"setBlending",value:function(){}},{key:"setPolygonOffset",value:function(e,t,n){e===!0?this.enable(this.gl.POLYGON_OFFSET_FILL):this.disable(this.gl.POLYGON_OFFSET_FILL),!e||this.currentPolygonOffsetFactor===t&&this.currentPolygonOffsetUnits===n||(this.currentPolygonOffsetFactor=t,this.currentPolygonOffsetUnits=n,this.gl.polygonOffset(t,n))}},{key:"setFlipSided",value:function(e){this.currentFlipSided!==e&&(this.gl.frontFace(e?this.gl.CW:this.gl.CCW),this.currentFlipSided=e)}},{key:"activeTexture",value:function(e){void 0===e&&(e=gl.TEXTURE0+this.maxTextures-1),this.currentTextureSlot!==e&&(this.currentTextureSlot=e,this.gl.activeTexture(e))}},{key:"bindTexture",value:function(e,t){void 0===this.currentTextureSlot&&this.activeTexture();var n=this.currentBoundTextures[this.currentTextureSlot];void 0===n&&(n={type:void 0,texture:void 0},this.currentBoundTextures[this.currentTextureSlot]=n),n.type===e&&n.texture===t||(n.type=e,n.texture=t,this.gl.bindTexture(e,t))}},{key:"texImage2D",value:function(){try{this.gl.texImage2D.apply(this.gl,arguments)}catch(e){n.error("texImage2D call failed",e)}}}]),e}();t["default"]=o,e.exports=t["default"]}).call(t,n(3))},function(e,t){"use strict";function n(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];t[n][r]=i&&void 0!==i.clone?i.clone():Array.isArray(i)?i.slice():i}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){(function(n){"use strict";function r(e,t){for(var r=e.gl,a=0;a<t.length;a++){var s=o(t[a],2),u=s[0],l=s[1],c=u.type,p=u.value,h=u.needsUpdate;if(h!==!1)switch(c){case"i":r.uniform1i(l,p);break;case"1i":r.uniform1i(l,p);break;case"f":r.uniform1f(l,p);break;case"1f":r.uniform1f(l,p);break;case"2f":r.uniform2f(l,p[0],p[1]);break;case"3f":r.uniform3f(l,p[0],p[1],p[2]);break;case"4f":r.uniform4f(l,p[0],p[1],p[2],p[3]);break;case"1iv":r.uniform1iv(l,p);break;case"3iv":r.uniform3iv(l,p);break;case"1fv":r.uniform1fv(l,p);break;case"2fv":r.uniform2fv(l,p);break;case"3fv":r.uniform3fv(l,p);break;case"4fv":r.uniform4fv(l,p);break;case"Matrix3fv":r.uniformMatrix3fv(l,!1,p);break;case"Matrix4fv":r.uniformMatrix4fv(l,!1,p);break;case"iv1":r.uniform1iv(l,p);break;case"iv":r.uniform3iv(l,p);break;case"fv1":r.uniform1fv(l,p);break;case"fv":r.uniform3fv(l,p);break;case"m3":r.uniformMatrix3fv(l,!1,p);break;case"m4":r.uniformMatrix4fv(l,!1,p);break;case"v2v":void 0===u._array&&(u._array=new Float32Array(2*p.length));for(var f=0,d=0,m=p.length;m>f;f++,d+=2)u._array[d+0]=p[f].x,u._array[d+1]=p[f].y;r.uniform2fv(l,u._array);
break;case"v3v":void 0===u._array&&(u._array=new Float32Array(3*p.length));for(var f=0,g=0,m=p.length;m>f;f++,g+=3)u._array[g+0]=p[f].x,u._array[g+1]=p[f].y,u._array[g+2]=p[f].z;r.uniform3fv(l,u._array);break;case"v4v":void 0===u._array&&(u._array=new Float32Array(4*p.length));for(var f=0,v=0,m=p.length;m>f;f++,v+=4)u._array[v+0]=p[f].x,u._array[v+1]=p[f].y,u._array[v+2]=p[f].z,u._array[v+3]=p[f].w;r.uniform4fv(l,u._array);break;case"m3v":void 0===u._array&&(u._array=new Float32Array(9*p.length));for(var f=0,m=p.length;m>f;f++)p[f].flattenToArrayOffset(u._array,9*f);r.uniformMatrix3fv(l,!1,u._array);break;case"m4v":void 0===u._array&&(u._array=new Float32Array(16*p.length));for(var f=0,m=p.length;m>f;f++)p[f].flattenToArrayOffset(u._array,16*f);r.uniformMatrix4fv(l,!1,u._array);break;case"t":var y=p,b=i(e);if(r.uniform1i(l,b),!y)continue;e.setTexture(y,b);break;case"tv":void 0===u._array&&(u._array=[]);for(var f=0,m=u.value.length;m>f;f++)u._array[f]=i(e);r.uniform1iv(l,u._array);for(var f=0,m=u.value.length;m>f;f++){var w=u.value[f],_=u._array[f];w&&e.setTexture(w,_)}break;default:n.error("THREE.WebGLRenderer: Unknown uniform type: "+c)}}}function i(e){var t=e.usedTextureUnits,r=e.capabilities.maxTextures;return t>=r&&n.warn("GPU only supports "+r+" textures (requesting "+t+")"),++e.usedTextureUnits}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=r,e.exports=t["default"]}).call(t,n(3))},function(){"use strict"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r,i){var o=e.gl,s=e.extensions,l=e.state,p=e.buffers,h=s.get("ANGLE_instanced_arrays");void 0===i&&(i=0),l.initAttributes();var f=r.attributes,d=n.getAttributes(),m=t.defaultAttributeValues;for(var g in d){var v=d[g];if(v>=0){var y=f[g];if(void 0!==y){l.enableAttribute(v);var b=y.width,w=p.get(y);if(y instanceof a["default"]){var _=y.data,x=y.offset,E=_.stride;o.bindBuffer(o.ARRAY_BUFFER,w),o.vertexAttribPointer(v,b,o.FLOAT,!1,E*_.array.BYTES_PER_ELEMENT,(i*E+x)*_.array.BYTES_PER_ELEMENT),_ instanceof c["default"]&&(h.vertexAttribDivisorANGLE(v,_.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=_.meshPerAttribute*_.count))}else o.bindBuffer(o.ARRAY_BUFFER,w),o.vertexAttribPointer(v,b,o.FLOAT,!1,0,i*b*4),y instanceof u["default"]&&(h.vertexAttribDivisorANGLE(v,y.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=y.meshPerAttribute*y.count))}else if(void 0!==m){var k=m[g];if(void 0!==k)switch(k.length){case 2:o.vertexAttrib2fv(v,k);break;case 3:o.vertexAttrib3fv(v,k);break;case 4:o.vertexAttrib4fv(v,k);break;default:o.vertexAttrib1fv(v,k)}}}}l.disableUnusedAttributes()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(115),a=r(o),s=n(305),u=r(s),l=n(307),c=r(l);e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={test:{uniforms:{t:{type:"f",value:0}},attributes:{opacity:{type:"f",value:[]}},defines:{},vertexShader:n(233),fragmentShader:n(232)}};t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r){var i=e.gl,o=(e.capabilities,e.state),a=(n.type,n.format,n.image);void 0===t.__webglInit&&(t.__webglInit=!0,n.__webglInit=!0,t.__webglTexture=i.createTexture()),o.activeTexture(i.TEXTURE0+r),o.bindTexture(i.TEXTURE_2D,t.__webglTexture),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.pixelStorei(i.UNPACK_ALIGNMENT,4),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),o.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,a),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(23);r(o),e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n){var r=e.width,o=e.height,a=n.resolution,s=n.display,u=s.translation,l=s.scale,c=s.offset,p=1/l,h=1/a;i.mat4.ortho(t.projectionMatrix,0,r,0,o,-1e3,1e3),i.mat4.identity(t.matrix),i.mat4.translate(t.matrix,t.matrix,[-u.x,-u.y,0]),i.mat4.scale(t.matrix,t.matrix,[p,p,p]),i.mat4.translate(t.matrix,t.matrix,[-c.x,-c.y,0]),i.mat4.scale(t.matrix,t.matrix,[h,h,h]),i.mat4.translate(t.matrix,t.matrix,[0,o,0]),i.mat4.scale(t.matrix,t.matrix,[1,-1,1]),t.matrixWorldInvalid=!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(45);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.nodesByCID,n=e.edgesByCID;if(e.uuid===P)return o(e,t),a(e,n),F;var r=s(t),i=new M["default"](r,T),u=l(n),c=new x["default"](u,D),p=new w["default"];return p.add(c),p.add(i),F=p,P=e.uuid,N=i,B=c,p}function o(e,t){var n=N,r=n.geometry,i=n.material;u(t,r),i.setUniform("sceneScale",e.display.scale),i.setUniform("sceneResolution",e.resolution)}function a(e,t){var n=B,r=n.geometry;n.material,h(t,r)}function s(e){for(var t=new Float32Array(3*e.length),n=new Float32Array(e.length),r=new Float32Array(4*e.length),i=new Float32Array(e.length),o=0;o<e.length;o++){var a=e[o],s=a.display,l=s.color,c=s.opacity,h=p(l,c),f=m(h,4),d=f[0],g=f[1],v=f[2],y=f[3];n[o]=a.display.diameter,r[4*o+0]=d,r[4*o+1]=g,r[4*o+2]=v,r[4*o+3]=y}var b=new k["default"];return b.bufferDynamic("position",t,3),b.buffer("size",n,1),b.buffer("color",r,4),b.bufferDynamic("opacity",i,1),u(e,b),b}function u(e,t){for(var n=t.attributes.position.array,r=t.attributes.opacity.array,i=0;i<e.length;i++){var o=e[i];n[3*i+0]=o.display.position.x,n[3*i+1]=o.display.position.y,n[3*i+2]=O,r[i]=o.display.showcaseOpacity}t.attributes.position.invalidate(!0),t.attributes.opacity.invalidate(!0)}function l(e){for(var t=new Uint32Array(6*e.length),n=new Float32Array(3*e.length*4),r=new Float32Array(4*e.length*4),i=new Float32Array(4*e.length),o=0,a=0;o<e.length;o++,a+=4){var s=e[o],u=void 0,l=void 0;t[6*o+0]=a+0,t[6*o+1]=a+1,t[6*o+2]=a+2,t[6*o+3]=a+2,t[6*o+4]=a+1,t[6*o+5]=a+3,"inherit"===s.display.color?(u=c(s,"from"),l=c(s,"to")):u=l=p(s.display.color,s.display.opacity),r[16*o+0]=u[0],r[16*o+1]=u[1],r[16*o+2]=u[2],r[16*o+3]=u[3],r[16*o+4]=l[0],r[16*o+5]=l[1],r[16*o+6]=l[2],r[16*o+7]=l[3],r[16*o+8]=u[0],r[16*o+9]=u[1],r[16*o+10]=u[2],r[16*o+11]=u[3],r[16*o+12]=l[0],r[16*o+13]=l[1],r[16*o+14]=l[2],r[16*o+15]=l[3]}var f=new k["default"];return f.buffer("index",new Uint32Array(t),1),f.bufferDynamic("position",n,3),f.buffer("color",r,4),f.bufferDynamic("opacity",i,1),h(e,f),f}function c(e,t){var n=e[t],r=n.display.color,i=n.display.opacity*e.display.opacity;return p(r,i)}function p(e,t){return e&&"transparent"!==e?y["default"](e).alpha(t).gl():[0,0,0,0]}function h(e,t){for(var n=t.attributes.position.array,r=t.attributes.opacity.array,i=0,o=0;i<e.length;i++,o+=12){var a=e[i],s=a.from.display.position,u=a.to.display.position,l=u.x-s.x,c=u.y-s.y;g.vec3.set(R,-c,l,0),g.vec3.normalize(R,R),l=R[0]*a.display.pathWidth/2,c=R[1]*a.display.pathWidth/2,n[o+0]=s.x+l,n[o+1]=s.y+c,n[o+2]=L,n[o+3]=u.x+l,n[o+4]=u.y+c,n[o+5]=L,n[o+6]=s.x-l,n[o+7]=s.y-c,n[o+8]=L,n[o+9]=u.x-l,n[o+10]=u.y-c,n[o+11]=L,r[4*i+0]=r[4*i+1]=r[4*i+2]=r[4*i+3]=a.display.showcaseOpacity}t.attributes.position.invalidate(!0),t.attributes.opacity.invalidate(!0)}function f(){var e=new A["default"]({type:"NodeMaterial",uniforms:{sceneScale:{type:"f",value:1},sceneResolution:{type:"f",value:1}}});return e.vertexShader="\n    uniform float sceneScale;\n    uniform float sceneResolution;\n    attribute float size;\n    attribute vec4 color;\n    attribute float opacity;\n    varying vec4 fragColor;\n\n    void main() {\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      gl_PointSize = size * sceneScale * sceneResolution;\n\n      fragColor = vec4(color.rgb * color.a * opacity, color.a * opacity);\n    }\n  ",e.fragmentShader="\n    varying vec4 fragColor;\n\n    void main() {\n      gl_FragColor = fragColor;\n    }\n  ",e}function d(){var e=new A["default"]({type:"EdgeMaterial"});return e.vertexShader="\n    attribute vec4 color;\n    attribute float opacity;\n    varying vec4 fragColor;\n\n    void main() {\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n      fragColor = vec4(color.rgb * color.a * opacity, color.a * opacity);\n    }\n  ",e.fragmentShader="\n    varying vec4 fragColor;\n\n    void main() {\n      gl_FragColor = fragColor;\n    }\n  ",e}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=i;var g=n(45),v=n(116),y=r(v),b=n(223),w=r(b),_=n(25),x=r(_),E=n(43),k=r(E),C=n(59),A=r(C),S=n(225),M=r(S),T=f(),D=d(),O=0,L=-.1,F=void 0,P=void 0,N=void 0,B=void 0,R=g.vec3.create();e.exports=t["default"]},,function(e){"use strict";function t(e){return e.replace(n,function(e,t){return t.toUpperCase()})}var n=/-(.)/g;e.exports=t},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(330),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e,t){return!!(e&&t&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t))))}var i=n(339);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),i=0;t>i;i++)r[i]=e[i];return r}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(2);e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=l;l?void 0:u(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:u(!1),a(p).forEach(t));for(var h=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var o=n(13),a=n(333),s=n(182),u=n(2),l=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},function(e){"use strict";function t(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=t},function(e){"use strict";function t(e){return e.replace(n,"-$1").toLowerCase()}var n=/([A-Z])/g;e.exports=t},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(336),o=/^ms-/;e.exports=r},function(e){"use strict";function t(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(338);e.exports=r},function(e){"use strict";function t(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=t},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e){function t(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=t},function(e,t,n){function r(e){if("string"==typeof e)return e;if(null==e)return"";if(o(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}var i=n(670),o=n(453),a=1/0,s=i?i.prototype:void 0,u=s?s.toString:void 0;e.exports=r},function(e){"use strict";e.exports={end:!0}},function(e,t,n){"use strict";function r(e,t,r){function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.nodes=e||[],!Array.isArray(this.nodes)||!this.nodes.every(function(e){return e&&e.isNode}))throw new TypeError("Array containing Nodes expected")}var a=r(n(53));return o.prototype=new a,o.prototype.type="ArrayNode",o.prototype.isArrayNode=!0,o.prototype._compile=function(e,t){var n="array"!==e.math.config().matrix,r=this.nodes.map(function(n){return n._compile(e,t)});return(n?"math.matrix([":"[")+r.join(",")+(n?"])":"]")},o.prototype.forEach=function(e){for(var t=0;t<this.nodes.length;t++){var n=this.nodes[t];e(n,"nodes["+t+"]",this)}},o.prototype.map=function(e){for(var t=[],n=0;n<this.nodes.length;n++)t[n]=this._ifNode(e(this.nodes[n],"nodes["+n+"]",this));return new o(t)},o.prototype.clone=function(){return new o(this.nodes.slice(0))},o.prototype._toString=function(){return i.format(this.nodes)},o.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.nodes.forEach(function(n){t+=n.nodes?n.nodes.map(function(t){return t.toTex(e)}).join("&"):n.toTex(e),t+="\\\\"}),t+="\\end{bmatrix}"},o}var i=n(64);t.name="ArrayNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(t){if("string"!=typeof t)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof e)throw new TypeError('String expected for parameter "value"');this.value=e,this.valueType=t}else this.value=e+"",this.valueType=i(e);if(!s[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var a=r(n(53)),s={number:!0,string:!0,"boolean":!0,undefined:!0,"null":!0};return o.prototype=new a,o.prototype.type="ConstantNode",o.prototype.isConstantNode=!0,o.prototype._compile=function(e){switch(this.valueType){case"number":var t=e.math.config().number;return"bignumber"===t?'math.bignumber("'+this.value+'")':"fraction"===t?'math.fraction("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(e,t){return e.substring(t.length)});case"string":return'"'+this.value+'"';case"boolean":return this.value;case"undefined":return this.value;case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},o.prototype.forEach=function(){},o.prototype.map=function(){return this.clone()},o.prototype.clone=function(){return new o(this.value,this.valueType)},o.prototype._toString=function(){switch(this.valueType){case"string":return'"'+this.value+'"';default:return this.value}},o.prototype._toTex=function(){var e,t=this.value;switch(this.valueType){case"string":return'\\mathtt{"'+t+'"}';case"number":return e=t.toLowerCase().indexOf("e"),-1!==e?t.substring(0,e)+"\\cdot10^{"+t.substring(e+1)+"}":t;default:return t}},o}var i=n(260).type;t.name="ConstantNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o,a){function s(e,t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "name"');if(!Array.isArray(t)||!t.every(function(e){return e&&e.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.name=e,this.args=t||[]}function u(e,t,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),a=0;null!==(r=o.exec(e));)if(i+=e.substring(a,r.index),a=r.index,"$$"===r[0])i+="$",a++;else{a+=r[0].length;var s=t[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof s){case"string":i+=s;break;case"object":if(s.isNode)i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map(function(e,t){if(e&&e.isNode)return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!s[r[2]]||!s[r[2]].isNode)throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+=e.slice(a)}var l=r(n(53)),c=r(n(155));s.prototype=new l,s.prototype.type="FunctionNode",s.prototype.isFunctionNode=!0,s.prototype._compile=function(e,t){var n=e.math[this.name],r="function"==typeof n&&1==n.rawArgs,i=this.args.map(function(n){return n._compile(e,t)});if(r){var o,a=0;do o="p"+a,a++;while(o in e);return e[o]=this.args,'("'+this.name+'" in scope ? scope["'+this.name+'"]('+i.join(", ")+') : math["'+this.name+'"]('+o+", math, scope))"}var s=new c(this.name);return s._compile(e,t)+"("+i.join(", ")+")"},s.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},s.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new s(this.name,t)},s.prototype.clone=function(){return new s(this.name,this.args.slice(0))};var p=s.prototype.toString;s.prototype.toString=function(e){var t;return e&&"object"==typeof e.handler&&e.handler.hasOwnProperty(this.name)&&(t=e.handler[this.name](this,e)),"undefined"!=typeof t?t:p.call(this,e)},s.prototype._toString=function(){return this.name+"("+this.args.join(", ")+")"};var h=s.prototype.toTex;return s.prototype.toTex=function(e){var t;return e&&"object"==typeof e.handler&&e.handler.hasOwnProperty(this.name)&&(t=e.handler[this.name](this,e)),"undefined"!=typeof t?t:h.call(this,e)},s.prototype._toTex=function(e){var t,n=(e&&e.parenthesis?e.parenthesis:"keep",this.args.map(function(t){return t.toTex(e)}));!a[this.name]||"function"!=typeof a[this.name].toTex&&"object"!=typeof a[this.name].toTex&&"string"!=typeof a[this.name].toTex||(t=a[this.name].toTex);var r;switch(typeof t){case"function":r=t(this,e);break;case"string":r=u(t,this,e);break;case"object":switch(typeof t[n.length]){case"function":r=t[n.length](this,e);break;case"string":r=u(t[n.length],this,e)}}return"undefined"!=typeof r?r:u(i.defaultTemplate,this,e)},s.prototype.getIdentifier=function(){return this.type+":"+this.name},s}var i=n(12);t.name="FunctionNode",t.path="expression.node",t.math=!0,t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError('Node expected for parameter "object"');if(!u(t)||!t.every(function(e){return e&&e.isNode}))throw new TypeError('Array containing Nodes expected for parameter "ranges"');this.object=e,this.ranges=t}function o(e){switch(e.object.type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}var a=r(n(53)),s=(r(n(349)),r(n(155)),r(n(578))),u=Array.isArray;return i.prototype=new a,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(e,t){return this.compileSubset(e,t)},i.prototype.compileSubset=function(e,t,n){function r(e){return e&&e.isSymbolNode&&"end"==e.name}var i=!1,o=this.ranges.map(function(e){var t=e.filter(r).length>0;return i=t?t:i,t});e.range=function(e,t,n){return new s(e&&e.isBigNumber===!0?e.toNumber():e,t&&t.isBigNumber===!0?t.toNumber():t,n&&n.isBigNumber===!0?n.toNumber():n)};var a=Object.create(t),u=this.ranges.map(function(t,n){var r=o[n];return t&&t.isRangeNode?r?(a.end=!0,"(function () {  var end = size["+n+"];  return range(    "+t.start._compile(e,a)+",     "+t.end._compile(e,a)+",     "+(t.step?t.step._compile(e,a):"1")+"  );})()"):"range("+t.start._compile(e,a)+", "+t.end._compile(e,a)+", "+(t.step?t.step._compile(e,a):"1")+")":r?(a.end=!0,"(function () {  var end = size["+n+"];  return "+t._compile(e,a)+";})()"):t._compile(e,a)});return i?"(function () {  var obj = "+this.object._compile(e,a)+";  var size = math.size(obj).valueOf();  return math.subset(    obj,     math.index("+u.join(", ")+")    "+(n?", "+n:"")+"  );})()":"math.subset("+this.object._compile(e,a)+",math.index("+u.join(", ")+")"+(n?", "+n:"")+")"},i.prototype.forEach=function(e){e(this.object,"object",this);for(var t=0;t<this.ranges.length;t++)e(this.ranges[t],"ranges["+t+"]",this)},i.prototype.map=function(e){for(var t=this._ifNode(e(this.object,"object",this)),n=[],r=0;r<this.ranges.length;r++)n[r]=this._ifNode(e(this.ranges[r],"ranges["+r+"]",this));return new i(t,n)},i.prototype.objectName=function(){return this.object.name},i.prototype.clone=function(){return new i(this.object,this.ranges.slice(0))},i.prototype._toString=function(e){var t=this.object.toString(e);return o(this)&&(t="("+t+"("),t+"["+this.ranges.join(", ")+"]"},i.prototype._toTex=function(e){var t=this.object.toTex(e);o(this)&&(t="\\left("+t+"\\right)");var n=this.ranges.map(function(t){return t.toTex(e)});return t+"_{"+n.join(",")+"}"},i}t.name="IndexNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function o(e,t,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError("Node expected");if(!t||!t.isNode)throw new TypeError("Node expected");if(n&&(!n||!n.isNode))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=n||null}function a(e,t){var n=i.getPrecedence(e,t),r={},o=i.getPrecedence(e.start,t);if(r.start=null!==o&&n>=o||"all"===t,e.step){var a=i.getPrecedence(e.step,t);r.step=null!==a&&n>=a||"all"===t}var s=i.getPrecedence(e.end,t);return r.end=null!==s&&n>=s||"all"===t,r}var s=r(n(53));return o.prototype=new s,o.prototype.type="RangeNode",o.prototype.isRangeNode=!0,o.prototype._compile=function(e,t){return"math.range("+this.start._compile(e,t)+", "+this.end._compile(e,t)+(this.step?", "+this.step._compile(e,t):"")+")"},o.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},o.prototype.clone=function(){return new o(this.start,this.end,this.step&&this.step)},o.prototype._toString=function(e){var t,n=e&&e.parenthesis?e.parenthesis:"keep",r=a(this,n),i=this.start.toString(e);if(r.start&&(i="("+i+")"),t=i,this.step){var o=this.step.toString(e);r.step&&(o="("+o+")"),t+=":"+o}var s=this.end.toString(e);return r.end&&(s="("+s+")"),t+=":"+s},o.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=a(this,t),r=this.start.toTex(e);if(n.start&&(r="\\left("+r+"\\right)"),this.step){var i=this.step.toTex(e);n.step&&(i="\\left("+i+"\\right)"),r+=":"+i}var o=this.end.toTex(e);return n.end&&(o="\\left("+o+"\\right)"),r+=":"+o},o}var i=n(190);t.name="RangeNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e){var t=e.DenseMatrix,n=function(e,n,r){var i=e.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+o.format(i)+")");var u=i[0],l=i[1];if(u!==l)throw new RangeError("Matrix must be square (size: "+o.format(i)+")");var c,p,h;if(n&&n.isMatrix===!0){var f=n.size();if(1===f.length){if(f[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],h=n._data,p=0;u>p;p++)c[p]=[h[p]];return new t({data:c,size:[u,1],datatype:n._datatype})}if(2===f.length){if(f[0]!==u||1!==f[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(n.isDenseMatrix===!0){if(r){for(c=[],h=n._data,p=0;u>p;p++)c[p]=[h[p][0]];return new t({data:c,size:[u,1],datatype:n._datatype})}return n}for(c=[],p=0;u>p;p++)c[p]=[0];for(var d=n._values,m=n._index,g=n._ptr,v=g[1],y=g[0];v>y;y++)p=m[y],c[p][0]=d[y];return new t({data:c,size:[u,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(s(n)){var b=a.size(n);if(1===b.length){if(b[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],p=0;u>p;p++)c[p]=[n[p]];return new t({data:c,size:[u,1]})}if(2===b.length){if(b[0]!==u||1!==b[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(c=[],p=0;u>p;p++)c[p]=[n[p][0]];return new t({data:c,size:[u,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}};return n}var i=n(85),o=i.string,a=i.array,s=Array.isArray;t.factory=r},function(e,t){"use strict";function n(){var e=function(e){return-e-2};return e}t.name="cs_flip",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("exp",{number:Math.exp,Complex:function(t){var n=Math.exp(t.re);return new e.Complex(n*Math.cos(t.im),n*Math.sin(t.im))},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return i(e,o)}});return o.toTex="\\exp\\left(${args[0]}\\right)",o}var i=n(6);t.name="exp",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(e,t){switch(e.length){case 0:return t?l(t):[];case 1:return u(e[0],e[0],t);case 2:return u(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function u(t,n,r){var a=t&&t.isBigNumber===!0?e.BigNumber:n&&n.isBigNumber===!0?e.BigNumber:null;if(t&&t.isBigNumber===!0&&(t=t.toNumber()),n&&n.isBigNumber===!0&&(n=n.toNumber()),!o(t)||1>t)throw new Error("Parameters in function eye must be positive integers");if(!o(n)||1>n)throw new Error("Parameters in function eye must be positive integers");var s=a?new e.BigNumber(1):1,u=a?new a(0):0,l=[t,n];if(r){var c=e.Matrix.storage(r);return c.diagonal(l,s,0,u)}for(var p=i.resize([],l,u),h=n>t?t:n,f=0;h>f;f++)p[f][f]=s;return p}var l=r(n(5)),c=a("eye",{"":function(){return"matrix"===t.matrix?l([]):[]},string:function(e){return l(e)},"number | BigNumber":function(e){return u(e,e,"matrix"===t.matrix?"default":void 0)},"number | BigNumber, string":function(e,t){return u(e,e,t)},"number | BigNumber, number | BigNumber":function(e,n){return u(e,n,"matrix"===t.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return u(e,t,n)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});return c.toTex="\\mathrm{${name}}\\left(${args}\\right)",c}var i=n(24),o=n(8).isInteger;t.name="eye",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function a(e){if(!l.hasOwnProperty(e))throw new Error("Unknown distribution "+e);var t=Array.prototype.slice.call(arguments,1),n=l[e].apply(this,t);return function(e){var t={random:function(e,t,r){var u,l,c;if(arguments.length>3)throw new i("random",arguments.length,0,3);if(1===arguments.length?o(e)?u=e:c=e:2===arguments.length?o(e)?(u=e,c=t):(l=e,c=t):(u=e,l=t,c=r),void 0===c&&(c=1),void 0===l&&(l=0),void 0!==u){var p=a(u.valueOf(),l,c,n);return u&&u.isMatrix===!0?s(p):p}return n(l,c)},randomInt:function(e,t,n){var u,l,c;if(arguments.length>3||arguments.length<1)throw new i("randomInt",arguments.length,1,3);if(1===arguments.length?o(e)?u=e:c=e:2===arguments.length?o(e)?(u=e,c=t):(l=e,c=t):(u=e,l=t,c=n),void 0===l&&(l=0),void 0!==u){var p=a(u.valueOf(),l,c,r);return u&&u.isMatrix===!0?s(p):p}return r(l,c)},pickRandom:function(e){if(1!==arguments.length)throw new i("pickRandom",arguments.length,1);if(e&&e.isMatrix===!0)e=e.valueOf();else if(!Array.isArray(e))throw new TypeError("Unsupported type of value in function pickRandom");if(u.size(e).length>1)throw new Error("Only one dimensional vectors supported");return e[Math.floor(Math.random()*e.length)]}},n=function(t,n){return t+e()*(n-t)},r=function(t,n){return Math.floor(t+e()*(n-t))},a=function(e,t,n,r){var i,o,s=[];if(e=e.slice(0),e.length>1)for(o=0,i=e.shift();i>o;o++)s.push(a(e,t,n,r));else for(o=0,i=e.shift();i>o;o++)s.push(r(t,n));return s};return t}(n)}var s=r(n(5)),u=n(24),l={uniform:function(){return Math.random},normal:function(){return function(){for(var e,t,n=-1;0>n||n>1;)e=Math.random(),t=Math.random(),n=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return n}}};return a.toTex="\\mathrm{${name}}\\left(${args}\\right)",a}var i=n(188),o=n(196);t.name="distribution",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(5)),a=r(n(31)),s=r(n(47)),u=r(n(84)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=n(12),f=i("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:a(e,t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,a);break;default:n=s(t,e,a,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,a,!1);break;default:n=c(e,t,a)}}return n},"Array, Array":function(e,t){return f(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return f(o(e),t)},"Matrix, Array":function(e,t){return f(e,o(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,a,!1);break;default:n=p(e,t,a,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,a,!0);break;default:n=p(t,e,a,!0)}return n},"Array, any":function(e,t){return p(o(e),t,a,!1).valueOf()},"any, Array":function(e,t){return p(o(t),e,a,!0).valueOf()}});return f.toTex="\\left(${args[0]}"+h.operators.equal+"${args[1]}\\right)",f}t.name="equal",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(t){var n=new e.Complex(t.im*t.im-t.re*t.re+1,-2*t.re*t.im),r=u(n),i=new e.Complex(r.re-t.im,r.im+t.re),o=l(i);return new e.Complex(1.5707963267948966-o.im,o.re)}var u=a.find(r(n(159)),["Complex"]),l=a.find(r(n(157)),["Complex"]),c=a("acos",{number:function(n){return n>=-1&&1>=n||t.predictable?Math.acos(n):s(new e.Complex(n,0))},Complex:s,BigNumber:function(t){return o(t,e.BigNumber,!1)},"Array | Matrix":function(e){return i(e,c)}});return c.toTex="\\cos^{-1}\\left(${args[0]}\\right)",c}var i=n(6),o=n(583);t.name="acos",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(t){var n=t.re,r=t.im,i=new e.Complex(r*r-n*n+1,-2*n*r),o=u(i),a=new e.Complex(o.re-r,o.im+n),s=l(a);return new e.Complex(s.im,-s.re)}var u=a.find(r(n(159)),["Complex"]),l=a.find(r(n(157)),["Complex"]),c=a("asin",{number:function(n){return n>=-1&&1>=n||t.predictable?Math.asin(n):s(new e.Complex(n,0))},Complex:s,BigNumber:function(t){return o(t,e.BigNumber,!1)},"Array | Matrix":function(e){return i(e,c,!0)}});return c.toTex="\\sin^{-1}\\left(${args[0]}\\right)",c}var i=n(6),o=n(366);t.name="asin",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("cosh",{number:i,Complex:function(t){var n=Math.exp(t.re),r=Math.exp(-t.re);return new e.Complex(Math.cos(t.im)*(n+r)/2,Math.sin(t.im)*(n-r)/2)},BigNumber:function(t){return a(t,e.BigNumber,!1,!1)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return s(t.value)},"Array | Matrix":function(e){return o(e,s)}});return s.toTex="\\cosh\\left(${args[0]}\\right)",s}function i(e){return(Math.exp(e)+Math.exp(-e))/2}var o=n(6),a=n(259);t.name="cosh",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("sinh",{number:i,Complex:function(t){var n=Math.cos(t.im),r=Math.sin(t.im),i=Math.exp(t.re),o=Math.exp(-t.re);return new e.Complex(n*(i-o)/2,r*(i+o)/2)},BigNumber:function(t){return a(t,e.BigNumber,!0,!1)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return s(t.value)},"Array | Matrix":function(e){return o(e,s,!0)}});return s.toTex="\\sinh\\left(${args[0]}\\right)",s}function i(e){return Math.abs(e)<1?e+e*e*e/6+e*e*e*e*e/120:(Math.exp(e)-Math.exp(-e))/2}var o=n(6),a=n(259);t.name="sinh",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0
},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(e){return i(e,o)}});return o}var i=n(6);n(8),t.name="isNumeric",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e,t){return-l(e,t)}function s(e,t,n){if(!i(t)||0>t)throw new Error("k must be a non-negative integer");if(e&&e.isMatrix){var r=e.size();if(r.length>1)throw new Error("Only one dimensional matrices supported");return u(e.valueOf(),t,n)}return Array.isArray(e)?u(e,t,n):void 0}function u(e,t,n){if(t>=e.length)throw new Error("k out of bounds");for(var r=0,i=e.length-1;i>r;){for(var o=r,a=i,s=e[Math.floor(Math.random()*(i-r+1))+r];a>o;)if(n(e[o],s)>=0){var u=e[a];e[a]=e[o],e[o]=u,--a}else++o;n(e[o],s)>0&&--o,o>=t?i=o:r=o+1}return e[t]}var l=r(n(194));return o("partitionSelect",{"Array | Matrix, number":function(e,t){return s(e,t,l)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return s(e,t,l);if("desc"===n)return s(e,t,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s})}var i=n(8).isInteger;t.name="partitionSelect",t.factory=r},function(e,t,n){"use strict";function r(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.storage=function(t){if(!a(t))throw new TypeError("format must be a string value");var n=e._storage[t];if(!n)throw new SyntaxError("Unsupported matrix storage format: "+t);return n},e._storage={},e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}var i=n(85),o=i.string,a=o.isString;t.name="Matrix",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(31)),s=e.SparseMatrix,u=function(e,t,n){var r=e._values,u=e._index,l=e._ptr,c=e._size,p=e._datatype,h=t._values,f=t._index,d=t._ptr,m=t._size,g=t._datatype;if(c.length!==m.length)throw new i(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var v,y=c[0],b=c[1],w=a,_=0,x=n;"string"==typeof p&&p===g&&(v=p,w=o.find(a,[v,v]),_=o.convert(0,v),x=o.find(n,[v,v]));var E,k,C,A,S,M=r&&h?[]:void 0,T=[],D=[],O=new s({values:M,index:T,ptr:D,size:[y,b],datatype:v}),L=r&&h?[]:void 0,F=r&&h?[]:void 0,P=[],N=[];for(k=0;b>k;k++){D[k]=T.length;var B=k+1;for(A=l[k],S=l[k+1],C=A;S>C;C++)E=u[C],T.push(E),P[E]=B,L&&(L[E]=r[C]);for(A=d[k],S=d[k+1],C=A;S>C;C++)if(E=f[C],P[E]===B){if(L){var R=x(L[E],h[C]);w(R,_)?P[E]=null:L[E]=R}}else T.push(E),N[E]=B,F&&(F[E]=h[C]);if(L&&F)for(C=D[k];C<T.length;)E=T[C],P[E]===B?(M[C]=L[E],C++):N[E]===B?(M[C]=F[E],C++):T.splice(C,1)}return D[b]=T.length,O};return u}var i=n(37);t.name="algorithm04",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(31)),s=e.SparseMatrix,u=function(e,t,n){var r=e._values,u=e._index,l=e._ptr,c=e._size,p=e._datatype,h=t._values,f=t._index,d=t._ptr,m=t._size,g=t._datatype;if(c.length!==m.length)throw new i(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!r||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,y=c[0],b=c[1],w=a,_=0,x=n;"string"==typeof p&&p===g&&(v=p,w=o.find(a,[v,v]),_=o.convert(0,v),x=o.find(n,[v,v]));for(var E,k,C,A,S=[],M=[],T=[],D=new s({values:S,index:M,ptr:T,size:[y,b],datatype:v}),O=[],L=[],F=0;b>F;F++){T[F]=M.length;var P=F+1;for(k=l[F],C=l[F+1],E=k;C>E;E++)A=u[E],L[A]=P,O[A]=r[E],M.push(A);for(k=d[F],C=d[F+1],E=k;C>E;E++)A=f[E],L[A]===P&&(O[A]=x(O[A],h[E]));for(E=T[F];E<M.length;){A=M[E];var N=O[A];w(N,_)?M.splice(E,1):(S.push(N),E++)}}return T[b]=M.length,D};return u}var i=n(37);t.name="algorithm08",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function a(e,t){if(!(this instanceof a))throw new Error("Constructor must be called with the new operator");if(void 0!=e&&!x(e))throw new TypeError("First parameter in Unit constructor must numeric");if(void 0!=t&&("string"!=typeof t||""==t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=t){var n=a.parse(t);this.units=n.units,this.dimensions=n.dimensions}else this.units=[{unit:N,prefix:O,power:0}],this.dimensions=[0,0,0,0,0,0,0,0,0];this.value=void 0!=e?this._normalize(e):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}function s(){for(;" "==M||"	"==M;)c()}function u(e){return e>="0"&&"9">=e||"."==e}function l(e){return e>="0"&&"9">=e}function c(){S++,M=A.charAt(S)}function p(e){S=e,M=A.charAt(S)}function h(){var e,t="";if(e=S,"+"==M?c():"-"==M&&(t+=M,c()),!u(M))return p(e),null;if("."==M){if(t+=M,c(),!l(M))return p(e),null}else{for(;l(M);)t+=M,c();"."==M&&(t+=M,c())}for(;l(M);)t+=M,c();if("E"==M||"e"==M){var n="",r=S;if(n+=M,c(),"+"!=M&&"-"!=M||(n+=M,c()),!l(M))return p(r),t;for(t+=n;l(M);)t+=M,c()}return t}function f(){for(var e="",t=A.charCodeAt(S);t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t;)e+=M,c(),t=A.charCodeAt(S);return t=e.charCodeAt(0),t>=65&&90>=t||t>=97&&122>=t?e||null:null}function d(e){return M===e?(c(),e):null}function m(e){for(var t in B)if(B.hasOwnProperty(t)&&i(e,t)){var n=B[t],r=e.length-t.length,o=e.substring(0,r),a=n.prefixes[o];if(void 0!==a)return{unit:n,prefix:a}}return null}var g=r(n(62)),v=r(n(83)),y=r(n(63)),b=r(n(55)),w=r(n(158)),_=r(n(355)),x=r(n(360)),E=r(n(573)),k=r(n(576)),C=r(n(581));a.prototype.type="Unit",a.prototype.isUnit=!0;var A,S,M;a.parse=function(n){if(A=n,S=-1,M="","string"!=typeof A)throw new TypeError("Invalid argument in Unit.parse, string expected");var r=new a;r.units=[],c(),s();var i=h(),o=null;i&&(o="bignumber"===t.number?new e.BigNumber(i):"fraction"===t.number?new e.Fraction(i):parseFloat(i)),s();for(var u=1,l=!1,p=[],g=1;;){for(s();"("===M;)p.push(u),g*=u,u=1,c(),s();if(!M)break;var v=M,y=f();if(null==y)throw new SyntaxError('Unexpected "'+v+'" in "'+A+'" at index '+S.toString());var b=m(y);if(null==b)throw new SyntaxError('Unit "'+y+'" not found.');var w=u*g;if(s(),d("^")){s();var _=h();if(null==_)throw new SyntaxError('In "'+n+'", "^" must be followed by a floating-point number');w*=_}r.units.push({unit:b.unit,prefix:b.prefix,power:w});for(var x=0;x<L.length;x++)r.dimensions[x]+=b.unit.dimensions[x]*w;for(s();")"===M;){if(0===p.length)throw new SyntaxError('Unmatched ")" in "'+A+'" at index '+S.toString());g/=p.pop(),c(),s()}l=!1,d("*")?(u=1,l=!0):d("/")?(u=-1,l=!0):u=1;var E=b.unit.base.key;j.auto[E]={unit:b.unit,prefix:b.prefix}}if(s(),M)throw new SyntaxError('Could not parse: "'+n+'"');if(l)throw new SyntaxError('Trailing characters: "'+n+'"');if(0!==p.length)throw new SyntaxError('Unmatched "(" in "'+A+'"');if(0==r.units.length)throw new SyntaxError('"'+n+'" contains no units');return r.value=void 0!=o?r._normalize(o):null,r},a.prototype.clone=function(){var e=new a;e.fixPrefix=this.fixPrefix,e.isUnitListSimplified=this.isUnitListSimplified,e.value=o(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++){e.units[t]={};for(var n in this.units[t])this.units[t].hasOwnProperty(n)&&(e.units[t][n]=this.units[t][n])}return e},a.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},a.prototype._normalize=function(e){var t,n,r,i,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;o=a._getNumberConverter(k(e));for(var u=0;u<this.units.length;u++)t=o(this.units[u].unit.value),i=o(this.units[u].prefix.value),r=o(this.units[u].power),s=y(s,w(y(t,i),r));return s}return o=a._getNumberConverter(k(e)),t=o(this.units[0].unit.value),n=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),y(g(e,n),y(t,i))},a.prototype._denormalize=function(e,t){var n,r,i,o,s;if(null==e||0===this.units.length)return e;if(this._isDerived()){var u=e;s=a._getNumberConverter(k(e));for(var l=0;l<this.units.length;l++)n=s(this.units[l].unit.value),o=s(this.units[l].prefix.value),i=s(this.units[l].power),u=b(u,w(y(n,o),i));return u}return s=a._getNumberConverter(k(e)),n=s(this.units[0].unit.value),o=s(this.units[0].prefix.value),r=s(this.units[0].unit.offset),void 0==t?v(b(b(e,n),o),r):v(b(b(e,n),t),r)},a.isValuelessUnit=function(e){return null!=m(e)},a.prototype.hasBase=function(e){for(var t=0;t<L.length;t++)if(Math.abs(this.dimensions[t]-e.dimensions[t])>1e-12)return!1;return!0},a.prototype.equalBase=function(e){for(var t=0;t<L.length;t++)if(Math.abs(this.dimensions[t]-e.dimensions[t])>1e-12)return!1;return!0},a.prototype.equals=function(e){return this.equalBase(e)&&_(this.value,e.value)},a.prototype.multiply=function(e){for(var t=this.clone(),n=0;n<L.length;n++)t.dimensions[n]=this.dimensions[n]+e.dimensions[n];for(var n=0;n<e.units.length;n++){var r=JSON.parse(JSON.stringify(e.units[n]));t.units.push(r)}if(null!=this.value||null!=e.value){var i=null==this.value?this._normalize(1):this.value,o=null==e.value?e._normalize(1):e.value;t.value=y(i,o)}else t.value=null;return t.isUnitListSimplified=!1,t},a.prototype.divide=function(e){for(var t=this.clone(),n=0;n<L.length;n++)t.dimensions[n]=this.dimensions[n]-e.dimensions[n];for(var n=0;n<e.units.length;n++){var r=JSON.parse(JSON.stringify(e.units[n]));r.power=-r.power,t.units.push(r)}if(null!=this.value||null!=e.value){var i=null==this.value?this._normalize(1):this.value,o=null==e.value?e._normalize(1):e.value;t.value=b(i,o)}else t.value=null;return t.isUnitListSimplified=!1,t},a.prototype.pow=function(e){for(var t=this.clone(),n=0;n<L.length;n++)t.dimensions[n]=this.dimensions[n]*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!=t.value?(t.value=w(t.value,e),x(t.value)||(t.value=0/0)):t.value=null,t.isUnitListSimplified=!1,t},a.prototype.to=function(e){var t,n=null==this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=a.parse(e),!this.equalBase(t))throw new Error("Units do not match");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=o(n),t.fixPrefix=!0,t.isUnitListSimplified=!0,t}if(e&&e.isUnit){if(!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return t=e.clone(),t.value=o(n),t.fixPrefix=!0,t.isUnitListSimplified=!0,t}throw new Error("String or Unit expected as parameter")},a.prototype.toNumber=function(e){return C(this.toNumeric(e))},a.prototype.toNumeric=function(e){var t=this.to(e);return t._isDerived()?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},a.prototype.toString=function(){return this.format()},a.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},a.fromJSON=function(e){var t=new a(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},a.prototype.valueOf=a.prototype.toString,a.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var e,t=[];for(var n in I)if(this.hasBase(F[n])){e=n;break}if("NONE"===e)this.units=[];else{var r;if(e&&I.hasOwnProperty(e)&&(r=I[e]),r)this.units=[{unit:r.unit,prefix:r.prefix,power:1}];else{for(var i=0;i<L.length;i++){var o=L[i];Math.abs(this.dimensions[i])>1e-12&&t.push({unit:I[o].unit,prefix:I[o].prefix,power:this.dimensions[i]})}t.length<this.units.length&&(this.units=t)}}this.isUnitListSimplified=!0}},a.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var e="",t="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(n>0?(t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(t+="^"+-this.units[i].power)):(t+=" "+this.units[i].prefix.name+this.units[i].unit.name,t+="^"+this.units[i].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var o=e;return n>0&&r>0&&(o+=" / "),o+=t},a.prototype.format=function(e){this.simplifyUnitListLazy(),1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var t=this._denormalize(this.value),n=null!==this.value?E(t,e||{}):"",r=this.formatUnits();return r.length>0&&n.length>0&&(n+=" "),n+=r},a.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=Math.abs(C(this.value)),t=this.units[0].prefix;if(0===e)return t;var n=this.units[0].power,r=Math.abs(Math.log(e/Math.pow(t.value*this.units[0].unit.value,n))/Math.LN10-1.2),i=this.units[0].unit.prefixes;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];if(a.scientific){var s=Math.abs(Math.log(e/Math.pow(a.value*this.units[0].unit.value,n))/Math.LN10-1.2);(r>s||s===r&&a.name.length<t.name.length)&&(t=a,r=s)}}return t};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG={};for(var D in T.SHORT)T.SHORT.hasOwnProperty(D)&&(T.SHORTLONG[D]=T.SHORT[D]);for(var D in T.LONG)T.LONG.hasOwnProperty(D)&&(T.SHORTLONG[D]=T.LONG[D]);var O={name:"",value:1,scientific:!0},L=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],F={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var D in F)F[D].key=D;var P={},N={name:"",base:P,value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},B={meter:{name:"meter",base:F.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:F.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:F.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:F.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:F.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:F.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:F.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},chain:{name:"chain",base:F.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:F.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:F.LENGTH,prefixes:T.SHORT,value:1,offset:0},"in":{name:"in",base:F.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:F.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:F.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:F.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:F.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:F.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:F.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:F.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:F.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:F.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:F.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:F.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:F.SURFACE,prefixes:T.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:F.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:F.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:F.SURFACE,prefixes:T.NONE,value:6.4516e-10,offset:0},m3:{name:"m3",base:F.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:F.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:F.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:F.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:F.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:F.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:F.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:F.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:F.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:F.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:F.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:F.VOLUME,prefixes:T.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:F.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:F.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:F.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:F.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:F.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:F.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:F.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:F.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:F.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:F.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:F.VOLUME,prefixes:T.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:F.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:F.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:F.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:F.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:F.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:F.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:F.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:F.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},obl:{name:"obl",base:F.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},g:{name:"g",base:F.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:F.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:F.MASS,prefixes:T.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:F.MASS,prefixes:T.SHORT,value:1e3,offset:0},grain:{name:"grain",base:F.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:F.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:F.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:F.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:F.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:F.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:F.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:F.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:F.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:F.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:F.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:F.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:F.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:F.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:F.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:F.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:F.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:F.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:F.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:F.TIME,prefixes:T.NONE,value:86400,offset:0},hertz:{name:"Hertz",base:F.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:F.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:F.ANGLE,prefixes:T.NONE,value:1,offset:0},deg:{name:"deg",base:F.ANGLE,prefixes:T.NONE,value:.017453292519943295,offset:0},grad:{name:"grad",base:F.ANGLE,prefixes:T.NONE,value:.015707963267948967,offset:0},cycle:{name:"cycle",base:F.ANGLE,prefixes:T.NONE,value:6.283185307179586,offset:0},arcsec:{name:"arcsec",base:F.ANGLE,prefixes:T.NONE,value:484813681109536e-20,offset:0},arcmin:{name:"arcmin",base:F.ANGLE,prefixes:T.NONE,value:.0002908882086657216,offset:0},A:{name:"A",base:F.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:F.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:F.TEMPERATURE,prefixes:T.NONE,value:1,offset:0},degC:{name:"degC",base:F.TEMPERATURE,prefixes:T.NONE,value:1,offset:273.15},degF:{name:"degF",base:F.TEMPERATURE,prefixes:T.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:F.TEMPERATURE,prefixes:T.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:F.TEMPERATURE,prefixes:T.NONE,value:1,offset:0},celsius:{name:"celsius",base:F.TEMPERATURE,prefixes:T.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:F.TEMPERATURE,prefixes:T.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:F.TEMPERATURE,prefixes:T.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:F.AMOUNT_OF_SUBSTANCE,prefixes:T.NONE,value:1,offset:0},mole:{name:"mole",base:F.AMOUNT_OF_SUBSTANCE,prefixes:T.NONE,value:1,offset:0},cd:{name:"cd",base:F.LUMINOUS_INTENSITY,prefixes:T.NONE,value:1,offset:0},candela:{name:"candela",base:F.LUMINOUS_INTENSITY,prefixes:T.NONE,value:1,offset:0},N:{name:"N",base:F.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:F.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:F.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:F.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:F.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:F.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},J:{name:"J",base:F.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:F.ENERGY,prefixes:T.SHORT,value:1,offset:0},erg:{name:"erg",base:F.ENERGY,prefixes:T.NONE,value:1e-5,offset:0},Wh:{name:"Wh",base:F.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:F.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:F.ENERGY,prefixes:T.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:F.ENERGY,prefixes:T.LONG,value:1.602176565e-19,offset:0},W:{name:"W",base:F.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"W",base:F.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:F.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},Pa:{name:"Pa",base:F.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:F.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:F.PRESSURE,prefixes:T.NONE,value:101325,offset:0},coulomb:{name:"coulomb",base:F.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:F.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:F.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:F.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:F.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:F.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:F.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:F.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:F.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:F.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:F.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:F.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:F.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:F.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:F.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:F.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:F.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:F.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:F.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},R={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",seconds:"second",minutes:"minute",hours:"hour",days:"day",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"},j={si:{NONE:{unit:N,prefix:T.NONE[""]},LENGTH:{unit:B.m,prefix:T.SHORT[""]},MASS:{unit:B.g,prefix:T.SHORT.k},TIME:{unit:B.s,prefix:T.SHORT[""]},CURRENT:{unit:B.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:T.SHORT[""]},ANGLE:{unit:B.rad,prefix:T.SHORT[""]},BIT:{unit:B.bit,prefix:T.SHORT[""]},FORCE:{unit:B.N,prefix:T.SHORT[""]},ENERGY:{unit:B.J,prefix:T.SHORT[""]},POWER:{unit:B.W,prefix:T.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:T.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:T.SHORT[""]}}};
j.cgs=JSON.parse(JSON.stringify(j.si)),j.cgs.LENGTH={unit:B.m,prefix:T.SHORT.c},j.cgs.MASS={unit:B.g,prefix:T.SHORT[""]},j.cgs.FORCE={unit:B.dyn,prefix:T.SHORT[""]},j.cgs.ENERGY={unit:B.erg,prefix:T.NONE[""]},j.us=JSON.parse(JSON.stringify(j.si)),j.us.LENGTH={unit:B.ft,prefix:T.NONE[""]},j.us.MASS={unit:B.lbm,prefix:T.NONE[""]},j.us.TEMPERATURE={unit:B.degF,prefix:T.NONE[""]},j.us.FORCE={unit:B.lbf,prefix:T.NONE[""]},j.us.ENERGY={unit:B.BTU,prefix:T.BTU[""]},j.us.POWER={unit:B.hp,prefix:T.NONE[""]},j.us.PRESSURE={unit:B.psi,prefix:T.NONE[""]},j.auto=JSON.parse(JSON.stringify(j.si));var I=j.auto;a.setUnitSystem=function(e){if(!j.hasOwnProperty(e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(j).join(", "));I=j[e]},a.getUnitSystem=function(){for(var e in j)if(j[e]===I)return e},a.typeConverters={BigNumber:function(t){return new e.BigNumber(t+"")},Fraction:function(t){return new e.Fraction(t)},number:function(e){return e}},a._getNumberConverter=function(e){if(!a.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return a.typeConverters[e]};for(var D in B){var $=B[D];$.dimensions=$.base.dimensions}for(var z in R)if(R.hasOwnProperty(z)){var $=B[R[z]],U=Object.create($);U.name=z,B[z]=U}return a.PREFIXES=T,a.BASE_UNITS=F,a.UNITS=B,a.UNIT_SYSTEMS=j,a}var i=n(64).endsWith,o=n(16).clone;t.name="Unit",t.path="type",t.factory=r},function(e,t,n){var r=n(108).pi,i=n(1132),o=n(1133);e.exports=function a(e,t,n){if(e.isNaN())return new t(0/0);var s=t.precision,u=e.abs();if(n){if(u.lt(t.ONE))throw new Error("acsc() only has non-complex values for |x| >= 1.");t.config({precision:s+2}),e=t.ONE.div(e),t.config({precision:s}),u=e.abs()}else if(u.gt(t.ONE))throw new Error("asin() only has non-complex values for |x| <= 1.");if(u.gt(.8)){t.config({precision:s+4});var l=e.s,c=r(t.constructor({precision:s+4})).div(2);return e=c.minus(a(t.ONE.minus(e.times(e)).sqrt(),t)),e.s=l,e.constructor=t,t.config({precision:s}),e.toDP(s-1)}var p=u.gt(.58);p&&(t.config({precision:s+8}),e=e.div(new t(2).sqrt().times(t.ONE.minus(e.times(e)).sqrt().plus(t.ONE).sqrt())),t.config({precision:s}));var h=60>=s||e.dp()<=Math.log(s)&&e.lt(.05)?i(e,s):o(e,t);return p?h.times(2):h}},function(e){e.exports=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var e=e.plus(t.ONE);return e.s=-e.s||null,t.config({precision:n}),e}},function(e,t,n){function r(e){for(var t=e.c,n=t[0]+"",r=1;r<t.length;++r){for(var i=t[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}var a;for(a=n.length-1;"0"==n.charAt(a);--a);var s=e.e,u=n.slice(0,a+1||1),l=u.length;if(s>0)if(++s>l)for(s-=l;s--;u+="0");else l>s&&(u=u.slice(0,s)+"."+u.slice(s));for(var c=[0],r=0;r<u.length;){for(var p=c.length;p--;c[p]*=10);c[0]+=u.charAt(r++)<<0;for(var a=0;a<c.length;++a)c[a]>1&&(null==c[a+1]&&(c[a+1]=0),c[a+1]+=c[a]>>1,c[a]&=1)}return c.reverse()}var i=n(367);e.exports=function(e,t,n){var o,a,s=e.constructor,u=+(e.s<0),l=+(t.s<0);if(u){o=r(i(e));for(var c=0;c<o.length;++c)o[c]^=1}else o=r(e);if(l){a=r(i(t));for(var c=0;c<a.length;++c)a[c]^=1}else a=r(t);var p,h,f;o.length<=a.length?(p=o,h=a,f=u):(p=a,h=o,f=l);var d=p.length,m=h.length,g=1^n(u,l),v=new s(1^g),y=s.ONE,b=new s(2),w=s.precision;for(s.config({precision:1e9});d>0;)n(p[--d],h[--m])==g&&(v=v.plus(y)),y=y.times(b);for(;m>0;)n(f,h[--m])==g&&(v=v.plus(y)),y=y.times(b);return s.config({precision:w}),0==g&&(v.s=-v.s),v}},function(e,t,n){"use strict";function r(e,t,n){var o,a,s,u;if(0>=t){if(Array.isArray(e[0])){for(u=i(e),a=[],o=0;o<u.length;o++)a[o]=r(u[o],t-1,n);return a}for(s=e[0],o=1;o<e.length;o++)s=n(s,e[o]);return s}for(a=[],o=0;o<e.length;o++)a[o]=r(e[o],t-1,n);return a}function i(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;i>n;n++){var a=[];for(t=0;r>t;t++)a.push(e[t][n]);o.push(a)}return o}var o=n(24).size,a=n(189);e.exports=function(e,t,n){var i=Array.isArray(e)?o(e):e.size();if(0>t)throw new a(t);if(t>=i.length)throw new a(t,i.length);return e&&e.isMatrix===!0?e.create(r(e.valueOf(),t,n)):r(e,t,n)}},function(e,t,n){"use strict";var r=n(11),i=n(180),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case M.topCompositionStart:return T.compositionStart;case M.topCompositionEnd:return T.compositionEnd;case M.topCompositionUpdate:return T.compositionUpdate}}function a(e,t){return e===M.topKeyDown&&t.keyCode===_}function s(e,t){switch(e){case M.topKeyUp:return-1!==w.indexOf(t.keyCode);case M.topKeyDown:return t.keyCode!==_;case M.topKeyPress:case M.topMouseDown:case M.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var i,l;if(x?i=o(e):O?s(e,n)&&(i=T.compositionEnd):a(e,n)&&(i=T.compositionStart),!i)return null;C&&(O||i!==T.compositionStart?i===T.compositionEnd&&O&&(l=O.getData()):O=g.getPooled(r));var c=v.getPooled(i,t,n,r);if(l)c.data=l;else{var p=u(n);null!==p&&(c.data=p)}return d.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case M.topCompositionEnd:return u(t);case M.topKeyPress:var n=t.which;return n!==A?null:(D=!0,S);case M.topTextInput:var r=t.data;return r===S&&D?null:r;default:return null}}function p(e,t){if(O){if(e===M.topCompositionEnd||s(e,t)){var n=O.getData();return g.release(O),O=null,n}return null}switch(e){case M.topPaste:return null;case M.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case M.topCompositionEnd:return C?null:t.data;default:return null}}function h(e,t,n,r){var i;if(i=k?c(e,n):p(e,n),!i)return null;var o=y.getPooled(T.beforeInput,t,n,r);return o.data=i,d.accumulateTwoPhaseDispatches(o),o}var f=n(32),d=n(72),m=n(13),g=n(377),v=n(408),y=n(411),b=n(36),w=[9,13,27,32],_=229,x=m.canUseDOM&&"CompositionEvent"in window,E=null;m.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var k=m.canUseDOM&&"TextEvent"in window&&!E&&!r(),C=m.canUseDOM&&(!x||E&&E>8&&11>=E),A=32,S=String.fromCharCode(A),M=f.topLevelTypes,T={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[M.topCompositionEnd,M.topKeyPress,M.topTextInput,M.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[M.topBlur,M.topCompositionEnd,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[M.topBlur,M.topCompositionStart,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[M.topBlur,M.topCompositionUpdate,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]}},D=!1,O=null,L={eventTypes:T,extractEvents:function(e,t,n,r){return[l(e,t,n,r),h(e,t,n,r)]}};e.exports=L},function(e,t,n){"use strict";var r=n(198),i=n(13),o=(n(20),n(331),n(417)),a=n(337),s=n(340),u=(n(4),s(function(e){return a(e)})),l=!1,c="cssFloat";if(i.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(h){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var f={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];null!=i&&(n+=u(r)+":",n+=o(r,i,t)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=o(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)i[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var p in u)i[p]="";else i[a]=""}}}};e.exports=f},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=k.getPooled(D.change,L,e,C(e));w.accumulateTwoPhaseDispatches(t),E.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){O=e,L=t,O.attachEvent("onchange",i)}function s(){O&&(O.detachEvent("onchange",i),O=null,L=null)}function u(e,t){return e===T.topChange?t:void 0}function l(e,t,n){e===T.topFocus?(s(),a(t,n)):e===T.topBlur&&s()}function c(e,t){O=e,L=t,F=e.value,P=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(O,"value",R),O.attachEvent?O.attachEvent("onpropertychange",h):O.addEventListener("propertychange",h,!1)}function p(){O&&(delete O.value,O.detachEvent?O.detachEvent("onpropertychange",h):O.removeEventListener("propertychange",h,!1),O=null,L=null,F=null,P=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==F&&(F=t,i(e))}}function f(e,t){return e===T.topInput?t:void 0}function d(e,t,n){e===T.topFocus?(p(),c(t,n)):e===T.topBlur&&p()}function m(e){return e!==T.topSelectionChange&&e!==T.topKeyUp&&e!==T.topKeyDown||!O||O.value===F?void 0:(F=O.value,L)}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t){return e===T.topClick?t:void 0}var y=n(32),b=n(71),w=n(72),_=n(13),x=n(11),E=n(27),k=n(34),C=n(131),A=n(132),S=n(217),M=n(36),T=y.topLevelTypes,D={change:{phasedRegistrationNames:{bubbled:M({onChange:null}),captured:M({onChangeCapture:null})},dependencies:[T.topBlur,T.topChange,T.topClick,T.topFocus,T.topInput,T.topKeyDown,T.topKeyUp,T.topSelectionChange]}},O=null,L=null,F=null,P=null,N=!1;_.canUseDOM&&(N=A("change")&&(!("documentMode"in document)||document.documentMode>8));var B=!1;_.canUseDOM&&(B=A("input")&&(!("documentMode"in document)||document.documentMode>11));var R={get:function(){return P.get.call(this)},set:function(e){F=""+e,P.set.call(this,e)}},j={eventTypes:D,extractEvents:function(e,t,n,i){var o,a,s=t?x.getNodeFromInstance(t):window;if(r(s)?N?o=u:a=l:S(s)?B?o=f:(o=m,a=d):g(s)&&(o=v),o){var c=o(e,t);if(c){var p=k.getPooled(D.change,c,n,i);return p.type="change",w.accumulateTwoPhaseDispatches(p),p}}a&&a(e,s,t)}};e.exports=j},function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var i=n(56),o=n(13),a=n(334),s=n(22),u=n(182),l=n(2),c=/^(<[^ \/>]+)/,p="data-danger-index",h={dangerouslyRenderMarkup:function(e){o.canUseDOM?void 0:l(!1);for(var t,n={},i=0;i<e.length;i++)e[i]?void 0:l(!1),t=r(e[i]),t=u(t)?t:"*",n[t]=n[t]||[],n[t][i]=e[i];var h=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var d,m=n[t];for(d in m)if(m.hasOwnProperty(d)){var g=m[d];m[d]=g.replace(c,"$1 "+p+'="'+d+'" ')}for(var v=a(m.join(""),s),y=0;y<v.length;++y){var b=v[y];b.hasAttribute&&b.hasAttribute(p)&&(d=+b.getAttribute(p),b.removeAttribute(p),h.hasOwnProperty(d)?l(!1):void 0,h[d]=b,f+=1)}}return f!==h.length?l(!1):void 0,h.length!==e.length?l(!1):void 0,h},dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM?void 0:l(!1),t?void 0:l(!1),"HTML"===e.nodeName?l(!1):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}};e.exports=h},function(e,t,n){"use strict";var r=n(36),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=i},function(e,t,n){"use strict";var r=n(32),i=n(72),o=n(11),a=n(95),s=n(36),u=r.topLevelTypes,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},c={eventTypes:l,extractEvents:function(e,t,n,r){if(e===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var p,h;if(e===u.topMouseOut){p=t;var f=n.relatedTarget||n.toElement;h=f?o.getClosestInstanceFromNode(f):null}else p=null,h=t;if(p===h)return null;var d=null==p?s:o.getNodeFromInstance(p),m=null==h?s:o.getNodeFromInstance(h),g=a.getPooled(l.mouseLeave,p,n,r);g.type="mouseleave",g.target=d,g.relatedTarget=m;var v=a.getPooled(l.mouseEnter,h,n,r);return v.type="mouseenter",v.target=m,v.relatedTarget=d,i.accumulateEnterLeaveDispatches(g,v,p,h),[g,v]}};e.exports=c},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(7),o=n(38),a=n(216);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;r>e&&n[e]===i[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(50),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_SIDE_EFFECTS,s=r.injection.HAS_NUMERIC_VALUE,u=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:u,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,"default":o,defer:o,dir:0,disabled:o,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,rel:0,required:o,reversed:o,role:0,rows:u,rowSpan:s,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:u,sizes:0,span:u,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:s,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:i|a,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=c},function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=o(t))}var i=n(52),o=n(149),a=(n(110),n(134)),s=n(111),u=(n(4),{instantiateChildren:function(e){if(null==e)return null;var t={};return s(e,r,t),t},updateChildren:function(e,t,n,r,s){if(t||e){var u,l;for(u in t)if(t.hasOwnProperty(u)){l=e&&e[u];var c=l&&l._currentElement,p=t[u];if(null!=l&&a(c,p))i.receiveComponent(l,p,r,s),t[u]=l;else{l&&(n[u]=i.getNativeNode(l),i.unmountComponent(l,!1));var h=o(p);t[u]=h}}for(u in e)!e.hasOwnProperty(u)||t&&t.hasOwnProperty(u)||(l=e[u],n[u]=i.getNativeNode(l),i.unmountComponent(l,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}});e.exports=u},function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function i(){}function o(){}function a(e){return e.prototype&&e.prototype.isReactComponent}var s=n(7),u=n(125),l=n(33),c=n(17),p=n(126),h=n(127),f=(n(20),n(210)),d=n(76),m=(n(73),n(52)),g=n(211),v=n(61),y=n(2),b=n(134);n(4),i.prototype.render=function(){var e=h.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return o(e,t),t};var w=1,_={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._nativeParent=null,this._nativeContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,r){this._context=r,this._mountOrder=w++,this._nativeParent=t,this._nativeContainerInfo=n;var s,u=this._processProps(this._currentElement.props),l=this._processContext(r),p=this._currentElement.type,f=this._constructComponent(u,l);a(p)||null!=f&&null!=f.render||(s=f,o(p,s),null===f||f===!1||c.isValidElement(f)?void 0:y(!1),f=new i(p)),f.props=u,f.context=l,f.refs=v,f.updater=g,this._instance=f,h.set(f,this);var d=f.state;void 0===d&&(f.state=d=null),"object"!=typeof d||Array.isArray(d)?y(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var m;return m=f.unstable_handleError?this.performInitialMountWithErrorHandling(s,t,n,e,r):this.performInitialMount(s,t,n,e,r),f.componentDidMount&&e.getReactMountReady().enqueue(f.componentDidMount,f),m},_constructComponent:function(e,t){return this._constructComponentWithoutOwner(e,t)},_constructComponentWithoutOwner:function(e,t){var n,r=this._currentElement.type;return n=a(r)?new r(e,t,g):r(e,t,g)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent()),this._renderedNodeType=f.getType(e),this._renderedComponent=this._instantiateReactComponent(e);var a=m.mountComponent(this._renderedComponent,r,t,n,this._processChildContext(i));return a},getNativeNode:function(){return m.getNativeNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,h.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return v;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?y(!1):void 0;for(var i in r)i in t.childContextTypes?void 0:y(!1);return s({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var i=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?y(!1):void 0,a=e[o](t,o,i,n)}catch(s){a=s}a instanceof Error&&(r(this),n===d.prop)}},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o,a,s=this._instance,u=!1;this._context===i?o=s.context:(o=this._processContext(i),u=!0),t===n?a=n.props:(a=this._processProps(n.props),u=!0),u&&s.componentWillReceiveProps&&s.componentWillReceiveProps(a,o);var l=this._processPendingState(a,o),c=!0;!this._pendingForceUpdate&&s.shouldComponentUpdate&&(c=s.shouldComponentUpdate(a,l,o)),this._updateBatchNumber=null,c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,l,o,e,i)):(this._currentElement=n,this._context=i,s.props=a,s.state=l,s.context=o)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=s({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var u=r[a];s(o,"function"==typeof u?u.call(n,o,e,t):u)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(b(r,i))m.receiveComponent(n,i,e,this._processChildContext(t));else{var o=m.getNativeNode(n);m.unmountComponent(n,!1),this._renderedNodeType=f.getType(i),this._renderedComponent=this._instantiateReactComponent(i);var a=m.mountComponent(this._renderedComponent,e,this._nativeParent,this._nativeContainerInfo,this._processChildContext(t));this._replaceNodeWithMarkup(o,a,n)}},_replaceNodeWithMarkup:function(e,t,n){u.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;l.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{l.current=null}return null===e||e===!1||c.isValidElement(e)?void 0:y(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?y(!1):void 0;var r=t.getPublicInstance(),i=n.refs===v?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof i?null:e},_instantiateReactComponent:null},x={Mixin:_};e.exports=x},function(e,t,n){"use strict";var r=n(11),i=n(237),o=n(207),a=n(52),s=n(27),u=n(114),l=n(418),c=n(215),p=n(423);n(4),i.inject();var h={findDOMNode:l,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a}),e.exports=h},function(e,t,n){"use strict";var r=n(92),i={getNativeProps:r.getNativeProps};e.exports=i},function(e,t,n){"use strict";function r(e,t){t&&(K[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?P(!1):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?P(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&V in t.dangerouslySetInnerHTML?void 0:P(!1)),null!=t.style&&"object"!=typeof t.style?P(!1):void 0)}function i(e,t,n,r){if(!(r instanceof L)){var i=e._nativeContainerInfo,a=i._node&&i._node.nodeType===W,s=a?i._node:i._ownerDocument;I(t,s),r.getReactMountReady().enqueue(o,{inst:e,registrationName:t,listener:n})}}function o(){var e=this;w.putListener(e.inst,e.registrationName,e.listener)}function a(){var e=this;M.postMountWrapper(e)}function s(){var e=this;e._rootNodeID?void 0:P(!1);var t=j(e);switch(t?void 0:P(!1),e._tag){case"iframe":case"object":e._wrapperState.listeners=[x.trapBubbledEvent(b.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in H)H.hasOwnProperty(n)&&e._wrapperState.listeners.push(x.trapBubbledEvent(b.topLevelTypes[n],H[n],t));break;case"img":e._wrapperState.listeners=[x.trapBubbledEvent(b.topLevelTypes.topError,"error",t),x.trapBubbledEvent(b.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[x.trapBubbledEvent(b.topLevelTypes.topReset,"reset",t),x.trapBubbledEvent(b.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[x.trapBubbledEvent(b.topLevelTypes.topInvalid,"invalid",t)]}}function u(){T.postUpdateWrapper(this)}function l(e){Z.call(X,e)||(J.test(e)?void 0:P(!1),X[e]=!0)}function c(e,t){return e.indexOf("-")>=0||null!=t.is}function p(e){var t=e.type;l(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._nativeNode=null,this._nativeParent=null,this._rootNodeID=null,this._domID=null,this._nativeContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var h=n(7),f=n(370),d=n(372),m=n(56),g=n(200),v=n(50),y=n(122),b=n(32),w=n(71),_=n(93),x=n(94),E=n(201),k=n(382),C=n(202),A=n(11),S=n(388),M=n(390),T=n(203),D=n(393),O=(n(20),n(399)),L=n(239),F=(n(22),n(98)),P=n(2),N=(n(132),n(36)),B=(n(183),n(135),n(4),C),R=w.deleteListener,j=A.getNodeFromInstance,I=x.listenTo,$=_.registrationNameModules,z={string:!0,number:!0},U=N({style:null}),V=N({__html:null}),Y={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},W=11,H={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},q={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},K=h({menuitem:!0},q),J=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,X={},Z={}.hasOwnProperty,Q=1;p.displayName="ReactDOMComponent",p.Mixin={mountComponent:function(e,t,n,i){this._rootNodeID=Q++,this._domID=n._idCounter++,this._nativeParent=t,this._nativeContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(s,this);break;case"button":o=k.getNativeProps(this,o,t);break;case"input":S.mountWrapper(this,o,t),o=S.getNativeProps(this,o),e.getReactMountReady().enqueue(s,this);break;case"option":M.mountWrapper(this,o,t),o=M.getNativeProps(this,o);break;case"select":T.mountWrapper(this,o,t),o=T.getNativeProps(this,o),e.getReactMountReady().enqueue(s,this);break;case"textarea":D.mountWrapper(this,o,t),o=D.getNativeProps(this,o),e.getReactMountReady().enqueue(s,this)}r(this,o);var u,l;null!=t?(u=t._namespaceURI,l=t._tag):n._tag&&(u=n._namespaceURI,l=n._tag),(null==u||u===g.svg&&"foreignobject"===l)&&(u=g.html),u===g.html&&("svg"===this._tag?u=g.svg:"math"===this._tag&&(u=g.mathml)),this._namespaceURI=u;var c;if(e.useCreateElement){var p,h=n._ownerDocument;if(u===g.html)if("script"===this._tag){var d=h.createElement("div"),v=this._currentElement.type;d.innerHTML="<"+v+"></"+v+">",p=d.removeChild(d.firstChild)}else p=h.createElement(this._currentElement.type,o.is||null);else p=h.createElementNS(u,this._currentElement.type);A.precacheNode(this,p),this._flags|=B.hasCachedChildNodes,this._nativeParent||y.setAttributeForRoot(p),this._updateDOMProperties(null,o,e);var b=m(p);this._createInitialChildren(e,o,i,b),c=b}else{var w=this._createOpenTagMarkupAndPutListeners(e,o),_=this._createContentMarkup(e,o,i);c=!_&&q[this._tag]?w+"/>":w+">"+_+"</"+this._currentElement.type+">"}switch(this._tag){case"button":case"input":case"select":case"textarea":o.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(a,this)}return c},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if($.hasOwnProperty(r))o&&i(this,r,o,e);else{r===U&&(o&&(o=this._previousStyleCopy=h({},t.style)),o=d.createMarkupForStyles(o,this));var a=null;null!=this._tag&&c(this._tag,t)?Y.hasOwnProperty(r)||(a=y.createMarkupForCustomAttribute(r,o)):a=y.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._nativeParent||(n+=" "+y.createMarkupForRoot()),n+=" "+y.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=z[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=F(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return G[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&m.queueHTML(r,i.__html);else{var o=z[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)m.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)m.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,i){var o=t.props,a=this._currentElement.props;switch(this._tag){case"button":o=k.getNativeProps(this,o),a=k.getNativeProps(this,a);break;case"input":S.updateWrapper(this),o=S.getNativeProps(this,o),a=S.getNativeProps(this,a);break;case"option":o=M.getNativeProps(this,o),a=M.getNativeProps(this,a);break;case"select":o=T.getNativeProps(this,o),a=T.getNativeProps(this,a);break;case"textarea":D.updateWrapper(this),o=D.getNativeProps(this,o),a=D.getNativeProps(this,a)}r(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,i),"select"===this._tag&&e.getReactMountReady().enqueue(u,this)},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===U){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else $.hasOwnProperty(r)?e[r]&&R(this,r):(v.properties[r]||v.isCustomAttribute(r))&&y.deleteValueForProperty(j(this),r);for(r in t){var u=t[r],l=r===U?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===U)if(u?u=this._previousStyleCopy=h({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if($.hasOwnProperty(r))u?i(this,r,u,n):l&&R(this,r);else if(c(this._tag,t))Y.hasOwnProperty(r)||y.setValueForAttribute(j(this),r,u);else if(v.properties[r]||v.isCustomAttribute(r)){var p=j(this);null!=u?y.setValueForProperty(p,r,u):y.deleteValueForProperty(p,r)}}a&&d.setValueForStyles(j(this),a,this)},_updateDOMChildren:function(e,t,n,r){var i=z[typeof e.children]?e.children:null,o=z[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,l=null!=o?null:t.children,c=null!=i||null!=a,p=null!=o||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getNativeNode:function(){return j(this)
},unmountComponent:function(e){switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":P(!1)}this.unmountChildren(e),A.uncacheNode(this),w.deleteAllListeners(this),E.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return j(this)}},h(p.prototype,p.Mixin,O.Mixin),e.exports=p},function(e,t,n){"use strict";function r(){}var i=n(395),o=(n(4),[]),a={addDevtool:function(e){o.push(e)},removeDevtool:function(e){for(var t=0;t<o.length;t++)o[t]===e&&(o.splice(t,1),t--)},onCreateMarkupForProperty:function(e,t){r("onCreateMarkupForProperty",e,t)},onSetValueForProperty:function(e,t,n){r("onSetValueForProperty",e,t,n)},onDeleteValueForProperty:function(e,t){r("onDeleteValueForProperty",e,t)}};a.addDevtool(i),e.exports=a},function(e,t,n){"use strict";var r=n(7),i=n(56),o=n(11),a=function(){this._currentElement=null,this._nativeNode=null,this._nativeParent=null,this._nativeContainerInfo=null,this._domID=null};r(a.prototype,{mountComponent:function(e,t,n){var r=n._idCounter++;this._domID=r,this._nativeParent=t,this._nativeContainerInfo=n;var a=" react-empty: "+this._domID+" ";if(e.useCreateElement){var s=n._ownerDocument,u=s.createComment(a);return o.precacheNode(this,u),i(u)}return e.renderToStaticMarkup?"":"<!--"+a+"-->"},receiveComponent:function(){},getNativeNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e){"use strict";var t={useCreateElement:!0};e.exports=t},function(e,t,n){"use strict";var r=n(121),i=n(11),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function r(){this._rootNodeID&&h.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);c.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=l.getNodeFromInstance(this),a=o;a.parentNode;)a=a.parentNode;for(var s=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),h=0;h<s.length;h++){var f=s[h];if(f!==o&&f.form===o.form){var d=l.getInstanceFromNode(f);d?void 0:p(!1),c.asap(r,d)}}}return n}var o=n(7),a=n(92),s=n(122),u=n(124),l=n(11),c=n(27),p=n(2),h=(n(4),{getNativeProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t),i=o({type:void 0},a.getNativeProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&s.setValueForProperty(l.getNodeFromInstance(e),"checked",n||!1);var r=u.getValue(t);null!=r&&s.setValueForProperty(l.getNodeFromInstance(e),"value",""+r)}});e.exports=h},function(e,t,n){"use strict";var r=n(384);e.exports={debugTool:r}},function(e,t,n){"use strict";var r=n(7),i=n(165),o=n(11),a=n(203),s=(n(4),{mountWrapper:function(e,t,n){var r=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._nativeParent),null!=i&&"select"===i._tag&&(r=a.getSelectValueContext(i))}var o=null;if(null!=r)if(o=!1,Array.isArray(r)){for(var s=0;s<r.length;s++)if(""+r[s]==""+t.value){o=!0;break}}else o=""+r==""+t.value;e._wrapperState={selected:o}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=o.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getNativeProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o="";return i.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(o+=e))}),o&&(n.children=o),n}});e.exports=s},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,p=s.cloneRange();p.selectNodeContents(e),p.setEnd(s.startContainer,s.startOffset);var h=r(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f=h?0:p.toString().length,d=f+c,m=document.createRange();m.setStart(n,i),m.setEnd(o,a);var g=m.collapsed;return{start:g?d:f,end:g?f:d}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=l(e,i),u=l(e,o);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=n(13),l=n(420),c=n(216),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:p?i:o,setOffsets:p?a:s};e.exports=h},function(e,t,n){"use strict";var r=n(7),i=n(121),o=n(56),a=n(11),s=(n(20),n(98)),u=n(2),l=(n(135),function(e){this._currentElement=e,this._stringText=""+e,this._nativeNode=null,this._nativeParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(l.prototype,{mountComponent:function(e,t,n){var r=n._idCounter++,i=" react-text: "+r+" ",u=" /react-text ";if(this._domID=r,this._nativeParent=t,e.useCreateElement){var l=n._ownerDocument,c=l.createComment(i),p=l.createComment(u),h=o(l.createDocumentFragment());return o.queueChild(h,o(c)),this._stringText&&o.queueChild(h,o(l.createTextNode(this._stringText))),o.queueChild(h,o(p)),a.precacheNode(this,c),this._closingComment=p,h}var f=s(this._stringText);return e.renderToStaticMarkup?f:"<!--"+i+"-->"+f+"<!--"+u+"-->"},receiveComponent:function(e){if(e!==this._currentElement){this._currentElement=e;var t=""+e;if(t!==this._stringText){this._stringText=t;var n=this.getNativeNode();i.replaceDelimitedText(n[0],n[1],t)}}},getNativeNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=a.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?u(!1):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._nativeNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,a.uncacheNode(this)}}),e.exports=l},function(e,t,n){"use strict";function r(){this._rootNodeID&&h.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return c.asap(r,this),n}var o=n(7),a=n(92),s=n(122),u=n(124),l=n(11),c=n(27),p=n(2),h=(n(4),{getNativeProps:function(e,t){null!=t.dangerouslySetInnerHTML?p(!1):void 0;var n=o({},a.getNativeProps(e,t),{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?p(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:p(!1),r=r[0]),n=""+r),null==n&&(n="");var o=u.getValue(t);e._wrapperState={initialValue:""+(null!=o?o:n),listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getValue(t);null!=n&&s.setValueForProperty(l.getNodeFromInstance(e),"value",""+n)}});e.exports=h},function(e,t,n){"use strict";function r(e,t){"_nativeNode"in e?void 0:u(!1),"_nativeNode"in t?void 0:u(!1);for(var n=0,r=e;r;r=r._nativeParent)n++;for(var i=0,o=t;o;o=o._nativeParent)i++;for(;n-i>0;)e=e._nativeParent,n--;for(;i-n>0;)t=t._nativeParent,i--;for(var a=n;a--;){if(e===t)return e;e=e._nativeParent,t=t._nativeParent}return null}function i(e,t){"_nativeNode"in e?void 0:u(!1),"_nativeNode"in t?void 0:u(!1);for(;t;){if(t===e)return!0;t=t._nativeParent}return!1}function o(e){return"_nativeNode"in e?void 0:u(!1),e._nativeParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._nativeParent;var i;for(i=r.length;i-->0;)t(r[i],!1,n);for(i=0;i<r.length;i++)t(r[i],!0,n)}function s(e,t,n,i,o){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._nativeParent;for(var u=[];t&&t!==a;)u.push(t),t=t._nativeParent;var l;for(l=0;l<s.length;l++)n(s[l],!0,i);for(l=u.length;l-->0;)n(u[l],!1,o)}var u=n(2);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";var r,i=(n(50),n(93),n(4),{onCreateMarkupForProperty:function(e){r(e)},onSetValueForProperty:function(e,t){r(t)},onDeleteValueForProperty:function(e,t){r(t)}});e.exports=i},function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(71),o={handleTopLevel:function(e,t,n,o){var a=i.extractEvents(e,t,n,o);r(a)}};e.exports=o},function(e,t,n){"use strict";function r(e){for(;e._nativeParent;)e=e._nativeParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),i=n;do e.ancestors.push(i),i=i&&r(i);while(i);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){var t=d(window);e(t)}var s=n(7),u=n(179),l=n(13),c=n(38),p=n(11),h=n(27),f=n(131),d=n(335);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{h.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var r=n(50),i=n(71),o=n(123),a=n(125),s=n(166),u=n(204),l=n(94),c=n(209),p=n(27),h={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:l.injection,NativeComponent:c.injection,Updates:p.injection};e.exports=h},function(e,t,n){"use strict";function r(e,t,n){return{type:p.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:h.getNativeNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:p.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:p.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:p.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){c.processChildrenUpdates(e,t)}var c=n(125),p=(n(20),n(208)),h=(n(33),n(52)),f=n(379),d=(n(22),n(291)),m=n(2),g={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i){var o;return o=d(t),f.updateChildren(e,o,n,r,i),o},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=h.mountComponent(s,t,this,this._nativeContainerInfo,n);s._mountIndex=o++,i.push(u)}return i},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&m(!1);var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&m(!1);var r=[a(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=this._reconcilerUpdateChildren(r,e,i,t,n);if(o||r){var a,s=null,c=0,p=0,f=null;for(a in o)if(o.hasOwnProperty(a)){var d=r&&r[a],m=o[a];d===m?(s=u(s,this.moveChild(d,f,p,c)),c=Math.max(d._mountIndex,c),d._mountIndex=p):(d&&(c=Math.max(d._mountIndex,c)),s=u(s,this._mountChildAtIndex(m,f,p,t,n))),p++,f=h.getNativeNode(m)}for(a in i)i.hasOwnProperty(a)&&(s=u(s,this._unmountChild(r[a],i[a])));s&&l(this,s),this._renderedChildren=o}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){return e._mountIndex<r?i(e,t,n):void 0},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,r,i){var o=h.mountComponent(e,r,this,this._nativeContainerInfo,i);return e._mountIndex=n,this.createChild(e,t,o)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};e.exports=g},function(e,t,n){"use strict";var r=n(2),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){i.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i.isValidOwner(n)?void 0:r(!1);var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=i},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var i=n(7),o=n(199),a=n(38),s=n(94),u=n(206),l=n(96),c={initialize:u.getSelectionInformation,close:u.restoreSelection},p={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[c,p,h],d={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,l.Mixin,d),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(400),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e){"use strict";var t={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},n={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},r={Properties:{},DOMAttributeNamespaces:{xlinkActuate:t.xlink,xlinkArcrole:t.xlink,xlinkHref:t.xlink,xlinkRole:t.xlink,xlinkShow:t.xlink,xlinkTitle:t.xlink,xlinkType:t.xlink,xmlBase:t.xml,xmlLang:t.xml,xmlSpace:t.xml},DOMAttributeNames:{}};Object.keys(n).forEach(function(e){r.Properties[e]=0,n[e]&&(r.DOMAttributeNames[e]=n[e])}),e.exports=r},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(_||null==y||y!==p())return null;var n=r(y);if(!w||!d(w,n)){w=n;var i=c.getPooled(v.select,b,e,t);return i.type="select",i.target=y,a.accumulateTwoPhaseDispatches(i),i}return null}var o=n(32),a=n(72),s=n(13),u=n(11),l=n(206),c=n(34),p=n(181),h=n(217),f=n(36),d=n(183),m=o.topLevelTypes,g=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},y=null,b=null,w=null,_=!1,x=!1,E=f({onSelect:null}),k={eventTypes:v,extractEvents:function(e,t,n,r){if(!x)return null;var o=t?u.getNodeFromInstance(t):window;switch(e){case m.topFocus:(h(o)||"true"===o.contentEditable)&&(y=o,b=t,w=null);break;case m.topBlur:y=null,b=null,w=null;break;case m.topMouseDown:_=!0;break;case m.topContextMenu:case m.topMouseUp:return _=!1,i(n,r);case m.topSelectionChange:if(g)break;case m.topKeyDown:case m.topKeyUp:return i(n,r)}return null},didPutListener:function(e,t){t===E&&(x=!0)}};e.exports=k},function(e,t,n){"use strict";var r=n(32),i=n(179),o=n(72),a=n(11),s=n(406),u=n(407),l=n(34),c=n(410),p=n(412),h=n(95),f=n(409),d=n(413),m=n(414),g=n(74),v=n(415),y=n(22),b=n(129),w=n(2),_=n(36),x=r.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:_({onAbort:!0}),captured:_({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:_({onAnimationEnd:!0}),captured:_({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:_({onAnimationIteration:!0}),captured:_({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:_({onAnimationStart:!0}),captured:_({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:_({onBlur:!0}),captured:_({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:_({onCanPlay:!0}),captured:_({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:_({onCanPlayThrough:!0}),captured:_({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:_({onClick:!0}),captured:_({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:_({onContextMenu:!0}),captured:_({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:_({onCopy:!0}),captured:_({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:_({onCut:!0}),captured:_({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:_({onDoubleClick:!0}),captured:_({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:_({onDrag:!0}),captured:_({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:_({onDragEnd:!0}),captured:_({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:_({onDragEnter:!0}),captured:_({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:_({onDragExit:!0}),captured:_({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:_({onDragLeave:!0}),captured:_({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:_({onDragOver:!0}),captured:_({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:_({onDragStart:!0}),captured:_({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:_({onDrop:!0}),captured:_({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:_({onDurationChange:!0}),captured:_({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:_({onEmptied:!0}),captured:_({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:_({onEncrypted:!0}),captured:_({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:_({onEnded:!0}),captured:_({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:_({onError:!0}),captured:_({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:_({onFocus:!0}),captured:_({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:_({onInput:!0}),captured:_({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:_({onInvalid:!0}),captured:_({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:_({onKeyDown:!0}),captured:_({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:_({onKeyPress:!0}),captured:_({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:_({onKeyUp:!0}),captured:_({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:_({onLoad:!0}),captured:_({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:_({onLoadedData:!0}),captured:_({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:_({onLoadedMetadata:!0}),captured:_({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:_({onLoadStart:!0}),captured:_({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:_({onMouseDown:!0}),captured:_({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:_({onMouseMove:!0}),captured:_({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:_({onMouseOut:!0}),captured:_({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:_({onMouseOver:!0}),captured:_({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:_({onMouseUp:!0}),captured:_({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:_({onPaste:!0}),captured:_({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:_({onPause:!0}),captured:_({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:_({onPlay:!0}),captured:_({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:_({onPlaying:!0}),captured:_({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:_({onProgress:!0}),captured:_({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:_({onRateChange:!0}),captured:_({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:_({onReset:!0}),captured:_({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:_({onScroll:!0}),captured:_({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:_({onSeeked:!0}),captured:_({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:_({onSeeking:!0}),captured:_({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:_({onStalled:!0}),captured:_({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:_({onSubmit:!0}),captured:_({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:_({onSuspend:!0}),captured:_({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:_({onTimeUpdate:!0}),captured:_({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:_({onTouchCancel:!0}),captured:_({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:_({onTouchEnd:!0}),captured:_({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:_({onTouchMove:!0}),captured:_({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:_({onTouchStart:!0}),captured:_({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:_({onTransitionEnd:!0}),captured:_({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:_({onVolumeChange:!0}),captured:_({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:_({onWaiting:!0}),captured:_({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:_({onWheel:!0}),captured:_({onWheelCapture:!0})}}},k={topAbort:E.abort,topAnimationEnd:E.animationEnd,topAnimationIteration:E.animationIteration,topAnimationStart:E.animationStart,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topInvalid:E.invalid,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topTransitionEnd:E.transitionEnd,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var C in k)k[C].dependencies=[C];var A=_({onClick:null}),S={},M={eventTypes:E,extractEvents:function(e,t,n,r){var i=k[e];if(!i)return null;var a;switch(e){case x.topAbort:case x.topCanPlay:case x.topCanPlayThrough:case x.topDurationChange:case x.topEmptied:case x.topEncrypted:case x.topEnded:case x.topError:case x.topInput:case x.topInvalid:case x.topLoad:case x.topLoadedData:case x.topLoadedMetadata:case x.topLoadStart:case x.topPause:case x.topPlay:case x.topPlaying:case x.topProgress:case x.topRateChange:case x.topReset:case x.topSeeked:case x.topSeeking:case x.topStalled:case x.topSubmit:case x.topSuspend:case x.topTimeUpdate:case x.topVolumeChange:case x.topWaiting:a=l;break;case x.topKeyPress:if(0===b(n))return null;case x.topKeyDown:case x.topKeyUp:a=p;break;case x.topBlur:case x.topFocus:a=c;break;case x.topClick:if(2===n.button)return null;case x.topContextMenu:case x.topDoubleClick:case x.topMouseDown:case x.topMouseMove:case x.topMouseOut:case x.topMouseOver:case x.topMouseUp:a=h;break;case x.topDrag:case x.topDragEnd:case x.topDragEnter:case x.topDragExit:case x.topDragLeave:case x.topDragOver:case x.topDragStart:case x.topDrop:a=f;break;case x.topTouchCancel:case x.topTouchEnd:case x.topTouchMove:case x.topTouchStart:a=d;break;case x.topAnimationEnd:case x.topAnimationIteration:case x.topAnimationStart:a=s;break;case x.topTransitionEnd:a=m;break;case x.topScroll:a=g;break;case x.topWheel:a=v;break;case x.topCopy:case x.topCut:case x.topPaste:a=u}a?void 0:w(!1);var y=a.getPooled(i,t,n,r);return o.accumulateTwoPhaseDispatches(y),y},didPutListener:function(e,t){if(t===A){var n=e._rootNodeID,r=a.getNodeFromInstance(e);S[n]||(S[n]=i.listen(r,"click",y))}},willDeleteListener:function(e,t){if(t===A){var n=e._rootNodeID;S[n].remove(),delete S[n]}}};e.exports=M},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(34),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(34),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(34),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(95),o={dataTransfer:null};
i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(74),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(34),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(74),o=n(129),a=n(419),s=n(130),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,u),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(74),o=n(130),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(34),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(95),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e){"use strict";function t(e){for(var t=1,r=0,i=0,o=e.length,a=-4&o;a>i;){for(var s=Math.min(i+4096,a);s>i;i+=4)r+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=n,r%=n}for(;o>i;i++)r+=t+=e.charCodeAt(i);return t%=n,r%=n,t|r<<16}var n=65521;e.exports=t},function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=n(198),o=(n(4),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=o.get(e);return t?(t=a(t),t?i.getNodeFromInstance(t):null):void s(("function"==typeof e.render,!1))}var i=(n(33),n(11)),o=n(127),a=n(215),s=n(2);n(4),e.exports=r},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(129),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e){"use strict";function t(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,r){for(var i=t(e),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,r>=o&&a>=r)return{node:i,offset:r-o};o=a}i=t(n(i))}}e.exports=r},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var o=n(13),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};o.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(98);e.exports=r},function(e,t,n){"use strict";var r=n(207);e.exports=r.renderSubtreeIntoContainer},,function(e,t){"use strict";t.createdStores=[],t.createdActions=[],t.reset=function(){for(;t.createdStores.length;)t.createdStores.pop();for(;t.createdActions.length;)t.createdActions.pop()}},function(e,t,n){"use strict";var r=n(86);e.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(e,t){t=t||this;var n=function(n){i||e.apply(t,n)},r=this,i=!1;return this.emitter.addListener(this.eventLabel,n),function(){i=!0,r.emitter.removeListener(r.eventLabel,n)}},trigger:function(){var e=arguments,t=this.preEmit.apply(this,e);e=void 0===t?e:r.isArguments(t)?t:[].concat(t),this.shouldEmit.apply(this,e)&&this.emitter.emit(this.eventLabel,e)},triggerAsync:function(){var e=arguments,t=this;r.nextTick(function(){t.trigger.apply(t,e)})},deferWith:function(e){var t=this.trigger,n=this,r=function(){t.apply(n,arguments)};this.trigger=function(){e.apply(n,[r].concat([].splice.call(arguments,0)))}}}},function(e,t,n){var r=n(86),i=n(136);e.exports=r.extend({componentWillUnmount:i.stopListeningToAll},i)},,function(e,t,n){var r=n(14);e.exports=function(e,t){e=r(e);var n=t?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+n}},function(e,t,n){var r=n(14);e.exports=function(e){return r(e).split("")}},function(e){e.exports=function(e,t){if(1>t)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n}},function(e,t,n){var r=n(14),i=n(268),o=String.prototype.trimRight;e.exports=function(e,t){return e=r(e),!t&&o?o.call(e):(t=i(t),e.replace(new RegExp(t+"+$"),""))}},function(e,t,n){var r=n(687),i=n(631),o=n(240),a=n(2536),s=r(Object,"keys"),u=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?a(e):o(e)?s(e):[]}:a;e.exports=u},function(e,t,n){var r;(function(i){!function(){"use strict";r=function(){function e(){return"undefined"!=typeof i&&"[object process]"===Object.prototype.toString.call(i)}function t(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function r(e){function t(){var e=n;n=void 0,e()}var n,r=document.createTextNode(""),i=new e(t);i.observe(r,{characterData:!0});var o=0;return function(e){n=e,r.data=o^=1}}var o,a="undefined"!=typeof setTimeout&&setTimeout,s=function(e,t){return setTimeout(e,t)},u=function(e){return clearTimeout(e)},l=function(e){return a(e,0)};if(e())l=function(e){return i.nextTick(e)};else if(o=t())l=r(o);else if(!a){var c=n(1239);s=function(e,t){return c.setTimer(t,e)},u=c.cancelTimer,l=c.runOnLoop||c.runOnContext}return{setTimer:s,clearTimer:u,asap:l}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))}).call(t,n(26))},function(e){e.exports=Backbone},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){var r=function(r){function s(){return i(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return a(s,r),l(s,[{key:"createControlWrapper",value:function(e){return{props:n?n(e,e.children):e,update:this.updateControlState.bind(this)}}},{key:"componentWillMount",value:function(){this.initializeController(u({},this.props))}},{key:"componentWillReceiveProps",value:function(e){_.isEqual(e,this.props)||(this.controller&&this.disposeController(),this.initializeController(u({},e)))}},{key:"componentWillUnmount",value:function(){this.disposeController()}},{key:"updateControlState",value:function(e){this.setState({control:e||this.controller.getState()})}},{key:"render",value:function(){return p["default"].createElement(e,this.state.control)}},{key:"initializeController",value:function(e){var n=this.createControlWrapper(e);this.controller=t(n),this.updateControlState()}},{key:"disposeController",value:function(){this.controller.dispose(),this.controller=null}}]),s}(p["default"].Component);return r}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=s;var c=n(1),p=r(c);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=r(i);t["default"]=o["default"].createActions(["reset","done","error","selectTemplate","resetTemplate","watchVideo","createMap"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(67),s=r(a),u=o["default"].createClass({displayName:"ColorPicker",componentDidMount:function(){var e={value:this.props.value,onChange:this.props.onChange};s["default"](this.refs.el).harmony(e)},componentWillReceiveProps:function(e){s["default"](this.refs.el).harmony("value",e.value)},render:function(){return o["default"].createElement("input",{ref:"el",type:"text",className:"color-picker form-control",placeholder:"color"})}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(220),i=n(1385),o={publishPresentation:function(e){var t=i.getCurrentPresentation();log.debug("Publishing presentation",e),r.publishPresentation(e),Workflows.preloadMaps().then(function(){return t.publish(e)}).then(r.publishPresentationDone,r.publishPresentationFail)},unpublishPresentation:function(){var e=i.getCurrentPresentation();log.debug("Unpublishing presentation"),r.unpublishPresentation(),e.unpublish().then(r.unpublishPresentationDone,r.unpublishPresentationFail)}};e.exports=o},function(e,t,n){e.exports=n(504)},function(e){var t,n;t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=function(e,n){var r;return null==e&&(e=8),null==n&&(n=62),r=function(){var r,i,o;for(o=[],r=0,i=e;i>=0?i>r:r>i;i>=0?r++:r--)o.push(t[0|Math.random()*n]);return o}(),r.join("")},e.exports=n},function(e){var t;t={url:function(e){var t,n;return t=currentProject.owner.get("username"),n="/"+(e.slug||e.title.slug()),e["private"]&&(n+="?token="+e.token),currentProject.pagesUrl(n)},rewriteAssetPaths:function(e,t){var n,r,i,o;for(null==e.blueprint&&(e.blueprint=t+"/data.json"),i=e.slides,n=0,r=i.length;r>n;n++)o=i[n],o.preview=t+"/"+o.preview,o.screenshot=t+"/"+o.screenshot;return e}},e.exports=t},,,,,,,function(e){function t(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?n:t,e>-1&&e%1==0&&t>e}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=t},function(e,t,n){function r(e,t){var n=typeof e;return"number"==n||"symbol"==n||!i(e)&&(o(e)||s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var i=n(113),o=n(453),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){function r(e){return i(e)&&s.call(e,"callee")&&(!l.call(e,"callee")||u.call(e)==o)}var i=n(679),o="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,u=a.toString,l=a.propertyIsEnumerable;e.exports=r},function(e,t,n){function r(e){return"symbol"==typeof e||i(e)&&s.call(e)==o}var i=n(187),o="[object Symbol]",a=Object.prototype,s=a.toString;e.exports=r},function(e){function t(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=t},function(e){function t(e){return!!e&&"object"==typeof e}e.exports=t},,,,,,,,function(e,t,n){"use strict";var r=n(58),i=n(702),o=n(706),a=n(712),s=n(710),u=n(464),l="undefined"!=typeof window&&window.btoa||n(705);e.exports=function(e){return new Promise(function(t,c){var p=e.data,h=e.headers;r.isFormData(p)&&delete h["Content-Type"];var f=new XMLHttpRequest,d="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(e.url)||(f=new window.XDomainRequest,d="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var g=e.auth.username||"",v=e.auth.password||"";h.Authorization="Basic "+l(g+":"+v)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[d]=function(){if(f&&(4===f.readyState||m)&&0!==f.status){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?f.response:f.responseText,o={data:r,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:e,request:f};i(t,c,o),f=null}},f.onerror=function(){c(u("Network Error",e)),f=null},f.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),f=null},r.isStandardBrowserEnv()){var y=n(708),b=e.withCredentials||s(e.url)?y.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in f&&r.forEach(h,function(e,t){"undefined"==typeof p&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(w){if("json"!==f.responseType)throw w}"function"==typeof e.progress&&("post"===e.method||"put"===e.method?f.upload.addEventListener("progress",e.progress):"get"===e.method&&f.addEventListener("progress",e.progress)),void 0===p&&(p=null),f.send(p)})}},function(e,t,n){"use strict";var r=n(701);e.exports=function(e,t,n,i){var o=new Error(e);return r(o,t,n,i)}},function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return new Promise(function(r,i){var o=a["default"][e](t,n);o.then(function(e){r(e.data)})["catch"](function(e){log.error(e),i(e.response.data)})})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(640),a=r(o),s=n(641),u=r(s),l={url:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/api/"+u["default"]+e},request:function(e,t,n){return i(e,t,n)},get:function(e){return i("get",e)},put:function(e,t){return i("put",e,t)},post:function(e,t){return i("post",e,t)},"delete":function(e){return i("delete",e)}};t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=n(1269),d=r(f),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return c["default"].createElement(h["default"],s({type:"toggle"},this.props),c["default"].createElement(d["default"],this.props))}}]),t}(c["default"].Component),g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(c["default"].Component);m.Option=g,t["default"]=m,e.exports=t["default"]},function(e,t,n){(function(r,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(f&&s(),e){f=$("<div>").addClass("map-prompt-container").appendTo(".overlays");var t=u({},e.props,{prompt:e,onClose:s});r(c["default"].createElement(h["default"],t),f.get(0))}map.on("cancel",s),map.trigger("promptopened")}function s(){f&&(i(f.get(0)),f.remove(),f=null),map.off("cancel",s),map.trigger("promptclosed")}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=a;var l=n(1),c=o(l),p=n(1867),h=o(p),f=void 0;e.exports=t["default"]}).call(t,n(102),n(150))},function(e,t,n){"use strict";var r=n(1),i=n(44),o=r.createClass({displayName:"Modal",getInitialState:function(){return{isOpen:!1}},getDefaultProps:function(){return{locked:!1,closeButton:!0}},componentDidMount:function(){setTimeout(this.open,0)},render:function(){var e=this,t=i("modal-overlay",this.props.className,{"is-open":this.state.isOpen,fullscreen:this.props.fullscreen}),n=r.Children.map(this.props.children,function(t){return r.cloneElement(t,{cancel:e.handleClose,close:e.handleClose})});return r.createElement("div",{className:t,onClick:this.closeOnOutsideClick},!this.props.locked&&this.props.closeButton&&r.createElement("button",{className:"close"},"close ",r.createElement("i",{className:"fa fa-times"})),r.createElement("div",{className:"wrap"},r.createElement("div",{ref:"content",className:"content"},n)))},closeOnOutsideClick:function(e){if(!this.props.locked){var t=this.refs.content,n=$.contains(t,e.target);n||this.handleClose()}},handleClose:function(){this.props.beforeClose&&this.props.beforeClose()===!1||(this.close(),setTimeout(this.props.afterClose,500))},open:function(){this.setState({isOpen:!0})},close:function(){this.setState({isOpen:!1})}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(67),s=r(a);jQuery.__foobar2="numericrange";var u=o["default"].createClass({displayName:"NumericRange",getDefaultProps:function(){return{min:0,max:100}},componentDidMount:function(){var e={type:this.props.type,value:this.props.value,min:this.props.min,max:this.props.max,precision:this.props.precision,format:this.props.format,onChange:this.props.onChange};s["default"](this.refs.el).range(e)},componentWillReceiveProps:function(e){s["default"](this.refs.el).range("value",e.value)},render:function(){return o["default"].createElement("input",{ref:"el",type:"text"})}});t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";function n(e){return Boolean(e)||e===!1||0===e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=r(i);t["default"]=o["default"].createActions(["addSlide","removeSlide","openSlide","updateSlide","prev","next","reorder","save","saveDone","saveFail","resetStatus","exit"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){i.extend(this,e)}var i=n(28),o=n(280),a=n(175);r.prototype.template=function(e,t){return o.template(e,t)},r.prototype.render=function(e){var t=a.get(e),n=i.last(arguments);return i.defaults(n,t.defaults),t.render.apply(this,i.rest(arguments))},r.prototype.extend=i.extend,r.prototype.defaults=i.defaults,e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=new s(n);return o.call(e,t,r)||e}function i(e){return a.get(e)}var o=n(279),a=n(175),s=n(474);n(477),e.exports={render:r,get:i}},function(e,t,n){"use strict";function r(){this.routes=[]}function i(e,t,n){this.route="string"==typeof e?a(e):e,this.callback=t,this.defaults=n}function o(e){return e?decodeURIComponent(e):void 0}function a(e){return e=e.replace(h,"\\$&").replace(l,"(?:$1)?").replace(c,function(e,t){return t?e:"([^/?]+)"}).replace(p,"([^?]*?)").concat("(?:\\?(.*))?"),new RegExp("^"+e+"$")}var s=n(28),u=n(231),l=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,p=/\*\w+/g,h=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.prototype.add=function(e,t,n){return this.routes.push(new i(e,t,n)),this},r.prototype.call=function(e,t,n){for(var r,i=0;i<this.routes.length;i++)if((r=this.routes[i]).test(e))return r.call(e,t,n||this)},i.prototype.test=function(e){return this.route.test(e)},i.prototype.call=function(e,t,n){var r=this.route.exec(e).slice(1);return r=s.map(r,o),r.push(s.defaults({},t,u.parse(r.pop()),this.defaults)),this.callback.apply(n,r)},e.exports=r},function(e,t,n){"use strict";var r=n(280),i=n(175).helper;n(480)(i,r),n(479)(i,r),n(481)(i,r),n(483)(i,r),n(484)(i,r),n(485)(i,r),n(482)(i,r),n(478)(i,r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return t.src="//embeds.audioboom.com/boos/"+e+"/embed/v3",t.width="100%",t.height="150",a["default"](t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){e.add("audioboom/:id",i)};var o=n(90),a=r(o);e.exports=t["default"]},function(e){"use strict";e.exports=function(e,t){function n(e,t){var n="http://insightmaker.com/insight/"+e;return t.href=n,t.text=t.title||n,r(t)}var r=t.t('<a href="<%= href %>" target="lightbox"><%- text %></a>');e.add("insightmaker/:id",n)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e,t){e&&"field"!==e&&"selector"!==e||(e=t.title);var i=!!Attributes.get(e),a=i?n(e,t):r(e,t);return a=a.map(function(e){var n=e.label,r=e.selector,i=e.url,a=t.mode;return i=i||"#",o["default"].createElement("li",null,o["default"].createElement("a",{href:i,"data-selector":r,"data-showcase-mode":a},n))}),s["default"].renderToStaticMarkup(o["default"].createElement("ul",null,a))}function n(e){var t=Attributes.get(e);if(t){var n=t.choices(),r=/tags/.test(e)?"~=":"=";return p(n).map(function(t){var n=t,i=Selector.prepareFieldSelector(e,r,t);return{label:n,selector:i}})}return[]}function r(e,t){if(!currentScene||!currentScene.ready||!e)return[];switch(e){case"elements":return a(h("elements"),t);case"connections":return a(h("connections"),t);case"loops":return i(t);default:return a(f(e),t)}}function i(){var e=h("loops");return e.sort(function(e,t){var n=void 0,r=void 0,i=e.label().split(" ")[0],o=t.label().split(" ")[0];if((n=i.match(u))&&(r=o.match(u))){var a=Number(n[1]),s=Number(r[1]);return a-s||n[2].localeCompare(r[2])}if((n=i.match(l))&&(r=o.match(l))){var c=Number(n[2]),p=Number(r[2]);return n[1].localeCompare(r[1])||c-p}return i.localeCompare(o)}),c(e)}function a(e){return c(p(e))}function c(e){return e.map(function(e){var t=e.toString(),n=e.getDirectSelector({informal:!0});return{label:t,selector:n}})}function p(e){return e.sort(function(e,t){return e.toString().localeCompare(t.toString())})}function h(e){return currentScene.datasets.primary[e].models.slice(0)}function f(e){return Selector.select(e,currentScene.datasets.primary).models.slice(0)}e.add("list(/:target)",t)};var i=n(1),o=r(i),a=n(262),s=r(a),u=/^(\d+)(.*)/,l=/^(\D+)(\d+)/;e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){var n="//www.slideshare.net/slideshow/embed_code/"+e;return o(i({},t,{src:n}))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(90);e.exports=function(e){e.add("slideshare/:id",r,{aspect:"sd"})}},function(e,t,n){"use strict";var r=n(231),i=n(90);e.exports=function(e,t){function n(e,n){var r="https://api.soundcloud.com/tracks/"+e+"?"+s(n),i="https://w.soundcloud.com/player/?url="+t.encode(r);return n.visual?a(i,n):o(i,n)}function o(e){var t={src:e,width:"100%",height:166};return i(t)}function a(e){var t={src:e,aspect:"sq"};return i(t)}function s(e){var t={visual:u(e.visual),auto_play:u(e.autoplay),hide_related:!u(e.related),show_comments:u(e.comments),show_user:u(e.user),show_reposts:u(e.reposts)};return r.stringify(t)}function u(e){return!!e}e.add("soundcloud/:id",n,{visual:!1})}},function(e,t,n){"use strict";function r(e,t){var n="//speakerdeck.com/player/"+e;return o(i({},t,{src:n}))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(90);e.exports=function(e){e.add("speakerdeck/:id",r,{aspect:"sd"})}},function(e,t,n){"use strict";function r(e,t){var n="//player.vimeo.com/video/"+e;return o(i({},t,{src:n}))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(90);e.exports=function(e){e.add("vimeo/:id",r,{aspect:"hd",title:0,byline:0,portrait:0})}},function(e,t,n){"use strict";function r(e,t){var n="//www.youtube.com/embed/"+e;return o(i({},t,{src:n}))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(90);e.exports=function(e){e.add("youtube/:id",r,{aspect:"hd"})}},,,,,,,,,,,,,,,,,,function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function i(e){var t,r,i,o,a,s,u=e.length;a=n(e),s=new c(3*u/4-a),i=a>0?u-4:u;var p=0;for(t=0,r=0;i>t;t+=4,r+=3)o=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],s[p++]=o>>16&255,s[p++]=o>>8&255,s[p++]=255&o;return 2===a?(o=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,s[p++]=255&o):1===a&&(o=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,s[p++]=o>>8&255,s[p++]=255&o),s}function o(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function a(e,t,n){for(var r,i=[],a=t;n>a;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(o(r));return i.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",o=[],s=16383,l=0,c=n-r;c>l;l+=s)o.push(a(e,l,l+s>c?c:l+s));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=s;for(var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,f=p.length;f>h;++h)u[h]=p[h],l[p.charCodeAt(h)]=h;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t,n){function r(e,t){return i(e,t||r.defaults)}function i(e,t){var n=v("<body>").html(e);return u(n,o(t)),n.html()}function o(e){var t={};t.protocols=e.protocols,t.elements=a(e.elements),t.attributes={};for(var n in e.attributes){var r=e.attributes[n];"all"!=n&&(r=r.concat(e.attributes.all)),t.attributes[n]=a(r)}return t}function a(e){return new RegExp("^("+e.join("|")+")$","i")}function s(e,t){return t.elements.test(f(e))&&l(e)?(c(e,t),u(e,t),e):void e.remove()}function u(e,t){e.children().each(function(){s(v(this),t)})}function l(e){var t=y[d(e)];return!t||t.test(f(e.parent()))}function c(e,t){var n,r=d(e),i=m(e),o=t.attributes[r]||t.attributes.all;for(var a in i)i.hasOwnProperty(a)&&(n=g(i,a))&&(o.test(n)?p(e,n,t):e.removeAttr(n))}function p(e,t,n){b.test(t)&&e.attr(t,h(e.attr(t),n))}function h(e,t){return e&&t.protocols.test(e)?e:""}function f(e){return e[0].tagName||e[0].name}function d(e){return f(e).toLowerCase()}function m(e){return e[0].attributes||e[0].attribs}function g(e,t){if(Number(t)==t){var n=e[String(t)];return n&&n.name}return t}var v=n(67);r.url=function(e,t){return h(e,t||r.defaults)},r._sanitizeAttributes=c,r._getAttributeName=g,r.defaults={elements:["a","aside","b","blockquote","br","caption","code","del","dd","dfn","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","ol","p","pre","q","samp","span","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"],attributes:{a:["href"],img:["src"],div:["itemscope","itemtype"],all:["abbr","accept","accept-charset","accesskey","action","align","alt","axis","border","cellpadding","cellspacing","char","charoff","charset","checked","cite","clear","cols","colspan","color","compact","coords","datetime","dir","disabled","enctype","for","frame","headers","height","hreflang","hspace","ismap","label","lang","longdesc","maxlength","media","method","multiple","name","nohref","noshade","nowrap","prompt","readonly","rel","rev","rows","rowspan","rules","scope","selected","shape","size","span","start","summary","tabindex","target","title","type","usemap","valign","value","vspace","width","itemprop"]},protocols:/^(http|https|mailto|#|\/)/i};var y={};y.thead=y.tbody=y.tfoot=/^table$/i,y.tr=/^(table|thead|tbody|tfoot)$/i,y.th=y.td=/^tr$/i,y.li=/^(ul|ol)$/i;var b=/^(src|href)$/;e.exports=r},function(e,t,n){var r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=n(278),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.image=function(e,n){var r;return(r=/youtube\.com\/embed\/([^?\/]+)/.exec(e))?this.widget("youtube/"+r[1],n):(r=/player\.vimeo\.com\/video\/([^?\/]+)/.exec(e))?this.widget("vimeo/"+r[1],n):t.__super__.image.apply(this,arguments)},t.prototype.code=function(e,t){return t=t?' lang="'+t+'"':"","<pre"+t+"><code>"+e+"</code></pre>"},t.prototype.widget=function(e,t){return t=t?' title="'+t+'"':"",'<code lang="widget"'+t+">"+e+"</code>"},t.prototype.latex=function(e){return'<code lang="latex">'+e+"</code>"},t}(i.Renderer),e.exports=r},,,,,,,function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?i-1:0,h=n?-1:1,f=e[t+p];for(p+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+p],p+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?0/0:(f?-1:1)*(1/0);a+=Math.pow(2,r),o-=l}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+p>=1?h/u:h*Math.pow(2,1-p),t*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+f]=255&a,f+=d,a/=256,l-=8);e[n+f-d]|=128*m}},function(e,t,n){(function(t){var r=n(68),i=n(517),o=n(520),a=n(524),s=n(69),u=function(e,t,n){s.clearNode(t);var r=new i(n),u=a(e,r),l=o(u,e,r).toNode();t.appendChild(l)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof t&&t.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),u=function(){throw new r("KaTeX doesn't work in quirks mode.")});var l=function(e,t){var n=new i(t),r=a(e,n);return o(r,e,n).toMarkup()};e.exports={render:u,renderToString:l,ParseError:r}}).call(t,n(3))},function(e,t,n){function r(e){this._input=e}function i(e,t,n){this.text=e,this.data=t,this.position=n}var o=n(68),a=[/^[\/|@.""`0-9a-zA-Z]/,/^[*+-]/,/^[=<>:]/,/^[,;]/,/^['\^_{}]/,/^[(\[]/,/^[)\]?!]/,/^~/],s=[/^[a-zA-Z0-9`!@*()-=+\[\]'";:?\/.,]/,/^[{}]/,/^~/],u=/^\s*/,l=/^( +|\\  +)/,c=/^\\(?:[a-zA-Z]+|.)/;r.prototype._innerLex=function(e,t,n){var r,a=this._input.slice(e);
if(n)r=a.match(u)[0],e+=r.length,a=a.slice(r.length);else if(r=a.match(l),null!==r)return new i(" ",null,e+r[0].length);if(0===a.length)return new i("EOF",null,e);var s;if(s=a.match(c))return new i(s[0],null,e+s[0].length);for(var p=0;p<t.length;p++){var h=t[p];if(s=a.match(h))return new i(s[0],null,e+s[0].length)}throw new o("Unexpected character: '"+a[0]+"'",this,e)};var p=/^(#[a-z0-9]+|[a-z]+)/i;r.prototype._innerLexColor=function(e){var t=this._input.slice(e),n=t.match(u)[0];e+=n.length,t=t.slice(n.length);var r;if(r=t.match(p))return new i(r[0],null,e+r[0].length);throw new o("Invalid color",this,e)};var h=/^(-?)\s*(\d+(?:\.\d*)?|\.\d+)\s*([a-z]{2})/;r.prototype._innerLexSize=function(e){var t=this._input.slice(e),n=t.match(u)[0];e+=n.length,t=t.slice(n.length);var r;if(r=t.match(h)){var a=r[3];if("em"!==a&&"ex"!==a)throw new o("Invalid unit: '"+a+"'",this,e);return new i(r[0],{number:+(r[1]+r[2]),unit:a},e+r[0].length)}throw new o("Invalid size",this,e)},r.prototype._innerLexWhitespace=function(e){var t=this._input.slice(e),n=t.match(u)[0];return e+=n.length,new i(n,null,e)},r.prototype.lex=function(e,t){return"math"===t?this._innerLex(e,a,!0):"text"===t?this._innerLex(e,s,!1):"color"===t?this._innerLexColor(e):"size"===t?this._innerLexSize(e):"whitespace"===t?this._innerLexWhitespace(e):void 0},e.exports=r},function(e){function t(e,t,n,r,i){this.style=e,this.color=n,this.size=t,void 0===r&&(r=e),this.parentStyle=r,void 0===i&&(i=t),this.parentSize=i}t.prototype.withStyle=function(e){return new t(e,this.size,this.color,this.style,this.size)},t.prototype.withSize=function(e){return new t(this.style,e,this.color,this.style,this.size)},t.prototype.withColor=function(e){return new t(this.style,this.size,e,this.style,this.size)},t.prototype.reset=function(){return new t(this.style,this.size,this.color,this.style,this.size)};var n={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd"};t.prototype.getColor=function(){return n[this.color]||this.color},e.exports=t},function(e,t,n){function r(e,t){this.lexer=new u(e),this.settings=t}function i(e,t,n){this.type=e,this.value=t,this.mode=n}function o(e,t){this.result=e,this.position=t}function a(e,t){this.result=e,this.isFunction=t}var s=n(522),u=n(514),l=n(145),c=n(69),p=n(68);r.prototype.expect=function(e,t){if(e.text!==t)throw new p("Expected '"+t+"', got '"+e.text+"'",this.lexer,e.position)},r.prototype.parse=function(){var e=this.parseInput(0,"math");return e.result},r.prototype.parseInput=function(e,t){var n=this.parseExpression(e,t,!1,null),r=this.lexer.lex(n.position,t);return this.expect(r,"EOF"),n},r.prototype.parseExpression=function(e,t,n,r){for(var i=[];;){var a=this.lexer.lex(e,t);if(null!=r&&a.text===r)break;var s=this.parseAtom(e,t);if(!s)break;if(n&&"infix"===s.result.type)break;i.push(s.result),e=s.position}return new o(this.handleInfixNodes(i,t),e)},r.prototype.handleInfixNodes=function(e,t){for(var n,r,o=-1,a=0;a<e.length;a++){var u=e[a];if("infix"===u.type){if(-1!==o)throw new p("only one infix operator per group",this.lexer,-1);o=a,r=u.value.replaceWith,n=s.funcs[r]}}if(-1!==o){var l,c,h=e.slice(0,o),f=e.slice(o+1);l=1===h.length&&"ordgroup"===h[0].type?h[0]:new i("ordgroup",h,t),c=1===f.length&&"ordgroup"===f[0].type?f[0]:new i("ordgroup",f,t);var d=n.handler(r,l,c);return[new i(d.type,d,t)]}return e};var h=1;r.prototype.handleSupSubscript=function(e,t,n,r){var i=this.parseGroup(e,t);if(i){if(i.isFunction){var o=s.funcs[i.result.result].greediness;if(o>h)return this.parseFunction(e,t);throw new p("Got function '"+i.result.result+"' with no arguments as "+r,this.lexer,e)}return i.result}throw new p("Expected group after '"+n+"'",this.lexer,e)},r.prototype.parseAtom=function(e,t){var n=this.parseImplicitGroup(e,t);if("text"===t)return n;var r;n?r=n.position:(r=e,n=void 0);for(var a,s,u;;){var l=this.lexer.lex(r,t);if("^"===l.text){if(a)throw new p("Double superscript",this.lexer,r);u=this.handleSupSubscript(l.position,t,l.text,"superscript"),r=u.position,a=u.result}else if("_"===l.text){if(s)throw new p("Double subscript",this.lexer,r);u=this.handleSupSubscript(l.position,t,l.text,"subscript"),r=u.position,s=u.result}else{if("'"!==l.text)break;var c=new i("textord","\\prime",t),h=[c];for(r=l.position;"'"===(l=this.lexer.lex(r,t)).text;)h.push(c),r=l.position;a=new i("ordgroup",h,t)}}return a||s?new o(new i("supsub",{base:n&&n.result,sup:a,sub:s},t),r):n};var f=["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],d=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"];r.prototype.parseImplicitGroup=function(e,t){var n=this.parseSymbol(e,t);if(!n||!n.result)return this.parseFunction(e,t);var r,a=n.result.result;if("\\left"===a){var s=this.parseFunction(e,t);r=this.parseExpression(s.position,t,!1,"}");var u=this.parseSymbol(r.position,t);if(u&&"\\right"===u.result.result){var l=this.parseFunction(r.position,t);return new o(new i("leftright",{body:r.result,left:s.result.value.value,right:l.result.value.value},t),l.position)}throw new p("Missing \\right",this.lexer,r.position)}return"\\right"===a?null:c.contains(f,a)?(r=this.parseExpression(n.result.position,t,!1,"}"),new o(new i("sizing",{size:"size"+(c.indexOf(f,a)+1),value:r.result},t),r.position)):c.contains(d,a)?(r=this.parseExpression(n.result.position,t,!0,"}"),new o(new i("styling",{style:a.slice(1,a.length-5),value:r.result},t),r.position)):this.parseFunction(e,t)},r.prototype.parseFunction=function(e,t){var n=this.parseGroup(e,t);if(n){if(n.isFunction){var r=n.result.result,a=s.funcs[r];if("text"===t&&!a.allowedInText)throw new p("Can't use function '"+r+"' in text mode",this.lexer,n.position);var u,l=n.result.position,c=a.numArgs+a.numOptionalArgs;if(c>0){for(var h=a.greediness,f=[r],d=[l],m=0;c>m;m++){var g,v=a.argTypes&&a.argTypes[m];if(m<a.numOptionalArgs){if(g=v?this.parseSpecialGroup(l,v,t,!0):this.parseOptionalGroup(l,t),!g){f.push(null),d.push(l);continue}}else if(g=v?this.parseSpecialGroup(l,v,t):this.parseGroup(l,t),!g)throw new p("Expected group after '"+n.result.result+"'",this.lexer,l);var y;if(g.isFunction){var b=s.funcs[g.result.result].greediness;if(!(b>h))throw new p("Got function '"+g.result.result+"' as argument to function '"+n.result.result+"'",this.lexer,g.result.position-1);y=this.parseFunction(l,t)}else y=g.result;f.push(y.result),d.push(y.position),l=y.position}f.push(d),u=s.funcs[r].handler.apply(this,f)}else u=s.funcs[r].handler.apply(this,[r]);return new o(new i(u.type,u,t),l)}return n.result}return null},r.prototype.parseSpecialGroup=function(e,t,n,r){if("original"===t&&(t=n),"color"===t||"size"===t){var s=this.lexer.lex(e,n);if(r&&"["!==s.text)return null;this.expect(s,r?"[":"{");var u,l=this.lexer.lex(s.position,t);u="color"===t?l.text:l.data;var c=this.lexer.lex(l.position,n);return this.expect(c,r?"]":"}"),new a(new o(new i(t,u,n),c.position),!1)}if("text"===t){var p=this.lexer.lex(e,"whitespace");e=p.position}return r?this.parseOptionalGroup(e,t):this.parseGroup(e,t)},r.prototype.parseGroup=function(e,t){var n=this.lexer.lex(e,t);if("{"===n.text){var r=this.parseExpression(n.position,t,!1,"}"),s=this.lexer.lex(r.position,t);return this.expect(s,"}"),new a(new o(new i("ordgroup",r.result,t),s.position),!1)}return this.parseSymbol(e,t)},r.prototype.parseOptionalGroup=function(e,t){var n=this.lexer.lex(e,t);if("["===n.text){var r=this.parseExpression(n.position,t,!1,"]"),s=this.lexer.lex(r.position,t);return this.expect(s,"]"),new a(new o(new i("ordgroup",r.result,t),s.position),!1)}return null},r.prototype.parseSymbol=function(e,t){var n=this.lexer.lex(e,t);return s.funcs[n.text]?new a(new o(n.text,n.position),!0):l[t][n.text]?new a(new o(new i(l[t][n.text].group,n.text,t),n.position),!1):null},e.exports=r},function(e){function t(e,t){return void 0===e?t:e}function n(e){e=e||{},this.displayMode=t(e.displayMode,!1)}e.exports=n},function(e,t,n){var r=n(515),i=n(68),o=n(184),a=n(144),s=n(521),u=n(288),l=n(185),c=n(69),p=a.makeSpan,h=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];r.push(b(o,t,n)),n=o}return r},f={mathord:"mord",textord:"mord",bin:"mbin",rel:"mrel",text:"mord",open:"mopen",close:"mclose",inner:"minner",genfrac:"minner",spacing:"mord",punct:"mpunct",ordgroup:"mord",op:"mop",katex:"mord",overline:"mord",rule:"mord",leftright:"minner",sqrt:"mord",accent:"mord"},d=function(e){return null==e?f.mathord:"supsub"===e.type?d(e.value.base):"llap"===e.type||"rlap"===e.type?d(e.value):"color"===e.type?d(e.value.value):"sizing"===e.type?d(e.value.value):"styling"===e.type?d(e.value.value):"delimsizing"===e.type?f[e.value.delimType]:f[e.type]},m=function(e,t){return!!e&&("op"===e.type?e.value.limits&&t.style.size===o.DISPLAY.size:"accent"===e.type?v(e.value.base):null)},g=function(e){return!!e&&("ordgroup"===e.type?1===e.value.length?g(e.value[0]):e:"color"===e.type&&1===e.value.value.length?g(e.value.value[0]):e)},v=function(e){var t=g(e);return"mathord"===t.type||"textord"===t.type||"bin"===t.type||"rel"===t.type||"inner"===t.type||"open"===t.type||"close"===t.type||"punct"===t.type},y={mathord:function(e,t){return a.mathit(e.value,e.mode,t.getColor(),["mord"])},textord:function(e,t){return a.mathrm(e.value,e.mode,t.getColor(),["mord"])},bin:function(e,t,n){for(var r="mbin",i=n;i&&"color"==i.type;){var o=i.value.value;i=o[o.length-1]}return n&&!c.contains(["mbin","mopen","mrel","mop","mpunct"],d(i))||(e.type="textord",r="mord"),a.mathrm(e.value,e.mode,t.getColor(),[r])},rel:function(e,t){return a.mathrm(e.value,e.mode,t.getColor(),["mrel"])},open:function(e,t){return a.mathrm(e.value,e.mode,t.getColor(),["mopen"])},close:function(e,t){return a.mathrm(e.value,e.mode,t.getColor(),["mclose"])},inner:function(e,t){return a.mathrm(e.value,e.mode,t.getColor(),["minner"])},punct:function(e,t){return a.mathrm(e.value,e.mode,t.getColor(),["mpunct"])},ordgroup:function(e,t){return p(["mord",t.style.cls()],h(e.value,t.reset()))},text:function(e,t){return p(["text","mord",t.style.cls()],h(e.value.body,t.reset()))},color:function(e,t,n){var r=h(e.value.value,t.withColor(e.value.color),n);return new a.makeFragment(r)},supsub:function(e,t,n){if(m(e.value.base,t))return y[e.value.base.type](e,t,n);var r,i,s,c,h=b(e.value.base,t.reset());e.value.sup&&(s=b(e.value.sup,t.withStyle(t.style.sup())),r=p([t.style.reset(),t.style.sup().cls()],[s])),e.value.sub&&(c=b(e.value.sub,t.withStyle(t.style.sub())),i=p([t.style.reset(),t.style.sub().cls()],[c]));var f,g;v(e.value.base)?(f=0,g=0):(f=h.height-l.metrics.supDrop,g=h.depth+l.metrics.subDrop);var w;w=t.style===o.DISPLAY?l.metrics.sup1:t.style.cramped?l.metrics.sup3:l.metrics.sup2;var _,x=o.TEXT.sizeMultiplier*t.style.sizeMultiplier,E=.5/l.metrics.ptPerEm/x+"em";if(e.value.sup)if(e.value.sub){f=Math.max(f,w,s.depth+.25*l.metrics.xHeight),g=Math.max(g,l.metrics.sub2);var k=l.metrics.defaultRuleThickness;if(f-s.depth-(c.height-g)<4*k){g=4*k-(f-s.depth)+c.height;var C=.8*l.metrics.xHeight-(f-s.depth);C>0&&(f+=C,g-=C)}_=a.makeVList([{type:"elem",elem:i,shift:g},{type:"elem",elem:r,shift:-f}],"individualShift",null,t),h instanceof u.symbolNode&&(_.children[0].style.marginLeft=-h.italic+"em"),_.children[0].style.marginRight=E,_.children[1].style.marginRight=E}else f=Math.max(f,w,s.depth+.25*l.metrics.xHeight),_=a.makeVList([{type:"elem",elem:r}],"shift",-f,t),_.children[0].style.marginRight=E;else g=Math.max(g,l.metrics.sub1,c.height-.8*l.metrics.xHeight),_=a.makeVList([{type:"elem",elem:i}],"shift",g,t),_.children[0].style.marginRight=E,h instanceof u.symbolNode&&(_.children[0].style.marginLeft=-h.italic+"em");return p([d(e.value.base)],[h,_])},genfrac:function(e,t){var n=t.style;"display"===e.value.size?n=o.DISPLAY:"text"===e.value.size&&(n=o.TEXT);var r,i=n.fracNum(),u=n.fracDen(),c=b(e.value.numer,t.withStyle(i)),h=p([n.reset(),i.cls()],[c]),f=b(e.value.denom,t.withStyle(u)),d=p([n.reset(),u.cls()],[f]);r=e.value.hasBarLine?l.metrics.defaultRuleThickness/t.style.sizeMultiplier:0;var m,g,v;n.size===o.DISPLAY.size?(m=l.metrics.num1,g=r>0?3*r:7*l.metrics.defaultRuleThickness,v=l.metrics.denom1):(r>0?(m=l.metrics.num2,g=r):(m=l.metrics.num3,g=3*l.metrics.defaultRuleThickness),v=l.metrics.denom2);var y;if(0===r){var w=m-c.depth-(f.height-v);g>w&&(m+=.5*(g-w),v+=.5*(g-w)),y=a.makeVList([{type:"elem",elem:d,shift:v},{type:"elem",elem:h,shift:-m}],"individualShift",null,t)}else{var _=l.metrics.axisHeight;m-c.depth-(_+.5*r)<g&&(m+=g-(m-c.depth-(_+.5*r))),_-.5*r-(f.height-v)<g&&(v+=g-(_-.5*r-(f.height-v)));var x=p([t.style.reset(),o.TEXT.cls(),"frac-line"]);x.height=r;var E=-(_-.5*r);y=a.makeVList([{type:"elem",elem:d,shift:v},{type:"elem",elem:x,shift:E},{type:"elem",elem:h,shift:-m}],"individualShift",null,t)}y.height*=n.sizeMultiplier/t.style.sizeMultiplier,y.depth*=n.sizeMultiplier/t.style.sizeMultiplier;var k,C=[p(["mfrac"],[y])];return k=n.size===o.DISPLAY.size?l.metrics.delim1:l.metrics.getDelim2(n),null!=e.value.leftDelim&&C.unshift(s.customSizedDelim(e.value.leftDelim,k,!0,t.withStyle(n),e.mode)),null!=e.value.rightDelim&&C.push(s.customSizedDelim(e.value.rightDelim,k,!0,t.withStyle(n),e.mode)),p(["minner",t.style.reset(),n.cls()],C,t.getColor())},spacing:function(e){return"\\ "===e.value||"\\space"===e.value||" "===e.value||"~"===e.value?p(["mord","mspace"],[a.mathrm(e.value,e.mode)]):p(["mord","mspace",a.spacingFunctions[e.value].className])},llap:function(e,t){var n=p(["inner"],[b(e.value.body,t.reset())]),r=p(["fix"],[]);return p(["llap",t.style.cls()],[n,r])},rlap:function(e,t){var n=p(["inner"],[b(e.value.body,t.reset())]),r=p(["fix"],[]);return p(["rlap",t.style.cls()],[n,r])},op:function(e,t){var n,r,i=!1;"supsub"===e.type&&(n=e.value.sup,r=e.value.sub,e=e.value.base,i=!0);var s=["\\smallint"],u=!1;t.style.size===o.DISPLAY.size&&e.value.symbol&&!c.contains(s,e.value.body)&&(u=!0);var h,f=0,d=0;if(e.value.symbol){var m=u?"Size2-Regular":"Size1-Regular";h=a.makeSymbol(e.value.body,m,"math",t.getColor(),["op-symbol",u?"large-op":"small-op","mop"]),f=(h.height-h.depth)/2-l.metrics.axisHeight*t.style.sizeMultiplier,d=h.italic}else{for(var g=[],v=1;v<e.value.body.length;v++)g.push(a.mathrm(e.value.body[v],e.mode));h=p(["mop"],g,t.getColor())}if(i){h=p([],[h]);var y,w,_,x;if(n){var E=b(n,t.withStyle(t.style.sup()));y=p([t.style.reset(),t.style.sup().cls()],[E]),w=Math.max(l.metrics.bigOpSpacing1,l.metrics.bigOpSpacing3-E.depth)}if(r){var k=b(r,t.withStyle(t.style.sub()));_=p([t.style.reset(),t.style.sub().cls()],[k]),x=Math.max(l.metrics.bigOpSpacing2,l.metrics.bigOpSpacing4-k.height)}var C,A,S;if(n)if(r){if(!n&&!r)return h;S=l.metrics.bigOpSpacing5+_.height+_.depth+x+h.depth+f,C=a.makeVList([{type:"kern",size:l.metrics.bigOpSpacing5},{type:"elem",elem:_},{type:"kern",size:x},{type:"elem",elem:h},{type:"kern",size:w},{type:"elem",elem:y},{type:"kern",size:l.metrics.bigOpSpacing5}],"bottom",S,t),C.children[0].style.marginLeft=-d+"em",C.children[2].style.marginLeft=d+"em"}else S=h.depth+f,C=a.makeVList([{type:"elem",elem:h},{type:"kern",size:w},{type:"elem",elem:y},{type:"kern",size:l.metrics.bigOpSpacing5}],"bottom",S,t),C.children[1].style.marginLeft=d+"em";else A=h.height-f,C=a.makeVList([{type:"kern",size:l.metrics.bigOpSpacing5},{type:"elem",elem:_},{type:"kern",size:x},{type:"elem",elem:h}],"top",A,t),C.children[0].style.marginLeft=-d+"em";return p(["mop","op-limits"],[C])}return e.value.symbol&&(h.style.top=f+"em"),h},katex:function(e,t){var n=p(["k"],[a.mathrm("K",e.mode)]),r=p(["a"],[a.mathrm("A",e.mode)]);r.height=.75*(r.height+.2),r.depth=.75*(r.height-.2);var i=p(["t"],[a.mathrm("T",e.mode)]),o=p(["e"],[a.mathrm("E",e.mode)]);o.height=o.height-.2155,o.depth=o.depth+.2155;var s=p(["x"],[a.mathrm("X",e.mode)]);return p(["katex-logo"],[n,r,i,o,s],t.getColor())},overline:function(e,t){var n=b(e.value.body,t.withStyle(t.style.cramp())),r=l.metrics.defaultRuleThickness/t.style.sizeMultiplier,i=p([t.style.reset(),o.TEXT.cls(),"overline-line"]);i.height=r,i.maxFontSize=1;var s=a.makeVList([{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}],"firstBaseline",null,t);return p(["overline","mord"],[s],t.getColor())},sqrt:function(e,t){var n=b(e.value.body,t.withStyle(t.style.cramp())),r=l.metrics.defaultRuleThickness/t.style.sizeMultiplier,i=p([t.style.reset(),o.TEXT.cls(),"sqrt-line"],[],t.getColor());i.height=r,i.maxFontSize=1;var u=r;t.style.id<o.TEXT.id&&(u=l.metrics.xHeight);var c=r+u/4,h=(n.height+n.depth)*t.style.sizeMultiplier,f=h+c+r,d=p(["sqrt-sign"],[s.customSizedDelim("\\surd",f,!1,t,e.mode)],t.getColor()),m=d.height+d.depth-r;m>n.height+n.depth+c&&(c=(c+m-n.height-n.depth)/2);var g=-(n.height+c+r)+d.height;d.style.top=g+"em",d.height-=g,d.depth+=g;var v;return v=0===n.height&&0===n.depth?p():a.makeVList([{type:"elem",elem:n},{type:"kern",size:c},{type:"elem",elem:i},{type:"kern",size:r}],"firstBaseline",null,t),p(["sqrt","mord"],[d,v])},sizing:function(e,t,n){var r=h(e.value.value,t.withSize(e.value.size),n),i=p(["mord"],[p(["sizing","reset-"+t.size,e.value.size,t.style.cls()],r)]),o=a.sizingMultiplier[e.value.size];return i.maxFontSize=o*t.style.sizeMultiplier,i},styling:function(e,t,n){var r={display:o.DISPLAY,text:o.TEXT,script:o.SCRIPT,scriptscript:o.SCRIPTSCRIPT},i=r[e.value.style],a=h(e.value.value,t.withStyle(i),n);return p([t.style.reset(),i.cls()],a)},delimsizing:function(e,t){var n=e.value.value;return"."===n?p([f[e.value.delimType]]):p([f[e.value.delimType]],[s.sizedDelim(n,e.value.size,t,e.mode)])},leftright:function(e,t){for(var n=h(e.value.body,t.reset()),r=0,i=0,o=0;o<n.length;o++)r=Math.max(n[o].height,r),i=Math.max(n[o].depth,i);r*=t.style.sizeMultiplier,i*=t.style.sizeMultiplier;var a;a="."===e.value.left?p(["nulldelimiter"]):s.leftRightDelim(e.value.left,r,i,t,e.mode),n.unshift(a);var u;return u="."===e.value.right?p(["nulldelimiter"]):s.leftRightDelim(e.value.right,r,i,t,e.mode),n.push(u),p(["minner",t.style.cls()],n,t.getColor())},rule:function(e,t){var n=p(["mord","rule"],[],t.getColor()),r=0;e.value.shift&&(r=e.value.shift.number,"ex"===e.value.shift.unit&&(r*=l.metrics.xHeight));var i=e.value.width.number;"ex"===e.value.width.unit&&(i*=l.metrics.xHeight);var o=e.value.height.number;return"ex"===e.value.height.unit&&(o*=l.metrics.xHeight),r/=t.style.sizeMultiplier,i/=t.style.sizeMultiplier,o/=t.style.sizeMultiplier,n.style.borderRightWidth=i+"em",n.style.borderTopWidth=o+"em",n.style.bottom=r+"em",n.width=i,n.height=o+r,n.depth=-r,n},accent:function(e,t,n){var r,i=e.value.base;if("supsub"===e.type){var o=e;e=o.value.base,i=e.value.base,o.value.base=i,r=b(o,t.reset(),n)}var s,u=b(i,t.withStyle(t.style.cramp()));if(v(i)){var c=g(i),h=b(c,t.withStyle(t.style.cramp()));s=h.skew}else s=0;var f=Math.min(u.height,l.metrics.xHeight),d=a.makeSymbol(e.value.accent,"Main-Regular","math",t.getColor());d.italic=0;var m="\\vec"===e.value.accent?"accent-vec":null,y=p(["accent-body",m],[p([],[d])]);y=a.makeVList([{type:"elem",elem:u},{type:"kern",size:-f},{type:"elem",elem:y}],"firstBaseline",null,t),y.children[1].style.marginLeft=2*s+"em";var w=p(["mord","accent"],[y]);return r?(r.children[0]=w,r.height=Math.max(w.height,r.height),r.classes[0]="mord",r):w}},b=function(e,t,n){if(!e)return p();if(y[e.type]){var r,o=y[e.type](e,t,n);return t.style!==t.parentStyle&&(r=t.style.sizeMultiplier/t.parentStyle.sizeMultiplier,o.height*=r,o.depth*=r),t.size!==t.parentSize&&(r=a.sizingMultiplier[t.size]/a.sizingMultiplier[t.parentSize],o.height*=r,o.depth*=r),o}throw new i("Got group of unknown type: '"+e.type+"'")},w=function(e,t){var n=o.TEXT;t.displayMode&&(n=o.DISPLAY);var i=new r(n,"size5",""),a=h(e,i),s=p(["base",i.style.cls()],a),u=p(["strut"]),l=p(["strut","bottom"]);u.style.height=s.height+"em",l.style.height=s.height+s.depth+"em",l.style.verticalAlign=-s.depth+"em";var c=p(["katex-html"],[u,l,s]);return c.setAttribute("aria-hidden","true"),c};e.exports=w},function(e,t,n){var r=n(144),i=n(523),o=n(68),a=n(145),s=r.makeSpan,u=function(e,t){return a[t][e]&&a[t][e].replace&&(e=a[t][e].replace),new i.TextNode(e)},l={mathord:function(e){var t=new i.MathNode("mi",[u(e.value,e.mode)]);return t},textord:function(e){var t,n=u(e.value,e.mode);return/[0-9]/.test(e.value)?t=new i.MathNode("mn",[n]):(t=new i.MathNode("mi",[n]),t.setAttribute("mathvariant","normal")),t},bin:function(e){var t=new i.MathNode("mo",[u(e.value,e.mode)]);return t},rel:function(e){var t=new i.MathNode("mo",[u(e.value,e.mode)]);return t},open:function(e){var t=new i.MathNode("mo",[u(e.value,e.mode)]);return t},close:function(e){var t=new i.MathNode("mo",[u(e.value,e.mode)]);return t},inner:function(e){var t=new i.MathNode("mo",[u(e.value,e.mode)]);return t},punct:function(e){var t=new i.MathNode("mo",[u(e.value,e.mode)]);return t.setAttribute("separator","true"),t},ordgroup:function(e){var t=c(e.value),n=new i.MathNode("mrow",t);return n},text:function(e){var t=c(e.value.body),n=new i.MathNode("mtext",t);return n},color:function(e){var t=c(e.value.value),n=new i.MathNode("mstyle",t);return n.setAttribute("mathcolor",e.value.color),n},supsub:function(e){var t=[p(e.value.base)];e.value.sub&&t.push(p(e.value.sub)),e.value.sup&&t.push(p(e.value.sup));var n;n=e.value.sub?e.value.sup?"msubsup":"msub":"msup";var r=new i.MathNode(n,t);return r},genfrac:function(e){var t=new i.MathNode("mfrac",[p(e.value.numer),p(e.value.denom)]);if(e.value.hasBarLine||t.setAttribute("linethickness","0px"),null!=e.value.leftDelim||null!=e.value.rightDelim){var n=[];if(null!=e.value.leftDelim){var r=new i.MathNode("mo",[new i.TextNode(e.value.leftDelim)]);r.setAttribute("fence","true"),n.push(r)}if(n.push(t),null!=e.value.rightDelim){var o=new i.MathNode("mo",[new i.TextNode(e.value.rightDelim)]);o.setAttribute("fence","true"),n.push(o)}var a=new i.MathNode("mrow",n);return a}return t},sqrt:function(e){var t=new i.MathNode("msqrt",[p(e.value.body)]);return t},leftright:function(e){var t=c(e.value.body);if("."!==e.value.left){var n=new i.MathNode("mo",[u(e.value.left,e.mode)]);n.setAttribute("fence","true"),t.unshift(n)}if("."!==e.value.right){var r=new i.MathNode("mo",[u(e.value.right,e.mode)]);r.setAttribute("fence","true"),t.push(r)}var o=new i.MathNode("mrow",t);return o},accent:function(e){var t=new i.MathNode("mo",[u(e.value.accent,e.mode)]),n=new i.MathNode("mover",[p(e.value.base),t]);return n.setAttribute("accent","true"),n},spacing:function(e){var t;return"\\ "===e.value||"\\space"===e.value||" "===e.value||"~"===e.value?t=new i.MathNode("mtext",[new i.TextNode("\xa0")]):(t=new i.MathNode("mspace"),t.setAttribute("width",r.spacingFunctions[e.value].size)),t},op:function(e){var t;return t=e.value.symbol?new i.MathNode("mo",[u(e.value.body,e.mode)]):new i.MathNode("mo",[new i.TextNode(e.value.body.slice(1))])},katex:function(){var e=new i.MathNode("mtext",[new i.TextNode("KaTeX")]);return e},delimsizing:function(e){var t=[];"."!==e.value.value&&t.push(u(e.value.value,e.mode));var n=new i.MathNode("mo",t);return"open"===e.value.delimType||"close"===e.value.delimType?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n},styling:function(e){var t=c(e.value.value,t),n=new i.MathNode("mstyle",t),r={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=r[e.value.style];return n.setAttribute("scriptlevel",o[0]),n.setAttribute("displaystyle",o[1]),n},sizing:function(e){var t=c(e.value.value),n=new i.MathNode("mstyle",t);return n.setAttribute("mathsize",r.sizingMultiplier[e.value.size]+"em"),n},overline:function(e){var t=new i.MathNode("mo",[new i.TextNode("\u203e")]);t.setAttribute("stretchy","true");var n=new i.MathNode("mover",[p(e.value.body),t]);return n.setAttribute("accent","true"),n},rule:function(){var e=new i.MathNode("mrow");return e},llap:function(e){var t=new i.MathNode("mpadded",[p(e.value.body)]);return t.setAttribute("lspace","-1width"),t.setAttribute("width","0px"),t},rlap:function(e){var t=new i.MathNode("mpadded",[p(e.value.body)]);return t.setAttribute("width","0px"),t}},c=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(p(r))}return t},p=function(e){if(!e)return new i.MathNode("mrow");if(l[e.type])return l[e.type](e);throw new o("Got group of unknown type: '"+e.type+"'")},h=function(e,t){var n=c(e),r=new i.MathNode("mrow",n),o=new i.MathNode("annotation",[new i.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var a=new i.MathNode("semantics",[r,o]),u=new i.MathNode("math",[a]);return s(["katex-mathml"],[u])};e.exports=h},function(e,t,n){var r=n(518),i=n(519),o=n(144),a=o.makeSpan,s=function(e,t,n){var o=i(e,t,n),s=r(e,n),u=a(["katex"],[o,s]);return n.displayMode?a(["katex-display"],[u]):u};e.exports=s},function(e,t,n){var r=n(68),i=n(184),o=n(144),a=n(185),s=n(145),u=n(69),l=o.makeSpan,c=function(e,t){return s.math[e]&&s.math[e].replace?a.getCharacterMetrics(s.math[e].replace,t):a.getCharacterMetrics(e,t)},p=function(e,t,n){return o.makeSymbol(e,"Size"+t+"-Regular",n)},h=function(e,t,n){var r=l(["style-wrap",n.style.reset(),t.cls()],[e]),i=t.sizeMultiplier/n.style.sizeMultiplier;return r.height*=i,r.depth*=i,r.maxFontSize=t.sizeMultiplier,r},f=function(e,t,n,r,i){var s=o.makeSymbol(e,"Main-Regular",i),u=h(s,t,r);if(n){var l=(1-r.style.sizeMultiplier/t.sizeMultiplier)*a.metrics.axisHeight;u.style.top=l+"em",u.height-=l,u.depth+=l}return u},d=function(e,t,n,r,o){var s=p(e,t,o),u=h(l(["delimsizing","size"+t],[s],r.getColor()),i.TEXT,r);if(n){var c=(1-r.style.sizeMultiplier)*a.metrics.axisHeight;u.style.top=c+"em",u.height-=c,u.depth+=c}return u},m=function(e,t,n){var r;"Size1-Regular"===t?r="delim-size1":"Size4-Regular"===t&&(r="delim-size4");var i=l(["delimsizinginner",r],[l([],[o.makeSymbol(e,t,n)])]);return{type:"elem",elem:i}},g=function(e,t,n,r,s){var u,p,f,d;u=f=d=e,p=null;var g="Size1-Regular";"\\uparrow"===e?f=d="\u23d0":"\\Uparrow"===e?f=d="\u2016":"\\downarrow"===e?u=f="\u23d0":"\\Downarrow"===e?u=f="\u2016":"\\updownarrow"===e?(u="\\uparrow",f="\u23d0",d="\\downarrow"):"\\Updownarrow"===e?(u="\\Uparrow",f="\u2016",d="\\Downarrow"):"["===e||"\\lbrack"===e?(u="\u23a1",f="\u23a2",d="\u23a3",g="Size4-Regular"):"]"===e||"\\rbrack"===e?(u="\u23a4",f="\u23a5",d="\u23a6",g="Size4-Regular"):"\\lfloor"===e?(f=u="\u23a2",d="\u23a3",g="Size4-Regular"):"\\lceil"===e?(u="\u23a1",f=d="\u23a2",g="Size4-Regular"):"\\rfloor"===e?(f=u="\u23a5",d="\u23a6",g="Size4-Regular"):"\\rceil"===e?(u="\u23a4",f=d="\u23a5",g="Size4-Regular"):"("===e?(u="\u239b",f="\u239c",d="\u239d",g="Size4-Regular"):")"===e?(u="\u239e",f="\u239f",d="\u23a0",g="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(u="\u23a7",p="\u23a8",d="\u23a9",f="\u23aa",g="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(u="\u23ab",p="\u23ac",d="\u23ad",f="\u23aa",g="Size4-Regular"):"\\surd"===e&&(u="\ue001",d="\u23b7",f="\ue000",g="Size4-Regular");var v,y,b=c(u,g),w=b.height+b.depth,_=c(f,g),x=_.height+_.depth,E=c(d,g),k=E.height+E.depth;null!==p&&(v=c(p,g),y=v.height+v.depth);var C=w+k;for(null!==p&&(C+=y);t>C;)C+=x,null!==p&&(C+=x);var A=a.metrics.axisHeight;n&&(A*=r.style.sizeMultiplier);var S=C/2-A,M=[];M.push(m(d,g,s));var T;if(null===p){var D=C-w-k,O=Math.ceil(D/x);for(T=0;O>T;T++)M.push(m(f,g,s))}else{var L=C/2-w-y/2,F=Math.ceil(L/x),P=C/2-w-y/2,N=Math.ceil(P/x);for(T=0;F>T;T++)M.push(m(f,g,s));for(M.push(m(p,g,s)),T=0;N>T;T++)M.push(m(f,g,s))}M.push(m(u,g,s));var B=o.makeVList(M,"bottom",S,r);return h(l(["delimsizing","mult"],[B],r.getColor()),i.TEXT,r)},v=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],y=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert"],b=["<",">","\\langle","\\rangle","/","\\backslash"],w=[0,1.2,1.8,2.4,3],_=function(e,t,n,i){if("<"===e?e="\\langle":">"===e&&(e="\\rangle"),u.contains(v,e)||u.contains(b,e))return d(e,t,!1,n,i);if(u.contains(y,e))return g(e,w[t],!1,n,i);throw new r("Illegal delimiter: '"+e+"'")},x=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],E=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"stack"}],k=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],C=function(e){return"small"===e.type?"Main-Regular":"large"===e.type?"Size"+e.size+"-Regular":"stack"===e.type?"Size4-Regular":void 0},A=function(e,t,n,r){for(var i=Math.min(2,3-r.style.size),o=i;o<n.length&&"stack"!==n[o].type;o++){var a=c(e,C(n[o])),s=a.height+a.depth;if("small"===n[o].type&&(s*=n[o].style.sizeMultiplier),s>t)return n[o]}return n[n.length-1]},S=function(e,t,n,r,i){"<"===e?e="\\langle":">"===e&&(e="\\rangle");var o;o=u.contains(b,e)?x:u.contains(v,e)?k:E;var a=A(e,t,o,r);return"small"===a.type?f(e,a.style,n,r,i):"large"===a.type?d(e,a.size,n,r,i):"stack"===a.type?g(e,t,n,r,i):void 0},M=function(e,t,n,r,i){var o=a.metrics.axisHeight*r.style.sizeMultiplier,s=901,u=5/a.metrics.ptPerEm,l=Math.max(t-o,n+o),c=Math.max(l/500*s,2*l-u);return S(e,c,!0,r,i)};e.exports={sizedDelim:_,customSizedDelim:S,leftRightDelim:M}},function(e,t,n){for(var r=n(69),i=n(68),o={"\\sqrt":{numArgs:1,numOptionalArgs:1,handler:function(e,t,n,r){if(null!=t)throw new i("Optional arguments to \\sqrt aren't supported yet",this.lexer,r[1]-1);return{type:"sqrt",body:n}}},"\\text":{numArgs:1,argTypes:["text"],greediness:2,handler:function(e,t){var n;return n="ordgroup"===t.type?t.value:[t],{type:"text",body:n}}},"\\color":{numArgs:2,allowedInText:!0,argTypes:["color","original"],handler:function(e,t,n){var r;return r="ordgroup"===n.type?n.value:[n],{type:"color",color:t.value,value:r}}},"\\overline":{numArgs:1,handler:function(e,t){return{type:"overline",body:t}}},"\\rule":{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"],handler:function(e,t,n,r){return{type:"rule",shift:t&&t.value,width:n.value,height:r.value}}},"\\KaTeX":{numArgs:0,handler:function(){return{type:"katex"}}}},a={"\\bigl":{type:"open",size:1},"\\Bigl":{type:"open",size:2},"\\biggl":{type:"open",size:3},"\\Biggl":{type:"open",size:4},"\\bigr":{type:"close",size:1},"\\Bigr":{type:"close",size:2},"\\biggr":{type:"close",size:3},"\\Biggr":{type:"close",size:4},"\\bigm":{type:"rel",size:1},"\\Bigm":{type:"rel",size:2},"\\biggm":{type:"rel",size:3},"\\Biggm":{type:"rel",size:4},"\\big":{type:"textord",size:1},"\\Big":{type:"textord",size:2},"\\bigg":{type:"textord",size:3},"\\Bigg":{type:"textord",size:4}},s=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],u=[{funcs:["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple"],data:{numArgs:1,allowedInText:!0,handler:function(e,t){var n;return n="ordgroup"===t.type?t.value:[t],{type:"color",color:"katex-"+e.slice(1),value:n}}}},{funcs:["\\arcsin","\\arccos","\\arctan","\\arg","\\cos","\\cosh","\\cot","\\coth","\\csc","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\tan","\\tanh"],data:{numArgs:0,handler:function(e){return{type:"op",limits:!1,symbol:!1,body:e}}}},{funcs:["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],data:{numArgs:0,handler:function(e){return{type:"op",limits:!0,symbol:!1,body:e}}}},{funcs:["\\int","\\iint","\\iiint","\\oint"],data:{numArgs:0,handler:function(e){return{type:"op",limits:!1,symbol:!0,body:e}}}},{funcs:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint"],data:{numArgs:0,handler:function(e){return{type:"op",limits:!0,symbol:!0,body:e}}}},{funcs:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom"],data:{numArgs:2,greediness:2,handler:function(e,t,n){var r,i=null,o=null,a="auto";switch(e){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,i="(",o=")";break;default:throw new Error("Unrecognized genfrac command")}switch(e){case"\\dfrac":case"\\dbinom":a="display";break;case"\\tfrac":case"\\tbinom":a="text"}return{type:"genfrac",numer:t,denom:n,hasBarLine:r,leftDelim:i,rightDelim:o,size:a}}}},{funcs:["\\llap","\\rlap"],data:{numArgs:1,allowedInText:!0,handler:function(e,t){return{type:e.slice(1),body:t}}}},{funcs:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg","\\left","\\right"],data:{numArgs:1,handler:function(e,t,n){if(!r.contains(s,t.value))throw new i("Invalid delimiter: '"+t.value+"' after '"+e+"'",this.lexer,n[1]);
return"\\left"===e||"\\right"===e?{type:"leftright",value:t.value}:{type:"delimsizing",size:a[e].size,delimType:a[e].type,value:t.value}}}},{funcs:["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],data:{numArgs:0}},{funcs:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],data:{numArgs:0}},{funcs:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],data:{numArgs:1,handler:function(e,t){return{type:"accent",accent:e,base:t}}}},{funcs:["\\over","\\choose"],data:{numArgs:0,handler:function(e){var t;switch(e){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:t}}}}],l=function(e,t){for(var n=0;n<e.length;n++)o[e[n]]=t},c=0;c<u.length;c++)l(u[c].funcs,u[c].data);for(var p in o)if(o.hasOwnProperty(p)){var h=o[p];o[p]={numArgs:h.numArgs,argTypes:h.argTypes,greediness:void 0===h.greediness?1:h.greediness,allowedInText:!!h.allowedInText&&h.allowedInText,numOptionalArgs:void 0===h.numOptionalArgs?0:h.numOptionalArgs,handler:h.handler}}e.exports={funcs:o}},function(e,t,n){function r(e,t){this.type=e,this.attributes={},this.children=t||[]}function i(e){this.text=e}var o=n(69);r.prototype.setAttribute=function(e,t){this.attributes[e]=t},r.prototype.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},r.prototype.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=o.escape(this.attributes[t]),e+='"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">"},i.prototype.toNode=function(){return document.createTextNode(this.text)},i.prototype.toMarkup=function(){return o.escape(this.text)},e.exports={MathNode:r,TextNode:i}},function(e,t,n){var r=n(516),i=function(e,t){var n=new r(e,t);return n.parse()};e.exports=i},function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(788),o=n(789),a=n(790),s=n(791),u=n(792);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t){return i?void 0!==e[t]:a.call(e,t)}var i=n(249),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e){function t(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=t},function(e){function t(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var n=Function.prototype.toString;e.exports=t},function(e){function t(e,t){return e===t||e!==e&&t!==t}e.exports=t},function(e,t,n){function r(e){return"string"==typeof e||!i(e)&&o(e)&&u.call(e)==a}var i=n(113),o=n(187),a="[object String]",s=Object.prototype,u=s.toString;e.exports=r},function(e,t,n){function r(e){var t=l(e);if(!t&&!s(e))return o(e);var n=a(e),r=!!n,c=n||[],p=c.length;for(var h in e)!i(e,h)||r&&("length"==h||u(h,p))||t&&"constructor"==h||c.push(h);return c}var i=n(675),o=n(778),a=n(786),s=n(250),u=n(450),l=n(787);e.exports=r},function(e,t,n){"use strict";function r(e,t,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}var o=r(n(191));return i.prototype.type="Parser",i.prototype.isParser=!0,i.prototype.parse=function(){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},i.prototype.compile=function(){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},i.prototype.eval=function(e){return o(e).compile().eval(this.scope)},i.prototype.get=function(e){return this.scope[e]},i.prototype.set=function(e,t){return this.scope[e]=t},i.prototype.remove=function(e){delete this.scope[e]},i.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},i}t.name="Parser",t.path="expression",t.factory=r,t.math=!0},function(e){e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(e){e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(e,t,n){function r(){var e={};return e.bignumber=n(963),e["boolean"]=n(964),e.complex=n(965),e.fraction=n(966),e.index=n(967),e.matrix=n(968),e.number=n(969),e.sparse=n(970),e.string=n(971),e.unit=n(972),e.e=n(533),e.E=n(533),e["false"]=n(814),e.i=n(815),e.Infinity=n(806),e.LN2=n(808),e.LN10=n(807),e.LOG2E=n(810),e.LOG10E=n(809),e.NaN=n(811),e["null"]=n(816),e.pi=n(534),e.PI=n(534),e.phi=n(817),e.SQRT1_2=n(812),e.SQRT2=n(813),e.tau=n(818),e["true"]=n(819),e.version=n(820),e.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},e.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},e.planckConstant={description:"Planck constant",examples:["planckConstant"]},e.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},e.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},e.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},e.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},e.coulomb={description:"Coulomb's constant",examples:["coulomb"]},e.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},e.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},e.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},e.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},e.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},e.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},e.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},e.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},e.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},e.electronMass={description:"Electron mass",examples:["electronMass"]},e.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},e.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},e.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},e.protonMass={description:"Proton mass",examples:["protonMass"]},e.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},e.neutronMass={description:"Neutron mass",examples:["neutronMass"]},e.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},e.rydberg={description:"Rydberg constant",examples:["rydberg"]},e.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},e.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},e.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},e.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},e.avogadro={description:"Avogadro's number",examples:["avogadro"]},e.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},e.faraday={description:"Faraday constant",examples:["faraday"]},e.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},e.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},e.gasConstant={description:"Gas constant",examples:["gasConstant"]},e.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},e.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},e.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},e.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},e.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},e.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},e.molarMass={description:"Molar mass constant",examples:["molarMass"]},e.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},e.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},e.planckLength={description:"Planck length",examples:["planckLength"]},e.planckMass={description:"Planck mass",examples:["planckMass"]},e.planckTime={description:"Planck time",examples:["planckTime"]},e.planckCharge={description:"Planck charge",examples:["planckCharge"]},e.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},e.lsolve=n(821),e.lup=n(822),e.lusolve=n(823),e.slu=n(824),e.usolve=n(825),e.abs=n(826),e.add=n(827),e.cbrt=n(828),e.ceil=n(829),e.cube=n(830),e.divide=n(831),e.dotDivide=n(832),e.dotMultiply=n(833),e.dotPow=n(834),e.exp=n(835),e.fix=n(836),e.floor=n(837),e.gcd=n(838),e.hypot=n(839),e.lcm=n(840),e.log=n(841),e.log10=n(842),e.mod=n(843),e.multiply=n(844),e.norm=n(845),e.nthRoot=n(846),e.pow=n(847),e.round=n(848),e.sign=n(849),e.sqrt=n(850),e.square=n(851),e.subtract=n(852),e.unaryMinus=n(853),e.unaryPlus=n(854),e.xgcd=n(855),e.bitAnd=n(856),e.bitNot=n(857),e.bitOr=n(858),e.bitXor=n(859),e.leftShift=n(860),e.rightArithShift=n(861),e.rightLogShift=n(862),e.bellNumbers=n(863),e.catalan=n(864),e.composition=n(865),e.stirlingS2=n(866),e.arg=n(867),e.conj=n(868),e.re=n(870),e.im=n(869),e.eval=n(871),e.help=n(872),e.distance=n(873),e.intersect=n(874),e.and=n(875),e.not=n(876),e.or=n(877),e.xor=n(878),e.concat=n(879),e.cross=n(880),e.det=n(881),e.diag=n(882),e.dot=n(883),e.eye=n(884),e.flatten=n(885),e.inv=n(886),e.ones=n(887),e.range=n(888),e.resize=n(889),e.size=n(890),e.squeeze=n(891),e.subset=n(892),e.trace=n(893),e.transpose=n(894),e.zeros=n(895),e.combinations=n(896),e.factorial=n(897),e.gamma=n(898),e.kldivergence=n(899),e.multinomial=n(900),e.permutations=n(901),e.pickRandom=n(902),e.random=n(903),e.randomInt=n(904),e.compare=n(905),e.deepEqual=n(906),e.equal=n(907),e.larger=n(908),e.largerEq=n(909),e.smaller=n(910),e.smallerEq=n(911),e.unequal=n(912),e.max=n(913),e.mean=n(914),e.median=n(915),e.min=n(916),e.mode=n(917),e.prod=n(918),e.quantileSeq=n(919),e.std=n(920),e.sum=n(921),e["var"]=n(922),e.acos=n(923),e.acosh=n(924),e.acot=n(925),e.acoth=n(926),e.acsc=n(927),e.acsch=n(928),e.asec=n(929),e.asech=n(930),e.asin=n(931),e.asinh=n(932),e.atan=n(933),e.atanh=n(935),e.atan2=n(934),e.cos=n(936),e.cosh=n(937),e.cot=n(938),e.coth=n(939),e.csc=n(940),e.csch=n(941),e.sec=n(942),e.sech=n(943),e.sin=n(944),e.sinh=n(945),e.tan=n(946),e.tanh=n(947),e.to=n(948),e.clone=n(949),e.map=n(959),e.partitionSelect=n(960),e.filter=n(950),e.forEach=n(951),e.format=n(952),e.isInteger=n(954),e.isNegative=n(955),e.isNumeric=n(956),e.isPositive=n(957),e.isZero=n(958),e["import"]=n(953),e.sort=n(961),e["typeof"]=n(962),e}t.name="docs",t.path="expression",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i,o){var a=r(n(532));return i("parser",{"":function(){return new a(o)}})}t.name="parser",t.factory=r,t.math=!0},function(e,t,n){"use strict";function r(e,t,r){function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!t||!t.isNode)throw new TypeError('Node expected for parameter "expr"');if(e in u)throw new Error('Illegal symbol name, "'+e+'" is a reserved keyword');this.name=e,this.expr=t}function a(e,t){var n=l.getPrecedence(e,t),r=l.getPrecedence(e.expr,t);return"all"===t||null!==r&&n>=r}var s=r(n(53)),u=(r(n(345)),n(344)),l=n(190);return o.prototype=new s,o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(e,t){return'scope["'+this.name+'"] = '+this.expr._compile(e,t)},o.prototype.forEach=function(e){e(this.expr,"expr",this)},o.prototype.map=function(e){return new o(this.name,this._ifNode(e(this.expr,"expr",this)))},o.prototype.clone=function(){return new o(this.name,this.expr)},o.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return a(this,t)&&(n="("+n+")"),this.name+" = "+n},o.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return a(this,t)&&(n="\\left("+n+"\\right)"),i.toSymbol(this.name)+":="+n},o}var i=n(12);t.name="AssignmentNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!t||!t.isNode)throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}})}var o=r(n(53)),a=r(n(582));return i.prototype=new o,i.prototype.type="BlockNode",i.prototype.isBlockNode=!0,i.prototype._compile=function(e,t){e.ResultSet=a;var n=this.blocks.map(function(n){var r=n.node._compile(e,t);return n.visible?"results.push("+r+");":r+";"});return"(function () {var results = [];"+n.join("")+"return new ResultSet(results);})()"},i.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},i.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],o=this._ifNode(e(r.node,"blocks["+n+"].node",this));t[n]={node:o,visible:r.visible}}return new i(t)},i.prototype.clone=function(){var e=this.blocks.map(function(e){return{node:e.node,visible:e.visible}});return new i(e)},i.prototype._toString=function(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")},i.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")},i}t.name="BlockNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function o(e,t,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError("Parameter condition must be a Node");if(!t||!t.isNode)throw new TypeError("Parameter trueExpr must be a Node");if(!n||!n.isNode)throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=n}var a=r(n(53));return o.prototype=new a,o.prototype.type="ConditionalNode",o.prototype.isConditionalNode=!0,o.prototype._compile=function(e,t){return e.testCondition=function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(t.isBigNumber===!0)return!t.isZero();if(t.isComplex===!0)return!(!t.re&&!t.im);if(t.isUnit===!0)return!!t.value}if(null===t||void 0===t)return!1;throw new TypeError('Unsupported type of condition "'+e.math["typeof"](t)+'"')},"testCondition("+this.condition._compile(e,t)+") ? ( "+this.trueExpr._compile(e,t)+") : ( "+this.falseExpr._compile(e,t)+")"},o.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},o.prototype.clone=function(){return new o(this.condition,this.trueExpr,this.falseExpr)},o.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=i.getPrecedence(this,t),r=this.condition.toString(e),o=i.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==o&&n>=o)&&(r="("+r+")");var a=this.trueExpr.toString(e),s=i.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&n>=s)&&(a="("+a+")");var u=this.falseExpr.toString(e),l=i.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&n>=l)&&(u="("+u+")"),r+" ? "+a+" : "+u},o.prototype._toTex=function(e){return"\\left\\{\\begin{array}{l l}{"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if}\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{array}\\right."},o}var i=(n(12),n(190));t.name="ConditionalNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e){return"string"==typeof e}function i(e,t,i){function u(e,t,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t)||!t.every(r))throw new TypeError('Array containing strings expected for parameter "params"');if(!n||!n.isNode)throw new TypeError('Node expected for parameter "expr"');if(e in o)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t,this.expr=n}function l(e,t){var n=s.getPrecedence(e,t),r=s.getPrecedence(e.expr,t);return"all"===t||null!==r&&n>=r}var c=i(n(53));return u.prototype=new c,u.prototype.type="FunctionAssignmentNode",u.prototype.isFunctionAssignmentNode=!0,u.prototype._compile=function(e,t){var n=Object.create(t);this.params.forEach(function(e){n[e]=!0});var r=this.expr._compile(e,n);return'scope["'+this.name+'"] =   (function () {    var fn = function '+this.name+"("+this.params.join(",")+") {      if (arguments.length != "+this.params.length+') {        throw new SyntaxError("Wrong number of arguments in function '+this.name+' (" + arguments.length + " provided, '+this.params.length+' expected)");      }      return '+r+'    };    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })()'},u.prototype.forEach=function(e){e(this.expr,"expr",this)},u.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new u(this.name,this.params.slice(0),t)},u.prototype.clone=function(){return new u(this.name,this.params.slice(0),this.expr)},u.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return l(this,t)&&(n="("+n+")"),"function "+this.name+"("+this.params.join(", ")+") = "+n},u.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return l(this,t)&&(n="\\left("+n+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(a.toSymbol).join(",")+"\\right):="+n},u}var o=n(344),a=n(12),s=n(190);t.name="FunctionAssignmentNode",t.path="expression.node",t.factory=i},function(e,t,n){"use strict";function r(e,t,r){function a(e,t,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(function(e){return e&&e.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.op=e,this.fn=t,this.args=n||[]}function s(e,t,n,r){var i=o.getPrecedence(e,t),a=o.getAssociativity(e,t);if("all"===t||n.length>2){var s=[];return n.forEach(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":s.push(!1);break;default:s.push(!0)}}),s}switch(n.length){case 0:return[];case 1:var u=o.getPrecedence(n[0],t);if(r&&null!==u){var l,c;if("keep"===t?(l=n[0].getIdentifier(),c=e.getIdentifier()):(l=n[0].getContent().getIdentifier(),c=e.getContent().getIdentifier()),o.properties[i][c].latexLeftParens===!1)return[!1];if(o.properties[u][l].latexParens===!1)return[!1]}return null===u?[!1]:i>=u?[!0]:[!1];case 2:var p,h=o.getPrecedence(n[0],t),f=o.isAssociativeWith(e,n[0],t);p=null!==h&&(h===i&&"right"===a&&!f||i>h);var d,m=o.getPrecedence(n[1],t),g=o.isAssociativeWith(e,n[1],t);if(d=null!==m&&(m===i&&"left"===a&&!g||i>m),r){var c,v,y;"keep"===t?(c=e.getIdentifier(),v=e.args[0].getIdentifier(),y=e.args[1].getIdentifier()):(c=e.getContent().getIdentifier(),v=e.args[0].getContent().getIdentifier(),y=e.args[1].getContent().getIdentifier()),null!==h&&(o.properties[i][c].latexLeftParens===!1&&(p=!1),o.properties[h][v].latexParens===!1&&(p=!1)),null!==m&&(o.properties[i][c].latexRightParens===!1&&(d=!1),o.properties[m][y].latexParens===!1&&(d=!1))}return[p,d]}}var u=r(n(53));return r(n(346)),r(n(155)),r(n(347)),a.prototype=new u,a.prototype.type="OperatorNode",a.prototype.isOperatorNode=!0,a.prototype._compile=function(e,t){if(!e.math[this.fn])throw new Error("Function "+this.fn+' missing in provided namespace "math"');var n=this.args.map(function(n){return n._compile(e,t)});return"math."+this.fn+"("+n.join(", ")+")"},a.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},a.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new a(this.op,this.fn,t)},a.prototype.clone=function(){return new a(this.op,this.fn,this.args.slice(0))},a.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.args,r=s(this,t,n,!1);switch(n.length){case 1:var i=o.getAssociativity(this,t),a=n[0].toString(e);return r[0]&&(a="("+a+")"),"right"===i?this.op+a:"left"===i?a+this.op:a+this.op;case 2:var u=n[0].toString(e),l=n[1].toString(e);return r[0]&&(u="("+u+")"),r[1]&&(l="("+l+")"),u+" "+this.op+" "+l;default:return this.fn+"("+this.args.join(", ")+")"}},a.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.args,r=s(this,t,n,!0),a=i.operators[this.fn];switch(a="undefined"==typeof a?this.op:a,n.length){case 1:var u=o.getAssociativity(this,t),l=n[0].toTex(e);return r[0]&&(l="\\left("+l+"\\right)"),"right"===u?a+l:"left"===u?l+a:l+a;case 2:var c=n[0],p=c.toTex(e);r[0]&&(p="\\left("+p+"\\right)");var h=n[1],f=h.toTex(e);r[1]&&(f="\\left("+f+"\\right)");var d;switch(d="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+p+"}{"+f+"}";case"OperatorNode:pow":switch(p="{"+p+"}",f="{"+f+"}",d){case"ConditionalNode":case"OperatorNode:divide":p="\\left("+p+"\\right)"}}return p+a+f;default:return"\\mathrm{"+this.fn+"}\\left("+n.map(function(t){return t.toTex(e)}).join(",")+"\\right)"}},a.prototype.getIdentifier=function(){return this.type+":"+this.fn},a}var i=n(12),o=n(190);t.name="OperatorNode",t.path="expression.node",t.math=!0,t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isNode)throw new TypeError('Node expected for parameter "content"');this.content=e}var o=r(n(53));return i.prototype=new o,i.prototype.type="ParenthesisNode",i.prototype.isParenthesisNode=!0,i.prototype._compile=function(e,t){return this.content._compile(e,t)},i.prototype.getContent=function(){return this.content.getContent()},i.prototype.forEach=function(e){e(this.content,"content",this)},i.prototype.map=function(e){var t=e(this.content,"content",this);return new i(t)},i.prototype.clone=function(){return new i(this.content)},i.prototype._toString=function(e){return!e||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},i.prototype._toTex=function(e){return!e||e&&"keep"===e.parenthesis?"\\left("+this.content.toTex(e)+"\\right)":this.content.toTex(e)},i}t.name="ParenthesisNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!e||!e.isIndexNode)throw new TypeError('Expected IndexNode for parameter "index"');if(!t||!t.isNode)throw new TypeError('Expected Node for parameter "expr"');this.index=e,this.expr=t}var o=r(n(53));return r(n(348)),i.prototype=new o,i.prototype.type="UpdateNode",i.prototype.isUpdateNode=!0,i.prototype._compile=function(e,t){var n=t[this.index.objectName()]?this.name+" = ":'scope["'+this.index.objectName()+'"]',r=this.index.compileSubset(e,t,this.expr._compile(e,t));return n+" = "+r},i.prototype.forEach=function(e){e(this.index,"index",this),e(this.expr,"expr",this)},i.prototype.map=function(e){return new i(this._ifNode(e(this.index,"index",this)),this._ifNode(e(this.expr,"expr",this)))},i.prototype.clone=function(){return new i(this.index,this.expr)},i.prototype._toString=function(e){var t=this.expr.toString(e);return e&&"all"===e.parenthesis&&(t="("+t+")"),this.index.toString(e)+" = "+t},i.prototype._toTex=function(e){var t=this.expr.toTex(e);return e&&"all"===e.parenthesis&&(t="\\left("+t+"\\right)"),this.index.toTex(e)+":="+t},i}t.name="UpdateNode",t.path="expression.node",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var a=r(n(5)),s=r(n(193)),u=r(n(62)),l=r(n(55)),c=r(n(63)),p=r(n(83)),h=r(n(106)),f=r(n(31)),d=r(n(160)),m=e.SparseMatrix,g=e.DenseMatrix,v=e.Spa,y=i("lup",{DenseMatrix:function(e){return b(e)},SparseMatrix:function(e){return w(e)},Array:function(e){var t=a(e),n=b(t);return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}}),b=function(e){var t,n,r,i=e._size[0],a=e._size[1],d=Math.min(i,a),m=o.clone(e._data),v=[],y=[i,d],b=[],w=[d,a],_=[];for(t=0;i>t;t++)_[t]=t;for(n=0;a>n;n++){if(n>0)for(t=0;i>t;t++){var x=Math.min(t,n),E=0;for(r=0;x>r;r++)E=u(E,c(m[t][r],m[r][n]));m[t][n]=p(m[t][n],E)}var k=n,C=0,A=0;for(t=n;i>t;t++){var S=m[t][n],M=s(S);h(M,C)&&(k=t,C=M,A=S)}if(n!==k&&(_[n]=[_[k],_[k]=_[n]][0],g._swapRows(n,k,m)),i>n)for(t=n+1;i>t;t++){var T=m[t][n];f(T,0)||(m[t][n]=l(m[t][n],A))}}for(n=0;a>n;n++)for(t=0;i>t;t++)0===n&&(a>t&&(b[t]=[]),v[t]=[]),n>t?(a>t&&(b[t][n]=m[t][n]),i>n&&(v[t][n]=0)):t!==n?(a>t&&(b[t][n]=0),i>n&&(v[t][n]=m[t][n])):(a>t&&(b[t][n]=m[t][n]),i>n&&(v[t][n]=1));var D=new g({data:v,size:y}),O=new g({data:b,size:w}),L=[];for(t=0,d=_.length;d>t;t++)L[_[t]]=t;return{L:D,U:O,p:L,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},w=function(e){var t,n,r,i=e._size[0],o=e._size[1],a=Math.min(i,o),u=e._values,p=e._index,g=e._ptr,y=[],b=[],w=[],_=[i,a],x=[],E=[],k=[],C=[a,o],A=[],S=[];for(t=0;i>t;t++)A[t]=t,S[t]=t;var M=function(e,t){var n=S[e],r=S[t];A[n]=t,A[r]=e,S[e]=r,S[t]=n};for(n=0;o>n;n++){var T=new v;i>n&&(w.push(y.length),y.push(1),b.push(n)),k.push(x.length);var D=g[n],O=g[n+1];for(r=D;O>r;r++)t=p[r],T.set(A[t],u[r]);n>0&&T.forEach(0,n-1,function(e,t){m._forEachRow(e,y,b,w,function(n,r){n>e&&T.accumulate(n,d(c(r,t)))})});var L=n,F=T.get(n),P=s(F);T.forEach(n+1,i-1,function(e,t){var n=s(t);h(n,P)&&(L=e,P=n,F=t)}),n!==L&&(m._swapRows(n,L,_[1],y,b,w),m._swapRows(n,L,C[1],x,E,k),T.swap(n,L),M(n,L)),T.forEach(0,i-1,function(e,t){n>=e?(x.push(t),E.push(e)):(t=l(t,F),f(t,0)||(y.push(t),b.push(e)))})}return k.push(x.length),w.push(y.length),{L:new m({values:y,index:b,ptr:w,size:_}),U:new m({values:x,index:E,ptr:k,size:C}),p:A,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return y}var i=n(85),o=i.object;t.name="lup",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(1005)),s=r(n(1e3)),u=i("slu",{"SparseMatrix, number, number":function(e,t,n){if(!a(t)||0>t||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(0>n||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=o(t,e,!1),i=s(e,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}});return u}var i=n(85),o=i.number,a=o.isInteger;t.name="slu",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(5)),a=r(n(55)),s=r(n(63)),u=r(n(83)),l=r(n(31)),c=r(n(350)),p=e.DenseMatrix,h=i("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return d(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return f(e,t)},"Array, Array | Matrix":function(e,t){var n=o(e),r=f(n,t);return r.valueOf()}}),f=function(e,t){t=c(e,t,!0);for(var n=t._data,r=e._size[0],i=e._size[1],o=[],h=e._data,f=0;i>f;f++){var d,m=n[f][0]||0;if(l(m,0))d=0;else{var g=h[f][f];if(l(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(m,g);for(var v=f+1;r>v;v++)n[v]=[u(n[v][0]||0,s(d,h[v][f]))]}o[f]=[d]}return new p({data:o,size:[r,1]})},d=function(e,t){t=c(e,t,!0);for(var n,r,i=t._data,o=e._size[0],h=e._size[1],f=e._values,d=e._index,m=e._ptr,g=[],v=0;h>v;v++){var y=i[v][0]||0;if(l(y,0))g[v]=[0];else{var b=0,w=[],_=[],x=m[v+1];for(r=m[v];x>r;r++)n=d[r],n===v?b=f[r]:n>v&&(w.push(f[r]),_.push(n));if(l(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var E=a(y,b);for(r=0,x=_.length;x>r;r++)n=_[r],i[n]=[u(i[n][0]||0,s(E,w[r]))];g[v]=[E]}}return new p({data:g,size:[o,1]})};return h}t.name="lsolve",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(5)),a=r(n(55)),s=r(n(63)),u=r(n(83)),l=r(n(31)),c=r(n(350)),p=e.DenseMatrix,h=i("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return d(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return f(e,t)},"Array, Array | Matrix":function(e,t){var n=o(e),r=f(n,t);return r.valueOf()}}),f=function(e,t){t=c(e,t,!0);for(var n=t._data,r=e._size[0],i=e._size[1],o=[],h=e._data,f=i-1;f>=0;f--){var d,m=n[f][0]||0;if(l(m,0))d=0;else{var g=h[f][f];if(l(g,0))throw new Error("Linear system cannot be solved since matrix is singular");d=a(m,g);for(var v=f-1;v>=0;v--)n[v]=[u(n[v][0]||0,s(d,h[v][f]))]}o[f]=[d]}return new p({data:o,size:[r,1]})},d=function(e,t){t=c(e,t,!0);for(var n,r,i=t._data,o=e._size[0],h=e._size[1],f=e._values,d=e._index,m=e._ptr,g=[],v=h-1;v>=0;v--){var y=i[v][0]||0;if(l(y,0))g[v]=[0];else{var b=0,w=[],_=[],x=m[v],E=m[v+1];for(r=E-1;r>=x;r--)n=d[r],n===v?b=f[r]:v>n&&(w.push(f[r]),_.push(n));if(l(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var k=a(y,b);for(r=0,E=_.length;E>r;r++)n=_[r],i[n]=[u(i[n][0],s(k,w[r]))];g[v]=[k]}}return new p({data:g,size:[o,1]})};return h}t.name="usolve",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(351)),o=function(e,t){e[t]=i(e[t])};return o}t.name="cs_mark",t.path="sparse",t.factory=r},function(e,t){"use strict";function n(){var e=function(e,t){return e[t]<0};return e}t.name="cs_marked",t.path="sparse",t.factory=n},function(e,t){"use strict";function n(){var e=function(e,t,n,r,i,o,a){var s=0;for(n[a]=e;s>=0;){var u=n[a+s],l=n[r+u];-1==l?(s--,o[t++]=u):(n[r+u]=n[i+l],++s,n[a+s]=l)}return t};return e}t.name="cs_tdfs",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(5)),a=r(n(55)),s=n(12),u=r(n(70)),l=r(n(47)),c=r(n(84)),p=r(n(48)),h=r(n(49)),f=r(n(21)),d=r(n(15)),m=i("dotDivide",{"any, any":a,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,a,!1);break;default:n=u(t,e,a,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,a,!1);break;default:n=f(e,t,a)}}return n},"Array, Array":function(e,t){return m(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return m(o(e),t)},"Matrix, Array":function(e,t){return m(e,o(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,t,a,!1);break;default:n=d(e,t,a,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=h(t,e,a,!0);break;default:n=d(t,e,a,!0)}return n},"Array, any":function(e,t){return d(o(e),t,a,!1).valueOf()},"any, Array":function(e,t){return d(o(t),e,a,!0).valueOf()}});return m.toTex="\\left(${args[0]}"+s.operators.dotDivide+"${args[1]}\\right)",m}t.name="dotDivide",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(54)),a=r(n(83)),s=r(n(41)),u=r(n(156)),l=r(n(158)),c=r(n(253)),p=r(n(252)),h=r(n(195)),f=r(n(163)),d=r(n(106)),m=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!f(e)||h(e)||!f(t)||h(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");
if(d(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var n=c(t),r=0,i=0;t>=i;i++){var m=l(-1,a(t,i)),g=p(t,i),v=l(i,e);r=o(r,s(s(g,v),m))}return u(r,n)}});return m.toTex="\\mathrm{S}\\left(${args[0]},${args[1]}\\right)",m}t.name="stirlingS2",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=n(12),s=o("not",{number:function(e){return!e},Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return s(e.value)},"Array | Matrix":function(e){return i(e,s)}});return s.toTex=a.operators.not+"\\left(${args[0]}\\right)",s}var i=n(6);t.name="not",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,c){var p=r(n(5)),h=c("concat",{"...Array | Matrix | number | BigNumber":function(e){var t,n,r=e.length,c=-1,h=!1,f=[];for(t=0;r>t;t++){var d=e[t];if(d&&d.isMatrix===!0&&(h=!0),"number"==typeof d||d&&d.isBigNumber===!0){if(t!==r-1)throw new Error("Dimension must be specified as last argument");if(n=c,c=d.valueOf(),!a(c))throw new TypeError("Integer number expected for dimension");if(0>c)throw new u(c);if(t>0&&c>n)throw new u(c,n+1)}else{var m=o(d).valueOf(),g=s.size(m);if(f[t]=m,n=c,c=g.length-1,t>0&&c!=n)throw new l(n+1,c+1)}}if(0==f.length)throw new SyntaxError("At least one matrix expected");for(var v=f.shift();f.length;)v=i(v,f.shift(),c,0);return h?p(v):v},"...string":function(e){return e.join("")}});return h.toTex="\\mathrm{${name}}\\left(${args}\\right)",h}function i(e,t,n,r){if(n>r){if(e.length!=t.length)throw new l(e.length,t.length);for(var o=[],a=0;a<e.length;a++)o[a]=i(e[a],t[a],n,r+1);return o}return e.concat(t)}var o=n(16).clone,a=n(8).isInteger,s=n(24),u=n(189),l=n(37);t.name="concat",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function s(e,t){if(1==t)return o.clone(e[0][0]);if(2==t)return c(p(e[0][0],e[1][1]),p(e[1][0],e[0][1]));for(var n=function(e){var t,n,r=new Array(e.length),i=0;for(t=1;t<e.length;t++)i=l(i,e[t][t]);for(t=0;t<e.length;t++){for(r[t]=new Array(e.length),r[t][t]=h(i),n=0;t>n;n++)r[t][n]=0;for(n=t+1;n<e.length;n++)r[t][n]=e[t][n];t+1<e.length&&(i=c(i,e[t+1][t+1]))}return r},r=e,i=0;t-1>i;i++)r=p(n(r),e);return t%2==0?h(r[0][0]):r[0][0]}var u=r(n(5)),l=r(n(54)),c=r(n(83)),p=r(n(41)),h=r(n(160)),f=i("det",{any:function(e){return o.clone(e)},"Array | Matrix":function(e){var t;switch(e&&e.isMatrix===!0?t=e.size():Array.isArray(e)?(e=u(e),t=e.size()):t=[],t.length){case 0:return o.clone(e);case 1:if(1==t[0])return o.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(t)+")");case 2:var n=t[0],r=t[1];if(n==r)return s(e.clone().valueOf(),n,r);throw new RangeError("Matrix must be square (size: "+a.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(t)+")")}}});return f.toTex="\\det\\left(${args[0]}\\right)",f}var i=n(85),o=i.object,a=i.string;t.name="det",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e,t,n){var r,i,o,a,s;if(1==t){if(a=e[0][0],0==a)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,a)]]}if(2==t){var d=h(e);if(0==d)throw Error("Cannot calculate inverse, determinant is zero");return[[u(e[1][1],d),u(p(e[0][1]),d)],[u(p(e[1][0]),d),u(e[0][0],d)]]}var m=e.concat();for(r=0;t>r;r++)m[r]=m[r].concat();for(var g=f(t).valueOf(),v=0;n>v;v++){for(r=v;t>r&&0==m[r][v];)r++;if(r==t||0==m[r][v])throw Error("Cannot calculate inverse, determinant is zero");r!=v&&(s=m[v],m[v]=m[r],m[r]=s,s=g[v],g[v]=g[r],g[r]=s);var y=m[v],b=g[v];for(r=0;t>r;r++){var w=m[r],_=g[r];if(r!=v){if(0!=w[v]){for(o=u(p(w[v]),y[v]),i=v;n>i;i++)w[i]=l(w[i],c(o,y[i]));for(i=0;n>i;i++)_[i]=l(_[i],c(o,b[i]))}}else{for(o=y[v],i=v;n>i;i++)w[i]=u(w[i],o);for(i=0;n>i;i++)_[i]=u(_[i],o)}}}return g}var s=r(n(5)),u=r(n(55)),l=r(n(62)),c=r(n(41)),p=r(n(160)),h=r(n(555)),f=r(n(353)),d=o("inv",{"Array | Matrix":function(e){var t=e.isMatrix===!0?e.size():i.array.size(e);switch(t.length){case 1:if(1==t[0])return e.isMatrix===!0?s([u(1,e.valueOf()[0])]):[u(1,e[0])];throw new RangeError("Matrix must be square (size: "+i.string.format(t)+")");case 2:var n=t[0],r=t[1];if(n==r)return e.isMatrix===!0?s(a(e.valueOf(),n,r),e.storage()):a(e,n,r);throw new RangeError("Matrix must be square (size: "+i.string.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.string.format(t)+")")}},any:function(e){return u(1,e)}});return d.toTex="\\left(${args[0]}\\right)^{-1}",d}var i=n(85);t.name="inv",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function o(e){return"array"===t.matrix?e:h(e)}function a(n,r){var i=p(n);if(!i)throw new SyntaxError('String "'+n+'" is no valid range');var a;return"bignumber"===t.number?(a=r?c:l,o(a(new e.BigNumber(i.start),new e.BigNumber(i.end),new e.BigNumber(i.step)))):(a=r?u:s,o(a(i.start,i.end,i.step)))}function s(e,t,n){var r=[],i=e;if(n>0)for(;t>i;)r.push(i),i+=n;else if(0>n)for(;i>t;)r.push(i),i+=n;return r}function u(e,t,n){var r=[],i=e;if(n>0)for(;t>=i;)r.push(i),i+=n;else if(0>n)for(;i>=t;)r.push(i),i+=n;return r}function l(e,t,n){var r=[],i=e;if(n.gt(f))for(;i.lt(t);)r.push(i),i=i.plus(n);else if(n.lt(f))for(;i.gt(t);)r.push(i),i=i.plus(n);return r}function c(e,t,n){var r=[],i=e;if(n.gt(f))for(;i.lte(t);)r.push(i),i=i.plus(n);else if(n.lt(f))for(;i.gte(t);)r.push(i),i=i.plus(n);return r}function p(e){var t=e.split(":"),n=t.map(function(e){return Number(e)}),r=n.some(function(e){return isNaN(e)});if(r)return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}var h=r(n(5)),f=new e.BigNumber(0),d=new e.BigNumber(1),m=i("range",{string:a,"string, boolean":a,"number, number":function(e,t){return o(s(e,t,1))},"number, number, number":function(e,t,n){return o(s(e,t,n))},"number, number, boolean":function(e,t,n){return o(n?u(e,t,1):s(e,t,1))},"number, number, number, boolean":function(e,t,n,r){return o(r?u(e,t,n):s(e,t,n))},"BigNumber, BigNumber":function(e,t){return o(l(e,t,d))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return o(l(e,t,n))},"BigNumber, BigNumber, boolean":function(e,t,n){return o(n?c(e,t,d):l(e,t,d))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return o(r?c(e,t,n):l(e,t,n))}});return m.toTex="\\mathrm{${name}}\\left(${args}\\right)",m}t.name="range",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function u(e,t){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(1!=t.size().length)throw new a(t.size().length,1);var n=e.length;o(t.min()[0],n),o(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach(function(t){i+=e.charAt(t)}),i}function l(e,t,n,r){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(1!=t.size().length)throw new a(t.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0),s=i.size()[0];if(s!=n.length)throw new a(i.size()[0],n.length);var u=e.length;o(t.min()[0]),o(t.max()[0]);for(var l=[],c=0;u>c;c++)l[c]=e.charAt(c);if(i.forEach(function(e,t){l[e]=n.charAt(t[0])}),l.length>u)for(c=u-1,s=l.length;s>c;c++)l[c]||(l[c]=r);return l.join("")}var c=r(n(5)),p=s("subset",{"Array, Index":function(e,t){var n=c(e),r=n.subset(t);return r&&r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"string, Index":u,"Array, Index, any":function(e,t,n){return c(i(e)).subset(t,n,void 0).valueOf()},"Array, Index, any, any":function(e,t,n,r){return c(i(e)).subset(t,n,r).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":l,"string, Index, string, string":l});return p.toTex="\\mathrm{${name}}\\left(${args}\\right)",p}var i=n(16).clone,o=n(24).validateIndex,a=n(37);t.name="subset",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(5)),u=r(n(54)),l=a("trace",{Array:function(e){return l(s(e))},Matrix:function(e){var t;switch(e.storage()){case"dense":t=c(e);break;case"sparse":t=p(e)}return t},any:i}),c=function(e){var t=e._size,n=e._data;switch(t.length){case 1:if(1==t[0])return i(n[0]);throw new RangeError("Matrix must be square (size: "+o(t)+")");case 2:var r=t[0],a=t[1];if(r===a){for(var s=0,l=0;r>l;l++)s=u(s,n[l][l]);return s}throw new RangeError("Matrix must be square (size: "+o(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o(t)+")")}},p=function(e){var t=e._values,n=e._index,r=e._ptr,i=e._size,a=i[0],s=i[1];if(a===s){var l=0;if(t.length>0)for(var c=0;s>c;c++)for(var p=r[c],h=r[c+1],f=p;h>f;f++){var d=n[f];if(d===c){l=u(l,t[f]);break}if(d>c)break}return l}throw new RangeError("Matrix must be square (size: "+o(i)+")")};return l.toTex="\\mathrm{tr}\\left(${args[0]}\\right)",l}var i=n(16).clone,o=n(64).format;t.name="trace",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,u){function l(n){if(n.isZero())return new e.BigNumber(1);for(var r=t.precision+(0|Math.log(n.toNumber())),i=e.BigNumber.constructor({precision:r}),o=new i(n),a=n.toNumber()-1;a>1;)o=o.times(a),a--;return new e.BigNumber(o.toPrecision(e.BigNumber.precision))}var c=r(n(41)),p=r(n(158)),h=u("gamma",{number:function(e){var t,n;if(o(e)){if(0>=e)return isFinite(e)?1/0:0/0;if(e>171)return 1/0;for(var r=e-2,i=e-1;r>1;)i*=r,r--;return 0==i&&(i=1),i}if(.5>e)return Math.PI/(Math.sin(Math.PI*e)*h(1-e));if(e>=171.35)return 1/0;if(e>85){var u=e*e,l=u*e,c=l*e,p=c*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*u)-139/(51840*l)-571/(2488320*c)+163879/(209018880*p)+5246819/(75246796800*p*e))}--e,n=s[0];for(var f=1;f<s.length;++f)n+=s[f]/(e+f);return t=e+a+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*n},Complex:function(t){var n,r;if(0==t.im)return h(t.re);t=new e.Complex(t.re-1,t.im),r=new e.Complex(s[0],0);for(var i=1;i<s.length;++i){var o=t.re+i,u=o*o+t.im*t.im;0!=u?(r.re+=s[i]*o/u,r.im+=-(s[i]*t.im)/u):r.re=s[i]<0?-(1/0):1/0}n=new e.Complex(t.re+a+.5,t.im);var l=Math.sqrt(2*Math.PI);t.re+=.5;var f=p(n,t);0==f.im?f.re*=l:0==f.re?f.im*=l:(f.re*=l,f.im*=l);var d=Math.exp(-n.re);return n.re=d*Math.cos(-n.im),n.im=d*Math.sin(-n.im),c(c(f,n),r)},BigNumber:function(t){if(t.isInteger())return t.isNegative()||t.isZero()?new e.BigNumber(1/0):l(t.minus(1));if(!t.isFinite())return new e.BigNumber(t.isNegative()?0/0:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return i(e,h)}});return h.toTex="\\Gamma\\left(${args[0]}\\right)",h}var i=n(6),o=n(8).isInteger,a=4.7421875,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];t.name="gamma",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(47)),u=r(n(84)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=n(12),f=o("largerEq",{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,n){return e>=n||i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"string, string":function(e,t){return e>=t},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,f);break;default:n=s(t,e,f,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,f,!1);break;default:n=c(e,t,f)}}return n},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,f,!1);break;default:n=p(e,t,f,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,f,!0);break;default:n=p(t,e,f,!0)}return n},"Array, any":function(e,t){return p(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,f,!0).valueOf()}});return f.toTex="\\left(${args[0]}"+h.operators.largerEq+"${args[1]}\\right)",f}var i=n(8).nearlyEqual;t.name="largerEq",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(e,t){return l(e,t)?e:t}function u(e){var t=void 0;if(i(e,function(e){(void 0===t||l(e,t))&&(t=e)}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}var l=r(n(106)),c=a("max",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return o(e,t.valueOf(),s)},"...":function(){return u(arguments)}});return c.toTex="\\max\\left(${args}\\right)",c}var i=n(120),o=n(369);t.name="max",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function u(e,t){var n=a(e,t,c),r=Array.isArray(e)?i(e):e.size();return p(n,r[t])}function l(e){var t=0,n=0;if(o(e,function(e){t=c(t,e),n++}),0===n)throw new Error("Cannot calculate mean of an empty array");return p(t,n)}var c=r(n(54)),p=r(n(156)),h=s("mean",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":u,"...":function(){return l(arguments)}});return h.toTex="\\mathrm{${name}}\\left(${args}\\right)",h}var i=n(24).size,o=n(120),a=n(369);t.name="mean",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(e,t){return l(e,t)?e:t}function u(e){var t=void 0;if(i(e,function(e){(void 0===t||l(e,t))&&(t=e)}),void 0===t)throw new Error("Cannot calculate min of an empty array");return t}var l=r(n(162)),c=a("min",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return o(e,t.valueOf(),s)},"...":function(){return u(arguments)}});return c.toTex="\\min\\left(${args}\\right)",c}var i=n(120),o=n(369);t.name="min",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(n){var r=void 0;if(i(n,function(e){r=void 0===r?e:s(r,e)}),void 0===r)switch(t.number){case"number":return 0;case"bignumber":return new e.BigNumber(0);case"fraction":return new e.Fraction(0);default:return 0}return r}var s=r(n(62)),u=o("sum",{"Array | Matrix":function(e){return a(e)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(){return a(arguments)}});return u.toTex="\\mathrm{${name}}\\left(${args}\\right)",u}var i=n(120);t.name="sum",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(t,n){var r=0,i=0;if(0==t.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(o(t,function(e){r=u(r,e),i++}),0===i)throw new Error("Cannot calculate var of an empty array");var a=p(r,i);switch(r=0,o(t,function(e){var t=l(e,a);r=u(r,c(t,t))}),n){case"uncorrected":return p(r,i);case"biased":return p(r,i+1);case"unbiased":var s=r&&r.isBigNumber===!0?new e.BigNumber(0):0;return 1==i?s:p(r,i-1);default:throw new Error('Unknown normalization "'+n+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}var u=r(n(62)),l=r(n(83)),c=r(n(63)),p=r(n(55)),h=a("variance",{"Array | Matrix":function(e){return s(e,i)},"Array | Matrix, string":s,"...":function(){return s(arguments,i)}});return h.toTex="\\mathrm{Var}\\left(${args}\\right)",h}var i="unbiased",o=n(120);t.name="var",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(e){var t,n=u(e);return n.im<=0?(t=n.re,n.re=-n.im,n.im=t):(t=n.im,n.im=-n.re,n.re=t),n}var u=a.find(r(n(356)),["Complex"]),l=a("acosh",{number:function(n){return n>=1||t.predictable?Math.log(Math.sqrt(n*n-1)+n):-1>=n?new e.Complex(Math.log(Math.sqrt(n*n-1)-n),Math.PI):s(new e.Complex(n,0))},Complex:s,BigNumber:function(t){return o(t,e.BigNumber,!1,!1)},"Array | Matrix":function(e){return i(e,l)}});return l.toTex="\\cosh^{-1}\\left(${args[0]}\\right)",l}var i=n(6),o=n(257);t.name="acosh",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=a.find(r(n(357)),["Complex"]),u=a("asinh",{number:function(e){return Math.log(Math.sqrt(e*e+1)+e)},Complex:function(e){var t=e.im;e.im=-e.re,e.re=t;var n=s(e);return e.re=-e.im,e.im=t,t=n.re,n.re=-n.im,n.im=t,n},BigNumber:function(t){return o(t,e.BigNumber,!0,!1)},"Array | Matrix":function(e){return i(e,u,!0)}});return u.toTex="\\sinh^{-1}\\left(${args[0]}\\right)",u}var i=n(6),o=n(257);t.name="asinh",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=a.find(r(n(157)),["Complex"]),u=a("atan",{number:function(e){return Math.atan(e)},Complex:function(t){if(0==t.re){if(1==t.im)return new e.Complex(0,1/0);if(-1==t.im)return new e.Complex(0,-(1/0))}var n=t.re,r=t.im,i=n*n+(1-r)*(1-r),o=new e.Complex((1-r*r-n*n)/i,-2*n/i),a=s(o);return new e.Complex(-.5*a.im,.5*a.re)},BigNumber:function(t){return o(t,e.BigNumber,!1)},"Array | Matrix":function(e){return i(e,u,!0)}});return u.toTex="\\tan^{-1}\\left(${args[0]}\\right)",u}var i=n(6),o=n(258);t.name="atan",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){function a(t){var n=t.re>1&&0==t.im,r=1-t.re,i=1+t.re,o=r*r+t.im*t.im;t=0!=o?new e.Complex((i*r-t.im*t.im)/o,(t.im*r+i*t.im)/o):new e.Complex(-1!=t.re?t.re/0:0,0!=t.im?t.im/0:0);var a=t.re;return t.re=Math.log(Math.sqrt(t.re*t.re+t.im*t.im))/2,t.im=Math.atan2(t.im,a)/2,n&&(t.im=-t.im),t}var s=r("atanh",{number:function(n){return 1>=n&&n>=-1||t.predictable?Math.log((1+n)/(1-n))/2:a(new e.Complex(n,0))},Complex:a,BigNumber:function(t){return o(t,e.BigNumber,!1)},"Array | Matrix":function(e){return i(e,s,!0)}});return s.toTex="\\tanh^{-1}\\left(${args[0]}\\right)",s}var i=n(6),o=n(585);t.name="atanh",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(5)),u=a("filter",{"Array, function":i,"Array, RegExp":o,"Matrix, function":function(e,t){return s(i(e.toArray(),t))},"Matrix, RegExp":function(e,t){return s(o(e.toArray(),t))}});return u.toTex="\\mathrm{${name}}\\left(${args}\\right)",u}function i(e,t){if(1!==a(e).length)throw new Error("Only one dimensional matrices supported");return e.filter(function(e){return t(e)})}function o(e,t){if(1!==a(e).length)throw new Error("Only one dimensional matrices supported");return e.filter(function(e){return t.test(e)})}var a=n(24).size;t.name="filter",t.factory=r},function(e,t){"use strict";function n(e,t,n,i){var o=i("forEach",{"Array, function":r,"Matrix, function":function(e,t){return e.forEach(t)}});return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}function r(e,t){var n=function(r,i){Array.isArray(r)?r.forEach(function(e,t){n(e,i.concat(t))}):t(r,i,e)};n(e,[])}t.name="forEach",t.factory=n},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("format",{any:i.format,"any, Object | function | number":i.format});return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}var i=n(64);t.name="format",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("isZero",{number:function(e){return 0===e},BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return o(e.value)},"Array | Matrix":function(e){return i(e,o)}});return o}var i=n(6);n(8),t.name="isZero",t.factory=r},function(e,t){"use strict";function n(e,t,n,i){var o=i("map",{"Array, function":r,"Matrix, function":function(e,t){return e.map(t)}});return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}function r(e,t){var n=function(r,i){return Array.isArray(r)?r.map(function(e,t){return n(e,i.concat(t))}):t(r,i,e)};return n(e,[])}t.name="map",t.factory=n},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("_typeof",{any:function(e){var t=i.type(e);if("Object"===t){if(e.isBigNumber===!0)return"BigNumber";if(e.isComplex===!0)return"Complex";if(e.isFraction===!0)return"Fraction";if(e.isMatrix===!0)return"Matrix";if(e.isUnit===!0)return"Unit";if(e.isIndex===!0)return"Index";if(e.isRange===!0)return"Range";if(e.isChain===!0)return"Chain";if(e.isHelp===!0)return"Help"}return t}});return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}var i=n(260);t.name="typeof",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,l){function m(e,t){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!f(t))throw new Error("Invalid datatype: "+t);if(e&&e.isMatrix===!0)"DenseMatrix"===e.type?(this._data=u.clone(e._data),this._size=u.clone(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&c(e.data)&&c(e.size))this._data=e.data,this._size=e.size,this._datatype=t||e.datatype;else if(c(e))this._data=_(e),this._size=s.size(this._data),s.validate(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+i.types.type(e)+")");this._data=[],this._size=[0],this._datatype=t}}function g(e,t){if(!t||t.isIndex!==!0)throw new TypeError("Invalid index");var n=t.isScalar();if(n)return e.get(t.min());var r=t.size();if(r.length!=e._size.length)throw new o(r.length,e._size.length);for(var i=t.min(),a=t.max(),s=0,u=e._size.length;u>s;s++)d(i[s],e._size[s]),d(a[s],e._size[s]);return new m(v(e._data,t,r.length,0),e._datatype)}function v(e,t,n,r){var i=r==n-1,o=t.dimension(r);return i?o.map(function(t){return e[t]}).valueOf():o.map(function(i){var o=e[i];return v(o,t,n,r+1)}).valueOf()}function y(e,t,n,r){if(!t||t.isIndex!==!0)throw new TypeError("Invalid index");var i,a=t.size(),l=t.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.valueOf()):i=s.size(n),l){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(a.length<e._size.length)throw new o(a.length,e._size.length,"<");if(i.length<a.length){for(var c=0,p=0;1===a[c]&&1===i[c];)c++;for(;1===a[c];)p++,c++;n=s.unsqueeze(n,a.length,p,i)}if(!u.deepEqual(a,i))throw new o(a,i,">");var h=t.max().map(function(e){return e+1});w(e,h,r);var f=a.length,d=0;b(e._data,t,n,f,d)}return e}function b(e,t,n,r,i){var o=i==r-1,a=t.dimension(i);a.forEach(o?function(t,r){d(t),e[t]=n[r[0]]}:function(o,a){d(o),b(e[o],t,n[a[0]],r,i+1)})}function w(e,t,n){for(var r=u.clone(e._size),i=!1;r.length<t.length;)r.push(0),i=!0;for(var o=0,a=t.length;a>o;o++)t[o]>r[o]&&(r[o]=t[o],i=!0);i&&E(e,r,n)}function _(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];c(r)?e[t]=_(r):r&&r.isMatrix===!0&&(e[t]=_(r.valueOf()))}return e}var x=r(n(362));m.prototype=new x,m.prototype.type="DenseMatrix",m.prototype.isDenseMatrix=!0,m.prototype.storage=function(){return"dense"},m.prototype.datatype=function(){return this._datatype},m.prototype.create=function(e,t){return new m(e,t)},m.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return g(this,e);case 2:case 3:return y(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},m.prototype.get=function(e){if(!c(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new o(e.length,this._size.length);for(var t=0;t<e.length;t++)d(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;i>r;r++){var a=e[r];d(a,n.length),n=n[a]}return u.clone(n)},m.prototype.set=function(e,t,n){if(!c(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new o(e.length,this._size.length,"<");var r,i,a,s=e.map(function(e){return e+1});w(this,s,n);var u=this._data;for(r=0,i=e.length-1;i>r;r++)a=e[r],d(a,u.length),u=u[a];return a=e[e.length-1],d(a,u.length),u[a]=t,this},m.prototype.resize=function(e,t,n){if(!c(e))throw new TypeError("Array expected");var r=n?this.clone():this;return E(r,e,t)};var E=function(e,t,n){if(0===t.length){for(var r=e._data;c(r);)r=r[0];return u.clone(r)}return e._size=u.clone(t),e._data=s.resize(e._data,e._size,n),e};return m.prototype.clone=function(){var e=new m({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype});return e},m.prototype.size=function(){return this._size},m.prototype.map=function(e){var t=this,n=function(r,i){return c(r)?r.map(function(e,t){return n(e,i.concat(t))}):e(r,i,t)};return new m({data:n(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},m.prototype.forEach=function(e){var t=this,n=function(r,i){c(r)?r.forEach(function(e,t){n(e,i.concat(t))}):e(r,i,t)};n(this._data,[])},m.prototype.toArray=function(){return u.clone(this._data)},m.prototype.valueOf=function(){return this._data},m.prototype.format=function(e){return a.format(this._data,e)},m.prototype.toString=function(){return a.format(this._data)},m.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},m.prototype.diagonal=function(e){if(e){if(e.isBigNumber===!0&&(e=e.toNumber()),!p(e)||!h(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,n=0>e?-e:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-t),a=[],s=0;o>s;s++)a[s]=u.clone(this._data[s+n][s+t]);return new m({data:a,size:[o],datatype:this._datatype})},m.diagonal=function(t,n,r,i,o){if(!c(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(e){if(e&&e.isBigNumber===!0&&(e=e.toNumber()),!p(e)||!h(e)||1>e)throw new Error("Size values must be positive integers");return e}),r){if(r&&r.isBigNumber===!0&&(r=r.toNumber()),!p(r)||!h(r))throw new TypeError("The parameter k must be an integer number")}else r=0;i&&f(o)&&(i=l.convert(i,o));var a,u=r>0?r:0,d=0>r?-r:0,g=t[0],v=t[1],y=Math.min(g-d,v-u);if(c(n)){if(n.length!==y)throw new Error("Invalid value array length");a=function(e){return n[e]}}else if(n&&n.isMatrix===!0){var b=n.size();if(1!==b.length||b[0]!==y)throw new Error("Invalid matrix length");a=function(e){return n.get([e])}}else a=function(){return n};i||(i=a(0)&&a(0).isBigNumber===!0?new e.BigNumber(0):0);var w=[];if(t.length>0){w=s.resize(w,t,i);for(var _=0;y>_;_++)w[_+d][_+u]=a(_)}return new m({data:w,size:[g,v]})},m.fromJSON=function(e){return new m(e)},m.prototype.swapRows=function(e,t){if(!(p(e)&&h(e)&&p(t)&&h(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(e,this._size[0]),d(t,this._size[0]),m._swapRows(e,t,this._data),this},m._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},e.Matrix._storage.dense=m,e.Matrix._storage["default"]=m,m}var i=n(85),o=n(37),a=i.string,s=i.array,u=i.object,l=i.number,c=Array.isArray,p=l.isNumber,h=l.isInteger,f=a.isString,d=s.validateIndex;t.name="DenseMatrix",t.path="type",t.factory=r,t.lazy=!1},function(e,t,n){"use strict";function r(){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(t.isBigNumber===!0)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=n)if(n.isBigNumber===!0)n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(null!=r)if(r.isBigNumber===!0)r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=n?parseFloat(n):0,this.step=null!=r?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var n=t.split(":"),r=n.map(function(e){return parseFloat(e)}),i=r.some(function(e){return isNaN(e)});if(i)return null;switch(r.length){case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[2],r[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end,o=r-t;return i.sign(n)==i.sign(o)?e=Math.ceil(o/n):0==o&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;r>t;)e(t,[i],this),t+=n,i++;else if(0>n)for(;t>r;)e(t,[i],this),t+=n,i++},e.prototype.map=function(e){var t=[];return this.forEach(function(n,r,i){t[r[0]]=e(n,r,i)}),t},e.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=i.format(this.start,e);return 1!=this.step&&(t+=":"+i.format(this.step,e)),t+=":"+i.format(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}var i=n(8);t.name="Range",t.path="type",t.factory=r},function(e,t){"use strict";function n(e,t,n,r){return r("index",{"...number | BigNumber | Range | Array | Matrix":function(t){var n=t.map(function(e){return e&&e.isBigNumber===!0?e.toNumber():e&&(Array.isArray(e)||e.isMatrix===!0)?e.map(function(e){return e&&e.isBigNumber===!0?e.toNumber():e}):e}),r=new e.Index;return e.Index.apply(r,n),r}})}t.name="index",t.factory=n},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(31)),s=e.SparseMatrix,u=function(e,t,n){var r=e._values,u=e._index,l=e._ptr,c=e._size,p=e._datatype,h=t._values,f=t._index,d=t._ptr,m=t._size,g=t._datatype;if(c.length!==m.length)throw new i(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var v,y=c[0],b=c[1],w=a,_=0,x=n;"string"==typeof p&&p===g&&(v=p,w=o.find(a,[v,v]),_=o.convert(0,v),x=o.find(n,[v,v]));var E,k,C,A,S,M=r&&h?[]:void 0,T=[],D=[],O=new s({values:M,index:T,ptr:D,size:[y,b],datatype:v}),L=M?[]:void 0,F=[];for(k=0;b>k;k++){D[k]=T.length;var P=k+1;if(L)for(A=d[k],S=d[k+1],C=A;S>C;C++)E=f[C],F[E]=P,L[E]=h[C];for(A=l[k],S=l[k+1],C=A;S>C;C++)if(E=u[C],L){var N=F[E]===P?L[E]:_,B=x(r[C],N);w(B,_)||(T.push(E),M.push(B))}else T.push(E)}return D[b]=T.length,O};return u}var i=n(37);t.name="algorithm09",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("number",{"":function(){return 0},number:function(e){return e},string:function(e){var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return i(e,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=n(6);t.name="number",t.factory=r},function(e,t){"use strict";function n(){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}t.name="ResultSet",t.path="type",t.factory=n},function(e,t,n){var r=n(108).pi,i=n(258);e.exports=function(e,t,n){if(n){if(e.abs().lt(t.ONE))throw new Error("asec() only has non-complex values for |x| >= 1.")}else if(e.abs().gt(t.ONE))throw new Error("acos() only has non-complex values for |x| <= 1.");if(e.eq(-1))return r(t);var o=t.precision;t.config({precision:o+4}),n&&(e=t.ONE.div(e));var a=i(t.ONE.minus(e.times(e)).sqrt().div(e.plus(t.ONE)),t).times(2);return t.config({precision:o}),a.toDP(o-1)}},function(e){e.exports=function(e){for(var t=e,n=0/0,r=e.times(e),i=e,o=!0,a=3;!t.equals(n);a+=2)i=i.times(r),n=t,o=!o,t=o?t.plus(i.div(a)):t.minus(i.div(a));return t}},function(e){e.exports=function(e,t,n){if(e.isNaN())return new t(0/0);var r=e.abs();if(r.eq(t.ONE))return new t(e.isNegative()?-(1/0):1/0);if(r.gt(t.ONE)){if(!n)throw new Error("atanh() only has non-complex values for |x| <= 1.")}else if(n)throw new Error("acoth() has complex values for |x| < 1.");if(e.isZero())return new t(0);var i=t.precision;t.config({precision:i+4});var o=new t(e);o.constructor=t,n&&(o=t.ONE.div(o));var a=t.ONE.plus(o).div(t.ONE.minus(o)).ln().div(2);return t.config({precision:i}),new t(a.toPrecision(i))}},function(e,t,n){var r=n(108);e.exports=function(e,t,n){var i=r.pi(t.constructor({precision:t.precision+2})),o=r.tau(t);if(e.abs().lte(i.toDP(e.dp())))return[e,!1];if(e.dp()>0&&e.div(i.toDP(e.dp())).toNumber()%2==0)return[new t(1^n),!0];
var a=e.mod(o);return e.dp()>0&&a.toDP(e.dp(),1).isZero()?[new t(1^n),!0]:(a.gt(i)&&(n?(a=a.minus(i),a.s=-a.s):a=o.minus(a)),a.constructor=e.constructor,[a,!1])}},function(e){e.exports=function(e){var t=e.constructor,n=t.precision;t.config({precision:n+2});var r=t.ONE.minus(e.times(e)).sqrt();return t.config({precision:n}),r.toDP(n-1)}},function(e,t,n){var r=n(108),i=n(164),o=n(587),a=n(586);e.exports=function(e,t,n){if(e.isNaN())return new t(0/0);var s=t.precision,u=r.pi(t.constructor({precision:s+2})),l=u.div(2).toDP(s-1);u=u.toDP(s-1);var c=a(e,t,1)[0];if(c.abs().eq(u))return new t(1/0);t.config({precision:s+4});var p=i(c,t,1,!1),h=o(p);p=p.toDP(s),h=h.toDP(s),c.eq(e)?c.gt(l)&&(h.s=-h.s):u.minus(c.abs()).gt(l)&&(h.s=-h.s);var f=n?h.div(p):p.div(h);return t.config({precision:s}),new t(f.toPrecision(s))}},function(e){e.exports=function(e,t,n){if(e.isNaN())return new t(0/0);if(!e.isFinite())return new t(e.s);var r=t.precision;t.config({precision:r+4});var i=new t(e);i.constructor=t;var o=i.exp(),a=t.ONE.div(o),s=o.minus(a);return s=n?o.plus(a).div(s):s.div(o.plus(a)),t.config({precision:r}),s.toDP(r-1)}},function(e,t,n){var r=n(1170);t.mixin=function(e){var t=new r;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}},function(e,t){t.memoize=function(e,t){return function n(){"object"!=typeof n.cache&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t(r):JSON.stringify(r);return o in n.cache?n.cache[o]:n.cache[o]=e.apply(e,r)}}},,function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;a>u;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(t,n(26))},function(e,t,n){var r=n(290),i={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};i.parseValues=function(e,t){for(var n={},i=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),o=0,a=i.length;a>o;++o){var s=i[o],u=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;if(-1===u)n[r.decode(s)]="",t.strictNullHandling&&(n[r.decode(s)]=null);else{var l=r.decode(s.slice(0,u)),c=r.decode(s.slice(u+1));n[l]=Object.prototype.hasOwnProperty.call(n,l)?[].concat(n[l]).concat(c):c}}return n},i.parseObject=function(e,t,n){if(!e.length)return t;var r,o=e.shift();if("[]"===o)r=[],r=r.concat(i.parseObject(e,t,n));else{r=n.plainObjects?Object.create(null):{};var a="["===o[0]&&"]"===o[o.length-1]?o.slice(1,o.length-1):o,s=parseInt(a,10),u=""+s;!isNaN(s)&&o!==a&&u===a&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(r=[],r[s]=i.parseObject(e,t,n)):r[a]=i.parseObject(e,t,n)}return r},i.parseKeys=function(e,t,n){if(e){n.allowDots&&(e=e.replace(/\.([^\.\[]+)/g,"[$1]"));var r=/^([^\[\]]*)/,o=/(\[[^\[\]]*\])/g,a=r.exec(e),s=[];if(a[1]){if(!n.plainObjects&&Object.prototype.hasOwnProperty(a[1])&&!n.allowPrototypes)return;s.push(a[1])}for(var u=0;null!==(a=o.exec(e))&&u<n.depth;)++u,(n.plainObjects||!Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||n.allowPrototypes)&&s.push(a[1]);return a&&s.push("["+e.slice(a.index)+"]"),i.parseObject(s,t,n)}},e.exports=function(e,t){if(t=t||{},t.delimiter="string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:i.delimiter,t.depth="number"==typeof t.depth?t.depth:i.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:i.arrayLimit,t.parseArrays=t.parseArrays!==!1,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:i.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:i.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:i.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:i.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling,""===e||null===e||"undefined"==typeof e)return t.plainObjects?Object.create(null):{};for(var n="string"==typeof e?i.parseValues(e,t):e,o=t.plainObjects?Object.create(null):{},a=Object.keys(n),s=0,u=a.length;u>s;++s){var l=a[s],c=i.parseKeys(l,n[l],t);o=r.merge(o,c,t)}return r.compact(o)}},function(e,t,n){var r=n(290),i={delimiter:"&",arrayPrefixGenerators:{brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},strictNullHandling:!1,skipNulls:!1,encode:!0};i.stringify=function(e,t,n,o,a,s,u,l){if("function"==typeof u)e=u(t,e);else if(r.isBuffer(e))e=e.toString();else if(e instanceof Date)e=e.toISOString();else if(null===e){if(o)return s?r.encode(t):t;e=""}if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return s?[r.encode(t)+"="+r.encode(e)]:[t+"="+e];var c=[];if("undefined"==typeof e)return c;var p;if(Array.isArray(u))p=u;else{var h=Object.keys(e);p=l?h.sort(l):h}for(var f=0,d=p.length;d>f;++f){var m=p[f];a&&null===e[m]||(c=c.concat(Array.isArray(e)?i.stringify(e[m],n(t,m),n,o,a,s,u):i.stringify(e[m],t+"["+m+"]",n,o,a,s,u)))}return c},e.exports=function(e,t){t=t||{};var n,r,o="undefined"==typeof t.delimiter?i.delimiter:t.delimiter,a="boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling,s="boolean"==typeof t.skipNulls?t.skipNulls:i.skipNulls,u="boolean"==typeof t.encode?t.encode:i.encode,l="function"==typeof t.sort?t.sort:null;"function"==typeof t.filter?(r=t.filter,e=r("",e)):Array.isArray(t.filter)&&(n=r=t.filter);var c=[];if("object"!=typeof e||null===e)return"";var p;p=t.arrayFormat in i.arrayPrefixGenerators?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":"indices";var h=i.arrayPrefixGenerators[p];n||(n=Object.keys(e)),l&&n.sort(l);for(var f=0,d=n.length;d>f;++f){var m=n[f];s&&null===e[m]||(c=c.concat(i.stringify(e[m],m,h,a,s,u,r,l)))}return c.join(o)}},,,,,,function(e,t,n){"use strict";var r=n(237),i=n(603),o=n(114);r.inject();var a={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:o};e.exports=a},function(e){"use strict";var t={isBatchingUpdates:!1,batchedUpdates:function(){}};e.exports=t},function(e,t,n){"use strict";function r(e,t){var n;try{return f.injection.injectBatchingStrategy(p),n=h.getPooled(t),n.perform(function(){var r=m(e),i=c.mountComponent(r,n,null,a(),d);return t||(i=l.addChecksumToMarkup(i)),i},null)}finally{h.release(n),f.injection.injectBatchingStrategy(s)}}function i(e){return u.isValidElement(e)?void 0:g(!1),r(e,!1)}function o(e){return u.isValidElement(e)?void 0:g(!1),r(e,!0)}var a=n(235),s=n(236),u=n(17),l=(n(20),n(238)),c=n(52),p=n(602),h=n(239),f=n(27),d=n(61),m=n(149),g=n(2);e.exports={renderToString:i,renderToStaticMarkup:o}},function(e){"use strict";e.exports={}},function(e){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(86),i=n(425),o=n(1162),a=n(1159),s={preEmit:1,shouldEmit:1};e.exports=function(e){function t(){var t,n=0;if(this.subscriptions=[],this.emitter=new r.EventEmitter,this.eventLabel="change",a(this,e),this.init&&r.isFunction(this.init)&&this.init(),this.listenables)for(t=[].concat(this.listenables);n<t.length;n++)this.listenToMany(t[n])}var u=n(605),l=n(426),c=n(136);e=e||{};for(var p in u)if(!s[p]&&(l[p]||c[p]))throw new Error("Cannot override API method "+p+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var h in e)if(!s[h]&&(l[h]||c[h]))throw new Error("Cannot override API method "+h+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");e=o(e),r.extend(t.prototype,c,l,u,e);var f=new t;return i.createdStores.push(f),f}},function(e,t,n){"use strict";function r(e,t,n){return function(){var r,i=n.subscriptions,o=i?i.indexOf(e):-1;for(u.throwIf(-1===o,"Tried to remove join already gone from subscriptions list!"),r=0;r<t.length;r++)t[r]();i.splice(o,1)}}function i(e){e.listenablesEmitted=new Array(e.numberOfListenables),e.args=new Array(e.numberOfListenables)}function o(e,t){return function(){var n=l.call(arguments);if(t.listenablesEmitted[e])switch(t.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":t.args[e]=n;break;case"all":t.args[e].push(n)}else t.listenablesEmitted[e]=!0,t.args[e]="all"===t.strategy?[n]:n;a(t)}}function a(e){for(var t=0;t<e.numberOfListenables;t++)if(!e.listenablesEmitted[t])return;e.callback.apply(e.listener,e.args),i(e)}var s=n(606),u=n(86),l=Array.prototype.slice,c={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};t.staticJoinCreator=function(e){return function(){var t=l.call(arguments);return s({init:function(){this[c[e]].apply(this,t.concat("triggerAsync"))}})}},t.instanceJoinCreator=function(e){return function(){u.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");var t,n,a=l.call(arguments),s=a.pop(),c=a.length,p={numberOfListenables:c,callback:this[s]||s,listener:this,strategy:e},h=[];for(t=0;c>t;t++)u.throwIf(this.validateListening(a[t]));for(t=0;c>t;t++)h.push(a[t].listen(o(t,p),this));return i(p),n={listenable:a},n.stop=r(n,h,this),this.subscriptions=(this.subscriptions||[]).concat(n),n}}},,function(e,t){function n(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')}function r(e){var t=e.match(g);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function o(e){var n=e,o=r(e);if(o){if(!o.path)return e;n=o.path}for(var a,s=t.isAbsolute(n),u=n.split(/\/+/),l=0,c=u.length-1;c>=0;c--)a=u[c],"."===a?u.splice(c,1):".."===a?l++:l>0&&(""===a?(u.splice(c+1,l),l=0):(u.splice(c,2),l--));return n=u.join("/"),""===n&&(n=s?"/":"."),o?(o.path=n,i(o)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=r(t),a=r(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),i(n);if(n||t.match(v))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var s="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=s,i(a)):s}function s(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(0>r)return t;if(e=e.slice(0,r),e.match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)}function u(e){return e}function l(e){return p(e)?"$"+e:e}function c(e){return p(e)?e.slice(1):e}function p(e){if(!e)return!1;var t=e.length;if(9>t)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t,n){var r=e.source-t.source;return 0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r||n?r:(r=e.generatedColumn-t.generatedColumn,0!==r?r:(r=e.generatedLine-t.generatedLine,0!==r?r:e.name-t.name))))}function f(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:(r=e.generatedColumn-t.generatedColumn,0!==r||n?r:(r=e.source-t.source,0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r?r:e.name-t.name))))}function d(e,t){return e===t?0:e>t?1:-1}function m(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:(n=e.generatedColumn-t.generatedColumn,0!==n?n:(n=d(e.source,t.source),0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n?n:d(e.name,t.name)))))}t.getArg=n;var g=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,v=/^data:.+\,.+$/;t.urlParse=r,t.urlGenerate=i,t.normalize=o,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(g)},t.relative=s;var y=function(){var e=Object.create(null);return!("__proto__"in e)}();t.toSetString=y?u:l,t.fromSetString=y?u:c,t.compareByOriginalPositions=h,t.compareByGeneratedPositionsDeflated=f,t.compareByGeneratedPositionsInflated=m},,,,,,,function(e,t,n){var r=n(87),i=n(619);e.exports=function(e,t){return e=r(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),t===!0?i(e):e}},function(e,t,n){var r=n(14),i="\u0105\xe0\xe1\xe4\xe2\xe3\xe5\xe6\u0103\u0107\u010d\u0109\u0119\xe8\xe9\xeb\xea\u011d\u0125\xec\xed\xef\xee\u0135\u0142\u013e\u0144\u0148\xf2\xf3\xf6\u0151\xf4\xf5\xf0\xf8\u015b\u0219\u0161\u015d\u0165\u021b\u016d\xf9\xfa\xfc\u0171\xfb\xf1\xff\xfd\xe7\u017c\u017a\u017e",o="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssttuuuuuunyyczzz";i+=i.toUpperCase(),o+=o.toUpperCase(),o=o.split(""),i+="\xdf",o.push("ss"),e.exports=function(e){return r(e).replace(/.{1}/g,function(e){var t=i.indexOf(e);return-1===t?e:o[t]})}},function(e,t,n){var r=n(87);e.exports=function(e){return r(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},function(e,t,n){var r=n(14);e.exports=function(e){return e=r(e),e.charAt(0).toLowerCase()+e.slice(1)}},function(e,t,n){var r=n(14);e.exports=function(e,t){return e=r(e),0===e.length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+t)}},function(e,t,n){var r=n(14);e.exports=function(e){return r(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},function(e){e.exports=function(e){return 0>e?0:+e||0}},function(e,t,n){var r=n(14);e.exports=function(e){return/^\s*$/.test(r(e))}},function(e,t,n){var r=n(430);e.exports=function(e,t,n,i){var o=r(e);return o.splice(~~t,~~n,i),o.join("")}},function(e,t,n){var r=n(431),i=Object.prototype.toString,o=function(){function e(e){return i.call(e).slice(8,-1).toLowerCase()}var t=r,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i,a,s,u,l,c,p,h=1,f=n.length,d="",m=[];for(a=0;f>a;a++)if(d=e(n[a]),"string"===d)m.push(n[a]);else if("array"===d){if(u=n[a],u[2])for(i=r[h],s=0;s<u[2].length;s++){if(!i.hasOwnProperty(u[2][s]))throw new Error(o('[_.sprintf] property "%s" does not exist',u[2][s]));i=i[u[2][s]]}else i=u[1]?r[u[1]]:r[h++];if(/[^s]/.test(u[8])&&"number"!=e(i))throw new Error(o("[_.sprintf] expecting number but found %s",e(i)));switch(u[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=u[7]?i.toExponential(u[7]):i.toExponential();break;case"f":i=u[7]?parseFloat(i).toFixed(u[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&u[7]?i.substring(0,u[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(u[8])&&u[3]&&i>=0?"+"+i:i,c=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",p=u[6]-String(i).length,l=u[6]?t(c,p):"",m.push(u[5]?i+l:l+i)}return m.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var o=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw new Error("[_.sprintf] huh?");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw new Error("[_.sprintf] huh?");o.push(s[1])}n[2]=o}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},n}();e.exports=o},function(e){e.exports=function(e,t){return[t,e,t].join("")}},function(e,t,n){var r=n(432);e.exports=function(e,t,n,i){t=t||", ",n=n||" and ";var o=e.slice(),a=o.pop();return e.length>2&&i&&(n=r(t)+n),o.length?o.join(t)+n+a:a}},function(e,t,n){var r=n(87);e.exports=function(e){return r(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},function(e,t,n){e.exports={VelocityComponent:n(2543),VelocityTransitionGroup:n(2545),velocityHelpers:n(2544)}},function(e,t,n){function r(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}var i=n(1601);e.exports=r},function(e,t,n){function r(e){return null!=e&&o(i(e))}var i=n(1595),o=n(454);e.exports=r},function(e,t,n){var r;!function(){"use strict";r=function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){function e(e,n){function r(t,r,o){var a=e._defer(),s=o.length,u=new Array(s);return i({f:t,thisArg:r,args:o,params:u,i:s-1,call:n},a._handler),a}function i(t,r){if(t.i<0)return n(t.f,t.thisArg,t.params,r);var i=e._handler(t.args[t.i]);i.fold(o,t,void 0,r)}function o(e,t,n){e.params[e.i]=t,e.i-=1,i(e,n)}return arguments.length<2&&(n=t),r}function t(e,t,n,r){try{r.resolve(e.apply(t,n))}catch(i){r.reject(i)}}return e.tryCatchResolve=t,e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){function e(){return{state:"pending"}}function t(e){return{state:"rejected",reason:e}}function n(e){return{state:"fulfilled",value:e}}function r(r){var i=r.state();return 0===i?e():i>0?n(r.value):t(r.value)}return{pending:e,fulfilled:n,rejected:t,inspect:r}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){function e(e,t,n,r){var i=E.resolve(e);return arguments.length<2?i:i.then(t,n,r)}function t(e){return new E(e)}function r(e){return function(){for(var t=0,n=arguments.length,r=new Array(n);n>t;++t)r[t]=arguments[t];return k(e,this,r)}}function i(e){for(var t=0,n=arguments.length-1,r=new Array(n);n>t;++t)r[t]=arguments[t+1];return k(e,this,r)}function o(){return new a}function a(){function e(e){r._handler.resolve(e)}function t(e){r._handler.reject(e)}function n(e){r._handler.notify(e)}var r=E._defer();this.promise=r,this.resolve=e,this.reject=t,this.notify=n,this.resolver={resolve:e,reject:t,notify:n}}function s(e){return e&&"function"==typeof e.then}function u(){return E.all(arguments)}function l(t){return e(t,E.all)}function c(t){return e(t,E.settle)}function p(t,n){return e(t,function(e){return E.map(e,n)})}function h(t,n){return e(t,function(e){return E.filter(e,n)})}var f=n(1234),d=n(1228),m=n(1229),g=n(1230),v=n(1231),y=n(1232),b=n(1233),w=n(1236),_=n(1235),x=n(632),E=[d,m,g,y,b,v,w,f,_].reduce(function(e,t){return t(e)},n(1226)),k=n(633)(E);return e.promise=t,e.resolve=E.resolve,e.reject=E.reject,e.lift=r,e["try"]=i,e.attempt=i,e.iterate=E.iterate,e.unfold=E.unfold,e.join=u,e.all=l,e.settle=c,e.any=r(E.any),e.some=r(E.some),e.race=r(E.race),e.map=p,e.filter=h,e.reduce=r(E.reduce),e.reduceRight=r(E.reduceRight),e.isPromiseLike=s,e.Promise=E,e.defer=o,e.TimeoutError=x,e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},,,,,function(e,t,n){e.exports=n(697)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]="v1",e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButton=t.Toolbar=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(44),p=r(c),h=n(100),f=(r(h),t.Toolbar=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.direction,t="interactive toolbar toolbar-"+e+" btn-group btn-group-"+e;return l["default"].createElement("div",{className:t},this.props.children)}}],[{key:"defaultProps",get:function(){return{direction:"vertical"}}}]),t}(l["default"].Component));t.ToolbarButton=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.tooltip,n=e.tooltipContainer;this.$el().tooltip({placement:t,container:n})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.icon,r=e.track,i=p["default"]("toolbar-btn btn",this.props.className,{collapsed:this.props.collapsed});return l["default"].createElement("button",{ref:"el",className:i,title:t,"data-track-click":r,onClick:this.handleClick.bind(this)},l["default"].createElement("i",{className:n}))}},{key:"handleClick",value:function(e){this.$el().tooltip("hide");var t=this.props.onClick;t&&t(e)}},{key:"$el",value:function(){return $(this.refs.el)}}],[{key:"defaultProps",get:function(){return{tooltip:"left",tooltipContainer:"body"}}}]),t}(l["default"].Component),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){e["default"]&&e["default"]!==c?l["default"](e["default"]).forEach(function(t){var r=t.toLowerCase(),i=e.options.findIndex(function(e){return e.value===t||String(e.value).toLowerCase()==r});i>=0&&n(i,!0)}):d().forEach(function(t,r){return n(r,e["default"]===c||t["default"]===!0)})}function n(t,n){void 0===n&&(n=!b.active[t]),n&&!e.multiple&&(b.active={}),b.active[t]=n}function r(e,t,r){if(e>t){var i=[t,e];e=i[0],t=i[1]}s["default"].parse(e+".."+t).forEach(function(e){return n(e,r)})}function i(){var t=e.options,n=g();n.length<t.length?r(0,t.length-1,!0):b.active={}}function a(t){var n={options:u(t),summary:e.summary||p()};return e.multiple&&(n.toggleAll=function(){i(),t()}),n}function u(e){return d().map(function(t,n){var r=f(n),i=h(n,e);return o({},t,{active:r,toggle:i})})}function p(){var e=g().map(function(e){return e.label});if(e.length>3){var t=e.length-3;return e.slice(0,3).join(", ")+(", +"+t+" more")}return e.join(", ")}function h(e,t){return function(i){var o=b.prevClick;if(i&&i.shiftKey&&o?r(o,e,f(o)):n(e),b.prevClick=e,t){var a=m(e);t(a,e)}}}function f(e){return!!b.active[e]}function d(){return e.options}function m(t){return e.options[t]}function g(){return e.options.filter(function(e,t){return b.active[t]})}function v(e){return g().map(function(t){return t[e]})}function y(){return g().map(function(e){return e.selector}).join(", ")}var b={active:{},prevClick:void 0};return t(),{at:m,toggle:n,toggleAll:i,toggleFor:h,getControlState:a,isActive:f,all:d,active:g,selector:y,pluckActive:v}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(1448),s=r(a),u=n(1285),l=r(u),c="select-all";e.exports=t["default"]},function(e){"use strict";var t=$(window),n=$("body"),r={id:"default",name:"Default mode",enter:function(){},exit:function(){},resize:function(){var e="100%",r=t.height(),i=window.innerHeight,o=0;i&&i!==r&&(o=r-i,r=i),n.css("padding-top",o),map.resize(e,r)},shouldZoomFitOnLoad:function(){return currentMap.zoomFitOnLoad},shouldZoomFitOnFocus:function(){return!0}};e.exports=r},,function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.match(/<iframe/i)?l["default"].createElement("div",{className:"embed-container",dangerouslySetInnerHTML:{__html:e}}):void 0}function a(e){var t=e.match(/twitter.com\/.*?\/status\/(\d+)/);return t?l["default"].createElement(y,{id:t[1]}):void 0}function s(e,t){return l["default"].createElement(b,t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=i(u),c=n(736),p=i(c),h=n(46),f=i(h),d=n(737),m=i(d),g=[o,a,s],v=l["default"].createClass({displayName:"Embed",getDefaultProps:function(){return{src:"",size:"auto",preview:!1}},render:function(){for(var e=0;e<g.length;e++){var t=g[e](this.props.src,this.props);if(t)return t}}}),y=l["default"].createClass({displayName:"Tweet",mixins:[f["default"]],componentDidMount:function(){twttr.ready(this.fetch)},componentDidUpdate:function(){twttr.ready(this.fetch)},render:function(){return l["default"].createElement("div",{className:"embed-container"})},fetch:function(){var e=this.$el().empty();twttr.widgets.createTweet(this.props.id,e.get(0),{})}}),b=l["default"].createClass({displayName:"Embedly",mixins:[f["default"]],getInitialState:function(){return{ready:!1}},getDefaultProps:function(){return{key:"c0f942bff62144d09cc6fa18434af636"}},componentWillMount:function(){this.fetch()},componentWillReceiveProps:function(e){e.src!==this.props.src&&this.replaceState({ready:!1})},componentDidMount:function(){this.state.ready&&this.resize()},componentDidUpdate:function(){this.state.ready?this.resize():this.props.src&&this.fetch()},render:function(){return this.state.ready?this.renderEmbed():this.renderPlaceholder()},renderEmbed:function(){var e=this.state;return this.props.preview?l["default"].createElement("div",{className:"embed-container"},l["default"].createElement("img",{src:e.images[0].url})):l["default"].createElement("div",{className:"embed-container",dangerouslySetInnerHTML:{__html:e.html}})},renderPlaceholder:function(){return l["default"].createElement(m["default"],null)},fetch:function(){if(this.props.src){var e=this,t=_.extend({},this.props,{url:this.props.src,maxwidth:this.props.maxWidth,maxheight:this.props.maxHeight}),n=this.props.preview?"extract":"oembed";p["default"].fetch(n,t).done(function(t){t.ready=!0,e.setState(t)}).fail(function(){r.error("Embed failed",arguments)})}},resize:function(){"full"===this.props.size?this.resizeFull():this.resizeAuto()},resizeTo:function(e,t){this.$el().find(":first-child").width(e).height(t)},resizeAuto:function(){var e=this.getMaxSize(),t=Math.min(e.width,this.state.width),n=Math.min(e.height,this.state.height);this.resizeTo(t,n)},resizeFull:function(){var e=this.getMaxSize();this.resizeTo(e.width,e.height)},getMaxSize:function(){var e=20,t=this.$el(),n=t.width()-2*e,r=t.height()-2*e,i=this.state.width,o=this.state.height,a=i/o;return i=n,o=n/a,o>r&&(o=r,i=r*a),{width:i,height:o}}});t["default"]=v,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return g.test(e)?e:o(e)?u(e):a(e)?l(e):s(e)?c(e):e}function o(e){return e instanceof Doc}function a(e){return Doc.id(e)}function s(e){return e instanceof Blob}function u(e){return e.isNew()||e.isDirty()?c(e.get("blob")):e.url()}function l(e){return Doc.url(e)}function c(e){return URL.createObjectURL(e)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=r(p),f=n(46),d=r(f),m=/^blob:/i,g=/^(http|www|\/)/i,v=h["default"].createClass({displayName:"DocView",mixins:[d["default"]],getDefaultProps:function(){return{className:"",type:"img",src:""}},componentDidMount:function(){this.revokeObjectURLOnLoad()},componentDidUpdate:function(){this.revokeObjectURLOnLoad()},componentWillUpdate:function(){this.revokeObjectURL()},componentWillUnmount:function(){this.revokeObjectURL()},render:function(){var e=i(this.props.src);return h["default"].createElement("img",{ref:"img",src:e,className:this.props.className})},revokeObjectURLOnLoad:function(){var e=this.el("img");m.test(e.src)&&(e.onload=this.revokeObjectURL)},revokeObjectURL:function(){this.isMounted()&&URL.revokeObjectURL(this.el("img").src)}});t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){return Math.max(0,Math.min(e,t.length-1))}function i(e){var t=_.clone(e.get("slides"))||[];return t.unshift(o(e)),t}function o(e){return{id:uuid(4),type:"cover",title:e.get("title"),subtitle:e.get("subtitle"),aspect:e.get("aspect")||"hd",image:e.get("image"),attribution:e.get("attribution")}}function a(){var e={id:uuid(4),type:"map"},t=p.getCurrentSlide(),n=!t;if(l(e),e.legend=!1,n)e.sidebar=!1;else if("map"===t.type&&t.preview){var r=t.preview;e.preview=_.isString(r)?r:r.clone()}return e}var s=n(65),u=n(473),l=n(1957),c=n(1958),p=s.createStore({init:function(){this.index=0,this.slides=[],this.listenToMany(u)},reset:function(){this.presentation=void 0,this.lastSave=void 0,this.index=0,this.slides=[],this.currentSlide=void 0,map.off("transform",this.onTransform),map.off("zoomfit",this.onZoomFit)},load:function(e,t){this.presentation=e,this.slides=i(e),this.currentSlide=null,this.status=null,this.lastSave=null,this.go(t||0)},setStatus:function(e){this.status=e,this.trigger()},go:function(e){this.shouldCaptureCurrentSlide()&&this.captureCurrentSlide(),this.index=r(e,this.slides),this.currentSlide=this.slides[this.index],this.enteredAt=Date.now(),this.trigger()},shouldCaptureCurrentSlide:function(){if(this.enteredAt){var e=Date.now()-this.enteredAt;return e>3e3}return!1},captureCurrentSlide:function(){l(this.currentSlide)},prev:function(){this.go(this.index-1)},next:function(){this.go(this.index+1)},getStatus:function(){return this.status},getAspect:function(){return this.aspect},getIndex:function(){return this.index},getSlides:function(){return this.slides},getSlide:function(e){return this.slides[e]},getCurrentSlide:function(){return this.currentSlide},getPresentation:function(){return this.presentation},getPresentationAttributes:function(){var e,t;return this.captureCurrentSlide(),e=_.clone(this.slides),t=e.shift(),{title:t.title,subtitle:t.subtitle,image:t.image,attribution:t.attribution,slides:e.map(c.clean)}},isFirstSlide:function(){return 0===this.index},isLastSlide:function(){return this.index===this.slides.length-1},isDirty:function(){return!_.isEqual(this.lastSave,this.getPresentationAttributes())},onAddSlide:function(){var e=this.index+1,t=a();this.slides.splice(e,0,t),this.go(e)},onRemoveSlide:function(e){if(1!==this.slides.length){this.slides=_.without(this.slides,e);var t=r(this.index,this.slides);this.go(t)}},onPrev:function(){this.prev()},onNext:function(){this.next()},onOpenSlide:function(e){var t=this.slides.indexOf(e);this.go(t)},onUpdateSlide:function(e,t,n){if(n instanceof Blob){var r=n,i=e[t]=Drive.doc(e[t]);
i.update(r,{save:!1})}else e[t]=n;"map"===e.type&&(e.style=e.style||"story"),this.trigger()},onReorder:function(e){this.index=e.indexOf(this.currentSlide),this.slides=e,this.trigger()},onCaptureSlide:function(){this.captureCurrentSlide(),this.trigger()},onSave:function(){this.setStatus("saving")},onSaveDone:function(){this.lastSave=this.getPresentationAttributes(),this.setStatus("saved")},onSaveFail:function(){log.error("Unable to save presentation",this.presentation.toJSON()),this.setStatus("error")},onResetStatus:function(){this.setStatus(void 0)},onExit:function(){this.setStatus("done")}});e.exports=p},,,function(e){var t,n,r,i;i=/^(_id|from|to|type)$/i,n={elements:/^(_id|id|label|type|element type)$/i,connections:/^(_id|id|from|to|label|type|connection type)$/i},t=/<(.*)>$/,r=function(){function e(e){this["import"]=e,this.attributes={},this.values={}}return e.prototype.prepare=function(e){var t;return t=this.sheets(e),t.filter(function(e){return!!e})},e.prototype.validate=function(e){var t,n,r,i,o,a;for(i=this.sheets(e),o=[],n=t=0,r=i.length;r>t;n=++t)a=i[n],o.push(this.validateSheet(a,n));return o},e.prototype.validateSheet=function(e){var t,n,r,i;switch(i=this.trim,r=this.headers(e),t=_.map(r,function(e){return i(e).toLowerCase()}),n=this.identifyCollection(t),/^(_id|id|label|from)$/i.test(t[0])||this["import"].flag("irregular"),n){case"elements":if(!_.contains(t,"label"))return this["import"].flag("labels-not-found")}},e.prototype.headers=function(e){var t,n,r;for(t=0,n=e.length;n>t;t++)if(r=e[t],!this.isBlank(r))return r;return[]},e.prototype.translate=function(e){var t,n,r,i,o;for(this.blueprint={attributes:[],elements:[],connections:[]},i=this.sheets(e),n=t=0,r=i.length;r>t;n=++t)o=i[n],this.reset(),this.context.sheet=o,this.context.sheetNumber=n,this.processSheet(o);return this.processAttributes(),this.blueprint},e.prototype.processSheet=function(e){var t,n,r,i;for(n=t=0,r=e.length;r>t;n=++t)i=e[n],this.context.row=i,this.context.rowNumber=n,this.processRow(i);return this.commit()},e.prototype.flush=function(){return this.commit(),this.reset()},e.prototype.reset=function(){return this.context={blanks:0,collection:null,entity:null,sheet:null,sheetNumber:null,row:null,rowNumber:null,columnNumber:null,attributes:[],attribute:null}},e.prototype.processRow=function(e){return this.isBlank(e)?(this.context.blanks+=1,this.context.blanks>=2?this.flush():void 0):(this.context.blanks=0,0===this.context.attributes.length?this.processHeaders(e):this.processValues(e))},e.prototype.processHeaders=function(e){var t,n,r,i,o;for(i=r=0,o=e.length;o>r;i=++r)n=e[i],this.processHeader(n,i);return t=_.pluck(this.context.attributes,"name"),this.context.collection=this.identifyCollection(t)},e.prototype.processHeader=function(e,t){var n,r;return r=this.trim(e),n=this.isBlank(r)?this.context.attributes[t-1]:this.findOrCreateAttribute(r),this.context.attributes[t]=n},e.prototype.processValues=function(e){var t,n,r,i,o,a,s,u;for((this.irregular()||this.isPresent(e[0]))&&this.shift(),s=this.context,n=s.collection,r=s.entity,o=i=0,a=e.length;a>i;o=++i)u=e[o],this.context.columnNumber=o,t=this.context.attributes[o],null==t&&(t=_.last(this.context.attributes)),this.processValue(n,r,t,u);return"connections"!==n||this.validConnection(r)?void 0:this.flag("invalid-connection")},e.prototype.validConnection=function(e){return e.from&&e.to},e.prototype.flag=function(e,t){return t=_.extend({},t,{collection:this.context.collection,row:this.context.rowNumber}),this["import"].flag(e,t)},e.prototype.processValue=function(e,t,n,r){var i,o,a;return o=t[n.name],a=this.parse(e,t,n,r),r=a.value,i=a.format,this.storeValue(n,r),null!=r?((null!=o||_.isArray(r))&&(n.core&&1===n.limit?(this.flag("double-assignment",{attribute:n.name}),r=null!=o?o:r[0],null!=r&&"string"===n.format&&(r=String(r))):null!=o&&(r=this.mergeValues(o,r))),n.core||"connections"===e&&/^(from|to)$/i.test(n.name)||(_.isArray(r)&&(n.limit="none"),null!=i&&(n.format=i))):r=o,t[n.name]=r},e.prototype.mergeValues=function(e,t){return e=_.isArray(e)?e:[e],e.push(t),e},e.prototype.identifyCollection=function(e){var t,n,r;for(n=0,r=e.length;r>n;n++)if(t=e[n],t=t.toLowerCase(),"id"!==t&&"_id"!==t)return"from"===t?"connections":"elements";return"elements"},e.prototype.processAttributes=function(){var e,t,n,r,i,o,a,s,u,l;u=this.attributes;for(o in u)e=u[o],ReservedAttributes.enforce(e);for(l=["elements","connections"],r=0,a=l.length;a>r;r++)for(t=l[r],t=this.blueprint[t],i=0,s=t.length;s>i;i++)n=t[i],this.processAttributesForEntity(n);return this.blueprint.attributes=this.formalizeAttributes()},e.prototype.processAttributesForEntity=function(e){var t,n,r;for(t in e)r=e[t],n=this.findAttribute(t),null==r||"none"!==n.limit||_.isArray(r)||(e[t]=[r])},e.prototype.formalizeAttributes=function(){var e,t,n,r;t=[],r=this.attributes;for(n in r)e=r[n],i.test(n)||(e.prompt=function(){switch(e.format){case"text":case"url":return"none";default:return this.duplicateRatio(e)>.5?"list":"autocomplete"}}.call(this),t.push(e));return t},e.prototype.duplicateRatio=function(e){var t,n,r,i,o,a,s;a=t=0,o=n=0,r=this.values[e.name];for(s in r)i=r[s],o+=i,1===i||"undefined"===s?a+=1:(t+=1,n+=i);return 0===a?t:t/a},e.prototype.irregular=function(){var e;return e=function(){switch(this.context.collection){case"elements":return"label";case"connections":return"from"}}.call(this),this.context.attributes[0].name.toLowerCase()!==e},e.prototype.shift=function(){return this.context.entity&&this.commit(),this.context.entity={}},e.prototype.commit=function(){return this.isMultiConnection()?this.commitMultiConnection():this.commitEntity(this.context.entity)},e.prototype.isMultiConnection=function(){var e,t,n;return n=this.context,e=n.collection,t=n.entity,!!t&&"connections"===e&&(_.isArray(t.from)||_.isArray(t.to))},e.prototype.commitEntity=function(e){return _.isEmpty(e)?void 0:this.blueprint[this.context.collection].push(e)},e.prototype.commitMultiConnection=function(){var e,t,n,r,i,o,a,s;if(e=this.context.entity,e.from&&e.to){for(n=this.toArray(e.from),s=this.toArray(e.to),o=[],r=0,i=n.length;i>r;r++)t=n[r],o.push(function(){var n,r,i;for(i=[],n=0,r=s.length;r>n;n++)a=s[n],e=this.deepClone(this.context.entity),e.from=t,e.to=a,i.push(this.commitEntity(e));return i}.call(this));return o}},e.prototype.toArray=function(e){return null!=e?_.isArray(e)?e:[e]:[]},e.prototype.deepClone=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.parse=function(e,t,r,i){var o,a,s;if(_.isString(i))if(i=this.trim(i),i.contains("|"))i=i.split("|");else try{i=JSON.parse(i)}catch(a){o=a}return _.isArray(i)?this.parseArray(e,t,r,i):(null!=i&&n[e].test(r.name)&&(i=String(i)),null!=i&&"connections"===e&&/^(from|to)$/.test(r.name)&&(i=this.parseElementIdentifier(i)),""!==i&&null!==i||(i=void 0),_.isDate(i)?(s="date",i=moment(i).format("YYYY-MM-DD")):_.isNumber(i)?s="number":_.isString(i)&&(/\n/.test(i)?s="text":(i.startsWith("http")||i.startsWith("//"))&&(s="url")),{value:i,format:s})},e.prototype.parseElementIdentifier=function(e){var n;return(n=e.match(t))?n[1]:e},e.prototype.parseArray=function(e,t,n,r){var i,o,a,s,u,l;for(u={value:[],format:void 0},o=0,a=r.length;a>o;o++)l=r[o],s=this.parse(e,t,n,l),l=s.value,i=s.format,u.value.push(l),null==u.format&&(u.format=i);return u},e.prototype.formatCoreStrings=function(e,t){var n;return n=this,e.core&&"string"===e.format?_.isArray(t)?t.map(function(t){return n.format(e,t)}):String(t):t},e.prototype.storeValue=function(e,t){var n,r,i,o,a,s,u;if(_.isArray(t)){for(s=[],r=0,i=t.length;i>r;r++)u=t[r],s.push(this.storeValue(e,u));return s}return a=null!=(n=this.values)[o=e.name]?n[o]:n[o]={},null==a[t]&&(a[t]=0),a[t]+=1},e.prototype.trim=function(e){return _.isString(e)?e.trim().unquote():null!=e?String(e):""},e.prototype.isBlank=function(e){var t,n,r;for(_.isArray(e)||(e=[e]),t=0,n=e.length;n>t;t++)if(r=e[t],null!=r&&/[^\s]+/.test(r))return!1;return!0},e.prototype.isPresent=function(e){return!this.isBlank(e)},e.prototype.sheets=function(e){var t;return _.isArray(e[0][0])||_.isArray(e)&&(null!=(t=e[0])?t.hasOwnProperty("name"):void 0)?e:[e]},e.prototype.attributeIs=function(e,t){return this.getAttributeKey(e.name)===t},e.prototype.findAttribute=function(e){return this.attributes[this.getAttributeKey(e)]},e.prototype.findOrCreateAttribute=function(e){var t,n,r,i;return/^(_id|id|label|type|from|to|tags|description)$/i.test(e)&&(e=e.toLowerCase()),r=this.getAttributeKey(e),t=null!=(n=this.attributes)[r]?n[r]:n[r]={name:e},/^type$/i.test(e)?(i={core:!0,limit:1,format:"string",prompt:"list"},_.extend(t,i)):ReservedAttributes.enforce(t)},e.prototype.getAttributeKey=function(e){return"_id"===e?"_id":e.slug()},e}(),e.exports=r},function(e){var t;t=function(){function e(e){this.file=e}return e.prototype.fetch=function(){var e,t,n,r,i;switch(e=When.defer(),t=this.method(),r=function(){var n;return n=i.result,"text"===t&&(n=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),e.resolve(n)},n=function(){return raise("file-not-readable")},i=new FileReader,i.onload=r,i.onerror=n,t){case"url":i.readAsDataURL(this.file);break;case"binary":i.readAsBinaryString(this.file);break;case"text":i.readAsText(this.file)}return e.promise},e.prototype.name=function(){return this.file.name},e.prototype.format=function(){return this.file.name.split(".").pop()},e.prototype.isBlueprint=function(){return"json"===this.format()},e.prototype.method=function(){return"xlsx"===this.format()?"url":"text"},e}(),e.exports=t},,,,,,,,,,,,,,function(e,t,n){n(1225),e.exports=self.fetch.bind(self)},,,function(e,t,n){var r=n(153),i=n(118),o=r(i,"Set");e.exports=o},function(e,t,n){var r=n(118),i=r.Symbol;e.exports=i},function(e,t,n){function r(e,t){var n=i(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),!0}var i=n(248),o=Array.prototype,a=o.splice;e.exports=r},function(e,t,n){function r(e,t){var n=i(e,t);return 0>n?void 0:e[n][1]}var i=n(248);e.exports=r},function(e,t,n){function r(e,t){return i(e,t)>-1}var i=n(248);e.exports=r},function(e,t,n){function r(e,t,n){var r=i(e,t);0>r?e.push([t,n]):e[r][1]=n}var i=n(248);e.exports=r},function(e,t,n){function r(e,t){return a.call(e,t)||"object"==typeof e&&t in e&&null===i(e)}var i=n(678),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e){function t(e){return function(t){return null==t?void 0:t[e]}}e.exports=t},function(e,t,n){function r(e){return i(e)?e:o(e)}var i=n(113),o=n(794);e.exports=r},function(e){function t(e){return n(Object(e))}var n=Object.getPrototypeOf;e.exports=t},function(e,t,n){function r(e){return o(e)&&i(e)}var i=n(250),o=n(187);e.exports=r},function(e,t,n){function r(e){var t=i.create(e);return t.create=r,t["import"](n(1102)),t}var i=n(798);e.exports=r()},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1147),l=r(u),c=n(261),p=r(c),h=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));return r.type="atrule",r}return a(t,e),t.prototype.append=function(){var t;this.nodes||(this.nodes=[]);for(var n=arguments.length,r=Array(n),i=0;n>i;i++)r[i]=arguments[i];return(t=e.prototype.append).call.apply(t,[this].concat(r))},t.prototype.prepend=function(){var t;this.nodes||(this.nodes=[]);for(var n=arguments.length,r=Array(n),i=0;n>i;i++)r[i]=arguments[i];return(t=e.prototype.prepend).call.apply(t,[this].concat(r))},s(t,[{key:"afterName",get:function(){return p["default"]("AtRule#afterName was deprecated. Use AtRule#raws.afterName"),this.raws.afterName},set:function(e){p["default"]("AtRule#afterName was deprecated. Use AtRule#raws.afterName"),this.raws.afterName=e}},{key:"_params",get:function(){return p["default"]("AtRule#_params was deprecated. Use AtRule#raws.params"),this.raws.params},set:function(e){p["default"]("AtRule#_params was deprecated. Use AtRule#raws.params"),this.raws.params=e}}]),t}(l["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1147),l=r(u),c=n(261),p=r(c),h=n(1554),f=r(h),d=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));return r.type="rule",r.nodes||(r.nodes=[]),r}return a(t,e),s(t,[{key:"selectors",get:function(){return f["default"].comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}},{key:"_selector",get:function(){return p["default"]("Rule#_selector is deprecated. Use Rule#raws.selector"),this.raws.selector},set:function(e){p["default"]("Rule#_selector is deprecated. Use Rule#raws.selector"),this.raws.selector=e}}]),t}(l["default"]);t["default"]=d,e.exports=t["default"]},,,,function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}var i=n(2538);e.exports=r},,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=new a(e),n=o(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var i=n(58),o=n(465),a=n(698),s=e.exports=r();s.Axios=a,s.create=function(e){return r(e)},s.all=function(e){return Promise.all(e)},s.spread=n(713)},function(e,t,n){"use strict";function r(e){this.defaults=o.merge(i,e),this.interceptors={request:new a,response:new a}}var i=n(704),o=n(58),a=n(699),s=n(700),u=n(709),l=n(707);r.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(i,this.defaults,{method:"get"},e),e.baseURL&&!u(e.url)&&(e.url=l(e.baseURL,e.url));var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(58);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){(function(t){"use strict";var r=n(58),i=n(703);e.exports=function(e){e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var o;return"function"==typeof e.adapter?o=e.adapter:"undefined"!=typeof XMLHttpRequest?o=n(463):"undefined"!=typeof t&&(o=n(463)),Promise.resolve(e).then(o).then(function(t){return t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse)),Promise.reject(t)})}}).call(t,n(26))},function(e){"use strict";e.exports=function(e,t,n,r){return e.config=t,n&&(e.code=n),e.response=r,e}},function(e,t,n){"use strict";var r=n(464);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n)):e(n)}},function(e,t,n){"use strict";var r=n(58);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(58),o=n(711),a=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"};e.exports={transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(a,"");try{e=JSON.parse(e)}catch(t){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:i.merge(s),post:i.merge(s),put:i.merge(s)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&300>e}}},function(e){"use strict";function t(){this.message="String contains an invalid character"}function n(e){for(var n,i,o=String(e),a="",s=0,u=r;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&n>>8-s%1*8)){if(i=o.charCodeAt(s+=.75),i>255)throw new t;n=n<<8|i}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.code=5,t.prototype.name="InvalidCharacterError",e.exports=n},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(58);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";var r=n(58);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(58);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";var r=n(58);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(58);e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),function(e){i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)}),o):o}},function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},,,function(e,t){"use strict";function n(e){return function(){return Workflows[e]()}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.direction;return c["default"].createElement(h["default"],s({type:"control-group",className:e},this.props),this.props.children)}}],[{key:"defaultProps",get:function(){return{direction:"horizontal"}}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.label;return e.selector,l["default"].createElement("div",{className:"color-label"},l["default"].createElement("div",{className:"color-label-color",style:{backgroundColor:t}}),l["default"].createElement("div",{className:"color-label-label"},n))}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().split(/\s*,\s*/).map(function(e){return e.unquote()})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=r(c),h=n(1795),f=r(h),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=Object.assign({},this.props),t=void 0;if(e.by&&!e.children){var n=s(e.by),r=s(e["default"]).map(function(e){return e.toLowerCase()});t=n.map(function(e){var t={attribute:e,selector:void 0,type:void 0},n=e,i=r.includes(e.toLowerCase());return/^type$/i.test(e)&&(t.attribute="element type"),{value:t,label:n,"default":i}}),delete e.by,delete e["default"]}return p["default"].createElement(f["default"],u({},e,{options:t}))}}],[{key:"defaultProps",get:function(){return{multiple:!0,as:"labels"}}}]),t}(p["default"].Component);d.Option=p["default"].Component,t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r(o),n(437)),s=r(a),u=n(1271),l=r(u),c=n(467),p=r(c),h=n(1284),f=r(h),d=s["default"](p["default"],l["default"],function(e){return i({},e,{options:f["default"](e.field,e),placeholder:e.placeholder||e.field})});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r(o),n(437)),s=r(a),u=n(1272),l=r(u),c=n(467),p=r(c),h=n(1284),f=r(h),d=s["default"](p["default"],l["default"],function(e){return i({},e,{options:f["default"](e.field,e),placeholder:e.placeholder||e.field})});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.value;return c["default"].createElement(h["default"],s({type:"label"},this.props),e)}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=n(437),d=r(f),m=n(724),g=r(m),v=n(1272),y=r(v),b=n(1269),w=r(b),_=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return c["default"].createElement(h["default"],s({type:"showcase-toggle"},this.props),c["default"].createElement(w["default"],this.props))}}]),t}(c["default"].Component),x=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(c["default"].Component),E=d["default"](_,y["default"],function(e,t){return s({},e,{options:g["default"](t)})});E.Option=x,t["default"]=E,e.exports=t["default"]},function(e,t){"use strict";function n(e){return e?e.map(function(e){var t=Object.assign({},e.props);return delete t.children,t}):[]}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);t["default"]=r.loadActions(n(1604)),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(67),l=r(u),c=n(1),p=r(c),h=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;s>l;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleBlur=function(){r.props.submitOnBlur&&r.handleSubmit()},r.handleSubmit=function(){var e=r.props.onChange;e&&e(r.value)},r.handleKeyDown=function(e){var t=r.props,n=t.onKeyDown,i=t.onEnter,o=t.onTab,a=t.onCancel;n?n(e):"Enter"===e.key?i?i(r.value):r.handleSubmit():"Tab"===e.key?o?o(r.value):r.handleSubmit():"Escape"===e.key&&a&&a()},a=n,o(r,a)}return a(t,e),s(t,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";
this.refs.input.value=e}},{key:"componentDidMount",value:function(){this.props.autocomplete&&this.initializeAutocomplete(),this.props.focus&&this.refs.input.focus()}},{key:"initializeAutocomplete",value:function(){var e={source:this.props.autocomplete,delay:0,minLength:0,appendTo:"body"};l["default"](this.refs.input).autocomplete(e)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.onFocus,r={ref:"input",type:"text",className:"form-control",defaultValue:t,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:n};return p["default"].createElement("input",r)}},{key:"value",get:function(){return this.refs.input.value.trim()}}],[{key:"defaultProps",get:function(){return{submitOnBlur:!0}}}]),t}(p["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.key}function o(e,t){var n=i(t,e);return e.attributes[n]}function a(e,t){return f(o(e,t))}function s(e,t,n){var r=i(t,e);e.attributes[r]=n}function u(e){var t=e.attributes;return t=Object.keys(t).map(function(n){var r=t[n],i=void 0;return"Type"===r.name&&(i=Attributes.get(e.type+" type"),r.key=i.key(),r.values=i.choices(),r.editor=i.editor()),r}),t=y["default"].sortBy(t,"position"),"Connection"===e.type&&(t.unshift(x),t.unshift(E)),t}function l(e){return u(e).filter(function(e){return e.selected})}function c(e){return"label"===e.key?[]:"to"===e.cid||"from"===e.cid?p():Attributes.get(e.key).choices()}function p(){return currentMap.nodes.collect(function(e){return _.dumpElementRef(e.entity)})}function h(e){return Array.isArray(e)?e:w["default"](e)?[e]:[]}function f(e){return m(e)?e.value:e}function d(e){return m(e)?e.id:e}function m(e){return e&&"object"===("undefined"==typeof e?"undefined":g(e))&&e.hasOwnProperty("id")&&e.hasOwnProperty("value")}Object.defineProperty(t,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getAttrKeyForEntity=i,t.getAttr=o,t.getFormattedAttr=a,t.setAttr=s,t.getAllAttributes=u,t.getSelectedAttributes=l,t.getChoicesForAttribute=c,t.getElementAutocompleteValues=p,t.getValuesAsArray=h,t.getFormattedValue=f,t.getRawValue=d,t.isReferenceValue=m;var v=n(28),y=r(v),b=n(471),w=r(b),_=n(728),x={name:"To",key:"to",cid:"to",values:[],editor:"basic",selected:!0,forced:!0},E={name:"From",key:"from",cid:"from",values:[],editor:"basic",selected:!0,forced:!0}},function(e,t){"use strict";function n(e){return s({cid:e.cid},e.toJSON())}function r(e){var t=e.id,n=e.label();return{id:t,value:n}}function i(e){var t=o(e),n=currentMap.graph.get(t);return n}function o(e){var t=e.type,n=e.cid,r=a(t),i=n;return n.startsWith("newRecord")&&(i=e.id),r.get(i)}function a(e){switch(e){case"Element":return Elements;case"Connection":return Connections;case"Loop":return Loops}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.dumpBackboneModel=n,t.dumpElementRef=r,t.getBackboneComponent=i,t.getBackboneEntity=o,t.getBackboneCollectionByType=a},function(e,t){"use strict";function n(e){var t=void 0;return{onMouseDown:function(n){t=e(n),t&&t.start&&t.start(n)},onMouseDrag:function(e){t&&t.update&&t.update(e)},onMouseUp:function(e){t&&t.finalize&&t.finalize(e),t=null}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,Object.assign(r,{acceptNone:n(1869),drag:n(729),pan:n(1872),move:n(1871),context:n(1870),wheel:n(1873)}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"SpreadsheetGuidance",render:function(){return o["default"].createElement("div",null,o["default"].createElement("h3",null,"Your elements should look like this:"),o["default"].createElement("table",{className:"table table-condensed"},o["default"].createElement("thead",null,o["default"].createElement("tr",null,o["default"].createElement("th",null,"Label"),o["default"].createElement("th",null,"Type"),o["default"].createElement("th",null,"Description"))),o["default"].createElement("tbody",null,o["default"].createElement("tr",null,o["default"].createElement("td",null,"Jeff Mohr"),o["default"].createElement("td",null,"Person"),o["default"].createElement("td",null,"Co-Founder and CEO, always up for learning")),o["default"].createElement("tr",null,o["default"].createElement("td",null,"Kumu"),o["default"].createElement("td",null,"Company"),o["default"].createElement("td",null,"A web-based platform for mapping relationships...")))),o["default"].createElement("h3",null,"Your connections should look like this:"),o["default"].createElement("table",{className:"table table-condensed"},o["default"].createElement("thead",null,o["default"].createElement("tr",null,o["default"].createElement("th",null,"From"),o["default"].createElement("th",null,"To"),o["default"].createElement("th",null,"Strength"))),o["default"].createElement("tbody",null,o["default"].createElement("tr",null,o["default"].createElement("td",null,"Barack Obama"),o["default"].createElement("td",null,"Michelle Obama"),o["default"].createElement("td",null,"Strong")),o["default"].createElement("tr",null,o["default"].createElement("td",null,"Edward Snowden"),o["default"].createElement("td",null,"NSA"),o["default"].createElement("td",null,"[redacted]")))),o["default"].createElement("p",null,"Only ",o["default"].createElement("strong",null,"label")," is required for elements,"," "," and ",o["default"].createElement("strong",null,"from/to")," for connections."),o["default"].createElement("p",null,o["default"].createElement("a",{href:"http://docs.kumu.io/guides/import.html"},"Check out the guide")," "," to learn about the built-in attributes, along with how to add custom attributes, handle attributes with multiple values, provide your own ids, and more!"))}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";var r=window.Workflows,i=n(1606);i.keys().forEach(function(e){var t=e.match(/([a-z]*)$/i)[1];r[t]=i(e)})},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(44),s=r(a),u=o["default"].createClass({displayName:"Button",render:function(){var e=s["default"]("btn","btn-default",{active:this.props.active});return o["default"].createElement("a",{href:"#",className:e,rel:this.props.value,onClick:this.onClick},this.props.children)},onClick:function(e){e.preventDefault(),this.props.onClick(this.props.value)}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),o=r(i),a=n(46),s=r(a),u=o["default"].createClass({displayName:"ButtonGroup",mixins:[s["default"]],render:function(){var e=this.getValueLink().value,t=o["default"].Children.map(this.props.children,function(t){return o["default"].cloneElement(t,{active:t.props.value===e,onClick:this.select})}.bind(this));return o["default"].createElement("div",{className:"btn-group btn-group-justified",role:"group"},t)},getValueLink:function(e){return e=e||this.props,e.valueLink||{value:e.value,requestChange:e.onChange}},select:function(e){this.$el().find(".btn").blur(),this.getValueLink().requestChange(e)}});e.exports=u},function(e,t,n){(function(t){"use strict";function n(e){return t("oembed",e)}function r(e){return t("extract",e)}function t(e,t){t=_.defaults({},t,s),t=[["key",t.key||o.key],["url",escape(t.url)],["width",t.width],["height",t.height],["maxwidth",t.maxwidth],["maxheight",t.maxheight],["autoplay",t.autoplay]].filter(i).map(function(e){return e.join("=")}).join("&");var n="https://api.embed.ly/1/"+e+"?"+t;return a[n]=a[n]||$.getJSON(n),a[n]}function i(e){return e[1]||e[1]===!1||0===e[1]}var o={key:void 0,oembed:n,extract:r,fetch:t},a={},s={autoplay:!1};e.exports=o}).call(t,n(666))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"Loadin",render:function(){var e=this.props.message;return o["default"].createElement("div",{className:"loadin absolute-center"},o["default"].createElement("i",{className:"loadin-icon fa fa-spinner fa-spin"}),e&&o["default"].createElement("div",{className:"loadin-message"},e))}});t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n){return e.reduce(function(e,r){return e[r[t]]=n?r[n]:r,e},{})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(647),s=r(a),u=n(301),l=r(u),c=n(646),p=r(c),h=o["default"].createClass({displayName:"SlideView",render:function d(){var e=this.props.slide,d=this["_"+e.type];return d(e)},_text:function(e){return o["default"].createElement("section",{className:"text-block"},o["default"].createElement("h2",null,e.title),o["default"].createElement(l["default"],{src:e.text}))},_image:function(e){return o["default"].createElement("figure",{className:"image-block"},o["default"].createElement("div",{className:"image-title"},e.title),o["default"].createElement("img",{src:e.url}),o["default"].createElement("figcaption",null,o["default"].createElement(l["default"],{className:"image-caption",src:e.text})))},_embed:function(e){return o["default"].createElement("figure",{className:"embed-block"},o["default"].createElement(p["default"],{src:e.url,width:"700"}))},_map:function(e){return e.text?o["default"].createElement("section",{className:"text-block"},o["default"].createElement("h2",null,e.title),o["default"].createElement("figure",{className:"image inset-right"},o["default"].createElement(s["default"],{src:e.preview})),o["default"].createElement(l["default"],{src:e.text})):o["default"].createElement("figure",{className:"image-block"},o["default"].createElement(s["default"],{src:e.preview}))}}),f=o["default"].createClass({displayName:"ArticleView",propTypes:{presentation:o["default"].PropTypes.object},render:function(){var e=this.props.presentation.slides.map(this.renderSlide);return o["default"].createElement("div",{className:"presentation-article-view article-block"},e)},renderSlide:function(e,t){return o["default"].createElement(h,{slide:e,index:t})}});t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(647),s=r(a),u=o["default"].createClass({displayName:"SlideThumbnail",getDefaultProps:function(){return{slide:null}},render:function(){return this["_"+this.props.slide.type].call(this,this.props.slide)},_cover:function(e){return e.image?this.renderDoc(e.image):this.renderPlaceholder("cover")},_text:function(){return this.renderIcon("fa fa-align-center")},_image:function(e){return e.url?this.renderDoc(e.url):this.renderIcon("fa fa-camera")},_embed:function(){return this.renderIcon("fa fa-film")},_map:function(e){var t=e.thumbnail||e.preview;return t?this.renderDoc(t):this.renderIcon("fa fa-spinner fa-spin")},renderDoc:function(e){return o["default"].createElement(s["default"],{className:"slide-thumbnail",src:e})},renderIcon:function(e){return o["default"].createElement("i",{className:"slide-thumbnail-icon "+e})},renderPlaceholder:function(e){return o["default"].createElement("span",{className:"placeholder"},e)}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=r(i);t["default"]=o["default"].createActions(["prev","next","jump","load"]),e.exports=t["default"]},function(e,t){"use strict";function n(e){return e[0].toUpperCase()+e.slice(1)}function r(e){return e&&i(e)?e.slice(1,-1):e}function i(e){return a.test(e)&&e.indexOf(e[0],1)===e.length-1}function o(e,t){return[].concat(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=n,t.unquote=r,t.isQuoted=i,t.push=o;var a=/^("|').*\1$/},,,,,,,,,function(e){var t,n,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t=.1,n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,e),n.prototype.cursor="default",n.prototype.defaultCursor="default",n.prototype.dispose=function(){},n.prototype.activate=function(e){var t;return this.controller=e,this.display=this.controller.display,this.model=this.display.model,this.selection=this.model.selection,this.map=this.model.get("map"),this.scene=null!=(t=this.map)?t.scene:void 0},n.prototype.setCursor=function(e){return this.display.setCursor(e)},n.prototype.resetCursor=function(){return this.setCursor(this.defaultCursor)},n.prototype.accept=function(){return!0},n.prototype.onMouseEnter=function(e){return e.component.lock("hover")},n.prototype.onMouseLeave=function(e){return e.component.unlock("hover")},n.prototype.onMouseClick=function(e){return this.controller.select(e.component,{toggle:e.shiftKey||e.metaKey})},n.prototype.onMouseDoubleClick=function(e){return e.entity?Workflows.redirectToEntity(e.entity):this.controller.quickZoom(e.world.location)},n.prototype.onMouseHold=function(){},n.prototype.onMouseWheel=function(e){var n;return n=1+e.wheel.delta*t,map.zoomAt(e.location,n)},n.prototype.onTouchTap=function(e){return this.controller.select(e.component)},n.prototype.onTouchDoubleTap=function(e){return this.onMouseDoubleClick(e)},n}(Backbone.Model),e.exports=n},,,,,,,,,,,,,,,,function(e,t,n){var r;!function(i){"use strict";function o(e){for(var t,n,r=1,i=e.length,o=e[0]+"";i>r;r++){for(t=e[r]+"",n=A-t.length;n--;)t="0"+t;o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function a(e,t,n,r){var i,o,a,s,u;for(o=1,a=e[0];a>=10;a/=10,o++);return a=t-o,0>a?(a+=A,i=0):(i=Math.ceil((a+1)/A),a%=A),o=E(10,A-a),u=e[i]%o|0,null==r?3>a?(0==a?u=u/100|0:1==a&&(u=u/10|0),s=4>n&&99999==u||n>3&&49999==u||5e4==u||0==u):s=(4>n&&u+1==o||n>3&&u+1==o/2)&&(e[i+1]/o/100|0)==E(10,a-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):4>a?(0==a?u=u/1e3|0:1==a?u=u/100|0:2==a&&(u=u/10|0),s=(r||4>n)&&9999==u||!r&&n>3&&4999==u):s=((r||4>n)&&u+1==o||!r&&n>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==E(10,a-3)-1,s}function s(e,t,n){var r=e.constructor;return null==t||((y=0>t||t>8)||0!==t&&(r.errors?parseInt:parseFloat)(t)!=t)&&!h(r,"rounding mode",t,n,0)?r.rounding:0|t}function u(e,t,n,r){var i=e.constructor;return!(y=(r||0)>t||t>=D+1)&&(0===t||(i.errors?parseInt:parseFloat)(t)==t)||h(i,"argument",t,n,0)}function l(e,t){var n,r,i,s,u,l,c,p=0,h=0,f=0,d=e.constructor,g=d.ONE,v=d.rounding,y=d.precision;if(!e.c||!e.c[0]||e.e>17)return new d(e.c?e.c[0]?e.s<0?0:1/0:g:e.s?e.s<0?0:e:0/0);for(null==t?(w=!1,u=y):u=t,c=new d(.03125);e.e>-2;)e=e.times(c),f+=5;for(r=Math.log(E(2,f))/Math.LN10*2+5|0,u+=r,n=s=l=new d(g),d.precision=u;;){if(s=m(s.times(e),u,1),n=n.times(++h),c=l.plus(F(s,n,u,1)),o(c.c).slice(0,u)===o(l.c).slice(0,u)){for(i=f;i--;)l=m(l.times(l),u,1);if(null!=t)return d.precision=y,l;if(!(3>p&&a(l.c,u-r,v,p)))return m(l,d.precision=y,v,w=!0);d.precision=u+=10,n=s=c=new d(g),h=0,p++}l=c}}function c(e,t,n,r){var i,a,s=e.constructor,u=(e=new s(e)).e;if(null==t?n=0:(m(e,++t,n),n=r?t:t+e.e-u),u=e.e,i=o(e.c),1==r||2==r&&(u>=t||u<=s.toExpNeg)){for(;i.length<n;i+="0");i.length>1&&(i=i.charAt(0)+"."+i.slice(1)),i+=(0>u?"e":"e+")+u}else{if(r=i.length,0>u){for(a=n-r;++u;i="0"+i);i="0."+i}else if(++u>r){for(a=n-u,u-=r;u--;i+="0");a>0&&(i+=".")}else a=n-r,r>u?i=i.slice(0,u)+"."+i.slice(u):a>0&&(i+=".");if(a>0)for(;a--;i+="0");}return e.s<0&&e.c[0]?"-"+i:i}function p(e){var t=e.length-1,n=t*A+1;if(t=e[t]){for(;t%10==0;t/=10,n--);for(t=e[0];t>=10;t/=10,n++);}return n}function h(e,t,n,r,i){if(e.errors){var o=new Error((r||["new Decimal","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFraction","pow","random","log","sqrt","toNearest","divToInt"][_?0>_?-_:_:0>1/_?1:0])+"() "+(["number type has more than 15 significant digits","LN10 out of digits"][t]||t+([y?" out of range":" not an integer"," not a boolean or binary digit"][i]||""))+": "+n);throw o.name="Decimal Error",y=_=0,o}}function f(e,t,n){var r=new e(e.ONE);for(w=!1;1&n&&(r=r.times(t)),n>>=1;)t=t.times(t);return w=!0,r}function d(e,t){var n,r,i,s,u,l,c,p,f,g,v,y=1,b=10,_=e,x=_.c,E=_.constructor,k=E.ONE,C=E.rounding,A=E.precision;if(_.s<0||!x||!x[0]||!_.e&&1==x[0]&&1==x.length)return new E(x&&!x[0]?-1/0:1!=_.s?0/0:x?0:_);if(null==t?(w=!1,c=A):c=t,E.precision=c+=b,n=o(x),r=n.charAt(0),!(Math.abs(s=_.e)<15e14))return _=new E(r+"."+n.slice(1)),c+2>L.length&&h(E,1,c+2,"ln"),_=d(_,c-b).plus(new E(L.slice(0,c+2)).times(s+"")),E.precision=A,null==t?m(_,A,C,w=!0):_;for(;7>r&&1!=r||1==r&&n.charAt(1)>3;)_=_.times(e),n=o(_.c),r=n.charAt(0),y++;for(s=_.e,r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1)),g=_,p=u=_=F(_.minus(k),_.plus(k),c,1),v=m(_.times(_),c,1),i=3;;){if(u=m(u.times(v),c,1),f=p.plus(F(u,new E(i),c,1)),o(f.c).slice(0,c)===o(p.c).slice(0,c)){if(p=p.times(2),0!==s&&(c+2>L.length&&h(E,1,c+2,"ln"),p=p.plus(new E(L.slice(0,c+2)).times(s+""))),p=F(p,new E(y),c,1),null!=t)return E.precision=A,p;if(!a(p.c,c-b,C,l))return m(p,E.precision=A,C,w=!0);E.precision=c+=b,f=u=_=F(g.minus(k),g.plus(k),c,1),v=m(_.times(_),c,1),i=l=1}p=f,i+=2}}function m(e,t,n,r){var i,o,a,s,u,l,c,p,h=e.constructor;e:if(null!=t){if(!(c=e.c))return e;for(i=1,s=c[0];s>=10;s/=10,i++);if(o=t-i,0>o)o+=A,a=t,u=c[p=0],l=u/E(10,i-a-1)%10|0;else if(p=Math.ceil((o+1)/A),p>=c.length){if(!r)break e;for(;c.length<=p;c.push(0));u=l=0,i=1,o%=A,a=o-A+1}else{for(u=s=c[p],i=1;s>=10;s/=10,i++);o%=A,a=o-A+i,l=0>a?0:x(u/E(10,i-a-1)%10)}if(r=r||0>t||null!=c[p+1]||(0>a?u:u%E(10,i-a-1)),r=4>n?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(o>0?a>0?u/E(10,i-a):0:c[p-1])%10&1||n==(e.s<0?8:7)),1>t||!c[0])return c.length=0,r?(t-=e.e+1,c[0]=E(10,(A-t%A)%A),e.e=-t||0):c[0]=e.e=0,e;if(0==o?(c.length=p,s=1,p--):(c.length=p+1,s=E(10,A-o),c[p]=a>0?(u/E(10,i-a)%E(10,a)|0)*s:0),r)for(;;){if(0==p){for(o=1,a=c[0];a>=10;a/=10,o++);for(a=c[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,c[0]==C&&(c[0]=1));break}if(c[p]+=s,c[p]!=C)break;c[p--]=0,s=1}for(o=c.length;0===c[--o];c.pop());}return w&&(e.e>h.maxE?e.c=e.e=null:e.e<h.minE&&(e.c=[e.e=0])),e}var g,v,y,b=i.crypto,w=!0,_=0,x=Math.floor,E=Math.pow,k=Object.prototype.toString,C=1e7,A=7,S="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",M={},T=9e15,D=1e9,O=3e3,L="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058";M.absoluteValue=M.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),m(e)},M.ceil=function(){return m(new this.constructor(this),this.e+1,2)},M.comparedTo=M.cmp=function(e,t){var n,r=this,i=r.c,o=(_=-_,e=new r.constructor(e,t),e.c),a=r.s,s=e.s,u=r.e,l=e.e;if(!a||!s)return null;if(n=i&&!i[0],t=o&&!o[0],n||t)return n?t?0:-s:a;if(a!=s)return a;if(n=0>a,!i||!o)return u==l?0:!i^n?1:-1;if(u!=l)return u>l^n?1:-1;for(a=-1,s=(u=i.length)<(l=o.length)?u:l;++a<s;)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return u==l?0:u>l^n?1:-1},M.decimalPlaces=M.dp=function(){var e,t,n=null;if(e=this.c){if(n=((t=e.length-1)-x(this.e/A))*A,t=e[t])for(;t%10==0;t/=10,n--);0>n&&(n=0)}return n},M.dividedBy=M.div=function(e,t){return _=2,F(this,new this.constructor(e,t))},M.dividedToIntegerBy=M.divToInt=function(e,t){var n=this,r=n.constructor;return _=18,m(F(n,new r(e,t),0,1,1),r.precision,r.rounding)},M.equals=M.eq=function(e,t){return _=3,0===this.cmp(e,t)},M.exponential=M.exp=function(){return l(this)},M.floor=function(){return m(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(e,t){return _=4,this.cmp(e,t)>0},M.greaterThanOrEqualTo=M.gte=function(e,t){return _=5,t=this.cmp(e,t),1==t||0===t},M.isFinite=function(){return!!this.c},M.isInteger=M.isInt=function(){return!!this.c&&x(this.e/A)>this.c.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isZero=function(){return!!this.c&&0==this.c[0]},M.lessThan=M.lt=function(e,t){return _=6,this.cmp(e,t)<0},M.lessThanOrEqualTo=M.lte=function(e,t){return _=7,t=this.cmp(e,t),-1==t||0===t},M.logarithm=M.log=function(e,t){var n,r,i,s,u,l,c,p,f,g=this,v=g.constructor,y=v.precision,b=v.rounding,x=5;if(null==e)e=new v(10),n=!0;else{if(_=15,e=new v(e,t),r=e.c,e.s<0||!r||!r[0]||!e.e&&1==r[0]&&1==r.length)return new v(0/0);n=e.eq(10)}if(r=g.c,g.s<0||!r||!r[0]||!g.e&&1==r[0]&&1==r.length)return new v(r&&!r[0]?-1/0:1!=g.s?0/0:r?0:1/0);if(u=n&&(s=r[0],r.length>1||1!=s&&10!=s&&100!=s&&1e3!=s&&1e4!=s&&1e5!=s&&1e6!=s),w=!1,c=y+x,p=c+10,l=d(g,c),n?(p>L.length&&h(v,1,p,"log"),i=new v(L.slice(0,p))):i=d(e,c),f=F(l,i,c,1),a(f.c,s=y,b))do if(c+=10,l=d(g,c),n?(p=c+10,p>L.length&&h(v,1,p,"log"),i=new v(L.slice(0,p))):i=d(e,c),f=F(l,i,c,1),!u){+o(f.c).slice(s+1,s+15)+1==1e14&&(f=m(f,y+1,0));break}while(a(f.c,s+=10,b));return w=!0,m(f,y,b)},M.minus=function(e,t){var n,r,i,o,a=this,s=a.constructor,u=a.s;if(_=8,e=new s(e,t),t=e.s,!u||!t)return new s(0/0);if(u!=t)return e.s=-t,a.plus(e);var l=a.c,c=e.c,p=x(e.e/A),h=x(a.e/A),f=s.precision,d=s.rounding;if(!h||!p){if(!l||!c)return l?(e.s=-t,e):new s(c?a:0/0);if(!l[0]||!c[0])return a=c[0]?(e.s=-t,e):new s(l[0]?a:3==d?-0:0),w?m(a,f,d):a}if(l=l.slice(),r=l.length,u=h-p){for((o=0>u)?(u=-u,n=l,r=c.length):(p=h,n=c),(h=Math.ceil(f/A))>r&&(r=h),u>(r+=2)&&(u=r,n.length=1),n.reverse(),t=u;t--;n.push(0));n.reverse()}else for((o=r<(i=c.length))&&(i=r),u=t=0;i>t;t++)if(l[t]!=c[t]){o=l[t]<c[t];break}if(o&&(n=l,l=c,c=n,e.s=-e.s),(t=-((i=l.length)-c.length))>0)for(;t--;l[i++]=0);for(h=C-1,t=c.length;t>u;){if(l[--t]<c[t]){for(r=t;r&&!l[--r];l[r]=h);--l[r],l[t]+=C}l[t]-=c[t]}for(;0==l[--i];l.pop());for(;0==l[0];l.shift(),--p);for(l[0]||(l=[p=0],e.s=3==d?-1:1),e.c=l,u=1,t=l[0];t>=10;t/=10,u++);return e.e=u+p*A-1,w?m(e,f,d):e},M.modulo=M.mod=function(e,t){var n,r,i=this,o=i.constructor,a=o.modulo;return _=9,e=new o(e,t),t=e.s,n=!i.c||!t||e.c&&!e.c[0],n||!e.c||i.c&&!i.c[0]?n?new o(0/0):m(new o(i),o.precision,o.rounding):(w=!1,9==a?(e.s=1,r=F(i,e,0,3,1),e.s=t,r.s*=t):r=F(i,e,0,a,1),r=r.times(e),w=!0,i.minus(r))},M.naturalLogarithm=M.ln=function(){return d(this)},M.negated=M.neg=function(){var e=new this.constructor(this);return e.s=-e.s||null,m(e)},M.plus=function(e,t){var n,r=this,i=r.constructor,o=r.s;if(_=10,e=new i(e,t),t=e.s,!o||!t)return new i(0/0);if(o!=t)return e.s=-t,r.minus(e);var a=r.c,s=e.c,u=x(e.e/A),l=x(r.e/A),c=i.precision,p=i.rounding;if(!l||!u){if(!a||!s)return new i(o/0);if(!a[0]||!s[0])return r=s[0]?e:new i(a[0]?r:0*o),w?m(r,c,p):r}if(a=a.slice(),o=l-u){for(0>o?(o=-o,n=a,t=s.length):(u=l,n=s,t=a.length),(l=Math.ceil(c/A))>t&&(t=l),o>++t&&(o=t,n.length=1),n.reverse();o--;n.push(0));n.reverse()}for(a.length-s.length<0&&(n=s,s=a,a=n),o=s.length,t=0,l=C;o;a[o]%=l)t=(a[--o]=a[o]+s[o]+t)/l|0;for(t&&(a.unshift(t),++u),o=a.length;0==a[--o];a.pop());for(e.c=a,o=1,t=a[0];t>=10;t/=10,o++);return e.e=o+u*A-1,w?m(e,c,p):e},M.precision=M.sd=function(e){var t=null,n=this;return e!=t&&e!==!!e&&1!==e&&0!==e&&h(n.constructor,"argument",e,"precision",1),n.c&&(t=p(n.c),e&&n.e+1>t&&(t=n.e+1)),t},M.round=function(){var e=this,t=e.constructor;return m(new t(e),e.e+1,t.rounding)},M.squareRoot=M.sqrt=function(){var e,t,n,r,i,a,s=this,u=s.c,l=s.s,c=s.e,p=s.constructor,h=new p(.5);if(1!==l||!u||!u[0])return new p(!l||0>l&&(!u||u[0])?0/0:u?s:1/0);for(w=!1,l=Math.sqrt(+s),0==l||l==1/0?(t=o(u),(t.length+c)%2==0&&(t+="0"),l=Math.sqrt(t),c=x((c+1)/2)-(0>c||c%2),l==1/0?t="1e"+c:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),r=new p(t)):r=new p(l.toString()),n=(c=p.precision)+3;;)if(a=r,r=h.times(a.plus(F(s,a,n+2,1))),o(a.c).slice(0,n)===(t=o(r.c)).slice(0,n)){if(t=t.slice(n-3,n+1),"9999"!=t&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(m(r,c+1,1),e=!r.times(r).eq(s));break}if(!i&&(m(a,c+1,0),a.times(a).eq(s))){r=a;break}n+=4,i=1}return w=!0,m(r,c,p.rounding,e)},M.times=function(e,t){var n,r,i=this,o=i.constructor,a=i.c,s=(_=11,e=new o(e,t),e.c),u=x(i.e/A),l=x(e.e/A),c=i.s;if(t=e.s,e.s=c==t?1:-1,!((u||a&&a[0])&&(l||s&&s[0])))return new o(!c||!t||a&&!a[0]&&!s||s&&!s[0]&&!a?0/0:a&&s?0*e.s:e.s/0);for(r=u+l,c=a.length,t=s.length,t>c&&(n=a,a=s,s=n,l=c,c=t,t=l),l=c+t,n=[];l--;n.push(0));for(u=t-1;u>-1;u--){for(t=0,l=c+u;l>u;)t=n[l]+s[u]*a[l-u-1]+t,n[l--]=t%C|0,t=t/C|0;n[l]=(n[l]+t)%C|0}for(t?++r:n[0]||n.shift(),l=n.length;!n[--l];n.pop());for(e.c=n,c=1,t=n[0];t>=10;t/=10,c++);return e.e=c+r*A-1,w?m(e,o.precision,o.rounding):e},M.toDecimalPlaces=M.toDP=function(e,t){var n=this;return n=new n.constructor(n),null!=e&&u(n,e,"toDP")?m(n,(0|e)+n.e+1,s(n,t,"toDP")):n},M.toExponential=function(e,t){var n=this;return n.c?c(n,null!=e&&u(n,e,"toExponential")?0|e:null,null!=e&&s(n,t,"toExponential"),1):n.toString()},M.toFixed=function(e,t){var n,r=this,i=r.constructor,o=i.toExpNeg,a=i.toExpPos;return null!=e&&(e=u(r,e,n="toFixed")?r.e+(0|e):null,t=s(r,t,n)),i.toExpNeg=-(i.toExpPos=1/0),null!=e&&r.c?(n=c(r,e,t),r.s<0&&r.c&&(r.c[0]?n.indexOf("-")<0&&(n="-"+n):n=n.replace("-",""))):n=r.toString(),i.toExpNeg=o,i.toExpPos=a,n},M.toFormat=function(e,t){var n=this;if(!n.c)return n.toString();var r,i=n.s<0,o=n.constructor.format,a=o.groupSeparator,s=+o.groupSize,u=+o.secondaryGroupSize,l=n.toFixed(e,t).split("."),c=l[0],p=l[1],h=i?c.slice(1):c,f=h.length;if(u&&(r=s,s=u,f-=u=r),s>0&&f>0){for(r=f%s||s,c=h.substr(0,r);f>r;r+=s)c+=a+h.substr(r,s);u>0&&(c+=a+h.slice(r)),i&&(c="-"+c)}return p?c+o.decimalSeparator+((u=+o.fractionGroupSize)?p.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+o.fractionGroupSeparator):p):c},M.toFraction=function(e){var t,n,r,i,a,s,u,l,c=this,f=c.constructor,d=t=new f(f.ONE),m=s=new f(0),g=c.c,v=new f(m);if(!g)return c.toString();for(r=v.e=p(g)-c.e-1,v.c[0]=E(10,(u=r%A)<0?A+u:u),(null==e||(!(_=12,a=new f(e)).s||(y=a.cmp(d)<0||!a.c)||f.errors&&x(a.e/A)<a.c.length-1)&&!h(f,"max denominator",e,"toFraction",0)||(e=a).cmp(v)>0)&&(e=r>0?v:d),w=!1,a=new f(o(g)),u=f.precision,f.precision=r=g.length*A*2;l=F(a,v,0,1,1),n=t.plus(l.times(m)),1!=n.cmp(e);)t=m,m=n,d=s.plus(l.times(n=d)),s=n,v=a.minus(l.times(n=v)),a=n;return n=F(e.minus(t),m,0,1,1),s=s.plus(n.times(d)),t=t.plus(n.times(m)),s.s=d.s=c.s,i=F(d,m,r,1).minus(c).abs().cmp(F(s,t,r,1).minus(c).abs())<1?[d+"",m+""]:[s+"",t+""],w=!0,f.precision=u,i},M.toNearest=function(e,t){var n=this,r=n.constructor;return n=new r(n),null==e?(e=new r(r.ONE),t=r.rounding):(_=17,e=new r(e),t=s(n,t,"toNearest")),e.c?n.c&&(e.c[0]?(w=!1,n=F(n,e,0,4>t?[4,5,7,8][t]:t,1).times(e),w=!0,m(n)):n.c=[n.e=0]):n.s&&(e.s&&(e.s=n.s),n=e),n},M.toNumber=function(){var e=this;return+e||(e.s?0*e.s:0/0)},M.toPower=M.pow=function(e,t){var n,r,i,s,u=this,c=u.constructor,p=u.s,h=(_=13,+(e=new c(e,t))),g=0>h?-h:h,v=c.precision,y=c.rounding;if(!u.c||!e.c||(i=!u.c[0])||!e.c[0])return new c(E(i?0*p:+u,h));if(u=new c(u),n=u.c.length,!u.e&&u.c[0]==u.s&&1==n)return u;if(t=e.c.length-1,e.e||e.c[0]!=e.s||t)if(r=x(e.e/A),i=r>=t,!i&&0>p)s=new c(0/0);else{if(i&&O>n*A*g){if(s=f(c,u,g),e.s<0)return c.ONE.div(s)}else{if(p=0>p&&1&e.c[Math.max(r,t)]?-1:1,t=E(+u,h),r=0!=t&&isFinite(t)?new c(t+"").e:x(h*(Math.log("0."+o(u.c))/Math.LN10+u.e+1)),r>c.maxE+1||r<c.minE-1)return new c(r>0?p/0:0);w=!1,c.rounding=u.s=1,g=Math.min(12,(r+"").length),s=l(e.times(d(u,v+g)),v),s=m(s,v+5,1),a(s.c,v,y)&&(r=v+10,s=m(l(e.times(d(u,r+g)),r),r+5,1),+o(s.c).slice(v+1,v+15)+1==1e14&&(s=m(s,v+1,0))),s.s=p,w=!0,c.rounding=y}s=m(s,v,y)}else s=m(u,v,y);return s},M.toPrecision=function(e,t){var n=this;return null!=e&&u(n,e,"toPrecision",1)&&n.c?c(n,0|--e,s(n,t,"toPrecision"),2):n.toString()},M.toSignificantDigits=M.toSD=function(e,t){var n=this,r=n.constructor;return n=new r(n),null!=e&&u(n,e,"toSD",1)?m(n,0|e,s(n,t,"toSD")):m(n,r.precision,r.rounding)},M.toString=function(e){var t,n,r,i=this,a=i.constructor,s=i.e;if(null===s)n=i.s?"Infinity":"NaN";else{if(e===t&&(s<=a.toExpNeg||s>=a.toExpPos))return c(i,null,a.rounding,1);if(n=o(i.c),0>s){for(;++s;n="0"+n);n="0."+n}else if(r=n.length,s>0)if(++s>r)for(s-=r;s--;n+="0");else r>s&&(n=n.slice(0,s)+"."+n.slice(s));else if(t=n.charAt(0),r>1)n=t+"."+n.slice(1);else if("0"==t)return t;if(null!=e)if((y=!(e>=2&&65>e))||e!=(0|e)&&a.errors)h(a,"base",e,"toString",0);else if(n=g(a,n,0|e,10,i.s),"0"==n)return n}return i.s<0?"-"+n:n},M.truncated=M.trunc=function(){return m(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){return this.toString()},g=function(){function e(e,t,n){for(var r,i,o=[0],a=0,s=e.length;s>a;){for(i=o.length;i--;o[i]*=t);for(o[r=0]+=S.indexOf(e.charAt(a++));r<o.length;r++)o[r]>n-1&&(null==o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}return function(t,n,r,i,o){var a,s,u,l,c,p,h=n.indexOf("."),d=t.precision,m=t.rounding;for(37>i&&(n=n.toLowerCase()),h>=0&&(n=n.replace(".",""),p=new t(i),l=f(t,p,n.length-h),p.c=e(l.toFixed(),10,r),p.e=p.c.length),c=e(n,i,r),a=s=c.length;0==c[--s];c.pop());if(!c[0])return"0";if(0>h?a--:(l.c=c,l.e=a,l.s=o,l=F(l,p,d,m,0,r),c=l.c,u=l.r,a=l.e),h=c[d],s=r/2,u=u||null!=c[d+1],4>m?(null!=h||u)&&(0==m||m==(0>o?3:2)):h>s||h==s&&(4==m||u||6==m&&1&c[d-1]||m==(0>o?8:7)))for(c.length=d,--r;++c[--d]>r;)c[d]=0,d||(++a,c.unshift(1));else c.length=d;for(s=c.length;!c[--s];);for(h=0,n="";s>=h;n+=S.charAt(c[h++]));if(0>a){for(;++a;n="0"+n);n="0."+n}else if(h=n.length,++a>h)for(a-=h;a--;n+="0");else h>a&&(n=n.slice(0,a)+"."+n.slice(a));return n}}();var F=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;n>i;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.shift());}return function(r,i,o,a,s,u){var l,c,p,h,f,d,g,v,y,b,w,_,E,k,S,M,T,D,O,L=r.constructor,F=r.s==i.s?1:-1,P=r.c,N=i.c;if(!(P&&P[0]&&N&&N[0]))return new L(r.s&&i.s&&(P?!N||P[0]!=N[0]:N)?P&&0==P[0]||!N?0*F:F/0:0/0);for(u?(h=1,c=r.e-i.e):(u=C,h=A,c=x(r.e/h)-x(i.e/h)),D=N.length,M=P.length,y=new L(F),b=y.c=[],p=0;N[p]==(P[p]||0);p++);if(N[p]>(P[p]||0)&&c--,null==o?(F=o=L.precision,a=L.rounding):F=s?o+(r.e-i.e)+1:o,0>F)b.push(1),f=!0;else{if(F=F/h+2|0,p=0,1==D){for(d=0,N=N[0],F++;(M>p||d)&&F--;p++)k=d*u+(P[p]||0),b[p]=k/N|0,d=k%N|0;f=d||M>p}else{for(d=u/(N[0]+1)|0,d>1&&(N=e(N,d,u),P=e(P,d,u),D=N.length,M=P.length),S=D,w=P.slice(0,D),_=w.length;D>_;w[_++]=0);O=N.slice(),O.unshift(0),T=N[0],N[1]>=u/2&&T++;do d=0,l=t(N,w,D,_),0>l?(E=w[0],D!=_&&(E=E*u+(w[1]||0)),d=E/T|0,d>1?(d>=u&&(d=u-1),g=e(N,d,u),v=g.length,_=w.length,l=t(g,w,v,_),1==l&&(d--,n(g,v>D?O:N,v,u))):(0==d&&(l=d=1),g=N.slice()),v=g.length,_>v&&g.unshift(0),n(w,g,_,u),-1==l&&(_=w.length,l=t(N,w,D,_),1>l&&(d++,n(w,_>D?O:N,_,u))),_=w.length):0===l&&(d++,w=[0]),b[p++]=d,l&&w[0]?w[_++]=P[S]||0:(w=[P[S]],_=1);while((S++<M||null!=w[0])&&F--);f=null!=w[0]}b[0]||b.shift()}if(1==h)y.e=c,y.r=+f;else{for(p=1,F=b[0];F>=10;F/=10,p++);y.e=p+c*h-1,m(y,s?o+y.e+1:o,a,f)}return y}}();v=function(){function e(e){var t,n,r,i=this,o="config",a=i.errors?parseInt:parseFloat;return e==n||"object"!=typeof e&&!h(i,"object expected",e,o)?i:((r=e[t="precision"])!=n&&((y=1>r||r>D)||a(r)!=r?h(i,t,r,o,0):i[t]=0|r),(r=e[t="rounding"])!=n&&((y=0>r||r>8)||a(r)!=r?h(i,t,r,o,0):i[t]=0|r),(r=e[t="toExpNeg"])!=n&&((y=-T>r||r>0)||a(r)!=r?h(i,t,r,o,0):i[t]=x(r)),(r=e[t="toExpPos"])!=n&&((y=0>r||r>T)||a(r)!=r?h(i,t,r,o,0):i[t]=x(r)),(r=e[t="minE"])!=n&&((y=-T>r||r>0)||a(r)!=r?h(i,t,r,o,0):i[t]=x(r)),(r=e[t="maxE"])!=n&&((y=0>r||r>T)||a(r)!=r?h(i,t,r,o,0):i[t]=x(r)),(r=e[t="errors"])!=n&&(r===!!r||1===r||0===r?(y=_=0,i[t]=!!r):h(i,t,r,o,1)),(r=e[t="crypto"])!=n&&(r===!!r||1===r||0===r?i[t]=!(!r||!b||"object"!=typeof b):h(i,t,r,o,1)),(r=e[t="modulo"])!=n&&((y=0>r||r>9)||a(r)!=r?h(i,t,r,o,0):i[t]=0|r),(e=e[t="format"])!=n&&("object"==typeof e?i[t]=e:h(i,"format object expected",e,o)),i)
}function t(e){return new this(e).exp()}function n(e){return new this(e).ln()}function r(e,t){return new this(e).log(t)}function i(e,t,n){var r,i,o=0;for("[object Array]"==k.call(t[0])&&(t=t[0]),r=new e(t[0]);++o<t.length;){if(i=new e(t[o]),!i.s){r=i;break}r[n](i)&&(r=i)}return r}function o(){return i(this,arguments,"lt")}function a(){return i(this,arguments,"gt")}function s(e,t){return new this(e).pow(t)}function l(e){var t,n,r,i=0,o=[],a=this,s=new a(a.ONE);if(null!=e&&u(s,e,"random")?e|=0:e=a.precision,n=Math.ceil(e/A),a.crypto)if(b&&b.getRandomValues)for(t=b.getRandomValues(new Uint32Array(n));n>i;)r=t[i],r>=429e7?t[i]=b.getRandomValues(new Uint32Array(1))[0]:o[i++]=r%1e7;else if(b&&b.randomBytes){for(t=b.randomBytes(n*=4);n>i;)r=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24),r>=214e7?b.randomBytes(4).copy(t,i):(o.push(r%1e7),i+=4);i=n/4}else h(a,"crypto unavailable",b,"random");if(!i)for(;n>i;)o[i++]=1e7*Math.random()|0;for(n=o[--i],e%=A,n&&e&&(r=E(10,A-e),o[i]=(n/r|0)*r);0===o[i];i--)o.pop();if(0>i)o=[n=0];else{for(n=-1;0===o[0];)o.shift(),n-=A;for(i=1,r=o[0];r>=10;)r/=10,i++;A>i&&(n-=A-i)}return s.e=n,s.c=o,s}function c(e){return new this(e).sqrt()}function p(i){function u(e,t){var n=this;if(!(n instanceof u))return h(u,"Decimal called without new",e),new u(e,t);if(n.constructor=u,e instanceof u){if(null==t)return _=0,n.s=e.s,n.e=e.e,n.c=(e=e.c)?e.slice():e,n;if(10==t)return m(new u(e),u.precision,u.rounding);e+=""}return f(u,n,e,t)}return u.precision=20,u.rounding=4,u.modulo=1,u.toExpNeg=-7,u.toExpPos=21,u.minE=-T,u.maxE=T,u.errors=!0,u.crypto=!1,u.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"\xa0",fractionGroupSize:0},u.prototype=M,u.ONE=new u(1),u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=e,u.constructor=p,u.exp=t,u.ln=n,u.log=r,u.max=o,u.min=a,u.pow=s,u.sqrt=c,u.random=l,null!=i&&u.config(i),u}var f=function(){var e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,t=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};return function(n,r,i,o){var a,s,u,l,c,p;if("string"!=typeof i&&(i=(l="number"==typeof i||"[object Number]"==k.call(i))&&0===i&&0>1/i?"-0":i+""),c=i,null==o&&e.test(i))r.s=45===i.charCodeAt(0)?(i=i.slice(1),-1):1;else{if(10==o)return m(new n(i),n.precision,n.rounding);if(i=t.call(i).replace(/^\+(?!-)/,""),r.s=45===i.charCodeAt(0)?(i=i.replace(/^-(?!-)/,""),-1):1,null!=o?o!=(0|o)&&n.errors||(y=!(o>=2&&65>o))?(h(n,"base",o,0,0),p=e.test(i)):(a="["+S.slice(0,o=0|o)+"]+",i=i.replace(/\.$/,"").replace(/^\./,"0."),(p=new RegExp("^"+a+"(?:\\."+a+")?$",37>o?"i":"").test(i))?(l&&(i.replace(/^0\.0*|\./,"").length>15&&h(n,0,c),l=!l),i=g(n,i,10,o,r.s)):"Infinity"!=i&&"NaN"!=i&&(h(n,"not a base "+o+" number",c),i="NaN")):p=e.test(i),!p)return r.c=r.e=null,"Infinity"!=i&&("NaN"!=i&&h(n,"not a number",c),r.s=null),_=0,r}for((s=i.indexOf("."))>-1&&(i=i.replace(".","")),(u=i.search(/e/i))>0?(0>s&&(s=u),s+=+i.slice(u+1),i=i.substring(0,u)):0>s&&(s=i.length),u=0;48===i.charCodeAt(u);u++);for(o=i.length;48===i.charCodeAt(--o););if(i=i.slice(u,o+1)){if(o=i.length,l&&o>15&&h(n,0,c),r.e=s=s-u-1,r.c=[],u=(s+1)%A,0>s&&(u+=A),o>u){for(u&&r.c.push(+i.slice(0,u)),o-=A;o>u;)r.c.push(+i.slice(u,u+=A));i=i.slice(u),u=A-i.length}else u-=o;for(;u--;i+="0");r.c.push(+i),w&&(r.e>n.maxE?r.c=r.e=null:r.e<n.minE&&(r.c=[r.e=0]))}else r.c=[r.e=0];return _=0,r}}();return p()}(),r=function(){return v}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)},function(e){"use strict";function t(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function n(){}var r=Object.prototype.hasOwnProperty,i="function"!=typeof Object.create&&"~";n.prototype._events=void 0,n.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},n.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);a>o;o++)s[o]=r[o].fn;return s},n.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events||!this._events[s])return!1;var u,l,c=this._events[s],p=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(l=1,u=new Array(p-1);p>l;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,f=c.length;for(l=0;f>l;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),p){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;default:if(!u)for(h=1,u=new Array(p-1);p>h;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},n.prototype.on=function(e,n,r){var o=new t(n,r||this),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},n.prototype.once=function(e,n,r){var o=new t(n,r||this,!0),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},n.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events||!this._events[o])return this;var a=this._events[o],s=[];if(t)if(a.fn)(a.fn!==t||r&&!a.once||n&&a.context!==n)&&s.push(a);else for(var u=0,l=a.length;l>u;u++)(a[u].fn!==t||r&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);return s.length?this._events[o]=1===s.length?s[0]:s:delete this._events[o],this},n.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[i?i+e:e]:this._events=i?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=i,e.exports=n},function(e,t,n){var r,i;(function(e){!function(){"use strict";function o(e,t){return isNaN(e=parseInt(e,10))&&a(),e*t}function a(){throw"Invalid Param"}function s(e,t){return this instanceof s?(c(e,t),e=s.REDUCE?d(l.d,l.n):1,this.s=l.s,this.n=l.n/e,void(this.d=l.d/e)):new s(e,t)}var u=2e3,l={s:1,n:0,d:1},c=function(e,t){var n,r=0,i=1,s=1,u=0,c=0,p=0,h=1,f=1,d=0,m=1,g=1,v=1,y=1e7;if(void 0===e||null===e);else if(void 0!==t)r=e,i=t,s=r*i;else switch(typeof e){case"object":"d"in e&&"n"in e?(r=e.n,i=e.d,"s"in e&&(r*=e.s)):0 in e?(r=e[0],1 in e&&(i=e[1])):a(),s=r*i;break;case"number":if(0>e&&(s=e,e=-e),e%1===0)r=e;else if(e>0){for(e>=1&&(f=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)),e/=f);y>=m&&y>=v;){if(n=(d+g)/(m+v),e===n){y>=m+v?(r=d+g,i=m+v):v>m?(r=g,i=v):(r=d,i=m);break}e>n?(d+=g,m+=v):(g+=d,v+=m),m>y?(r=g,i=v):(r=d,i=m)}r*=f}else(isNaN(e)||isNaN(t))&&(i=r=0/0);break;case"string":if(m=e.match(/\d+|./g),"-"===m[d]?(s=-1,d++):"+"===m[d]&&d++,m.length===d+1?c=o(m[d++],s):"."===m[d+1]||"."===m[d]?("."!==m[d]&&(u=o(m[d++],s)),d++,(d+1===m.length||"("===m[d+1]&&")"===m[d+3]||"'"===m[d+1]&&"'"===m[d+3])&&(c=o(m[d],s),h=Math.pow(10,m[d].length),d++),("("===m[d]&&")"===m[d+2]||"'"===m[d]&&"'"===m[d+2])&&(p=o(m[d+1],s),f=Math.pow(10,m[d+1].length)-1,d+=3)):"/"===m[d+1]||":"===m[d+1]?(c=o(m[d],s),h=o(m[d+2],1),d+=3):"/"===m[d+3]&&" "===m[d+1]&&(u=o(m[d],s),c=o(m[d+2],s),h=o(m[d+4],1),d+=5),m.length<=d){i=h*f,s=r=p+i*u+f*c;break}default:a()}if(0===i)throw"DIV/0";l.s=0>s?-1:1,l.n=Math.abs(r),l.d=Math.abs(i)},p=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r},h=function(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>u)return 0;return r},f=function(e,t,n){for(var r=1,i=p(10,n,t),o=0;300>o;o++){if(r===i)return o;r=10*r%t,i=10*i%t}return 0},d=function(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}};s.REDUCE=1,s.prototype={s:1,n:0,d:1,abs:function(){return new s(this.n,this.d)},neg:function(){return new s(-this.s*this.n,this.d)},add:function(e,t){return c(e,t),new s(this.s*this.n*l.d+l.s*this.d*l.n,this.d*l.d)},sub:function(e,t){return c(e,t),new s(this.s*this.n*l.d-l.s*this.d*l.n,this.d*l.d)},mul:function(e,t){return c(e,t),new s(this.s*l.s*this.n*l.n,this.d*l.d)},div:function(e,t){return c(e,t),new s(this.s*l.s*this.n*l.d,this.d*l.n)},clone:function(){return new s(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new s(0/0):void 0===e?new s(this.s*this.n%this.d,1):(c(e,t),0===l.n&&0===this.d&&s(0,0),new s(this.s*l.d*this.n%(l.n*this.d),l.d*this.d))},gcd:function(e,t){return c(e,t),new s(d(l.n,this.n),l.d*this.d/d(l.d,this.d))},lcm:function(e,t){return c(e,t),0===l.n&&0===this.n?new s:new s(l.n*this.n/d(l.n,this.n),d(l.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(0/0):new s(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(0/0):new s(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(0/0):new s(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new s(this.s*this.d,this.n)},pow:function(e){return 0>e?new s(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new s(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return c(e,t),this.s*this.n*l.d===l.s*l.n*this.d},compare:function(e,t){c(e,t);var n=this.s*this.n*l.d-l.s*l.n*this.d;return(n>0)-(0>n)},divisible:function(e,t){return c(e,t),!(!(l.n*this.d)||this.n*l.d%(l.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];do r.push(Math.floor(t/n)),e=t%n,t=n,n=e;while(1!==t);return r},toString:function(){var e,t=this.n,n=this.d;if(isNaN(t)||isNaN(n))return"NaN";s.REDUCE||(e=d(t,n),t/=e,n/=e);for(var r=String(t).split(""),i=0,o=[~this.s?"":"-","",""],a="",u=h(t,n),l=f(t,n,u),c=-1,p=1,m=15+u+l+r.length,g=0;m>g;g++,i*=10){if(g<r.length?i+=Number(r[g]):(p=2,c++),u>0)if(c===l)o[p]+=a+"(",a="";else if(c===u+l){o[p]+=a+")";break}i>=n?(o[p]+=a+(i/n|0),a="",i%=n):p>1?a+="0":o[p]&&(o[p]+="0")}return o[0]+=o[1]||"0",o[2]?o[0]+"."+o[2]:o[0]}},n(29).amd?(r=[],i=function(){return s}.apply(t,r),!(void 0!==i&&(e.exports=i))):e.exports=s}(this)}).call(t,n(66)(e))},,function(e){e.exports=function(e){return!(null==e||!e.constructor||"function"!=typeof e.constructor.isBuffer||!e.constructor.isBuffer(e))}},,,function(e,t,n){var r=n(153),i=n(118),o=r(i,"DataView");e.exports=o},function(e,t,n){function r(){}var i=n(249),o=Object.prototype;r.prototype=i?i(null):o,e.exports=r},function(e,t,n){var r=n(153),i=n(118),o=r(i,"Promise");e.exports=o},function(e,t,n){var r=n(153),i=n(118),o=r(i,"WeakMap");e.exports=o},function(e){function t(e){return n(Object(e))}var n=Object.keys;e.exports=t},function(e){function t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=t},function(e){function t(e){return e&&e.Object===Object?e:null}e.exports=t},function(e,t,n){var r=n(676),i=r("length");e.exports=i},function(e,t,n){function r(e){return v.call(e)}var i=n(774),o=n(152),a=n(776),s=n(669),u=n(777),l=n(528),c="[object Map]",p="[object Object]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",m="[object DataView]",g=Object.prototype,v=g.toString,y=l(i),b=l(o),w=l(a),_=l(s),x=l(u);(i&&r(new i(new ArrayBuffer(1)))!=m||o&&r(new o)!=c||a&&r(a.resolve())!=h||s&&r(new s)!=f||u&&r(new u)!=d)&&(r=function(e){var t=v.call(e),n=t==p?e.constructor:void 0,r=n?l(n):void 0;if(r)switch(r){case y:return m;case b:return c;case w:return h;case _:return f;case x:return d}return t}),e.exports=r},function(e,t,n){function r(e,t){return i(e,t)&&delete e[t]}var i=n(526);e.exports=r},function(e,t,n){function r(e,t){if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(249),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){e[t]=i&&void 0===n?o:n}var i=n(249),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){var t=e?e.length:void 0;return s(t)&&(a(e)||u(e)||o(e))?i(t,String):null}var i=n(779),o=n(452),a=n(113),s=n(342),u=n(530);e.exports=r},function(e){function t(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}var n=Object.prototype;e.exports=t},function(e,t,n){function r(){this.__data__={hash:new i,map:o?new o:[],string:new i}}var i=n(775),o=n(152);e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map["delete"](e):o(t.map,e)}var i=n(152),o=n(671),a=n(783),s=n(186);e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map.get(e):o(t.map,e)}var i=n(152),o=n(672),a=n(784),s=n(186);e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map.has(e):o(t.map,e)}var i=n(152),o=n(673),a=n(526),s=n(186);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return s(e)?a("string"==typeof e?n.string:n.hash,e,t):i?n.map.set(e,t):o(n.map,e,t),this}var i=n(152),o=n(674),a=n(785),s=n(186);e.exports=r},function(e){function t(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=t},function(e,t,n){var r=n(796),i=n(343),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g,s=r(function(e){var t=[];return i(e).replace(o,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});e.exports=s},function(e,t,n){function r(e){if(!a(e))return!1;var t=i(e)||o(e)?f:l;return t.test(s(e))}var i=n(289),o=n(527),a=n(230),s=n(528),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Object.prototype,p=Function.prototype.toString,h=c.hasOwnProperty,f=RegExp("^"+p.call(h).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(r.Cache||i),n}var i=n(525),o="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){var r,i;(function(o){!function(){var a=function(e){var t=new a.Index;return t.pipeline.add(a.trimmer,a.stopWordFilter,a.stemmer),e&&e.call(t,t),t};a.version="0.6.0",a.utils={},a.utils.warn=function(e){return function(t){e.console&&o.warn&&o.warn(t)}}(this),a.utils.asString=function(e){return void 0===e||null===e?"":e.toString()},a.EventEmitter=function(){this.events={}},a.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},a.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);this.events[e].splice(n,1),this.events[e].length||delete this.events[e]}},a.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)})}},a.EventEmitter.prototype.hasHandler=function(e){return e in this.events},a.tokenizer=function(e){return arguments.length&&null!=e&&void 0!=e?Array.isArray(e)?e.map(function(e){return a.utils.asString(e).toLowerCase()}):e.toString().trim().toLowerCase().split(a.tokenizer.seperator):[]},a.tokenizer.seperator=/[\s\-]+/,a.Pipeline=function(){this._stack=[]},a.Pipeline.registeredFunctions={},a.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&a.utils.warn("Overwriting existing registered function: "+t),e.label=t,a.Pipeline.registeredFunctions[e.label]=e},a.Pipeline.warnIfFunctionNotRegistered=function(e){var t=e.label&&e.label in this.registeredFunctions;t||a.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},a.Pipeline.load=function(e){var t=new a.Pipeline;return e.forEach(function(e){var n=a.Pipeline.registeredFunctions[e];if(!n)throw new Error("Cannot load un-registered function: "+e);t.add(n)}),t},a.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){a.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},a.Pipeline.prototype.after=function(e,t){a.Pipeline.warnIfFunctionNotRegistered(t);var n=this._stack.indexOf(e);if(-1==n)throw new Error("Cannot find existingFn");n+=1,this._stack.splice(n,0,t)},a.Pipeline.prototype.before=function(e,t){a.Pipeline.warnIfFunctionNotRegistered(t);var n=this._stack.indexOf(e);if(-1==n)throw new Error("Cannot find existingFn");this._stack.splice(n,0,t)},a.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},a.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,r=this._stack.length,i=0;n>i;i++){for(var o=e[i],a=0;r>a&&(o=this._stack[a](o,i,e),void 0!==o&&""!==o);a++);void 0!==o&&""!==o&&t.push(o)}return t},a.Pipeline.prototype.reset=function(){this._stack=[]},a.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return a.Pipeline.warnIfFunctionNotRegistered(e),e.label})},a.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},a.Vector.Node=function(e,t,n){this.idx=e,this.val=t,this.next=n},a.Vector.prototype.insert=function(e,t){this._magnitude=void 0;var n=this.list;if(!n)return this.list=new a.Vector.Node(e,t,n),this.length++;if(e<n.idx)return this.list=new a.Vector.Node(e,t,n),this.length++;for(var r=n,i=n.next;void 0!=i;){if(e<i.idx)return r.next=new a.Vector.Node(e,t,i),this.length++;r=i,i=i.next}return r.next=new a.Vector.Node(e,t,i),this.length++},a.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e,t=this.list,n=0;t;)e=t.val,n+=e*e,t=t.next;return this._magnitude=Math.sqrt(n)},a.Vector.prototype.dot=function(e){for(var t=this.list,n=e.list,r=0;t&&n;)t.idx<n.idx?t=t.next:t.idx>n.idx?n=n.next:(r+=t.val*n.val,t=t.next,n=n.next);return r},a.Vector.prototype.similarity=function(e){return this.dot(e)/(this.magnitude()*e.magnitude())},a.SortedSet=function(){this.length=0,this.elements=[]},a.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},a.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},a.SortedSet.prototype.toArray=function(){return this.elements.slice()},a.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},a.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},a.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,r=n-t,i=t+Math.floor(r/2),o=this.elements[i];r>1;){if(o===e)return i;e>o&&(t=i),o>e&&(n=i),r=n-t,i=t+Math.floor(r/2),o=this.elements[i]}return o===e?i:-1},a.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,r=n-t,i=t+Math.floor(r/2),o=this.elements[i];r>1;)e>o&&(t=i),o>e&&(n=i),r=n-t,i=t+Math.floor(r/2),o=this.elements[i];return o>e?i:e>o?i+1:void 0},a.SortedSet.prototype.intersect=function(e){for(var t=new a.SortedSet,n=0,r=0,i=this.length,o=e.length,s=this.elements,u=e.elements;!(n>i-1||r>o-1);)s[n]!==u[r]?s[n]<u[r]?n++:s[n]>u[r]&&r++:(t.add(s[n]),n++,r++);return t},a.SortedSet.prototype.clone=function(){var e=new a.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},a.SortedSet.prototype.union=function(e){var t,n,r;return this.length>=e.length?(t=this,n=e):(t=e,n=this),r=t.clone(),r.add.apply(r,n.toArray()),r},a.SortedSet.prototype.toJSON=function(){return this.toArray()},a.Index=function(){this._fields=[],this._ref="id",this.pipeline=new a.Pipeline,this.documentStore=new a.Store,this.tokenStore=new a.TokenStore,this.corpusTokens=new a.SortedSet,this.eventEmitter=new a.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},a.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},a.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},a.Index.load=function(e){e.version!==a.version&&a.utils.warn("version mismatch: current "+a.version+" importing "+e.version);var t=new this;return t._fields=e.fields,t._ref=e.ref,t.documentStore=a.Store.load(e.documentStore),t.tokenStore=a.TokenStore.load(e.tokenStore),t.corpusTokens=a.SortedSet.load(e.corpusTokens),t.pipeline=a.Pipeline.load(e.pipeline),t},a.Index.prototype.field=function(e,t){var t=t||{},n={name:e,boost:t.boost||1};return this._fields.push(n),this},a.Index.prototype.ref=function(e){return this._ref=e,this},a.Index.prototype.add=function(e,t){var n={},r=new a.SortedSet,i=e[this._ref],t=void 0===t||t;this._fields.forEach(function(t){var i=this.pipeline.run(a.tokenizer(e[t.name]));n[t.name]=i,a.SortedSet.prototype.add.apply(r,i)},this),this.documentStore.set(i,r),a.SortedSet.prototype.add.apply(this.corpusTokens,r.toArray());for(var o=0;o<r.length;o++){var s=r.elements[o],u=this._fields.reduce(function(e,t){var r=n[t.name].length;if(!r)return e;var i=n[t.name].filter(function(e){return e===s}).length;return e+i/r*t.boost},0);this.tokenStore.add(s,{ref:i,tf:u})}t&&this.eventEmitter.emit("add",e,this)},a.Index.prototype.remove=function(e,t){var n=e[this._ref],t=void 0===t||t;if(this.documentStore.has(n)){var r=this.documentStore.get(n);this.documentStore.remove(n),r.forEach(function(e){this.tokenStore.remove(e,n)},this),t&&this.eventEmitter.emit("remove",e,this)}},a.Index.prototype.update=function(e,t){var t=void 0===t||t;this.remove(e,!1),this.add(e,!1),t&&this.eventEmitter.emit("update",e,this)},a.Index.prototype.idf=function(e){var t="@"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,t))return this._idfCache[t];var n=this.tokenStore.count(e),r=1;return n>0&&(r=1+Math.log(this.documentStore.length/n)),this._idfCache[t]=r},a.Index.prototype.search=function(e){var t=this.pipeline.run(a.tokenizer(e)),n=new a.Vector,r=[],i=this._fields.reduce(function(e,t){return e+t.boost},0),o=t.some(function(e){return this.tokenStore.has(e)},this);if(!o)return[];t.forEach(function(e,t,o){var s=1/o.length*this._fields.length*i,u=this,l=this.tokenStore.expand(e).reduce(function(t,r){var i=u.corpusTokens.indexOf(r),o=u.idf(r),l=1,c=new a.SortedSet;if(r!==e){var p=Math.max(3,r.length-e.length);l=1/Math.log(p)}i>-1&&n.insert(i,s*o*l);for(var h=u.tokenStore.get(r),f=Object.keys(h),d=f.length,m=0;d>m;m++)c.add(h[f[m]].ref);return t.union(c)},new a.SortedSet);r.push(l)},this);var s=r.reduce(function(e,t){return e.intersect(t)});return s.map(function(e){return{ref:e,score:n.similarity(this.documentVector(e))}},this).sort(function(e,t){return t.score-e.score})},a.Index.prototype.documentVector=function(e){for(var t=this.documentStore.get(e),n=t.length,r=new a.Vector,i=0;n>i;i++){var o=t.elements[i],s=this.tokenStore.get(o)[e].tf,u=this.idf(o);r.insert(this.corpusTokens.indexOf(o),s*u)}return r},a.Index.prototype.toJSON=function(){return{version:a.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},a.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},a.Store=function(){this.store={},this.length=0},a.Store.load=function(e){var t=new this;return t.length=e.length,t.store=Object.keys(e.store).reduce(function(t,n){return t[n]=a.SortedSet.load(e.store[n]),t},{}),t},a.Store.prototype.set=function(e,t){this.has(e)||this.length++,this.store[e]=t},a.Store.prototype.get=function(e){return this.store[e]},a.Store.prototype.has=function(e){return e in this.store},a.Store.prototype.remove=function(e){this.has(e)&&(delete this.store[e],this.length--)},a.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},a.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",r="[aeiouy]",i=n+"[^aeiouy]*",o=r+"[aeiou]*",a="^("+i+")?"+o+i,s="^("+i+")?"+o+i+"("+o+")?$",u="^("+i+")?"+o+i+o+i,l="^("+i+")?"+r,c=new RegExp(a),p=new RegExp(u),h=new RegExp(s),f=new RegExp(l),d=/^(.+?)(ss|i)es$/,m=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,v=/^(.+?)(ed|ing)$/,y=/.$/,b=/(at|bl|iz)$/,w=new RegExp("([^aeiouylsz])\\1$"),_=new RegExp("^"+i+r+"[^aeiouwxy]$"),x=/^(.+?[^aeiou])y$/,E=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,k=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,C=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,A=/^(.+?)(s|t)(ion)$/,S=/^(.+?)e$/,M=/ll$/,T=new RegExp("^"+i+r+"[^aeiouwxy]$"),D=function(n){var r,i,o,a,s,u,l;if(n.length<3)return n;if(o=n.substr(0,1),"y"==o&&(n=o.toUpperCase()+n.substr(1)),a=d,s=m,a.test(n)?n=n.replace(a,"$1$2"):s.test(n)&&(n=n.replace(s,"$1$2")),a=g,s=v,a.test(n)){var D=a.exec(n);a=c,a.test(D[1])&&(a=y,n=n.replace(a,""))}else if(s.test(n)){var D=s.exec(n);r=D[1],s=f,s.test(r)&&(n=r,s=b,u=w,l=_,s.test(n)?n+="e":u.test(n)?(a=y,n=n.replace(a,"")):l.test(n)&&(n+="e"))}if(a=x,a.test(n)){var D=a.exec(n);r=D[1],n=r+"i"}if(a=E,a.test(n)){var D=a.exec(n);r=D[1],i=D[2],a=c,a.test(r)&&(n=r+e[i])}if(a=k,a.test(n)){var D=a.exec(n);r=D[1],i=D[2],a=c,a.test(r)&&(n=r+t[i])}if(a=C,s=A,a.test(n)){var D=a.exec(n);r=D[1],a=p,a.test(r)&&(n=r)}else if(s.test(n)){var D=s.exec(n);r=D[1]+D[2],s=p,s.test(r)&&(n=r)}if(a=S,a.test(n)){var D=a.exec(n);r=D[1],a=p,s=h,u=T,(a.test(r)||s.test(r)&&!u.test(r))&&(n=r)}return a=M,s=p,a.test(n)&&s.test(n)&&(a=y,n=n.replace(a,"")),"y"==o&&(n=o.toLowerCase()+n.substr(1)),n};return D}(),a.Pipeline.registerFunction(a.stemmer,"stemmer"),a.generateStopWordFilter=function(e){var t=e.reduce(function(e,t){return e[t]=t,e},{});return function(e){return e&&t[e]!==e?e:void 0}},a.stopWordFilter=a.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),a.Pipeline.registerFunction(a.stopWordFilter,"stopWordFilter"),a.trimmer=function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")},a.Pipeline.registerFunction(a.trimmer,"trimmer"),a.TokenStore=function(){this.root={docs:{}},this.length=0},a.TokenStore.load=function(e){var t=new this;return t.root=e.root,t.length=e.length,t},a.TokenStore.prototype.add=function(e,t,n){var n=n||this.root,r=e.charAt(0),i=e.slice(1);return r in n||(n[r]={docs:{}}),0===i.length?(n[r].docs[t.ref]=t,void(this.length+=1)):this.add(i,t,n[r])},a.TokenStore.prototype.has=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e.charAt(n)])return!1;t=t[e.charAt(n)]}return!0},a.TokenStore.prototype.getNode=function(e){if(!e)return{};for(var t=this.root,n=0;n<e.length;n++){if(!t[e.charAt(n)])return{};t=t[e.charAt(n)]}return t},a.TokenStore.prototype.get=function(e,t){return this.getNode(e,t).docs||{}},a.TokenStore.prototype.count=function(e,t){return Object.keys(this.get(e,t)).length},a.TokenStore.prototype.remove=function(e,t){if(e){for(var n=this.root,r=0;r<e.length;r++){if(!(e.charAt(r)in n))return;n=n[e.charAt(r)]}delete n.docs[t]}},a.TokenStore.prototype.expand=function(e,t){var n=this.getNode(e),r=n.docs||{},t=t||[];return Object.keys(r).length&&t.push(e),Object.keys(n).forEach(function(n){"docs"!==n&&t.concat(this.expand(e+n,t))},this),t},a.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(o,a){r=a,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(this,function(){return a})}()}).call(t,n(3))},function(e,t,n){e.exports=n(801)},function(e,t,n){"use strict";function r(e,t,a,s,u){u.on("config",function(n,i){n.number!==i.number&&r(e,t,a,s,u)}),u["true"]=!0,u["false"]=!1,u["null"]=null,u.uninitialized=n(24).UNINITIALIZED,"bignumber"===t.number?(u.Infinity=new e.BigNumber(1/0),u.NaN=new e.BigNumber(0/0),i.lazy(u,"pi",function(){return o.pi(e.BigNumber)}),i.lazy(u,"tau",function(){return o.tau(e.BigNumber)}),i.lazy(u,"e",function(){return o.e(e.BigNumber)}),i.lazy(u,"phi",function(){return o.phi(e.BigNumber)}),i.lazy(u,"E",function(){return u.e}),i.lazy(u,"LN2",function(){return new e.BigNumber(2).ln()}),i.lazy(u,"LN10",function(){return new e.BigNumber(10).ln()}),i.lazy(u,"LOG2E",function(){return new e.BigNumber(1).div(new e.BigNumber(2).ln())}),i.lazy(u,"LOG10E",function(){return new e.BigNumber(1).div(new e.BigNumber(10).ln())}),i.lazy(u,"PI",function(){return u.pi}),i.lazy(u,"SQRT1_2",function(){return new e.BigNumber("0.5").sqrt()}),i.lazy(u,"SQRT2",function(){return new e.BigNumber(2).sqrt()})):(u.Infinity=1/0,u.NaN=0/0,u.pi=Math.PI,u.tau=2*Math.PI,u.e=Math.E,u.phi=1.618033988749895,u.E=u.e,u.LN2=Math.LN2,u.LN10=Math.LN10,u.LOG2E=Math.LOG2E,u.LOG10E=Math.LOG10E,u.PI=u.pi,u.SQRT1_2=Math.SQRT1_2,u.SQRT2=Math.SQRT2),u.i=new e.Complex(0,1),u.version=n(1144)}var i=n(16),o=n(108);t.factory=r,t.lazy=!1,t.math=!0},function(e,t,n){"use strict";function r(e,t,n,r,o){return function(e){if(e){var n=i.clone(t);i.deepExtend(t,e);var r=i.clone(t);return o.emit("config",r,n),r}return i.clone(t)}}var i=n(16);t.name="config",t.math=!0,t.factory=r},function(e,t,n){var r=n(16).isFactory,i=n(16).deepExtend,o=n(803),a=n(590),s=n(802),u=n(800);t.create=function(e){function t(e){if(!r(e))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=n.indexOf(e);return-1===o?(i=e.math===!0?e.factory(c.type,p,t,c.typed,c):e.factory(c.type,p,t,c.typed),n.push(e),l.push(i)):i=l[o],i}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=[],l=[],c=a.mixin({});c.type={},c.expression={transform:Object.create(c)},c.typed=o.create(c.type);var p={epsilon:1e-14,matrix:"matrix",number:"number",precision:64,predictable:!1};return e&&i(p,e),c["import"]=t(s),c.config=t(u),c}},function(e,t,n){"use strict";function r(e,t,n,r,u){function l(e,t){var n=arguments.length;if(1!=n&&2!=n)throw new s("import",n,1,2);if(t||(t={}),o(e))f(e,t);else if(Array.isArray(e))e.forEach(function(e){l(e,t)});else if("object"==typeof e){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];d(i)?c(r,i,t):o(e)?f(e,t):l(i,t)}}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}function c(e,t,n){if(n.wrap&&"function"==typeof t&&(t=h(t)),m(u[e])&&m(t))return t=n.override?r(e,t.signatures):r(u[e],t),u[e]=t,p(e,t),void u.emit("import",e,function(){return t});if(void 0===u[e]||n.override)return u[e]=t,p(e,t),void u.emit("import",e,function(){return t});if(!n.silent)throw new Error('Cannot import "'+e+'": already exists')}function p(e,t){t&&"function"==typeof t.transform&&(u.expression.transform[e]=t.transform)}function h(e){var t=function(){for(var t=[],n=0,r=arguments.length;r>n;n++){var i=arguments[n];t[n]=i&&i.valueOf()}return e.apply(u,t)
};return e.transform&&(t.transform=e.transform),t}function f(e,t){if("string"==typeof e.name){var o=e.name,s=e.path?a(u,e.path):u,l=s.hasOwnProperty(o)?s[o]:void 0,c=function(){var i=n(e);if(m(l)&&m(i))return t.override||(i=r(l,i)),i;if(void 0===l||t.override)return i;if(!t.silent)throw new Error('Cannot import "'+o+'": already exists')};e.lazy!==!1?i(s,o,c):s[o]=c(),u.emit("import",o,c,e.path)}else n(e)}function d(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||e&&e.isUnit===!0||e&&e.isComplex===!0}function m(e){return"function"==typeof e&&"object"==typeof e.signatures}return l}var i=n(16).lazy,o=n(16).isFactory,a=n(16).traverse,s=(n(16).extend,n(188));t.math=!0,t.name="import",t.factory=r,t.lazy=!0},function(e,t,n){var r=n(1171),i=n(8).digits,o=function(){return o=r.create,r};t.create=function(e){var t=o();return t.types=[{name:"number",test:function(e){return"number"==typeof e}},{name:"Complex",test:function(e){return e&&e.isComplex}},{name:"BigNumber",test:function(e){return e&&e.isBigNumber}},{name:"Fraction",test:function(e){return e&&e.isFraction}},{name:"Unit",test:function(e){return e&&e.isUnit}},{name:"string",test:function(e){return"string"==typeof e}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(e){return e&&e.isMatrix}},{name:"DenseMatrix",test:function(e){return e&&e.isDenseMatrix}},{name:"SparseMatrix",test:function(e){return e&&e.isSparseMatrix}},{name:"ImmutableDenseMatrix",test:function(e){return e&&e.isImmutableDenseMatrix}},{name:"Range",test:function(e){return e&&e.isRange}},{name:"Index",test:function(e){return e&&e.isIndex}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"ResultSet",test:function(e){return e&&e.isResultSet}},{name:"Help",test:function(e){return e&&e.isHelp}},{name:"function",test:function(e){return"function"==typeof e}},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(i(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e.BigNumber(t)}},{from:"number",to:"Complex",convert:function(t){return new e.Complex(t,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new e.Complex(t.toNumber(),0)}},{from:"number",to:"Fraction",convert:function(t){if(i(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+t+"). Use function fraction(x) to convert to Fraction.");return new e.Fraction(t)}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(t){return new e.BigNumber(+t)}},{from:"boolean",to:"string",convert:function(e){return+e}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new e.BigNumber(0)}},{from:"Array",to:"Matrix",convert:function(t){return new e.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],t}},function(e,t,n){"use strict";var r=n(188),i=n(37),o=n(189);e.exports=[{name:"ArgumentsError",path:"error",factory:function(){return r}},{name:"DimensionError",path:"error",factory:function(){return i}},{name:"IndexError",path:"error",factory:function(){return o}}]},function(e,t,n){"use strict";function r(e,t,r){function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}var s=r(n(536))();return a.prototype.type="Help",a.prototype.isHelp=!0,a.prototype.toString=function(){var e=this.doc||{},t="\n";if(e.name&&(t+="Name: "+e.name+"\n\n"),e.category&&(t+="Category: "+e.category+"\n\n"),e.description&&(t+="Description:\n    "+e.description+"\n\n"),e.syntax&&(t+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){t+="Examples:\n";for(var n=0;n<e.examples.length;n++){var r=e.examples[n];t+="    "+r+"\n";var i;try{i=s.eval(r)}catch(a){i=a}i&&!i.isHelp&&(t+="        "+o.format(i,{precision:14})+"\n")}t+="\n"}return e.seealso&&(t+="See also: "+e.seealso.join(", ")+"\n"),t},a.prototype.toJSON=function(){var e=i.clone(this.doc);return e.mathjs="Help",e},a.fromJSON=function(e){var t={};for(var n in e)"mathjs"!==n&&(t[n]=e[n]);return new a(t)},a.prototype.valueOf=a.prototype.toString,a}var i=n(16),o=n(64);t.name="Help",t.path="type",t.factory=r},function(e){e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(e){e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(e){e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(e){e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(e){e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(e){e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(e){e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(e){e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(e){e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(e){e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(e){e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(e){e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},function(e){e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(e){e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(e){e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(e){e.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},function(e){e.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu"]}},function(e){e.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},function(e){e.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup"]}},function(e){e.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},function(e){e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(e){e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},function(e){e.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},function(e){e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(e){e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(e){e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(e){e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(e){e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(e){e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(e){e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},function(e){e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(e){e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(e){e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(e){e.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},function(e){e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(e){e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},function(e){e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(e){e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(e){e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(e){e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},function(e){e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},function(e){e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},function(e){e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(e){e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(e){e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},function(e){e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(e){e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(e){e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(e){e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(e){e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(e){e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e){e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e){e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e){e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(e){e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(e){e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(e){e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(e){e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(e){e.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},function(e){e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(e){e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(e){e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(e){e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(e){e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(e){e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(e){e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(e){e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(e){e.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},function(e){e.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},function(e){e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(e){e.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},function(e){e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(e){e.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},function(e){e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(e){e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(e){e.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(e){e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]}},function(e){e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(e){e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(e){e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(e){e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(e){e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(e){e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(e){e.exports={name:"factorial",category:"Probability",syntax:["kldivergence(x, y)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(e){e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(e){e.exports={name:"kldivergence",category:"Probability",syntax:["n!","factorial(n)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}
},function(e){e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(e){e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(e){e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])"],seealso:["random","randomInt"]}},function(e){e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(e){e.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(e){e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},function(e){e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(e){e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e){e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(e){e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},function(e){e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(e){e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(e){e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e){e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(e){e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(e){e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var"]}},function(e){e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(e){e.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(5, 2, 7)","mode([3, -1, 5, 7])"],seealso:["max","mean","min","median","prod","std","sum","var"]}},function(e){e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(e){e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(e){e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(e){e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(e){e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(e){e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(e){e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(e){e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(e){e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},function(e){e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},function(e){e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(e){e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(e){e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(e){e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},function(e){e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(e){e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},function(e){e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(e){e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(e){e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(e){e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(e){e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(e){e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(e){e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(e){e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(e){e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(e){e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(e){e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(e){e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(e){e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(e){e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(e){e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(e){e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(e){e.exports={name:"filter",category:"Utils",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(e){e.exports={name:"forEach",category:"Utils",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(e){e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(e){e.exports={name:"import",category:"Utils",syntax:["import(string)"],description:"Import functions from a file.",examples:['import("numbers")','import("./mylib.js")'],seealso:[]}},function(e){e.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(e){e.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},function(e){e.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive"]}},function(e){e.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(e){e.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},function(e){e.exports={name:"map",category:"Utils",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},function(e){e.exports={name:"partitionSelect",category:"Utils",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(e){e.exports={name:"sort",category:"Utils",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},function(e){e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},function(e){e.exports={name:"bignumber",category:"Type",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},function(e){e.exports={name:"boolean",category:"Type",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(e){e.exports={name:"complex",category:"Type",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(e){e.exports={name:"fraction",category:"Type",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(e){e.exports={name:"index",category:"Type",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(e){e.exports={name:"matrix",category:"Type",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},function(e){e.exports={name:"number",category:"Type",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},function(e){e.exports={name:"sparse",category:"Type",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},function(e){e.exports={name:"string",category:"Type",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(e){e.exports={name:"unit",category:"Type",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(191));return o("compile",{string:function(e){return a(e).compile()},"Array | Matrix":function(e){return i(e,function(e){return a(e).compile()})}})}var i=n(6);t.name="compile",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(191));return o("compile",{string:function(e){var t={};return a(e).compile().eval(t)},"string, Object":function(e,t){return a(e).compile().eval(t)},"Array | Matrix":function(e){var t={};return i(e,function(e){return a(e).compile().eval(t)})},"Array | Matrix, Object":function(e,t){return i(e,function(e){return a(e).compile().eval(t)})}})}var i=n(6);t.name="eval",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i,o){var a=r(n(535));return i("help",{any:function(t){var n,r=t;if("string"!=typeof t)for(n in o)if(o.hasOwnProperty(n)&&t===o[n]){r=n;break}var i=a[r];if(!i)throw new Error('No documentation found on "'+r+'"');return new e.Help(i)}})}t.math=!0,t.name="help",t.factory=r},function(e,t,n){e.exports=[n(973),n(974),n(975),n(977),n(536)]},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(191));return i("parse",{"string | Array | Matrix":o,"string | Array | Matrix, Object":o})}t.name="parse",t.factory=r},function(e,t,n){e.exports=[n(535),n(976),n(979),n(983),n(805),n(191),n(532)]},function(e,t,n){e.exports=[n(345),n(537),n(538),n(539),n(346),n(348),n(540),n(347),n(53),n(541),n(542),n(349),n(155),n(543)]},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(554));return o("concat",{"...any":function(e){var t=e.length-1,n=e[t];"number"==typeof n?e[t]=n-1:n&&n.isBigNumber===!0&&(e[t]=n.minus(1));try{return a.apply(null,e)}catch(r){throw i(r)}}})}var i=n(192).transform;t.name="concat",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function i(e,t,n){var r,i;if(e[0]&&(r=e[0].compile().eval(n)),e[1])if(e[1]&&e[1].isSymbolNode)i=e[1].compile().eval(n);else{var a=n||{},s=e[1].filter(function(e){return!(!e||!e.isSymbolNode||e.name in t||e.name in a)})[0],u=Object.create(a),l=e[1].compile();if(!s)throw new Error("No undefined variable found in filter equation");var c=s.name;i=function(e){return u[c]=e,l.eval(u)}}return o(r,i)}var o=r(n(571));return r(n(155)),i.rawArgs=!0,i}t.name="filter",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){return r(n(572)),i("forEach",{"Array | Matrix, function":function(e,t){var n=function(r,i){Array.isArray(r)?r.forEach(function(e,t){n(e,i.concat(t+1))}):t(r,i,e)};n(e.valueOf(),[])}})}t.name="forEach",t.path="expression.transform",t.factory=r},function(e,t,n){e.exports=[n(980),n(981),n(982),n(984),n(985),n(986),n(987),n(988),n(989),n(990)]},function(e,t,n){"use strict";function r(e,t,r){return r(n(579)),function(){for(var t=[],n=0,r=arguments.length;r>n;n++){var i=arguments[n];if(i&&i.isRange===!0)i.start--,i.end-=i.step>0?0:2;else if(i&&i.isSet===!0)i=i.map(function(e){return e-1});else if(i&&(i.isArray===!0||i.isMatrix))i=i.map(function(e){return e-1});else if("number"==typeof i)i--;else{if(!i||i.isBigNumber!==!0)throw new TypeError("Ranges must be a Number, Range, Array or Matrix");i=i.toNumber()-1}t[n]=i}var o=new e.Index;return e.Index.apply(o,t),o}}Array.isArray,t.name="index",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=(r(n(575)),r(n(5)));return o("max",{"Array, function":function(e,t){return i(e,t,e)},"Matrix, function":function(e,t){return a(i(e.valueOf(),t,e))}})}function i(e,t,n){function r(e,i){return Array.isArray(e)?e.map(function(e,t){return r(e,i.concat(t+1))}):t(e,i,n)}return r(e,[])}t.name="map",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(562));return a("max",{"...any":function(e){if(2==e.length&&o(e[0])){var t=e[1];"number"==typeof t?e[1]=t-1:t&&t.isBigNumber===!0&&(e[1]=t.minus(1))}try{return s.apply(null,e)}catch(n){throw i(n)}}})}var i=n(192).transform,o=n(196);t.name="max",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(563));return a("mean",{"...any":function(e){if(2==e.length&&o(e[0])){var t=e[1];"number"==typeof t?e[1]=t-1:t&&t.isBigNumber===!0&&(e[1]=t.minus(1))}try{return s.apply(null,e)}catch(n){throw i(n)}}})}var i=n(192).transform,o=n(196);t.name="mean",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(564));return a("min",{"...any":function(e){if(2==e.length&&o(e[0])){var t=e[1];"number"==typeof t?e[1]=t-1:t&&t.isBigNumber===!0&&(e[1]=t.minus(1))}try{return s.apply(null,e)}catch(n){throw i(n)}}})}var i=n(192).transform,o=n(196);t.name="min",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(557));return i("range",{"...any":function(e){var t=e.length-1,n=e[t];return"boolean"!=typeof n&&e.push(!0),o.apply(null,e)}})}t.name="range",t.path="expression.transform",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(558));return o("subset",{"...any":function(e){try{return a.apply(null,e)}catch(t){throw i(t)}}})}var i=n(192).transform;t.name="subset",t.path="expression.transform",t.factory=r},function(e,t,n){e.exports=[n(544),n(545),n(546),n(992),n(547)]},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(544)),u=r(n(545)),l=r(n(998)),c=r(n(350)),p=r(n(547)),h=r(n(546)),f=o("lusolve",{"Array, Array | Matrix":function(e,t){e=a(e);var n=s(e),r=m(n.L,n.U,n.p,null,t);return r.valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var n=s(e);return m(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var n=s(e);return m(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,n,r){var i=u(e,n,r);return m(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return m(e.L,e.U,e.p,e.q,t)}}),d=function(e){if(e&&e.isMatrix===!0)return e;if(i(e))return a(e);throw new TypeError("Invalid Matrix LU decomposition")},m=function(e,t,n,r,i){e=d(e),t=d(t),i=c(e,i,!1),n&&(i._data=l(n,i._data));var o=h(e,i),a=p(t,o);return r&&(a._data=l(r,a._data)),a};return f}var i=Array.isArray;t.name="lusolve",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(351)),o=r(n(997)),a=r(n(550)),s=r(n(54)),u=r(n(41)),l=r(n(251)),c=function(e,t){if(!t||0>=e||e>3)return null;var n=t._size,r=n[0],s=n[1],u=0,l=Math.max(16,10*Math.sqrt(s));l=Math.min(s-2,l);var c=p(e,t,r,s,l);o(c,m,null);for(var g,v,y,b,w,_,x,E,k,C,A,S,M,T,D,O,L=c._index,F=c._ptr,P=F[s],N=[],B=[],R=0,j=s+1,I=2*(s+1),$=3*(s+1),z=4*(s+1),U=5*(s+1),V=6*(s+1),Y=7*(s+1),W=N,H=h(s,F,B,R,$,W,I,Y,j,V,z,U),q=f(s,F,B,U,z,V,l,j,$,W,I),G=0;s>q;){for(y=-1;s>G&&-1==(y=B[$+G]);G++);-1!=B[I+y]&&(W[B[I+y]]=-1),B[$+G]=B[I+y];var K=B[z+y],J=B[j+y];q+=J;var X=0;B[j+y]=-J;var Z=F[y],Q=0===K?Z:P,et=Q;for(b=1;K+1>=b;b++){for(b>K?(_=y,x=Z,E=B[R+y]-K):(_=L[Z++],x=F[_],E=B[R+_]),w=1;E>=w;w++)g=L[x++],(k=B[j+g])<=0||(X+=k,B[j+g]=-k,L[et++]=g,-1!=B[I+g]&&(W[B[I+g]]=W[g]),-1!=W[g]?B[I+W[g]]=B[I+g]:B[$+B[U+g]]=B[I+g]);_!=y&&(F[_]=i(y),B[V+_]=0)}for(0!==K&&(P=et),B[U+y]=X,F[y]=Q,B[R+y]=et-Q,B[z+y]=-2,H=d(H,u,V,s),C=Q;et>C;C++)if(g=L[C],!((A=B[z+g])<=0)){k=-B[j+g];var tt=H-k;for(Z=F[g],S=F[g]+A-1;S>=Z;Z++)_=L[Z],B[V+_]>=H?B[V+_]-=k:0!==B[V+_]&&(B[V+_]=B[U+_]+tt)}for(C=Q;et>C;C++){for(g=L[C],S=F[g],M=S+B[z+g]-1,T=S,D=0,O=0,Z=S;M>=Z;Z++)if(_=L[Z],0!==B[V+_]){var nt=B[V+_]-H;nt>0?(O+=nt,L[T++]=_,D+=_):(F[_]=i(y),B[V+_]=0)}B[z+g]=T-S+1;var rt=T,it=S+B[R+g];for(Z=M+1;it>Z;Z++){v=L[Z];var ot=B[j+v];0>=ot||(O+=ot,L[T++]=v,D+=v)}0===O?(F[g]=i(y),k=-B[j+g],X-=k,J+=k,q+=k,B[j+g]=0,B[z+g]=-1):(B[U+g]=Math.min(B[U+g],O),L[T]=L[rt],L[rt]=L[S],L[S]=y,B[R+g]=T-S+1,D=(0>D?-D:D)%s,B[I+g]=B[Y+D],B[Y+D]=g,W[g]=D)}for(B[U+y]=X,u=Math.max(u,X),H=d(H+u,u,V,s),C=Q;et>C;C++)if(g=L[C],!(B[j+g]>=0))for(D=W[g],g=B[Y+D],B[Y+D]=-1;-1!=g&&-1!=B[I+g];g=B[I+g],H++){for(E=B[R+g],A=B[z+g],Z=F[g]+1;Z<=F[g]+E-1;Z++)B[V+L[Z]]=H;var at=g;for(v=B[I+g];-1!=v;){var st=B[R+v]===E&&B[z+v]===A;for(Z=F[v]+1;st&&Z<=F[v]+E-1;Z++)B[V+L[Z]]!=H&&(st=0);st?(F[v]=i(g),B[j+g]+=B[j+v],B[j+v]=0,B[z+v]=-1,v=B[I+v],B[I+at]=v):(at=v,v=B[I+v])}}for(Z=Q,C=Q;et>C;C++)g=L[C],(k=-B[j+g])<=0||(B[j+g]=k,O=B[U+g]+X-k,O=Math.min(O,s-q-k),-1!=B[$+O]&&(W[B[$+O]]=g),B[I+g]=B[$+O],W[g]=-1,B[$+O]=g,G=Math.min(G,O),B[U+g]=O,L[Z++]=g);B[j+y]=J,0===(B[R+y]=Z-Q)&&(F[y]=-1,B[V+y]=0),0!==K&&(P=Z)}for(g=0;s>g;g++)F[g]=i(F[g]);for(v=0;s>=v;v++)B[$+v]=-1;for(v=s;v>=0;v--)B[j+v]>0||(B[I+v]=B[$+F[v]],B[$+F[v]]=v);for(_=s;_>=0;_--)B[j+_]<=0||-1!=F[_]&&(B[I+_]=B[$+F[_]],B[$+F[_]]=_);for(y=0,g=0;s>=g;g++)-1==F[g]&&(y=a(g,y,B,$,I,N,V));return N.splice(N.length-1,1),N},p=function(e,t,n,r,i){var o=l(t);if(1===e&&r===n)return s(t,o);if(2==e){for(var a=o._index,c=o._ptr,p=0,h=0;n>h;h++){var f=c[h];if(c[h]=p,!(c[h+1]-f>i))for(var d=c[h+1];d>f;f++)a[p++]=a[f]}return c[n]=p,t=l(o),u(o,t)}return u(o,t)},h=function(e,t,n,r,i,o,a,s,u,l,c,p){for(var h=0;e>h;h++)n[r+h]=t[h+1]-t[h];n[r+e]=0;for(var f=0;e>=f;f++)n[i+f]=-1,o[f]=-1,n[a+f]=-1,n[s+f]=-1,n[u+f]=1,n[l+f]=1,n[c+f]=0,n[p+f]=n[r+f];var m=d(0,0,l,e);return n[c+e]=-2,t[e]=-1,n[l+e]=0,m},f=function(e,t,n,r,o,a,s,u,l,c,p){for(var h=0,f=0;e>f;f++){var d=n[r+f];if(0===d)n[o+f]=-2,h++,t[f]=-1,n[a+f]=0;else if(d>s)n[u+f]=0,n[o+f]=-1,h++,t[f]=i(e),n[u+e]++;else{var m=n[l+d];-1!=m&&(c[m]=f),n[p+f]=n[l+d],n[l+d]=f}}return h},d=function(e,t,n,r){if(2>e||0>e+t){for(var i=0;r>i;i++)0!==n[i]&&(n[i]=1);e=2}return e},m=function(e,t){return e!=t};return c}t.name="cs_amd",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(251)),o=r(n(999)),a=function(e,t,n,r){if(!e||!t||!n)return null;var a,s,u,l,c,p,h,f=e._size,d=f[0],m=f[1],g=4*m+(r?m+d+1:0),v=[],y=0,b=m,w=2*m,_=3*m,x=4*m,E=5*m+1;for(u=0;g>u;u++)v[u]=-1;var k=[],C=i(e),A=C._index,S=C._ptr;for(u=0;m>u;u++)for(s=n[u],k[s]=-1==v[_+s]?1:0;-1!=s&&-1==v[_+s];s=t[s])v[_+s]=u;if(r){for(u=0;m>u;u++)v[n[u]]=u;for(a=0;d>a;a++){for(u=m,p=S[a],h=S[a+1],c=p;h>c;c++)u=Math.min(u,v[A[c]]);v[E+a]=v[x+u],v[x+u]=a}}for(a=0;m>a;a++)v[y+a]=a;for(u=0;m>u;u++){for(s=n[u],-1!=t[s]&&k[t[s]]--,l=r?v[x+u]:s;-1!=l;l=r?v[E+l]:-1)for(c=S[l];c<S[l+1];c++){a=A[c];var M=o(a,s,v,_,b,w,y);M.jleaf>=1&&k[s]++,2==M.jleaf&&k[M.q]--}-1!=t[s]&&(v[y+s]=t[s])}for(s=0;m>s;s++)-1!=t[s]&&(k[t[s]]+=k[s]);return k};return a}t.name="cs_counts",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(549)),o=r(n(548)),a=r(n(1006)),s=function(e,t,n,r,s){var u,l,c,p=t._index,h=t._ptr,f=t._size,d=f[1],m=0;for(r[0]=e;m>=0;){e=r[m];var g=s?s[e]:e;i(h,e)||(o(h,e),r[d+m]=0>g?0:a(h[g]));var v=1;for(l=r[d+m],c=0>g?0:a(h[g+1]);c>l;l++)if(u=p[l],!i(h,u)){r[d+m]=l,r[++m]=u,v=0;break
}v&&(m--,r[--n]=e)}return n};return s}t.name="cs_dfs",t.path="sparse",t.factory=r},function(e,t){"use strict";function n(){var e=function(e,t){if(!e)return null;var n,r,i=e._index,o=e._ptr,a=e._size,s=a[0],u=a[1],l=[],c=[],p=0,h=u;if(t)for(n=0;s>n;n++)c[h+n]=-1;for(var f=0;u>f;f++){l[f]=-1,c[p+f]=-1;for(var d=o[f],m=o[f+1],g=d;m>g;g++){var v=i[g];for(n=t?c[h+v]:v;-1!=n&&f>n;n=r)r=c[p+n],c[p+n]=f,-1==r&&(l[n]=f);t&&(c[h+v]=f)}}return l};return e}t.name="cs_etree",t.path="sparse",t.factory=n},function(e,t){"use strict";function n(){var e=function(e,t,n){for(var r=e._values,i=e._index,o=e._ptr,a=e._size,s=a[1],u=0,l=0;s>l;l++){var c=o[l];for(o[l]=u;c<o[l+1];c++)t(i[c],l,r?r[c]:1,n)&&(i[u]=i[c],r&&(r[u]=r[c]),u++)}return o[s]=u,i.splice(u,i.length-u),r&&r.splice(u,r.length-u),u};return e}t.name="cs_fkeep",t.path="sparse",t.factory=n},function(e,t){"use strict";function n(){var e=function(e,t,n){var r,n=t.length,i=[];if(e)for(r=0;n>r;r++)i[e[r]]=t[r];else for(r=0;n>r;r++)i[r]=t[r];return i};return e}t.name="cs_ipvec",t.path="sparse",t.factory=n},function(e,t){"use strict";function n(){var e=function(e,t,n,r,i,o,a){var s,u,l,c,p=0;if(t>=e||n[r+t]<=n[i+e])return-1;if(n[i+e]=n[r+t],l=n[o+e],n[o+e]=t,-1===l)p=1,c=e;else{for(p=2,c=l;c!=n[a+c];c=n[a+c]);for(s=l;s!=c;s=u)u=n[a+s],n[a+s]=c}return{jleaf:p,q:c}};return e}t.name="cs_leaf",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(193)),o=r(n(55)),a=r(n(41)),s=r(n(106)),u=r(n(561)),l=r(n(1004)),c=e.SparseMatrix,p=function(e,t,n){if(!e)return null;var r,p=e._size,h=p[1],f=100,d=100;t&&(r=t.q,f=t.lnz||f,d=t.unz||d);var m,g,v=[],y=[],b=[],w=new c({values:v,index:y,ptr:b,size:[h,h]}),_=[],x=[],E=[],k=new c({values:_,index:x,ptr:E,size:[h,h]}),C=[],A=[],S=[];for(m=0;h>m;m++)A[m]=0,C[m]=-1,b[m+1]=0;f=0,d=0;for(var M=0;h>M;M++){b[M]=f,E[M]=d;var T=r?r[M]:M,D=l(w,e,T,S,A,C,1),O=-1,L=-1;for(g=D;h>g;g++)if(m=S[g],C[m]<0){var F=i(A[m]);s(F,L)&&(L=F,O=m)}else x[d]=C[m],_[d++]=A[m];if(-1==O||0>=L)return null;C[T]<0&&u(i(A[T]),a(L,n))&&(O=T);var P=A[O];for(x[d]=M,_[d++]=P,C[O]=M,y[f]=O,v[f++]=1,g=D;h>g;g++)m=S[g],C[m]<0&&(y[f]=m,v[f++]=o(A[m],P)),A[m]=0}for(b[h]=f,E[h]=d,g=0;f>g;g++)y[g]=C[y[g]];return v.splice(f,v.length-f),y.splice(f,y.length-f),_.splice(d,_.length-d),x.splice(d,x.length-d),{L:w,U:k,pinv:C}};return p}t.name="cs_lu",t.path="sparse",t.factory=r},function(e,t){"use strict";function n(e){var t=e.SparseMatrix,n=function(e,n,r,i){for(var o=e._values,a=e._index,s=e._ptr,u=e._size,l=e._datatype,c=u[0],p=u[1],h=i&&e._values?[]:null,f=[],d=[],m=0,g=0;p>g;g++){d[g]=m;for(var v=r?r[g]:g,y=s[v],b=s[v+1],w=y;b>w;w++){var _=n?n[a[w]]:a[w];f[m]=_,h&&(h[m]=o[w]),m++}}return d[p]=m,new t({values:h,index:f,ptr:d,size:[c,p],datatype:l})};return n}t.name="cs_permute",t.path="sparse",t.factory=n},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(550)),o=function(e,t){if(!e)return null;var n,r=0,o=[],a=[],s=0,u=t,l=2*t;for(n=0;t>n;n++)a[s+n]=-1;for(n=t-1;n>=0;n--)-1!=e[n]&&(a[u+n]=a[s+e[n]],a[s+e[n]]=n);for(n=0;t>n;n++)-1==e[n]&&(r=i(n,r,a,s,u,o,l));return o};return o}t.name="cs_post",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(995)),o=r(n(549)),a=r(n(548)),s=function(e,t,n,r,s){var u,l,c,p=e._ptr,h=e._size,f=t._index,d=t._ptr,m=h[1],g=m;for(l=d[n],c=d[n+1],u=l;c>u;u++){var v=f[u];o(p,v)||(g=i(v,e,g,r,s))}for(u=g;m>u;u++)a(p,r[u]);return g};return s}t.name="cs_reach",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(55)),o=r(n(41)),a=r(n(83)),s=r(n(1003)),u=function(e,t,n,r,u,l,c){var p,h,f,d,m=e._values,g=e._index,v=e._ptr,y=e._size,b=y[1],w=t._values,_=t._index,x=t._ptr,E=s(e,t,n,r,l);for(p=E;b>p;p++)u[r[p]]=0;for(h=x[n],f=x[n+1],p=h;f>p;p++)u[_[p]]=w[p];for(var k=E;b>k;k++){var C=r[k],A=l?l[C]:C;if(!(0>A))for(h=v[A],f=v[A+1],u[C]=i(u[C],m[c?h:f-1]),p=c?h+1:h,d=c?f:f-1;d>p;p++){var S=g[p];u[S]=a(u[S],o(m[p],u[C]))}}return E};return u}t.name="cs_spsolve",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(993)),o=r(n(1001)),a=r(n(996)),s=r(n(1002)),u=r(n(994)),l=function(e,t,n){var r,l=t._ptr,p=t._size,h=p[1],f={};if(f.q=i(e,t),e&&!f.q)return null;if(n){var d=e?o(t,null,f.q,0):t;f.parent=a(d,1);var m=s(f.parent,h);if(f.cp=u(d,f.parent,m,1),d&&f.parent&&f.cp&&c(d,f))for(f.unz=0,r=0;h>r;r++)f.unz+=f.cp[r]}else f.unz=4*l[h]+h,f.lnz=f.unz;return f},c=function(e,t){var n=e._ptr,r=e._index,i=e._size,o=i[0],a=i[1];t.pinv=[],t.leftmost=[];var s,u,l,c,p,h=t.parent,f=t.pinv,d=t.leftmost,m=[],g=0,v=o,y=o+a,b=o+2*a;for(u=0;a>u;u++)m[v+u]=-1,m[y+u]=-1,m[b+u]=0;for(s=0;o>s;s++)d[s]=-1;for(u=a-1;u>=0;u--)for(c=n[u],p=n[u+1],l=c;p>l;l++)d[r[l]]=u;for(s=o-1;s>=0;s--)f[s]=-1,u=d[s],-1!=u&&(0===m[b+u]++&&(m[y+u]=s),m[g+s]=m[v+u],m[v+u]=s);for(t.lnz=0,t.m2=o,u=0;a>u;u++)if(s=m[v+u],t.lnz++,0>s&&(s=t.m2++),f[s]=u,!(--b[u]<=0)){t.lnz+=m[b+u];var w=h[u];-1!=w&&(0===m[b+w]&&(m[y+w]=m[y+u]),m[g+m[y+u]]=m[v+w],m[v+w]=m[g+s],m[b+w]+=m[b+u])}for(s=0;o>s;s++)f[s]<0&&(f[s]=u++);return!0};return l}t.name="cs_sqr",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(351)),o=function(e){return 0>e?i(e):e};return o}t.name="cs_unflip",t.path="sparse",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e){if(0===e)return e;var t,n=0>e;return n&&(e=-e),isFinite(e)?(t=Math.exp(Math.log(e)/3),t=(e/(t*t)+2*t)/3):t=e,n?-t:t}function s(n,r){var i=n.toPolar(),o=f(new e.Complex(a(i.r),0),d(new e.Complex(0,i.phi/3)));if(r){var s=[o,f(new e.Complex(a(i.r),0),d(new e.Complex(0,i.phi/3+2*Math.PI/3))),f(new e.Complex(a(i.r),0),d(new e.Complex(0,i.phi/3-2*Math.PI/3)))];return"array"===t.matrix?s:h(s)}return o}function u(e){if(e.isZero())return e;var t,n=e.isNegative();return n&&(e=e.neg()),e.isFinite()?(t=e.ln().div(3).exp(),t=e.div(t.times(t)).plus(t.times(2)).div(3)):t=1/0,n?t.neg():t}function l(t){var n=p(t.value);n&&(t.value=c(t.value));var r;r=t.value&&t.value.isBigNumber?new e.BigNumber(1).div(3):t.value&&t.value.isFraction?new e.Fraction(1,3):1/3;var i=t.pow(r);return n&&(i.value=c(i.value)),i}var c=r(n(160)),p=r(n(195)),h=r(n(5)),f=o.find(r(n(63)),["Complex,Complex"]),d=o.find(r(n(352)),["Complex"]),m=o("cbrt",{number:a,Complex:s,"Complex, boolean":s,BigNumber:u,Unit:l,"Array | Matrix":function(e){return i(e,m,!0)}});return m.toTex="\\sqrt[3]{${args[0]}}",m}var i=n(6);t.name="cbrt",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("ceil",{number:Math.ceil,Complex:function(t){return new e.Complex(Math.ceil(t.re),Math.ceil(t.im))},BigNumber:function(e){return e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return i(e,o,!0)}});return o.toTex="\\left\\lceil${args[0]}\\right\\rceil",o}var i=n(6);t.name="ceil",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=o.find(r(n(63)),["Complex,Complex"]),s=o("cube",{number:function(e){return e*e*e},Complex:function(e){return a(a(e,e),e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.mul(e).mul(e)},"Array | Matrix":function(e){return i(e,s,!0)},Unit:function(e){return e.pow(3)}});return s.toTex="\\left(${args[0]}\\right)^3",s}var i=n(6);t.name="cube",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(5)),a=r(n(63)),s=n(12),u=r(n(70)),l=r(n(580)),c=r(n(48)),p=r(n(21)),h=r(n(15)),f=i("dotMultiply",{"any, any":a,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,a,!1);break;default:n=u(t,e,a,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,a,!1);break;default:n=p(e,t,a)}}return n},"Array, Array":function(e,t){return f(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return f(o(e),t)},"Matrix, Array":function(e,t){return f(e,o(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,a,!1);break;default:n=h(e,t,a,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,a,!0);break;default:n=h(t,e,a,!0)}return n},"Array, any":function(e,t){return h(o(e),t,a,!1).valueOf()},"any, Array":function(e,t){return h(o(t),e,a,!0).valueOf()}});return f.toTex="\\left(${args[0]}"+s.operators.dotMultiply+"${args[1]}\\right)",f}t.name="dotMultiply",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(5)),a=r(n(158)),s=n(12),u=r(n(47)),l=r(n(84)),c=r(n(48)),p=r(n(49)),h=r(n(21)),f=r(n(15)),d=i("dotPow",{"any, any":a,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,a,!1);break;default:n=u(t,e,a,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,a,!1);break;default:n=h(e,t,a)}}return n},"Array, Array":function(e,t){return d(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return d(o(e),t)},"Matrix, Array":function(e,t){return d(e,o(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,d,!1);break;default:n=f(e,t,d,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=p(t,e,d,!0);break;default:n=f(t,e,d,!0)}return n},"Array, any":function(e,t){return f(o(e),t,d,!1).valueOf()},"any, Array":function(e,t){return f(o(t),e,d,!0).valueOf()}});return d.toTex="\\left(${args[0]}"+s.operators.dotPow+"${args[1]}\\right)",d}t.name="dotPow",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("fix",{number:function(e){return e>0?Math.floor(e):Math.ceil(e)},Complex:function(t){return new e.Complex(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},BigNumber:function(e){return e.isNegative()?e.ceil():e.floor()},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return i(e,o,!0)}});return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}var i=n(6);t.name="fix",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("floor",{number:Math.floor,Complex:function(t){return new e.Complex(Math.floor(t.re),Math.floor(t.im))},BigNumber:function(e){return e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return i(e,o,!0)}});return o.toTex="\\left\\lfloor${args[0]}\\right\\rfloor",o}var i=n(6);t.name="floor",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(t,n){if(!t.isInt()||!n.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new e.BigNumber(0);!n.isZero();){var i=t.mod(n);t=n,n=i}return t.lt(r)?t.neg():t}var s=r(n(5)),u=r(n(107)),l=r(n(363)),c=r(n(119)),p=r(n(21)),h=r(n(15)),f=o("gcd",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(e,t){return e.gcd(t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,f);break;default:n=u(t,e,f,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,f,!1);break;default:n=p(e,t,f)}}return n},"Array, Array":function(e,t){return f(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return f(s(e),t)},"Matrix, Array":function(e,t){return f(e,s(t))},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,f,!1);break;default:n=h(e,t,f,!1)}return n},"number | BigNumber, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,f,!0);break;default:n=h(t,e,f,!0)}return n},"Array, number | BigNumber":function(e,t){return h(s(e),t,f,!1).valueOf()},"number | BigNumber, Array":function(e,t){return h(s(t),e,f,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=f(e,t),i=0;i<n.length;i++)r=f(r,n[i]);return r}});return f.toTex="\\gcd\\left(${args}\\right)",f}function i(e,t){if(!o(e)||!o(t))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!=t;)n=e%t,e=t,t=n;return 0>e?-e:e}var o=n(8).isInteger;t.name="gcd",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e){for(var t=0,n=0,r=0;r<e.length;r++){var i=s(e[r]);h(n,i)?(t=c(t,c(l(n,i),l(n,i))),t=u(t,1),n=i):t=u(t,f(i)?c(l(i,n),l(i,n)):i)}return c(n,p(t))}var s=r(n(193)),u=r(n(62)),l=r(n(55)),c=r(n(63)),p=r(n(159)),h=r(n(162)),f=r(n(254)),d=o("hypot",{"... number | BigNumber":a,Array:function(e){return d.apply(d,i(e))},Matrix:function(e){return d.apply(d,i(e.toArray()))}});return d.toTex="\\hypot\\left(${args}\\right)",d}var i=n(24).flatten;t.name="hypot",t.factory=r},function(e,t,n){e.exports=[n(193),n(54),n(62),n(1007),n(1008),n(1009),n(156),n(551),n(1010),n(1011),n(352),n(1012),n(1013),n(1014),n(1015),n(1017),n(157),n(1018),n(1019),n(41),n(1020),n(1021),n(158),n(1022),n(1023),n(159),n(1024),n(83),n(160),n(1025),n(1026)]},function(e,t,n){"use strict";function r(e,t,r,o){function a(t,n){if(!t.isInt()||!n.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(t.isZero()||n.isZero())return new e.BigNumber(0);for(var r=t.times(n);!n.isZero();){var i=n;n=t.mod(i),t=i}return r.div(t).abs()}var s=r(n(5)),u=r(n(70)),l=r(n(256)),c=r(n(48)),p=r(n(21)),h=r(n(15)),f=o("lcm",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,n){return 0===t.n&&0===n.n?new e.Fraction(0):t.mul(n).abs().div(t.gcd(n))},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,f);break;default:n=u(t,e,f,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,f,!1);break;default:n=p(e,t,f)}}return n},"Array, Array":function(e,t){return f(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return f(s(e),t)},"Matrix, Array":function(e,t){return f(e,s(t))},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,f,!1);break;default:n=h(e,t,f,!1)}return n},"number | BigNumber, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=c(t,e,f,!0);break;default:n=h(t,e,f,!0)}return n},"Array, number | BigNumber":function(e,t){return h(s(e),t,f,!1).valueOf()},"number | BigNumber, Array":function(e,t){return h(s(t),e,f,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=f(e,t),i=0;i<n.length;i++)r=f(r,n[i]);return r}});return f.toTex="\\mathrm{${name}}\\left(${args}\\right)",f}function i(e,t){if(!o(e)||!o(t))throw new Error("Parameters in function lcm must be integer numbers");if(0==e||0==t)return 0;for(var n,r=e*t;0!=t;)n=t,t=e%n,e=n;return Math.abs(r/e)}var o=n(8).isInteger;t.name="lcm",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){function o(t){return new e.Complex(Math.log(Math.sqrt(t.re*t.re+t.im*t.im))/Math.LN10,Math.atan2(t.im,t.re)/Math.LN10)}var a=r("log10",{number:function(n){return n>=0||t.predictable?Math.log(n)/Math.LN10:a(new e.Complex(n,0))},Complex:o,BigNumber:function(n){return!n.isNegative()||t.predictable?n.log():o(new e.Complex(n.toNumber(),0))},"Array | Matrix":function(e){return i(e,a)}});return a.toTex="\\log_{10}\\left(${args[0]}\\right)",a}var i=n(6);t.name="log10",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function o(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}var a=r(n(5)),s=n(12),u=r(n(70)),l=r(n(47)),c=r(n(255)),p=r(n(48)),h=r(n(49)),f=r(n(21)),d=r(n(15)),m=i("mod",{"number, number":o,"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,m,!1);break;default:n=u(t,e,m,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,m,!1);break;default:n=f(e,t,m)}}return n},"Array, Array":function(e,t){return m(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return m(a(e),t)},"Matrix, Array":function(e,t){return m(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,t,m,!1);break;default:n=d(e,t,m,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=h(t,e,m,!0);break;default:n=d(t,e,m,!0)}return n},"Array, any":function(e,t){return d(a(e),t,m,!1).valueOf()},"any, Array":function(e,t){return d(a(t),e,m,!0).valueOf()}});return m.toTex="\\left(${args[0]}"+s.operators.mod+"${args[1]}\\right)",m}t.name="mod",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function o(e,t){var n=e.size();if(1==n.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var r=0;return e.forEach(function(e){var t=a(e);h(t,r)&&(r=t)},!0),r}if(t===Number.NEGATIVE_INFINITY||"-inf"===t){var i;return e.forEach(function(e){var t=a(e);i&&!f(t,i)||(i=t)},!0),i||0}if("fro"===t)return o(e,2);if("number"==typeof t&&!isNaN(t)){if(!p(t,0)){var d=0;return e.forEach(function(e){d=s(u(a(e),t),d)},!0),u(d,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==n.length){if(1===t){var v=[],y=0;return e.forEach(function(e,t){var n=t[1],r=s(v[n]||0,a(e));h(r,y)&&(y=r),v[n]=r},!0),y}if(t===Number.POSITIVE_INFINITY||"inf"===t){var b=[],w=0;return e.forEach(function(e,t){var n=t[0],r=s(b[n]||0,a(e));h(r,w)&&(w=r),b[n]=r},!0),w}if("fro"===t)return l(m(c(g(e),e)));if(2===t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}var a=r(n(193)),s=r(n(54)),u=r(n(158)),l=r(n(159)),c=r(n(41)),p=r(n(31)),h=r(n(106)),f=r(n(162)),d=r(n(5)),m=r(n(559)),g=r(n(251)),v=i.find(a,["Complex"]),y=i("norm",{number:Math.abs,Complex:v,BigNumber:function(e){return e.abs()},"boolean | null":function(e){return Math.abs(e)},Array:function(e){return o(d(e),2)},Matrix:function(e){return o(e,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(e){return y(e)},"Array, number | BigNumber | string":function(e,t){return o(d(e),t)},"Matrix, number | BigNumber | string":function(e,t){return o(e,t)}});return y.toTex={1:"\\left\\|${args[0]}\\right\\|",2:"\\mathrm{${name}}\\left(${args}\\right)"},y}t.name="norm",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(t,n){var r=e.BigNumber.precision,i=e.BigNumber.constructor({precision:r+2}),o=new e.BigNumber(0),a=new i(1),s=n.isNegative();if(s&&(n=n.neg()),n.isZero())throw new Error("Root must be non-zero");if(t.isNegative()&&!n.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(t.isZero())return o;if(!t.isFinite())return s?o:t;var u=t.abs().pow(a.div(n));return u=t.isNeg()?u.neg():u,new e.BigNumber((s?a.div(u):u).toPrecision(r))}var u=r(n(5)),l=r(n(107)),c=r(n(70)),p=r(n(256)),h=r(n(48)),f=r(n(21)),d=r(n(15)),m=a("nthRoot",{number:function(e){return i(e,2)},"number, number":i,BigNumber:function(t){return s(t,new e.BigNumber(2))},Complex:function(e){return o(e,2)},"Complex, number":o,"BigNumber, BigNumber":s,"Array | Matrix":function(e){return m(e,2)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");n=p(e,t,m);break;default:n=c(t,e,m,!0)}break;default:switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");n=l(e,t,m,!1);break;default:n=f(e,t,m)}}return n},"Array, Array":function(e,t){return m(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return m(u(e),t)},"Matrix, Array":function(e,t){return m(e,u(t))},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=h(e,t,m,!1);break;default:n=d(e,t,m,!1)}return n},"number | BigNumber, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");n=h(t,e,m,!0);break;default:n=d(t,e,m,!0)}return n},"Array, number | BigNumber":function(e,t){return m(u(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return m(e,u(t)).valueOf()}});return m.toTex="\\sqrt[${args[1]}]{${args[0]}}",m}function i(e,t){var n=0>t;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(0>e&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==e)return 0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=0>e?-r:r,n?1/r:r}function o(e,t){if(0>t)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!==0)throw new Error("Root must be an integer");for(var n=e.toPolar(),r=[],i=Math.pow(n.r,1/t),o=0;t>o;o++)r.push({r:i,phi:(n.phi+2*Math.PI*o)/t});return r}t.name="nthRoot",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var l=r(n(5)),c=r(n(31)),p=r(n(161)),h=r(n(48)),f=r(n(49)),d=r(n(15)),m=a("round",{number:Math.round,"number, number":function(e,t){if(!o(t))throw new TypeError(u);if(0>t||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(e,t)},Complex:function(t){return new e.Complex(Math.round(t.re),Math.round(t.im))},"Complex, number":function(t,n){return new e.Complex(i(t.re,n),i(t.im,n))},"Complex, BigNumber":function(t,n){if(!n.isInteger())throw new TypeError(u);var r=n.toNumber();return new e.Complex(i(t.re,r),i(t.im,r))},"number, BigNumber":function(t,n){if(!n.isInteger())throw new TypeError(u);return new e.BigNumber(t).toDecimalPlaces(n.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(u);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Array | Matrix":function(e){return s(e,m,!0)},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=h(e,t,m,!1);break;default:n=d(e,t,m,!1)}return n},"number | Complex | BigNumber, Matrix":function(e,t){if(!c(e,0)){var n;switch(t.storage()){case"sparse":n=f(t,e,m,!0);break;default:n=d(t,e,m,!0)}return n}return p(t.size(),t.storage())},"Array, number | BigNumber":function(e,t){return d(l(e),t,m,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return d(l(t),e,m,!0).valueOf()}});return m.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:"\\mathrm{${name}}\\left(${args}\\right)"},m}function i(e,t){return parseFloat(a(e,t))}var o=n(8).isInteger,a=n(8).toFixed,s=n(6),u="Number of decimals in function round must be an integer";t.name="round",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=r("sign",{number:i.sign,Complex:function(t){var n=Math.sqrt(t.re*t.re+t.im*t.im);return new e.Complex(t.re/n,t.im/n)},BigNumber:function(t){return new e.BigNumber(t.cmp(0))},Fraction:function(t){return new e.Fraction(t.s)},"Array | Matrix":function(e){return o(e,a,!0)},Unit:function(e){return a(e.value)}});return a.toTex="\\mathrm{${name}}\\left(${args}\\right)",a}var i=n(8),o=n(6);t.name="sign",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("square",{number:function(e){return e*e},Complex:function(t){return new e.Complex(t.re*t.re-t.im*t.im,t.re*t.im+t.im*t.re)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return i(e,o,!0)},Unit:function(e){return e.pow(2)}});return o.toTex="\\left(${args[0]}\\right)^2",o}var i=n(6);t.name="square",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=n(12),s=o("unaryPlus",{number:function(e){return e},Complex:function(e){return e.clone()},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return i(e,s,!0)},"boolean | string | null":function(n){return"bignumber"==t.number?new e.BigNumber(+n):+n}});return s.toTex=a.operators.unaryPlus+"\\left(${args[0]}\\right)",s}var i=n(6);t.name="unaryPlus",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e,n){var r,o,a,s=0,l=1,c=1,p=0;if(!i(e)||!i(n))throw new Error("Parameters in function xgcd must be integer numbers");for(;n;)o=Math.floor(e/n),a=e%n,r=s,s=l-o*s,l=r,r=c,c=p-o*c,p=r,e=n,n=a;var h;return h=0>e?[-e,-l,-p]:[e,e?l:0,p],"array"===t.matrix?h:u(h)}function s(n,r){var i,o,a,s=new e.BigNumber(0),l=new e.BigNumber(0),c=new e.BigNumber(1),p=new e.BigNumber(1),h=new e.BigNumber(0);if(!n.isInt()||!r.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!r.isZero();)o=n.div(r).floor(),a=n.mod(r),i=l,l=c.minus(o.times(l)),c=i,i=p,p=h.minus(o.times(p)),h=i,n=r,r=a;var f;return f=n.lt(s)?[n.neg(),c.neg(),h.neg()]:[n,n.isZero()?0:c,h],"array"===t.matrix?f:u(f)}var u=r(n(5)),l=o("xgcd",{"number, number":a,"BigNumber, BigNumber":s});return l.toTex="\\mathrm{${name}}\\left(${args}\\right)",l}var i=n(8).isInteger;t.name="xgcd",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=n(12),u=r(n(5)),l=r(n(70)),c=r(n(256)),p=r(n(48)),h=r(n(21)),f=r(n(15)),d=a("bitAnd",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function bitAnd");return e&t},"BigNumber, BigNumber":o,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,d,!1);break;default:n=l(t,e,d,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,d,!1);break;default:n=h(e,t,d)}}return n},"Array, Array":function(e,t){return d(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return d(u(e),t)},"Matrix, Array":function(e,t){return d(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,t,d,!1);break;default:n=f(e,t,d,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=p(t,e,d,!0);break;default:n=f(t,e,d,!0)}return n},"Array, any":function(e,t){return f(u(e),t,d,!1).valueOf()},"any, Array":function(e,t){return f(u(t),e,d,!0).valueOf()}});return d.toTex="\\left(${args[0]}"+s.operators.bitAnd+"${args[1]}\\right)",d}var i=n(8).isInteger,o=n(1135);t.name="bitAnd",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var u=n(12),l=s("bitNot",{number:function(e){if(!a(e))throw new Error("Integer expected in function bitNot");return~e},BigNumber:o,"Array | Matrix":function(e){return i(e,l)}});return l.toTex=u.operators.bitNot+"\\left(${args[0]}\\right)",l}var i=n(6),o=n(367),a=n(8).isInteger;t.name="bitNot",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=n(12),u=r(n(5)),l=r(n(107)),c=r(n(363)),p=r(n(119)),h=r(n(21)),f=r(n(15)),d=a("bitOr",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function bitOr");return e|t},"BigNumber, BigNumber":o,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,d);break;default:n=l(t,e,d,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,d,!1);break;default:n=h(e,t,d)}}return n},"Array, Array":function(e,t){return d(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return d(u(e),t)},"Matrix, Array":function(e,t){return d(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,t,d,!1);break;default:n=f(e,t,d,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=p(t,e,d,!0);break;default:n=f(t,e,d,!0)}return n},"Array, any":function(e,t){return f(u(e),t,d,!1).valueOf()},"any, Array":function(e,t){return f(u(t),e,d,!0).valueOf()}});return d.toTex="\\left(${args[0]}"+s.operators.bitOr+"${args[1]}\\right)",d}var i=n(8).isInteger,o=n(1136);t.name="bitOr",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=n(12),u=r(n(5)),l=r(n(47)),c=r(n(84)),p=r(n(49)),h=r(n(21)),f=r(n(15)),d=a("bitXor",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function bitXor");return e^t},"BigNumber, BigNumber":o,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,d);break;default:n=l(t,e,d,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,d,!1);break;default:n=h(e,t,d)}}return n},"Array, Array":function(e,t){return d(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return d(u(e),t)},"Matrix, Array":function(e,t){return d(e,u(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=p(e,t,d,!1);break;default:n=f(e,t,d,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=p(t,e,d,!0);break;default:n=f(t,e,d,!0)}return n},"Array, any":function(e,t){return f(u(e),t,d,!1).valueOf()},"any, Array":function(e,t){return f(u(t),e,d,!0).valueOf()}});return d.toTex="\\left(${args[0]}"+s.operators.bitXor+"${args[1]}\\right)",d}var i=n(8).isInteger,o=n(1137);t.name="bitXor",t.factory=r},function(e,t,n){e.exports=[n(1027),n(1028),n(1029),n(1030),n(1032),n(1033),n(1034)]},function(e,t,n){"use strict";function r(e,t,r,a){var s=n(12),u=r(n(5)),l=r(n(31)),c=r(n(161)),p=r(n(107)),h=r(n(70)),f=r(n(364)),d=r(n(119)),m=r(n(48)),g=r(n(21)),v=r(n(15)),y=a("leftShift",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function leftShift");return e<<t},"BigNumber, BigNumber":o,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=f(e,t,y,!1);break;default:n=h(t,e,y,!0)}break;default:switch(t.storage()){case"sparse":n=p(e,t,y,!1);break;default:n=g(e,t,y)}}return n},"Array, Array":function(e,t){return y(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return y(u(e),t)},"Matrix, Array":function(e,t){return y(e,u(t))},"Matrix, number | BigNumber":function(e,t){if(!l(t,0)){var n;switch(e.storage()){case"sparse":n=m(e,t,y,!1);break;default:n=v(e,t,y,!1)}return n}return e.clone()},"number | BigNumber, Matrix":function(e,t){if(!l(e,0)){var n;switch(t.storage()){case"sparse":n=d(t,e,y,!0);break;default:n=v(t,e,y,!0)}return n}return c(t.size(),t.storage())},"Array, number | BigNumber":function(e,t){return y(u(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return y(e,u(t)).valueOf()}});return y.toTex="\\left(${args[0]}"+s.operators.leftShift+"${args[1]}\\right)",y}var i=n(8).isInteger,o=n(1140);t.name="leftShift",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=n(12),u=r(n(5)),l=r(n(31)),c=r(n(161)),p=r(n(107)),h=r(n(70)),f=r(n(364)),d=r(n(119)),m=r(n(48)),g=r(n(21)),v=r(n(15)),y=a("rightArithShift",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function rightArithShift");return e>>t},"BigNumber, BigNumber":o,"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=f(e,t,y,!1);break;default:n=h(t,e,y,!0)}break;default:switch(t.storage()){case"sparse":n=p(e,t,y,!1);break;default:n=g(e,t,y)}}return n},"Array, Array":function(e,t){return y(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return y(u(e),t)},"Matrix, Array":function(e,t){return y(e,u(t))},"Matrix, number | BigNumber":function(e,t){if(!l(t,0)){var n;switch(e.storage()){case"sparse":n=m(e,t,y,!1);break;default:n=v(e,t,y,!1)}return n}return e.clone()},"number | BigNumber, Matrix":function(e,t){if(!l(e,0)){var n;switch(t.storage()){case"sparse":n=d(t,e,y,!0);break;default:n=v(t,e,y,!0)}return n}return c(t.size(),t.storage())},"Array, number | BigNumber":function(e,t){return y(u(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return y(e,u(t)).valueOf()}});return y.toTex="\\left(${args[0]}"+s.operators.rightArithShift+"${args[1]}\\right)",y}var i=n(8).isInteger,o=n(1141);t.name="rightArithShift",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=n(12),s=r(n(5)),u=r(n(31)),l=r(n(161)),c=r(n(107)),p=r(n(70)),h=r(n(364)),f=r(n(119)),d=r(n(48)),m=r(n(21)),g=r(n(15)),v=o("rightLogShift",{"number, number":function(e,t){if(!i(e)||!i(t))throw new Error("Integers expected in function rightLogShift");return e>>>t},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=h(e,t,v,!1);break;default:n=p(t,e,v,!0)}break;default:switch(t.storage()){case"sparse":n=c(e,t,v,!1);break;default:n=m(e,t,v)}}return n},"Array, Array":function(e,t){return v(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return v(s(e),t)},"Matrix, Array":function(e,t){return v(e,s(t))},"Matrix, number | BigNumber":function(e,t){if(!u(t,0)){var n;switch(e.storage()){case"sparse":n=d(e,t,v,!1);break;default:n=g(e,t,v,!1)}return n}return e.clone()},"number | BigNumber, Matrix":function(e,t){if(!u(e,0)){var n;switch(t.storage()){case"sparse":n=f(t,e,v,!0);break;default:n=g(t,e,v,!0)}return n}return l(t.size(),t.storage())},"Array, number | BigNumber":function(e,t){return v(s(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return v(e,s(t)).valueOf()}});return v.toTex="\\left(${args[0]}"+a.operators.rightLogShift+"${args[1]}\\right)",v}var i=n(8).isInteger;t.name="rightLogShift",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(54)),a=r(n(552)),s=r(n(195)),u=r(n(163)),l=i("bellNumbers",{"number | BigNumber":function(e){if(!u(e)||s(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");
for(var t=0,n=0;e>=n;n++)t=o(t,a(e,n));return t}});return l.toTex="\\mathrm{B}_{${args[0]}}",l}t.name="bellNumbers",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(54)),a=r(n(156)),s=r(n(41)),u=r(n(252)),l=r(n(195)),c=r(n(163)),p=i("catalan",{"number | BigNumber":function(e){if(!c(e)||l(e))throw new TypeError("Non-negative integer value expected in function catalan");return a(u(s(e,2),e),o(e,1))}});return p.toTex="\\mathrm{C}_{${args[0]}}",p}t.name="catalan",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=r(n(252)),a=r(n(62)),s=r(n(254)),u=r(n(163)),l=r(n(106)),c=i("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(u(e)&&s(e)&&u(t)&&s(t)))throw new TypeError("Positive integer value expected in function composition");if(l(t,e))throw new TypeError("k must be less than or equal to n in function composition");return o(a(e,-1),a(t,-1))}});return c.toTex="\\mathrm{${name}}\\left(${args}\\right)",c}t.name="composition",t.factory=r},function(e,t,n){e.exports=[n(1035),n(1037),n(552),n(1036)]},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("arg",{number:function(e){return Math.atan2(0,e)},Complex:function(e){return Math.atan2(e.im,e.re)},"Array | Matrix":function(e){return i(e,o)}});return o.toTex="\\arg\\left(${args[0]}\\right)",o}var i=n(6);t.name="arg",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(t){return new e.Complex(t.re,-t.im)},"Array | Matrix":function(e){return i(e,o)}});return o.toTex="\\left(${args[0]}\\right)^*",o}var i=n(6);t.name="conj",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("im",{number:function(){return 0},BigNumber:function(){return new e.BigNumber(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return i(e,o)}});return o.toTex="\\Im\\left\\lbrace${args[0]}\\right\\rbrace",o}var i=n(6);t.name="im",t.factory=r},function(e,t,n){e.exports=[n(1039),n(1040),n(1041),n(1043)]},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return i(e,o)}});return o.toTex="\\Re\\left\\lbrace${args[0]}\\right\\rbrace",o}var i=n(6);t.name="re",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var d=(r(n(5)),s("distance",{"Array, Array, Array":function(e,t,n){if(2==e.length&&2==t.length&&2==n.length){if(!i(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(t))throw new TypeError("Array with 2 numbers expected for second argument");if(!i(n))throw new TypeError("Array with 2 numbers expected for third argument");var r=(n[1]-n[0])/(t[1]-t[0]),o=r*r*t[0],a=-1*r*t[0],s=e[1];return l(e[0],e[1],o,a,s)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,n){if(2==Object.keys(e).length&&2==Object.keys(t).length&&2==Object.keys(n).length){if(!i(e))throw new TypeError("Values of pointX and pointY should be numbers");if(!i(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers");if(!i(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("lineOnePtX")&&t.hasOwnProperty("lineOnePtY")&&n.hasOwnProperty("lineTwoPtX")&&n.hasOwnProperty("lineTwoPtY")){var r=(n.lineTwoPtY-n.lineTwoPtX)/(t.lineOnePtY-t.lineOnePtX),o=r*r*t.lineOnePtX,a=-1*r*t.lineOnePtX,s=e.pointX;return l(e.pointX,e.pointY,o,a,s)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2==e.length&&3==t.length){if(!i(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(t))throw new TypeError("Array with 3 numbers expected for second argument");return l(e[0],e[1],t[0],t[1],t[2])}if(3==e.length&&6==t.length){if(!o(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(t))throw new TypeError("Array with 6 numbers expected for second argument");return c(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(2==e.length&&2==t.length){if(!i(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(t))throw new TypeError("Array with 2 numbers expected for second argument");return p(e[0],e[1],t[0],t[1])}if(3==e.length&&3==t.length){if(!o(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(t))throw new TypeError("Array with 3 numbers expected for second argument");return h(e[0],e[1],e[2],t[0],t[1],t[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2==Object.keys(e).length&&3==Object.keys(t).length){if(!i(e))throw new TypeError("Values of pointX and pointY should be numbers");if(!o(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("xCoeffLine")&&t.hasOwnProperty("yCoeffLine")&&t.hasOwnProperty("yCoeffLine"))return l(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(e).length&&6==Object.keys(t).length){if(!o(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers");if(!a(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("x0")&&t.hasOwnProperty("y0")&&t.hasOwnProperty("z0")&&t.hasOwnProperty("a")&&t.hasOwnProperty("b")&&t.hasOwnProperty("c"))return c(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2==Object.keys(e).length&&2==Object.keys(t).length){if(!i(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers");if(!i(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY"))return p(e.pointOneX,e.pointOneY,t.pointTwoX,t.pointTwoY);throw new TypeError("Key names do not match")}if(3==Object.keys(e).length&&3==Object.keys(t).length){if(!o(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers");if(!o(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointOneZ")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY")&&t.hasOwnProperty("pointTwoZ"))return h(e.pointOneX,e.pointOneY,e.pointOneZ,t.pointTwoX,t.pointTwoY,t.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!u(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return f(e)}}));return d}function i(e){return e.constructor!==Array&&(e=s(e)),"number"==typeof e[0]&&"number"==typeof e[1]}function o(e){return e.constructor!==Array&&(e=s(e)),"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]}function a(e){return e.constructor!==Array&&(e=s(e)),"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]&&"number"==typeof e[3]&&"number"==typeof e[4]&&"number"==typeof e[5]}function s(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}function u(e){if(2==e[0].length&&"number"==typeof e[0][0]&&"number"==typeof e[0][1]){for(var t in e)if(2!=e[t].length||"number"!=typeof e[t][0]||"number"!=typeof e[t][1])return!1}else{if(3!=e[0].length||"number"!=typeof e[0][0]||"number"!=typeof e[0][1]||"number"!=typeof e[0][2])return!1;for(var t in e)if(3!=e[t].length||"number"!=typeof e[t][0]||"number"!=typeof e[t][1]||"number"!=typeof e[t][2])return!1}return!0}function l(e,t,n,r,i){var o=Math.abs(n*e+r*t+i),a=Math.pow(n*n+r*r,.5),s=o/a;return s}function c(e,t,n,r,i,o,a,s,u){var l=[(i-t)*u-(o-n)*s,(o-n)*a-(r-e)*u,(r-e)*s-(i-t)*a];l=Math.pow(l[0]*l[0]+l[1]*l[1]+l[2]*l[2],.5);var c=Math.pow(a*a+s*s+u*u,.5),p=l/c;return p}function p(e,t,n,r){var i=r-t,o=n-e,a=i*i+o*o,s=Math.pow(a,.5);return s}function h(e,t,n,r,i,o){var a=o-n,s=i-t,u=r-e,l=a*a+s*s+u*u,c=Math.pow(l,.5);return c}function f(e){for(var t=[],n=0;n<e.length-1;n++)for(var r=n+1;r<e.length;r++)2==e[0].length?t.push(p(e[n][0],e[n][1],e[r][0],e[r][1])):3==e[0].length&&t.push(h(e[n][0],e[n][1],e[n][2],e[r][0],e[r][1],e[r][2]));return t}t.name="distance",t.factory=r},function(e,t,n){e.exports=[n(1046),n(1044)]},function(e,t,n){"use strict";function r(e,t,r,c){var p=r(n(5)),h=c("intersect",{"Array, Array, Array":function(e,t,n){if(!o(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(t))throw new TypeError("Array with 3 numbers expected for second argument");if(!a(n))throw new TypeError("Array with 4 numbers expected as third argument");return l(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(e,t,n,r){if(2===e.length){if(!i(e))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(t))throw new TypeError("Array with 2 numbers expected for second argument");if(!i(n))throw new TypeError("Array with 2 numbers expected for third argument");if(!i(r))throw new TypeError("Array with 2 numbers expected for fourth argument");return s(e[0],e[1],t[0],t[1],n[0],n[1],r[0],r[1])}if(3===e.length){if(!o(e))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(t))throw new TypeError("Array with 3 numbers expected for second argument");if(!o(n))throw new TypeError("Array with 3 numbers expected for third argument");if(!o(r))throw new TypeError("Array with 3 numbers expected for fourth argument");return u(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],r[0],r[1],r[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(e,t,n){return p(h(e.valueOf(),t.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,n,r){return p(h(e.valueOf(),t.valueOf(),n.valueOf(),r.valueOf()))}});return h}function i(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function o(e){return 3===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]}function a(e){return 4===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]&&"number"==typeof e[3]}function s(e,t,n,r,i,o,a,s){var u=(e-i)*(a-i)+(t-o)*(s-o),l=(a-i)*(n-e)+(s-o)*(r-t),c=(e-i)*(n-e)+(t-o)*(r-t),p=(a-i)*(a-i)+(s-o)*(s-o),h=(n-e)*(n-e)+(r-t)*(r-t),f=(u*l-c*p)/(h*p-l*l),d=(u+f*l)/p,m=e+f*(n-e),g=t+f*(r-t),v=i+d*(a-i),y=o+d*(s-o);return m===v&&g===y?[m,g]:null}function u(e,t,n,r,i,o,a,s,u,l,c,p){var h=(e-a)*(l-a)+(t-s)*(c-s)+(n-u)*(p-u),f=(l-a)*(r-e)+(c-s)*(i-t)+(p-u)*(o-n),d=(e-a)*(r-e)+(t-s)*(i-t)+(n-u)*(o-n),m=(l-a)*(l-a)+(c-s)*(c-s)+(p-u)*(p-u),g=(r-e)*(r-e)+(i-t)*(i-t)+(o-n)*(o-n),v=(h*f-d*m)/(g*m-f*f),y=(h+v*f)/m,b=e+v*(r-e),w=t+v*(i-t),_=n+v*(o-n),x=a+y*(l-a),E=s+y*(c-s),k=u+y*(p-u);return b===x&&w===E&&_===k?[b,w,_]:null}function l(e,t,n,r,i,o,a,s,u,l){var c=(l-e*a-t*s-n*u)/(r*a+i*s+o*u-e-t-n),p=e+c*(r-e),h=t+c*(i-t),f=n+c*(o-n);return[p,h,f]}t.name="intersect",t.factory=r},function(e,t,n){e.exports=[n(991),n(1016),n(1031),n(1038),n(1042),n(1045),n(1049),n(1056),n(1061),n(1069),n(1072),n(1090),n(1096),n(1099)]},function(e,t,n){"use strict";function r(e,t,r,i){var o=n(12),a=r(n(5)),s=r(n(161)),u=r(n(553)),l=(r(n(574)),r(n(70))),c=r(n(256)),p=r(n(48)),h=r(n(21)),f=r(n(15)),d=i("and",{"number, number":function(e,t){return!(!e||!t)},"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return d(e.value,t.value)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=c(e,t,d,!1);break;default:n=l(t,e,d,!0)}break;default:switch(t.storage()){case"sparse":n=l(e,t,d,!1);break;default:n=h(e,t,d)}}return n},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"Matrix, any":function(e,t){if(u(t))return s(e.size(),e.storage());var n;switch(e.storage()){case"sparse":n=p(e,t,d,!1);break;default:n=f(e,t,d,!1)}return n},"any, Matrix":function(e,t){if(u(e))return s(e.size(),e.storage());var n;switch(t.storage()){case"sparse":n=p(t,e,d,!0);break;default:n=f(t,e,d,!0)}return n},"Array, any":function(e,t){return d(a(e),t).valueOf()},"any, Array":function(e,t){return d(e,a(t)).valueOf()}});return d.toTex="\\left(${args[0]}"+o.operators.and+"${args[1]}\\right)",d}t.name="and",t.factory=r},function(e,t,n){e.exports=[n(1048),n(553),n(1050),n(1051)]},function(e,t,n){"use strict";function r(e,t,r,i){var o=n(12),a=r(n(5)),s=r(n(47)),u=r(n(255)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=i("or",{"number, number":function(e,t){return!(!e&&!t)},"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return h(e.value,t.value)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,h);break;default:n=s(t,e,h,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,h,!1);break;default:n=c(e,t,h)}}return n},"Array, Array":function(e,t){return h(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return h(a(e),t)},"Matrix, Array":function(e,t){return h(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,h,!1);break;default:n=p(e,t,h,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,h,!0);break;default:n=p(t,e,h,!0)}return n},"Array, any":function(e,t){return p(a(e),t,h,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,h,!0).valueOf()}});return h.toTex="\\left(${args[0]}"+o.operators.or+"${args[1]}\\right)",h}t.name="or",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){var o=n(12),a=r(n(5)),s=r(n(47)),u=r(n(84)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=i("xor",{"number, number":function(e,t){return!!(!!e^!!t)},"Complex, Complex":function(e,t){return!!((0!==e.re||0!==e.im)^(0!==t.re||0!==t.im))},"BigNumber, BigNumber":function(e,t){return!!((!e.isZero()&&!e.isNaN())^(!t.isZero()&&!t.isNaN()))},"Unit, Unit":function(e,t){return h(e.value,t.value)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,h);break;default:n=s(t,e,h,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,h,!1);break;default:n=c(e,t,h)}}return n},"Array, Array":function(e,t){return h(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return h(a(e),t)},"Matrix, Array":function(e,t){return h(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,h,!1);break;default:n=p(e,t,h,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,h,!0);break;default:n=p(t,e,h,!0)}return n},"Array, any":function(e,t){return p(a(e),t,h,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,h,!0).valueOf()}});return h.toTex="\\left(${args[0]}"+o.operators.xor+"${args[1]}\\right)",h}t.name="xor",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e,t){var n=i(e),r=i(t);if(1!=n.length||1!=r.length||3!=n[0]||3!=r[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+n.join(", ")+"], B = ["+r.join(", ")+"])");return[u(l(e[1],t[2]),l(e[2],t[1])),u(l(e[2],t[0]),l(e[0],t[2])),u(l(e[0],t[1]),l(e[1],t[0]))]}var s=r(n(5)),u=r(n(83)),l=r(n(41)),c=o("cross",{"Matrix, Matrix":function(e,t){return s(a(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return s(a(e.toArray(),t))},"Array, Matrix":function(e,t){return s(a(e,t.toArray()))},"Array, Array":a});return c.toTex="\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)",c}var i=n(24).size;t.name="cross",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function u(e,t,n,r){if(!a(t))throw new TypeError("Second parameter in function diag must be an integer");var i=t>0?t:0,o=0>t?-t:0;switch(n.length){case 1:return l(e,t,r,n[0],o,i);case 2:return c(e,t,r,n,o,i)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function l(t,n,r,i,o,a){var s=[i+o,i+a],u=e.Matrix.storage(r||"dense"),l=u.diagonal(s,t,n);return null!==r?l:l.valueOf()}function c(e,t,n,r,i,a){if(e&&e.isMatrix===!0){var s=e.diagonal(t);return null!==n?n!==s.storage()?p(s,n):s:s.valueOf()}for(var u=Math.min(r[0]-i,r[1]-a),l=[],c=0;u>c;c++)l[c]=o(e[c+i][c+a]);return null!==n?p(l):l}var p=r(n(5)),h=s("diag",{Array:function(e){return u(e,0,i.size(e),null)},"Array, number":function(e,t){return u(e,t,i.size(e),null)},"Array, BigNumber":function(e,t){return u(e,t.toNumber(),i.size(e),null)},"Array, string":function(e,t){return u(e,0,i.size(e),t)},"Array, number, string":function(e,t,n){return u(e,t,i.size(e),n)},"Array, BigNumber, string":function(e,t,n){return u(e,t.toNumber(),i.size(e),n)},Matrix:function(e){return u(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return u(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return u(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return u(e,0,e.size(),t)},"Matrix, number, string":function(e,t,n){return u(e,t,e.size(),n)},"Matrix, BigNumber, string":function(e,t,n){return u(e,t.toNumber(),e.size(),n)}});return h.toTex="\\mathrm{${name}}\\left(${args}\\right)",h}var i=n(24),o=n(16).clone,a=n(8).isInteger;t.name="diag",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e,t){var n=i(e),r=i(t),o=n[0];if(1!==n.length||1!==r.length)throw new RangeError("Vector expected");if(n[0]!=r[0])throw new RangeError("Vectors must have equal length ("+n[0]+" != "+r[0]+")");if(0==o)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var a=0,l=0;o>l;l++)a=s(a,u(e[l],t[l]));return a}var s=r(n(54)),u=r(n(41)),l=o("dot",{"Matrix, Matrix":function(e,t){return a(e.toArray(),t.toArray())},"Matrix, Array":function(e,t){return a(e.toArray(),t)},"Array, Matrix":function(e,t){return a(e,t.toArray())},"Array, Array":a});return l.toTex="\\left(${args[0]}\\cdot${args[1]}\\right)",l}var i=n(24).size;t.name="dot",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(5)),u=a("flatten",{Array:function(e){return o(i(e))},Matrix:function(e){var t=o(i(e.toArray()));return s(t)}});return u.toTex="\\mathrm{${name}}\\left(${args}\\right)",u}var i=n(16).clone,o=n(24).flatten;t.name="flatten",t.factory=r},function(e,t,n){e.exports=[n(554),n(1052),n(555),n(1053),n(1054),n(353),n(1055),n(556),n(1057),n(557),n(1058),n(1059),n(1060),n(558),n(559),n(251),n(161)]},function(e,t,n){"use strict";function r(e,t,r,a){function s(t,n){var r=u(t),i=r?new e.BigNumber(1):1;if(l(t),n){var a=c(n);return t.length>0?a.resize(t,i):a}var s=[];return t.length>0?o(s,t,i):s}function u(e){var t=!1;return e.forEach(function(e,n,r){e&&e.isBigNumber===!0&&(t=!0,r[n]=e.toNumber())}),t}function l(e){e.forEach(function(e){if("number"!=typeof e||!i(e)||0>e)throw new Error("Parameters in function ones must be positive integers")})}var c=r(n(5)),p=a("ones",{"":function(){return"array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(e){var n=e[e.length-1];if("string"==typeof n){var r=e.pop();return s(e,r)}return"array"===t.matrix?s(e):s(e,"default")},Array:s,Matrix:function(e){var t=e.storage();return s(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return s(e.valueOf(),t)}});return p.toTex="\\mathrm{${name}}\\left(${args}\\right)",p}var i=n(8).isInteger,o=n(24).resize;t.name="ones",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function c(e,t,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new i(t.length,1);var r=t[0];if("number"!=typeof r||!a(r))throw new TypeError("Invalid size, must contain positive integers (size: "+s(t)+")");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var o=e,u=0,l=r-e.length;l>u;u++)o+=n;return o}return e}var p=r(n(5)),h=function(e,n,r){if(2!=arguments.length&&3!=arguments.length)throw new o("resize",arguments.length,2,3);if(n&&n.isMatrix===!0&&(n=n.valueOf()),n.length&&n[0]&&n[0].isBigNumber===!0&&(n=n.map(function(e){return e&&e.isBigNumber===!0?e.toNumber():e})),e&&e.isMatrix===!0)return e.resize(n,r,!0);if("string"==typeof e)return c(e,n,r);var i=!Array.isArray(e)&&"array"!==t.matrix;if(0==n.length){for(;Array.isArray(e);)e=e[0];return u(e)}Array.isArray(e)||(e=[e]),e=u(e);var a=l.resize(e,n,r);return i?p(a):a};return h.toTex="\\mathrm{${name}}\\left(${args}\\right)",h}var i=n(37),o=n(188),a=n(8).isInteger,s=n(64).format,u=n(16).clone,l=n(24);t.name="resize",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=o("size",{Matrix:function(e){return a(e.size())},Array:i.size,string:function(e){return"array"===t.matrix?[e.length]:a([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(){return"array"===t.matrix?[]:a([])}});return s.toTex="\\mathrm{${name}}\\left(${args}\\right)",s}var i=n(24);t.name="size",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(5)),u=a("squeeze",{Array:function(e){return o.squeeze(i.clone(e))},Matrix:function(e){var t=o.squeeze(e.toArray());return Array.isArray(t)?s(t):t},any:function(e){return i.clone(e)}});return u.toTex="\\mathrm{${name}}\\left(${args}\\right)",u}var i=n(16),o=n(24);t.name="squeeze",t.factory=r},function(e,t,n){e.exports=[n(252),n(253),n(560),n(1062),n(1063),n(1064),n(1065),n(1066),n(1067)]},function(e,t,n){"use strict";function r(e,t,r,i){function o(e,t){var n=t.size().length,r=e.size().length;if(n>1)throw new Error("first object must be one dimensional");if(r>1)throw new Error("second object must be one dimensional");if(n!==r)throw new Error("Length of two vectors must be equal");var i=u(e);if(0===i)throw new Error("Sum of elements in first object must be non zero");var o=u(t);if(0===o)throw new Error("Sum of elements in second object must be non zero");var a=s(e,u(e)),f=s(t,u(t)),d=u(l(a,p(c(a,f))));return h(d)?d:Number.NaN}var a=r(n(5)),s=r(n(156)),u=r(n(565)),l=r(n(41)),c=r(n(551)),p=r(n(157)),h=r(n(360)),f=i("kldivergence",{"Array, Array":function(e,t){return o(a(e),a(t))},"Matrix, Array":function(e,t){return o(e,a(t))},"Array, Matrix":function(e,t){return o(a(e),t)},"Matrix, Matrix":function(e,t){return o(e,t)}});return f}t.name="kldivergence",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(54)),s=r(n(41)),u=r(n(156)),l=r(n(253)),c=r(n(163)),p=r(n(254));return o("multinomial",{"Array | Matrix":function(e){var t=0,n=1;return i(e,function(e){if(!c(e)||!p(e))throw new TypeError("Positive integer value expected in function multinomial");t=a(t,e),n=s(n,l(e))}),u(l(t),n)}})}var i=n(120);t.name="multinomial",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=r(n(253)),u=a("permutations",{"number | BigNumber":s,"number, number":function(e,t){var n,r;if(!o(e)||0>e)throw new TypeError("Positive integer value expected in function permutations");if(!o(t)||0>t)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");for(n=1,r=e-t+1;e>=r;r++)n*=r;return n},"BigNumber, BigNumber":function(t,n){var r,o;if(!i(t)||!i(n))throw new TypeError("Positive integer value expected in function permutations");if(n.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=new e.BigNumber(1),o=t.minus(n).plus(1);o.lte(t);o=o.plus(1))r=r.times(o);return r}});return u.toTex="\\mathrm{${name}}\\left(${args}\\right)",u}function i(e){return e.isInteger()&&e.gte(0)}var o=n(8).isInteger;t.name="permutations",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(354)),o=i("uniform").pickRandom;return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}t.name="pickRandom",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(354)),o=i("uniform").random;return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}t.name="random",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){var i=r(n(354)),o=i("uniform").randomInt;return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}t.name="randomInt",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function o(e,t){if(Array.isArray(e)){if(Array.isArray(t)){var n=e.length;if(n!==t.length)return!1;for(var r=0;n>r;r++)if(!o(e[r],t[r]))return!1;return!0}return!1}return!Array.isArray(t)&&a(e,t)}var a=r(n(355)),s=i("deepEqual",{"any, any":function(e,t){return o(e.valueOf(),t.valueOf())}});return s.toTex="\\mathrm{${name}}\\left(${args}\\right)",s}t.name="deepEqual",t.factory=r},function(e,t,n){e.exports=[n(194),n(1068),n(355),n(106),n(561),n(162),n(1070),n(1071)]},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(47)),u=r(n(84)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=n(12),f=o("smallerEq",{"boolean, boolean":function(e,t){return t>=e},"number, number":function(e,n){return n>=e||i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"string, string":function(e,t){return t>=e},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,f);break;default:n=s(t,e,f,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,f,!1);break;default:n=c(e,t,f)}}return n},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,f,!1);break;default:n=p(e,t,f,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,f,!0);break;default:n=p(t,e,f,!0)}return n},"Array, any":function(e,t){return p(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,f,!0).valueOf()}});return f.toTex="\\left(${args[0]}"+h.operators.smallerEq+"${args[1]}\\right)",f}var i=n(8).nearlyEqual;t.name="smallerEq",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(47)),u=r(n(84)),l=r(n(49)),c=r(n(21)),p=r(n(15)),h=n(12),f=o("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:d(e,t)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=u(e,t,d);break;default:n=s(t,e,d,!0)}break;default:switch(t.storage()){case"sparse":n=s(e,t,d,!1);break;default:n=c(e,t,d)}}return n},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"Matrix, any":function(e,t){var n;switch(e.storage()){case"sparse":n=l(e,t,d,!1);break;default:n=p(e,t,d,!1)}return n},"any, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=l(t,e,d,!0);break;default:n=p(t,e,d,!0)}return n},"Array, any":function(e,t){return p(a(e),t,d,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,d,!0).valueOf()}}),d=o("_unequal",{"boolean, boolean":function(e,t){return e!==t},"number, number":function(e,n){return!i(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,t){return!e.eq(t)},"Fraction, Fraction":function(e,t){return 0!==e.compare(t)},"Complex, Complex":function(e,n){return!i(e.re,n.re,t.epsilon)||!i(e.im,n.im,t.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return f(e.value,t.value)},"string, string":function(e,t){return e!==t}});return f.toTex="\\left(${args[0]}"+h.operators.unequal+"${args[1]}\\right)",f}var i=n(8).nearlyEqual;t.name="unequal",t.factory=r},function(e,t,n){e.exports=[n(562),n(563),n(1073),n(564),n(1074),n(1075),n(1076),n(1077),n(565),n(566)]},function(e,t,n){"use strict";function r(e,t,r,o){function a(e){e=i(e.valueOf());var t=e.length;if(0==t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var n=t/2-1,r=c(e,n+1),o=e[n],a=0;n>a;++a)l(e[a],o)>0&&(o=e[a]);return f(o,r)}var s=c(e,(t-1)/2);return h(s)}var s=r(n(62)),u=r(n(55)),l=r(n(194)),c=r(n(361)),p=o("median",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(){throw new Error("median(A, dim) is not yet supported")},"...":function(){return a(Array.prototype.slice.call(arguments))}}),h=o({"number | BigNumber | Unit":function(e){return e}}),f=o({"number | BigNumber | Unit, number | BigNumber | Unit":function(e,t){return u(s(e,t),2)}});return p.toTex="\\mathrm{${name}}\\left(${args}\\right)",p}var i=n(24).flatten;t.name="median",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){function o(e){e=i(e.valueOf());var t=e.length;if(0==t)throw new Error("Cannot calculate mode of an empty array");var n={},r=[],o=0;for(var a in e)e[a]in n||(n[e[a]]=0),n[e[a]]++,n[e[a]]==o?r.push(e[a]):n[e[a]]>o&&(o=n[e[a]],r=[e[a]]);return r}var a=r("mode",{"Array | Matrix":o,"...":function(){return o(Array.prototype.slice.call(arguments))}});return a}var i=n(24).flatten;t.name="mode",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e){var t=void 0;if(i(e,function(e){t=void 0===t?e:s(t,e)}),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}var s=r(n(63)),u=o("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(){throw new Error("prod(A, dim) is not yet supported")},"...":function(){return a(arguments)}});return u.toTex="\\mathrm{${name}}\\left(${args}\\right)",u}var i=n(120);t.name="prod",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,u){function l(t,n,r){var a,u,l;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(s(t)){if(r=r||!1,"boolean"==typeof r){if(u=t.valueOf(),o(n)){if(0>n)throw new Error("N/prob must be non-negative");if(1>=n)return c(u,n,r);if(n>1){if(!i(n))throw new Error("N must be a positive integer");var p=n+1;a=new Array(n);for(var h=0;n>h;)a[h]=c(u,++h/p,r);return a}}if(n&&n.isBigNumber){if(n.isNegative())throw new Error("N/prob must be non-negative");if(l=n.constructor.ONE,n.lte(l))return c(u,n,r);if(n.gt(l)){if(!n.isInteger())throw new Error("N must be a positive integer");var f=n.toNumber();if(f>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var p=new e.BigNumber(f+1);a=new Array(f);for(var h=0;f>h;)a[h]=c(u,new e.BigNumber(++h).div(p),r);return a}}if(Array.isArray(n)){a=new Array(n.length);for(var h=0;h<a.length;++h){var d=n[h];if(o(d)){if(0>d||d>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!d||!d.isBigNumber)throw new TypeError("Unexpected type of argument in function quantileSeq");if(l=d.constructor.ONE,d.isNegative()||d.gt(l))throw new Error("Probability must be between 0 and 1, inclusive")}a[h]=c(u,d,r)}return a}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function c(e,t,n){var r=a(e),i=r.length;if(0===i)throw new Error("Cannot calculate quantile of an empty sequence");if(o(t)){var s=t*(i-1),u=s%1;if(0===u){var l=n?r[s]:f(r,s);return m(l),l}var c,g,v=Math.floor(s);if(n)c=r[v],g=r[v+1];else{g=f(r,v+1),c=r[v];for(var y=0;v>y;++y)d(r[y],c)>0&&(c=r[y])}return m(c),m(g),p(h(c,1-u),h(g,u))}var s=t.times(i-1);if(s.isInteger()){s=s.toNumber();var l=n?r[s]:f(r,s);return m(l),l}var c,g,v=s.floor(),u=s.minus(v),b=v.toNumber();if(n)c=r[b],g=r[b+1];else{g=f(r,b+1),c=r[b];for(var y=0;b>y;++y)d(r[y],c)>0&&(c=r[y])}m(c),m(g);var w=u.constructor.ONE;return p(h(c,w.minus(u)),h(g,u))}var p=r(n(54)),h=r(n(41)),f=r(n(361)),d=r(n(194)),m=u({"number | BigNumber | Unit":function(e){return e}});return l}var i=n(8).isInteger,o=n(8).isNumber,a=n(24).flatten,s=n(196);t.name="quantileSeq",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,i){function o(e){if(0==e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return a(s.apply(null,arguments))}var a=r(n(159)),s=r(n(566)),u=i("std",{"Array | Matrix":o,"Array | Matrix, string":o,"...":function(){return o(Array.prototype.slice.call(arguments))
}});return u.toTex="\\mathrm{${name}}\\left(${args}\\right)",u}t.name="std",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){var u=s.find(r(n(569)),["Complex"]),l=s("acot",{number:function(e){return e?Math.atan(1/e):a},Complex:function(t){if(0==t.im)return new e.Complex(t.re?Math.atan(1/t.re):a,0);var n=t.re*t.re+t.im*t.im;return t=0!=n?new e.Complex(t.re=t.re/n,t.im=-t.im/n):new e.Complex(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),u(t)},BigNumber:function(t){return o(t,e.BigNumber,!0)},"Array | Matrix":function(e){return i(e,l)}});return l.toTex="\\cot^{-1}\\left(${args[0]}\\right)",l}var i=n(6),o=n(258),a=1.5707963267948966;t.name="acot",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function u(t){if(0==t.re&&0==t.im)return new e.Complex(0,a);var n=t.re*t.re+t.im*t.im;return t=0!=n?new e.Complex(t.re/n,-t.im/n):new e.Complex(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),l(t)}var l=s.find(r(n(570)),["Complex"]),c=s("acoth",{number:function(n){return n>=1||-1>=n||t.predictable?isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0:0!==n?u(new e.Complex(n,0)):new e.Complex(0,a)},Complex:u,BigNumber:function(t){return o(t,e.BigNumber,!0)},"Array | Matrix":function(e){return i(e,c)}});return c.toTex="\\coth^{-1}\\left(${args[0]}\\right)",c}var i=n(6),o=n(585),a=1.5707963267948966;t.name="acoth",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,s){function u(t){if(0==t.re&&0==t.im)return new e.Complex(a,1/0);var n=t.re*t.re+t.im*t.im;return t=0!=n?new e.Complex(t.re=t.re/n,t.im=-t.im/n):new e.Complex(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),l(t)}var l=s.find(r(n(357)),["Complex"]),c=s("acsc",{number:function(n){return-1>=n||n>=1||t.predictable?Math.asin(1/n):u(new e.Complex(n,0))},Complex:u,BigNumber:function(t){return o(t,e.BigNumber,!0)},"Array | Matrix":function(e){return i(e,c)}});return c.toTex="\\csc^{-1}\\left(${args[0]}\\right)",c}var i=n(6),o=n(366),a=1.5707963267948966;t.name="acsc",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=a.find(r(n(568)),["Complex"]),u=a("acsch",{number:function(e){return e=1/e,Math.log(e+Math.sqrt(e*e+1))},Complex:function(t){if(0==t.im)return t=0!=t.re?Math.log(t.re+Math.sqrt(t.re*t.re+1)):1/0,new e.Complex(t,0);var n=t.re*t.re+t.im*t.im;return t=0!=n?new e.Complex(t.re/n,-t.im/n):new e.Complex(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),s(t)},BigNumber:function(t){return o(t,e.BigNumber,!0,!0)},"Array | Matrix":function(e){return i(e,u)}});return u.toTex="\\mathrm{csch}^{-1}\\left(${args[0]}\\right)",u}var i=n(6),o=n(257);t.name="acsch",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(t){if(0==t.re&&0==t.im)return new e.Complex(0,1/0);var n=t.re*t.re+t.im*t.im;return t=0!=n?new e.Complex(t.re=t.re/n,t.im=-t.im/n):new e.Complex(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),u(t)}var u=a.find(r(n(356)),["Complex"]),l=a("asec",{number:function(n){return-1>=n||n>=1||t.predictable?Math.acos(1/n):s(new e.Complex(n,0))},Complex:s,BigNumber:function(t){return o(t,e.BigNumber,!0)},"Array | Matrix":function(e){return i(e,l)}});return l.toTex="\\sec^{-1}\\left(${args[0]}\\right)",l}var i=n(6),o=n(583);t.name="asec",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){function s(t){if(0==t.re&&0==t.im)return new e.Complex(1/0,0);var n=t.re*t.re+t.im*t.im;return t=0!=n?new e.Complex(t.re/n,-t.im/n):new e.Complex(0!=t.re?t.re/0:0,0!=t.im?-(t.im/0):0),u(t)}var u=a.find(r(n(567)),["Complex"]),l=a("asech",{number:function(n){if(1>=n&&n>=-1||t.predictable){n=1/n;var r=Math.sqrt(n*n-1);return n>0||t.predictable?Math.log(r+n):new e.Complex(Math.log(r-n),Math.PI)}return s(new e.Complex(n,0))},Complex:s,BigNumber:function(t){return o(t,e.BigNumber,!1,!0)},"Array | Matrix":function(e){return i(e,l)}});return l.toTex="\\mathrm{sech}^{-1}\\left(${args[0]}\\right)",l}var i=n(6),o=n(257);t.name="asech",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=r(n(5)),s=r(n(70)),u=r(n(47)),l=r(n(580)),c=r(n(48)),p=r(n(49)),h=r(n(21)),f=r(n(15)),d=o("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,n){return i(t,n,e.BigNumber)},"Matrix, Matrix":function(e,t){var n;switch(e.storage()){case"sparse":switch(t.storage()){case"sparse":n=l(e,t,d,!1);break;default:n=s(t,e,d,!0)}break;default:switch(t.storage()){case"sparse":n=u(e,t,d,!1);break;default:n=h(e,t,d)}}return n},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"Matrix, number | BigNumber":function(e,t){var n;switch(e.storage()){case"sparse":n=c(e,t,d,!1);break;default:n=f(e,t,d,!1)}return n},"number | BigNumber, Matrix":function(e,t){var n;switch(t.storage()){case"sparse":n=p(t,e,d,!0);break;default:n=f(t,e,d,!0)}return n},"Array, number | BigNumber":function(e,t){return f(a(e),t,d,!1).valueOf()},"number | BigNumber, Array":function(e,t){return f(a(t),e,d,!0).valueOf()}});return d.toTex="\\mathrm{atan2}\\left(${args}\\right)",d}var i=n(1134);t.name="atan2",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=a.find(r(n(358)),["number"]),u=a.find(r(n(359)),["number"]),l=a("cos",{number:Math.cos,Complex:function(t){return new e.Complex(Math.cos(t.re)*s(-t.im),Math.sin(t.re)*u(-t.im))},BigNumber:function(t){return o(t,e.BigNumber,0,!1)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return l(t.value)},"Array | Matrix":function(e){return i(e,l)}});return l.toTex="\\cos\\left(${args[0]}\\right)",l}var i=n(6),o=n(164);t.name="cos",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=r("cot",{number:function(e){return 1/Math.tan(e)},Complex:function(t){var n=Math.exp(-4*t.im)-2*Math.exp(-2*t.im)*Math.cos(2*t.re)+1;return new e.Complex(2*Math.exp(-2*t.im)*Math.sin(2*t.re)/n,(Math.exp(-4*t.im)-1)/n)},BigNumber:function(t){return o(t,e.BigNumber,!0)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return a(t.value)},"Array | Matrix":function(e){return i(e,a)}});return a.toTex="\\cot\\left(${args[0]}\\right)",a}var i=n(6),o=n(588);t.name="cot",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("coth",{number:i,Complex:function(t){var n=Math.exp(2*t.re),r=n*Math.cos(2*t.im),i=n*Math.sin(2*t.im),o=(r-1)*(r-1)+i*i;return new e.Complex(((r+1)*(r-1)+i*i)/o,-2*i/o)},BigNumber:function(t){return a(t,e.BigNumber,!0)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return s(t.value)},"Array | Matrix":function(e){return o(e,s)}});return s.toTex="\\coth\\left(${args[0]}\\right)",s}function i(e){var t=Math.exp(2*e);return(t+1)/(t-1)}var o=n(6),a=n(589);t.name="coth",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=r("csc",{number:function(e){return 1/Math.sin(e)},Complex:function(t){var n=.25*(Math.exp(-2*t.im)+Math.exp(2*t.im))-.5*Math.cos(2*t.re);return new e.Complex(.5*Math.sin(t.re)*(Math.exp(-t.im)+Math.exp(t.im))/n,.5*Math.cos(t.re)*(Math.exp(-t.im)-Math.exp(t.im))/n)},BigNumber:function(t){return o(t,e.BigNumber,1,!0)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return a(t.value)},"Array | Matrix":function(e){return i(e,a)}});return a.toTex="\\csc\\left(${args[0]}\\right)",a}var i=n(6),o=n(164);t.name="csc",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("csch",{number:i,Complex:function(t){var n=Math.exp(t.re),r=Math.exp(-t.re),i=Math.cos(t.im)*(n-r),o=Math.sin(t.im)*(n+r),a=i*i+o*o;return new e.Complex(2*i/a,-2*o/a)},BigNumber:function(t){return a(t,e.BigNumber,!0,!0)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return s(t.value)},"Array | Matrix":function(e){return o(e,s)}});return s.toTex="\\mathrm{csch}\\left(${args[0]}\\right)",s}function i(e){return 0==e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*s(e)}var o=n(6),a=n(259),s=n(8).sign;t.name="csch",t.factory=r},function(e,t,n){e.exports=[n(356),n(567),n(1078),n(1079),n(1080),n(1081),n(1082),n(1083),n(357),n(568),n(569),n(1084),n(570),n(1085),n(358),n(1086),n(1087),n(1088),n(1089),n(1091),n(1092),n(1093),n(359),n(1094),n(1095)]},function(e,t,n){"use strict";function r(e,t,n,r){var a=r("sec",{number:function(e){return 1/Math.cos(e)},Complex:function(t){var n=.25*(Math.exp(-2*t.im)+Math.exp(2*t.im))+.5*Math.cos(2*t.re);return new e.Complex(.5*Math.cos(t.re)*(Math.exp(-t.im)+Math.exp(t.im))/n,.5*Math.sin(t.re)*(Math.exp(t.im)-Math.exp(-t.im))/n)},BigNumber:function(t){return o(t,e.BigNumber,0,!0)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return a(t.value)},"Array | Matrix":function(e){return i(e,a)}});return a.toTex="\\sec\\left(${args[0]}\\right)",a}var i=n(6),o=n(164);t.name="sec",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("sech",{number:i,Complex:function(t){var n=Math.exp(t.re),r=Math.exp(-t.re),i=Math.cos(t.im)*(n+r),o=Math.sin(t.im)*(n-r),a=i*i+o*o;return new e.Complex(2*i/a,-2*o/a)},BigNumber:function(t){return a(t,e.BigNumber,!1,!0)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return s(t.value)},"Array | Matrix":function(e){return o(e,s)}});return s.toTex="\\mathrm{sech}\\left(${args[0]}\\right)",s}function i(e){return 2/(Math.exp(e)+Math.exp(-e))}var o=n(6),a=n(259);t.name="sech",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,a){var s=a.find(r(n(358)),["number"]),u=a.find(r(n(359)),["number"]),l=a("sin",{number:Math.sin,Complex:function(t){return new e.Complex(Math.sin(t.re)*s(-t.im),Math.cos(t.re)*u(t.im))},BigNumber:function(t){return o(t,e.BigNumber,1,!1)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return l(t.value)},"Array | Matrix":function(e){return i(e,l,!0)}});return l.toTex="\\sin\\left(${args[0]}\\right)",l}var i=n(6),o=n(164);t.name="sin",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=r("tan",{number:Math.tan,Complex:function(t){var n=Math.exp(-4*t.im)+2*Math.exp(-2*t.im)*Math.cos(2*t.re)+1;return new e.Complex(2*Math.exp(-2*t.im)*Math.sin(2*t.re)/n,(1-Math.exp(-4*t.im))/n)},BigNumber:function(t){return o(t,e.BigNumber,!1)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return a(t.value)},"Array | Matrix":function(e){return i(e,a,!0)}});return a.toTex="\\tan\\left(${args[0]}\\right)",a}var i=n(6),o=n(588);t.name="tan",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=r("tanh",{number:i,Complex:function(t){var n=Math.exp(2*t.re),r=n*Math.cos(2*t.im),i=n*Math.sin(2*t.im),o=(r+1)*(r+1)+i*i;return new e.Complex(((r-1)*(r+1)+i*i)/o,2*i/o)},BigNumber:function(t){return a(t,e.BigNumber,!1)},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return s(t.value)},"Array | Matrix":function(e){return o(e,s,!0)}});return s.toTex="\\tanh\\left(${args[0]}\\right)",s}function i(e){var t=Math.exp(2*e);return(t-1)/(t+1)}var o=n(6),a=n(589);t.name="tanh",t.factory=r},function(e,t,n){e.exports=[n(1097)]},function(e,t,n){"use strict";function r(e,t,r,i){var o=n(12),a=r(n(5)),s=r(n(21)),u=r(n(15)),l=i("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return s(e,t,l)},"Array, Array":function(e,t){return l(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return l(a(e),t)},"Matrix, Array":function(e,t){return l(e,a(t))},"Matrix, any":function(e,t){return u(e,t,l,!1)},"any, Matrix":function(e,t){return u(t,e,l,!0)},"Array, any":function(e,t){return u(a(e),t,l,!1).valueOf()},"any, Array":function(e,t){return u(a(t),e,l,!0).valueOf()}});return l.toTex="\\left(${args[0]}"+o.operators.to+"${args[1]}\\right)",l}t.name="to",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("clone",{any:i.clone});return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}var i=n(16);t.name="clone",t.factory=r},function(e,t,n){e.exports=[n(1098),n(571),n(573),n(163),n(195),n(360),n(254),n(574),n(575),n(361),n(1100),n(1101),n(576),n(572)]},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("print",{"string, Object":i,"string, Object, number":i});return o.toTex="\\mathrm{${name}}\\left(${args}\\right)",o}function i(e,t,n){return e.replace(/\$([\w\.]+)/g,function(e,r){for(var i=r.split("."),s=t[i.shift()];i.length&&void 0!==s;){var u=i.shift();s=u?s[u]:s+"."}return void 0!==s?o(s)?s:a(s,n):e})}var o=n(64).isString,a=n(64).format;t.name="print",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){function a(e){if("asc"===e)return c;if("desc"===e)return p;throw new Error('String "asc" or "desc" expected')}function s(e){if(1!==i(e).length)throw new Error("One dimensional array expected")}function u(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}var l=r(n(5)),c=r(n(194)),p=function(e,t){return-c(e,t)},h=o("sort",{Array:function(e){return s(e),e.sort(c)},Matrix:function(e){return u(e),l(e.toArray().sort(c),e.storage())},"Array, function":function(e,t){return s(e),e.sort(t)},"Matrix, function":function(e,t){return u(e),l(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return s(e),e.sort(a(t))},"Matrix, string":function(e,t){return u(e),l(e.toArray().sort(a(t)),e.storage())}});return h.toTex="\\mathrm{${name}}\\left(${args}\\right)",h}var i=n(24).size;t.name="sort",t.factory=r},function(e,t,n){e.exports=[n(1118),n(799),n(978),n(1047),n(1103),n(804)]},function(e,t,n){e.exports=[n(1104)]},function(e,t){"use strict";function n(e){return function(t,n){var r=e[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}}t.name="reviver",t.path="json",t.factory=n},function(e,t,n){function r(e,t,n,r,o){var a=i.constructor(t);return a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(e){return new a(e.value)},o.on("config",function(e,t){e.precision!==t.precision&&a.config({precision:e.precision})}),a}var i=n(767);n(8).digits,t.name="BigNumber",t.path="type",t.factory=r,t.math=!0},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("bignumber",{"":function(){return new e.BigNumber(0)},number:function(t){return new e.BigNumber(t+"")},string:function(t){return new e.BigNumber(t)},BigNumber:function(e){return e},"Array | Matrix":function(e){return i(e,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)"},o}var i=n(6);t.name="bignumber",t.factory=r},function(e,t,n){e.exports=[n(1105),n(1106)]},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("bool",{"":function(){return!1},"boolean":function(e){return e},number:function(e){return!!e},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!=e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return i(e,o)}});return o}var i=n(6);t.name="boolean",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r,a){function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this.value=e&&e.isChain?e.value:e}function u(e,t){"function"==typeof t&&(s.prototype[e]=c(t))}function l(e,t){o(s.prototype,e,function(){var e=t();return"function"==typeof e?c(e):void 0})}function c(e){return function(){for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];return new s(e.apply(e,t))}}return s.prototype.type="Chain",s.prototype.isChain=!0,s.prototype.done=function(){return this.value},s.prototype.valueOf=function(){return this.value},s.prototype.toString=function(){return i(this.value)},s.createProxy=function(e,t){if("string"==typeof e)u(e,t);else for(var n in e)e.hasOwnProperty(n)&&u(n,e[n])},s.createProxy(a),a.on("import",function(e,t,n){void 0===n&&l(e,t)}),s}var i=n(64).format,o=n(16).lazy;t.name="Chain",t.path="type",t.factory=r,t.math=!0,t.lazy=!1},function(e,t){"use strict";function n(e,t,n,r){return r("chain",{"":function(){return new e.Chain},any:function(t){return new e.Chain(t)}})}t.name="chain",t.factory=n},function(e,t,n){e.exports=[n(1109),n(1110)]},function(e,t,n){"use strict";function r(e,t,r){function a(e,t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");switch(arguments.length){case 0:this.re=0,this.im=0;break;case 1:var n=arguments[0];if("object"==typeof n){if("re"in n&&"im"in n){var r=new a(n.re,n.im);this.re=r.re,this.im=r.im;break}if("r"in n&&"phi"in n){var r=a.fromPolar(n.r,n.phi);this.re=r.re,this.im=r.im;break}}throw new SyntaxError("Object with the re and im or r and phi properties expected.");case 2:if(!i(e)||!i(t))throw new TypeError("Two numbers expected in Complex constructor");this.re=e,this.im=t;break;default:throw new SyntaxError("One, two or three arguments expected in Complex constructor")}}function s(){for(;" "==y||"	"==y;)c()}function u(e){return e>="0"&&"9">=e||"."==e}function l(e){return e>="0"&&"9">=e}function c(){v++,y=g.charAt(v)}function p(e){v=e,y=g.charAt(v)}function h(){var e,t="";if(e=v,"+"==y?c():"-"==y&&(t+=y,c()),!u(y))return p(e),null;if("."==y){if(t+=y,c(),!l(y))return p(e),null}else{for(;l(y);)t+=y,c();"."==y&&(t+=y,c())}for(;l(y);)t+=y,c();if("E"==y||"e"==y){if(t+=y,c(),"+"!=y&&"-"!=y||(t+=y,c()),!l(y))return p(e),null;for(;l(y);)t+=y,c()}return t}function f(){var e=g.charAt(v+1);if("I"==y||"i"==y)return c(),"1";if(!("+"!=y&&"-"!=y||"I"!=e&&"i"!=e)){var t="+"==y?"1":"-1";return c(),c(),t}return null}function d(){return new SyntaxError('End of string expected, got "'+g.substr(v)+'"')}var m=r(n(365));a.prototype.isComplex=!0,a.prototype.type="Complex";var g,v,y;return a.parse=function(e){if(g=e,v=-1,y="","string"!=typeof g)throw new TypeError("Invalid argument in Complex.parse, string expected");c(),s();var t=h();if(t){if("I"==y||"i"==y){if(c(),s(),y)throw d();return new a(0,Number(t))}s();var n=y;if("+"!=n&&"-"!=n){if(s(),y)throw d();return new a(Number(t),0)}c(),s();var r=h();if(r){if("I"!=y&&"i"!=y)throw new SyntaxError('Character "i" expected, got "'+y+'"');c()}else if(r=f(),!r)throw new SyntaxError("Imaginary part expected");if("-"==n&&(r="-"==r[0]?"+"+r.substring(1):"-"+r),c(),s(),y)throw d();return new a(Number(t),Number(r))}if(t=f()){if(s(),y)throw d();return new a(0,Number(t))}throw new SyntaxError('Could not parse: "'+e+'" as complex number')},a.fromPolar=function(){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return a.fromPolar(e.r,e.phi);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],n=arguments[1];if(i(t)){if(n&&n.isUnit&&n.hasBase(m.BASE_UNITS.ANGLE)&&(n=n.toNumber("rad")),i(n))return new a(t*Math.cos(n),t*Math.sin(n));throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},a.prototype.toPolar=function(){return{r:Math.sqrt(this.re*this.re+this.im*this.im),phi:Math.atan2(this.im,this.re)}},a.prototype.clone=function(){return new a(this.re,this.im)},a.prototype.equals=function(e){return this.re===e.re&&this.im===e.im},a.prototype.format=function(e){var t="",n=this.im,r=this.re,a=o(this.re,e),s=o(this.im,e),u=i(e)?e:e?e.precision:null;if(null!==u){var l=Math.pow(10,-u);Math.abs(r/n)<l&&(r=0),Math.abs(n/r)<l&&(n=0)}return t=0==n?a:0==r?1==n?"i":-1==n?"-i":s+"i":n>0?1==n?a+" + i":a+" + "+s+"i":-1==n?a+" - i":a+" - "+s.substring(1)+"i"},a.prototype.toString=function(){return this.format()},a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},a.fromJSON=function(e){return new a(e)},a.prototype.valueOf=a.prototype.toString,a}var i=n(8).isNumber,o=n(8).format;t.name="Complex",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,o){var a=n(12),s=o("complex",{"":function(){return new e.Complex(0,0)},number:function(t){return new e.Complex(t,0)},"number, number":function(t,n){return new e.Complex(t,n)},"BigNumber, BigNumber":function(t,n){return new e.Complex(t.toNumber(),n.toNumber())},Complex:function(e){return e.clone()},string:function(t){return e.Complex.parse(t)},Object:function(t){if("re"in t&&"im"in t)return new e.Complex(t.re,t.im);if("r"in t&&"phi"in t)return e.Complex.fromPolar(t.r,t.phi);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(e){return i(e,s)}});return s.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+a.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},s}var i=n(6);t.name="complex",t.factory=r},function(e,t,n){e.exports=[n(1112),n(1113)]},function(e,t,n){function r(){return i}var i=n(769);i.prototype.type="Fraction",i.prototype.isFraction=!0,i.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},i.fromJSON=function(e){return new i(e)},t.name="Fraction",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new e.Fraction(t)},string:function(t){return new e.Fraction(t)},"number, number":function(t,n){return new e.Fraction(t,n)},Fraction:function(e){return e},Object:function(t){return new e.Fraction(t)},"Array | Matrix":function(e){return i(e,o)}});return o}var i=n(6);t.name="fraction",t.factory=r},function(e,t,n){e.exports=[n(1115),n(1116)]},function(e,t,n){e.exports=[n(1107),n(1108),n(1111),n(1114),n(1117),n(1125),n(581),n(1126),n(1127),n(1129)]},function(e,t,n){"use strict";function r(e,t,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var o=r(n(162)),a=r(n(106)),s=1/Math.log((1+Math.sqrt(5))/2);i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,t){var n={key:e,value:t,degree:0};if(this._minimum){var r=this._minimum;n.left=r,n.right=r.right,r.right=n,n.right.left=n,o(e,r.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return!!this._minimum},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var t=this._minimum,n=e.degree,r=e.child;n>0;){var i=r.right;r.left.right=r.right,r.right.left=r.left,r.left=t,r.right=t.right,t.right=r,r.right.left=r,r.parent=null,r=i,n--}return e.left.right=e.right,e.right.left=e.left,e==e.right?t=null:(t=e.right,t=h(t,this._size)),this._size--,this._minimum=t,e},i.prototype.remove=function(e){this._minimum=u(this._minimum,e,-1),this.extractMinimum()};var u=function(e,t,n){t.key=n;var r=t.parent;return r&&o(t.key,r.key)&&(l(e,t,r),c(e,r)),o(t.key,e.key)&&(e=t),e},l=function(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child==t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1},c=function(e,t){var n=t.parent;n&&(t.mark?(l(e,t,n),c(n)):t.mark=!0)},p=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1},h=function(e,t){var n=Math.floor(Math.log(t)*s)+1,r=new Array(n),i=0,u=e;if(u)for(i++,u=u.right;u!==e;)i++,u=u.right;for(var l;i>0;){for(var c=u.degree,h=u.right;l=r[c],l;){if(a(u.key,l.key)){var f=l;l=u,u=f}p(l,u),r[c]=null,c++}r[c]=u,u=h,i--}e=null;for(var d=0;n>d;d++)l=r[d],l&&(e?(l.left.right=l.right,l.right.left=l.left,l.left=e,l.right=e.right,e.right=l,l.right.left=l,o(l.key,e.key)&&(e=l)):e=l);return e};return i}t.name="FibonacciHeap",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!u(t))throw new Error("Invalid datatype: "+t);if(e&&e.isMatrix===!0||s(e)){var n=new l(e,t);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(e&&s(e.data)&&s(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min="undefined"!=typeof e.min?e.min:null,this._max="undefined"!=typeof e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+i.types.type(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}var l=r(n(577)),c=r(n(162));return o.prototype=new l,o.prototype.type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(e){switch(arguments.length){case 1:var t=l.prototype.subset.call(this,e);return t.isMatrix?new o({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.clone=function(){var e=new o({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype});return e},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(e){return new o(e)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(t){(null===e||c(t,e))&&(e=t)}),this._min=null!==e?e:void 0}return this._min},o.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(t){(null===e||c(e,t))&&(e=t)}),this._max=null!==e?e:void 0}return this._max},o}var i=n(85),o=i.string,a=i.object,s=Array.isArray,u=o.isString;t.name="ImmutableDenseMatrix",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var e=0,r=arguments.length;r>e;e++){var i=arguments[e];if(i&&i.isRange===!0)this._dimensions.push(i),this._isScalar=!1;else if(i&&(Array.isArray(i)||i.isMatrix===!0)){var o=n(i.valueOf());this._dimensions.push(o);var a=o.size();this._isScalar=1===a.length&&1===a[0]}else{if("number"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, Number or Range");this._dimensions.push(n([i]))}}}function n(t){for(var n=0,r=t.length;r>n;n++)if("number"!=typeof t[n]||!o(t[n]))throw new TypeError("Index parameters must be positive integer numbers");return new e.ImmutableDenseMatrix(t)}return t.prototype.type="Index",t.prototype.isIndex=!0,t.prototype.clone=function(){var e=new t;return e._dimensions=i(this._dimensions),e._isScalar=this._isScalar,e},t.create=function(e){var n=new t;return t.apply(n,e),n},t.prototype.size=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++){var r=this._dimensions[t];e[t]=r.size()[0]}return e},t.prototype.max=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++){var r=this._dimensions[t];e[t]=r.max()}return e},t.prototype.min=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++){var r=this._dimensions[t];e[t]=r.min()}return e},t.prototype.forEach=function(e){for(var t=0,n=this._dimensions.length;n>t;t++)e(this._dimensions[t],t,this)},t.prototype.dimension=function(e){return this._dimensions[e]||null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.toArray=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++)e.push(this._dimensions[t].toArray());return e},t.prototype.valueOf=t.prototype.toArray,t.prototype.toString=function(){for(var e=[],t=0,n=this._dimensions.length;n>t;t++)e.push(this._dimensions[t].toString());return"["+e.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(e){return t.create(e.dimensions)},t}var i=n(16).clone,o=n(8).isInteger;t.name="Index",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}var o=r(n(54)),a=r(n(31));return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,t){var n=this._values[e];n?n.value=o(n.value,t):(n=this._heap.insert(e,t),this._values[e]=n)},i.prototype.forEach=function(e,t,n){var r=this._heap,i=this._values,o=[],s=r.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=e&&(a(s.value,0)||n(s.key,s.value,this)),s=r.extractMinimum(),s&&o.push(s);for(var u=0;u<o.length;u++){var l=o[u];s=r.insert(l.key,l.value),i[s.key]=s}},i.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}t.name="Spa",t.path="type",t.factory=r},function(e,t,n){"use strict";function r(e,t,r,m){function g(e,t){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!f(t))throw new Error("Invalid datatype: "+t);if(e&&e.isMatrix===!0)b(this,e,t);else if(e&&c(e.index)&&c(e.ptr)&&c(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(c(e))w(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+i.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}var v=r(n(362)),y=r(n(31)),b=function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?s.clone(t._values):void 0,e._index=s.clone(t._index),e._ptr=s.clone(t._ptr),e._size=s.clone(t._size),e._datatype=n||t._datatype):w(e,t.valueOf(),n||t._datatype)},w=function(e,t,n){e._values=[],e._index=[],e._ptr=[],e._datatype=n;var r=t.length,i=0,o=y,a=0;if(f(n)&&(o=m.find(y,[n,n])||y,a=m.convert(0,n)),r>0){var s=0;do{e._ptr.push(e._index.length);for(var u=0;r>u;u++){var l=t[u];if(c(l)){if(0===s&&i<l.length&&(i=l.length),s<l.length){var p=l[s];o(p,a)||(e._values.push(p),e._index.push(u))}}else 0===s&&1>i&&(i=1),o(l,a)||(e._values.push(l),e._index.push(u))}s++}while(i>s)}e._ptr.push(e._index.length),e._size=[r,i]};g.prototype=new v,g.prototype.type="SparseMatrix",g.prototype.isSparseMatrix=!0,g.prototype.storage=function(){return"sparse"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(e,t){return new g(e,t)},g.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},g.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return _(this,e);case 2:case 3:return x(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}};var _=function(e,t){if(!t||t.isIndex!==!0)throw new TypeError("Invalid index");var n=t.isScalar();if(n)return e.get(t.min());var r=t.size();if(r.length!=e._size.length)throw new o(r.length,e._size.length);var i,a,s,u,l=t.min(),c=t.max();for(i=0,a=e._size.length;a>i;i++)d(l[i],e._size[i]),d(c[i],e._size[i]);var p=e._values,h=e._index,f=e._ptr,m=t.dimension(0),v=t.dimension(1),y=[],b=[];m.forEach(function(e,t){b[e]=t[0],y[e]=!0});var w=p?[]:void 0,_=[],x=[];return v.forEach(function(e){for(x.push(_.length),s=f[e],u=f[e+1];u>s;s++)i=h[s],y[i]===!0&&(_.push(b[i]),w&&w.push(p[s]))}),x.push(_.length),new g({values:w,index:_,ptr:x,size:r,datatype:e._datatype})},x=function(e,t,n,r){if(!t||t.isIndex!==!0)throw new TypeError("Invalid index");var i,u=t.size(),l=t.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.toArray()):i=a.size(n),l){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==u.length&&2!==u.length)throw new o(u.length,e._size.length,"<");if(i.length<u.length){for(var c=0,p=0;1===u[c]&&1===i[c];)c++;for(;1===u[c];)p++,c++;n=a.unsqueeze(n,u.length,p,i)
}if(!s.deepEqual(u,i))throw new o(u,i,">");for(var h=t.min()[0],f=t.min()[1],d=i[0],m=i[1],g=0;d>g;g++)for(var v=0;m>v;v++){var y=n[g][v];e.set([g+h,v+f],y,r)}}return e};g.prototype.get=function(e){if(!c(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new o(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];d(t,this._size[0]),d(n,this._size[1]);var r=E(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?s.clone(this._values[r]):0},g.prototype.set=function(e,t,n){if(!c(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new o(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=e[0],i=e[1],a=this._size[0],s=this._size[1],u=y,l=0;f(this._datatype)&&(u=m.find(y,[this._datatype,this._datatype])||y,l=m.convert(0,this._datatype)),(r>a-1||i>s-1)&&(A(this,Math.max(r+1,a),Math.max(i+1,s),n),a=this._size[0],s=this._size[1]),d(r,a),d(i,s);var p=E(r,this._ptr[i],this._ptr[i+1],this._index);return p<this._ptr[i+1]&&this._index[p]===r?u(t,l)?k(p,i,this._values,this._index,this._ptr):this._values[p]=t:C(p,r,i,t,this._values,this._index,this._ptr),this};var E=function(e,t,n,r){if(n-t===0)return n;for(var i=t;n>i;i++)if(r[i]===e)return i;return t},k=function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--},C=function(e,t,n,r,i,o,a){i.splice(e,0,r),o.splice(e,0,t);for(var s=n+1;s<a.length;s++)a[s]++};g.prototype.resize=function(e,t,n){if(!c(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");e.forEach(function(t){if(!l.isNumber(t)||!l.isInteger(t)||0>t)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(e)+")")});var r=n?this.clone():this;return A(r,e[0],e[1],t)};var A=function(e,t,n,r){var i=r||0,o=y,a=0;f(e._datatype)&&(o=m.find(y,[e._datatype,e._datatype])||y,a=m.convert(0,e._datatype),i=m.convert(i,e._datatype));var s,u,l,c=!o(i,a),p=e._size[0],h=e._size[1];if(n>h){for(u=h;n>u;u++)if(e._ptr[u]=e._values.length,c)for(s=0;p>s;s++)e._values.push(i),e._index.push(s);e._ptr[n]=e._values.length}else h>n&&(e._ptr.splice(n+1,h-n),e._values.splice(e._ptr[n],e._values.length),e._index.splice(e._ptr[n],e._index.length));if(h=n,t>p){if(c){var d=0;for(u=0;h>u;u++){e._ptr[u]=e._ptr[u]+d,l=e._ptr[u+1]+d;var g=0;for(s=p;t>s;s++,g++)e._values.splice(l+g,0,i),e._index.splice(l+g,0,s),d++}e._ptr[h]=e._values.length}}else if(p>t){var v=0;for(u=0;h>u;u++){e._ptr[u]=e._ptr[u]-v;var b=e._ptr[u],w=e._ptr[u+1]-v;for(l=b;w>l;l++)s=e._index[l],s>t-1&&(e._values.splice(l,1),e._index.splice(l,1),v++)}e._ptr[u]=e._values.length}return e._size[0]=t,e._size[1]=n,e};g.prototype.clone=function(){var e=new g({values:this._values?s.clone(this._values):void 0,index:s.clone(this._index),ptr:s.clone(this._ptr),size:s.clone(this._size),datatype:this._datatype});return e},g.prototype.size=function(){return s.clone(this._size)},g.prototype.map=function(e,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var n=this,r=this._size[0],i=this._size[1],o=function(t,r,i){return e(t,[r,i],n)};return S(this,0,r-1,0,i-1,o,t)};var S=function(e,t,n,r,i,o,a){var s=[],u=[],l=[],c=y,p=0;f(e._datatype)&&(c=m.find(y,[e._datatype,e._datatype])||y,p=m.convert(0,e._datatype));for(var h=function(e,t,n){e=o(e,t,n),c(e,p)||(s.push(e),u.push(t))},d=r;i>=d;d++){l.push(s.length);for(var v=e._ptr[d],b=e._ptr[d+1],w=t,_=v;b>_;_++){var x=e._index[_];if(x>=t&&n>=x){if(!a)for(var E=w;x>E;E++)h(0,E-t,d-r);h(e._values[_],x-t,d-r)}w=x+1}if(!a)for(var k=w;n>=k;k++)h(0,k-t,d-r)}return l.push(s.length),new g({values:s,index:u,ptr:l,size:[n-t+1,i-r+1]})};g.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this,r=this._size[0],i=this._size[1],o=0;i>o;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,l=a;s>l;l++){var c=this._index[l];if(!t)for(var p=u;c>p;p++)e(0,[p,o],n);e(this._values[l],[c,o],n),u=c+1}if(!t)for(var h=u;r>h;h++)e(0,[h,o],n)}},g.prototype.toArray=function(){return M(this._values,this._index,this._ptr,this._size,!0)},g.prototype.valueOf=function(){return M(this._values,this._index,this._ptr,this._size,!1)};var M=function(e,t,n,r,i){var o,a,u=r[0],l=r[1],c=[];for(o=0;u>o;o++)for(c[o]=[],a=0;l>a;a++)c[o][a]=0;for(a=0;l>a;a++)for(var p=n[a],h=n[a+1],f=p;h>f;f++)o=t[f],c[o][a]=e?i?s.clone(e[f]):e[f]:1;return c};return g.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+u.format(t,e)+" x "+u.format(n,e)+"] density: "+u.format(r,e)+"\n",o=0;n>o;o++)for(var a=this._ptr[o],s=this._ptr[o+1],l=a;s>l;l++){var c=this._index[l];i+="\n    ("+u.format(c,e)+", "+u.format(o,e)+") ==> "+(this._values?u.format(this._values[l],e):"X")}return i},g.prototype.toString=function(){return u.format(this.toArray())},g.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(e){if(e){if(e.isBigNumber===!0&&(e=e.toNumber()),!p(e)||!h(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=0>e?-e:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-t),a=[],u=[],l=[];l[0]=0;for(var c=t;i>c&&a.length<o;c++)for(var f=this._ptr[c],d=this._ptr[c+1],m=f;d>m;m++){var v=this._index[m];if(v===c-t+n){a.push(s.clone(this._values[m])),u[a.length-1]=v-n;break}}return l.push(a.length),new g({values:a,index:u,ptr:l,size:[o,1]})},g.fromJSON=function(e){return new g(e)},g.diagonal=function(e,t,n,r,i){if(!c(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(e&&e.isBigNumber===!0&&(e=e.toNumber()),!p(e)||!h(e)||1>e)throw new Error("Size values must be positive integers");return e}),n){if(n.isBigNumber===!0&&(n=n.toNumber()),!p(n)||!h(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=y,a=0;f(i)&&(o=m.find(y,[i,i])||y,a=m.convert(0,i));var s,u=n>0?n:0,l=0>n?-n:0,d=e[0],v=e[1],b=Math.min(d-l,v-u);if(c(t)){if(t.length!==b)throw new Error("Invalid value array length");s=function(e){return t[e]}}else if(t&&t.isMatrix===!0){var w=t.size();if(1!==w.length||w[0]!==b)throw new Error("Invalid matrix length");s=function(e){return t.get([e])}}else s=function(){return t};for(var _=[],x=[],E=[],k=0;v>k;k++){E.push(_.length);var C=k-u;if(C>=0&&b>C){var A=s(C);o(A,a)||(x.push(C+l),_.push(A))}}return E.push(_.length),new g({values:_,index:x,ptr:E,size:[d,v]})},g.prototype.swapRows=function(e,t){if(!(p(e)&&h(e)&&p(t)&&h(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(e,this._size[0]),d(t,this._size[0]),g._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},g._forEachRow=function(e,t,n,r,i){for(var o=r[e],a=r[e+1],s=o;a>s;s++)i(n[s],t[s])},g._swapRows=function(e,t,n,r,i,o){for(var a=0;n>a;a++){var s=o[a],u=o[a+1],l=E(e,s,u,i),c=E(t,s,u,i);if(u>l&&u>c&&i[l]===e&&i[c]===t){if(r){var p=r[l];r[l]=r[c],r[c]=p}}else if(u>l&&i[l]===e&&(c>=u||i[c]!==t)){var h=r?r[l]:void 0;i.splice(c,0,t),r&&r.splice(c,0,h),i.splice(l>=c?l+1:l,1),r&&r.splice(l>=c?l+1:l,1)}else if(u>c&&i[c]===t&&(l>=u||i[l]!==e)){var f=r?r[c]:void 0;i.splice(l,0,e),r&&r.splice(l,0,f),i.splice(c>=l?c+1:c,1),r&&r.splice(c>=l?c+1:c,1)}}},e.Matrix._storage.sparse=g,g}var i=n(85),o=n(37),a=i.array,s=i.object,u=i.string,l=i.number,c=Array.isArray,p=l.isNumber,h=l.isInteger,f=u.isString,d=a.validateIndex;t.name="SparseMatrix",t.path="type",t.factory=r,t.lazy=!1},function(e,t){"use strict";function n(e,t,n,r){var i=e.SparseMatrix,o=r("sparse",{"":function(){return new i([])},string:function(e){return new i([],e)},"Array | Matrix":function(e){return new i(e)},"Array | Matrix, string":function(e,t){return new i(e,t)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}t.name="sparse",t.factory=n},function(e,t,n){e.exports=[n(362),n(577),n(1123),n(1122),n(1119),n(1120),n(1121),n(578),n(579),n(5),n(1124)]},function(e,t,n){e.exports=[n(582)]},function(e,t,n){"use strict";function r(e,t,n,r){var a=r("string",{"":function(){return""},number:o.format,"null":function(){return"null"},"boolean":function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return i(e,a)},any:function(e){return String(e)}});return a.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},a}var i=n(6),o=n(8);t.name="string",t.factory=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=r("unit",{Unit:function(e){return e.clone()},string:function(t){return e.Unit.isValuelessUnit(t)?new e.Unit(null,t):e.Unit.parse(t)},"number | BigNumber | Fraction, string":function(t,n){return new e.Unit(t,n)},"Array | Matrix":function(e){return i(e,o)}});return o.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=n(6);t.name="unit",t.factory=r},function(e,t,n){e.exports=[n(365),n(1128),n(1130)]},function(e,t,n){function r(e,t,n,r,o){function a(t){var n=e.Unit.parse(t);return n.fixPrefix=!0,n}i(o,"speedOfLight",function(){return a("299792458 m s^-1")}),i(o,"gravitationConstant",function(){return a("6.6738480e-11 m^3 kg^-1 s^-2")}),i(o,"planckConstant",function(){return a("6.626069311e-34 J s")}),i(o,"reducedPlanckConstant",function(){return a("1.05457172647e-34 J s")}),i(o,"magneticConstant",function(){return a("1.2566370614e-6 N A^-2")}),i(o,"electricConstant",function(){return a("8.854187817e-12 F m^-1")}),i(o,"vacuumImpedance",function(){return a("376.730313461 ohm")}),i(o,"coulomb",function(){return a("8.9875517873681764e9 N m^2 C^-2")}),i(o,"elementaryCharge",function(){return a("1.60217656535e-19 C")}),i(o,"bohrMagneton",function(){return a("9.2740096820e-24 J T^-1")}),i(o,"conductanceQuantum",function(){return a("7.748091734625e-5 S")}),i(o,"inverseConductanceQuantum",function(){return a("12906.403721742 ohm")}),i(o,"magneticFluxQuantum",function(){return a("2.06783375846e-15 Wb")}),i(o,"nuclearMagneton",function(){return a("5.0507835311e-27 J T^-1")}),i(o,"klitzing",function(){return a("25812.807443484 ohm")}),i(o,"bohrRadius",function(){return a("5.291772109217e-11 m")}),i(o,"classicalElectronRadius",function(){return a("2.817940326727e-15 m")}),i(o,"electronMass",function(){return a("9.1093829140e-31 kg")}),i(o,"fermiCoupling",function(){return a("1.1663645e-5 GeV^-2")}),i(o,"fineStructure",function(){return.007297352569824}),i(o,"hartreeEnergy",function(){return a("4.3597443419e-18 J")}),i(o,"protonMass",function(){return a("1.67262177774e-27 kg")}),i(o,"deuteronMass",function(){return a("3.3435830926e-27 kg")}),i(o,"neutronMass",function(){return a("1.6749271613e-27 kg")}),i(o,"quantumOfCirculation",function(){return a("3.636947552024e-4 m^2 s^-1")}),i(o,"rydberg",function(){return a("10973731.56853955 m^-1")}),i(o,"thomsonCrossSection",function(){return a("6.65245873413e-29 m^2")}),i(o,"weakMixingAngle",function(){return.222321}),i(o,"efimovFactor",function(){return 22.7}),i(o,"atomicMass",function(){return a("1.66053892173e-27 kg")}),i(o,"avogadro",function(){return a("6.0221412927e23 mol^-1")}),i(o,"boltzmann",function(){return a("1.380648813e-23 J K^-1")}),i(o,"faraday",function(){return a("96485.336521 C mol^-1")}),i(o,"firstRadiation",function(){return a("3.7417715317e-16 W m^2")}),i(o,"loschmidt",function(){return a("2.686780524e25 m^-3")}),i(o,"gasConstant",function(){return a("8.314462175 J K^-1 mol^-1")}),i(o,"molarPlanckConstant",function(){return a("3.990312717628e-10 J s mol^-1")}),i(o,"molarVolume",function(){return a("2.241396820e-10 m^3 mol^-1")}),i(o,"sackurTetrode",function(){return-1.164870823}),i(o,"secondRadiation",function(){return a("1.438777013e-2 m K")}),i(o,"stefanBoltzmann",function(){return a("5.67037321e-8 W m^-2 K^-4")}),i(o,"wienDisplacement",function(){return a("2.897772126e-3 m K")}),i(o,"molarMass",function(){return a("1e-3 kg mol^-1")}),i(o,"molarMassC12",function(){return a("1.2e-2 kg mol^-1")}),i(o,"gravity",function(){return a("9.80665 m s^-2")}),i(o,"planckLength",function(){return a("1.61619997e-35 m")}),i(o,"planckMass",function(){return a("2.1765113e-8 kg")}),i(o,"planckTime",function(){return a("5.3910632e-44 s")}),i(o,"planckCharge",function(){return a("1.87554595641e-18 C")}),i(o,"planckTemperature",function(){return a("1.41683385e+32 K")})}var i=n(16).lazy;t.factory=r,t.lazy=!1,t.math=!0},function(e){"use strict";function t(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number");var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1,this.sign=n,this.coefficients=r.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)}),0===this.coefficients.length&&(this.coefficients.push(0),i++),this.exponent=i}function n(e){for(var t=[],n=0;e>n;n++)t.push(0);return t}t.prototype.toFixed=function(e){var t=this.roundDigits(this.exponent+1+(e||0)),r=t.coefficients,i=t.exponent+1,o=i+(e||0);return r.length<o&&(r=r.concat(n(o-r.length))),0>i&&(r=n(-i+1).concat(r),i=1),e&&r.splice(i,0,0===i?"0.":"."),this.sign+r.join("")},t.prototype.toExponential=function(e){var t=e?this.roundDigits(e):this.clone(),r=t.coefficients,i=t.exponent;r.length<e&&(r=r.concat(n(e-r.length)));var o=r.shift();return this.sign+o+(r.length>0?"."+r.join(""):"")+"e"+(i>=0?"+":"")+i},t.prototype.toPrecision=function(e,t){var r=t&&void 0!==t.lower?t.lower:.001,i=t&&void 0!==t.upper?t.upper:1e5,o=Math.abs(Math.pow(10,this.exponent));if(r>o||o>=i)return this.toExponential(e);var a=e?this.roundDigits(e):this.clone(),s=a.coefficients,u=a.exponent;s.length<e&&(s=s.concat(n(e-s.length))),s=s.concat(n(u-s.length+1+(s.length<e?e-s.length:0))),s=n(-u).concat(s);var l=u>0?u:0;return l<s.length-1&&s.splice(l+1,0,"."),this.sign+s.join("")},t.prototype.clone=function(){var e=new t("0");return e.sign=this.sign,e.coefficients=this.coefficients.slice(0),e.exponent=this.exponent,e},t.prototype.roundDigits=function(e){for(var t=this.clone(),n=t.coefficients;0>=e;)n.unshift(0),t.exponent++,e++;if(n.length>e){var r=n.splice(e,n.length-e);if(r[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),t.exponent++,i++),i--,n[i]++}}return t},e.exports=t},function(e){e.exports=function(e,t){var n=e.constructor;n.config({precision:t+Math.log(t)|4});for(var r=new n(1),i=e,o=0/0,a=e.times(e),s=e,u=new n(r),l=new n(r),c=new n(r),p=3;!i.equals(o);p+=2)s=s.times(a),u=u.times(c),l=l.times(c.plus(r)),o=i,c=new n(p),i=i.plus(s.times(u).div(c.times(l)));return n.config({precision:t}),i.toDP(t-1)}},function(e,t,n){var r=n(164),i=n(587);e.exports=function(e,t){var n=t.precision,o=-(n+4),a=n+8-e.e,s=25-e.e,u=Math.max(1.442695*Math.log(n+2)|5,5);t.config({precision:s});var l=0,c=new t(Math.asin(e.toNumber())+"");do{var p=r(c,t,1,!1),h=i(p);p.isZero()||(p.s=c.s);var f=p.minus(e).div(h);c=c.minus(f),s=Math.min(2*s,a),t.config({precision:s})}while(2*f.e>=o&&!f.isZero()&&++l<=u);if(l==u)throw new Error("asin() failed to converge to the requested accuracy.Try with a higher precision.");return t.config({precision:n}),c.toDP(n-1)}},function(e,t,n){var r=n(108),i=n(258);e.exports=function(e,t,n){var o=n.precision;if(t.isZero()){if(e.isZero())return new n(0/0);var a=r.pi(n.constructor({precision:o+2})).div(2).toDP(o-1);return a.constructor=n,a.s=e.s,a}n.config({precision:o+2});var s=i(e.div(t),n,!1);if(t.isNegative()){var u=r.pi(n);s=e.isNegative()?s.minus(u):s.plus(u)}return s.constructor=n,n.config({precision:o}),s.toDP(o-1)}},function(e,t,n){var r=n(368);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(0/0);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()==t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return r(e,t,function(e,t){return e&t})}},function(e,t,n){var r=n(368);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(0/0);var i=new n(-1);return e.isZero()||t.eq(i)||e.eq(t)?t:t.isZero()||e.eq(i)?e:e.isFinite()&&t.isFinite()?r(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?i:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}},function(e,t,n){var r=n(368),i=n(367);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(0/0);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var o=new n(-1);return e.eq(o)?i(t):t.eq(o)?i(e):e.isFinite()&&t.isFinite()?r(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new n(e.isNegative()==t.isNegative()?1/0:-(1/0)):o}},function(e){e.exports=function(e,t){for(var n=e.constructor.ONE,r=e,i=0/0,o=e.times(e),a=t?r:r=n,s=n,u=!0,l=t;!r.equals(i);l+=2)a=a.times(o),s=s.times(l+1).times(l+2),i=r,u=!u,r=u?r.plus(a.div(s)):r.minus(a.div(s));return r}},function(e,t){t.format=function(e,n){if("function"==typeof n)return n(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",i=void 0;switch(void 0!==n&&(n.notation&&(r=n.notation),"number"==typeof n?i=n:n.precision&&(i=n.precision)),r){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"auto":var o=.001,a=1e5;if(n&&n.exponential&&(void 0!==n.exponential.lower&&(o=n.exponential.lower),void 0!==n.exponential.upper&&(a=n.exponential.upper)),{toExpNeg:e.constructor.toExpNeg,toExpPos:e.constructor.toExpPos},e.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),e.isZero())return"0";var s,u=e.abs();return s=u.gte(o)&&u.lt(a)?e.toSignificantDigits(i).toFixed():t.toExponential(e,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},t.toFixed=function(e,t){return e.toFixed(t||0)}},function(e){e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(0/0):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?e.times(t.lt(55)?Math.pow(2,t.toNumber())+"":new n(2).pow(t)):new n(0/0)}},function(e){e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(0/0):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new n(2).pow(t)).floor():new n(e.isNegative()?-1:e.isFinite()?0:0/0)}},function(e,t){"use strict";t.isBoolean=function(e){return"boolean"==typeof e}},function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s,u,l,c){var p,h,f,d,m=e._values,g=e._index,v=e._ptr,y=a._index;if(r)for(h=v[t],f=v[t+1],p=h;f>p;p++)d=g[p],n[d]!==o?(n[d]=o,y.push(d),l?(r[d]=u?s(m[p],c):s(c,m[p]),i[d]=o):r[d]=m[p]):(r[d]=u?s(m[p],r[d]):s(r[d],m[p]),i[d]=o);else for(h=v[t],f=v[t+1],p=h;f>p;p++)d=g[p],n[d]!==o?(n[d]=o,y.push(d)):i[d]=o}},function(e){e.exports="2.5.0"},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(261),l=r(u),c=n(1149),p=r(c),h=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));return r.type="comment",r}return a(t,e),s(t,[{key:"left",get:function(){return l["default"]("Comment#left was deprecated. Use Comment#raws.left"),this.raws.left},set:function(e){l["default"]("Comment#left was deprecated. Use Comment#raws.left"),this.raws.left=e}},{key:"right",get:function(){return l["default"]("Comment#right was deprecated. Use Comment#raws.right"),this.raws.right},set:function(e){l["default"]("Comment#right was deprecated. Use Comment#raws.right"),this.raws.right=e}}]),t}(p["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.map(function(e){return e.nodes&&(e.nodes=s(e.nodes)),delete e.source,e})}t.__esModule=!0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1148),c=r(l),p=n(261),h=r(p),f=n(1146),d=r(f),m=n(1149),g=r(m),v=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.push=function(e){return e.parent=this,this.nodes.push(e),this},t.prototype.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;if(this.indexes[t]=0,this.nodes){for(var n=void 0,r=void 0;this.indexes[t]<this.nodes.length&&(n=this.indexes[t],r=e(this.nodes[n],n),r!==!1);)this.indexes[t]+=1;return delete this.indexes[t],r}},t.prototype.walk=function(e){return this.each(function(t,n){var r=e(t,n);return r!==!1&&t.walk&&(r=t.walk(e)),r})},t.prototype.walkDecls=function(e,t){return t?this.walk(e instanceof RegExp?function(n,r){return"decl"===n.type&&e.test(n.prop)?t(n,r):void 0}:function(n,r){return"decl"===n.type&&n.prop===e?t(n,r):void 0}):(t=e,this.walk(function(e,n){return"decl"===e.type?t(e,n):void 0}))},t.prototype.walkRules=function(e,t){return t?this.walk(e instanceof RegExp?function(n,r){return"rule"===n.type&&e.test(n.selector)?t(n,r):void 0}:function(n,r){return"rule"===n.type&&n.selector===e?t(n,r):void 0}):(t=e,this.walk(function(e,n){return"rule"===e.type?t(e,n):void 0}))},t.prototype.walkAtRules=function(e,t){return t?this.walk(e instanceof RegExp?function(n,r){return"atrule"===n.type&&e.test(n.name)?t(n,r):void 0}:function(n,r){return"atrule"===n.type&&n.name===e?t(n,r):void 0}):(t=e,this.walk(function(e,n){return"atrule"===e.type?t(e,n):void 0}))},t.prototype.walkComments=function(e){return this.walk(function(t,n){return"comment"===t.type?e(t,n):void 0})},t.prototype.append=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var r=t,i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}for(var s=a,u=this.normalize(s,this.last),l=u,c=Array.isArray(l),p=0,l=c?l:l[Symbol.iterator]();;){var h;if(c){if(p>=l.length)break;h=l[p++]}else{if(p=l.next(),p.done)break;h=p.value}var f=h;this.nodes.push(f)}}return this},t.prototype.prepend=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];t=t.reverse();for(var r=t,i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}for(var s=a,u=this.normalize(s,this.first,"prepend").reverse(),l=u,c=Array.isArray(l),p=0,l=c?l:l[Symbol.iterator]();;){var h;if(c){if(p>=l.length)break;h=l[p++]}else{if(p=l.next(),p.done)break;h=p.value}var f=h;this.nodes.unshift(f)}for(var d in this.indexes)this.indexes[d]=this.indexes[d]+u.length}return this},t.prototype.cleanRaws=function(t){if(e.prototype.cleanRaws.call(this,t),this.nodes)for(var n=this.nodes,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o;a.cleanRaws(t)}},t.prototype.insertBefore=function(e,t){e=this.index(e);for(var n=0===e&&"prepend",r=this.normalize(t,this.nodes[e],n).reverse(),i=r,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var u=s;this.nodes.splice(e,0,u)}var l=void 0;for(var c in this.indexes)l=this.indexes[c],l>=e&&(this.indexes[c]=l+r.length);return this},t.prototype.insertAfter=function(e,t){e=this.index(e);for(var n=this.normalize(t,this.nodes[e]).reverse(),r=n,i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}var s=a;this.nodes.splice(e+1,0,s)}var u=void 0;for(var l in this.indexes)u=this.indexes[l],u>e&&(this.indexes[l]=u+n.length);return this},t.prototype.remove=function(t){return"undefined"!=typeof t?(h["default"]("Container#remove is deprecated. Use Container#removeChild"),this.removeChild(t)):e.prototype.remove.call(this),this},t.prototype.removeChild=function(e){e=this.index(e),this.nodes[e].parent=void 0,this.nodes.splice(e,1);var t=void 0;for(var n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this},t.prototype.removeAll=function(){for(var e=this.nodes,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var i=r;i.parent=void 0}return this.nodes=[],this},t.prototype.replaceValues=function(e,t,n){return n||(n=t,t={}),this.walkDecls(function(r){t.props&&-1===t.props.indexOf(r.prop)||t.fast&&-1===r.value.indexOf(t.fast)||(r.value=r.value.replace(e,n))}),this},t.prototype.every=function(e){return this.nodes.every(e)},t.prototype.some=function(e){return this.nodes.some(e)},t.prototype.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},t.prototype.normalize=function(e,t){var r=this;if("string"==typeof e){var i=n(1150);e=s(i(e).nodes)}else if(!Array.isArray(e))if("root"===e.type)e=e.nodes;else if(e.type)e=[e];else if(e.prop){if("undefined"==typeof e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new c["default"](e)]}else if(e.selector){var o=n(683);e=[new o(e)]}else if(e.name){var a=n(682);e=[new a(e)]}else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new d["default"](e)]}var u=e.map(function(e){return"undefined"==typeof e.raws&&(e=r.rebuild(e)),e.parent&&(e=e.clone()),"undefined"==typeof e.raws.before&&t&&"undefined"!=typeof t.raws.before&&(e.raws.before=t.raws.before.replace(/[^\s]/g,"")),e.parent=r,e});return u},t.prototype.rebuild=function(e,t){var r=this,i=void 0;if("root"===e.type){var o=n(1152);i=new o}else if("atrule"===e.type){var a=n(682);i=new a}else if("rule"===e.type){var s=n(683);i=new s}else"decl"===e.type?i=new c["default"]:"comment"===e.type&&(i=new d["default"]);for(var u in e)"nodes"===u?i.nodes=e.nodes.map(function(e){return r.rebuild(e,i)}):"parent"===u&&t?i.parent=t:e.hasOwnProperty(u)&&(i[u]=e[u]);return i},t.prototype.eachInside=function(e){return h["default"]("Container#eachInside is deprecated. Use Container#walk instead."),this.walk(e)},t.prototype.eachDecl=function(e,t){return h["default"]("Container#eachDecl is deprecated. Use Container#walkDecls instead."),this.walkDecls(e,t)},t.prototype.eachRule=function(e,t){return h["default"]("Container#eachRule is deprecated. Use Container#walkRules instead."),this.walkRules(e,t)},t.prototype.eachAtRule=function(e,t){return h["default"]("Container#eachAtRule is deprecated. Use Container#walkAtRules instead."),this.walkAtRules(e,t)},t.prototype.eachComment=function(e){return h["default"]("Container#eachComment is deprecated. Use Container#walkComments instead."),this.walkComments(e)},u(t,[{key:"first",get:function(){return this.nodes?this.nodes[0]:void 0}},{key:"last",get:function(){return this.nodes?this.nodes[this.nodes.length-1]:void 0}},{key:"semicolon",get:function(){return h["default"]("Node#semicolon is deprecated. Use Node#raws.semicolon"),this.raws.semicolon},set:function(e){h["default"]("Node#semicolon is deprecated. Use Node#raws.semicolon"),this.raws.semicolon=e}},{key:"after",get:function(){return h["default"]("Node#after is deprecated. Use Node#raws.after"),this.raws.after},set:function(e){h["default"]("Node#after is deprecated. Use Node#raws.after"),this.raws.after=e}}]),t}(g["default"]);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(261),l=r(u),c=n(1149),p=r(c),h=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));return r.type="decl",r}return a(t,e),s(t,[{key:"_value",get:function(){return l["default"]("Node#_value was deprecated. Use Node#raws.value"),this.raws.value},set:function(e){l["default"]("Node#_value was deprecated. Use Node#raws.value"),this.raws.value=e}},{key:"_important",get:function(){return l["default"]("Node#_important was deprecated. Use Node#raws.important"),this.raws.important},set:function(e){l["default"]("Node#_important was deprecated. Use Node#raws.important"),this.raws.important=e}}]),t}(p["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(1551),u=r(s),l=n(1556),c=r(l),p=n(1153),h=r(p),f=n(261),d=r(f),m=function v(e,t){var n=new e.constructor;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o="undefined"==typeof i?"undefined":a(i);"parent"===r&&"object"===o?t&&(n[r]=t):"source"===r?n[r]=i:i instanceof Array?n[r]=i.map(function(e){return v(e,n)}):"before"!==r&&"after"!==r&&"between"!==r&&"semicolon"!==r&&("object"===o&&null!==i&&(i=v(i)),n[r]=i)}return n},g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};
if(i(this,e),this.raws={},"object"!==("undefined"==typeof t?"undefined":a(t))&&"undefined"!=typeof t)throw new Error("PostCSS nodes constructor accepts object, not "+JSON.stringify(t));for(var n in t)this[n]=t[n]}return e.prototype.error=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var n=this.positionBy(t);return this.source.input.error(e,n.line,n.column,t)}return new u["default"](e)},e.prototype.warn=function(e,t,n){var r={node:this};for(var i in n)r[i]=n[i];return e.warn(t,r)},e.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},e.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h["default"];e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t},e.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(this);for(var n in e)t[n]=e[n];return t},e.prototype.cloneBefore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t},e.prototype.cloneAfter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t},e.prototype.replaceWith=function(){if(this.parent){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var r=t,i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}var s=a;this.parent.insertBefore(this,s)}this.remove()}return this},e.prototype.moveTo=function(e){return this.cleanRaws(this.root()===e.root()),this.remove(),e.append(this),this},e.prototype.moveBefore=function(e){return this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertBefore(e,this),this},e.prototype.moveAfter=function(e){return this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertAfter(e,this),this},e.prototype.next=function(){var e=this.parent.index(this);return this.parent.nodes[e+1]},e.prototype.prev=function(){var e=this.parent.index(this);return this.parent.nodes[e-1]},e.prototype.toJSON=function(){var e={};for(var t in this)if(this.hasOwnProperty(t)&&"parent"!==t){var n=this[t];e[t]=n instanceof Array?n.map(function(e){return"object"===("undefined"==typeof e?"undefined":a(e))&&e.toJSON?e.toJSON():e}):"object"===("undefined"==typeof n?"undefined":a(n))&&n.toJSON?n.toJSON():n}return e},e.prototype.raw=function(e,t){var n=new c["default"];return n.raw(this,e,t)},e.prototype.root=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.cleanRaws=function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between},e.prototype.positionInside=function(e){for(var t=this.toString(),n=this.source.start.column,r=this.source.start.line,i=0;e>i;i++)"\n"===t[i]?(n=1,r+=1):n+=1;return{line:r,column:n}},e.prototype.positionBy=function(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var n=this.toString().indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t},e.prototype.removeSelf=function(){return d["default"]("Node#removeSelf is deprecated. Use Node#remove."),this.remove()},e.prototype.replace=function(e){return d["default"]("Node#replace is deprecated. Use Node#replaceWith"),this.replaceWith(e)},e.prototype.style=function(e,t){return d["default"]("Node#style() is deprecated. Use Node#raw()"),this.raw(e,t)},e.prototype.cleanStyles=function(e){return d["default"]("Node#cleanStyles() is deprecated. Use Node#cleanRaws()"),this.cleanRaws(e)},o(e,[{key:"before",get:function(){return d["default"]("Node#before is deprecated. Use Node#raws.before"),this.raws.before},set:function(e){d["default"]("Node#before is deprecated. Use Node#raws.before"),this.raws.before=e}},{key:"between",get:function(){return d["default"]("Node#between is deprecated. Use Node#raws.between"),this.raws.between},set:function(e){d["default"]("Node#between is deprecated. Use Node#raws.between"),this.raws.between=e}}]),e}();t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(t&&t.safe)throw new Error('Option safe was removed. Use parser: require("postcss-safe-parser")');var n=new u["default"](e,t),r=new a["default"](n);try{r.tokenize(),r.loop()}catch(i){throw"CssSyntaxError"===i.name&&t&&t.from&&(/\.scss$/i.test(t.from)?i.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(t.from)?i.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(t.from)&&(i.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),i}return r.root}t.__esModule=!0,t["default"]=i;var o=n(2410),a=r(o),s=n(1552),u=r(s);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new u["default"](t)}t.__esModule=!0;var o=n(1148),a=r(o),s=n(1555),u=r(s),l=n(1153),c=r(l),p=n(1146),h=r(p),f=n(682),d=r(f),m=n(2414),g=r(m),v=n(1150),y=r(v),b=n(1554),w=r(b),_=n(683),x=r(_),E=n(1152),k=r(E);i.plugin=function(e,t){var n=function(){var n=t.apply(void 0,arguments);return n.postcssPlugin=e,n.postcssVersion=(new u["default"]).version,n},r=void 0;return Object.defineProperty(n,"postcss",{get:function(){return r||(r=n()),r}}),n.process=function(e,t){return i([n(t)]).process(e,t)},n},i.stringify=c["default"],i.parse=y["default"],i.vendor=g["default"],i.list=w["default"],i.comment=function(e){return new h["default"](e)},i.atRule=function(e){return new d["default"](e)},i.decl=function(e){return new a["default"](e)},i.rule=function(e){return new x["default"](e)},i.root=function(e){return new k["default"](e)},t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1147),u=r(s),l=n(261),c=r(l),p=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));return r.type="root",r.nodes||(r.nodes=[]),r}return a(t,e),t.prototype.removeChild=function(t){return t=this.index(t),0===t&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[t].raws.before),e.prototype.removeChild.call(this,t)},t.prototype.normalize=function(t,n,r){var i=e.prototype.normalize.call(this,t);if(n)if("prepend"===r)this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n)for(var o=i,a=Array.isArray(o),s=0,o=a?o:o[Symbol.iterator]();;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if(s=o.next(),s.done)break;u=s.value}var l=u;l.raws.before=n.raws.before}return i},t.prototype.toResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n(1553),r=n(1555),i=new t(new r,this,e);return i.stringify()},t.prototype.remove=function(e){c["default"]("Root#remove is deprecated. Use Root#removeChild"),this.removeChild(e)},t.prototype.prevMap=function(){return c["default"]("Root#prevMap is deprecated. Use Root#source.input.map"),this.source.input.map},t}(u["default"]);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=new a["default"](t);n.stringify(e)}t.__esModule=!0,t["default"]=i;var o=n(1556),a=r(o);e.exports=t["default"]},,,,,,function(e){"use strict";e.exports=function(e,t){for(var n in t)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var r=Object.getOwnPropertyDescriptor(t,n);if(!r.value||"function"!=typeof r.value||!t.hasOwnProperty(n))continue;e[n]=t[n].bind(e)}else{var i=t[n];if("function"!=typeof i||!t.hasOwnProperty(n))continue;e[n]=i.bind(e)}return e}},function(e,t,n){"use strict";var r=n(86),i=n(604),o=n(426),a=n(425),s={preEmit:1,shouldEmit:1},u=function l(e){e=e||{},r.isObject(e)||(e={actionName:e});for(var t in i)if(!s[t]&&o[t])throw new Error("Cannot override API method "+t+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var n in e)if(!s[n]&&o[n])throw new Error("Cannot override API method "+n+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");e.children=e.children||[],e.asyncResult&&(e.children=e.children.concat(["completed","failed"]));for(var u=0,c={};u<e.children.length;u++){var p=e.children[u];c[p]=l(p)}var h=r.extend({eventLabel:"action",emitter:new r.EventEmitter,_isAction:!0},o,i,e),f=function d(){var e=d.sync?"trigger":"triggerAsync";return d[e].apply(d,arguments)};return r.extend(f,c,h),a.createdActions.push(f),f};e.exports=u},function(e,t,n){(function(r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={version:{"reflux-core":"0.3.0"}};i.ActionMethods=n(604),i.ListenerMethods=n(136),i.PublisherMethods=n(426),i.StoreMethods=n(605),i.createAction=n(1160),i.createStore=n(606);var o=n(607).staticJoinCreator;i.joinTrailing=i.all=o("last"),i.joinLeading=o("first"),i.joinStrict=o("strict"),i.joinConcat=o("all");var a=i.utils=n(86);i.EventEmitter=a.EventEmitter,i.Promise=a.Promise,i.createActions=function(){var e=function(e,t){Object.keys(e).forEach(function(n){var r=e[n];t[n]=i.createAction(r)})};return function(t){var n={};return t instanceof Array?t.forEach(function(t){a.isObject(t)?e(t,n):n[t]=i.createAction(t)}):e(t,n),n}}(),i.setEventEmitter=function(e){i.EventEmitter=a.EventEmitter=e},i.nextTick=function(e){a.nextTick=e},i.use=function(e){e(i)},i.__keep=n(425),Function.prototype.bind||r.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5"),t["default"]=i,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){"use strict";var r=n(86);e.exports=function(e){var t={init:[],preEmit:[],shouldEmit:[]},n=function i(e){var n={};return e.mixins&&e.mixins.forEach(function(e){r.extend(n,i(e))}),r.extend(n,e),Object.keys(t).forEach(function(n){e.hasOwnProperty(n)&&t[n].push(e[n])}),n}(e);return t.init.length>1&&(n.init=function(){var e=arguments;t.init.forEach(function(t){t.apply(this,e)},this)}),t.preEmit.length>1&&(n.preEmit=function(){return t.preEmit.reduce(function(e,t){var n=t.apply(this,e);return void 0===n?e:[n]}.bind(this),arguments)}),t.shouldEmit.length>1&&(n.shouldEmit=function(){var e=arguments;return!t.shouldEmit.some(function(t){return!t.apply(this,e)},this)}),Object.keys(t).forEach(function(e){1===t[e].length&&(n[e]=t[e][0])}),n}},function(e,t,n){var r=n(136),i=n(427),o=n(86);e.exports=function(e,t){return o.throwIf("undefined"==typeof t,"Reflux.connect() requires a key."),{getInitialState:function(){return o.isFunction(e.getInitialState)?o.object([t],[e.getInitialState()]):{}},componentDidMount:function(){var n=this;o.extend(n,r),this.listenTo(e,function(e){n.setState(o.object([t],[e]))})},componentWillUnmount:i.componentWillUnmount}}},function(e,t,n){var r=n(136),i=n(427),o=n(86);e.exports=function(e,t,n){return o.throwIf(o.isFunction(t),"Reflux.connectFilter() requires a key."),{getInitialState:function(){if(!o.isFunction(e.getInitialState))return{};var r=n.call(this,e.getInitialState());return"undefined"!=typeof r?o.object([t],[r]):{}},componentDidMount:function(){var i=this;o.extend(this,r),this.listenTo(e,function(e){var r=n.call(i,e);i.setState(o.object([t],[r]))})},componentWillUnmount:i.componentWillUnmount}}},function(e,t,n){var r=n(136);e.exports=function(e,t,n){return{componentDidMount:function(){for(var i in r)if(this[i]!==r[i]){if(this[i])throw"Can't have other property '"+i+"' when using Reflux.listenTo!";this[i]=r[i]}this.listenTo(e,t,n)},componentWillUnmount:r.stopListeningToAll}}},function(e,t,n){var r=n(136);e.exports=function(e){return{componentDidMount:function(){for(var t in r)if(this[t]!==r[t]){if(this[t])throw"Can't have other property '"+t+"' when using Reflux.listenToMany!";this[t]=r[t]}this.listenToMany(e)},componentWillUnmount:r.stopListeningToAll}}},,,,function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;i>r;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;a>o;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=t},function(e,t){var n,r,i;!function(o,a){r=[],n=a,i="function"==typeof n?n.apply(t,r):n,!(void 0!==i&&(e.exports=i))}(this,function(){function e(){function t(e){for(var t,n=0;n<k.types.length;n++){var r=k.types[n];if(r.name===e){t=r.test;break}}if(!t){var i;for(n=0;n<k.types.length;n++)if(r=k.types[n],r.name.toLowerCase()==e.toLowerCase()){i=r.name;break}throw new Error('Unknown type "'+e+'"'+(i?'. Did you mean "'+i+'"?':""))}return t}function n(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(r.signatures&&""!=r.name)if(""==t)t=r.name;else if(t!=r.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw i.data={actual:r.name,expected:t},i}}return t}function r(e,t,n,r,i){var o,a=m(r),s=i?i.split(","):null,u=e||"unnamed",l=s&&g(s,"any"),c={fn:e,index:n,actual:r,expected:s};o=s?t>n&&!l?"Unexpected type of argument in function "+u+" (expected: "+s.join(" or ")+", actual: "+a+", index: "+n+")":"Too few arguments in function "+u+" (expected: "+s.join(" or ")+", index: "+n+")":"Too many arguments in function "+u+" (expected: "+n+", actual: "+t+")";var p=new TypeError(o);return p.data=c,p}function i(e){this.name=e||"refs",this.categories={}}function o(e,t){if("string"==typeof e){var n=e.trim(),r="..."===n.substr(0,3);if(r&&(n=n.substr(3)),""===n)this.types=["any"];else{this.types=n.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(e)){if(e instanceof o)return e.clone();throw new Error("String or Array expected")}this.types=e}this.conversions=[],this.varArgs=r||t||!1,this.anyType=-1!==this.types.indexOf("any")}function a(e,t){var n;if("string"==typeof e)n=""!==e?e.split(","):[];else{if(!Array.isArray(e))throw new Error("string or Array expected");n=e}this.params=new Array(n.length),this.anyType=!1,this.varArgs=!1;for(var r=0;r<n.length;r++){var i=new o(n[r]);if(this.params[r]=i,i.anyType&&(this.anyType=!0),r===n.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=t}function s(e,t,n,r){this.path=e||[],this.param=e[e.length-1]||null,this.signature=t||null,this.childs=n||[],this.fallThrough=r||!1}function u(e){var t,n,r={},i=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];if(t=new a(o,s),t.ignore())continue;var u=t.expand();for(n=0;n<u.length;n++){var l=u[n],c=l.toString(),p=r[c];if(p){var h=a.compare(l,p);if(0>h)r[c]=l;else if(0===h)throw new Error('Signature "'+c+'" is defined twice')}else r[c]=l}}for(c in r)r.hasOwnProperty(c)&&i.push(r[c]);for(i.sort(function(e,t){return a.compare(e,t)}),n=0;n<i.length;n++)if(t=i[n],t.varArgs)for(var f=t.params.length-1,d=t.params[f],m=0;m<d.types.length;){if(d.conversions[m])for(var v=d.types[m],y=0;y<i.length;y++){var b=i[y],w=b.params[f];if(b!==t&&w&&g(w.types,v)&&!w.conversions[f]){d.types.splice(m,1),d.conversions.splice(m,1),m--;break}}m++}return i}function l(e){for(var t=[],n=0;n<e.length;n++)e[n].anyType&&t.push(e[n]);return t}function c(e){for(var t={},n=0;n<e.length;n++){var r=e[n];if(r.fn&&!r.hasConversions()){var i=r.params.join(",");t[i]=r.fn}}return t}function p(e,t,n){var r,i,a,u=t.length,l=[];for(r=0;r<e.length;r++)i=e[r],i.params.length!==u||a||(a=i),void 0!=i.params[u]&&l.push(i);l.sort(function(e,t){return o.compare(e.params[u],t.params[u])});var c=[];for(r=0;r<l.length;r++){i=l[r];var h=i.params[u],f=c.filter(function(e){return e.param.overlapping(h)})[0];if(f){if(f.param.varArgs)throw new Error('Conflicting types "'+f.param+'" and "'+h+'"');f.signatures.push(i)}else c.push({param:h,signatures:[i]})}var d=[];for(r=0;r<n.length;r++)n[r].paramsStartWith(t)&&d.push(n[r]);var m=!1;for(r=0;r<d.length;r++)if(!g(e,d[r])){m=!0;break}var v=new Array(c.length);for(r=0;r<c.length;r++){var y=c[r];v[r]=p(y.signatures,t.concat(y.param),d)}return new s(t,a,v,m)}function h(e){for(var t=[],n=0;e>n;n++)t[n]="arg"+n;return t}function f(e,t){var n=new i,o=u(t);if(0==o.length)throw new Error("No signatures provided");var a=l(o),s=p(o,[],a),f=[],m=e||"",g=h(d(o));f.push("function "+m+"("+g.join(", ")+") {"),f.push('  "use strict";'),f.push("  var name = '"+m+"';"),f.push(s.toCode(n,"  ",!1)),f.push("}");var v=[n.toCode(),"return "+f.join("\n")].join("\n"),y=new Function(n.name,"createError",v),b=y(n,r);return b.signatures=c(o),b}function d(e){for(var t=0,n=0;n<e.length;n++){var r=e[n].params.length;r>t&&(t=r)}return t}function m(e){for(var t,n=0;n<k.types.length;n++){var r=k.types[n];if("Object"===r.name)t=r;else if(r.test(e))return r.name}return t&&t.test(e)?t.name:"unknown"}function g(e,t){return-1!==e.indexOf(t)}function v(e){return e[e.length-1]}function y(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var i=n.join(","),o=e.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")}function b(e,t){var n=m(e);if(t===n)return e;for(var r=0;r<k.conversions.length;r++){var i=k.conversions[r];if(i.from===n&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)}i.prototype.add=function(e,t){var n=t||"fn";this.categories[n]||(this.categories[n]=[]);var r=this.categories[n].indexOf(e);return-1==r&&(r=this.categories[n].length,this.categories[n].push(e)),n+r},i.prototype.toCode=function(){var e=[],t=this.name+".categories",n=this.categories;for(var r in n)if(n.hasOwnProperty(r))for(var i=n[r],o=0;o<i.length;o++)e.push("var "+r+o+" = "+t+"['"+r+"']["+o+"];");return e.join("\n")},o.compare=function(e,t){if(e.anyType)return 1;if(t.anyType)return-1;if(g(e.types,"Object"))return 1;if(g(t.types,"Object"))return-1;if(e.hasConversions()){if(t.hasConversions()){var n,r,i;for(n=0;n<e.conversions.length;n++)if(void 0!==e.conversions[n]){r=e.conversions[n];break}for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){i=t.conversions[n];break}return k.conversions.indexOf(r)-k.conversions.indexOf(i)}return 1}if(t.hasConversions())return-1;var o,a;for(n=0;n<k.types.length;n++)if(k.types[n].name===e.types[0]){o=n;break}for(n=0;n<k.types.length;n++)if(k.types[n].name===t.types[0]){a=n;break}return o-a},o.prototype.overlapping=function(e){for(var t=0;t<this.types.length;t++)if(g(e.types,this.types[t]))return!0;return!1},o.prototype.matches=function(e){return this.anyType||e.anyType||this.overlapping(e)},o.prototype.clone=function(){var e=new o(this.types.slice(),this.varArgs);return e.conversions=this.conversions.slice(),e},o.prototype.hasConversions=function(){return this.conversions.length>0},o.prototype.contains=function(e){for(var t=0;t<this.types.length;t++)if(e[this.types[t]])return!0;return!1},o.prototype.toString=function(e){for(var t=[],n={},r=0;r<this.types.length;r++){var i=this.conversions[r],o=e&&i?i.to:this.types[r];o in n||(n[o]=!0,t.push(o))}return(this.varArgs?"...":"")+t.join("|")},a.prototype.clone=function(){return new a(this.params.slice(),this.fn)},a.prototype.expand=function(){function e(n,r){if(r.length<n.params.length){var i,s,u,l=n.params[r.length];if(l.varArgs){for(s=l.clone(),i=0;i<k.conversions.length;i++)if(u=k.conversions[i],!g(l.types,u.from)&&g(l.types,u.to)){var c=s.types.length;s.types[c]=u.from,s.conversions[c]=u}e(n,r.concat(s))}else{for(i=0;i<l.types.length;i++)e(n,r.concat(new o(l.types[i])));for(i=0;i<k.conversions.length;i++)u=k.conversions[i],!g(l.types,u.from)&&g(l.types,u.to)&&(s=new o(u.from),s.conversions[0]=u,e(n,r.concat(s)))}}else t.push(new a(r,n.fn))}var t=[];return e(this,[]),t},a.compare=function(e,t){if(e.params.length>t.params.length)return 1;if(e.params.length<t.params.length)return-1;var n,r=e.params.length,i=0,a=0;for(n=0;r>n;n++)e.params[n].hasConversions()&&i++,t.params[n].hasConversions()&&a++;if(i>a)return 1;if(a>i)return-1;for(n=0;n<e.params.length;n++){var s=o.compare(e.params[n],t.params[n]);if(0!==s)return s}return 0},a.prototype.hasConversions=function(){for(var e=0;e<this.params.length;e++)if(this.params[e].hasConversions())return!0;return!1},a.prototype.ignore=function(){for(var e={},t=0;t<k.ignore.length;t++)e[k.ignore[t]]=!0;for(t=0;t<this.params.length;t++)if(this.params[t].contains(e))return!0;return!1},a.prototype.paramsStartWith=function(e){if(0===e.length)return!0;for(var t=v(this.params),n=v(e),r=0;r<e.length;r++){var i=this.params[r]||(t.varArgs?t:null),o=e[r]||(n.varArgs?n:null);if(!i||!o||!i.matches(o))return!1}return!0},a.prototype.toCode=function(e,t){for(var n=[],r=new Array(this.params.length),i=0;i<this.params.length;i++){var o=this.params[i],a=o.conversions[0];r[i]=o.varArgs?"varArgs":a?e.add(a.convert,"convert")+"(arg"+i+")":"arg"+i}var s=this.fn?e.add(this.fn,"signature"):void 0;return s?t+"return "+s+"("+r.join(", ")+"); // signature: "+this.params.join(", "):n.join("\n")},a.prototype.toString=function(){return this.params.join(", ")},s.prototype.toCode=function(e,n){var r=[];if(this.param){var i=this.path.length-1,o=this.param.conversions[0],a="// type: "+(o?o.from+" (convert to "+o.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)r.push(n+"if (arguments.length > "+i+") {"),r.push(n+"  var varArgs = [];"),r.push(n+"  for (var i = "+i+"; i < arguments.length; i++) {"),r.push(n+"    varArgs.push(arguments[i]);"),r.push(n+"  }"),r.push(this.signature.toCode(e,n+"  ")),r.push(n+"}");else{for(var s=function(n,r){for(var i=[],o=0;o<n.length;o++)i[o]=e.add(t(n[o]),"test")+"("+r+")";return i.join(" || ")}.bind(this),u=this.param.types,l=[],c=0;c<u.length;c++)void 0===this.param.conversions[c]&&l.push(u[c]);r.push(n+"if ("+s(u,"arg"+i)+") { "+a),r.push(n+"  var varArgs = [arg"+i+"];"),r.push(n+"  for (var i = "+(i+1)+"; i < arguments.length; i++) {"),r.push(n+"    if ("+s(l,"arguments[i]")+") {"),r.push(n+"      varArgs.push(arguments[i]);");for(var c=0;c<u.length;c++){var p=this.param.conversions[c];if(p){var h=e.add(t(u[c]),"test"),f=e.add(p.convert,"convert");r.push(n+"    }"),r.push(n+"    else if ("+h+"(arguments[i])) {"),r.push(n+"      varArgs.push("+f+"(arguments[i]));")}}r.push(n+"    } else {"),r.push(n+"      throw createError(name, arguments.length, i, arguments[i], '"+l.join(",")+"');"),r.push(n+"    }"),r.push(n+"  }"),r.push(this.signature.toCode(e,n+"  ")),r.push(n+"}")}else if(this.param.anyType)r.push(n+"// type: any"),r.push(this._innerCode(e,n));else{var d=this.param.types[0],h="any"!==d?e.add(t(d),"test"):null;r.push(n+"if ("+h+"(arg"+i+")) { "+a),r.push(this._innerCode(e,n+"  ")),r.push(n+"}")}}else r.push(this._innerCode(e,n));return r.join("\n")},s.prototype._innerCode=function(e,t){var n,r=[];for(this.signature&&(r.push(t+"if (arguments.length === "+this.path.length+") {"),r.push(this.signature.toCode(e,t+"  ")),r.push(t+"}")),n=0;n<this.childs.length;n++)r.push(this.childs[n].toCode(e,t));if(!this.fallThrough||this.param&&this.param.anyType){var i=this._exceptions(e,t);i&&r.push(i)}return r.join("\n")},s.prototype._exceptions=function(e,t){var n=this.path.length;if(0===this.childs.length)return[t+"if (arguments.length > "+n+") {",t+"  throw createError(name, arguments.length, "+n+", arguments["+n+"]);",t+"}"].join("\n");for(var r={},i=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var s=0;s<a.param.types.length;s++){var u=a.param.types[s];u in r||a.param.conversions[s]||(r[u]=!0,i.push(u))}}return t+"throw createError(name, arguments.length, "+n+", arguments["+n+"], '"+i.join(",")+"');"};var w=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],_={},x=[],E=[],k={config:_,types:w,conversions:x,ignore:E};return k=f("typed",{Object:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);var i=n(t);return f(i,e)},"string, Object":f,"...Function":function(e){for(var t,r=n(e),i={},o=0;o<e.length;o++){var a=e[o];if("object"!=typeof a.signatures)throw t=new TypeError("Function is no typed-function (index: "+o+")"),t.data={index:o},t;for(var s in a.signatures)if(a.signatures.hasOwnProperty(s))if(i.hasOwnProperty(s)){if(a.signatures[s]!==i[s])throw t=new Error('Signature "'+s+'" is defined twice'),t.data={signature:s},t}else i[s]=a.signatures[s]}return f(r,i)}}),k.config=_,k.types=w,k.conversions=x,k.ignore=E,k.create=e,k.find=y,k.convert=b,k.addType=function(e){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");k.types.push(e)},k.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");k.conversions.push(e)},k}return e()})},function(e){e.exports=function(e,t){return null==e?[]:(e=String(e),t=~~t,t>0?e.match(new RegExp(".{1,"+t+"}","g")):[e])}},function(e,t,n){var r=n(429),i=n(616),o=n(14);e.exports=function(e){return e=o(e),r(i(e.replace(/[\W_]/g," ")).replace(/\s/g,""))}},function(e,t,n){var r=n(87);e.exports=function(e){return r(e).replace(/\s\s+/g," ")}},function(e,t,n){var r=n(14);e.exports=function(e,t){return e=r(e),t=r(t),0===e.length||0===t.length?0:e.split(t).length-1}},function(e,t,n){function r(e){for(var t=e.match(/^[\s\\t]*/gm),n=t[0].length,r=1;r<t.length;r++)n=Math.min(t[r].length,n);return n}var i=n(14);e.exports=function(e,t){e=i(e);var n,o=r(e);return 0===o?e:(n="string"==typeof t?new RegExp("^"+t,"gm"):new RegExp("^[ \\t]{"+o+"}","gm"),e.replace(n,""))}},function(e,t,n){var r=n(14),i=n(622);e.exports=function(e,t,n){return e=r(e),t=""+t,n="undefined"==typeof n?e.length-t.length:Math.min(i(n),e.length)-t.length,n>=0&&e.indexOf(t,n)===n}},function(e,t,n){var r=n(14),i=n(1180),o="[";for(var a in i)o+=a;o+="]";var s=new RegExp(o,"g");e.exports=function(e){return r(e).replace(s,function(e){return"&"+i[e]+";"})}},function(e){e.exports=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse|join)$/)&&(e[t]=this[t]);return e}},function(e){var t={"\xa2":"cent","\xa3":"pound","\xa5":"yen","\u20ac":"euro","\xa9":"copy","\xae":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};e.exports=t},function(e){var t={nbsp:" ",cent:"\xa2",pound:"\xa3",yen:"\xa5",euro:"\u20ac",copy:"\xa9",reg:"\xae",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};e.exports=t},function(e,t,n){var r=n(429),i=n(628),o=n(87);e.exports=function(e){return r(o(i(e).replace(/_id$/,"").replace(/_/g," ")))}},function(e,t,n){var r=n(14);e.exports=function(e,t){return""===t||-1!==r(e).indexOf(t)}},function(e,t,n){"use strict";function r(e){return this instanceof r?void(this._wrapped=e):new r(e)}function i(e,t){"function"==typeof t&&(r.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=t.apply(null,e);return"string"==typeof n?new r(n):n})}function o(e){i(e,function(t){var n=Array.prototype.slice.call(arguments,1);return String.prototype[e].apply(t,n)})}r.VERSION="3.2.2",r.isBlank=n(623),r.stripTags=n(1207),r.capitalize=n(429),r.decapitalize=n(619),r.chop=n(1172),r.trim=n(87),r.clean=n(1174),r.cleanDiacritics=n(617),r.count=n(1175),r.chars=n(430),r.swapCase=n(1209),r.escapeHTML=n(1178),r.unescapeHTML=n(1215),r.splice=n(624),r.insert=n(1185),r.replaceAll=n(1198),r.include=n(1183),r.join=n(1186),r.lines=n(1188),r.dedent=n(1176),r.reverse=n(1199),r.startsWith=n(1202),r.endsWith=n(1177),r.pred=n(1194),r.succ=n(1208),r.titleize=n(1210),r.camelize=n(616),r.underscored=n(628),r.dasherize=n(618),r.classify=n(1173),r.humanize=n(1182),r.ltrim=n(1191),r.rtrim=n(432),r.truncate=n(1214),r.prune=n(1195),r.words=n(1218),r.pad=n(269),r.lpad=n(1189),r.rpad=n(1200),r.lrpad=n(1190),r.sprintf=n(625),r.vsprintf=n(1217),r.toNumber=n(1212),r.numberFormat=n(1193),r.strRight=n(1205),r.strRightBack=n(1206),r.strLeft=n(1203),r.strLeftBack=n(1204),r.toSentence=n(627),r.toSentenceSerial=n(1213),r.slugify=n(1201),r.surround=n(626),r.quote=n(1196),r.unquote=n(1216),r.repeat=n(1197),r.naturalCmp=n(1192),r.levenshtein=n(1187),r.toBoolean=n(1211),r.exports=n(1179),r.escapeRegExp=n(621),r.wrap=n(1219),r.strip=r.trim,r.lstrip=r.ltrim,r.rstrip=r.rtrim,r.center=r.lrpad,r.rjust=r.lpad,r.ljust=r.rpad,r.contains=r.include,r.q=r.quote,r.toBool=r.toBoolean,r.camelcase=r.camelize,r.prototype={value:function(){return this._wrapped}};for(var a in r)i(a,r[a]);i("tap",function(e,t){return t(e)});var s=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var a in s)o(s[a]);e.exports=r},function(e,t,n){var r=n(624);e.exports=function(e,t,n){return r(e,t,0,n)}},function(e,t,n){var r=n(14),i=[].slice;e.exports=function(){var e=i.call(arguments),t=e.shift();return e.join(r(t))}},function(e,t,n){var r=n(14);e.exports=function(e,t){"use strict";if(e=r(e),t=r(t),e===t)return 0;if(!e||!t)return Math.max(e.length,t.length);for(var n=new Array(t.length+1),i=0;i<n.length;++i)n[i]=i;for(i=0;i<e.length;++i){for(var o=i+1,a=0;a<t.length;++a){var s=o;o=n[a]+(e.charAt(i)===t.charAt(a)?0:1);var u=s+1;o>u&&(o=u),u=n[a+1]+1,o>u&&(o=u),n[a]=s}n[a]=o}return o}},function(e){e.exports=function(e){return null==e?[]:String(e).split(/\r\n?|\n/)}},function(e,t,n){var r=n(269);e.exports=function(e,t,n){return r(e,t,n)}},function(e,t,n){var r=n(269);e.exports=function(e,t,n){return r(e,t,n,"both")}},function(e,t,n){var r=n(14),i=n(268),o=String.prototype.trimLeft;e.exports=function(e,t){return e=r(e),!t&&o?o.call(e):(t=i(t),e.replace(new RegExp("^"+t+"+"),""))}},function(e){e.exports=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=/(\.\d+|\d+|\D+)/g,r=String(e).match(n),i=String(t).match(n),o=Math.min(r.length,i.length),a=0;o>a;a++){var s=r[a],u=i[a];if(s!==u){var l=+s,c=+u;return l===l&&c===c?l>c?1:-1:u>s?-1:1}}return r.length!=i.length?r.length-i.length:t>e?-1:1}},function(e){e.exports=function(e,t,n,r){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),r="string"==typeof r?r:",";var i=e.split("."),o=i[0],a=i[1]?(n||".")+i[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+a}},function(e,t,n){var r=n(620);e.exports=function(e){return r(e,-1)}},function(e,t,n){var r=n(14),i=n(432);e.exports=function(e,t,n){if(e=r(e),t=~~t,n=null!=n?String(n):"...",e.length<=t)return e;var o=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},a=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,o);return a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):i(a.slice(0,a.length-1)),(a+n).length>e.length?e:e.slice(0,a.length)+n}},function(e,t,n){var r=n(626);e.exports=function(e,t){return r(e,t||'"')}},function(e,t,n){var r=n(14),i=n(431);e.exports=function o(e,t,n){if(e=r(e),t=~~t,null==n)return i(e,t);for(var o=[];t>0;o[--t]=e);return o.join(n)}},function(e,t,n){var r=n(14);e.exports=function(e,t,n,i){var o=i===!0?"gi":"g",a=new RegExp(t,o);return r(e).replace(a,n)}},function(e,t,n){var r=n(430);e.exports=function(e){return r(e).reverse().join("")}},function(e,t,n){var r=n(269);e.exports=function(e,t,n){return r(e,t,n,"right")}},function(e,t,n){var r=(n(14),n(268),n(87)),i=n(618),o=n(617);
e.exports=function(e){return r(i(o(e).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},function(e,t,n){var r=n(14),i=n(622);e.exports=function(e,t,n){return e=r(e),t=""+t,n=null==n?0:Math.min(i(n),e.length),e.lastIndexOf(t,n)===n}},function(e,t,n){var r=n(14);e.exports=function(e,t){e=r(e),t=r(t);var n=t?e.indexOf(t):-1;return~n?e.slice(0,n):e}},function(e,t,n){var r=n(14);e.exports=function(e,t){e=r(e),t=r(t);var n=e.lastIndexOf(t);return~n?e.slice(0,n):e}},function(e,t,n){var r=n(14);e.exports=function(e,t){e=r(e),t=r(t);var n=t?e.indexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},function(e,t,n){var r=n(14);e.exports=function(e,t){e=r(e),t=r(t);var n=t?e.lastIndexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},function(e,t,n){var r=n(14);e.exports=function(e){return r(e).replace(/<\/?[^>]+>/g,"")}},function(e,t,n){var r=n(620);e.exports=function(e){return r(e,1)}},function(e,t,n){var r=n(14);e.exports=function(e){return r(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})}},function(e,t,n){var r=n(14);e.exports=function(e){return r(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}},function(e,t,n){function r(e,t){var n,r,i=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(r=t[n]){if(r.test&&r.test(e))return!0;if(r.toLowerCase()===i)return!0}}var i=n(87);e.exports=function(e,t,n){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:(e=i(e),!!r(e,t||["true","1"])||!r(e,n||["false","0"])&&void 0)}},function(e,t,n){n(87),e.exports=function(e,t){if(null==e)return 0;var n=Math.pow(10,isFinite(t)?t:0);return Math.round(e*n)/n}},function(e,t,n){var r=n(627);e.exports=function(e,t,n){return r(e,t,n,!0)}},function(e,t,n){var r=n(14);e.exports=function(e,t,n){return e=r(e),n=n||"...",t=~~t,e.length>t?e.slice(0,t)+n:e}},function(e,t,n){var r=n(14),i=n(1181);e.exports=function(e){return r(e).replace(/\&([^;]+);/g,function(e,t){var n;return t in i?i[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e})}},function(e){e.exports=function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e}},function(e,t,n){var r=n(625);e.exports=function(e,t){return t.unshift(e),r.apply(null,t)}},function(e,t,n){var r=n(623),i=n(87);e.exports=function(e,t){return r(e)?[]:i(e,t).split(t||/\s+/)}},function(e,t,n){makeString=n(14),e.exports=function(e,t){if(e=makeString(e),t=t||{},width=t.width||75,seperator=t.seperator||"\n",cut=t.cut||!1,preserveSpaces=t.preserveSpaces||!1,trailingSpaces=t.trailingSpaces||!1,0>=width)return e;if(cut){for(index=0,result="";index<e.length;)index%width==0&&index>0&&(result+=seperator),result+=e.charAt(index),index++;if(trailingSpaces)for(;index%width>0;)result+=" ",index++;return result}for(words=e.split(" "),result="",current_column=0;words.length>0;){if(1+words[0].length+current_column>width&&current_column>0){if(preserveSpaces)result+=" ",current_column++;else if(trailingSpaces)for(;width>current_column;)result+=" ",current_column++;result+=seperator,current_column=0}current_column>0&&(result+=" ",current_column++),result+=words[0],current_column+=words[0].length,words.shift()}if(trailingSpaces)for(;width>current_column;)result+=" ",current_column++;return result}},function(e,t,n){if("undefined"!=typeof window){var r=window.jQuery||window.Zepto||window;e.exports=r.Velocity?r.Velocity:n(1587)}else{var i=function(){};i.velocityReactServerShim=!0,e.exports=i}},function(e,t,n){function r(e,t,n,s,u,l){return e===t||(null==e||null==t||!o(e)&&!a(t)?e!==e&&t!==t:i(e,t,r,n,s,u,l))}var i=n(2513),o=n(240),a=n(455);e.exports=r},function(e){function t(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?r:t,e>-1&&e%1==0&&t>e}var n=/^\d+$/,r=9007199254740991;e.exports=t},function(e,t,n){function r(e){return o(e)&&i(e)&&s.call(e,"callee")&&!u.call(e,"callee")}var i=n(631),o=n(455),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;e.exports=r},function(e,t,n){function r(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(o(e)||i(e))&&t||0;for(var n=e.constructor,r=-1,l="function"==typeof n&&n.prototype===e,p=Array(t),h=t>0;++r<t;)p[r]=r+"";for(var f in e)h&&a(f,t)||"constructor"==f&&(l||!c.call(e,f))||p.push(f);return p}var i=n(1223),o=n(271),a=n(1222),s=n(454),u=n(240),l=Object.prototype,c=l.hasOwnProperty;e.exports=r},function(){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},p.call(f.prototype),p.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];g.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=f,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new f(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){var r;!function(){"use strict";r=function(){var e=n(1238),t=n(1227),r=n(434).asap;return e({scheduler:new t(r)})}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){var e=n(634),t=n(633);return function(n){function r(e){function t(e){c=null,this.resolve(e)}function r(e){this.resolved||(c.push(e),0===--l&&this.reject(c))}for(var i,o,a=n._defer(),s=a._handler,u=e.length>>>0,l=u,c=[],p=0;u>p;++p)if(o=e[p],void 0!==o||p in e){if(i=n._handler(o),i.state()>0){s.become(i),n._visitRemaining(e,p,i);break}i.visit(s,t,r)}else--l;return 0===l&&s.reject(new RangeError("any(): array must not be empty")),a}function i(e,t){function r(e){this.resolved||(c.push(e),0===--f&&(p=null,this.resolve(c)))}function i(e){this.resolved||(p.push(e),0===--o&&(c=null,this.reject(p)))}var o,a,s,u=n._defer(),l=u._handler,c=[],p=[],h=e.length>>>0,f=0;for(s=0;h>s;++s)a=e[s],(void 0!==a||s in e)&&++f;for(t=Math.max(t,0),o=f-t+1,f=Math.min(t,f),t>f?l.reject(new RangeError("some(): array must contain at least "+t+" item(s), but had "+f)):0===f&&l.resolve(c),s=0;h>s;++s)a=e[s],(void 0!==a||s in e)&&n._handler(a).visit(l,r,i,l.notify);return u}function o(e,t){return n._traverse(t,e)}function a(e,t){var r=y.call(e);return n._traverse(t,r).then(function(e){return s(r,e)})}function s(e,t){for(var r=t.length,i=new Array(r),o=0,a=0;r>o;++o)t[o]&&(i[a++]=n._handler(e[o]).value);return i.length=a,i}function u(e){return m(e.map(l))}function l(t){var r=n._handler(t);return 0===r.state()?d(t).then(e.fulfilled,e.rejected):(r._unreport(),e.inspect(r))}function c(e,t){return arguments.length>2?g.call(e,h(t),arguments[2]):g.call(e,h(t))}function p(e,t){return arguments.length>2?v.call(e,h(t),arguments[2]):v.call(e,h(t))}function h(e){return function(t,n,r){return f(e,void 0,[t,n,r])}}var f=t(n),d=n.resolve,m=n.all,g=Array.prototype.reduce,v=Array.prototype.reduceRight,y=Array.prototype.slice;return n.any=r,n.some=i,n.settle=u,n.map=o,n.filter=a,n.reduce=c,n.reduceRight=p,n.prototype.spread=function(e){return this.then(m).then(function(t){return e.apply(this,t)})},n}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return n(t)?e instanceof t:t(e)}function n(e){return e===Error||null!=e&&e.prototype instanceof Error}function r(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function i(e){return e}return function(n){function o(e,n){return function(r){return t(r,n)?e.call(this,r):l(r)}}function a(e,t,n,i){var o=e.call(t);return r(o)?s(o,n,i):n(i)}function s(e,t,n){return u(e).then(function(){return t(n)})}var u=n.resolve,l=n.reject,c=n.prototype["catch"];return n.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},n.prototype["catch"]=n.prototype.otherwise=function(t){return arguments.length<2?c.call(this,t):"function"!=typeof t?this.ensure(e):c.call(this,o(arguments[1],t))},n.prototype["finally"]=n.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(t){return a(e,this,i,t)},function(t){return a(e,this,l,t)})},n.prototype["else"]=n.prototype.orElse=function(e){return this.then(void 0,function(){return e})},n.prototype["yield"]=function(e){return this.then(function(){return e})},n.prototype.tap=function(e){return this.then(e)["yield"](this)},n}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){return function(e){return e.prototype.fold=function(t,n){var r=this._beget();return this._handler.fold(function(n,r,i){e._handler(n).fold(function(e,n,r){r.resolve(t.call(this,n,e))},r,this,i)},n,r._handler.receiver,r._handler),r},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){var e=n(634).inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){return function(e){function t(e,t,r,i){return n(function(t){return[t,e(t)]},t,r,i)}function n(e,t,i,o){function a(o,a){return r(i(o)).then(function(){return n(e,t,i,a)})}return r(o).then(function(n){return r(t(n)).then(function(t){return t?n:r(e(n)).spread(a)})})}var r=e.resolve;return e.iterate=t,e.unfold=n,e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){function e(e,n,r,i){return t.setTimer(function(){e(r,i,n)},n)}var t=n(434),r=n(632);return function(n){function i(t,n,r){e(o,t,n,r)}function o(e,t){t.resolve(e)}function a(e,t,n){var i="undefined"==typeof e?new r("timed out after "+n+"ms"):e;t.reject(i)}return n.prototype.delay=function(e){var t=this._beget();return this._handler.fold(i,e,void 0,t._handler),t},n.prototype.timeout=function(n,r){var i=this._beget(),o=i._handler,s=e(a,n,r,i._handler);return this._handler.visit(o,function(e){t.clearTimer(s),this.resolve(e)},function(e){t.clearTimer(s),this.reject(e)},o.notify),i},n}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;(function(i){!function(){"use strict";r=function(){function e(e){throw e}function t(){}var r=n(434).setTimer,o=n(1237);return function(n){function a(e){e.handled||(d.push(e),p("Potentially unhandled rejection ["+e.id+"] "+o.formatError(e.value)))}function s(e){var t=d.indexOf(e);t>=0&&(d.splice(t,1),h("Handled previous rejection ["+e.id+"] "+o.formatObject(e.value)))}function u(e,t){f.push(e,t),null===m&&(m=r(l,0))}function l(){for(m=null;f.length>0;)f.shift()(f.shift())}var c,p=t,h=t;"undefined"!=typeof i&&(c=i,p="undefined"!=typeof c.error?function(e){c.error(e)}:function(e){c.log(e)},h="undefined"!=typeof c.info?function(e){c.info(e)}:function(e){c.log(e)}),n.onPotentiallyUnhandledRejection=function(e){u(a,e)},n.onPotentiallyUnhandledRejectionHandled=function(e){u(s,e)},n.onFatalRejection=function(t){u(e,t.value)};var f=[],d=[],m=null;return n}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))}).call(t,n(3))},function(e,t,n){var r;!function(){"use strict";r=function(){return function(e){return e.prototype["with"]=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;!function(){"use strict";r=function(){function e(e){var n="object"==typeof e&&null!==e&&(e.stack||e.message)?e.stack||e.message:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"}function t(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=n(e,t)),t}function n(e,t){try{return JSON.stringify(e)}catch(n){return t}}return{formatError:e,formatObject:t,tryStringify:n}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e,t,n){var r;(function(i){!function(){"use strict";r=function(){return function(e){function t(e,t){this._handler=e===w?t:n(e)}function n(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}function r(e){i.notify(e)}var i=new x;try{e(t,n,r)}catch(o){n(o)}return i}function r(e){return N(e)?e:new t(w,new E(v(e)))}function o(e){return new t(w,new E(new A(e)))}function a(){return et}function s(){return new t(w,new x)}function u(e,t){var n=new x(e.receiver,e.join().context);return new t(w,n)}function l(e){return p(W,null,e)}function c(e,t){return p($,e,t)}function p(e,n,r){function i(t,i,a){a.resolved||h(r,o,t,e(n,i,t),a)}function o(e,t,n){c[e]=t,0===--l&&n.become(new C(c))}for(var a,s="function"==typeof n?i:o,u=new x,l=r.length>>>0,c=new Array(l),p=0;p<r.length&&!u.resolved;++p)a=r[p],void 0!==a||p in r?h(r,s,p,a,u):--l;return 0===l&&u.become(new C(c)),new t(w,u)}function h(e,t,n,r,i){if(B(r)){var o=y(r),a=o.state();0===a?o.fold(t,n,void 0,i):a>0?t(n,o.value,i):(i.become(o),f(e,n+1,o))}else t(n,r,i)}function f(e,t,n){for(var r=t;r<e.length;++r)d(v(e[r]),n)}function d(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):0>n&&e._unreport()}}function m(e){return"object"!=typeof e||null===e?o(new TypeError("non-iterable passed to race()")):0===e.length?a():1===e.length?r(e[0]):g(e)}function g(e){var n,r,i,o=new x;for(n=0;n<e.length;++n)if(r=e[n],void 0!==r||n in e){if(i=v(r),0!==i.state()){o.become(i),f(e,n+1,i);break}i.visit(o,o.resolve,o.reject)}return new t(w,o)}function v(e){return N(e)?e._handler.join():B(e)?b(e):new C(e)}function y(e){return N(e)?e._handler.join():b(e)}function b(e){try{var t=e.then;return"function"==typeof t?new k(t,e):new C(e)}catch(n){return new A(n)}}function w(){}function _(){}function x(e,n){t.createContext(this,n),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function E(e){this.handler=e}function k(e,t){x.call(this),G.enqueue(new L(e,t,this))}function C(e){t.createContext(this),this.value=e}function A(e){t.createContext(this),this.id=++Z,this.value=e,this.handled=!1,this.reported=!1,this._report()}function S(e,t){this.rejection=e,this.context=t}function M(e){this.rejection=e}function T(){return new A(new TypeError("Promise cycle"))}function D(e,t){this.continuation=e,this.handler=t}function O(e,t){this.handler=t,this.value=e}function L(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function F(e,t,n,r,i){try{e.call(t,n,r,i)}catch(o){r(o)}}function P(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=X,this.receiver=this}function N(e){return e instanceof t}function B(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function R(e,n,r,i){return"function"!=typeof e?i.become(n):(t.enterContext(n),z(e,n.value,r,i),void t.exitContext())}function j(e,n,r,i,o){return"function"!=typeof e?o.become(r):(t.enterContext(r),U(e,n,r.value,i,o),void t.exitContext())}function I(e,n,r,i,o){return"function"!=typeof e?o.notify(n):(t.enterContext(r),V(e,n,i,o),void t.exitContext())}function $(e,t,n){try{return e(t,n)}catch(r){return o(r)}}function z(e,t,n,r){try{r.become(v(e.call(n,t)))}catch(i){r.become(new A(i))}}function U(e,t,n,r,i){try{e.call(r,t,n,i)}catch(o){i.become(new A(o))}}function V(e,t,n,r){try{r.notify(e.call(n,t))}catch(i){r.notify(i)}}function Y(e,t){t.prototype=J(e.prototype),t.prototype.constructor=t}function W(e,t){return t}function H(){}function q(){return"undefined"!=typeof i&&null!==i&&"function"==typeof i.emit?function(e,t){return"unhandledRejection"===e?i.emit(e,t.value,t):i.emit(e,t)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(e,t,n){var r=!1;try{var i=new n("unhandledRejection");r=i instanceof n}catch(o){}return r?function(e,r){var i=new n(e,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!t.dispatchEvent(i)}:e}(H,self,CustomEvent):H}var G=e.scheduler,K=q(),J=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=r,t.reject=o,t.never=a,t._defer=s,t._handler=v,t.prototype.then=function(e,t,n){var r=this._handler,i=r.join().state();if("function"!=typeof e&&i>0||"function"!=typeof t&&0>i)return new this.constructor(w,r);var o=this._beget(),a=o._handler;return r.chain(a,r.receiver,e,t,n),o},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){return u(this._handler,this.constructor)},t.all=l,t.race=m,t._traverse=c,t._visitRemaining=f,w.prototype.when=w.prototype.become=w.prototype.notify=w.prototype.fail=w.prototype._unreport=w.prototype._report=H,w.prototype._state=0,w.prototype.state=function(){return this._state},w.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},w.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},w.prototype.visit=function(e,t,n,r){this.chain(X,e,t,n,r)},w.prototype.fold=function(e,t,n,r){this.when(new P(e,t,n,r))},Y(w,_),_.prototype.become=function(e){e.fail()};var X=new _;Y(w,x),x.prototype._state=0,x.prototype.resolve=function(e){this.become(v(e))},x.prototype.reject=function(e){this.resolved||this.become(new A(e))},x.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=T();return e},x.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},x.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&G.enqueue(this),void 0!==this.context&&e._report(this.context))},x.prototype.when=function(e){this.resolved?G.enqueue(new D(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},x.prototype.notify=function(e){this.resolved||G.enqueue(new O(e,this))},x.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},x.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},x.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},Y(w,E),E.prototype.when=function(e){G.enqueue(new D(e,this))},E.prototype._report=function(e){this.join()._report(e)},E.prototype._unreport=function(){this.join()._unreport()},Y(x,k),Y(w,C),C.prototype._state=1,C.prototype.fold=function(e,t,n,r){j(e,t,this,n,r)},C.prototype.when=function(e){R(e.fulfilled,this,e.receiver,e.resolver)};var Z=0;Y(w,A),A.prototype._state=-1,A.prototype.fold=function(e,t,n,r){r.become(this)},A.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),R(e.rejected,this,e.receiver,e.resolver)},A.prototype._report=function(e){G.afterQueue(new S(this,e))},A.prototype._unreport=function(){this.handled||(this.handled=!0,G.afterQueue(new M(this)))},A.prototype.fail=function(e){this.reported=!0,K("unhandledRejection",this),t.onFatalRejection(this,void 0===e?this.context:e)},S.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,K("unhandledRejection",this.rejection)||t.onPotentiallyUnhandledRejection(this.rejection,this.context))},M.prototype.run=function(){this.rejection.reported&&(K("rejectionHandled",this.rejection)||t.onPotentiallyUnhandledRejectionHandled(this.rejection))},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=H;var Q=new w,et=new t(w,Q);return D.prototype.run=function(){this.handler.join().when(this.continuation)},O.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],I(t.progress,this.value,this.handler,t.receiver,t.resolver)},L.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;F(this._then,this.thenable,e,t,n)},P.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},P.prototype.rejected=function(e){this.to.reject(e)},P.prototype.progress=function(e){this.to.notify(e)},t}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))}).call(t,n(26))},function(){},,,,,,,,,,,,,,,,,,function(e){"use strict";e.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g}},,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=arguments,a=n(67),s=i(a),u=n(641),l=i(u),c=n(466),p=i(c),h=n(1763),f=r(h),d=n(1764),m=r(d),g=n(1765),v=r(g),y=Object.assign({version:l["default"],url:function(e){return p["default"].url(e)},get:function(e){return s["default"].getJSON(p["default"].url(e))},getUser:function(e){var t=new s["default"].Deferred;return y.get("/users/"+e).done(function(e){return t.resolve(new User(e))}).fail(function(){return t.reject.apply(t,o)}),t.promise()},invite:function(e){var t=e.username,n=e.email,r=p["default"].url("/users/invite"),i={username:t,email:n};return p["default"].post(r,i).then(function(e){return new User(e)})}},f,m,v);t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=[];return Elements.each(function(t){var n=t.type(),r=t.label(),i=n?r+" ("+n+")":r;e.push({id:t.cid,value:r,label:i})}),_.sortBy(e,"label")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),s=n(46),u=r(s),l=13,c=a["default"].createClass({displayName:"ElementAutocomplete",mixins:[u["default"]],getDefaultProps:function(){return{up:!1,focus:!1,placeholder:"Element label"}},componentDidMount:function(){var e=this.$el("id"),t=this.$el("label"),n={source:i(),delay:0,minLength:1,appendTo:"body",focus:function(){return!1},select:function(n,r){return e.val(r.item.id),t.val(r.item.value),!1}};this.props.up&&(n.position={my:"middle bottom",at:"middle top"}),t.autocomplete(n),this.props.focus&&t.focus()},render:function(){var e=this.props,t=e.className,n=e.placeholder;return a["default"].createElement("div",{className:t},a["default"].createElement("input",{ref:"id",type:"hidden"}),a["default"].createElement("input",{ref:"label",type:"text",className:"form-control",placeholder:n,onKeyDown:this.handleKeyDown}))},handleKeyDown:function(e){e.keyCode===l&&this.props.onSubmit&&(this.close(),this.props.onSubmit())},value:function(){var e=this.$el("id"),t=this.$el("label"),n=e.val(),r=t.val().trim();return n?Elements.get(n):Elements.get(r.toLowerCase())||r},close:function(){this.$el("label").autocomplete("close")}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(1918),p=r(c),h=n(2088),f=r(h),d=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={conflictCount:0},e.eventsView=new f["default"],e.refresh=_.debounce(e.refresh.bind(e),300),Conflicts.on("add remove reset",e.refresh),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.eventsView.render()}},{key:"refresh",value:function(){this.setState({conflictCount:Conflicts.length})}},{key:"render",value:function(){var e=void 0,t=this.state.conflictCount;return e=t?l["default"].createElement("button",{className:"btn btn-danger btn-xs",onClick:this.handleConflicts},"Conflicts ",l["default"].createElement("span",{className:"badge"},t)):l["default"].createElement(p["default"],{view:this.eventsView,persistent:!0}),l["default"].createElement("div",{className:"activity-notification-bar"},e)}},{key:"handleConflicts",value:function(){Conflicts.show()}}]),t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=currentMap.get("default_element_behavior"),t=currentMap.get("default_connection_direction");return a["default"].createElement(s.MenuGroup,null,a["default"].createElement(s.MenuItem,{text:"Rename map",onClick:l["default"]("renameMap")}),a["default"].createElement(s.MenuItem,{text:"Duplicate map",onClick:l["default"]("duplicateMap")}),a["default"].createElement(s.MenuItem,{text:"Delete map",onClick:l["default"]("deleteMap")}),a["default"].createElement(s.MenuItem,{divider:!0}),a["default"].createElement(s.MenuItem,{text:"Default element behavior"},a["default"].createElement(s.MenuItem,{type:"checkbox",text:"Fixed",active:"fixed"===e,onClick:l["default"]("defaultToFixedElements")}),a["default"].createElement(s.MenuItem,{type:"checkbox",text:"Floating",active:"floating"===e,onClick:l["default"]("defaultToFloatingElements")})),a["default"].createElement(s.MenuItem,{text:"Default connection direction"},a["default"].createElement(s.MenuItem,{type:"checkbox",text:"Undirected",active:"undirected"===t,onClick:l["default"]("defaultToUndirectedConnections")}),a["default"].createElement(s.MenuItem,{type:"checkbox",text:"Directed",active:"directed"===t,onClick:l["default"]("defaultToDirectedConnections")}),a["default"].createElement(s.MenuItem,{type:"checkbox",text:"Mutual",active:"mutual"===t,onClick:l["default"]("defaultToMutualConnections")})),a["default"].createElement(s.MenuItem,{divider:!0}),a["default"].createElement(s.MenuItem,{text:"Make this the default map",onClick:l["default"]("makeDefaultMap")}))
}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1),a=r(o),s=n(101),u=n(716),l=r(u);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return s["default"].createElement(u.MenuGroup,null,s["default"].createElement(u.MenuItem,{text:"Rename project",onClick:o("rename")}),s["default"].createElement(u.MenuItem,{text:"Transfer project",onClick:o("transfer"),className:"hidden-organization-owned"}),s["default"].createElement(u.MenuItem,{text:"Convert project (public / private)",onClick:o("privacy")}),s["default"].createElement(u.MenuItem,{text:"Delete project",onClick:o("delete")}))}function o(e){return function(){var t=new(Views.Projects[e.capitalize()+"Modal"]);t.show()}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=n(1),s=r(a),u=n(101);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(718),p=r(c),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.colors;return l["default"].createElement("div",{className:"color-label-group"},this.props.children||e.map(this.renderColorLabel))}},{key:"renderColorLabel",value:function(e){return l["default"].createElement(p["default"],e)}}],[{key:"defaultProps",get:function(){return{colors:[]}}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={buttons:n(1787),dropdown:n(1789),labels:n(1790)};s["default"]=s.labels;var u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=s[this.props.as]||s["default"];return React.createElement(e,this.props)}}]),t}(React.Component);t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.rules={hide:new Lens},this.props=t,this.state={target:t.target||"*",visible:void 0}}return r(e,[{key:"setVisible",value:function(e){this.state.visible=e}},{key:"init",value:function(){}},{key:"update",value:function(){this.updateMap()}},{key:"updateMap",value:function(){var e=this.rules.hide,t=this.state,n=t.target,r=t.visible,i=currentScene.style.shadowRules,o=r?":filter("+n+"):not("+r+")":n;e.set({selector:o,declarations:{display:"none"}}),e.disabled="show-all"===this.props["default"]&&!r,i.add(e),map.requestRefresh()}},{key:"dispose",value:function(){var e=this.rules.hide;e.dispose(),e.destroy()}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){e.update(),n()}function n(){i.state.visible=r.selector(),i.updateMap()}var r=l["default"](e.props),i=new s["default"](e.props);return n(),{getState:function(){return o({},e.props,r.getControlState(t))},dispose:function(){i.dispose()}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(1270),s=r(a),u=n(643),l=r(u);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){e.update(),n()}function n(){a.state.active=!0,a.state.selector=i.selector(),a.refreshMap()}var r=e.props,i=l["default"](r),a=new s["default"](r);return n(),{getState:function(){return o({},e.props,i.getControlState(t))},dispose:function(){a.dispose()}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(1793),s=r(a),u=n(643),l=r(u);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Button=t.ButtonGroupControl=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=r(c),h=n(100),f=r(h),d=t.ButtonGroupControl=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selected:{},value:void 0},n}return s(t,e),l(t,[{key:"render",value:function(){return p["default"].createElement(f["default"],u({type:"button-group"},this.props),p["default"].createElement("div",{className:"interactive btn-group clearfix"},this.renderButtons()))}},{key:"renderButtons",value:function(){var e=this,t=p["default"].Children.map(this.props.children,function(t,n){var r={active:e.state.selected[n],onClick:e.handleClick.bind(e,t,n)};return p["default"].cloneElement(t,r)});return t}},{key:"handleClick",value:function(e,t){var n=void 0,r=void 0;this.props.multiple?(n=u({},this.state.selected),n[t]=!n[t],r=[],p["default"].Children.forEach(this.props.children,function(e,t){n[t]&&r.push(e.props.value)})):(n=i({},t,!0),r=e.props.value),this.setState({selected:n,value:r}),this.props.onChange(r)}}]),t}(p["default"].Component);t.Button=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e="btn";return this.props.active&&(e+=" active"),p["default"].createElement("button",{className:e,onClick:this.props.onClick},this.props.label||this.props.children)}}],[{key:"defaultProps",get:function(){return{active:!1}}}]),t}(p["default"].Component),t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=n(718),d=r(f),m=n(1268),g=r(m),v=n(1803),y=r(v),b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={colors:[]},n.refresh=n.refresh.bind(n),n}return a(t,e),u(t,null,[{key:"defaultProps",get:function(){return{colors:"auto"}}}]),u(t,[{key:"componentWillMount",value:function(){map.on("redecorate",this.refresh)}},{key:"componentWillUnmount",value:function(){map.off("redecorate",this.refresh)}},{key:"render",value:function(){return c["default"].createElement(h["default"],s({type:"color-legend"},this.props),this.renderColors())}},{key:"renderColors",value:function(){return this.props.children?c["default"].createElement(g["default"],null,this.props.children):this.state.colors}},{key:"refresh",value:function(){var e=this.props,t=e.colors,n=e.children;n||(("auto"===t||/^inherit/.test(t))&&(t=y["default"](t,this.props)),this.setState({colors:t}))}}]),t}(c["default"].Component),w=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.label,r=e.selector;return c["default"].createElement(d["default"],{color:t,label:n,selector:r})}}]),t}(c["default"].Component);b.Color=w,t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=n(722),d=(r(f),n(101)),m=r(d),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value},n.handleClick=n.handleClick.bind(n),n}return a(t,e),u(t,[{key:"render",value:function(){var e=this.state.value,t=this.props.placeholder;return c["default"].createElement(h["default"],s({type:"dropdown"},this.props),c["default"].createElement("div",{className:"interactive dropdown-toggle",onClick:this.handleClick},e||t," ",c["default"].createElement("i",{className:"fa fa-angle-down"})))}},{key:"handleClick",value:function(e){var t=this,n=c["default"].Children.map(this.props.children,function(e){var n=e.props.value;return c["default"].cloneElement(e,{onClick:t.handleSelect.bind(t,n)})}),r=c["default"].createElement(d.Menu,null,n);m["default"](r,{my:"right bottom",at:"right bottom",of:e.target})}},{key:"handleSelect",value:function(e){this.setState({value:e})}}]),t}(c["default"].Component),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value;return c["default"].createElement(d.MenuItem,s({},this.props,{text:t||n}))}}]),t}(c["default"].Component);g.Option=v,t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(720),h=r(p),f=n(1796),d=r(f),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.by;return e?c["default"].createElement(h["default"],s({},this.props,{field:e})):c["default"].createElement(d["default"],this.props)}}],[{key:"defaultProps",get:function(){return{multiple:!0,as:"labels"}}}]),t}(c["default"].Component);m.Option=c["default"].Component,t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(28),c=r(l),p=n(1),h=r(p),f=n(100),d=r(f),m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={label:"Forced legend",text:void 0},n.refresh=n.refresh.bind(n),n}return a(t,e),u(t,[{key:"componentWillMount",value:function(){map.on("redecorate",this.refresh)}},{key:"componentDidMount",value:function(){this.attachLegend(),this.refresh()}},{key:"componentWillUpdate",value:function(){this.detachLegend()}},{key:"componentDidUpdate",value:function(){this.attachLegend()}},{key:"componentWillUnmount",value:function(){map.off("redecorate",this.refresh),this.detachLegend()}},{key:"render",value:function(){var e=c["default"].defaults({},this.props,this.state);return h["default"].createElement(d["default"],s({type:"legend"},e),h["default"].createElement("div",{ref:"legendContainer"}))}},{key:"refresh",value:function(){var e=currentScene&&currentScene.legend,t=void 0,n=void 0;e&&e.shouldBeIncluded()&&(t=e.get("label"),n=e.get("summary")),this.setState({label:t,text:n})}},{key:"attachLegend",value:function(){map.display.legend.$el.appendTo(this.refs.legendContainer)}},{key:"detachLegend",value:function(){map.display.legend.$el.detach()}}]),t}(h["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return c["default"].createElement(h["default"],s({type:"search"},this.props),c["default"].createElement("div",{className:"input-group sync-scene-bg-trans"},c["default"].createElement("div",{className:"input-group-addon"},c["default"].createElement("i",{className:"icon-search"})),c["default"].createElement("input",{type:"text",className:"interactive form-control",placeholder:"Search",autocomplete:"off","data-track-click":"finder",onFocus:function(){return Workflows.openConsole()}})))}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){map.toggleSettingsForm()}function u(e){var t=new Views.Actionbar.FocusMenu;t.open(e.currentTarget,{my:"right middle",at:"left middle"})}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1),h=r(p),f=n(100),d=r(f),m=n(642),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={focused:!1},n.refresh=n.refresh.bind(n),n}return a(t,e),c(t,[{key:"componentDidMount",value:function(){Dispatch.on("scene.rebuild",this.refresh)}},{key:"componentWillUnmount",value:function(){Dispatch.off("scene.rebuild",this.refresh)}},{key:"render",value:function(){var e=this.state.focused;return h["default"].createElement(d["default"],l({type:"settings-toolbar"},this.props),h["default"].createElement(m.Toolbar,null,h["default"].createElement(m.ToolbarButton,{onClick:s,className:"map-settings-btn",title:"Settings",track:"settings",icon:"icon-settings"}),h["default"].createElement(m.ToolbarButton,{onClick:u,className:"focus-btn active",collapsed:!e,title:"Focus",track:"focus",icon:"icon-focus"})))}},{key:"refresh",value:function(){this.setState({focused:map.isFocused()})}}]),t}(h["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(721),h=r(p),f=n(723),d=r(f),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.by;return e?c["default"].createElement(h["default"],s({},this.props,{field:e})):c["default"].createElement(d["default"],this.props)}}],[{key:"defaultProps",get:function(){return{multiple:!0,as:"labels"}}}]),t}(c["default"].Component);m.Option=c["default"].Component,t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(277),h=r(p),f=n(100),d=r(f),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=h["default"](this.props.value);return c["default"].createElement(d["default"],s({type:"text"},this.props),c["default"].createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:e}}))}}],[{key:"defaultProps",get:function(){return{width:200}}}]),t}(c["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.value,t={fontSize:20};return c["default"].createElement(h["default"],s({type:"title"},this.props),c["default"].createElement("h1",{className:"title",style:t},e))}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=n(642),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return c["default"].createElement(h["default"],s({type:"zoom-toolbar"},this.props),c["default"].createElement(f.Toolbar,null,c["default"].createElement(f.ToolbarButton,{onClick:function(){return map.zoomIn()},title:"Zoom in",track:"zoom-in",icon:"icon-zoom-in"}),c["default"].createElement(f.ToolbarButton,{onClick:function(){return map.zoomOut()},title:"Zoom out",track:"zoom-out",icon:"icon-zoom-out"}),c["default"].createElement(f.ToolbarButton,{onClick:function(){return map.zoomFit()},title:"Zoom fit",track:"zoom-fit",icon:"glyphicon glyphicon-resize-small"})))}}]),t}(c["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n=Attributes.get(e),r=n?n.choices():[];if(t){var o=t.only,a=t.except;if(o)r=s["default"](o);else if(a){var u;r=(u=_).without.apply(u,[r].concat(i(s["default"](a))))}}return r.map(function(t){var n=Selector.prepareFieldSelector(e,"=",t);return{label:t,value:t,selector:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(1285),s=r(a);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(null===e||void 0===e)return[];var t=c(String(e));return t&&t.map(o)}function o(e){var t=e,n=t[0];return'"'!==n&&"'"!==n||(t=l["default"].unquote(t,n)),t=t.replace(/\\('|")/g,"$1")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=n(1151),s=r(a),u=n(1184),l=r(u),c=s["default"].list.comma;e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(1810),p=r(c),h=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.advanced;return l["default"].createElement("footer",{className:"map-settings-footer"},l["default"].createElement(p["default"],this.props),l["default"].createElement("button",{className:"switch-btn btn btn-flat btn-default btn-block",onClick:this.props.toggleAdvanced},"Switch to ",e?"basic":"advanced"," editor"))}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(101),p=r(c),h=n(1809),f=r(h),d=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleMenu=e.handleMenu.bind(e),e}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.perspectiveName;return l["default"].createElement("header",{className:"editor-header"},l["default"].createElement("h3",{className:"perspective-name"},l["default"].createElement("aside",null,"Current view"),e),l["default"].createElement("button",{className:"more-btn btn btn-default btn-flat",onClick:this.handleMenu},l["default"].createElement("i",{className:"icon-more"})))
}},{key:"handleMenu",value:function(e){p["default"](l["default"].createElement(f["default"],this.props),{my:"right top",at:"middle",of:e.currentTarget})}}]),t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t){"use strict";function n(e){e.editing=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.cancelEdit=n},function(e,t,n){"use strict";function r(e){var t=i.getSelectedCellValue(e);e.clipboard=t}Object.defineProperty(t,"__esModule",{value:!0}),t.copyValue=r;var i=n(77)},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteSelectedCell=r;var i=n(51);i.onDispatch(r,function(e){var t=e.actions;t.updateSelectedCell(void 0)})},function(e,t,n){"use strict";function r(e){var t=e.selection,n=e.visibleRecords,r=t[0],i=n[r];n=Array.from(n),n.splice(r,1),e.deletedEntity=i,e.visibleRecords=n}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteSelectedRow=r;var i=n(51),o=n(77);i.afterAction(r,function(e){var t=e.state,n=o.getBackboneComponent(t.deletedEntity),r=new ComponentSelection(n),i=new Commands.Components.Destroy(r);execute(i).then(null,function(e){log.error("Unable to delete row"),log.error(e),toastr.warning("Unable to delete row")})})},function(e,t){"use strict";function n(e,t){e.editing=t}Object.defineProperty(t,"__esModule",{value:!0}),t.edit=n},function(e,t,n){"use strict";function r(e,t){if(!e.readonly){var n=o.getSelectedCellAttribute(e),r=o.getSelectedCellEntity(e),a=o.getSelectedCellValue(e),s=i(n,a);e.editing={type:"entity",entity:r,attribute:n,value:a,initialValue:t,inline:s}}}function i(e){return"basic"===e.editor}Object.defineProperty(t,"__esModule",{value:!0}),t.editSelectedCell=r;var o=n(77)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){e.setAttr(c.key,p)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.visibleRecords,i=e.selection,a=o(i,2),l=a[0],c=(a[1],u.getSelectedCellAttribute(e)),p=u.getSelectedCellValue(e),h=new Transaction;h.summary="updated multiple **"+c.key+"** to **"+p+"**";for(var f=l+1;f<r.length;f++){var d=r[f],m=u.getBackboneEntity(d),g=u.getAttr(d,c);if(n.soft&&s["default"](g))break;u.setAttr(d,c,p),h.update(m,t)}execute(h).then(null,function(e){log.error(e),toastr.warning("Unable to save changes")})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.fillDown=i;var a=n(471),s=r(a),u=n(77)},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.moveDown=r;var o=n(51);o.onDispatch(r,function(e){var t=e.state,n=e.actions,r=t.readonly,o=t.selection,a=t.visibleRecords,s=i(o,2),u=s[0],l=s[1],c=r?a.length+1:a.length;c>u&&n.selectCell(u+1,l)})},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.moveLeft=r;var o=n(51);o.onDispatch(r,function(e){var t=e.state,n=e.actions,r=i(t.selection,2),o=r[0],a=r[1];a>0&&n.selectCell(o,a-1)})},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.moveRight=r;var o=n(51),a=n(77);o.onDispatch(r,function(e){var t=e.state,n=e.actions,r=i(t.selection,2),o=r[0],s=r[1],u=a.getSelectedAttributes(t);s<u.length-1&&n.selectCell(o,s+1)})},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.moveUp=r;var o=n(51);o.onDispatch(r,function(e){var t=e.state,n=e.actions,r=i(t.selection,2),o=r[0],a=r[1];o>0&&n.selectCell(o-1,a)})},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.pasteValue=r;var i=n(51);i.onDispatch(r,function(e){var t=e.state,n=e.actions;t.clipboard&&n.updateSelectedCell(t.clipboard)})},function(e,t,n){"use strict";function r(e,t,n,r){var o=i.getBackboneEntity(t),a=currentMap.edges.get(o),s=n.key,u=void 0;if(r)if(u=r.id?currentMap.nodes.get(r.id):currentMap.find(r),u||log.warn("TODO: element not found, add it",r),a&&s&&u){var l=t.attributes[s];t.attributes[s]=i.dumpElementRef(u.entity);var c=new Commands.Edges.Redirect(a,s,u);execute(c).then(null,function(e){t.attributes[s]=l,log.error("Unable to rebase connection"),log.error(e),toastr.warning("Unable to save changes")})}else toastr.warning("Connections can only be redirected to existing elements")}Object.defineProperty(t,"__esModule",{value:!0}),t.rebaseConnection=r;var i=n(77)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){return n(e)&&r(e)}function n(e){return!u||e.type===u}function r(e){return!!l["default"](c)||(!d||!g||g instanceof InvalidSelector?!m||!v||a(e):i(e))}function i(e){var t=h.getBackboneEntity(e);return g.selectEntity(t)}function a(e){return y.some(function(t){var n=h.getFormattedAttr(e,t);return s["default"](n)&&v.test(n)})}var u=e.type,c=e.filter,p=e.sortBy,f=e.sortAscending,d=void 0,m=void 0,g=void 0,v=void 0,y=void 0;if(c&&(Selector.isExplicit(c)?(d=!0,g=Selector.parse(Selector.toImplicit(c))):(m=!0,v=o(c),y=h.getSelectedAttributes(e))),e.visibleRecords=e.records.filter(t),p){try{e.visibleRecords.sort(function(e,t){var n=h.getFormattedAttr(e,p),r=h.getFormattedAttr(t,p);return String(n).localeCompare(String(r),void 0,{numeric:!0,sensitivity:"base"})})}catch(b){log.error("Unable to sort by attribute",p.key,p),log.error(b)}f||e.visibleRecords.reverse()}}function o(e){var t=!(e.startsWith("/")&&e.endsWith("/")),n=t?p["default"](e):e.slice(1,-1),r="i";return new RegExp(n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.refreshTable=i;var a=n(471),s=r(a),u=n(1382),l=r(u),c=n(1934),p=r(c),h=n(77)},function(e,t,n){"use strict";function r(e){var t=e.source,n=void 0;n="scene"===t?currentScene.graphs.visible.entities():"map"===t?currentMap.graph.entities():currentProject.entities(),e.records=n.map(function(e){var t=e.typeAttr,n=i({},a.dumpBackboneModel(e),{typeAttr:t});if(e.isConnection()){var r=e;n.attributes.from=a.dumpElementRef(r.from),n.attributes.to=a.dumpElementRef(r.to)}return n})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.reload=r;var o=n(51),a=n(77);o.afterAction(r,function(e){var t=e.actions;return t.refreshTable()})},function(e,t,n){"use strict";function r(){}function i(e,t){return"Connection"===e.type&&/^(from|to)$/.test(t.key)}Object.defineProperty(t,"__esModule",{value:!0}),t.saveEdit=r;var o=n(51);o.onDispatch(r,function(e,t){var n=e.state,r=e.actions,o=n.editing,a=n.newRecord;if(o&&"entity"===o.type){var s=o.entity,u=o.attribute;t!==o.value&&(i(n,u)&&s!==a?r.rebaseConnection(s,u,t):r.updateAttributeValue(s,u,t))}r.cancelEdit()})},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.saveEditAndShift=r;var i=n(51);i.onDispatch(r,function(e,t,n){var r=e.actions;r.saveEdit(t),"UP"===n?r.moveUp():"DOWN"===n?r.moveDown():"LEFT"===n?r.moveLeft():"RIGHT"===n&&r.moveRight()})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.type,n=e.newRecord,r=u({},n,{type:t,cid:"newRecord"+f++});e.pendingEntity=r,e.records=[].concat(e.records,r),e.visibleRecords=[].concat(e.visibleRecords,r),e.newRecord={attributes:{}}}function o(e){var t=new Commands.Forms.Create(currentMap);return t.transaction.beforeExecute(function(t,n){var r=n.find(function(e){return"create"===e.action&&e.model instanceof Element}),i=r.model;i.setAttrs(e.attributes),i.reify(),e.id=i.id}),t}function a(e){var t=h.getRawValue(e.attributes.from),n=h.getRawValue(e.attributes.to),r=c["default"].omit(e.attributes,"from","to"),i=new Commands.Forms.Connect(currentMap,t,n);return i.transaction.beforeExecute(function(t,n){var i=n.find(function(e){return"create"===e.action&&e.model instanceof Connection}),o=i.model;o.setAttrs(r),o.reify(),e.id=o.id}),i}function s(e){var t=e.attributes,n=new Commands.Loops.CreateAndPlace(currentMap,{attributes:t});return n.transaction.beforeExecute(function(t,n){var r=n.find(function(e){return"create"===e.action&&e.model instanceof Loop}),i=r.model;i.reify(),e.id=i.id}),n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.saveNewRecord=i;var l=n(28),c=r(l),p=n(51),h=n(77),f=1;p.afterAction(i,function(e){var t=e.state,n=(e.actions,t.pendingEntity),r=n.type,i=void 0;"Element"===r?i=o(n):"Connection"===r?i=a(n):"Loop"===r&&(i=s(n)),execute(i).then(function(){currentMap.graph.each(function(e){return e.selected&&e.deselect()}),MapController.bump()}).then(null,function(e){log.error(e),toastr.warning("Unable to save changes")})})},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.selectAndEditCell=r;var i=n(51);i.onDispatch(r,function(e,t,n){var r=e.actions;r.selectCell(t,n),r.editSelectedCell()})},function(e,t){"use strict";function n(e,t,n){e.editing=!1,e.selection=[t,n]}Object.defineProperty(t,"__esModule",{value:!0}),t.selectCell=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){e.filter=t}Object.defineProperty(t,"__esModule",{value:!0}),t.setFilter=i;var o=n(28),a=r(o),s=n(51);s.afterDispatch(i,function(e){var t=e.actions;t.refreshTableDebounced=t.refreshTableDebounced||a["default"].debounce(t.refreshTable,300),t.refreshTableDebounced()})},function(e,t,n){"use strict";function r(e,t){e.source=t}Object.defineProperty(t,"__esModule",{value:!0}),t.setSource=r;var i=n(51);i.afterDispatch(r,function(e){var t=e.actions;return t.reload()})},function(e,t,n){"use strict";function r(e,t){e.type=t}Object.defineProperty(t,"__esModule",{value:!0}),t.setType=r;var i=n(51);i.afterDispatch(r,function(e){var t=e.actions;return t.reload()})},function(e,t,n){(function(e){"use strict";function n(t,n,i){var o=r(t.selection,2),a=o[0],s=o[1];a+=n,s+=i,0>a&&(a=0),0>s&&(s=0),t.selection=[a,s],e.log("new selection is",t.selection)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.shiftSelection=n}).call(t,n(3))},function(e,t){"use strict";function n(e,t,n){e.attributes[t].selected=n}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleAttribute=n},function(e,t,n){"use strict";function r(e,t){e.sortBy===t?e.sortAscending===!0?e.sortAscending=!1:(delete e.sortBy,delete e.sortAscending):(e.sortBy=t,e.sortAscending=!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleAttributeSort=r;var i=n(51);i.afterAction(r,function(e){var t=e.actions;return t.refreshTable()})},function(e,t){"use strict";function n(e){e.showSettings=!e.showSettings}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleSettings=n},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleType=r;var i=n(51),o=["Element","Connection","Loop"];i.onDispatch(r,function(e){var t=e.state,n=e.actions,r=o.indexOf(t.type),i=r===o.length-1?0:r+1,a=o[i];n.setType(a)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r){c.setAttr(t,n,r)}function o(e,t,n){var r=c.getBackboneEntity(e),i=c.getAttrKeyForEntity(t,e),o=new Commands.Attributes.Set(r,i,n);execute(o).then(null,function(e){log.error(e),toastr.warning("Unable to save changes")})}function a(e){return Object.keys(e).every(function(t){return u["default"](e[t])})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateAttributeValue=i;var s=n(1382),u=r(s),l=n(51),c=n(77);l.afterAction(i,function(e,t,n,r){var i=e.state,s=e.actions;if(t===i.newRecord){if("Element"===i.type&&a(t.attributes))return;if("Loop"===i.type&&a(t.attributes))return;if(!("Connection"!==i.type||t.attributes.from&&t.attributes.to))return;s.saveNewRecord()}else o(t,n,r)})},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.updateSelectedCell=r;var i=n(51),o=n(77);i.onDispatch(r,function(e,t){var n=e.state,r=e.actions,i=o.getSelectedCellEntity(n),a=o.getSelectedCellAttribute(n);r.updateAttributeValue(i,a,t)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){a["default"](e,{my:"left-15 top-15",at:"middle",of:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.openContextMenu=i;var o=n(101),a=r(o)},function(e,t,n){"use strict";function r(e){var t=a(e.selection,2),n=(t[0],t[1]),r=s.getSelectedAttributes(e);return r[n]}function i(e){var t=e.selection,n=e.visibleRecords,r=e.newRecord,i=a(t,2),o=i[0];return i[1],o===n.length?r:n[o]}function o(e){var t=i(e),n=r(e);return s.getAttr(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getSelectedCellAttribute=r,t.getSelectedCellEntity=i,t.getSelectedCellValue=o;var s=n(727)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(1922),h=r(p),f=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleKeyPress=function(t){"Enter"===t.key&&e.submit()},e.handleFile=function(t){var n=e.refs.input.value;e.refs.input.value="",e.setState({uploadStatus:"pending"}),UploadHelper.uploadFile(t).then(function(t){e.refs.input.value=t,e.submit()})["catch"](function(t){log.error("Unable to upload image",t),alert("Unable to upload image"),e.refs.input.value=n,e.setState({uploadStatus:null})})},e.state={url:"",uploadStatus:null,onChange:function(){}},e}return a(t,e),u(t,[{key:"focus",value:function(){var e=this.refs.input;e.focus(),e.select()}},{key:"value",value:function(){return this.refs.input.value}},{key:"submit",value:function(){var e=this.value();this.props.onChange(e)}},{key:"render",value:function(){var e=this.props.value,t=this.state.uploadStatus,n="https://",r=!1;return"pending"===t&&(n="uploading image...",r=!0),c["default"].createElement("div",null,c["default"].createElement("div",{className:"form-group"},c["default"].createElement("input",s({ref:"input",type:"text",className:"form-control",name:"url",defaultValue:e},{placeholder:n,disabled:r},{onKeyPress:this.handleKeyPress}))),c["default"].createElement("div",{className:"form-group"},"Enter the image url above or ",c["default"].createElement(h["default"],{type:"link",label:"select a file",onChange:this.handleFile})))}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(751),l=r(u),c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.edges=new Set,n.callback=e,n.addInitialEdges(),n}return a(t,e),s(t,[{key:"addInitialEdges",value:function(){var e=map.getSelection();if(e.first(),1===e.length&&e.first().isLabel()){var t=e.first();this.selectEdges(t.edges)}this.selectEdges(e.edges()),this.notify()}},{key:"accept",value:function(e){return e.component&&e.component.isEdge()}},{key:"onMouseDown",value:function(e){e.component||(this.pan=new MouseActions.Pan(this.model),this.pan.start(e),this.setCursor(this.pan.cursor))}},{key:"onMouseDrag",value:function(e){this.pan&&this.pan.update(e)}},{key:"onMouseUp",value:function(){this.pan=null,this.resetCursor()}},{key:"onMouseMove",value:function(e){var t=void 0;t=e.component&&e.component.isEdge()?"pointer":e.component?"not-allowed":"default",this.setCursor(t)}},{key:"onMouseClick",value:function(e){this.handleSelect(e)}},{key:"onTouch",value:function(e){this.handleSelect(e)}},{key:"handleSelect",value:function(e){var t=e.component;if(t&&t.isEdge()){var n=t;this.edges.has(n)?this.deselectEdge(n):this.selectEdge(n),this.notify()}}},{key:"selectEdges",value:function(e){var t=this;e.forEach(function(e){return t.selectEdge(e)})}},{key:"selectEdge",value:function(e){this.edges.add(e);var t=currentScene.guide.get("fontColor");e.opacity=1,e.color=t,e.fontWeight=e.from.fontWeight=e.to.fontWeight="bold",e.size=3*e.style.size,e.invalidate()}},{key:"deselectEdge",value:function(e){this.edges["delete"](e),e.opacity=null,e.color=null,e.fontWeight=e.from.fontWeight=e.to.fontWeight=null,e.size=null,e.invalidate()}},{key:"notify",value:function(){this.callback(Array.from(this.edges))}},{key:"dispose",value:function(){var e=this;this.callback=null,this.edges.forEach(function(t){return e.deselectEdge(t)}),this.edges=null}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return/docs.google.com/.test(e)||/auth:googlesheets/.test(e)}function o(e){var t=$.Deferred(),n={apiKey:$("meta[name=google-client-api-key]").attr("content")},r=/^auth:/.test(e);if(r){var i=e,o=currentProject.authorizations.get(i);o||raise("Auth not found, "+i),e=o.sheet,n.proxy=function(e){return Api.getAuthProxyUrl(currentProject.id,i,e)}}return l["default"](e,n).then(function(e){return e.filter(s)}).then(function(e){return t.resolve(e)})["catch"](function(e){return t.reject(e)}),t.promise()}function a(e){return o(e).then(function(e){return e.map(function(e){return e.data})})}function s(e){return/\[ignore\]/.test(e.name)===!1}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2001),l=r(u);t["default"]={accept:i,fetch:o,fetchTableData:a},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1322),s=r(a),u=function(){function e(t){i(this,e),this.url=t}return o(e,[{key:"fetch",value:function(){return s["default"].fetch(this.url)}},{key:"name",value:function(){return this.url}},{key:"format",value:function(){return"spreadsheet"}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.level,n=e.message,r="error"===t?"remove":"warning";return l["default"].createElement("div",{className:"import-review-warning","data-level":t},l["default"].createElement("i",{className:"fa fa-"+r}),l["default"].createElement("div",{className:"content"},l["default"].createElement("h4",{className:"message"},n.title),l["default"].createElement("div",{className:"hint"},n.hint)))}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(1324),h=r(p);n(2477);var f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.warnings;if(0===e.length)return null;var t=e.map(function(e,t){return c["default"].createElement(h["default"],s({key:t},e))});return c["default"].createElement("div",{className:"import-review-warnings"},t)}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1883),o=r(i);t["default"]=o["default"],e.exports=t["default"]},function(e,t){"use strict";function n(e){return void 0===e?i:e.length>20||e.indexOf("\n")>=0?r:/\S+@\S+$/.test(e)?o:/^(www|http)/.test(e)?a:/%$/.test(e)?l:/^(\$|\xa3)/.test(e)?c:/\d{1,4}(\/|-)\d{1,2}(\/|-)\d{1,4}/.test(e)?p:/^[0-9()-\.]+$/.test(e)&&isNaN(Number(e))?s:isNaN(parseFloat(e))?i:u}Object.defineProperty(t,"__esModule",{value:!0}),t.guessType=n;var r=t.TEXT="text",i=t.STRING="string",o=t.EMAIL="email",a=t.URL="url",s=t.PHONE="phone",u=t.NUMBER="number",l=t.PERCENTAGE="percentage",c=t.CURRENCY="currency",p=t.DATE="date",h=t.types=[r,i,o,a,s,u,l,c,p];t["default"]=h},function(e,t){"use strict";function n(e){return Array.isArray(e)?e:Array.from(e)}function r(e){if(e.data.length>0){var t=a(e.data,1),n=t[0];return new Set(n.map(s))}return new Set}function i(e){return function(t){var n=a(t.data,1),r=n[0];return r.map(s).includes(s(e))}}function o(e,t){var r=n(e.data),i=r[0],o=r.slice(1);o.forEach(function(e,n){e.forEach(function(e,r){var o=[n,r].map(String),a=s(i[r]);t(e,a,o)})})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getHeaders=r,t.hasField=i,t.forEachCell=o;var s=function(e){return(e||"").toLowerCase().trim()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var r=!1,i=e;if(t){var a=_.groupBy(e,o(t));if(a=_.pairs(a),a=_.sortBy(a,function(e){var t=e[1].length;return r?t:-t}),n){var s=o(n);a.forEach(function(e){e[1]=_.sortBy(e[1],s)})}i=[],a.forEach(function(e){i=i.concat(e[1])})}else n&&(i=_.sortBy(e,o(n)));return i}function o(e){var t=Attributes.get(e),n=t&&t.typed(),r=1/0,i=function(e){var t=n?n.parse(e):e;return s["default"](t,r)};return function(t){var n=t.entity||t,r=n.getAttr(e);return i(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=n(1943),s=r(a);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(t){var n=map.getSelection();return t.component&&n.include(t.component)?o(e):new MouseActions.Pan}return u(t)}function o(e){return{update:function(t){var n=e.shape.center,r=t.world.drag.delta;n.x+=r.x,n.y+=r.y,e.update()}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=n(730),s=r(a),u=s["default"].drag;e.exports=t["default"]},function(e,t,n){"use strict";function r(e){function t(t){return function(n,r){e.options[t]=r?n:void 0,e.update()}}function n(){e.shape.center={x:0,y:0},e.update()}var r=e.options,a=r.groupBy,s=r.sortBy;return React.createElement(o.Menu,null,i("Group by",a,t("groupBy")),i("Sort by",s,t("sortBy")),React.createElement(o.MenuItem,{text:"Snap to center",onClick:n}))}function i(e,t,n){var r=Attributes.visibleAttributes(),i=r.map(function(e){var r=e.label(),i=e.get("name"),a=i===t,s=function(){return n(i,!a)};return React.createElement(o.MenuItem,{type:"checkbox",text:r,active:a,onClick:s})});return React.createElement(o.MenuItem,{text:e},React.createElement(o.MenuItem,{text:e,header:!0}),i)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(101);e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n){return new Promise(function(r,i){var o=void 0,a=void 0;log.info("Add member",e,t,n),/@/.test(t)?a=t:o=t;var s=new Membership({project:e.id,role:n,user:t});s.user=new User({username:o,email:a}),e.memberships.add(s),Api.invite({username:o,email:a}).then(function(e){return s.user=e,s.save()}).then(function(){log.info("Member added",o,s),r(s)})["catch"](function(){s.user.isNew()?log.error("User not found",o):log.error("Unable to add member",o),s.destroy(),i(s)})})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){o["default"](React.createElement(s["default"],null))};var i=n(468),o=r(i),a=n(1863),s=r(a);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o["default"](React.createElement(s["default"],e))};var i=n(468),o=r(i),a=n(1864),s=r(a);e.exports=t["default"]},function(e,t){"use strict";function n(e){var t={pinned:currentMap.isFixed(),position:e.world.location.toJSON()};return Workflows.beginAddElement({nodeAttributes:t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){o["default"](React.createElement(s["default"],null))};var i=n(468),o=r(i),a=n(1865),s=r(a);e.exports=t["default"]},function(e,t){"use strict";function n(){map.resetFocus()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){(function(r,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(){return new Promise(function(e){function t(){u.addClass("leave"),When().delay(1e3).done(function(){i(u.get(0)),u.remove(),e()})}u=$("<div class='map-wizard-container'>").appendTo("body"),r(c["default"].createElement(h["default"],{done:t}),u.get(0))})}function s(){return Workflows.promptIfViewNotSaved().then(function(e){return e&&a()})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var u,l=n(1),c=o(l),p=n(1828),h=o(p);e.exports=t["default"]}).call(t,n(102),n(150))},function(e,t){"use strict";function n(){return Workflows.updateMapSettings("default_connection_direction","directed")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){return Workflows.updateMapSettings("default_element_behavior","fixed")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){return Workflows.updateMapSettings("default_element_behavior","floating")
}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){return Workflows.updateMapSettings("default_connection_direction","mutual")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){return Workflows.updateMapSettings("default_connection_direction","undirected")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e){return new Promise(function(t,n){var i=e.clone(),o=e.get("title")+" (copy)",a=i.get("slides").map(function(e){var t=r({},e,{screenshot:void 0,preview:void 0});return t.bounds&&(t.bounds=r({},t.bounds)),t});i.set({title:o,slides:a}),i.unset("created_at"),i.unset("updated_at");var s=new Transaction;s.summary="created presentation **"+o+"**",s.create(i),execute(s).done(function(){Presentations.add(i),t(i)}).fail(function(e){alert("Unable to duplicate presentation"),log.error(e),n(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image";h["default"](c["default"].createElement(m,{entity:e,field:t}))}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=s;var l=n(1),c=r(l),p=n(241),h=r(p),f=n(1320),d=r(f),m=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;s>l;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleCancel=function(){r.props.close()},r.handleSave=function(){var e=r.props.entity,t=r.refs.editor.value(),n=new Commands.Elements.AddImage(e,t);execute(n).then(null,function(){return alert("Unable to update image")}),r.props.close()},a=n,o(r,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.refs.editor.focus()}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.field,r=t.getAttr(n);return c["default"].createElement("div",null,c["default"].createElement(d["default"],{ref:"editor",value:r,onChange:this.handleSave}),c["default"].createElement("footer",{className:"clearfix"},c["default"].createElement("div",{className:"btn-group pull-right"},c["default"].createElement("button",{className:"btn btn-default",onClick:this.handleCancel},"Cancel"),c["default"].createElement("button",{className:"btn btn-success",onClick:this.handleSave},"Save"))))}}]),t}(c["default"].Component);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=map.getSelection().first(),t=e.entity;a["default"](React.createElement(u["default"],{loop:t}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(468),a=r(o),s=n(1866),u=r(s);e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};swal(r({type:"error",title:"Sorry",text:e},t))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){function e(e,t){var i=n[e.cid]="Element "+(t+1);r.elements.push({label:i})}function t(e){var t=n[e.from.cid],i=n[e.to.cid];r.connections.push({from:t,to:i})}var n={},r={elements:[],connections:[]};currentScene.nodes.forEach(e),currentScene.edges.forEach(t);var i="anonymous-network-"+uuid(5)+".json",o="application/json;charset=utf-8",a="utf8";return download(JSON.stringify(r),{filename:i,type:o,encoding:a}),r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){var e=new Transaction;e.summary="fixed element labels",Elements.each(function(t){var n=t.label();n&&n.charCodeAt&&n.charCodeAt(0)===i&&e.update(t,r)}),execute(e).then(function(){return notice("Element labels fixed")}).then(null,function(){return alert("Unable to fix element labels")})}function r(e){e.setAttr("label",e.label().slice(1))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var i=16;e.exports=t["default"]},function(e,t){"use strict";function n(e,t){var n=void 0;"number"==typeof e&&(t=e,e=void 0),e=e||map.getExplicitSelector(),n=e?[{root:e,degree:t}]:map.getSelectedComponents().map(function(e){return{root:e,degree:t}}),map.refocus({roots:n,degree:t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){Modal.open("fork")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return l["default"].enabled?l["default"].isFullscreen?a(e):o(e):void 0}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0;e.mapOnly&&(t=map.el,$("body").addClass("fullscreen-map-only")),l["default"].request(t)}function a(){$("body").removeClass("fullscreen-map-only"),l["default"].exit()}function s(){map.isFullscreen=l["default"].isFullscreen,map.isFullscreen||$("body").removeClass("fullscreen-map-only")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=n(1571),l=r(u);l["default"].enabled&&document.addEventListener(l["default"].raw.fullscreenchange,s),e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=e?[e]:map.getSelectedComponents(),n=t.map(function(e){return"#"+e.entity.id}).join(", "),r=currentScene.style.filter.get("ignore");r=r?r+", "+n:n,map.setSetting("ignore",r)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){o["default"](React.createElement(s["default"],null))};var i=n(241),o=r(i),a=n(1881),s=r(a);e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=new Import(e);return t.process().then(function(){return execute(new Commands.Imports.Finalize(t))})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){return Workflows.makeDefaultPerspective(currentMap)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:0,force:!1},n=l[e],r="onboard."+e+".ignore";if(t.force||!Settings.user.has(r)){var i=function(){var e=void 0;t.force||(e=function(){return Settings.user.set(r)}),a["default"](React.createElement(u["default"],{cards:n,onIgnore:e}),{className:"onboarding-modal",closeButton:!1})};t.delay?setTimeout(i,t.delay):i()}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(241),a=r(o),s=n(1840),u=r(s),l={focus:n(1841),dataeditor:n(1861)};e.exports=t["default"]},function(e,t){"use strict";function n(){var e=map.overlays.console.getReactComponent();e.show()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){a["default"](React.createElement(u["default"],null),{fullscreen:!0,locked:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(241),a=r(o),s=n(1842),u=r(s);e.exports=t["default"]},function(e,t){"use strict";function n(){return new Promise(function(e,t){function n(t){e(t)}function r(){t()}Workflows.beginAddElement({onSubmit:n,onCancel:r})})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){return new Promise(function(e){map.shouldPromptForUnsavedViewChanges()?(map.showSettingsForm(),swal(r,function(t){t?Workflows.saveToPerspective().then(function(){return e(!0)},function(){return e(!1)}):e(!1)})):e(!0)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r={title:"Unsaved Changes",text:"Would you like to save before leaving?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Save & Continue",closeOnConfirm:!0,closeOnCancel:!0};e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){return r?Promise.resolve():Workflows.preloadMaps()}function n(){return new Promise(function(t){function n(e){f.push(function(){u(e)}),l(e,"nodes"),l(e,"edges"),l(e,"labels")}function i(e){return function(t){f.push(function(){return e(t)})}}function u(e){var t=o(e);m.add(t,!1)}function l(e,t){var n=e[t];n.each(function(t){f.push(function(){c(e,t)})})}function c(e,t){var n=t.entity;if(n.hasAttr("label")){var r=t.className+"-"+t.cid+"-"+e.cid,i=n.getAttr("label"),o=a(n.attrs.attributes),s={id:r,title:i,body:o};m.add(s,!1)}}var p=e&&e.progress;m=currentProject.index=h["default"](function(){this.ref("id"),this.field("title",{boost:10}),this.field("body")}),m.invalidate=s;var f=[];return r?(g=currentMap,n(currentMap)):(g=void 0,Maps.each(n),Perspectives.each(i(u))),d["default"](f,1,{progress:p}).then(function(){t(m)})})}var r=Settings.restrictSearchToCurrentMap();return v||u(),r&&currentMap!==g&&s(),m?Promise.resolve(m):t().then(n)}function o(e){var t=e.className+"-"+e.cid,n=e.toString(),r=void 0;r=e instanceof Entity?e.attrs.attributes:e.attributes;var i=a(r);return{id:t,title:n,body:i}}function a(e){var t="";for(var n in e){var r=e[n];if(r){if(/^data:/.test(r))continue;t+=c["default"].isArray(r)?" "+r.join(" ")+" ":" "+r+" "}}return t}function s(){m=void 0}function u(){v=!0,Elements.on("all",s),Connections.on("all",s),Loops.on("all",s),function(e){XMLHttpRequest.prototype.send=function(){return s(),e.apply(this,arguments)}}(XMLHttpRequest.prototype.send)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var l=n(28),c=r(l),p=n(797),h=r(p),f=n(1996),d=r(f),m=void 0,g=void 0,v=!1;e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=e.getAttr("url");if(t)if(r=r||new LightboxHandler,r.acceptUrl(t))r.open(t);else{var n=router.localUrlFor(t);n?router.navigate(n,{trigger:!0}):window.open(t,"_blank")}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=void 0;e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.user.get("email");Api.invite({email:t}).then(function(){return log.info("Invitation sent to",t)})["catch"](function(){return log.error("Unable to resend invitation to",t)})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){a["default"](React.createElement(u["default"],{source:e,failedRemoteImport:!0}),{fullscreen:!0,locked:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(241),a=r(o),s=n(1326),u=r(s);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return e instanceof s["default"]&&e.isBlueprint()?map["import"](e.file):void o["default"](React.createElement(l["default"],{source:e}),{fullscreen:!0,locked:!0})};var i=n(241),o=r(i),a=n(652),s=r(a),u=n(1326),l=r(u);e.exports=t["default"]},function(e,t){"use strict";function n(e,t){var n=currentProject,i=n.index;if(i){var o=i.search(e),a=o.map(r);return t&&t.project||(a=u(a)),a}return[]}function r(e){return i(e.ref)}function i(e){var t=e.split("-"),n=l(t,3),r=n[0],i=n[1],u=n[2];switch(r){case"Map":return Maps.get(i);case"Perspective":return Perspectives.get(i);case"Element":return Elements.get(i);case"Connection":return Connections.get(i);case"Loop":return Loops.get(i);case"Node":return o(u,i);case"Edge":return a(u,i);case"Label":return s(u,i)}}function o(e,t){var n=Maps.get(e);return n.nodes.get(t)}function a(e,t){var n=Maps.get(e);return n.edges.get(t)}function s(e,t){var n=Maps.get(e);return n.labels.get(t)}function u(e){return e.filter(function(e){return e.map===currentMap})}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){map.setMode(a["default"])}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1901),a=r(o);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){map.setMode(a["default"](e))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1903),a=r(o);e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};swal(r({timer:2e3,type:"success",title:"Success",text:e,showConfirmButton:!1},t))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){detour("ADD_BUTTON","above",".add-btn @ right middle","\n    This is the <strong>add button</strong>. You can use it to add elements\n    and connections to your map, or import data from a spreadsheet.\n  "),detour("PROJECT_NAV","below",".project-nav @ middle middle","\n    This is the <strong>project nav</strong>. You can use it to switch\n    between maps and views, or add new ones.\n  "),detour("MAP_SETTINGS_BUTTON","left",".map-settings-btn @ left-5 middle","\n    This is the <strong>settings button</strong>. You can use it to make\n    changes to the current view, such as controlling which elements and\n    connections are visible and what they look like.\n  "),detour("SIDEBAR","right",".sidebar-toggle @ left-5 middle","\n    This is the <strong>sidebar</strong>. You can use it to supply\n    background information about your map and the elements and connections\n    within it.\n  ")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){var n=t.get("src");if(log.error("Unable to open map",e),r(e))log.error("Payment required"),swal({type:"error",title:"Payment required",text:"This account is currently overdue. Premium add-ons have temporarily been disabled until payment is made."});else if(i(n))log.error("Google Sheets (Private) add-on required"),swal({type:"error",title:"Add-on required",text:"This map is linked to a private Google Sheet. The Google Sheets (Private) add-on must be installed to access it."});else if(o(n,e)){var a="Unable to open map",s="Please make sure the source url is available to anyone with the link: "+n;log.error("Unable to fetch remote src",n),/docs.google.com/.test(t.get("src"))&&(a="Unable to access Google Sheet",s="Please enable link sharing so we can access the spreadsheet: "+n),swal({type:"error",title:a,text:s})}else swal({type:"error",title:"Unable to open map",text:"Sorry, we weren't able to open this map. Please email support@kumu.io for help."})}function r(e){return 402===a(e)}function i(e){return/^auth:googlesheets:/.test(e)&&!currentProject.addons.isInstalled("google-sheets-private")}function o(e,t){return e&&403===a(t)}function a(e){return e&&e.response&&e.response.status||void 0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(){var e=Events.last();e&&e.isUndoable()&&e.undo()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=e.save({"private":!1,token:void 0,password:void 0});return Promise.resolve(t).then(function(){var t=e.publication;return t?t.destroy().then(function(){e.publication=void 0}):Promise.resolve()})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){var n=new Commands.Maps.UpdateSettings(currentMap,e,t);return execute(n).fail(function(){alert("Unable to update map settings. Please try again.")})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value},n.handleChange=n.handleChange.bind(n),n.handleChangeNotification=_.debounce(n.handleChangeNotification.bind(n),e.wait),n}return a(t,e),s(t,null,[{key:"defaultProps",get:function(){return{value:"",wait:1e3}}}]),s(t,[{key:"componentWillReceiveProps",value:function(e){if(e.hasOwnProperty("value")){var t=e.value;this.setState({value:t})}}},{key:"render",value:function(){var e=this.state.value;return l["default"].createElement("input",{type:"text",className:"form-control",value:e,onChange:this.handleChange})}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t},this.handleChangeNotification)}},{key:"handleChangeNotification",value:function(){this.props.onChange(this.state.value)}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(67),l=r(u),c=n(1),p=r(c),h=n(44),f=r(h),d=(n(629),function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeOnOutsideClick=n.closeOnOutsideClick.bind(n),n}return a(t,e),s(t,null,[{key:"defaultProps",get:function(){return{locked:!1,closeButton:!0,fullscreen:!1}}}]),s(t,[{key:"componentDidMount",value:function(){l["default"](".modal-overlay").css("position","static"),setTimeout(function(){return l["default"](".modal-overlay").css("position","")},0)}},{key:"render",value:function(){var e=this.props,t=e.locked,n=e.closeButton,r=n&&!t,i=f["default"]("modal-overlay modal-inline",this.props.className,{fullscreen:this.props.fullscreen});return p["default"].createElement("div",{ref:"modal",className:i,onClick:this.closeOnOutsideClick},r&&p["default"].createElement("button",{className:"close"},"close ",p["default"].createElement("i",{className:"fa fa-times"})),p["default"].createElement("div",{className:"wrap"},p["default"].createElement("div",{ref:"content",className:"content"},this.props.children)))}},{key:"closeOnOutsideClick",value:function(e){this.props.locked||l["default"].contains(this.refs.content,e.target)||this.props.close()}}]),t}(p["default"].Component)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return p["default"].createElement("div",{className:"inline-modal-container"},this.props.open&&this.renderModal())}},{key:"renderModal",value:function(){return p["default"].createElement(d,this.props,this.props.children)}}],[{key:"defaultProps",get:function(){return{open:!1}}}]),t}(p["default"].Component);t["default"]=m,e.exports=t["default"]},,function(e,t){"use strict";function n(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);var a=new DataView(r),s=new Blob([a],{type:n});return s}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return!a["default"](e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(471),a=r(o);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(44),s=r(a),u=o["default"].createClass({displayName:"PublicationCoverView",render:function(){var e,t=this.props.presentation,n=t.attribution;t.image&&(e={backgroundImage:"url("+t.image+")"});var r=s["default"]("article-cover",{"with-cover-image":!!t.image,center:!0});return o["default"].createElement("div",{className:r},o["default"].createElement("div",{className:"cover-image",style:e}),o["default"].createElement("div",{className:"absolute-center-2"},o["default"].createElement("div",{className:"title-container"},o["default"].createElement("h1",{className:"article-title"},t.title||"Untitled"),o["default"].createElement("p",{className:"article-subtitle"},t.subtitle),o["default"].createElement("p",{className:"text-center"},o["default"].createElement("button",{className:"btn start-btn",onClick:this.props.onStart},"Start presentation")))),n&&o["default"].createElement("div",{className:"cover-image-attribution"},n))}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1),i=n(67),o=n(1956),a={cover:n(1959),map:n(1962),text:n(1963),image:n(1961),embed:n(1960)},s=r.createClass({displayName:"SlideView",getDefaultProps:function(){return{mode:"normal",aspect:"sd"}},componentWillReceiveProps:function(e){var t=e.slide.id!==this.props.slide.id||e.slide.type!==this.props.slide.type||e.slide.sidebar!==this.props.slide.sidebar||e.slide.legend!==this.props.slide.legend;this.shouldResize="preview"===this.props.mode&&this.props.slide.type!==e.slide.type,this.shouldUpdateMap=t},componentDidMount:function(){var e=this.getMapContainer();e.appendTo(this.refs.el),i(window).on("resize.prez",this.resize),this.updateMap()},componentDidUpdate:function(){this.shouldResize&&this.resize(),this.shouldUpdateMap&&this.updateMap()},componentWillUnmount:function(){i(window).off("resize.prez");var e=this.getMapContainer();e.appendTo("body")},getMapContainer:function(){return i(map.__presentation?".map":".explorer")},update:function(){this.setState(Store.getState())},render:function(){var e=this.props.slide.type,t=a[e],n="slide-view "+e+"-slide-view";return r.createElement("div",{ref:"el",className:n},r.createElement(t,this.props))},resize:function(){var e=i(this.refs.el);if("map"===this.props.slide.type)if("preview"===this.props.mode){var t=e.parent(),n=20,r=10,o=t.width()-2*r,a=t.height()-2*n,s="sd"===this.props.aspect?4/3:16/9,u=o,l=o/s;l>a&&(l=a,u=a*s);var c=(a-l)/2,p=(o-u)/2;c+=n,p+=r,e.css({width:u,height:l,top:c,left:p}),map.resize(u,l)}else map.resize("100%","100%");else e.removeAttr("style")},updateMap:function(){o(this.props.slide)}});e.exports=s},function(e,t,n){"use strict";function r(){return Presentations.fetchWithPublications().then(function(){return Presentations.models})}var i=n(65),o=n(220),a=(n(440),{status:void 0,currentPresentation:null}),s=i.createStore({init:function(){this.listenToMany(o)},getStatus:function(){return a.status},getPresentations:function(){return Presentations.models},getCurrentPresentation:function(){return a.currentPresentation},onFetchPresentations:function(){a.status="loading",this.trigger(),r().then(this.onFetchPresentationsDone,this.onFetchPresentationsFail)},onFetchPresentationsDone:function(){a.status=void 0,this.trigger(),Presentations.on("add remove reset",this.trigger.bind(this))},onFetchPresentationsFail:function(){a.status="error",this.trigger()},onNewPresentation:function(){a.currentPresentation=Presentations.add(),this.trigger()},onSelectPresentation:function(e){a.currentPresentation=e,this.trigger()},onDeselectPresentation:function(){a.currentPresentation=null,this.trigger()},onUpdatePresentation:function(e){a.currentPresentation.set(e),this.trigger()},onDeletePresentation:function(){a.currentPresentation.destroy(),a.currentPresentation=null,this.trigger()}});e.exports=s},function(e,t,n){"use strict";var r=n(65),i=n(741),o=r.createStore({init:function(){this.index=0,this.presentation=null,this.listenToMany(i)},getInitialState:function(){return this.getState()},getState:function(){var e={index:this.index,presentation:this.presentation};return this.presentation&&(e.slide=this.presentation.slides[this.index],e.isFirstSlide=this.isFirstSlide(),e.isLastSlide=this.isLastSlide()),e},isFirstSlide:function(){return 0===this.index},isLastSlide:function(){return this.presentation&&this.index===this.presentation.slides.length-1},onLoad:function(){this.presentation=window.presentation,this.notify()},onPrev:function(){this._jump(this.index-1)},onNext:function(){this._jump(this.index+1)},onJump:function(e){this._jump(e)},notify:function(){this.trigger(this.getState())},_jump:function(e){e=Math.max(0,Math.min(e,this.presentation.slides.length-1)),e!==this.index&&(this.index=e,this.notify())}});e.exports=o},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments[1],a=u["default"](i.type),s=e[a];return s?s.apply(void 0,[n].concat(o(i.payload))):r.warn("Unhandled action",i.type,i),n}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=n(2085),u=i(s);e.exports=t["default"]}).call(t,n(3))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){f.push([e,t])}function o(e,t,n,r){for(var i=t.join(" ")+" "+n,o=r,s=0;s<f.length;s++){var u=a(f[s],2),l=u[0],c=u[1];if(l.test(i)){var p=c[e]||c;"function"==typeof p&&(o=1===p.length?p(o):2===p.length?p(n,o):p(t,n,o))}}return o}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(1999),u=r(s),l=n(1389),c=r(l),p=n(1390),h=r(p),f=[];i(/@controls .* cluster (option|clusterOption) value$/,c["default"]),i(/@controls .* dropdown option value$/,u["default"]),i(/@controls .* title value$/,u["default"]),i(/@controls .* text value$/,u["default"]),i(/@controls .* label value$/,u["default"]),i(/@controls .* image src$/,u["default"]),i(/@controls .* (field|placeholder)$/,u["default"]),i(/@settings cluster$/,c["default"]),i(/@settings focus$/,h["default"]),i(/.*(title|label|text|summary)$/i,u["default"]),i(/layout(X|Y)$/,u["default"]),t["default"]={invoke:o},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){var t=[];if(e&&"none"!==e)try{t=o(e)}catch(n){log.warn("Unable to parse cluster, "+e)}return t}function i(e){var t=e.map(function(e){var t=e.selector,n=e.attribute,r=e.type,i="";return t&&(i+=t+" by "),i+='"'+n+'"',(r||""===r)&&(i+=' as "'+r+'"'),i}).join(", ");return t}function o(e){var t=e.split(/,/g).map(function(e){var t=e.trim().split(/(?:\s(?:by|as)\s)/g),n=void 0,r=void 0,i=void 0;if(1===t.length)r=t[0];else if(2===t.length)if(-1===e.indexOf(" by ")){var o=a(t,2);r=o[0],i=o[1]}else{var u=a(t,2);n=u[0],r=u[1]}else if(3===t.length){var l=a(t,3);n=l[0],r=l[1],i=l[2]}return r=s.unquote(r),i=s.unquote(i),{selector:n,attribute:r,type:i}});return t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(742);t["default"]={parse:r,stringify:i},e.exports=t["default"]},function(e,t){"use strict";function n(e){var t={required:!1,roots:[]};if("prompt"===e)t.required=!0;else if(e&&"none"!==e){var n=e.split(/\s*,\s*prompt$/),r=i(n,2),o=r[0],a=r[1];t.required=""===a,o.split(",").forEach(function(e){var n=e.match(/^(.+?)(?:\sout\s(\d+))?$/i);if(n){var r=n[1].trim(),i=n[2]?Number(n[2]):0;t.roots.push({root:r,degree:i})}})}return t}function r(e){var t=[];e.roots.forEach(function(e){var n=e.root,r=e.degree,i=0===r?n:n+" out "+r;t.push(i)});var n=t.join(", ");return e.required&&(n=n?n+", prompt":"prompt"),n}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.parse=n,t.stringify=r,t["default"]={parse:n,stringify:r}},function(e,t){"use strict";function n(e){return e.includes("docs.google.com")?e.match(/[^\/]{30,}/)[0]:e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},,,,,function(e,t){"use strict";function n(e){return a.test(e)}function r(e){var t=e.match(a)[1],n=t.split(/\s*,\s*/).map(Number),r=void 0,s=void 0,u=void 0;if(1===n.length)r=s=0,u=n[0];else{var l=o(n,3);r=l[0],s=l[1],u=l[2]}var c={center:{x:r,y:s},radius:u};return function(e){return i(e,c)
}}function i(e,t){var n=t.radius,r=t.center,i=-Math.PI/2,o=2*Math.PI/e.length,a={};return e.forEach(function(e,t){var s=i+t*o,u=r.x+n*Math.cos(s),l=r.y+n*Math.sin(s);a[e.cid]={x:u,y:l}}),function(e){return a[e.cid]}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.accept=n,t.parse=r,t.position=i;var a=/circle\((.*?)\)/i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return v.test(e)}function o(e){var t=e.match(v),n=d(t,3),r=n[1],i=n[2],o=i.split(/\s*,\s*/).map(Number),c=void 0;return c="horizontal-line"===r?s(o):"vertical-line"===r?u(o):"diagonal-line"===r?l(o):o,c[1]=-c[1],c[3]=-c[3],function(e){return a(e,c)}}function a(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;if("function"==typeof t&&(t=t(e)),t.center){var a=t,s=a.center,u=a.angle,l=a.length,c=g["default"](u);n=s.x-Math.cos(c)*l/2,r=s.y-Math.sin(c)*l/2,i=s.x+Math.cos(c)*l/2,o=s.y+Math.sin(c)*l/2}else{var p=t,h=d(p,4);n=h[0],r=h[1],i=h[2],o=h[3]}var f=e.length-1,m=(i-n)/f,v=(o-r)/f,y={};return e.forEach(function(e,t){var i=n+t*m,o=r+t*v;y[e.cid]={x:i,y:o}}),function(e){return y[e.cid]}}function s(e){var t=0,n=void 0;return 1===e.length?n=e[0]:(t=e[0],n=e[1]),n&&"auto"!==n?p(t,n):function(r){return n=c(r,e[2]),p(t,n)}}function u(e){var t=0,n=void 0;return 1===e.length?n=e[0]:(t=e[0],n=e[1]),n&&"auto"!==n?h(t,n):function(r){return n=c(r,e[2]),h(t,n)}}function l(e){var t=Math.PI/4,n=e[0];return n&&"auto"!==n?f(t,n):function(r){return n=c(r,e[1]),f(t,n)}}function c(e,t){return(e.length-1)*(t||y)}function p(e,t){var n=-t/2,r=e,i=+t/2,o=e;return[n,r,i,o]}function h(e,t){var n=e,r=-t/2,i=e,o=+t/2;return[n,r,i,o]}function f(e,t){var n=Math.sin(e)*t,r=-n/2,i=-n/2,o=+n/2,a=+n/2;return[r,i,o,a]}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.accept=i,t.parse=o,t.position=a;var m=n(1941),g=r(m),v=/((?:(?:horizontal|vertical|diagonal)-)?line)\((.*?)\)/i,y=100},function(e,t,n){"use strict";function r(e,t){var n=t.type,r=i[n],a=r.position(e,t);e.forEach(function(e){var t=a(e);t&&e.updatePosition(t.x,t.y,o)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i={circle:n(1396),line:n(1397)},o=!0;e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return this instanceof i?(t=t||{},this.id=o(),this.handle=e,this.description=t.description,this.deferred=When.defer(),this.promise=this.deferred.promise,this.events=_.clone(Backbone.Events),void this.initialize()):new i(e,t)}function o(){return"op"+l++}function a(e){if(e){if(c.test(e))e=location.protocol+e;else if(!p.test(e)){var t=location.protocol+"//"+location.host;"/"!==e[0]&&(t+=location.pathname.replace(/[^\/]+$/,"")),e=t+e}return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var s=n(2548),u=r(s);i.src=null,i.base=null,i.operative=u["default"],i.debug=function(e,t){var n,r=u["default"].hasWorkerSupport;return u["default"].hasWorkerSupport=!1,n=new i(e,t),u["default"].hasWorkerSupport=r,n},_.extend(i,Backbone.Events),Delegator(i.prototype,"events").method("on",!0).method("off",!0).method("trigger",!0).method("once",!0),Delegator(i.prototype,"promise").method("then").method("catch"),i.prototype.initialize=function(){var e=a(i.src);u["default"].setSelfURL(a(i.base)),this.worker=u["default"]({execute:function(e,t,n){function r(e){i[e]=function(){n(e,[].slice.call(arguments,0))}}var i={};r("resolve"),r("reject"),r("trigger"),r("progress"),r("stream"),this[e](i,t)}},[e])},i.prototype.exec=function(e){var t=this,n=this.handle;return this.worker.execute(n,e,function(e,n){t[e].apply(t,n)}),this},i.prototype.stream=function(){this.trigger.apply(this,["data"].concat(arguments))},i.prototype.progress=function(){this.trigger.apply(this,["progress"].concat(arguments))},i.prototype.resolve=function(){this.deferred.resolve.apply(this.deferred,arguments),this.terminate()},i.prototype.reject=function(){this.deferred.reject.apply(this.deferred,arguments),this.terminate()},i.prototype.cancel=function(){this.reject("Op cancelled")},i.prototype.terminate=function(){this.worker.terminate()};var l=0,c=/^\/\//,p=/^http/;e.exports=t["default"]},function(e,t,n){"use strict";n(2480);var r=n(1),i=n(44),o=r.createClass({displayName:"Tabs",propTypes:{className:r.PropTypes.oneOfType([r.PropTypes.array,r.PropTypes.string,r.PropTypes.object]),tabActive:r.PropTypes.number,onMount:r.PropTypes.func,onBeforeChange:r.PropTypes.func,onAfterChange:r.PropTypes.func,children:r.PropTypes.oneOfType([r.PropTypes.array,r.PropTypes.element]).isRequired},getDefaultProps:function(){return{tabActive:1}},getInitialState:function(){return{tabActive:this.props.tabActive}},componentDidMount:function(){var e=this.state.tabActive,t=this.refs["tab-panel"],n=this.refs["tab-menu-"+e];this.props.onMount&&this.props.onMount(e,t,n)},componentWillReceiveProps:function(e){e.tabActive&&e.tabActive!==this.props.tabActive&&this.setState({tabActive:e.tabActive})},render:function(){var e=i("tabs",this.props.className);return r.createElement("div",{className:e},this._getMenuItems(),this._getSelectedPanel())},setActive:function(e,t){t.preventDefault();var n=this.props.onAfterChange,r=this.props.onBeforeChange,i=this.refs["tab-panel"],o=this.refs["tab-menu-"+e];if(r){var a=r(e,i,o);if(a===!1)return}this.setState({tabActive:e},function(){n&&n(e,i,o)})},_getMenuItems:function(){var e=this;if(!this.props.children)throw new Error("Tabs must contain at least one Tabs.Panel");Array.isArray(this.props.children)||(this.props.children=[this.props.children]);var t=this.props.children.map(function(e){return"function"==typeof e?e():e}).filter(function(e){return e}).map(function(t,n){var o="tab-menu-"+(n+1),a=t.props.title,s=i("tabs-menu-item",e.state.tabActive===n+1&&"is-active");return r.createElement("li",{ref:o,key:n,className:s},r.createElement("a",{onClick:e.setActive.bind(e,n+1)},a))});return r.createElement("nav",{className:"tabs-navigation"},r.createElement("ul",{className:"tabs-menu"},t))},_getSelectedPanel:function(){var e=this.state.tabActive-1,t=this.props.children[e];return r.createElement("article",{ref:"tab-panel",className:"tab-panel"},t)}});o.Panel=r.createClass({displayName:"Panel",propTypes:{children:r.PropTypes.oneOfType([r.PropTypes.array,r.PropTypes.element]).isRequired},render:function(){return r.createElement("div",null,this.props.children)}}),e.exports=o},,,function(e,t,n){(function(t){"use strict";function r(e){this.enabled=e&&void 0!==e.enabled?e.enabled:p}function i(e){var t=function(){return o.apply(t,arguments)};return t._styles=e,t.enabled=this.enabled,t.__proto__=m,t}function o(){var e=arguments,t=e.length,n=0!==t&&String(arguments[0]);if(t>1)for(var r=1;t>r;r++)n+=" "+e[r];if(!this.enabled||!n)return n;var i=this._styles,o=i.length,a=u.dim.open;for(!f||-1===i.indexOf("gray")&&-1===i.indexOf("grey")||(u.dim.open="");o--;){var s=u[i[o]];n=s.open+n.replace(s.closeRe,s.open)+s.close}return u.dim.open=a,n}function a(){var e={};return Object.keys(d).forEach(function(t){e[t]={get:function(){return i.call(this,[t])}}}),e}var s=n(2270),u=n(1715),l=n(2464),c=n(2276),p=n(1581),h=Object.defineProperties,f="win32"===t.platform&&!/^xterm/i.test({NODE_ENV:"production"}.TERM);f&&(u.blue.open="[94m");var d=function(){var e={};return Object.keys(u).forEach(function(t){u[t].closeRe=new RegExp(s(u[t].close),"g"),e[t]={get:function(){return i.call(this,this._styles.concat(t))}}}),e}(),m=h(function(){},d);h(r.prototype,a()),e.exports=new r,e.exports.styles=u,e.exports.hasColor=c,e.exports.stripColor=l,e.exports.supportsColor=p}).call(t,n(26))},function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},function(e,t,n){var r;r=function(){function e(t){this.def=t instanceof e?_.clone(t.def):t}return e.translators={},e.translate=function(e,t){var n,r;return null==t&&(t={}),n=t.format||"auto",(r=this.translators[n])(e,t)},e.deduplicate=function(t){return t=new e(t),t.formalize().deduplicate().raw()},e.deduplicateCollection=function(e,t){var n,r,i,o,a,s,u;for(s={},u=[],r=0,o=e.length;o>r;r++)a=e[r],i=t(a),n=s[i],n?_.extend(n,a):(n=_.clone(a),s[i]=n,u.push(n));return u},e.clean=function(t){var n,r,i;if(t instanceof Entity)return t;if(_.isString(t)||_.isArray(t)||!_.isObject(t))return t;r={};for(n in t)i=t[n],r[n.toLowerCase()]=e.clean(i);return r},e.formalize=function(t){return t instanceof e||(t=new e(t)),t.isFormalized()||t.formalize(),t},e.prototype.isFormalized=function(){return null!=this.originalDef},e.prototype.attributes=function(){return this.def.attributes||[]},e.prototype.elements=function(){return this.def.elements||[]},e.prototype.connections=function(){return this.def.connections||[]},e.prototype.get=function(e){return this.def[e]},e.prototype.raw=function(){return this.def},e.prototype.toJSON=function(){return _.clone(this.def)},e.prototype.formalize=function(){return this.originalDef=this.def,this.def=_.clone(this.def),null!=this.def.elements&&(this.def.elements=e.formalizeElements(this.def.elements)),null!=this.def.connections&&(this.def.connections=e.formalizeConnections(this.def.connections)),null!=this.def.maps&&(this.def.maps=e.formalizeMaps(this.def.maps)),this},e.prototype.deduplicate=function(){return log.warn("Blueprint#deduplicate deprecated"),null!=this.def.elements&&(this.def.elements=e.deduplicateElements(this.def.elements)),this},e.prototype.isSimple=function(){return null==this.def.maps},e}(),n(2090)(r),n(2091)(r),n(2092)(r),n(2093)(r),n(2094)(r),n(2095)(r),e.exports=r},function(e){var t;t=function(){function e(e,t,n){this.map=t,this.transaction=n,this.blueprint=Blueprint.formalize(e),null==this.transaction&&(this.transaction=new Transaction)}return e.prototype.increment=function(){},e.prototype.getDefaultDirection=function(){var e;return null!=(e=this.map)?e.getDefaultDirection():void 0},e.prototype.isSnapshot=function(){var e;return e=this.blueprint.originalDef,null!=e.maps||null!=e.perspectives||null!=e.attributeRelevance},e.prototype.build=function(){return this.isSnapshot()?this.buildBlueprintSnapshot():this.buildBlueprintBasic(this.map),this.resetCollections(),this.transaction},e.prototype.resetCollections=function(){var e,t,n,r,i;for(r=[Maps,Perspectives,Attributes,Elements,Connections,Loops],i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.trigger("reset",e));return i},e.prototype.buildBlueprintSnapshot=function(){var e,t,n,r,i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,x,E,k,C,A,S,M,T,D,O,L,F,P,N,B,R,j,I,$,z,U;if(t=this.blueprint.originalDef,u=currentProject.isFresh(),U={},z=function(e,n){return null!=t[e]?U[n]=t[e]:void 0},z("proxyImages","proxy_images"),z("defaultMap","default_map_id"),z("defaultPerspective","default_perspective_id"),z("attributeRelevance","relevance"),_.isEmpty(U)||this.transaction.update(Settings,U),null!=t.attributes)for(N=t.attributes,l=0,d=N.length;d>l;l++)r=N[l],(e=Attributes.get(r.name))?this.transaction.update(e,_.omit(r,"_id")):(e=Attributes.add(r,Backbone.silent),this.transaction.create(e));if(null!=t.elements)for(B=t.elements,c=0,m=B.length;m>c;c++)r=B[c],a=Elements.add(r,Backbone.silent),this.transaction.create(a),this.increment("elements","created");if(null!=t.connections)for(R=t.connections,p=0,g=R.length;g>p;p++)r=R[p],r.from_id=r.from,r.to_id=r.to,r.from=r.to=void 0,n=Connections.add(r,Backbone.silent),this.transaction.create(n),this.increment("connections","created");if(null!=t.loops)for(j=t.loops,h=0,v=j.length;v>h;h++)r=j[h],r.connection_ids=r.connections,r.connections=void 0,k=Loops.add(r,Backbone.silent),this.transaction.create(k);if(null!=t.perspectives)for(I=t.perspectives,A=0,y=I.length;y>A;A++)r=I[A],r._id&&(s=Perspectives.get(r._id))?this.transaction.update(s,r):(F=Perspectives.add(r,Backbone.silent),this.transaction.create(F));if(null!=t.maps)for($=t.maps,M=0,b=$.length;b>M;M++){for(r=$[M],D=r.elements||[],o=r.connections||[],C=r.loops||[],delete r.elements,delete r.connections,delete r.loops,null!=r.defaultPerspective&&(r.default_perspective_id=r.defaultPerspective,delete r.defaultPerspective),S=Maps.add(r,{silent:!0}),S.finalizeLoad({rebuild:!1}),this.transaction.create(S),O=0,w=D.length;w>O;O++)r=D[O],r.entity_id=r.element,delete r.element,T=S.nodes.add(r,Backbone.silent),this.transaction.create(T);for(L=0,x=o.length;x>L;L++)r=o[L],r.entity_id=r.connection,delete r.connection,i=S.edges.add(r,Backbone.silent),this.transaction.create(i);for(P=0,E=C.length;E>P;P++)r=C[P],r.entity_id=r.loop,delete r.loop,f=S.labels.add(r,Backbone.silent),this.transaction.create(f)}u&&(router.navigate("#",{trigger:!1}),router.openDefaultMap({}))},e.prototype.buildBlueprintBasic=function(e){var t,n,r,i,o,a;if(t=this.buildAttributes(),i=this.buildElements(),r=this.buildConnections(),this.blueprint.isSimple()&&e){for(o=0,a=r.length;a>o;o++)n=r[o],i.push(n.from,n.to);return i=_.uniq(i),this.placeElements(e,i),this.placeConnections(e,r),e.refreshGraph()}},e.prototype.buildAttributes=function(e){var t,n,r,i;if(e=this.blueprint.get("attributes")){for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(this.buildAttribute(t));return i}},e.prototype.buildAttribute=function(e){var t;return t=Attributes.get(e.name.slug()),t?this.updateAttribute(t,e):(t=Attributes.add(e),this.transaction.create(t)),t},e.prototype.updateAttribute=function(e,t){return this.transaction.get(e)||this.transaction.update(e,e.toMemento()),t?e.set(t):void 0},e.prototype.buildElements=function(){var e,t,n,r,i;if(t=this.blueprint.elements()){for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(this.buildElement(e));return i}return[]},e.prototype.buildElement=function(e){var t;return t=Elements.reconcile(e),t?_.isObject(e)&&this.updateElement(t,e):(_.isString(e)&&(e={attributes:{label:e}}),t=this.createElement(e)),this.finalizeEntity(t,e)},e.prototype.findOrCreateElement=function(e){return Elements.reconcile(e)||this.buildElement(e)},e.prototype.updateElement=function(e,t){return this.transaction.get(e)?log.warn("Conflicting element",e,t):(this.transaction.update(e),this.increment("elements","updated")),this.updateAttributes(e,t)},e.prototype.createElement=function(e){var t;return t=Elements.add(e,Backbone.silent),this.transaction.create(t),this.increment("elements","created"),t},e.prototype.buildConnections=function(){var e,t,n,r,i,o;if(o=[],t=this.blueprint.connections())for(r=0,i=t.length;i>r;r++)n=t[r],e=this.buildConnection(n),e&&o.push(e);return o},e.prototype.buildConnection=function(e){var t;return e.from=this.findOrCreateElement(e.from),e.to=this.findOrCreateElement(e.to),t=this.updateConnection(e)||this.createConnection(e),this.finalizeEntity(t,e)},e.prototype.updateConnection=function(e){var t,n,r;if(t=Connections.reconcile(e))try{this.transaction.update(t,function(n){return function(){return t.redirect({from:e.from,to:e.to}),n.updateAttributes(t,e)}}(this)),this.increment("connections","updated")}catch(r){n=r,log.warn("Conflicting connection",t,e),t=null}return t},e.prototype.createConnection=function(e){var t,n;return t=_.clone(e),null==t.direction&&(t.direction=this.getDefaultDirection()),n=Connections.add(t,Backbone.silent),this.transaction.create(n),this.increment("connections","created"),n},e.prototype.updateAttributes=function(e,t){return e.setAttr(t.attributes)},e.prototype.finalizeEntity=function(e,t){var n,r,i,o,a;i=e.getAttrs();for(r in i)a=i[r],n=null!=(o=Attributes.get(r))?o:this.buildAttribute({name:r}),"list"===n.get("prompt")&&(this.updateAttribute(n),n.add.apply(n,wrap(a,Array)));return e.blueprint=t,e},e.prototype.placeElements=function(e,t){var n,r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(this.placeElement(e,n));return o},e.prototype.placeElement=function(e,t){var n;return n=e.nodes.get(t),n||(n=e.addElement(t,Backbone.silent),this.transaction.create(n)),n},e.prototype.placeConnections=function(e,t){var n,r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(this.placeConnection(e,n));return o},e.prototype.placeConnection=function(e,t){var n;return n=e.edges.get(t),n||(n=e.addConnection(t,Backbone.silent),this.transaction.create(n)),n},e}(),e.exports={build:function(e,n,r){var i;return i=new t(e,n,r),i.build()}}},function(e,t,n){(function(t){var r,i,o,a,s,u,l,c;r=n(67),a=n(28),i=0,o=0,u=function(){return i++},l=function(){return o++},c=function(e){return Math.ceil(.2646*e)+2},s=e.exports=function(e){var n,i,o,s,p,h,f,d,m,g,v,y,b,w,_,x,E,k,C,A,S,M,T,D,O,L,F,P,N,B,R,j,I,$,z,U,V,Y,W,H,q,G,K,J,X,Z,Q,et,tt,nt,rt,it,ot,at,st,ut,lt,ct,pt,ht,ft,dt,mt,gt,vt,yt,bt,wt,_t,xt,Et,kt,Ct,At,St,Mt,Tt,Dt,Ot,Lt,Ft,Pt,Nt,Bt,Rt,jt;for(H=currentScene.legend,x=H.settings.fontFamily,_=H.settings.labelColor,e=a.defaults({},e,{filename:currentProject.get("name")+".pdf",fontFamily:null,title:H.attributes.label,titleFontSize:80,titleFontFamily:x,titleFontColor:_||"#333",titleLineHeight:1.5,subtitle:!1,subtitleFontSize:40,subtitleFontFamily:x,subtitleFontColor:"#999",subtitleLineHeight:0,legend:!0,legendFontSize:36,legendFontFamily:x,legendFontColor:"#999",legendLineWidth:10,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0}),null==e.titleLineHeight&&(e.titleLineHeight=e.titleFontSize),null==e.subtitleLineHeight&&(e.subtitleLineHeight=e.subtitleFontSize),At={},At.titleHeight=e.titleLineHeight*e.titleFontSize,At.subtitleHeight=e.subtitleLineHeight*e.subtitleFontSize,e.title===!1?At.headerHeight=0:(At.headerHeight=At.titleHeight,e.subtitle&&(At.headerHeight+=At.subtitleHeight)),L=currentScene.guide,O=currentScene.graphs.visible,h=O.bounds().scale(1.1,1.1),h.ymin-=e.marginTop,h.xmax+=e.marginRight,h.ymax+=e.marginBottom,h.xmin-=e.marginLeft,At.width=h.width(),At.height=h.height()+At.headerHeight,r("#pdf").remove(),r("body").append('<div id="pdf"></div>'),dt=d3.select("#pdf"),Mt=dt.append("svg:svg"),Mt.attr("width",At.width).attr("height",At.height).style("background-color",L.get("backgroundColor")),E=Mt.append("svg:defs"),Rt=function(e){return e-h.xmin},jt=function(e){return e-h.ymin+At.headerHeight},v=function(e){var t,n;return n=l(),t=E.append("svg:linearGradient").attr("id",n).attr("x1",Rt(e.start.x)).attr("y1",jt(e.start.y)).attr("x2",Rt(e.end.x)).attr("y2",jt(e.end.y)).attr("gradientUnits","userSpaceOnUse").attr("spreadMethod","pad"),t.append("svg:stop").attr("offset","0%").attr("stop-color",e.pathGradientFrom).attr("stop-opacity",1),t.append("svg:stop").attr("offset","100%").attr("stop-color",e.pathGradientTo).attr("stop-opacity",1),n},vt=O.nodes.models,$=0,q=vt.length;q>$;$++)ut=vt[$],ut=ut.display,ut.visible&&ut.drawShadow&&(St=Mt.append("circle").attr("r",ut.shadowRadius).attr("cx",Rt(ut.position.x)).attr("cy",jt(ut.position.y)).style("fill",ut.shadowColor));for(yt=O.edges.models,z=0,G=yt.length;G>z;z++)if(S=yt[z],S.from!==S.to&&(g=S,S=S.display,S.visible)){if("curved"===S.shape?(gt=S.circle.radius,Y=Math.abs(S.curvature)>1?1:0,Tt=S.curvature<0?0:1,g.isReversed()&&(Tt=Math.abs(Tt-1)),y="M"+Rt(S.start.x)+","+jt(S.start.y),y+="A "+gt+","+gt+" 0 "+Y+","+Tt+" "+Rt(S.end.x)+","+jt(S.end.y),ht=Mt.append("path").attr("d",y)):ht=Mt.append("line").attr("x1",Rt(S.start.x)).attr("y1",jt(S.start.y)).attr("x2",Rt(S.end.x)).attr("y2",jt(S.end.y)),ft=S.pathStroke,a.isString(ft)||(ft="url(#"+v(S)+")"),ht.attr("fill","transparent").attr("stroke",ft).attr("stroke-width",S.pathWidth),"solid"!==S.style&&(b=Math.max(8,S.pathWidth),ht.style("stroke-dasharray",[b])),S.drawArrows)for(o=[],S.fromArrow&&o.push([S.fromArrow,S.fromArrowColor]),S.toArrow&&o.push([S.toArrow,S.toArrowColor]),U=0,K=o.length;K>U;U++)bt=o[U],i=bt[0],m=bt[1],n=180*i.angle/Math.PI,i=Mt.append("path").attr("d","M"+S.arrowHeight+",0 L0,"+S.arrowWidth/2+" L0,"+-S.arrowWidth/2).attr("transform","translate("+Rt(i.position.x)+", "+jt(i.position.y)+") rotate("+n+")").attr("fill",m);if(S.drawDelay&&(Nt=S.delayWidth/2,F=S.delayHeight/2,Ft=Rt(S.delay.position.x),Pt=jt(S.delay.position.y),n=180*S.delay.angle/Math.PI,d=Mt.append("path").attr("d","M"+-Nt+","+-F+" L"+-Nt+","+F+" L"+Nt+","+F+" L"+Nt+","+-F+" L"+-Nt+","+-F).attr("transform","translate("+Ft+","+Pt+") rotate("+n+")").attr("fill",S.delayFill),k=Mt.append("path").attr("d","M"+-Nt+","+-F+" L"+-Nt+","+F+" M"+Nt+","+F+" L"+Nt+","+-F).attr("transform","translate("+Ft+","+Pt+") rotate("+n+")").attr("fill",S.delayFill).attr("stroke",S.delayColor).attr("stroke-width",S.delayStrokeWidth)),S.label&&S.labelVisible)for(A=.5*S.fontSize,rt=S.wrappedLabel||[S.label],I=it=0,J=rt.length;J>it;I=++it)nt=rt[I],Dt=Mt.append("text").text(nt).attr("x",Rt(S.position.x)).attr("y",jt(S.position.y)).attr("dy",A+I*S.fontSize).attr("font-family",e.fontFamily||S.fontFamily).attr("font-size",S.fontSize+"px").attr("font-weight",S.fontWeight).attr("text-anchor","middle").style("fill",S.fontColor);S.drawPrepostLabels&&(C=function(t,n){return Dt=Mt.append("text").text(t).attr("x",Rt(n.x)).attr("y",jt(n.y)).attr("font-family",e.fontFamily||S.fontFamily).attr("font-size",S.fontSize+"px").attr("font-weight","bold").attr("text-anchor","middle").attr("dominant-baseline","middle").style("fill",S.fontColor)},S.prelabel&&C(S.prelabel,S.prelabelPosition.position),S.postlabel&&C(S.postlabel,S.postlabelPosition.position))}for(wt=O.nodes.models,st=0,X=wt.length;X>st;st++)if(ut=wt[st],g=ut,ut=ut.display,ut.visible&&(s="circle"===ut.shape?Mt.append("circle").attr("r",ut.radius).attr("cx",Rt(ut.position.x)).attr("cy",jt(ut.position.y)).style("fill",ut.color):Mt.append("rect").attr("x",Rt(ut.coreBounds.xmin)).attr("y",jt(ut.coreBounds.ymin)).attr("width",ut.width).attr("height",ut.height).style("fill",ut.color),ut.drawImage&&(j=ImageHelper.get(ut.imageUrl,ut.imageResolution,ut.imageProxied),j&&(j=j.original,Ct=ImageHelper.getImageScale(ut,j),Bt=j.width*Ct,P=j.height*Ct,R=u(),at=E.append("svg:clipPath").attr("id",R),"circle"===ut.shape?at.append("circle").attr("cx",Rt(ut.position.x)).attr("cy",jt(ut.position.y)).attr("r",ut.imageBoundsRadius):at.append("rect").attr("x",Rt(ut.coreBounds.xmin)).attr("y",jt(ut.coreBounds.ymin)).attr("width",ut.width).attr("height",ut.height),B=Mt.append("svg:image").attr("xlink:href",ut.imageUrl).attr("x",Rt(ut.position.x-Bt/2)).attr("y",jt(ut.position.y-P/2)).attr("width",Bt).attr("height",P).attr("clip-path","url(#"+R+")"))),ut.drawBorder&&(p=Mt.append("circle").attr("r",ut.radius+ut.borderWidth/2).attr("cx",Rt(ut.position.x)).attr("cy",jt(ut.position.y)).style("fill","transparent").style("stroke",ut.borderColor).style("stroke-width",ut.borderWidth)),ut.drawBullseye&&(f=Mt.append("circle").attr("r",ut.bullseyeRadius).attr("cx",Rt(ut.position.x)).attr("cy",jt(ut.position.y)).style("fill",ut.bullseyeColor)),ut.drawOutline&&(f=Mt.append("circle").attr("r",ut.outlineRadius).attr("cx",Rt(ut.position.x)).attr("cy",jt(ut.position.y)).style("fill","transparent").style("stroke",ut.outlineColor).style("stroke-width",ut.outlineWidth)),ut.label&&ut.labelVisible))for(rt=ut.wrappedLabel||[ut.label],A=function(){switch(ut.textAlign){case"center":return-.5*(rt.length-1)*ut.fontSize+.5*ut.fontSize;default:return"circle"===ut.shape?ut.outerRadius+ut.fontSize:ut.outerHeight/2+ut.fontSize}}(),I=lt=0,Z=rt.length;Z>lt;I=++lt)nt=rt[I],Dt=Mt.append("text").text(nt).attr("x",Rt(ut.position.x)).attr("y",jt(ut.position.y)).attr("dy",A+I*ut.fontSize).attr("font-family",e.fontFamily||ut.fontFamily).attr("font-size",ut.fontSize+"px").attr("font-weight",ut.fontWeight).attr("text-anchor","middle").style("fill",ut.fontColor);for(_t=O.labels.models,ct=0,Q=_t.length;Q>ct;ct++)if(V=_t[ct],g=V,V=V.display,V.visible)for(xt=V.wrappedLabel,I=mt=0,et=xt.length;et>mt;I=++mt)nt=xt[I],Dt=Mt.append("text").text(nt).attr("x",Rt(V.position.x)).attr("y",jt(V.position.y)).attr("dy",I*V.fontSize).attr("font-family",e.fontFamily||V.fontFamily).attr("font-size",V.fontSize+"px").attr("font-weight",V.fontWeight).attr("text-anchor","middle").style("fill",V.fontColor);if(M=H.get("entries"),ot=20,pt=10,Ot=e.titleLineHeight,e.title!==!1&&Mt.append("text").text(e.title).attr("x",At.width/2).attr("y",ot).attr("dy",At.titleHeight/2).attr("font-family",e.fontFamily||e.titleFontFamily).attr("font-size",e.titleFontSize+"px").attr("font-weight","bold").attr("text-anchor","middle").style("fill",e.titleFontColor),e.subtitle&&Mt.append("text").text(e.subtitle).attr("x",At.width/2).attr("y",ot).attr("dy",At.titleHeight+At.subtitleHeight/2).attr("font-family",e.fontFamily||e.subtitleFontFamily).attr("font-size",e.subtitleFontSize+"px").attr("font-weight","bold").attr("text-anchor","middle").style("fill",e.subtitleFontColor),e.legend&&M.length>0){for(Lt=At.height,D=(At.width-(M.length+1)*ot)/M.length,N=kt=0,tt=M.length;tt>kt;N=++kt)T=M[N],V=T.label,m=T.declarations.color||L.get("connectionColor")||e.legendFontColor,w="dashed"===T.declarations.style?[20,10]:void 0,"inherit"===m&&(m=L.get("connectionColor")),"inherit"===m&&(m=e.legendFontColor),W=ot+N*ot+N*D,Et=W+D,Mt.append("line").attr("x1",W).attr("y1",Lt).attr("x2",Et).attr("y2",Lt).attr("stroke",m).attr("stroke-width",e.legendLineWidth).attr("stroke-dasharray",w),Mt.append("text").text(T.label).attr("x",W).attr("y",Lt+e.legendLineWidth).attr("dy",e.legendFontSize).attr("font-family",e.fontFamily||e.legendFontFamily).attr("font-size",e.legendFontSize+"px").style("fill",m);At.height+=e.legendFontSize+ot}return Mt.attr("height",At.height),When().delay().then(function(){var n,r,i;return Mt.attr("title",e.title+" | Kumu").attr("version",1.1),Mt.insert("defs",":first-child").html('<style type="text/css"><![CDATA[ @charset "utf-8"; svg { -webkit-font-smoothing: antialiased; text-rendering: geometricPrecision; } ]]></style>'),i=dt.node().innerHTML,dt.remove(),i=i.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'),e.auto?Api.downloadPDF(i,{filename:e.filename}):(r="data:image/svg+xml;base64,"+utf8btoa(i),window.open(r),t.log("Use the command below to convert the svg to a pdf:"),t.log("cairosvg download.svg -o kumu.pdf && open kumu.pdf"),n="wkhtmltopdf",n+=" --margin-top 0 --margin-bottom 0 --margin-left 0 --margin-right 0",n+=" --page-width "+c(At.width)+" --page-height "+c(At.height),n+=" download.svg kumu.pdf",n+=" && open kumu.pdf",t.log("\n\n"),t.log("If you run into issues, try wkhtmltopdf:"),t.log(n))})}}).call(t,n(3))},function(e){e.exports=function(e){return e.define("element",{escaped:!0,validate:function(e){return!e||/^elem-/.test(e)},format:function(e){var t,n,r;return r="#"+e,t=(null!=(n=Elements.get(e))?n.label():void 0)||e,"<a href='#' data-selector='"+cockblock(r)+"'>"+cockblock(t)+"</a>"}})}},function(e){e.exports=function(e){return e.define("email",{format:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"}})}},function(e){e.exports=function(e){return e.define("facebook-profile",{parse:function(e){var t;return null!=(t=e.split("facebook.com/")[1])?t:e},format:function(t){var n;return n=e.as("url",{link:!0,shorten:!0}),n.format("https://www.facebook.com/"+t)}})}},function(e){e.exports=function(e){var t;return t=/^([-+]?[0-9]*\.?[0-9]+)$/,e.define("float",{defaults:{precision:2},validate:t,parse:function(e){return Number(e.match(t)[1])},format:function(e,t){return null!=t.precision?e.toFixed(t.precision):String(e)}})}},function(e){e.exports=function(e){return e.define("github-profile",{parse:function(e){var t;return null!=(t=e.split("github.com/")[1])?t:e},format:function(t){var n;return n=e.as("url",{link:!0,shorten:!0}),n.format("https://github.com/"+t)}})}},function(e){e.exports=function(e){return e.define("image",{format:function(e){return'<img src="'+e+'" />'}})}},function(e){e.exports=function(e){var t;return t=/^([+-]?\d+)$/,e.define("integer",{validate:t,parse:function(e){return Number(e.match(t)[1])}})}},function(e){e.exports=function(e){return e.define("json",{validate:function(e){var t,n;try{return JSON.parse(e)&&!0}catch(n){return t=n,!1}},parse:function(e){return JSON.parse(e)},format:function(e){return JSON.stringify(e)}})}},function(e){e.exports=function(e){return e.define("linkedin-profile",{parse:function(e){var t;return null!=(t=e.split("linkedin.com/in/")[1])?t:e},format:function(t){var n;return-1===t.indexOf("linkedin.com")&&(t="https://www.linkedin.com/in/"+t),n=e.as("url",{link:!0,shorten:!0}),n.format(t)}})}},function(e){e.exports=function(e){var t,n;return t=!0,n=function(e,t){return e?marked(e,t):""},e.define("markdown",{escaped:t,format:n})}},function(e){e.exports=function(e){return e.define("number",{validate:function(e){return!isNaN(Number(e))},parse:function(e){return""===e||void 0===e||null===e?void 0:Number(e)},format:function(e){return NumberHelper.format(Number(e))}})}},function(e){e.exports=function(e){var t;return t=/^(\d*(\.\d+)?)%$/,e.define("percentage",{defaults:{precision:0},validate:t,parse:function(e){return Number(e.match(t)[1])/100},format:function(e,t){return(100*e).toFixed(t.precision)+"%"}})}},function(e){e.exports=function(e){return e.define("twitter-profile",{parse:function(e){var t;return(null!=(t=e.split("twitter.com/")[1])?t:e).replace("@","")},format:function(t){var n;return n=e.as("url",{link:!0,shorten:!0}),n.format("https://twitter.com/"+t)}})}},function(e){e.exports=function(e){return e.define("url",{defaults:{relative:!1,link:!0,shorten:!0},validate:function(){return!0},parse:function(e,t){return t.relative||/^(http|#)/.test(e)?e:e="http://"+e},format:function(e,t){var n;return t.link?(n=t.shorten?e.replace(/^http:\/\//,"").replace(/^https:\/\//,"").replace(/^www\./,""):e,'<a href="'+e+'">'+n+"</a>"):e}})}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){"use strict";function t(e){var t=[],n=e.split(",");return n.forEach(function(e){if(r.test(e))for(var n=e.split(".."),i=n[0],o=n[1],a=i;o>=a;a++)t.push(Number(a));else t.push(Number(e))}),t}function n(e){for(var t=[],n=null,r=0;r<e.length;r++){var i=e[r],o=e[r+1];o===i+1?null===n&&(n=i):null===n?t.push(i):(t.push(n+".."+i),n=null)}return t.join(",")}var r=/^\d+[.]{2}\d+$/;e.exports={parse:t,stringify:n}},,,,function(e,t,n){!function(t){"use strict";var r,i=t.Base64,o="2.1.9";if("undefined"!=typeof e&&e.exports)try{r=n(18).Buffer}catch(a){}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(e){for(var t={},n=0,r=e.length;r>n;n++)t[e.charAt(n)]=n;return t}(s),l=String.fromCharCode,c=function(e){if(e.length<2){var t=e.charCodeAt(0);return 128>t?e:2048>t?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},p=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,h=function(e){return e.replace(p,c)},f=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[s.charAt(n>>>18),s.charAt(n>>>12&63),t>=2?"=":s.charAt(n>>>6&63),t>=1?"=":s.charAt(63&n)];return r.join("")},d=t.btoa?function(e){return t.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,f)},m=r?function(e){return(e.constructor===r.constructor?e:new r(e)).toString("base64")}:function(e){return d(h(e))},g=function(e,t){return t?m(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):m(String(e))},v=function(e){return g(e,!0)},y=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),b=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return l((n>>>10)+55296)+l((1023&n)+56320);case 3:return l((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return l((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},w=function(e){return e.replace(y,b)},_=function(e){var t=e.length,n=t%4,r=(t>0?u[e.charAt(0)]<<18:0)|(t>1?u[e.charAt(1)]<<12:0)|(t>2?u[e.charAt(2)]<<6:0)|(t>3?u[e.charAt(3)]:0),i=[l(r>>>16),l(r>>>8&255),l(255&r)];
return i.length-=[0,0,2,1][n],i.join("")},x=t.atob?function(e){return t.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,_)},E=r?function(e){return(e.constructor===r.constructor?e:new r(e,"base64")).toString()}:function(e){return w(x(e))},k=function(e){return E(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},C=function(){var e=t.Base64;return t.Base64=i,e};if(t.Base64={VERSION:o,atob:x,btoa:d,fromBase64:k,toBase64:g,utob:h,encode:g,encodeURI:v,btou:w,decode:k,noConflict:C},"function"==typeof Object.defineProperty){var A=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",A(function(){return k(this)})),Object.defineProperty(String.prototype,"toBase64",A(function(e){return g(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",A(function(){return g(this,!0)}))}}t.Meteor&&(Base64=t.Base64)}(this)},,,,,function(e,t,n){function r(e){return function(t){return i(a(o(t).replace(u,"")),e,"")}}var i=n(2321),o=n(2373),a=n(2390),s="['\u2019]",u=RegExp(s,"g");e.exports=r},,,,,function(e,t,n){function r(e){if(!a(e)||h.call(e)!=s||o(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==p}var i=n(678),o=n(527),a=n(187),s="[object Object]",u=Object.prototype,l=Function.prototype.toString,c=u.hasOwnProperty,p=l.call(Object),h=u.toString;e.exports=r},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return 12>e?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:6,doy:12}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=e.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e){return 12>e?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return n[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5},i={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},o=function(e){return function(t,n){var o=r(t),a=i[e][r(t)];return 2===o&&(a=a[n?0:1]),a.replace(/%d/i,t)}},a=["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a \u064a\u0646\u0627\u064a\u0631","\u0634\u0628\u0627\u0637 \u0641\u0628\u0631\u0627\u064a\u0631","\u0622\u0630\u0627\u0631 \u0645\u0627\u0631\u0633","\u0646\u064a\u0633\u0627\u0646 \u0623\u0628\u0631\u064a\u0644","\u0623\u064a\u0627\u0631 \u0645\u0627\u064a\u0648","\u062d\u0632\u064a\u0631\u0627\u0646 \u064a\u0648\u0646\u064a\u0648","\u062a\u0645\u0648\u0632 \u064a\u0648\u0644\u064a\u0648","\u0622\u0628 \u0623\u063a\u0633\u0637\u0633","\u0623\u064a\u0644\u0648\u0644 \u0633\u0628\u062a\u0645\u0628\u0631","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644 \u0623\u0643\u062a\u0648\u0628\u0631","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a \u0646\u0648\u0641\u0645\u0628\u0631","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644 \u062f\u064a\u0633\u0645\u0628\u0631"],s=e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e){return 12>e?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return n[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}});return s})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"},n=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"birne\xe7\u0259 saniyy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e){return 4>e?"gec\u0259":12>e?"s\u0259h\u0259r":17>e?"g\xfcnd\xfcz":"ax\u015fam"},ordinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){if(0===e)return e+"-\u0131nc\u0131";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:n?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:n?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"};return"m"===r?n?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===r?n?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_"),accusative:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_")},r=/\[ ?[\u0412\u0432] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}var o=e.defineLocale("be",{months:r,monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:i,weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:n,mm:n,h:n,hh:n,d:"\u0434\u0437\u0435\u043d\u044c",dd:n,M:"\u043c\u0435\u0441\u044f\u0446",MM:n,y:"\u0433\u043e\u0434",yy:n},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e){return 4>e?"\u043d\u043e\u0447\u044b":12>e?"\u0440\u0430\u043d\u0456\u0446\u044b":17>e?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},ordinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-\u044b":e+"-\u0456";case"D":return e+"-\u0433\u0430";default:return e}},week:{dow:1,doy:7}});return o})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u043d\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},ordinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-\u0435\u0432":0===n?e+"-\u0435\u043d":n>10&&20>n?e+"-\u0442\u0438":1===t?e+"-\u0432\u0438":2===t?e+"-\u0440\u0438":7===t||8===t?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"},r=e.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09c0_\u09ab\u09c7\u09ac\u09c1\u09df\u09be\u09b0\u09c0_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0985\u0997\u09be\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09b0_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2_\u0985\u0997_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09cd\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09c1\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09cd\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0\u09c1_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac_\u09b8\u09ae_\u09ae\u0999\u09cd\u0997_\u09ac\u09c1_\u09ac\u09cd\u09b0\u09bf\u09b9_\u09b6\u09c1_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u098f\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09c7\u09b2|\u09b0\u09be\u09a4/,isPM:function(e){return/^(\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09c7\u09b2|\u09b0\u09be\u09a4)$/.test(e)},meridiem:function(e){return 4>e?"\u09b0\u09be\u09a4":10>e?"\u09b8\u0995\u09be\u09b2":17>e?"\u09a6\u09c1\u09aa\u09c1\u09b0":20>e?"\u09ac\u09bf\u0995\u09c7\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},n={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"},r=e.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(e){return n[e]
})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,isPM:function(e){return/^(\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c)$/.test(e)},meridiem:function(e){return 4>e?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":10>e?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":17>e?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":20>e?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+i(r[n],e)}function n(e){switch(r(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function r(e){return e>9?r(e%10):e}function i(e,t){return 2===t?o(e):e}function o(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var a=e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno\xf9",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},ordinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){var t=1===e?"a\xf1":"vet";return e+t},week:{dow:1,doy:4}});return a})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}var n=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ca",{months:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e){return e>1&&5>e&&1!==~~(e/10)}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"p\xe1r sekund":"p\xe1r sekundami";case"m":return n?"minuta":i?"minutu":"minutou";case"mm":return n||i?o+(t(e)?"minuty":"minut"):o+"minutami";case"h":return n?"hodina":i?"hodinu":"hodinou";case"hh":return n||i?o+(t(e)?"hodiny":"hodin"):o+"hodinami";case"d":return n||i?"den":"dnem";case"dd":return n||i?o+(t(e)?"dny":"dn\xed"):o+"dny";case"M":return n||i?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return n||i?o+(t(e)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):o+"m\u011bs\xedci";case"y":return n||i?"rok":"rokem";case"yy":return n||i?o+(t(e)?"roky":"let"):o+"lety"}}var r="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),i="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),o=e.defineLocale("cs",{months:r,monthsShort:i,monthsParse:function(e,t){var n,r=[];for(n=0;12>n;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,i),weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(e){var t=/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(e)?"\u0442\u0430\u043d":"\u0440\u0430\u043d";return e+t},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},ordinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=r[t]),e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I g\xe5r kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}var n=e.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}var n=e.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(e,t,n){return e>11?n?"\u03bc\u03bc":"\u039c\u039c":n?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(e){return"\u03bc"===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return"function"==typeof n&&(n=n.apply(t)),n.replace("{}",r%12===1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},ordinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY h:mm A",LLLL:"dddd, D MMMM, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_a\u016dg_sep_okt_nov_dec".split("_"),weekdays:"Diman\u0109o_Lundo_Mardo_Merkredo_\u0134a\u016ddo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_\u0134a\u016d_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_\u0134a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta\u016d %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t="Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_"),n="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),r=e.defineLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"Domingo_Lunes_Martes_Mi\xe9rcoles_Jueves_Viernes_S\xe1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mi\xe9._Jue._Vie._S\xe1b.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S\xe1".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n,r){var i={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[e+" minuti",e+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[e+" tunni",e+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[e+" kuu",e+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}var n=e.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d p\xe4eva",M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},n={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"},r=e.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e){return 12>e?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f\u06cc\u0646 \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,function(e){return n[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"\u060c")},ordinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,r,i){var o="";switch(r){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":o=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":o=i?"tunnin":"tuntia";break;case"d":return i?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":o=i?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return i?"kuukauden":"kuukausi";case"MM":o=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":o=i?"vuoden":"vuotta"}return o=n(e,i)+" "+o}function n(e,t){return 10>e?t?i[e]:r[e]:e}var r="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),i=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",r[7],r[8],r[9]],o=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
return o})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",m:"ein minutt",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0i",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),r=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xu\xf1o_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu\xf1._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_M\xe9rcores_Xoves_Venres_S\xe1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._M\xe9r._Xov._Ven._S\xe1b.".split("_"),weekdaysMin:"Do_Lu_Ma_M\xe9_Xo_Ve_S\xe1".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":e+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":e+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":e+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":e%10===0&&10!==e?e+" \u05e9\u05e0\u05d4":e+" \u05e9\u05e0\u05d9\u05dd"}}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},r=e.defineLocale("hi",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924"===t?4>e?e:e+12:"\u0938\u0941\u092c\u0939"===t?e:"\u0926\u094b\u092a\u0939\u0930"===t?e>=10?e:e+12:"\u0936\u093e\u092e"===t?e+12:void 0},meridiem:function(e){return 4>e?"\u0930\u093e\u0924":10>e?"\u0938\u0941\u092c\u0939":17>e?"\u0926\u094b\u092a\u0939\u0930":20>e?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}var n=e.defineLocale("hr",{months:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n,r){var i=e;switch(n){case"s":return r||t?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" \xf3ra":" \xf3r\xe1ja");case"hh":return i+(r||t?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" h\xf3nap":" h\xf3napja");case"MM":return i+(r||t?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(r||t?" \xe9v":" \xe9ve");case"yy":return i+(r||t?" \xe9v":" \xe9ve")}return""}function n(e){return(e?"":"[m\xfalt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),i=e.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return 12>e?n===!0?"de":"DE":n===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t){var n={nominative:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_"),accusative:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e){var t="\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_");return t[e.month()]}function r(e){var t="\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_");return t[e.day()]}var i=e.defineLocale("hy-am",{months:t,monthsShort:n,weekdays:r,weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return 4>e?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":12>e?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":17>e?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},ordinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-\u056b\u0576":e+"-\u0580\u0564";default:return e}},week:{dow:1,doy:7}});return i})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e){return e%100===11||e%10!==1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"m":return n?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return t(e)?o+(n||i?"m\xedn\xfatur":"m\xedn\xfatum"):n?o+"m\xedn\xfata":o+"m\xedn\xfatu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"d\xf6gum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"m\xe1nu\xf0ur":i?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return t(e)?n?o+"m\xe1nu\xf0ir":o+(i?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):n?o+"m\xe1nu\xf0ur":o+(i?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return n||i?"\xe1r":"\xe1ri";case"yy":return t(e)?o+(n||i?"\xe1r":"\xe1rum"):o+(n||i?"\xe1r":"\xe1ri")}}var r=e.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned\xec_Marted\xec_Mercoled\xec_Gioved\xec_Venerd\xec_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"Ah\u6642m\u5206",LTS:"Ah\u6642m\u5206s\u79d2",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206 dddd"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e){return 12>e?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:"[\u6765\u9031]dddd LT",lastDay:"[\u6628\u65e5] LT",lastWeek:"[\u524d\u9031]dddd LT",sameElse:"L"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e){return 11>e?"enjing":15>e?"siyang":19>e?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t){var n={nominative:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),accusative:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_")},r=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e,t){var n={nominative:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),accusative:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_")},r=/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/.test(t)?"accusative":"nominative";return n[r][e.day()]}var r=e.defineLocale("ka",{months:t,monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:n,weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(e)?e.replace(/\u10d8$/,"\u10e8\u10d8"):e+"\u10e8\u10d8"},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):void 0},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},ordinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-\u10da\u10d8":20>e||100>=e&&e%20===0||e%100===0?"\u10db\u10d4-"+e:e+"-\u10d4"},week:{dow:1,doy:7}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b7\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b7\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysMin:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c8 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},week:{dow:1,doy:4}});
return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h\uc2dc m\ubd84",LTS:"A h\uc2dc m\ubd84 s\ucd08",L:"YYYY.MM.DD",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h\uc2dc m\ubd84",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h\uc2dc m\ubd84"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87\ucd08",ss:"%d\ucd08",m:"\uc77c\ubd84",mm:"%d\ubd84",h:"\ud55c\uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c\ub2ec",MM:"%d\ub2ec",y:"\uc77c\ub144",yy:"%d\ub144"},ordinalParse:/\d{1,2}\uc77c/,ordinal:"%d\uc77c",meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e){return 12>e?"\uc624\uc804":"\uc624\ud6c4"}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"a "+e:"an "+e}function r(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"viru "+e:"virun "+e}function i(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e;if(100>e){var t=e%10,n=e/10;return i(0===t?n:t)}if(1e4>e){for(;e>=10;)e/=10;return i(e)}return e/=1e3,i(e)}var o=e.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d M\xe9int",y:t,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n,r){return t?"kelios sekund\u0117s":r?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"}function n(e,t){var n={nominative:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),accusative:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function r(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function i(e){return e%10===0||e>10&&20>e}function o(e){return u[e].split("_")}function a(e,t,n,a){var s=e+" ";return 1===e?s+r(e,t,n[0],a):t?s+(i(e)?o(n)[1]:o(n)[0]):a?s+o(n)[1]:s+(i(e)?o(n)[1]:o(n)[2])}function s(e,t){var n=-1===t.indexOf("dddd HH:mm"),r=l[e.day()];return n?r:r.substring(0,r.length-2)+"\u012f"}var u={m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"},l="sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),c=e.defineLocale("lt",{months:n,monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:s,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:t,m:r,mm:a,h:r,hh:a,d:r,dd:a,M:r,MM:a,y:r,yy:a},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return c})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n){return n?t%10===1&&11!==t?e[2]:e[3]:t%10===1&&11!==t?e[0]:e[1]}function n(e,n,r){return e+" "+t(o[r],e,n)}function r(e,n,r){return t(o[r],e,n)}function i(e,t){return t?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"}var o={m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")},a=e.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:i,m:r,mm:n,h:r,hh:n,d:r,dd:n,M:r,MM:n,y:r,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},n=e.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedjelja","ponedjeljak","utorak","srijeda","\u010detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","\u010det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010de","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){var e=["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0412\u043e \u0438\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0412\u043e \u0438\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u043e\u0441\u043b\u0435 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},ordinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-\u0435\u0432":0===n?e+"-\u0435\u043d":n>10&&20>n?e+"-\u0442\u0438":1===t?e+"-\u0432\u0438":2===t?e+"-\u0440\u0438":7===t||8===t?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,isPM:function(e){return/^(\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f)$/.test(e)},meridiem:function(e){return 4>e?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":12>e?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":17>e?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":20>e?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},r=e.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0928\u0902\u0924\u0930",past:"%s \u092a\u0942\u0930\u094d\u0935\u0940",s:"\u0938\u0947\u0915\u0902\u0926",m:"\u090f\u0915 \u092e\u093f\u0928\u093f\u091f",mm:"%d \u092e\u093f\u0928\u093f\u091f\u0947",h:"\u090f\u0915 \u0924\u093e\u0938",hh:"%d \u0924\u093e\u0938",d:"\u090f\u0915 \u0926\u093f\u0935\u0938",dd:"%d \u0926\u093f\u0935\u0938",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937\u0947"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924\u094d\u0930\u0940"===t?4>e?e:e+12:"\u0938\u0915\u093e\u0933\u0940"===t?e:"\u0926\u0941\u092a\u093e\u0930\u0940"===t?e>=10?e:e+12:"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===t?e+12:void 0},meridiem:function(e){return 4>e?"\u0930\u093e\u0924\u094d\u0930\u0940":10>e?"\u0938\u0915\u093e\u0933\u0940":17>e?"\u0926\u0941\u092a\u093e\u0930\u0940":20>e?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},n={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"},r=e.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tirs_ons_tors_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"H.mm",LTS:"H.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H.mm",LLLL:"dddd D. MMMM YYYY [kl.] H.mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},r=e.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906\u0907._\u0938\u094b._\u092e\u0919\u094d_\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0930\u093e\u0924\u0940|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u092c\u0947\u0932\u0941\u0915\u093e|\u0938\u093e\u0901\u091d|\u0930\u093e\u0924\u0940/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924\u0940"===t?3>e?e:e+12:"\u092c\u093f\u0939\u093e\u0928"===t?e:"\u0926\u093f\u0909\u0901\u0938\u094b"===t?e>=10?e:e+12:"\u092c\u0947\u0932\u0941\u0915\u093e"===t||"\u0938\u093e\u0901\u091d"===t?e+12:void 0},meridiem:function(e){return 3>e?"\u0930\u093e\u0924\u0940":10>e?"\u092c\u093f\u0939\u093e\u0928":15>e?"\u0926\u093f\u0909\u0901\u0938\u094b":18>e?"\u092c\u0947\u0932\u0941\u0915\u093e":20>e?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u0940"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u0940] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u0940",s:"\u0915\u0947\u0939\u0940 \u0938\u092e\u092f",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:1,doy:7}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return r})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_m\xe5n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!==1}function n(e,n,r){var i=e+" ";switch(r){case"m":return n?"minuta":"minut\u0119";case"mm":return i+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzin\u0119";case"hh":return i+(t(e)?"godziny":"godzin");case"MM":return i+(t(e)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return i+(t(e)?"lata":"lat")}}var r="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),o=e.defineLocale("pl",{months:function(e,t){return""===t?"("+i[e.month()]+"|"+r[e.month()]+")":/D MMMM/.test(t)?i[e.month()]:r[e.month()]
},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"nie_pon_wt_\u015br_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Ter\xe7a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Dom_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atr\xe1s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba"});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("pt",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Ter\xe7a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Dom_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n){var r={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},i=" ";return(e%100>=20||e>=100&&e%100===0)&&(i=" de "),e+i+r[n]}var n=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",m:"un minut",mm:t,h:"o or\u0103",hh:t,d:"o zi",dd:t,M:"o lun\u0103",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:n?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"};return"m"===r?n?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),accusative:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),accusative:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function o(e,t){var n={nominative:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),accusative:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_")},r=/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}var a=e.defineLocale("ru",{months:r,monthsShort:i,weekdays:o,weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439|\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430 \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",nextWeek:function(){return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:n,mm:n,h:"\u0447\u0430\u0441",hh:n,d:"\u0434\u0435\u043d\u044c",dd:n,M:"\u043c\u0435\u0441\u044f\u0446",MM:n,y:"\u0433\u043e\u0434",yy:n},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e){return 4>e?"\u043d\u043e\u0447\u0438":12>e?"\u0443\u0442\u0440\u0430":17>e?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},ordinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-\u0439";case"D":return e+"-\u0433\u043e";case"w":case"W":return e+"-\u044f";default:return e}},week:{dow:1,doy:7}});return a})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},ordinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiem:function(e,t,n){return e>11?n?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":n?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e){return e>1&&5>e}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"p\xe1r sek\xfand":"p\xe1r sekundami";case"m":return n?"min\xfata":i?"min\xfatu":"min\xfatou";case"mm":return n||i?o+(t(e)?"min\xfaty":"min\xfat"):o+"min\xfatami";case"h":return n?"hodina":i?"hodinu":"hodinou";case"hh":return n||i?o+(t(e)?"hodiny":"hod\xedn"):o+"hodinami";case"d":return n||i?"de\u0148":"d\u0148om";case"dd":return n||i?o+(t(e)?"dni":"dn\xed"):o+"d\u0148ami";case"M":return n||i?"mesiac":"mesiacom";case"MM":return n||i?o+(t(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return n||i?"rok":"rokom";case"yy":return n||i?o+(t(e)?"roky":"rokov"):o+"rokmi"}}var r="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),i="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),o=e.defineLocale("sk",{months:r,monthsShort:i,monthsParse:function(e,t){var n,r=[];for(n=0;12>n;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,i),weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":5>e?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":5>e?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":5>e?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":5>e?t||r?"leta":"leti":t||r?"let":"leti"}}var n=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={words:{m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},n=e.defineLocale("sr-cyrl",{months:["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"],monthsShort:["\u0458\u0430\u043d.","\u0444\u0435\u0431.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433.","\u0441\u0435\u043f.","\u043e\u043a\u0442.","\u043d\u043e\u0432.","\u0434\u0435\u0446."],weekdays:["\u043d\u0435\u0434\u0435\u0459\u0430","\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a","\u0443\u0442\u043e\u0440\u0430\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a","\u043f\u0435\u0442\u0430\u043a","\u0441\u0443\u0431\u043e\u0442\u0430"],weekdaysShort:["\u043d\u0435\u0434.","\u043f\u043e\u043d.","\u0443\u0442\u043e.","\u0441\u0440\u0435.","\u0447\u0435\u0442.","\u043f\u0435\u0442.","\u0441\u0443\u0431."],weekdaysMin:["\u043d\u0435","\u043f\u043e","\u0443\u0442","\u0441\u0440","\u0447\u0435","\u043f\u0435","\u0441\u0443"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){var e=["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"\u0434\u0430\u043d",dd:t.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:t.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},n=e.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","\u010detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","\u010det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010de","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){var e=["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},ordinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+"\u0bb5\u0ba4\u0bc1"},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e){return 2>e?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":6>e?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":10>e?" \u0b95\u0bbe\u0bb2\u0bc8":14>e?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":18>e?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":22>e?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(e,t){return 12===e&&(e=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===t?2>e?e:e+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===t||"\u0b95\u0bbe\u0bb2\u0bc8"===t?e:"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===t&&e>=10?e:e+12},week:{dow:0,doy:6}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21\u0e01\u0e23\u0e32_\u0e01\u0e38\u0e21\u0e20\u0e32_\u0e21\u0e35\u0e19\u0e32_\u0e40\u0e21\u0e29\u0e32_\u0e1e\u0e24\u0e29\u0e20\u0e32_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32_\u0e01\u0e23\u0e01\u0e0e\u0e32_\u0e2a\u0e34\u0e07\u0e2b\u0e32_\u0e01\u0e31\u0e19\u0e22\u0e32_\u0e15\u0e38\u0e25\u0e32_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32_\u0e18\u0e31\u0e19\u0e27\u0e32".split("_"),weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),longDateFormat:{LT:"H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 m \u0e19\u0e32\u0e17\u0e35",LTS:"H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 m \u0e19\u0e32\u0e17\u0e35 s \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 m \u0e19\u0e32\u0e17\u0e35",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 m \u0e19\u0e32\u0e17\u0e35"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e},meridiem:function(e){return 12>e?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}});
return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"},n=e.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinalParse:/\d{1,2}'(inci|nci|\xfcnc\xfc|nc\u0131|uncu|\u0131nc\u0131)/,ordinal:function(e){if(0===e)return e+"'\u0131nc\u0131";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[e+" m\xeduts"," "+e+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[e+" \xfeoras"," "+e+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas"," "+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen"," "+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars"," "+e+" ars"]};return r?i[n][0]:t?i[n][0]:i[n][1].trim()}var n=e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY LT",LLLL:"dddd, [li] D. MMMM [dallas] YYYY LT"},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"};return"m"===r?n?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===r?n?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),accusative:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_")},r=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")},r=/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(t)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[r][e.day()]}function o(e){return function(){return e+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}var a=e.defineLocale("uk",{months:r,monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:i,weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:o("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:o("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:o("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:o("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return o("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return o("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",m:n,mm:n,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:n,d:"\u0434\u0435\u043d\u044c",dd:n,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:n,y:"\u0440\u0456\u043a",yy:n},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e){return 4>e?"\u043d\u043e\u0447\u0456":12>e?"\u0440\u0430\u043d\u043a\u0443":17>e?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},ordinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-\u0439";case"D":return e+"-\u0433\u043e";default:return e}},week:{dow:1,doy:7}});return a})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"Ah\u70b9mm\u5206",LTS:"Ah\u70b9m\u5206s\u79d2",L:"YYYY-MM-DD",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206",l:"YYYY-MM-DD",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",llll:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:e>=11?e:e+12},meridiem:function(e,t){var n=100*e+t;return 600>n?"\u51cc\u6668":900>n?"\u65e9\u4e0a":1130>n?"\u4e0a\u5348":1230>n?"\u4e2d\u5348":1800>n?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:function(){return 0===this.minutes()?"[\u4eca\u5929]Ah[\u70b9\u6574]":"[\u4eca\u5929]LT"},nextDay:function(){return 0===this.minutes()?"[\u660e\u5929]Ah[\u70b9\u6574]":"[\u660e\u5929]LT"},lastDay:function(){return 0===this.minutes()?"[\u6628\u5929]Ah[\u70b9\u6574]":"[\u6628\u5929]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[\u4e0b]":"[\u672c]",0===this.minutes()?n+"dddAh\u70b9\u6574":n+"dddAh\u70b9mm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[\u4e0a]":"[\u672c]",0===this.minutes()?n+"dddAh\u70b9\u6574":n+"dddAh\u70b9mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(9))}(this,function(e){"use strict";var t=e.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"Ah\u9edemm\u5206",LTS:"Ah\u9edem\u5206s\u79d2",L:"YYYY\u5e74MMMD\u65e5",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5Ah\u9edemm\u5206",LLLL:"YYYY\u5e74MMMD\u65e5ddddAh\u9edemm\u5206",l:"YYYY\u5e74MMMD\u65e5",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5Ah\u9edemm\u5206",llll:"YYYY\u5e74MMMD\u65e5ddddAh\u9edemm\u5206"},meridiemParse:/\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e2d\u5348"===t?e>=11?e:e+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:void 0},meridiem:function(e,t){var n=100*e+t;return 900>n?"\u65e9\u4e0a":1130>n?"\u4e0a\u5348":1230>n?"\u4e2d\u5348":1800>n?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",m:"\u4e00\u5206\u9418",mm:"%d\u5206\u9418",h:"\u4e00\u5c0f\u6642",hh:"%d\u5c0f\u6642",d:"\u4e00\u5929",dd:"%d\u5929",M:"\u4e00\u500b\u6708",MM:"%d\u500b\u6708",y:"\u4e00\u5e74",yy:"%d\u5e74"}});return t})},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1581),s=r(a),u=n(1403),l=r(u),c=n(2413),p=r(c),h=n(261),f=r(h),d=function(){function e(t,n,r,o,a,s){i(this,e),this.name="CssSyntaxError",this.reason=t,a&&(this.file=a),o&&(this.source=o),s&&(this.plugin=s),"undefined"!=typeof n&&"undefined"!=typeof r&&(this.line=n,this.column=r),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>","undefined"!=typeof this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},e.prototype.showSourceCode=function(e){function t(t){return e?h.red.bold(t):t}function n(t){return e?h.gray(t):t}var r=this;if(!this.source)return"";var i=this.source;"undefined"==typeof e&&(e=s["default"]),e&&(i=p["default"](i));var o=i.split(/\r?\n/),a=Math.max(this.line-3,0),u=Math.min(this.line+2,o.length),c=String(u).length,h=new l["default"].constructor({enabled:!0});return o.slice(a,u).map(function(e,i){var o=a+1+i,s=" "+(" "+o).slice(-c)+" | ";if(o===r.line){var u=n(s.replace(/\d/g," "))+e.slice(0,r.column-1).replace(/[^\t]/g," ");return t(">")+n(s)+e+"\n "+u+t("^")}return" "+n(s)+e}).join("\n")},e.prototype.toString=function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e},o(e,[{key:"generated",get:function(){return f["default"]("CssSyntaxError#generated is deprecated. Use input instead."),this.input}}]),e}();t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1551),s=r(a),u=n(2411),l=r(u),c=n(593),p=r(c),h=0,f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.css=t.toString(),"\ufeff"!==this.css[0]&&"\ufffe"!==this.css[0]||(this.css=this.css.slice(1)),n.from&&(this.file=/^\w+:\/\//.test(n.from)?n.from:p["default"].resolve(n.from));var r=new l["default"](this.css,n);if(r.text){this.map=r;var o=r.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}this.file||(h+=1,this.id="<input css "+h+">"),this.map&&(this.map.file=this.from)}return e.prototype.error=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0,o=this.origin(t,n);return i=o?new s["default"](e,o.line,o.column,o.source,o.file,r.plugin):new s["default"](e,t,n,this.css,this.file,r.plugin),i.input={line:t,column:n,source:this.css},this.file&&(i.input.file=this.file),i},e.prototype.origin=function(e,t){if(!this.map)return!1;var n=this.map.consumer(),r=n.originalPositionFor({line:e,column:t});if(!r.source)return!1;var i={file:this.mapResolve(r.source),line:r.line,column:r.column},o=n.sourceContentFor(r.source);return o&&(i.source=o),i},e.prototype.mapResolve=function(e){return/^\w+:\/\//.test(e)?e:p["default"].resolve(this.map.consumer().sourceRoot||".",e)},o(e,[{key:"from",get:function(){return this.file||this.id}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return"object"===("undefined"==typeof e?"undefined":u(e))&&"function"==typeof e.then}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(2409),c=i(l),p=n(1153),h=i(p),f=n(261),d=i(f),m=n(2412),g=i(m),v=n(1150),y=i(v),b=function(){function e(t,n,r){o(this,e),this.stringified=!1,this.processed=!1;var i=void 0;if("object"===("undefined"==typeof n?"undefined":u(n))&&"root"===n.type)i=n;else if(n instanceof e||n instanceof g["default"])i=n.root,n.map&&("undefined"==typeof r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{var a=y["default"];r.syntax&&(a=r.syntax.parse),r.parser&&(a=r.parser),a.parse&&(a=a.parse);try{i=a(n,r)}catch(s){this.error=s}}this.result=new g["default"](t,i,r)}return e.prototype.warnings=function(){return this.sync().warnings()},e.prototype.toString=function(){return this.css},e.prototype.then=function(e,t){return this.async().then(e,t)},e.prototype["catch"]=function(e){return this.async()["catch"](e)},e.prototype.handleError=function(e,t){try{if(this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(t.postcssVersion){var n=t.postcssPlugin,i=t.postcssVersion,o=this.result.processor.version,a=i.split("."),s=o.split(".");(a[0]!==s[0]||parseInt(a[1])>parseInt(s[1]))&&d["default"]("Your current PostCSS version is "+o+", but "+n+" uses "+i+". Perhaps this is the source of the error below.")}}else e.plugin=t.postcssPlugin,e.setMessage()}catch(u){r&&r.error&&r.error(u)}},e.prototype.asyncTick=function(e,t){var n=this;if(this.plugin>=this.processor.plugins.length)return this.processed=!0,e();try{var r=this.processor.plugins[this.plugin],i=this.run(r);this.plugin+=1,a(i)?i.then(function(){n.asyncTick(e,t)})["catch"](function(e){n.handleError(e,r),n.processed=!0,t(e)}):this.asyncTick(e,t)}catch(o){this.processed=!0,t(o)}},e.prototype.async=function(){var e=this;return this.processed?new Promise(function(t,n){e.error?n(e.error):t(e.stringify())}):this.processing?this.processing:(this.processing=new Promise(function(t,n){return e.error?n(e.error):(e.plugin=0,void e.asyncTick(t,n))}).then(function(){return e.processed=!0,e.stringify()}),this.processing)},e.prototype.sync=function(){if(this.processed)return this.result;if(this.processed=!0,this.processing)throw new Error("Use process(css).then(cb) to work with async plugins");if(this.error)throw this.error;for(var e=this.result.processor.plugins,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var i=r,o=this.run(i);if(a(o))throw new Error("Use process(css).then(cb) to work with async plugins")}return this.result},e.prototype.run=function(e){this.result.lastPlugin=e;try{return e(this.result.root,this.result)}catch(t){throw this.handleError(t,e),t}},e.prototype.stringify=function(){if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=h["default"];e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var n=new c["default"](t,this.result.root,this.result.opts),r=n.generate();return this.result.css=r[0],this.result.map=r[1],this.result},s(e,[{key:"processor",get:function(){return this.result.processor}},{key:"opts",get:function(){return this.result.opts}},{key:"css",get:function(){return this.stringify().css}},{key:"content",get:function(){return this.stringify().content}},{key:"map",get:function(){return this.stringify().map}},{key:"root",get:function(){return this.sync().root}},{key:"messages",get:function(){return this.sync().messages}}]),e}();t["default"]=b,e.exports=t["default"]}).call(t,n(3))},function(e,t){"use strict";t.__esModule=!0;var n={split:function r(e,t,n){for(var i=[],o="",r=!1,a=0,s=!1,u=!1,l=0;l<e.length;l++){var c=e[l];s?u?u=!1:"\\"===c?u=!0:c===s&&(s=!1):'"'===c||"'"===c?s=c:"("===c?a+=1:")"===c?a>0&&(a-=1):0===a&&-1!==t.indexOf(c)&&(r=!0),r?(""!==o&&i.push(o.trim()),o="",r=!1):o+=c}return(n||""!==o)&&i.push(o.trim()),i},space:function(e){var t=[" ","\n","	"];return n.split(e,t)},comma:function i(e){var i=",";return n.split(e,[i],!0)}};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(1553),s=r(a),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,e),this.version="5.2.17",this.plugins=this.normalize(t)}return e.prototype.use=function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this},e.prototype.process=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new s["default"](this,e,t)},e.prototype.normalize=function(e){for(var t=[],n=e,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if(i=n.next(),i.done)break;a=i.value}var s=a;if(s.postcss&&(s=s.postcss),"object"===("undefined"==typeof s?"undefined":o(s))&&Array.isArray(s.plugins))t=t.concat(s.plugins);else{if("function"!=typeof s)throw new Error("object"===("undefined"==typeof s?"undefined":o(s))&&(s.parse||s.stringify)?"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.":s+" is not a PostCSS plugin");t.push(s)}}return t},e}();t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e[0].toUpperCase()+e.slice(1)}t.__esModule=!0;var i={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" "},o=function(){function e(t){n(this,e),this.builder=t}return e.prototype.stringify=function(e,t){this[e.type](e,t)},e.prototype.root=function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)
},e.prototype.comment=function(e){var t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)},e.prototype.decl=function(e,t){var n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)},e.prototype.rule=function(e){this.block(e,this.rawValue(e,"selector"))},e.prototype.atrule=function(e,t){var n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if("undefined"!=typeof e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{var i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}},e.prototype.body=function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var n=this.raw(e,"semicolon"),r=0;r<e.nodes.length;r++){var i=e.nodes[r],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==r||n)}},e.prototype.block=function(e,t){var n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start");var r=void 0;e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")},e.prototype.raw=function(e,t,n){var o=void 0;if(n||(n=t),t&&(o=e.raws[t],"undefined"!=typeof o))return o;var a=e.parent;if("before"===n&&(!a||"root"===a.type&&a.first===e))return"";if(!a)return i[n];var s=e.root();if(s.rawCache||(s.rawCache={}),"undefined"!=typeof s.rawCache[n])return s.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);var u="raw"+r(n);return this[u]?o=this[u](s,e):s.walk(function(e){return o=e.raws[t],"undefined"!=typeof o?!1:void 0}),"undefined"==typeof o&&(o=i[n]),s.rawCache[n]=o,o},e.prototype.rawSemicolon=function(e){var t=void 0;return e.walk(function(e){return e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,"undefined"!=typeof t)?!1:void 0}),t},e.prototype.rawEmptyBody=function(e){var t=void 0;return e.walk(function(e){return e.nodes&&0===e.nodes.length&&(t=e.raws.after,"undefined"!=typeof t)?!1:void 0}),t},e.prototype.rawIndent=function(e){if(e.raws.indent)return e.raws.indent;var t=void 0;return e.walk(function(n){var r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&"undefined"!=typeof n.raws.before){var i=n.raws.before.split("\n");return t=i[i.length-1],t=t.replace(/[^\s]/g,""),!1}}),t},e.prototype.rawBeforeComment=function(e,t){var n=void 0;return e.walkComments(function(e){return"undefined"!=typeof e.raws.before?(n=e.raws.before,-1!==n.indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1):void 0}),"undefined"==typeof n&&(n=this.raw(t,null,"beforeDecl")),n},e.prototype.rawBeforeDecl=function(e,t){var n=void 0;return e.walkDecls(function(e){return"undefined"!=typeof e.raws.before?(n=e.raws.before,-1!==n.indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1):void 0}),"undefined"==typeof n&&(n=this.raw(t,null,"beforeRule")),n},e.prototype.rawBeforeRule=function(e){var t=void 0;return e.walk(function(n){return!n.nodes||n.parent===e&&e.first===n||"undefined"==typeof n.raws.before?void 0:(t=n.raws.before,-1!==t.indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1)}),t},e.prototype.rawBeforeClose=function(e){var t=void 0;return e.walk(function(e){return e.nodes&&e.nodes.length>0&&"undefined"!=typeof e.raws.after?(t=e.raws.after,-1!==t.indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1):void 0}),t},e.prototype.rawBeforeOpen=function(e){var t=void 0;return e.walk(function(e){return"decl"!==e.type&&(t=e.raws.between,"undefined"!=typeof t)?!1:void 0}),t},e.prototype.rawColon=function(e){var t=void 0;return e.walkDecls(function(e){return"undefined"!=typeof e.raws.between?(t=e.raws.between.replace(/[^\s:]/g,""),!1):void 0}),t},e.prototype.beforeAfter=function(e,t){var n=void 0;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var r=e.parent,i=0;r&&"root"!==r.type;)i+=1,r=r.parent;if(-1!==n.indexOf("\n")){var o=this.raw(e,null,"indent");if(o.length)for(var a=0;i>a;a++)n+=o}return n},e.prototype.rawValue=function(e,t){var n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n},e}();t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function n(e){function t(t){throw e.error("Unclosed "+t,V,Y-U)}for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=[],A=e.css.valueOf(),S=n.ignoreErrors,M=void 0,T=void 0,D=void 0,O=void 0,L=void 0,F=void 0,P=void 0,N=void 0,B=void 0,R=void 0,j=void 0,I=void 0,$=void 0,z=A.length,U=-1,V=1,Y=0;z>Y;){switch(M=A.charCodeAt(Y),(M===s||M===l||M===p&&A.charCodeAt(Y+1)!==s)&&(U=Y,V+=1),M){case s:case u:case c:case p:case l:T=Y;do T+=1,M=A.charCodeAt(T),M===s&&(U=T,V+=1);while(M===u||M===s||M===c||M===p||M===l);C.push(["space",A.slice(Y,T)]),Y=T-1;break;case h:C.push(["[","[",V,Y-U]);break;case f:C.push(["]","]",V,Y-U]);break;case g:C.push(["{","{",V,Y-U]);break;case v:C.push(["}","}",V,Y-U]);break;case w:C.push([":",":",V,Y-U]);break;case y:C.push([";",";",V,Y-U]);break;case d:if(I=C.length?C[C.length-1][1]:"",$=A.charCodeAt(Y+1),"url"===I&&$!==r&&$!==i&&$!==u&&$!==s&&$!==c&&$!==l&&$!==p){T=Y;do{if(R=!1,T=A.indexOf(")",T+1),-1===T){if(S){T=Y;break}t("bracket")}for(j=T;A.charCodeAt(j-1)===o;)j-=1,R=!R}while(R);C.push(["brackets",A.slice(Y,T+1),V,Y-U,V,T-U]),Y=T}else T=A.indexOf(")",Y+1),F=A.slice(Y,T+1),-1===T||k.test(F)?C.push(["(","(",V,Y-U]):(C.push(["brackets",F,V,Y-U,V,T-U]),Y=T);break;case m:C.push([")",")",V,Y-U]);break;case r:case i:D=M===r?"'":'"',T=Y;do{if(R=!1,T=A.indexOf(D,T+1),-1===T){if(S){T=Y+1;break}t("string")}for(j=T;A.charCodeAt(j-1)===o;)j-=1,R=!R}while(R);F=A.slice(Y,T+1),O=F.split("\n"),L=O.length-1,L>0?(N=V+L,B=T-O[L].length):(N=V,B=U),C.push(["string",A.slice(Y,T+1),V,Y-U,N,T-B]),U=B,V=N,Y=T;break;case _:x.lastIndex=Y+1,x.test(A),T=0===x.lastIndex?A.length-1:x.lastIndex-2,C.push(["at-word",A.slice(Y,T+1),V,Y-U,V,T-U]),Y=T;break;case o:for(T=Y,P=!0;A.charCodeAt(T+1)===o;)T+=1,P=!P;M=A.charCodeAt(T+1),P&&M!==a&&M!==u&&M!==s&&M!==c&&M!==p&&M!==l&&(T+=1),C.push(["word",A.slice(Y,T+1),V,Y-U,V,T-U]),Y=T;break;default:M===a&&A.charCodeAt(Y+1)===b?(T=A.indexOf("*/",Y+2)+1,0===T&&(S?T=A.length:t("comment")),F=A.slice(Y,T+1),O=F.split("\n"),L=O.length-1,L>0?(N=V+L,B=T-O[L].length):(N=V,B=U),C.push(["comment",F,V,Y-U,N,T-B]),U=B,V=N,Y=T):(E.lastIndex=Y+1,E.test(A),T=0===E.lastIndex?A.length-1:E.lastIndex-2,C.push(["word",A.slice(Y,T+1),V,Y-U,V,T-U]),Y=T)}Y++}return C}t.__esModule=!0,t["default"]=n;var r=39,i=34,o=92,a=47,s=10,u=32,l=12,c=9,p=13,h=91,f=93,d=40,m=41,g=123,v=125,y=59,b=42,w=58,_=64,x=/[ \n\t\r\f\{\(\)'"\\;\/\[\]#]/g,E=/[ \n\t\r\f\(\)\{\}:;@!'"\\\]\[#]|\/(?=\*)/g,k=/.[\\\/\("'\n]/;e.exports=t["default"]},,,,,,,,,function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){function r(){v===g&&(v=g.slice())}function o(){return m}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),v.push(e),function(){if(t){t=!1,r();var n=v.indexOf(e);v.splice(n,1)}}}function c(e){if(!a["default"](e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=d(m,e)}finally{y=!1}for(var t=g=v,n=0;n<t.length;n++)t[n]();return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");d=e,c({type:l.INIT})}function h(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u["default"]]=function(){return this},e}var f;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var d=e,m=t,g=[],v=g,y=!1;return c({type:l.INIT}),f={dispatch:c,subscribe:s,getState:o,replaceReducer:p},f[u["default"]]=h,f}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=i;var o=n(1462),a=r(o),s=n(2481),u=r(s),l=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(1567),o=r(i),a=n(2434),s=r(a),u=n(2433),l=r(u),c=n(2432),p=r(c),h=n(1566),f=r(h),d=n(1569);r(d),t.createStore=o["default"],t.combineReducers=s["default"],t.bindActionCreators=l["default"],t.applyMiddleware=p["default"],t.compose=f["default"]},function(e,t,n){(function(e){"use strict";function n(t){"undefined"!=typeof e&&"function"==typeof e.error&&e.error(t);try{throw new Error(t)}catch(n){}}t.__esModule=!0,t["default"]=n}).call(t,n(3))},,function(e){!function(){"use strict";var t="undefined"!=typeof e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};i>r;r++)if(e=n[r],e&&e[1]in document){for(r=0,t=e.length;t>r;r++)o[n[0][r]]=e[r];return o}return!1}(),i={request:function(e){var t=r.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:r};return r?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[r.fullscreenEnabled])}}}),void(t?e.exports=i:window.screenfull=i)):void(t?e.exports=!1:window.screenfull=!1)}()},function(e,t,n){function r(){this._array=[],this._set=Object.create(null)}var i=n(609),o=Object.prototype.hasOwnProperty;r.fromArray=function(e,t){for(var n=new r,i=0,o=e.length;o>i;i++)n.add(e[i],t);return n},r.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(e,t){var n=i.toSetString(e),r=o.call(this._set,n),a=this._array.length;r&&!t||this._array.push(e),r||(this._set[n]=a)},r.prototype.has=function(e){var t=i.toSetString(e);return o.call(this._set,t)},r.prototype.indexOf=function(e){var t=i.toSetString(e);if(o.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},t.ArraySet=r},function(e,t,n){function r(e){return 0>e?(-e<<1)+1:(e<<1)+0}function i(e){var t=1===(1&e),n=e>>1;return t?-n:n}var o=n(2453),a=5,s=1<<a,u=s-1,l=s;t.encode=function(e){var t,n="",i=r(e);do t=i&u,i>>>=a,i>0&&(t|=l),n+=o.encode(t);while(i>0);return n},t.decode=function(e,t,n){var r,s,c=e.length,p=0,h=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(s=o.decode(e.charCodeAt(t++)),-1===s)throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(s&l),s&=u,p+=s<<h,h+=a}while(r);n.value=i(p),n.rest=t}},function(e,t,n){function r(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new a,this._names=new a,this._mappings=new s,this._sourcesContents=null}var i=n(1573),o=n(609),a=n(1572).ArraySet,s=n(2455).MappingList;r.prototype._version=3,r.fromSourceMap=function(e){var t=e.sourceRoot,n=new r({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)}),n},r.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},r.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},r.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=o.relative(i,r));var s=new a,u=new a;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=o.join(n,t.source)),null!=i&&(t.source=o.relative(i,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var l=t.source;null==l||s.has(l)||s.add(l);var c=t.name;null==c||u.has(c)||u.add(c)},this),this._sources=s,this._names=u,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=i&&(t=o.relative(i,t)),this.setSourceContent(t,r))},this)},r.prototype._validateMapping=function(e,t,n,r){if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!n&&!r||e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},r.prototype._serializeMappings=function(){for(var e,t,n,r,a=0,s=1,u=0,l=0,c=0,p=0,h="",f=this._mappings.toArray(),d=0,m=f.length;m>d;d++){if(t=f[d],e="",t.generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(d>0){if(!o.compareByGeneratedPositionsInflated(t,f[d-1]))continue;e+=","}e+=i.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=i.encode(r-p),p=r,e+=i.encode(t.originalLine-1-l),l=t.originalLine-1,e+=i.encode(t.originalColumn-u),u=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=i.encode(n-c),c=n)),h+=e}return h},r.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},r.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},r.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=r},function(e,t,n){t.SourceMapGenerator=n(1574).SourceMapGenerator,t.SourceMapConsumer=n(2457).SourceMapConsumer,t.SourceNode=n(2458).SourceNode},,,,,,function(e){"use strict";e.exports=!1},,,,,,function(e,t,n){var r,i;(function(o){!function(e){"use strict";function t(e){var t=e.length,r=n.type(e);return"function"!==r&&!n.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return e&&e===e.window},n.type=function(e){return e?"object"==typeof e||"function"==typeof e?i[a.call(e)]||"object":typeof e:e+""},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(t in e);return void 0===t||o.call(e,t)},n.each=function(e,n,r){var i,o=0,a=e.length,s=t(e);if(r){if(s)for(;a>o&&(i=n.apply(e[o],r),i!==!1);o++);else for(o in e)if(e.hasOwnProperty(o)&&(i=n.apply(e[o],r),i===!1))break}else if(s)for(;a>o&&(i=n.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(e.hasOwnProperty(o)&&(i=n.call(e[o],o,e[o]),i===!1))break;return e},n.data=function(e,t,i){if(void 0===i){var o=e[n.expando],a=o&&r[o];if(void 0===t)return a;if(a&&t in a)return a[t]}else if(void 0!==t){var s=e[n.expando]||(e[n.expando]=++n.uuid);return r[s]=r[s]||{},r[s][t]=i,i}},n.removeData=function(e,t){var i=e[n.expando],o=i&&r[i];o&&(t?n.each(t,function(e,t){delete o[t]}):delete r[i])},n.extend=function(){var e,t,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[u]||{},u++),"object"!=typeof s&&"function"!==n.type(s)&&(s={}),u===l&&(s=this,u--);l>u;u++)if(o=arguments[u])for(i in o)o.hasOwnProperty(i)&&(e=s[i],r=o[i],s!==r&&(c&&r&&(n.isPlainObject(r)||(t=n.isArray(r)))?(t?(t=!1,a=e&&n.isArray(e)?e:[]):a=e&&n.isPlainObject(e)?e:{},s[i]=n.extend(c,a,r)):void 0!==r&&(s[i]=r)));return s},n.queue=function(e,r,i){function o(e,n){var r=n||[];return e&&(t(Object(e))?!function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e}(r,"string"==typeof e?[e]:e):[].push.call(r,e)),r}if(e){r=(r||"fx")+"queue";var a=n.data(e,r);return i?(!a||n.isArray(i)?a=n.data(e,r,o(i)):a.push(i),a):a||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,r){t=t||"fx";var i=n.queue(r,t),o=i.shift();"inprogress"===o&&(o=i.shift()),o&&("fx"===t&&i.unshift("inprogress"),o.call(r,function(){n.dequeue(r,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position;)t=t.offsetParent;return t||document}var t=this[0],r=e(t),i=this.offset(),o=/^(?:body|html)$/i.test(r.nodeName)?{top:0,left:0}:n(r).offset();return i.top-=parseFloat(t.style.marginTop)||0,i.left-=parseFloat(t.style.marginLeft)||0,r.style&&(o.top+=parseFloat(r.style.borderTopWidth)||0,o.left+=parseFloat(r.style.borderLeftWidth)||0),{top:i.top-o.top,left:i.left-o.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var i={},o=i.hasOwnProperty,a=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),u=0;u<s.length;u++)i["[object "+s[u]+"]"]=s[u].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(o){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=o():(r=o,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i)))}(function(){"use strict";return function(e,t,n,r){function i(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function a(e){return _.isWrapped(e)?e=b.call(e):_.isNode(e)&&(e=[e]),e}function s(e){var t=m.data(e,"velocity");return null===t?r:t}function u(e,t){var n=s(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function l(e){var t=s(e);t&&t.delayTimer&&t.delayPaused&&(t.delayPaused=!1,t.delayTimer.setTimeout=setTimeout(t.delayTimer.next,t.delayRemaining))}function c(e){return function(t){return Math.round(t*e)*(1/e)}}function p(e,n,r,i){function o(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function s(e){return 3*e}function u(e,t,n){return((o(t,n)*e+a(t,n))*e+s(t))*e}function l(e,t,n){return 3*o(t,n)*e*e+2*a(t,n)*e+s(t)}function c(t,n){for(var i=0;m>i;++i){var o=l(n,e,r);if(0===o)return n;var a=u(n,e,r)-t;n-=a/o}return n}function p(){for(var t=0;b>t;++t)E[t]=u(t*w,e,r)}function h(t,n,i){var o,a,s=0;do a=n+(i-n)/2,o=u(a,e,r)-t,o>0?i=a:n=a;while(Math.abs(o)>v&&++s<y);return a}function f(t){for(var n=0,i=1,o=b-1;i!==o&&E[i]<=t;++i)n+=w;--i;var a=(t-E[i])/(E[i+1]-E[i]),s=n+a*w,u=l(s,e,r);return u>=g?c(t,s):0===u?s:h(t,n,n+w)}function d(){k=!0,e===n&&r===i||p()}var m=4,g=.001,v=1e-7,y=10,b=11,w=1/(b-1),_="Float32Array"in t;if(4!==arguments.length)return!1;for(var x=0;4>x;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var E=_?new Float32Array(b):new Array(b),k=!1,C=function(t){return k||d(),e===n&&r===i?t:0===t?0:1===t?1:u(f(t),n,i)};C.getControlPoints=function(){return[{x:e,y:n},{x:r,y:i}]};var A="generateBezier("+[e,n,r,i]+")";return C.toString=function(){return A},C}function h(e,t){var n=e;return _.isString(e)?C.Easings[e]||(n=!1):n=_.isArray(e)&&1===e.length?c.apply(null,e):_.isArray(e)&&2===e.length?A.apply(null,e.concat([t])):!(!_.isArray(e)||4!==e.length)&&p.apply(null,e),n===!1&&(n=C.Easings[C.defaults.easing]?C.defaults.easing:k),n}function f(e){if(e){var t=C.timestamp&&e!==!0?e:y.now(),n=C.State.calls.length;n>1e4&&(C.State.calls=i(C.State.calls),n=C.State.calls.length);for(var o=0;n>o;o++)if(C.State.calls[o]){var a=C.State.calls[o],u=a[0],l=a[2],c=a[3],p=!!c,h=null,v=a[5],b=a[6];if(c||(c=C.State.calls[o][3]=t-16),v){if(v.resume!==!0)continue;c=a[3]=Math.round(t-b-16),a[5]=null}b=a[6]=t-c;for(var w=Math.min(b/l.duration,1),x=0,E=u.length;E>x;x++){var k=u[x],A=k.element;if(s(A)){var M=!1;if(l.display!==r&&null!==l.display&&"none"!==l.display){if("flex"===l.display){var D=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];m.each(D,function(e,t){S.setPropertyValue(A,"display",t)})}S.setPropertyValue(A,"display",l.display)}l.visibility!==r&&"hidden"!==l.visibility&&S.setPropertyValue(A,"visibility",l.visibility);for(var O in k)if(k.hasOwnProperty(O)&&"element"!==O){var L,F=k[O],P=_.isString(F.easing)?C.Easings[F.easing]:F.easing;if(_.isString(F.pattern)){var N=1===w?function(e,t,n){var r=F.endValue[t];return n?Math.round(r):r}:function(e,t,n){var r=F.startValue[t],i=F.endValue[t]-r,o=r+i*P(w,l,i);return n?Math.round(o):o};L=F.pattern.replace(/{(\d+)(!)?}/g,N)}else if(1===w)L=F.endValue;else{var B=F.endValue-F.startValue;L=F.startValue+B*P(w,l,B)}if(!p&&L===F.currentValue)continue;if(F.currentValue=L,"tween"===O)h=L;else{var R;if(S.Hooks.registered[O]){R=S.Hooks.getRoot(O);var j=s(A).rootPropertyValueCache[R];j&&(F.rootPropertyValue=j)}var I=S.setPropertyValue(A,O,F.currentValue+(9>g&&0===parseFloat(L)?"":F.unitType),F.rootPropertyValue,F.scrollData);S.Hooks.registered[O]&&(s(A).rootPropertyValueCache[R]=S.Normalizations.registered[R]?S.Normalizations.registered[R]("extract",null,I[1]):I[1]),"transform"===I[0]&&(M=!0)}}l.mobileHA&&s(A).transformCache.translate3d===r&&(s(A).transformCache.translate3d="(0px, 0px, 0px)",M=!0),M&&S.flushTransformCache(A)}}l.display!==r&&"none"!==l.display&&(C.State.calls[o][2].display=!1),l.visibility!==r&&"hidden"!==l.visibility&&(C.State.calls[o][2].visibility=!1),l.progress&&l.progress.call(a[1],a[1],w,Math.max(0,c+l.duration-t),c,h),1===w&&d(o)}}C.State.isTicking&&T(f)}function d(e,t){if(!C.State.calls[e])return!1;for(var n=C.State.calls[e][0],i=C.State.calls[e][1],o=C.State.calls[e][2],a=C.State.calls[e][4],u=!1,l=0,c=n.length;c>l;l++){var p=n[l].element;t||o.loop||("none"===o.display&&S.setPropertyValue(p,"display",o.display),"hidden"===o.visibility&&S.setPropertyValue(p,"visibility",o.visibility));var h=s(p);if(o.loop!==!0&&(m.queue(p)[1]===r||!/\.velocityQueueEntryFlag/i.test(m.queue(p)[1]))&&h){h.isAnimating=!1,h.rootPropertyValueCache={};var f=!1;m.each(S.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,i=h.transformCache[t];h.transformCache[t]!==r&&new RegExp("^\\("+n+"[^.]").test(i)&&(f=!0,delete h.transformCache[t])}),o.mobileHA&&(f=!0,delete h.transformCache.translate3d),f&&S.flushTransformCache(p),S.Values.removeClass(p,"velocity-animating")}if(!t&&o.complete&&!o.loop&&l===c-1)try{o.complete.call(i,i)}catch(d){setTimeout(function(){throw d},1)}a&&o.loop!==!0&&a(i),h&&o.loop===!0&&!t&&(m.each(h.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360===0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),C(p,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&m.dequeue(p,o.queue)}C.State.calls[e]=!1;for(var g=0,v=C.State.calls.length;v>g;g++)if(C.State.calls[g]!==!1){u=!0;break}u===!1&&(C.State.isTicking=!1,delete C.State.calls,C.State.calls=[])}var m,g=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return r}(),v=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-e)),e=r+n,setTimeout(function(){t(r+n)},n)}}(),y=function(){var e=t.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}(),b=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(t){return function(t,n){var r=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=r),this.slice)return e.call(this,t,n);var i,o=[],a=t>=0?t:Math.max(0,r+t),s=0>n?r+n:Math.min(n,r),u=s-a;if(u>0)if(o=new Array(u),this.charAt)for(i=0;u>i;i++)o[i]=this.charAt(a+i);else for(i=0;u>i;i++)o[i]=this[a+i];return o}}}(),w=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}},_={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&_.isNumber(e.length)&&!_.isString(e)&&!_.isFunction(e)&&!_.isNode(e)&&(0===e.length||_.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},x=!1;if(e.fn&&e.fn.jquery?(m=e,x=!0):m=t.Velocity.Utilities,8>=g&&!x)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=g)return void(jQuery.fn.velocity=jQuery.fn.animate);var E=400,k="swing",C={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:E,easing:k,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){m.data(e,"velocity",{isSVG:_.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:0},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();m.each(C.State.calls,function(t,n){if(n){if(e!==r&&(n[2].queue!==e||n[2].queue===!1))return!0;n[5]={resume:!1}}}),m.each(C.State.delayedElements,function(e,n){n&&u(n,t)})},resumeAll:function(e){var t=(new Date).getTime();m.each(C.State.calls,function(t,n){if(n){if(e!==r&&(n[2].queue!==e||n[2].queue===!1))return!0;n[5]&&(n[5].resume=!0)}}),m.each(C.State.delayedElements,function(e,n){n&&l(n,t)})}};t.pageYOffset!==r?(C.State.scrollAnchor=t,C.State.scrollPropertyLeft="pageXOffset",C.State.scrollPropertyTop="pageYOffset"):(C.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,C.State.scrollPropertyLeft="scrollLeft",C.State.scrollPropertyTop="scrollTop");var A=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},o=t(n,.5*r,i),a=t(n,.5*r,o),s=t(n,r,a),u=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),l=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+u*r,n.v=n.v+l*r,n}return function r(e,t,i){var o,a,s,u={x:-1,v:0,tension:null,friction:null},l=[0],c=0,p=1e-4,h=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,i=i||null,u.tension=e,u.friction=t,o=null!==i,o?(c=r(e,t),a=c/i*h):a=h;s=n(s||u,a),l.push(1+s.x),c+=16,Math.abs(s.x)>p&&Math.abs(s.v)>p;);return o?function(e){return l[e*(l.length-1)|0]}:c}}();C.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){C.Easings[t[0]]=p.apply(null,t[1])});var S=C.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<S.Lists.colors.length;e++){var t="color"===S.Lists.colors[e]?"0 0 0 1":"255 255 255 1";
S.Hooks.templates[S.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,r,i;if(g)for(n in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(n)){r=S.Hooks.templates[n],i=r[0].split(" ");var o=r[1].match(S.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),o.push(o.shift()),S.Hooks.templates[n]=[i.join(" "),o.join(" ")])}for(n in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(n)){r=S.Hooks.templates[n],i=r[0].split(" ");for(var a in i)if(i.hasOwnProperty(a)){var s=n+i[a],u=a;S.Hooks.registered[s]=[n,u]}}},getRoot:function(e){var t=S.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&w(S.Lists.units,n)?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,n){return S.Lists.colorNames.hasOwnProperty(n)?(t?t:"rgba(")+S.Lists.colorNames[n]+(t?"":",1)"):t+n})},cleanRootPropertyValue:function(e,t){return S.RegEx.valueUnwrap.test(t)&&(t=t.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(t)&&(t=S.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=S.Hooks.registered[e];if(n){var r=n[0],i=n[1];return t=S.Hooks.cleanRootPropertyValue(r,t),t.toString().match(S.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,n){var r=S.Hooks.registered[e];if(r){var i,o,a=r[0],s=r[1];return n=S.Hooks.cleanRootPropertyValue(a,n),i=n.toString().match(S.RegEx.valueSplit),i[s]=t,o=i.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var r;return S.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(S.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return C.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var i=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=i?i[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(8>=g)switch(e){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){function e(e,t,n){var r="border-box"===S.getPropertyValue(t,"boxSizing").toString().toLowerCase();if(r===(n||!1)){var i,o,a=0,s="width"===e?["Left","Right"]:["Top","Bottom"],u=["padding"+s[0],"padding"+s[1],"border"+s[0]+"Width","border"+s[1]+"Width"];for(i=0;i<u.length;i++)o=parseFloat(S.getPropertyValue(t,u[i])),isNaN(o)||(a+=o);return n?-a:a}return 0}function t(t,n){return function(r,i,o){switch(r){case"name":return t;case"extract":return parseFloat(o)+e(t,i,n);case"inject":return parseFloat(o)-e(t,i,n)+"px"}}}g&&!(g>9)||C.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var n=0;n<S.Lists.transformsBase.length;n++)!function(){var e=S.Lists.transformsBase[n];S.Normalizations.registered[e]=function(t,n,i){switch(t){case"name":return"transform";case"extract":return s(n)===r||s(n).transformCache[e]===r?/^scale/i.test(e)?1:0:s(n).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":C.State.isAndroid&&s(n).transformCache[e]===r&&1>i&&(i=1),o=!/(\d)$/i.test(i);break;case"skew":o=!/(deg|\d)$/i.test(i);break;case"rotate":o=!/(deg|\d)$/i.test(i)}return o||(s(n).transformCache[e]="("+i+")"),s(n).transformCache[e]}}}();for(var i=0;i<S.Lists.colors.length;i++)!function(){var e=S.Lists.colors[i];S.Normalizations.registered[e]=function(t,n,i){switch(t){case"name":return e;case"extract":var o;if(S.RegEx.wrappedValueAlreadyExtracted.test(i))o=i;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?a=s[i]!==r?s[i]:s.black:S.RegEx.isHex.test(i)?a="rgb("+S.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(a=s.black),o=(a||i).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!g||g>8)&&3===o.split(" ").length&&(o+=" 1"),o;case"inject":return/^rgb/.test(i)?i:(8>=g?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(8>=g?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();S.Normalizations.registered.innerWidth=t("width",!0),S.Normalizations.registered.innerHeight=t("height",!0),S.Normalizations.registered.outerWidth=t("width"),S.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(g||C.State.isAndroid&&!C.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(C.State.prefixMatches[e])return[C.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,r=t.length;r>n;n++){var i;if(i=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),_.isString(C.State.prefixElement.style[i]))return C.State.prefixMatches[e]=i,[i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,r){return t+t+n+n+r+r}),t=r.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(_.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(7>=g?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(_.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(7>=g?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,i,a){function u(e,n){var i=0;if(8>=g)i=m.css(e,n);else{var o=!1;/^(width|height)$/.test(n)&&0===S.getPropertyValue(e,"display")&&(o=!0,S.setPropertyValue(e,"display",S.Values.getDisplayType(e)));var l=function(){o&&S.setPropertyValue(e,"display","none")};if(!a){if("height"===n&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(S.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(S.getPropertyValue(e,"paddingBottom"))||0);return l(),c}if("width"===n&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var p=e.offsetWidth-(parseFloat(S.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(S.getPropertyValue(e,"paddingRight"))||0);return l(),p}}var h;h=s(e)===r?t.getComputedStyle(e,null):s(e).computedStyle?s(e).computedStyle:s(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),i=9===g&&"filter"===n?h.getPropertyValue(n):h[n],""!==i&&null!==i||(i=e.style[n]),l()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(n)){var f=u(e,"position");("fixed"===f||"absolute"===f&&/top|left/i.test(n))&&(i=m(e).position()[n]+"px")}return i}var l;if(S.Hooks.registered[n]){var c=n,p=S.Hooks.getRoot(c);i===r&&(i=S.getPropertyValue(e,S.Names.prefixCheck(p)[0])),S.Normalizations.registered[p]&&(i=S.Normalizations.registered[p]("extract",e,i)),l=S.Hooks.extractValue(c,i)}else if(S.Normalizations.registered[n]){var h,f;h=S.Normalizations.registered[n]("name",e),"transform"!==h&&(f=u(e,S.Names.prefixCheck(h)[0]),S.Values.isCSSNullValue(f)&&S.Hooks.templates[n]&&(f=S.Hooks.templates[n][1])),l=S.Normalizations.registered[n]("extract",e,f)}if(!/^[\d-]/.test(l)){var d=s(e);if(d&&d.isSVG&&S.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=e.getBBox()[n]}catch(v){l=0}else l=e.getAttribute(n);else l=u(e,S.Names.prefixCheck(n)[0])}return S.Values.isCSSNullValue(l)&&(l=0),C.debug>=2&&o.log("Get "+n+": "+l),l},setPropertyValue:function(e,n,r,i,a){var u=n;if("scroll"===n)a.container?a.container["scroll"+a.direction]=r:"Left"===a.direction?t.scrollTo(r,a.alternateValue):t.scrollTo(a.alternateValue,r);else if(S.Normalizations.registered[n]&&"transform"===S.Normalizations.registered[n]("name",e))S.Normalizations.registered[n]("inject",e,r),u="transform",r=s(e).transformCache[n];else{if(S.Hooks.registered[n]){var l=n,c=S.Hooks.getRoot(n);i=i||S.getPropertyValue(e,c),r=S.Hooks.injectValue(l,r,i),n=c}if(S.Normalizations.registered[n]&&(r=S.Normalizations.registered[n]("inject",e,r),n=S.Normalizations.registered[n]("name",e)),u=S.Names.prefixCheck(n)[0],8>=g)try{e.style[u]=r}catch(p){C.debug&&o.log("Browser does not support ["+r+"] for ["+u+"]")}else{var h=s(e);h&&h.isSVG&&S.Names.SVGAttribute(n)?e.setAttribute(n,r):e.style[u]=r}C.debug>=2&&o.log("Set "+n+" ("+u+"): "+r)}return[u,r]},flushTransformCache:function(e){var t="",n=s(e);if((g||C.State.isAndroid&&!C.State.isChrome)&&n&&n.isSVG){var r=function(t){return parseFloat(S.getPropertyValue(e,t))},i={translate:[r("translateX"),r("translateY")],skewX:[r("skewX")],skewY:[r("skewY")],scale:1!==r("scale")?[r("scale"),r("scale")]:[r("scaleX"),r("scaleY")],rotate:[r("rotateZ"),0,0]};m.each(s(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(t+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var o,a;m.each(s(e).transformCache,function(n){return o=s(e).transformCache[n],"transformPerspective"===n?(a=o,!0):(9===g&&"rotateZ"===n&&(n="rotate"),void(t+=n+o+" "))}),a&&(t="perspective"+a+" "+t)}S.setPropertyValue(e,"transform",t)}};S.Hooks.register(),S.Normalizations.register(),C.hook=function(e,t,n){var i;return e=a(e),m.each(e,function(e,o){if(s(o)===r&&C.init(o),n===r)i===r&&(i=S.getPropertyValue(o,t));else{var a=S.setPropertyValue(o,t,n);"transform"===a[0]&&C.CSS.flushTransformCache(o),i=a}}),i};var M=function(){function e(){return p?A.promise||null:g}function i(e,i){function a(){var a,p;if(l.begin&&0===D)try{l.begin.call(y,y)}catch(d){setTimeout(function(){throw d},1)}if("scroll"===F){var g,v,E,k=/^x$/i.test(l.axis)?"Left":"Top",M=parseFloat(l.offset)||0;l.container?_.isWrapped(l.container)||_.isNode(l.container)?(l.container=l.container[0]||l.container,g=l.container["scroll"+k],E=g+m(e).position()[k.toLowerCase()]+M):l.container=null:(g=C.State.scrollAnchor[C.State["scrollProperty"+k]],v=C.State.scrollAnchor[C.State["scrollProperty"+("Left"===k?"Top":"Left")]],E=m(e).offset()[k.toLowerCase()]+M),c={scroll:{rootPropertyValue:!1,startValue:g,currentValue:g,endValue:E,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:k,alternateValue:v}},element:e},C.debug&&o.log("tweensContainer (scroll): ",c.scroll,e)}else if("reverse"===F){if(a=s(e),!a)return;if(!a.tweensContainer)return void m.dequeue(e,l.queue);"none"===a.opts.display&&(a.opts.display="auto"),"hidden"===a.opts.visibility&&(a.opts.visibility="visible"),a.opts.loop=!1,a.opts.begin=null,a.opts.complete=null,x.easing||delete l.easing,x.duration||delete l.duration,l=m.extend({},a.opts,l),p=m.extend(!0,{},a?a.tweensContainer:null);for(var O in p)if(p.hasOwnProperty(O)&&"element"!==O){var L=p[O].startValue;p[O].startValue=p[O].currentValue=p[O].endValue,p[O].endValue=L,_.isEmptyObject(x)||(p[O].easing=l.easing),C.debug&&o.log("reverse tweensContainer ("+O+"): "+JSON.stringify(p[O]),e)}c=p}else if("start"===F){a=s(e),a&&a.tweensContainer&&a.isAnimating===!0&&(p=a.tweensContainer);var P=function(t,n){var r,o,a;return _.isFunction(t)&&(t=t.call(e,i,T)),_.isArray(t)?(r=t[0],!_.isArray(t[1])&&/^[\d-]/.test(t[1])||_.isFunction(t[1])||S.RegEx.isHex.test(t[1])?a=t[1]:_.isString(t[1])&&!S.RegEx.isHex.test(t[1])&&C.Easings[t[1]]||_.isArray(t[1])?(o=n?t[1]:h(t[1],l.duration),a=t[2]):a=t[1]||t[2]):r=t,n||(o=o||l.easing),_.isFunction(r)&&(r=r.call(e,i,T)),_.isFunction(a)&&(a=a.call(e,i,T)),[r||0,o,a]},N=function(i,s){var h,f=S.Hooks.getRoot(i),d=!1,g=s[0],v=s[1],y=s[2];if(!(a&&a.isSVG||"tween"===f||S.Names.prefixCheck(f)[1]!==!1||S.Normalizations.registered[f]!==r))return void(C.debug&&o.log("Skipping ["+f+"] due to a lack of browser support."));(l.display!==r&&null!==l.display&&"none"!==l.display||l.visibility!==r&&"hidden"!==l.visibility)&&/opacity|filter/.test(i)&&!y&&0!==g&&(y=0),l._cacheValues&&p&&p[i]?(y===r&&(y=p[i].endValue+p[i].unitType),d=a.rootPropertyValueCache[f]):S.Hooks.registered[i]?y===r?(d=S.getPropertyValue(e,f),y=S.getPropertyValue(e,i,d)):d=S.Hooks.templates[f][1]:y===r&&(y=S.getPropertyValue(e,i));var b,w,x,E=!1,k=function(e,t){var n,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=S.Values.getUnitType(e)),[r,n]};if(y!==g&&_.isString(y)&&_.isString(g)){h="";var A=0,M=0,T=[],D=[],O=0,L=0,F=0;for(y=S.Hooks.fixColors(y),g=S.Hooks.fixColors(g);A<y.length&&M<g.length;){var P=y[A],N=g[M];if(/[\d\.-]/.test(P)&&/[\d\.-]/.test(N)){for(var B=P,R=N,j=".",$=".";++A<y.length;){if(P=y[A],P===j)j="..";else if(!/\d/.test(P))break;B+=P}for(;++M<g.length;){if(N=g[M],N===$)$="..";else if(!/\d/.test(N))break;R+=N}var z=S.Hooks.getUnit(y,A),U=S.Hooks.getUnit(g,M);if(A+=z.length,M+=U.length,z===U)B===R?h+=B+z:(h+="{"+T.length+(L?"!":"")+"}"+z,T.push(parseFloat(B)),D.push(parseFloat(R)));else{var V=parseFloat(B),Y=parseFloat(R);h+=(5>O?"calc":"")+"("+(V?"{"+T.length+(L?"!":"")+"}":"0")+z+" + "+(Y?"{"+(T.length+(V?1:0))+(L?"!":"")+"}":"0")+U+")",V&&(T.push(V),D.push(0)),Y&&(T.push(0),D.push(Y))}}else{if(P!==N){O=0;break}h+=P,A++,M++,0===O&&"c"===P||1===O&&"a"===P||2===O&&"l"===P||3===O&&"c"===P||O>=4&&"("===P?O++:(O&&5>O||O>=4&&")"===P&&--O<5)&&(O=0),0===L&&"r"===P||1===L&&"g"===P||2===L&&"b"===P||3===L&&"a"===P||L>=3&&"("===P?(3===L&&"a"===P&&(F=1),L++):F&&","===P?++F>3&&(L=F=0):(F&&(F?5:4)>L||L>=(F?4:3)&&")"===P&&--L<(F?5:4))&&(L=F=0)}}A===y.length&&M===g.length||(C.debug&&o.error('Trying to pattern match mis-matched strings ["'+g+'", "'+y+'"]'),h=r),h&&(T.length?(C.debug&&o.log('Pattern found "'+h+'" -> ',T,D,"["+y+","+g+"]"),y=T,g=D,w=x=""):h=r)}h||(b=k(i,y),y=b[0],x=b[1],b=k(i,g),g=b[0].replace(/^([+-\/*])=/,function(e,t){return E=t,""}),w=b[1],y=parseFloat(y)||0,g=parseFloat(g)||0,"%"===w&&(/^(fontSize|lineHeight)$/.test(i)?(g/=100,w="em"):/^scale/.test(i)?(g/=100,w=""):/(Red|Green|Blue)$/i.test(i)&&(g=g/100*255,w="")));var W=function(){var r={myParent:e.parentNode||n.body,position:S.getPropertyValue(e,"position"),fontSize:S.getPropertyValue(e,"fontSize")},i=r.position===I.lastPosition&&r.myParent===I.lastParent,s=r.fontSize===I.lastFontSize;I.lastParent=r.myParent,I.lastPosition=r.position,I.lastFontSize=r.fontSize;var u=100,l={};if(s&&i)l.emToPx=I.lastEmToPx,l.percentToPxWidth=I.lastPercentToPxWidth,l.percentToPxHeight=I.lastPercentToPxHeight;else{var c=a&&a.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");C.init(c),r.myParent.appendChild(c),m.each(["overflow","overflowX","overflowY"],function(e,t){C.CSS.setPropertyValue(c,t,"hidden")}),C.CSS.setPropertyValue(c,"position",r.position),C.CSS.setPropertyValue(c,"fontSize",r.fontSize),C.CSS.setPropertyValue(c,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){C.CSS.setPropertyValue(c,t,u+"%")}),C.CSS.setPropertyValue(c,"paddingLeft",u+"em"),l.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(c,"width",null,!0))||1)/u,l.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(c,"height",null,!0))||1)/u,l.emToPx=I.lastEmToPx=(parseFloat(S.getPropertyValue(c,"paddingLeft"))||1)/u,r.myParent.removeChild(c)}return null===I.remToPx&&(I.remToPx=parseFloat(S.getPropertyValue(n.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(t.innerWidth)/100,I.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=I.remToPx,l.vwToPx=I.vwToPx,l.vhToPx=I.vhToPx,C.debug>=1&&o.log("Unit ratios: "+JSON.stringify(l),e),l};if(/[\/*]/.test(E))w=x;else if(x!==w&&0!==y)if(0===g)w=x;else{u=u||W();var H=/margin|padding|left|right|width|text|word|letter/i.test(i)||/X$/.test(i)||"x"===i?"x":"y";switch(x){case"%":y*="x"===H?u.percentToPxWidth:u.percentToPxHeight;break;case"px":break;default:y*=u[x+"ToPx"]}switch(w){case"%":y*=1/("x"===H?u.percentToPxWidth:u.percentToPxHeight);break;case"px":break;default:y*=1/u[w+"ToPx"]}}switch(E){case"+":g=y+g;break;case"-":g=y-g;break;case"*":g=y*g;break;case"/":g=y/g}c[i]={rootPropertyValue:d,startValue:y,currentValue:y,endValue:g,unitType:w,easing:v},h&&(c[i].pattern=h),C.debug&&o.log("tweensContainer ("+i+"): "+JSON.stringify(c[i]),e)};for(var B in b)if(b.hasOwnProperty(B)){var R=S.Names.camelCase(B),j=P(b[B]);if(w(S.Lists.colors,R)){var z=j[0],U=j[1],V=j[2];if(S.RegEx.isHex.test(z)){for(var Y=["Red","Green","Blue"],W=S.Values.hexToRgb(z),H=V?S.Values.hexToRgb(V):r,q=0;q<Y.length;q++){var G=[W[q]];U&&G.push(U),H!==r&&G.push(H[q]),N(R+Y[q],G)}continue}}N(R,j)}c.element=e}c.element&&(S.Values.addClass(e,"velocity-animating"),$.push(c),a=s(e),a&&(""===l.queue&&(a.tweensContainer=c,a.opts=l),a.isAnimating=!0),D===T-1?(C.State.calls.push([$,y,l,null,A.resolver,null,0]),C.State.isTicking===!1&&(C.State.isTicking=!0,f())):D++)}var u,l=m.extend({},C.defaults,x),c={};switch(s(e)===r&&C.init(e),parseFloat(l.delay)&&l.queue!==!1&&m.queue(e,l.queue,function(t){C.velocityQueueEntryFlag=!0;var n=C.State.delayedElements.count++;C.State.delayedElements[n]=e;var r=function(e){return function(){C.State.delayedElements[e]=!1,t()}}(n);s(e).delayBegin=(new Date).getTime(),s(e).delay=parseFloat(l.delay),s(e).delayTimer={setTimeout:setTimeout(t,parseFloat(l.delay)),next:r}}),l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=E;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}if(C.mock!==!1&&(C.mock===!0?l.duration=l.delay=1:(l.duration*=parseFloat(C.mock)||1,l.delay*=parseFloat(C.mock)||1)),l.easing=h(l.easing,l.duration),l.begin&&!_.isFunction(l.begin)&&(l.begin=null),l.progress&&!_.isFunction(l.progress)&&(l.progress=null),l.complete&&!_.isFunction(l.complete)&&(l.complete=null),l.display!==r&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=C.CSS.Values.getDisplayType(e))),l.visibility!==r&&null!==l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&C.State.isMobile&&!C.State.isGingerbread,l.queue===!1)if(l.delay){var p=C.State.delayedElements.count++;C.State.delayedElements[p]=e;var d=function(e){return function(){C.State.delayedElements[e]=!1,a()}}(p);s(e).delayBegin=(new Date).getTime(),s(e).delay=parseFloat(l.delay),s(e).delayTimer={setTimeout:setTimeout(a,parseFloat(l.delay)),next:d}}else a();else m.queue(e,l.queue,function(e,t){return t===!0?(A.promise&&A.resolver(y),!0):(C.velocityQueueEntryFlag=!0,void a(e))});""!==l.queue&&"fx"!==l.queue||"inprogress"===m.queue(e)[0]||m.dequeue(e)}var c,p,g,v,y,b,x,k=arguments[0]&&(arguments[0].p||m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||_.isString(arguments[0].properties));_.isWrapped(this)?(p=!1,v=0,y=this,g=this):(p=!0,v=1,y=k?arguments[0].elements||arguments[0].e:arguments[0]);var A={promise:null,resolver:null,rejecter:null};if(p&&C.Promise&&(A.promise=new C.Promise(function(e,t){A.resolver=e,A.rejecter=t})),k?(b=arguments[0].properties||arguments[0].p,x=arguments[0].options||arguments[0].o):(b=arguments[v],x=arguments[v+1]),y=a(y),!y)return void(A.promise&&(b&&x&&x.promiseRejectEmpty===!1?A.resolver():A.rejecter()));var T=y.length,D=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(b)&&!m.isPlainObject(x)){var O=v+1;x={};for(var L=O;L<arguments.length;L++)_.isArray(arguments[L])||!/^(fast|normal|slow)$/i.test(arguments[L])&&!/^\d/.test(arguments[L])?_.isString(arguments[L])||_.isArray(arguments[L])?x.easing=arguments[L]:_.isFunction(arguments[L])&&(x.complete=arguments[L]):x.duration=arguments[L]}var F;switch(b){case"scroll":F="scroll";break;case"reverse":F="reverse";break;case"pause":var P=(new Date).getTime();return m.each(y,function(e,t){u(t,P)}),m.each(C.State.calls,function(e,t){var n=!1;t&&m.each(t[1],function(e,i){var o=x===r?"":x;return o!==!0&&t[2].queue!==o&&(x!==r||t[2].queue!==!1)||(m.each(y,function(e,r){return r===i?(t[5]={resume:!1},n=!0,!1):void 0}),!n&&void 0)})}),e();case"resume":return m.each(y,function(e,t){l(t,P)}),m.each(C.State.calls,function(e,t){var n=!1;t&&m.each(t[1],function(e,i){var o=x===r?"":x;return o!==!0&&t[2].queue!==o&&(x!==r||t[2].queue!==!1)||!t[5]||(m.each(y,function(e,r){return r===i?(t[5].resume=!0,n=!0,!1):void 0}),!n&&void 0)})}),e();case"finish":case"finishAll":case"stop":m.each(y,function(e,t){s(t)&&s(t).delayTimer&&(clearTimeout(s(t).delayTimer.setTimeout),s(t).delayTimer.next&&s(t).delayTimer.next(),delete s(t).delayTimer),"finishAll"!==b||x!==!0&&!_.isString(x)||(m.each(m.queue(t,_.isString(x)?x:""),function(e,t){_.isFunction(t)&&t()}),m.queue(t,_.isString(x)?x:"",[]))});var N=[];return m.each(C.State.calls,function(e,t){t&&m.each(t[1],function(n,i){var o=x===r?"":x;return o!==!0&&t[2].queue!==o&&(x!==r||t[2].queue!==!1)||void m.each(y,function(n,r){if(r===i)if((x===!0||_.isString(x))&&(m.each(m.queue(r,_.isString(x)?x:""),function(e,t){_.isFunction(t)&&t(null,!0)}),m.queue(r,_.isString(x)?x:"",[])),"stop"===b){var a=s(r);a&&a.tweensContainer&&o!==!1&&m.each(a.tweensContainer,function(e,t){t.endValue=t.currentValue}),N.push(e)}else"finish"!==b&&"finishAll"!==b||(t[2].duration=1)})})}),"stop"===b&&(m.each(N,function(e,t){d(t,!0)}),A.promise&&A.resolver(y)),e();default:if(!m.isPlainObject(b)||_.isEmptyObject(b)){if(_.isString(b)&&C.Redirects[b]){c=m.extend({},x);var B=c.duration,R=c.delay||0;return c.backwards===!0&&(y=m.extend(!0,[],y).reverse()),m.each(y,function(e,t){parseFloat(c.stagger)?c.delay=R+parseFloat(c.stagger)*e:_.isFunction(c.stagger)&&(c.delay=R+c.stagger.call(t,e,T)),c.drag&&(c.duration=parseFloat(B)||(/^(callout|transition)/.test(b)?1e3:E),c.duration=Math.max(c.duration*(c.backwards?1-e/T:(e+1)/T),.75*c.duration,200)),C.Redirects[b].call(t,t,c||{},e,T,y,A.promise?A:r)}),e()}var j="Velocity: First argument ("+b+") was not a property map, a known action, or a registered redirect. Aborting.";return A.promise?A.rejecter(new Error(j)):t.console&&o.log(j),e()}F="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},$=[];m.each(y,function(e,t){_.isNode(t)&&i(t,e)}),c=m.extend({},C.defaults,x),c.loop=parseInt(c.loop,10);var z=2*c.loop-1;if(c.loop)for(var U=0;z>U;U++){var V={delay:c.delay,progress:c.progress};U===z-1&&(V.display=c.display,V.visibility=c.visibility,V.complete=c.complete),M(y,"reverse",V)}return e()};C=m.extend(M,C),C.animate=M;var T=t.requestAnimationFrame||v;if(!C.State.isMobile&&n.hidden!==r){var D=function(){n.hidden?(T=function(e){return setTimeout(function(){e(!0)},16)},f()):T=t.requestAnimationFrame||v};D(),n.addEventListener("visibilitychange",D)}return e.Velocity=C,e!==t&&(e.fn.velocity=M,e.fn.velocity.defaults=C.defaults),m.each(["Down","Up"],function(e,t){C.Redirects["slide"+t]=function(e,n,i,o,a,s){var u=m.extend({},n),l=u.begin,c=u.complete,p={},h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};u.display===r&&(u.display="Down"===t?"inline"===C.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),u.begin=function(){0===i&&l&&l.call(a,a);for(var n in h)if(h.hasOwnProperty(n)){p[n]=e.style[n];var r=S.getPropertyValue(e,n);h[n]="Down"===t?[r,0]:[0,r]}p.overflow=e.style.overflow,e.style.overflow="hidden"},u.complete=function(){for(var t in p)p.hasOwnProperty(t)&&(e.style[t]=p[t]);i===o-1&&(c&&c.call(a,a),s&&s.resolver(a))},C(e,h,u)}}),m.each(["In","Out"],function(e,t){C.Redirects["fade"+t]=function(e,n,i,o,a,s){var u=m.extend({},n),l=u.complete,c={opacity:"In"===t?1:0};0!==i&&(u.begin=null),u.complete=i!==o-1?null:function(){l&&l.call(a,a),s&&s.resolver(a)},u.display===r&&(u.display="In"===t?"auto":"none"),C(this,c,u)}}),C}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})}).call(t,n(3))},function(e,t,n){var r=n(2501),i=n(1591),o=n(2527),a=o(r,i);e.exports=a},function(e){function t(e,t){if("function"!=typeof e)throw new TypeError(n);return t=r(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,o=r(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=n[i];return s[t]=a,e.apply(this,s)}}var n="Expected a function",r=Math.max;e.exports=t},function(e){function t(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=t},function(e,t,n){var r=n(2511),i=n(2524),o=i(r);e.exports=o},function(e,t,n){var r=n(2525),i=r();e.exports=i},function(e,t,n){function r(e,t,n){if(null!=e){void 0!==n&&n in i(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:void 0}}var i=n(270);e.exports=r},676,function(e,t,n){var r=n(1594),i=r("length");e.exports=i},function(e,t,n){function r(e,t){var n=typeof e;if("string"==n&&s.test(e)||"number"==n)return!0;if(i(e))return!1;var r=!a.test(e);return r||null!=t&&e in o(t)}var i=n(271),o=n(270),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(240);e.exports=r},function(e,t,n){function r(e){if(o(e))return e;var t=[];return i(e).replace(a,function(e,n,r,i){t.push(r?i.replace(s,"$1"):n||e)}),t}var i=n(2520),o=n(271),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=r},function(e,t,n){function r(e,t,n,r){n="function"==typeof n?o(n,r,3):void 0;var a=n?n(e,t):void 0;return void 0===a?i(e,t,n):!!a}var i=n(1221),o=n(630);e.exports=r},function(e,t,n){var r=n(1590),i=n(2508),o=n(2509),a=n(630),s=n(1224),u=n(2534),l=n(2535),c=n(1589),p=c(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=r(o(t),String);return u(e,i(s(e),t))}var n=a(t[0],t[1],3);return l(e,function(e,t,r){return!n(e,t,r)})});e.exports=p},function(e){function t(e){return e}e.exports=t},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(1594),o=n(2518),a=n(1596);e.exports=r},,function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./cancelEdit":1288,"./cancelEdit.js":1288,"./copyValue":1289,"./copyValue.js":1289,"./deleteSelectedCell":1290,"./deleteSelectedCell.js":1290,"./deleteSelectedRow":1291,"./deleteSelectedRow.js":1291,"./edit":1292,"./edit.js":1292,"./editSelectedCell":1293,"./editSelectedCell.js":1293,"./fillDown":1294,"./fillDown.js":1294,"./index":725,"./index.js":725,"./moveDown":1295,"./moveDown.js":1295,"./moveLeft":1296,"./moveLeft.js":1296,"./moveRight":1297,"./moveRight.js":1297,"./moveUp":1298,"./moveUp.js":1298,"./pasteValue":1299,"./pasteValue.js":1299,"./rebaseConnection":1300,"./rebaseConnection.js":1300,"./refreshTable":1301,"./refreshTable.js":1301,"./reload":1302,"./reload.js":1302,"./saveEdit":1303,"./saveEdit.js":1303,"./saveEditAndShift":1304,"./saveEditAndShift.js":1304,"./saveNewRecord":1305,"./saveNewRecord.js":1305,"./selectAndEditCell":1306,"./selectAndEditCell.js":1306,"./selectCell":1307,"./selectCell.js":1307,"./setFilter":1308,"./setFilter.js":1308,"./setSource":1309,"./setSource.js":1309,"./setType":1310,"./setType.js":1310,"./shiftSelection":1311,"./shiftSelection.js":1311,"./toggleAttribute":1312,"./toggleAttribute.js":1312,"./toggleAttributeSort":1313,"./toggleAttributeSort.js":1313,"./toggleSettings":1314,"./toggleSettings.js":1314,"./toggleType":1315,"./toggleType.js":1315,"./updateAttributeValue":1316,"./updateAttributeValue.js":1316,"./updateSelectedCell":1317,"./updateSelectedCell.js":1317};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=1604},function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./AttributeHelpers":727,"./AttributeHelpers.js":727,"./BackboneHelpers":728,"./BackboneHelpers.js":728,"./ContextMenuHelpers":1318,"./ContextMenuHelpers.js":1318,"./SelectionHelpers":1319,"./SelectionHelpers.js":1319,"./index":77,"./index.js":77};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=1605},function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./addMember":1332,"./addMember.js":1332,"./beginAddConnection":1333,"./beginAddConnection.jsx":1333,"./beginAddElement":1334,"./beginAddElement.jsx":1334,"./beginAddElementAtEventLocation":1335,"./beginAddElementAtEventLocation.jsx":1335,"./beginAddLoop":1336,"./beginAddLoop.jsx":1336,"./clearFocus":1337,"./clearFocus.js":1337,"./createMap":1338,"./createMap.jsx":1338,"./defaultToDirectedConnections":1339,"./defaultToDirectedConnections.js":1339,"./defaultToFixedElements":1340,"./defaultToFixedElements.js":1340,"./defaultToFloatingElements":1341,"./defaultToFloatingElements.js":1341,"./defaultToMutualConnections":1342,"./defaultToMutualConnections.js":1342,"./defaultToUndirectedConnections":1343,"./defaultToUndirectedConnections.js":1343,"./duplicatePresentation":1344,"./duplicatePresentation.js":1344,"./editImageField":1345,"./editImageField.jsx":1345,"./editLoop":1346,"./editLoop.jsx":1346,"./error":1347,"./error.js":1347,"./exportAnonymous":1348,"./exportAnonymous.js":1348,"./exportPDF":1407,"./exportPDF.coffee":1407,"./fixSpreadsheetBetaElementLabels":1349,"./fixSpreadsheetBetaElementLabels.js":1349,"./focus":1350,"./focus.js":1350,"./fork":1351,"./fork.jsx":1351,"./fullscreen":1352,"./fullscreen.js":1352,"./ignore":1353,"./ignore.js":1353,"./import":1354,"./import.jsx":1354,"./importBlueprint":1355,"./importBlueprint.js":1355,"./index":732,"./index.js":732,"./makeDefaultViewForMap":1356,"./makeDefaultViewForMap.js":1356,"./onboard":1357,"./onboard.jsx":1357,"./openConsole":1358,"./openConsole.js":1358,"./openDataEditor":1359,"./openDataEditor.jsx":1359,"./promptForElement":1360,"./promptForElement.js":1360,"./promptIfViewNotSaved":1361,"./promptIfViewNotSaved.js":1361,"./rebuildSearchIndex":1362,"./rebuildSearchIndex.js":1362,"./redirectToEntity":1363,"./redirectToEntity.js":1363,"./resendInvitation":1364,"./resendInvitation.js":1364,"./reviewFailedRemoteImport":1365,"./reviewFailedRemoteImport.jsx":1365,"./reviewImport":1366,"./reviewImport.jsx":1366,"./search":1367,"./search.js":1367,"./sketch":1368,"./sketch.js":1368,"./snapTo":1369,"./snapTo.js":1369,"./success":1370,"./success.js":1370,"./tour":1371,"./tour.js":1371,"./unableToOpenMap":1372,"./unableToOpenMap.js":1372,"./undo":1373,"./undo.js":1373,"./unpublishPresentation":1374,"./unpublishPresentation.js":1374,"./updateMapSettings":1375,"./updateMapSettings.js":1375};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=1606},function(e,t){var n,r;(function(){function i(e){this._value=e}function o(e,t,n,r){var i,o,a=Math.pow(10,t);return o=(n(e*a)/a).toFixed(t),r&&(i=new RegExp("0{1,"+r+"}$"),o=o.replace(i,"")),o}function a(e,t,n){var r;return r=t.indexOf("$")>-1?u(e,t,n):t.indexOf("%")>-1?l(e,t,n):t.indexOf(":")>-1?c(e,t):h(e._value,t,n)}function s(e,t){var n,r,i,o,a,s=t,u=["KB","MB","GB","TB","PB","EB","ZB","YB"],l=!1;if(t.indexOf(":")>-1)e._value=p(t);else if(t===w)e._value=0;else{for("."!==y[b].delimiters.decimal&&(t=t.replace(/\./g,"").replace(y[b].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+y[b].abbreviations.thousand+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+y[b].abbreviations.million+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+y[b].abbreviations.billion+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+y[b].abbreviations.trillion+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),a=0;a<=u.length&&!(l=t.indexOf(u[a])>-1&&Math.pow(1024,a+1));a++);e._value=(l?l:1)*(s.match(n)?Math.pow(10,3):1)*(s.match(r)?Math.pow(10,6):1)*(s.match(i)?Math.pow(10,9):1)*(s.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=l?Math.ceil(e._value):e._value
}return e._value}function u(e,t,n){var r,i,o=t.indexOf("$"),a=t.indexOf("("),s=t.indexOf("-"),u="";return t.indexOf(" $")>-1?(u=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(u=" ",t=t.replace("$ ","")):t=t.replace("$",""),i=h(e._value,t,n),1>=o?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(a>o||s>o)&&(r=0),i.splice(r,0,y[b].currency.symbol+u),i=i.join("")):i=y[b].currency.symbol+u+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,u+y[b].currency.symbol),i=i.join("")):i=i+u+y[b].currency.symbol,i}function l(e,t,n){var r,i="",o=100*e._value;return t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%",""),r=h(o,t,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function c(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function p(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function h(e,t,n){var r,i,a,s,u,l,c=!1,p=!1,h=!1,f="",d=!1,m=!1,g=!1,v=!1,_=!1,x="",E="",k=Math.abs(e),C=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],A="",S=!1;if(0===e&&null!==w)return w;if(t.indexOf("(")>-1?(c=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(p=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(d=t.indexOf("aK")>=0,m=t.indexOf("aM")>=0,g=t.indexOf("aB")>=0,v=t.indexOf("aT")>=0,_=d||m||g||v,t.indexOf(" a")>-1?(f=" ",t=t.replace(" a","")):t=t.replace("a",""),k>=Math.pow(10,12)&&!_||v?(f+=y[b].abbreviations.trillion,e/=Math.pow(10,12)):k<Math.pow(10,12)&&k>=Math.pow(10,9)&&!_||g?(f+=y[b].abbreviations.billion,e/=Math.pow(10,9)):k<Math.pow(10,9)&&k>=Math.pow(10,6)&&!_||m?(f+=y[b].abbreviations.million,e/=Math.pow(10,6)):(k<Math.pow(10,6)&&k>=Math.pow(10,3)&&!_||d)&&(f+=y[b].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(x=" ",t=t.replace(" b","")):t=t.replace("b",""),a=0;a<=C.length;a++)if(r=Math.pow(1024,a),i=Math.pow(1024,a+1),e>=r&&i>e){x+=C[a],r>0&&(e/=r);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(E=" ",t=t.replace(" o","")):t=t.replace("o",""),E+=y[b].ordinal(e)),t.indexOf("[.]")>-1&&(h=!0,t=t.replace("[.]",".")),s=e.toString().split(".")[0],u=t.split(".")[1],l=t.indexOf(","),u?(u.indexOf("[")>-1?(u=u.replace("]",""),u=u.split("["),A=o(e,u[0].length+u[1].length,n,u[1].length)):A=o(e,u.length,n),s=A.split(".")[0],A=A.split(".")[1].length?y[b].delimiters.decimal+A.split(".")[1]:"",h&&0===Number(A.slice(1))&&(A="")):s=o(e,null,n),s.indexOf("-")>-1&&(s=s.slice(1),S=!0),l>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+y[b].delimiters.thousands)),0===t.indexOf(".")&&(s=""),(c&&S?"(":"")+(!c&&S?"-":"")+(!S&&p?"+":"")+s+A+(E?E:"")+(f?f:"")+(x?x:"")+(c&&S?")":"")}function f(e,t){y[e]=t}function d(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function m(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=d(e),r=d(t);return n>r?n:r},-(1/0))}var g,v="1.5.3",y={},b="en",w=null,_="0,0",x="undefined"!=typeof e&&e.exports;g=function(e){return g.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=g.fn.unformat(e)),new i(Number(e))},g.version=v,g.isNumeral=function(e){return e instanceof i},g.language=function(e,t){if(!e)return b;if(e&&!t){if(!y[e])throw new Error("Unknown language : "+e);b=e}return!t&&y[e]||f(e,t),g},g.languageData=function(e){if(!e)return y[b];if(!y[e])throw new Error("Unknown language : "+e);return y[e]},g.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),g.zeroFormat=function(e){w="string"==typeof e?e:null},g.defaultFormat=function(e){_="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r,i=this.length>>>0,o=!1;for(1<arguments.length&&(r=t,o=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(o?r=e(r,this[n],n,this):(r=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),g.fn=i.prototype={clone:function(){return g(this)},format:function(e,t){return a(this,e?e:_,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:s(this,e?e:_)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t){return e+n*t}var n=m.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t){return e-n*t}var n=m.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t){var n=m(e,t);return e*n*t*n/(n*n)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t){var n=m(e,t);return e*n/(t*n)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(g(this._value).subtract(e).value())}},x&&(e.exports=g),"undefined"==typeof ender&&(this.numeral=g),n=[],r=function(){return g}.apply(t,n),!(void 0!==r&&(e.exports=r))}).call(this)},function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./currency.js":1979,"./date.js":1980,"./element.js":1408,"./element.js.coffee":1408,"./email.js":1409,"./email.js.coffee":1409,"./facebook_profile.js":1410,"./facebook_profile.js.coffee":1410,"./float.js":1411,"./float.js.coffee":1411,"./github_profile.js":1412,"./github_profile.js.coffee":1412,"./image.js":1413,"./image.js.coffee":1413,"./integer.js":1414,"./integer.js.coffee":1414,"./json.js":1415,"./json.js.coffee":1415,"./linkedin_profile.js":1416,"./linkedin_profile.js.coffee":1416,"./markdown.js":1417,"./markdown.js.coffee":1417,"./none.js":1981,"./number.js":1418,"./number.js.coffee":1418,"./percentage.js":1419,"./percentage.js.coffee":1419,"./string.js":1982,"./twitter_profile.js":1420,"./twitter_profile.js.coffee":1420,"./url.js":1421,"./url.js.coffee":1421};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=1608},function(e,t,n){var r=n(1616),i=n(1615);e.exports=function(e,t){return r(i(e,t),t)}},function(e){var t={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},az:{regexp:/[\u0130]/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i\u0307",J:"j\u0307","\u012e":"\u012f\u0307","\xcc":"i\u0307\u0300","\xcd":"i\u0307\u0301","\u0128":"i\u0307\u0303"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,function(e){return r.map[e]})),e.toLowerCase()}},function(e,t,n){var r=n(1610),i=n(1614),o=n(1612),a=n(1613);e.exports=function(e,t,n){function s(e,t,r){return 0===t||t===r.length-e.length?"":n}return null==e?"":(n="string"!=typeof n?" ":n,e=String(e).replace(o,"$1 $2").replace(a,"$1 $2").replace(i,s),r(e,t))}},function(e){e.exports=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g},function(e){e.exports=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]+)([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g},function(e){e.exports=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g
},function(e,t,n){var r=n(1611);e.exports=function(e,t){return r(e,t,"_")}},function(e){var t={tr:{regexp:/[\u0069]/g,map:{i:"\u0130"}},az:{regexp:/[\u0069]/g,map:{i:"\u0130"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"i\u0307":"I","j\u0307":"J","\u012f\u0307":"\u012e","i\u0307\u0300":"\xcc","i\u0307\u0301":"\xcd","i\u0307\u0303":"\u0128"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,function(e){return r.map[e]})),e.toUpperCase()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n,r,i;!function(o,a){r=[],n=a,i="function"==typeof n?n.apply(t,r):n,!(void 0!==i&&(e.exports=i))}(this,function(){"use strict";function e(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function t(e){return"string"==typeof e}function n(e){return!isNaN(Number(e))}function r(e){return 0==e||1==e}function i(e){return null==e}function o(e){return null!=e}function a(e,t){return o(e)?e:t}function s(e,t){for(var n=0,r=e.length;r>n&&t(e[n],n)!==!1;n+=1);}function u(e){return e.replace(/"/g,'\\"')}function l(e){return"attrs["+e+"]"}function c(e,t){return n(e)?"Number("+l(t)+")":r(e)?"Boolean("+l(t)+" == true)":"String("+l(t)+")"}function p(e,n,r,i){var o=[];return 3==arguments.length?(n?g(n)?s(r,function(r,i){t(n[i])?n[i]=n[i].toLowerCase():e[n[i]]=n[i],o.push("deserialize[cast["+i+"]]("+l(i)+")")}):s(r,function(e,t){o.push(c(e,t))}):s(r,function(e,t){o.push(l(t))}),o="return ["+o.join(",")+"]"):(n?g(n)?s(r,function(r,a){t(n[a])?n[a]=n[a].toLowerCase():e[n[a]]=n[a],o.push('"'+u(i[a])+'": deserialize[cast['+a+"]]("+l(a)+")")}):s(r,function(e,t){o.push('"'+u(i[t])+'": '+c(e,t))}):s(r,function(e,t){o.push('"'+u(i[t])+'": '+l(t))}),o="return {"+o.join(",")+"}"),new Function("attrs","deserialize","cast",o)}function h(e,t){var n,r=0;return s(t,function(t){var i,o=t;-1!=f.indexOf(t)&&(o="\\"+o),i=e.match(new RegExp(o,"g")),i&&i.length>r&&(r=i.length,n=t)}),n||t[0]}var f=["|","^"],d=[",",";","	","|","^"],m=["\r\n","\r","\n"],g=Array.isArray||function(e){return"[object Array]"===toString.call(e)},v=function(){function n(e,n){if(n||(n={}),g(e))this.mode="encode";else{if(!t(e))throw new Error("Incompatible format!");this.mode="parse"}this.data=e,this.options={header:a(n.header,!1),cast:a(n.cast,!0)};var r=n.lineDelimiter||n.line,i=n.cellDelimiter||n.delimiter;this.isParser()?(this.options.lineDelimiter=r||h(this.data,m),this.options.cellDelimiter=i||h(this.data,d),this.data=o(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=r||"\r\n",this.options.cellDelimiter=i||",")}function r(e,t,n,r,i){e(new t(n,r,i))}function o(e,t){return e.slice(-t.length)!=t&&(e+=t),e}function u(n){return g(n)?"array":e(n)?"object":t(n)?"string":i(n)?"null":"primitive"}return n.prototype.set=function(e,t){return this.options[e]=t},n.prototype.isParser=function(){return"parse"==this.mode},n.prototype.isEncoder=function(){return"encode"==this.mode},n.prototype.parse=function(e){function t(){u={escaped:!1,quote:!1,cell:!0}}function n(){m.cell=""}function i(){m.line=[]}function o(e){m.line.push(u.escaped?e.slice(1,-1).replace(/""/g,'"'):e),n(),t()}function a(e){o(e.slice(0,1-f.lineDelimiter.length))}function s(){d?g(d)?(l=p(v,f.cast,m.line,d),(s=function(){r(e,l,m.line,v,f.cast)})()):d=m.line:(l||(l=p(v,f.cast,m.line)),(s=function(){r(e,l,m.line,v,f.cast)})())}if("parse"==this.mode){if(0===this.data.trim().length)return[];var u,l,c,h=this.data,f=this.options,d=f.header,m={cell:"",line:[]},v=this.deserialize;e||(c=[],e=function(e){c.push(e)}),1==f.lineDelimiter.length&&(a=o);var y,b,w,_=h.length,x=f.cellDelimiter.charCodeAt(0),E=f.lineDelimiter.charCodeAt(f.lineDelimiter.length-1);for(t(),y=0,b=0;_>y;y++)w=h.charCodeAt(y),u.cell&&(u.cell=!1,34==w)?u.escaped=!0:u.escaped&&34==w?u.quote=!u.quote:(u.escaped&&u.quote||!u.escaped)&&(w==x?(o(m.cell+h.slice(b,y)),b=y+1):w==E&&(a(m.cell+h.slice(b,y)),b=y+1,(m.line.length>1||""!==m.line[0])&&s(),i()));return c?c:this}},n.prototype.deserialize={string:function(e){return String(e)},number:function(e){return Number(e)},"boolean":function(e){return Boolean(e)}},n.prototype.serialize={object:function(e){var t=this,n=Object.keys(e),r=Array(n.length);return s(n,function(n,i){r[i]=t[u(e[n])](e[n])}),r},array:function(e){var t=this,n=Array(e.length);return s(e,function(e,r){n[r]=t[u(e)](e)}),n},string:function(e){return'"'+String(e).replace(/"/g,'""')+'"'},"null":function(){return""},primitive:function(e){return e}},n.prototype.encode=function(e){function n(e){return e.join(a.cellDelimiter)}if("encode"==this.mode){if(0==this.data.length)return"";var r,i,o=this.data,a=this.options,l=a.header,c=o[0],p=this.serialize,h=0;e||(i=Array(o.length),e=function(e,t){i[t+h]=e}),l&&(g(l)||(r=Object.keys(c),l=r),e(n(p.array(l)),0),h=1);var f,d=u(c);return"array"==d?(g(a.cast)?(f=Array(a.cast.length),s(a.cast,function(e,n){t(e)?f[n]=e.toLowerCase():(f[n]=e,p[e]=e)})):(f=Array(c.length),s(c,function(e,t){f[t]=u(e)})),s(o,function(t,r){var i=Array(f.length);s(t,function(e,t){i[t]=p[f[t]](e)}),e(n(i),r)})):"object"==d&&(r=Object.keys(c),g(a.cast)?(f=Array(a.cast.length),s(a.cast,function(e,n){t(e)?f[n]=e.toLowerCase():(f[n]=e,p[e]=e)})):(f=Array(r.length),s(r,function(e,t){f[t]=u(c[e])})),s(o,function(t,i){var o=Array(r.length);s(r,function(e,n){o[n]=p[f[n]](t[e])}),e(n(o),i)})),i?i.join(a.lineDelimiter):this}},n.prototype.forEach=function(e){return this[this.mode](e)},n}();return v.parse=function(e,t){return new v(e,t).parse()},v.encode=function(e,t){return new v(e,t).encode()},v.forEach=function(e,t,n){return 2==arguments.length&&(n=t),new v(e,t).forEach(n)},v})},function(e){var t=/[\'\"]/;e.exports=function(e){return e?(t.test(e.charAt(0))&&(e=e.substr(1)),t.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},,,function(e,t,n){(function(e){"use strict";function t(){var e={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}};return e.colors.grey=e.colors.gray,Object.keys(e).forEach(function(t){var n=e[t];Object.keys(n).forEach(function(t){var r=n[t];e[t]=n[t]={open:"["+r[0]+"m",close:"["+r[1]+"m"}}),Object.defineProperty(e,t,{value:n,enumerable:!1})}),e}Object.defineProperty(e,"exports",{enumerable:!0,get:t})}).call(t,n(66)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1762),o=r(i);t["default"]={addons:[{key:"classic-sna-metrics",name:"Classic SNA Metrics",summary:React.createElement("p",null,"Run automated SNA metrics such as closeness, betweenness and more!"),description:React.createElement("div",null,React.createElement("p",null,"This free add-on allows you to calculate classic social network analysis metrics on your maps. Use these metrics to identify and highlight key players and outliers."),React.createElement("p",null,"Includes the following metrics:"),React.createElement("ul",null,React.createElement("li",null,"size"),React.createElement("li",null,"degree"),React.createElement("li",null,"indegree"),React.createElement("li",null,"outdegree"),React.createElement("li",null,"closeness"),React.createElement("li",null,"betweenness"),React.createElement("li",null,"eigenvector"),React.createElement("li",null,"reach"),React.createElement("li",null,"reach-efficiency"))),preinstalled:!0},{key:"community-detection",name:"Community Detection",summary:React.createElement("p",null,"Identify communities within your networks."),description:React.createElement("p",null,"This free add-on allows you to identify community structures within your networks."),preinstalled:!0},{key:"google-sheets-public",name:"Google Sheets (public)",summary:React.createElement("p",null,"Import elements and connections from public Google Sheets."),description:React.createElement("p",null,"This free add-on allows you to import elements and connections from public Google Sheets."),preinstalled:!0},{key:"disqus",name:"Disqus",summary:React.createElement("p",null,"Allow viewers to comment through Disqus"),description:React.createElement("div",null,React.createElement("p",null,"This free add-on adds a Disqus comment box to the bottom of the map description and every element, connection, and loop profile."),React.createElement("div",{className:"alert alert-info"},React.createElement("h4",null,React.createElement("i",{className:"fa fa-warning"})," Warning"),React.createElement("p",null,"Disqus believes that all communication should be open, therefore any comments made through Disqus will be publicly accessible within each user's comment history. ",React.createElement("strong",null,"As such, we do not recommend using Disqus for sensitive discussions.")))),form:function(e){return React.createElement(o["default"],e)}},{key:"google-sheets-private",name:"Google Sheets (private)",summary:React.createElement("p",null,"Import elements and connections from private Google Sheets."),description:React.createElement("p",null,"This add-on allows you to import elements and connections from Google Sheets without having to publish the spreadsheet to the web first. You'll be prompted to give Kumu access to your Google Sheets when you link a sheet to your map.")}]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){m.active=null,m.canInstallPremium=e.can_install_premium,n(function(t){t.price=e.prices[t.key]||0,t.installed=t.preinstalled||t.key in e.settings,t.settings=e.settings[t.key]||{}}),d()}function n(e){Object.keys(c).forEach(function(t){return e(r(t))})}function r(e){var t=c[e];if(t)return t;throw new Error("Unknown addon, "+e)}function i(){return Object.keys(c).map(function(e){var t=c[e];return o({},t,{open:function(){return a(e)}})})}function a(e){m.active=e,d()}function s(){m.active=null,d()}function u(e){var t=r(e);return t.installed=!0,t.error=null,d(),Api.installAddon(currentProject.id,e).then(function(){return toastr.success("Add-on installed")})["catch"](function(){t.installed=!1,t.error="Unable to install add-on. Please try again.",d()})}function l(e){var t=r(e);return t.installed=!1,t.settings={},t.error=null,d(),Api.uninstallAddon(currentProject.id,e).then(function(){return toastr.success("Add-on uninstalled")})["catch"](function(){t.installed=!0,t.error="Unable to uninstall add-on. Please try again.",d()})}function p(e,t){var n=r(e);return n.settings=t,n.error=null,d(),Api.updateAddon(currentProject.id,e,t).then(function(){return toastr.success("Settings updated")})["catch"](function(){n.error="Unable to update add-on settings. Please try again.",d()})}function h(e){return r(e).installed}function f(){var e=o({},m,{addons:i()});return m.active&&Object.assign(e,{activeAddon:o({},r(m.active),{install:function(){return u(m.active)},uninstall:function(){return l(m.active)},update:function(e){return p(m.active,e)}}),close:s}),e}function d(){pub("addons")}var m={active:null};return t(e),{get:r,getAppState:f,isInstalled:h}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(1759),s=r(a),u=n(738),l=r(u),c=l["default"](s["default"].addons,"key");e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(738),s=r(a),u=n(1263),l=r(u),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,e),this.authorizationsByKey=s["default"](t,"key","data")}return o(e,[{key:"get",value:function(e){return this.authorizationsByKey[e]}},{key:"authorize",value:function(e,t,n,r){var i=this;return l["default"].createAuth(currentProject.id,e,t,n,r).then(function(e){return i.authorizationsByKey[e]=r,e})}},{key:"destroy",value:function(e){var t=this;return l["default"].deleteAuth(currentProject.id,e).then(function(){delete t.authorizationsByKey[auth]})}}]),e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;s>l;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleSubmit=function(e){e.preventDefault();var t=r.refs.shortname.value.trim(),n=r.props.settings.shortname;r.props.onSave({shortname:t}),n&&t!==n&&swal({type:"success",title:"Changes saved",text:"Disqus does not allow us to update the shortname on the fly, so please refresh the page to pick up the changes."})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.settings.shortname;return l["default"].createElement("form",{onSubmit:this.handleSubmit},l["default"].createElement("p",null,"If you haven't already registered for a Disqus site, please do so at ",l["default"].createElement("a",{href:"https://disqus.com/",target:"_blank"},"disqus.com"),". We recommend using a separate site for each project."),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("label",null,"Disqus shortname"),l["default"].createElement("input",{ref:"shortname",type:"text",className:"form-control",placeholder:"eg. my-kumu-project",defaultValue:e}),l["default"].createElement("p",{className:"help-block"},"Don't have a shortname yet? Register at ",l["default"].createElement("a",{href:"https://disqus.com/",target:"_blank"},"disqus.com"))),l["default"].createElement("div",{className:"form-group text-right"},l["default"].createElement("button",{type:"submit",className:"btn btn-default"},"Update settings")))}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return l["default"].url("/projects/"+e+"/addons/"+t)}function o(e,t){return l["default"].post(i(e,t))}function a(e,t){return l["default"]["delete"](i(e,t))}function s(e,t,n){return l["default"].put(i(e,t),{settings:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.installAddon=o,t.uninstallAddon=a,t.updateAddon=s;var u=n(466),l=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r,i){var o={code:r,auth:{service:n,data:i}};return u["default"].post("/api/v1/projects/"+e+"/auth/"+t,o)}function o(e,t){return u["default"]["delete"]("/api/v1/projects/"+e+"/auth/"+t)}function a(e,t,n){var r="/api/v1/projects/"+e+"/auth/"+t+"/proxy?url="+encodeURIComponent(n),i=$("meta[name=access-token]");if(i.length){var o=Rails,a=o.hostname,s=i.attr("content");r="//"+a+r+"&embed="+s}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createAuth=i,t.deleteAuth=o,t.getAuthProxyUrl=a;var s=n(466),u=r(s)},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),r="/api/services/svg2pdf/";Env.isDevelopment()&&(r="http://localhost:8080"+r);var i=new FormData;i.append("filename",t.filename),i.append("file",n);var o=new XMLHttpRequest;o.open("POST",r),o.responseType="blob",o.send(i),o.onload=function(e){if(200===this.status){log.info("pdf generated successfully, download should begin soon");var n=new Blob([this.response],{type:"image/pdf"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=t.filename,i.style="display: none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}else log.error("unable to generate pdf",e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.downloadPDF=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(442),s=r(a),u=s["default"](),l=void 0,c=!0,p=function(){function e(t){var n=this;i(this,e),this.receive=function(e){return log.debug("ProjectChannel received data",e),c&&e.client===u?void log.debug("ProjectChannel ignoring data, self sent"):void n.listeners.forEach(function(t){return t(e.message)})},this.project=t,this.listeners=[]}return o(e,[{key:"connect",value:function(){var e={channel:"ProjectChannel",project:this.project.id,client:u};this.connection=Kumu.cable.subscriptions.create(e,{connected:function(){return log.debug("ProjectChannel connected")},disconnected:function(){return log.debug("ProjectChannel disconnected")},received:this.receive})}},{key:"subscribe",value:function(e){this.listeners.push(e)}},{key:"send",value:function(e){this.connection.send({client:u,message:e})}}]),e}();p.init=function(){l=new p(currentProject),l.connect()},p.subscribe=function(e){return l.subscribe(e)},p.send=function(e){return l.send(e)},t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return Settings.enabled("websockets")}function o(){s["default"].init()}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1766),s=r(a);t["default"]={enabled:i,init:o,project:s["default"]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"SelectorInput",getInitialState:function(){return{value:this.props.value}},getDefaultProps:function(){return{value:"",placeholder:"Selector"}},componentWillReceiveProps:function(e){e.value!==this.state.value&&this.setState({value:e.value})},render:function(){var e=this.state.value,t=this.props.placeholder;return o["default"].createElement("div",{className:"input-group"},o["default"].createElement("input",{ref:"input",type:"text",className:"form-control",autocomplete:"off",value:e,placeholder:t,onChange:this.handleChange}),o["default"].createElement("span",{className:"input-group-btn"},o["default"].createElement("button",{type:"button",className:"build-selector btn btn-default",title:"Build selector","data-placement":"left",onClick:this.handleBuild},o["default"].createElement("i",{className:"icon-build"}))))},handleBuild:function(){var e=this,t=this.val();SelectorBuilder.build(t).done(function(t){return e.val(t)})},handleChange:function(e){var t=e.target.value;this.val(t)},val:function(e){return 0===arguments.length?this.state.value.trim():(this.setState({value:e}),void this.props.onChange(e.trim()))}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return currentProject.addons.getAppState()}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(1771),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.refresh(),this.unsub=sub("addons",this.refresh.bind(this))}},{key:"componentWillUnmount",value:function(){this.unsub()}},{key:"refresh",value:function(){this.setState({app:s()})}},{key:"render",value:function(){return c["default"].createElement(h["default"],this.state.app)}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(1773),p=r(c),h=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;s>l;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleInstall=function(){var e=r.props,t=e.price,n=e.canInstallPremium,i=e.install;0===t||n?i():swal({type:"warning",title:"Credit card required",text:'A credit card is required to install this add-on. Please click "ok" to add your billing info.',showCancelButton:!0},function(e){return e&&redirect(currentProject.owner.billingUrl())})},r.handleUninstall=function(){swal({type:"warning",title:"Uninstall this addon?",text:"Are you sure you want to uninstall this add-on?",showConfirmButton:!0,showCancelButton:!0},function(e){return e&&r.props.uninstall()})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.summary,r=e.description,i=e.preinstalled,o=e.installed,a=e.form,s=i?"preinstalled":o?"installed":"not installed";return l["default"].createElement("div",{className:"addon-form"},l["default"].createElement("header",{className:"clearfix"},l["default"].createElement("div",{className:"addon-status pull-right"},o&&l["default"].createElement("i",{className:"fa fa-check"})," ",s),l["default"].createElement("h3",null,t),l["default"].createElement("div",{className:"addon-summary text-muted"},n)),l["default"].createElement("div",{className:"addon-description"},r),o&&a&&l["default"].createElement(p["default"],this.props),l["default"].createElement("footer",null,l["default"].createElement("div",{className:"addon-price"},this.renderPrice()),l["default"].createElement("div",{className:"addon-action"},this.renderButton())))}},{key:"renderPrice",value:function(){var e=this.props.price;return e>0?l["default"].createElement("span",null,l["default"].createElement("span",{className:"dollars"},"$",e)," / month"):l["default"].createElement("span",null,"This is a free add-on!")}},{key:"renderButton",value:function(){var e=this.props,t=e.preinstalled,n=e.installed;return t?void 0:n?this.renderUninstallButton():this.renderInstallButton()}},{key:"renderInstallButton",value:function(){return l["default"].createElement("button",{className:"btn btn-success",onClick:this.handleInstall},"Install")}},{key:"renderUninstallButton",value:function(){return l["default"].createElement("button",{className:"btn btn-danger",onClick:this.handleUninstall},"Uninstall")}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return!e.price}function u(e){return e.price>0}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1),h=r(p),f=n(1379),d=r(f),m=n(1772),g=r(m),v=n(1770),y=r(v),b=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),c(t,[{key:"render",value:function(){var e=currentProject.owner.billingUrl();return h["default"].createElement("div",{className:"addon-index"},this.renderModal(),h["default"].createElement("header",{className:"page-header"},h["default"].createElement("h2",null,h["default"].createElement("i",{className:"icon-addon"})," Add-ons")),h["default"].createElement("section",null,h["default"].createElement("p",{className:"lead"},"Add-ons give your project access to powerful features beyond Kumu's base functionality. All projects (public and private) have access to the same set of add-ons. Add-ons are activated on a project-by-project basis.")),h["default"].createElement("section",{className:"addon-section"},h["default"].createElement("div",{className:"addon-section-info"},h["default"].createElement("h3",{className:"addon-section-title"},h["default"].createElement("i",{className:"fa fa-gift"})," Free add-ons"),h["default"].createElement("div",{className:"addon-section-summary"},h["default"].createElement("p",null,"The following add-ons can be installed for free in any project!"))),h["default"].createElement("div",{className:"addon-list"},this.renderAddons(s))),h["default"].createElement("section",{className:"addon-section"},h["default"].createElement("div",{className:"addon-section-info"},h["default"].createElement("h3",{className:"addon-section-title"},"Premium add-ons"),h["default"].createElement("div",{className:"addon-section-summary"},h["default"].createElement("p",null,"Premium add-ons are priced per month and ",h["default"].createElement("a",{href:e},"require a credit card"),". Add-ons are activated on a project-by-project basis and are priced per project."))),h["default"].createElement("div",{className:"addon-list"},this.renderAddons(u))),h["default"].createElement("section",{className:"addon-section"},h["default"].createElement("div",{className:"addon-section-info"},h["default"].createElement("h3",{className:"addon-section-title"},"Send us your suggestions!"),h["default"].createElement("div",{className:"addon-section-summary"},h["default"].createElement("p",null,"Got a great idea for another add-on?",h["default"].createElement("br",null),h["default"].createElement("a",{href:"mailto:jeff@kumu.io"},"Send us an email")," and tell us about it!")))))}},{key:"renderModal",value:function(){var e=this.props,t=e.canInstallPremium,n=e.activeAddon,r=e.close;return h["default"].createElement(d["default"],{open:n,close:r},n&&h["default"].createElement(y["default"],l({canInstallPremium:t},n)))}},{key:"renderAddons",value:function(e){return this.props.addons.filter(e).map(this.renderAddon)}},{key:"renderAddon",value:function(e){return h["default"].createElement(g["default"],e)}}]),t}(h["default"].Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.summary,r=(e.description,e.price),i=e.installed,o=e.open;return l["default"].createElement("div",{className:"addon-item"},l["default"].createElement("div",{className:"addon-details"},l["default"].createElement("div",{className:"addon-name"},t,r>0&&l["default"].createElement("span",{className:"addon-price"},"$",r,"/month")),l["default"].createElement("div",{className:"addon-summary"},n)),l["default"].createElement("div",{className:"addon-actions"},l["default"].createElement("button",{className:"btn btn-default",onClick:o},i?"Settings":"Install")))}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.form,n=e.settings,r=e.update;return l["default"].createElement("div",{className:"addon-settings-editor"},l["default"].createElement("div",{className:"well"},l["default"].createElement("h3",null,"Settings"),t({settings:n,onSave:r})))
}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return currentScene?{mode:map.getModeID(),filterActive:currentScene.filter.isActive(),focusActive:map.isFocused(),focusEnabled:map.isFocused()||map.hasSelection()}:{}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(44),h=r(p),f=n(1265),d=r(f),m=n(1777),g=r(m),v=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=s(),e.refresh=e.refresh.bind(e),e.handleHelp=e.handleHelp.bind(e),e.handleAdd=e.handleAdd.bind(e),e.handleBlocks=e.handleBlocks.bind(e),e.handleMore=e.handleMore.bind(e),e.handlePromptOpened=e.handlePromptOpened.bind(e),e.handlePromptClosed=e.handlePromptClosed.bind(e),e.addListeners(),e}return a(t,e),u(t,[{key:"addListeners",value:function(){map.on("change:mode",this.refresh),map.on("promptopened",this.handlePromptOpened),map.on("promptclosed",this.handlePromptClosed)}},{key:"refresh",value:function(){this.setState(s())}},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentDidUpdate",value:function(){var e=this.refs.el;$(e).find("[title]").tooltip({container:"body"})}},{key:"render",value:function(){var e=h["default"]("add-btn btn",{active:this.state.promptActive,"btn-success":!this.state.promptActive,"btn-danger":this.state.promptActive}),t="fa fa-plus";return"sketch-mode"!==this.state.mode||this.state.promptActive||(t="fa fa-pencil"),c["default"].createElement("div",{ref:"el",className:"explorer-footer"},c["default"].createElement("div",{className:"group-left"},c["default"].createElement("div",{className:"btn-group"},c["default"].createElement("button",{className:"help-btn btn btn-flat",title:"Help",onClick:this.handleHelp},c["default"].createElement("i",{className:"icon-help"}))),c["default"].createElement(d["default"],null)),c["default"].createElement("div",{className:"group-center"},c["default"].createElement("button",{className:e,onClick:this.handleAdd,"data-ability":"manage-maps"},c["default"].createElement("i",{className:t}))),c["default"].createElement("div",{className:"group-right"},c["default"].createElement(g["default"],null),c["default"].createElement("div",{className:"btn-group"},c["default"].createElement("button",{className:"overview-btn btn btn-flat",title:"Overview",onClick:this.handleOverview,"data-track-click":"overview"},c["default"].createElement("i",{className:"icon-overview"})),c["default"].createElement("button",{className:"blocks-btn btn btn-flat",title:"Blocks",onClick:this.handleBlocks,"data-track-click":"blocks"},c["default"].createElement("i",{className:"fa fa-cube"})),c["default"].createElement("button",{className:"issues-btn btn btn-flat",title:"Issues",onClick:this.handleIssues,"data-track-click":"issues"},c["default"].createElement("i",{className:"fa fa-comment-o"})),c["default"].createElement("button",{className:"data-btn btn btn-flat",title:"Table",onClick:this.handleTable,"data-track-click":"table"},c["default"].createElement("i",{className:"fa fa-table"})),c["default"].createElement("button",{className:"more-btn btn btn-flat",title:"More",onClick:this.handleMore,"data-track-click":"more"},c["default"].createElement("i",{className:"icon-more"})))))}},{key:"handleTable",value:function(){Workflows.openDataEditor()}},{key:"handleHelp",value:function(){Modal.open("help")}},{key:"handleOverview",value:function(){Modal.open("overview")}},{key:"handleAdd",value:function(e){if(this.state.promptActive)map.cancel();else{var t=new Views.Actionbar.AddMenu;t.open(e.currentTarget)}}},{key:"handleBlocks",value:function(e){var t=new Views.Actionbar.BlocksMenu;t.open(e.currentTarget,{my:"right bottom",at:"right top-10"})}},{key:"handleIssues",value:function(){Modal.open("issues")}},{key:"handleMore",value:function(e){var t=new Views.Actionbar.MoreMenu;t.open(e.currentTarget,{my:"right bottom",at:"right top-10"})}},{key:"handlePromptOpened",value:function(){this.setState({promptActive:!0})}},{key:"handlePromptClosed",value:function(){this.setState({promptActive:!1})}}]),t}(c["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(44),s=r(a),u=o["default"].createClass({displayName:"ExplorerHeader",componentDidMount:function(){Session.on("change",this.refresh),Maps.on("add remove change",this.refresh),Perspectives.on("add remove change",this.refresh),Conflicts.on("add remove",this.refresh)},refresh:function(){this.forceUpdate()},render:function(){var e=currentProject,t=e.owner,n=currentProject.get("name"),r=(t.profileUrl(),t.get("username"),t.avatar(),encodeURIComponent(window.location.href)),i="/login?return_to="+r;return o["default"].createElement("header",{className:"explorer-header"},o["default"].createElement("button",{className:"menu-btn btn btn-flat",onClick:this.handleMenu},o["default"].createElement("i",{className:"fa fa-bars"})),o["default"].createElement("div",{className:"project-info"},o["default"].createElement("h1",{className:"project-name"},n),this.renderNav()),o["default"].createElement("div",{className:"current-user"},currentUser?o["default"].createElement("a",{href:"/settings",target:"_blank"},o["default"].createElement("span",{className:"username"},currentUser.get("username")),o["default"].createElement("img",{src:currentUser.avatar(),className:"avatar"})):o["default"].createElement("a",{href:i},"Sign In")))},renderNav:function(){if(currentMap&&currentPerspective){var e=currentMap.get("name"),t=currentPerspective.get("name"),n=currentMap.getDefaultPerspective();return t===e&&currentPerspective===n&&(t="Default view"),o["default"].createElement("nav",{className:"project-nav"},o["default"].createElement("div",{className:"dropdown"},o["default"].createElement("button",{className:"btn btn-flat btn-xs dropdown-toggle",type:"button","data-toggle":"dropdown"},e," ",o["default"].createElement("i",{className:"fa fa-angle-down"})),o["default"].createElement("div",{className:"dropdown-menu"},o["default"].createElement("ul",{className:"dropdown-menu dropdown-menu-nested"},Maps.map(this.renderMapLink)),o["default"].createElement("footer",{"data-ability":"manage-maps"},o["default"].createElement("button",{className:"btn btn-default btn-block",onClick:this.handleNewMap},o["default"].createElement("i",{className:"fa fa-plus"})," New map")))),o["default"].createElement("div",{className:"dropdown"},o["default"].createElement("button",{className:"btn btn-flat btn-xs dropdown-toggle",type:"button","data-toggle":"dropdown"},t," ",o["default"].createElement("i",{className:"fa fa-angle-down"})),o["default"].createElement("div",{className:"dropdown-menu"},o["default"].createElement("ul",{className:"dropdown-menu dropdown-menu-nested"},Perspectives.map(this.renderPerspectiveLink)),o["default"].createElement("footer",{"data-ability":"manage-perspectives"},o["default"].createElement("button",{className:"btn btn-default btn-block",onClick:this.handleNewPerspective},o["default"].createElement("i",{className:"fa fa-plus"})," New view")))))}return o["default"].createElement("nav",null,"Loading...")},renderMapLink:function(e){var t=e.get("name"),n=urlFor({map:e}),r=s["default"]({active:e===currentMap});return o["default"].createElement("li",{key:e.cid,className:r},o["default"].createElement("a",{href:n},t))},renderPerspectiveLink:function(e){var t=e.get("name"),n=urlFor({map:currentMap,perspective:e}),r=s["default"]({active:e===currentPerspective});return o["default"].createElement("li",{key:e.cid,className:r},o["default"].createElement("a",{href:n},t))},handleNewMap:function(){Workflows.addMap()},handleNewPerspective:function(){Workflows.addPerspective()},handleMenu:function(){Modal.open("overview")}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=-(1/0),t=void 0;return map.getNotifications().forEach(function(n){var r=n.notification,i=n.priority;i>=e&&(t=r)}),t}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(629),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;map.on("change:notifications",function(){return e.forceUpdate()})}},{key:"render",value:function(){var e=s();return c["default"].createElement("div",{className:"map-notification-bar"},c["default"].createElement(p.VelocityTransitionGroup,{enter:{animation:"transition.slideRightIn",duration:300},leave:{animation:"transition.slideRightOut",duration:300}},e&&c["default"].createElement("div",{className:"notification sync-scene-background"},e)))}}]),t}(c["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(241),h=r(p),f=n(1778),d=r(f);n(2471);var m=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleOpen=function(){var t=e.state.updates;h["default"](c["default"].createElement(d["default"],{updates:t}))},e.state={updates:[]},e}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;return Channels.enabled()?void Channels.project.subscribe(function(t){e.setState({updates:[].concat(i(e.state.updates),[t])})}):null}},{key:"render",value:function(){var e=this.state.updates,t=e.length,n=1===t?"update":"updates";return c["default"].createElement("div",{className:"update-notification-bar"},t>0&&c["default"].createElement("button",{className:"btn btn-flat",onClick:this.handleOpen},t," ",n))}}]),t}(c["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(301),p=r(c);n(2472);var h=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.renderUpdate=function(e){var t=e.user,n=e.summary,r=e.timestamp;return l["default"].createElement("li",{key:t.username+"-"+r},l["default"].createElement("img",{src:t.avatar,className:"avatar"}),l["default"].createElement("strong",null,t.username)," ",l["default"].createElement(p["default"],{src:n}))},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.updates;return l["default"].createElement("div",{className:"update-notification-view"},l["default"].createElement("h3",null,"Recent updates"),l["default"].createElement("p",null,"The following changes have been made since you opened this project. Please save any changes you've made and refresh the page to pull in the updates."),l["default"].createElement("ul",{className:"list-unstyled"},e.map(this.renderUpdate)))}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(){return Modal.open(e)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(101),h=n(1782),f=r(h),d=n(1266),m=r(d),g=n(1783),v=r(g),y=n(1267),b=r(y),w=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.selection,r=!(!t&&!n.length);return c["default"].createElement(p.Menu,{className:"themed",dispose:this.props.dispose},r&&c["default"].createElement(p.MenuGroup,null,f["default"](this.props),c["default"].createElement(p.MenuItem,{divider:!0})),c["default"].createElement(p.MenuGroup,{"data-ability":"update-project"},c["default"].createElement(p.MenuItem,{text:"Map"},m["default"]()),c["default"].createElement(p.MenuItem,{text:"View"},v["default"]()),c["default"].createElement(p.MenuItem,{text:"Project"},b["default"]()),c["default"].createElement(p.MenuItem,{divider:!0})),c["default"].createElement(p.MenuItem,{text:"Refresh / reset view",shortcut:"Z",onClick:function(){return map.revertView()}}),c["default"].createElement(p.MenuItem,{text:"Help",shortcut:"?",onClick:s("help")}))}}]),t}(c["default"].Component);t["default"]=w,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(101),p=n(1266),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement(c.Menu,{dispose:this.props.dispose},h["default"]())}}]),t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(101),p=n(1267),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement(c.Menu,{dispose:this.props.dispose},h["default"]())}}]),t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){Workflows.ignore(i)}function n(e){return function(){return Workflows.focus(i,e)}}function r(e){return function(){return Workflows.snapTo(e)}}var i=e.component,o=(e.selection,map.isFocused());return a["default"].createElement(s.MenuGroup,null,a["default"].createElement(s.MenuItem,{text:"Hide",onClick:t}),a["default"].createElement(s.MenuItem,{text:"Focus"},a["default"].createElement(s.MenuItem,{text:"Selected",onClick:n(0)}),a["default"].createElement(s.MenuItem,{text:"Direct",aside:"Out 1",onClick:n(1)}),a["default"].createElement(s.MenuItem,{text:"Indirect",aside:"Out 2",onClick:n(2)}),a["default"].createElement(s.MenuItem,{text:"Extended",aside:"Out 3",onClick:n(3)}),o&&a["default"].createElement(s.MenuGroup,null,a["default"].createElement(s.MenuItem,{divider:!0}),a["default"].createElement(s.MenuItem,{text:"Clear focus",onClick:l["default"]("clearFocus")}))),a["default"].createElement(s.MenuItem,{text:"Snap to"},a["default"].createElement(s.MenuItem,{text:"Snap to circle",onClick:r("circle")}),a["default"].createElement(s.MenuItem,{text:"Snap to line",onClick:r("line")})))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1),a=r(o),s=n(101),u=n(716),l=r(u);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return a["default"].createElement(s.MenuGroup,null,a["default"].createElement(s.MenuItem,{text:"Rename view",onClick:l["default"]("renamePerspective")}),a["default"].createElement(s.MenuItem,{text:"Duplicate view",onClick:l["default"]("duplicatePerspective")}),a["default"].createElement(s.MenuItem,{text:"Delete view",onClick:l["default"]("deletePerspective")}),a["default"].createElement(s.MenuItem,{divider:!0}),a["default"].createElement(s.MenuItem,{text:"Make this the default view",onClick:l["default"]("makeDefaultViewForMap")}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1),a=r(o),s=n(101),u=n(716),l=r(u);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(28),c=r(l),p=n(1),h=r(p),f=n(717),d=r(f),m=n(1282),g=r(m),v=n(722),y=r(v),b=n(1281),w=r(b),_=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.label,r=e.text,i=c["default"].omit(this.props,"type","title","label","text","children");return h["default"].createElement(d["default"],s({},i,{direction:"vertical"}),t&&h["default"].createElement(g["default"],{value:t}),n&&h["default"].createElement(y["default"],{value:n}),r&&h["default"].createElement(w["default"],{value:r}),this.props.children)}}]),t}(h["default"].Component);t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1278),o=r(i),a=n(1283),s=r(a),u=n(1279),l=r(u),c=n(1277),p=r(c);t["default"]={topLeft:React.createElement(o["default"],{key:"search"}),topRight:[React.createElement(s["default"],{key:"zoom"}),React.createElement(l["default"],{key:"settings"})],bottomLeft:React.createElement(p["default"],{key:"legend"})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(1785),p=r(c),h=n(1804),f=r(h),d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={controls:{}},n}return a(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;map.on("change:style",this.refresh.bind(this)),map.on("load:map",function(){e.reset().then(e.refresh.bind(e))})}},{key:"render",value:function(){function e(e){return t[e]||p["default"][e]}var t=this.state.controls,n=9;return l["default"].createElement("div",{className:"map-controls"},l["default"].createElement("div",{className:"region-group top"},l["default"].createElement("div",{className:"region-group"},l["default"].createElement("div",{className:"region top-edge edge"},e("topEdge"))),l["default"].createElement("div",{className:"region-group",style:{margin:n}},l["default"].createElement("div",{className:"region top-left left"},e("topLeft")),l["default"].createElement("div",{className:"region top-center center"},e("topCenter")),l["default"].createElement("div",{className:"region top-right right"},e("topRight")))),l["default"].createElement("div",{className:"region-group bottom"},l["default"].createElement("div",{className:"region-group",style:{margin:n}},l["default"].createElement("div",{className:"region bottom-left left"},e("bottomLeft")),l["default"].createElement("div",{className:"region bottom-center center"},e("bottomCenter")),l["default"].createElement("div",{className:"region bottom-right right"},e("bottomRight"))),l["default"].createElement("div",{className:"region-group"},l["default"].createElement("div",{className:"region bottom-edge edge"},e("bottomEdge")))))}},{key:"refresh",value:function(){var e=currentScene.style.compileControls();this.setState({controls:f["default"](e)})}},{key:"reset",value:function(){var e=this;return new Promise(function(t){e.setState({controls:{}},function(){return t()})})}}]),t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.active,r=e.toggle,i="btn btn-default"+(n?" active":"");return React.createElement("button",{className:i,onClick:r},t)}}]),t}(React.Component),s=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props.options,t=e.map(function(e){return React.createElement(a,e)});return React.createElement("div",{className:"interactive button-group-component btn-group",onDoubleClick:this.props.toggleAll},t)}}]),t}(React.Component);t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(116),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.domain,r=t.range,i=t.steps,o=t.labels,a=h["default"].scale(r).domain(n),s=i||this.props.width/5,u=a.colors(s);return c["default"].createElement("div",{className:"color-gradient"},c["default"].createElement("div",{className:"gradient"},u.map(function(t){return e.renderStep(t)})),o&&this.renderLabels())}},{key:"renderStep",value:function(e,t){var n={backgroundColor:e};return c["default"].createElement("span",{className:"gradient-step",style:n},t&&c["default"].createElement("span",{className:"gradient-step-label"},t))}},{key:"renderLabels",value:function(){var e=this.props,t=e.labels,n=e.domain,r=s(t,2),i=r[0],o=r[1];return"auto"===i&&(i=n[0]),"auto"===o&&(o=n[n.length-1]),c["default"].createElement("div",{className:"gradient-label-container"},c["default"].createElement("div",{className:"gradient-label-left"},i),c["default"].createElement("div",{className:"gradient-label-right"},o))}}],[{key:"defaultProps",get:function(){return{width:200,domain:[0,1],range:["yellow","lightgreen","008ae5"],labels:void 0,steps:void 0}}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=$(e.currentTarget),n=t.closest(".region");return n.is(".top-left")?{my:"left top",of:e}:n.is(".top-right")?{my:"right top",of:e}:n.is(".top-center")?{my:"middle top",of:e}:n.is(".top-edge")?{my:"middle top",of:e}:n.is(".bottom-left")?{my:"left bottom",of:e}:n.is(".bottom-right")?{my:"right bottom",of:e}:n.is(".bottom-center")?{my:"middle bottom",of:e}:n.is(".bottom-edge")?{my:"middle bottom",of:e}:{my:"middle",at:"middle",of:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=r(c),h=n(101),f=r(h),d=n(1940),m=r(d),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={open:!1},n.handleClick=n.handleClick.bind(n),n
}return a(t,e),l(t,[{key:"componentDidUpdate",value:function(){this.contextMenu&&this.contextMenu.render(this.renderMenu())}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.summary,r=e.placeholder;return p["default"].createElement("div",{className:"interactive dropdown-toggle",onClick:this.handleClick.bind(this)},t||n||r," ",p["default"].createElement("i",{className:"fa fa-angle-down"}))}},{key:"renderMenu",value:function(){var e=this.props,t=e.options,n=e.multiple,r=e.toggleAll;r=r&&m["default"](r);var i=t.map(function(e){var t=e.label,i=e.active,o=e.toggle,a="checkbox",s=void 0;return s=n?m["default"](o):o,p["default"].createElement(h.MenuItem,{type:a,text:t,active:i,onClick:s,onDoubleClick:r})});return p["default"].createElement(h.Menu,{className:"themed"},r&&p["default"].createElement(h.MenuGroup,null,p["default"].createElement(h.MenuItem,{type:"checkbox",text:"Select all / none",onClick:r}),p["default"].createElement(h.MenuItem,{divider:!0})),i)}},{key:"handleClick",value:function(e){var t=this,n=u({},s(e),{onClose:function(){t.contextMenu=null}});this.contextMenu=f["default"](this.renderMenu(),n)}}]),t}(p["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(276),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.active,r=e.toggle;return React.createElement(s.Option,{active:n,onClick:r},t)}}]),t}(React.Component),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.toggleAll;return t=t.map(function(e){return React.createElement(u,e)}),React.createElement("div",{className:"interactive",onDoubleClick:n},React.createElement(s.Select,null,t))}}]),t}(React.Component);t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.props=t,this.state={target:t.target}}return r(e,[{key:"init",value:function(){}},{key:"dispose",value:function(){}},{key:"update",value:function(){this.updateMap()}},{key:"updateMap",value:function(){var e=this.state,t=e.target,n=e.rules;t&&(n=n.map(function(e){var n=(e.selector,e.attribute),r=e.type;return{selector:t,attribute:n,type:r}})),map.cluster(n)}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){e.update(),n()}function n(){var e=r.active().map(function(e){return e.value});e=s["default"].flatten(e),i.state.rules=e,i.updateMap()}var r=p["default"](e.props),i=new l["default"](e.props);return n(),{getState:function(){return o({},e.props,r.getControlState(t))},dispose:function(){i.dispose()}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(28),s=r(a),u=n(1791),l=r(u),c=n(643),p=r(c);e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.rules={showcase:new Lens},this.props=t,this.state={active:!1,selector:t.selector,mode:t.mode||"normal"}}return i(e,[{key:"receiveProps",value:function(e){this.props=e,this.refresh()}},{key:"getControlProps",value:function(){var e=r({},this.state);return e.toggle=this.toggle.bind(this),e}},{key:"toggle",value:function(){this.state.active=!this.state.active,this.refresh()}},{key:"refresh",value:function(){this.refreshControl(),this.refreshUrl(),this.refreshMap()}},{key:"refreshUrl",value:function(){}},{key:"refreshMap",value:function(){var e=this.rules.showcase,t=this.state,n=t.active,r=t.selector,i=t.mode,o=currentScene.style.shadowRules;r&&n?(e.set({selector:r,declarations:{showcase:i}}),e.disabled=!1):e.disabled=!0,o.add(e),map.requestRefresh()}},{key:"dispose",value:function(){var e=this.rules.showcase;e.dispose(),e.destroy()}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){e.update(),n()}function n(){var e=h.pluckActive("value"),t=e.map(function(e){return"[tags~="+e+"]"}).join(", ");d.setVisible(t),d.updateMap()}var r=(new Date).getFullYear();s["default"].defaults(e.props,{range:r-10+".."+r,multiple:!0});var i=e.props,a=i.range,u=i.target,c=i.multiple,h=l["default"]({options:f["default"].parse(a).map(function(e){return{value:e,label:e}}),multiple:c}),d=new p["default"]({target:u});return n(),{getState:function(){return o({},e.props,h.getControlState(t))},dispose:function(){d.dispose()}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(28),s=r(a),u=n(643),l=r(u),c=n(1270),p=r(c),h=n(1448),f=r(h);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(437),u=r(s),l=n(724),c=r(l),p=n(467),h=r(p),f=n(1792),d=r(f),m=u["default"](h["default"],d["default"],function(e,t){return i({},e,{options:e.options||c["default"](t)})});m.Option=a["default"].Component,t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(437),u=r(s),l=n(724),c=r(l),p=n(467),h=r(p),f=n(1271),d=r(f),m=u["default"](h["default"],d["default"],function(e,t){return i({},e,{options:c["default"](t)})});m.Option=a["default"].Component,t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(28),h=r(p),f=n(100),d=r(f),m=n(1933),g=r(m),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.width,r=e.height,i=g["default"](t),o=h["default"].omit(this.props,"width","height");return c["default"].createElement(d["default"],s({type:"image"},o),c["default"].createElement("img",{src:i,width:n,height:r}))}}]),t}(c["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){Workflows.openConsole()}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=r(c),h=n(100),f=r(h),d=n(642),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return p["default"].createElement(f["default"],u({type:"search-toolbar"},this.props),p["default"].createElement(d.Toolbar,null,p["default"].createElement(d.ToolbarButton,{onClick:s,title:"Search",track:"search",icon:"icon-search"})))}}]),t}(p["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.order,n=e.label,r=e.value;return c["default"].createElement(h["default"],s({type:"stat",className:t},this.props),c["default"].createElement("div",{className:"stat-container"},c["default"].createElement("div",{className:"stat-label"},n),c["default"].createElement("div",{className:"stat-value"},r)))}}],[{key:"defaultProps",get:function(){return{order:"value-first"}}}]),t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(28),o=r(i),a=n(1),s=(r(a),n(437)),u=r(s),l=n(467),c=r(l),p=n(1794),h=r(p),f=u["default"](c["default"],h["default"],function(e){return o["default"].defaults(e,{as:"labels",multiple:!0})});t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e="33%";return l["default"].createElement("div",{className:"timeline-control control block"},l["default"].createElement("div",{className:"timeline-marker",style:{width:e}}))}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(100),h=r(p),f=n(642),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return c["default"].createElement(h["default"],s({type:"toolbar"},this.props),c["default"].createElement(f.Toolbar,null))}}]),t}(c["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=void 0,r=void 0;if("auto"!==e&&"inherit"!==e&&"inherit-element-color"!==e||(r=currentScene.style.getGeneralElementRule()),r){var i=r.decl("color");i instanceof StyleDeclaration.CategoryScale?n=o(i,t):i instanceof StyleDeclaration.Scale&&(n=a(i,t))}return n}function o(e){var t=[],n=e.expression,r=e.table,i=Attributes.get(n);return Object.keys(r).forEach(function(e){var o=r[e],a=void 0,s="undefined"===String(e);i&&(a=s?Selector.prepare('[!"{{field}}"]',{field:n}):Selector.prepare('["{{field}}"="{{value}}"]',{field:n,value:e})),s&&(e="Other"),t.push(React.createElement(u["default"],{color:o,label:e,selector:a}))}),React.createElement(c["default"],null,t)}function a(e,t){var n=e.scale,r=n.domain(),i=n.range(),o=[t.labelMin,t.labelMax];return React.createElement(h["default"],{domain:r,range:i,labels:o})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var s=n(718),u=r(s),l=n(1268),c=r(l),p=n(1788),h=r(p);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t={},n=e.props.reset;return p.forEach(function(r){var i=void 0;try{i=o(e.regions[r])}catch(a){log.error("Unable to render region",r),log.error(a)}n&&!i&&(i=[]),t[r]=i}),t}function o(e){if(e){var t=(e.props,e.children);return t?s("",t):[]}return null}function a(e,t,n){var r=t.type,i=t.props,o=t.children;try{var a=e?e+"."+r:r,c=u(a);if(c){if(o=s(a,o),c.validate){var p=c.validate(i,o);if(p)return void alert(p)}return React.createElement(c,l({key:n},i),o)}log.error("Unrecognized control, "+r+" ("+a+")")}catch(p){log.error("Unable to render control, "+r),log.error(p)}}function s(e,t){return t?_.compact(t.map(a.bind(null,e))):void 0}function u(e){return e.endsWith("group")?h.group:h[e.replace(/(^|\.?)group\./g,"")]}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var c=n(717),p=(r(c),["topCenter","topLeft","topRight","topEdge","bottomCenter","bottomLeft","bottomRight","bottomEdge"]),h={group:n(717),title:n(1282),text:n(1281),label:n(722),colorLegend:n(1274),"colorLegend.color":n(1274).Color,image:n(1797),stat:n(1799),timeline:n(1801),buttonGroup:n(1273),"buttonGroup.button":n(1273).Button,cluster:n(719),"cluster.option":n(719).Option,"cluster.clusterOption":n(719).Option,taggedTimeline:n(1800),filter:n(1276),"filter.option":n(1276).Option,fieldFilter:n(720),filterByField:n(720),dropdown:n(1275),"dropdown.option":n(1275).Option,showcase:n(1280),"showcase.option":n(1280).Option,showcaseToggle:n(723),"showcaseToggle.option":n(723).Option,fieldShowcase:n(721),showcaseByField:n(721),toolbar:n(1802),zoomToolbar:n(1283),settingsToolbar:n(1279),search:n(1278),searchToolbar:n(1798),legend:n(1277)};e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(1916),s=r(a),u=n(629),l=n(1287),c=r(l),p=n(1286),h=r(p),f=o["default"].createClass({displayName:"AdvancedEditor",getInitialState:function(){return{source:this.props.source,autorefresh:Settings.user.get("advanced-editor.autorefresh",!0),error:null}},getDefaultProps:function(){return{source:""}},componentWillMount:function(){this.pushLazy=_.debounce(this.push,1500)},componentDidMount:function(){var e=this.props.source;e&&this.validate(e)},componentWillReceiveProps:function(e){e.hasOwnProperty("source")&&this.setState({source:e.source})},componentDidUpdate:function(e,t){this.state.autorefresh!==t.autorefresh&&Settings.user.set("advanced-editor.autorefresh",this.state.autorefresh);var n=this.props.source;n!==e.source&&this.validate(n)},render:function(){var e=this.state,t=e.error,n=e.autorefresh,r=this.props.settings,i=Object.assign({},this.props,{source:this.state.source,autorefresh:this.state.autorefresh,apply:this.push});return o["default"].createElement("div",{className:"map-settings-editor advanced-editor"},o["default"].createElement(u.VelocityTransitionGroup,{enter:{animation:"slideDown",duration:300},leave:{animation:"slideUp",duration:150}},t&&this.renderError()),o["default"].createElement("div",{className:"content"},o["default"].createElement(c["default"],this.props),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("p",null,"If you're comfortable with code, we strongly recommend using the advanced editor. Check out our"," "," ",o["default"].createElement("a",{href:"http://docs.kumu.io/guides/perspectives-advanced.html",target:"_blank"},"Advanced Views")," "," ","guide to get started."),o["default"].createElement("div",{className:"checkbox"},o["default"].createElement("label",null,o["default"].createElement("input",{type:"checkbox",checked:n,onChange:this.handleToggleAutorefresh})," "," Automatically apply changes"))),o["default"].createElement("div",{className:"form-group"},r?o["default"].createElement(s["default"],{ref:"editor",value:this.state.source,onChange:this.handleChange}):o["default"].createElement("div",null,"Loading...")),o["default"].createElement("div",{className:"content-push"})),o["default"].createElement(h["default"],i))},renderError:function(){var e=void 0,t=this.state.error;return e=t.type&&t.line?t.type+" Error: "+t.message+". Line "+t.line+", column "+t.column+".":"Error: "+t.message,o["default"].createElement("div",{className:"errors alert alert-danger",dangerouslySetInnerHTML:{__html:e}})},handleToggleAutorefresh:function(e){var t=e.target.checked;this.setState({autorefresh:t}),t&&this.push()},handleChange:function(e){var t=this.state.autorefresh;t&&this.pushLazy(),this.setState({source:e})},getSource:function(){return this.refs.editor.getValue()},push:function(){var e=this.getSource(),t=this.validate(e);t||map.setStyle(e)},validate:function(e){var t=StyleSheet.validate(e);return this.setState({error:t}),t}});t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(1929),u=n(1287),l=r(u),c=n(1286),p=r(c),h=n(1814),f=(r(h),n(1815)),d=r(f),m=n(1811),g=r(m),v=n(1822),y=r(v),b=n(1821),w=r(b),_=[{key:"filter",title:"Filter",form:d["default"]},{key:"cluster",title:"Cluster",form:g["default"]},{key:"rules",title:"Decorate",form:w["default"]},{key:"settings",title:"Settings",form:y["default"]}],x=a["default"].createClass({displayName:"BasicEditor",getDefaultProps:function(){return{section:"settings"}},render:function(){var e=this.props,t=(e.perspective,e.section),n=e.settings;return a["default"].createElement("div",{className:"map-settings-editor basic-editor"},a["default"].createElement("div",{className:"content"},a["default"].createElement(l["default"],this.props),n?a["default"].createElement(s.Tabs,{tab:t,onTab:this.props.toggleSection},this.renderTabs()):a["default"].createElement("div",null,"Loading..."),a["default"].createElement("div",{className:"content-push"})),a["default"].createElement(p["default"],i({},this.props,{autorefresh:!0})))},renderTabs:function(){var e=this;return _.map(function(t){return a["default"].createElement(s.Tab,{key:t.key,title:t.title},a["default"].createElement(t.form,e.props))})}});t["default"]=x,e.exports=t["default"]},function(e,t,n){(function(r,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=o(a),u=n(435),l=o(u),c=n(1808),p=o(c),h=l["default"].View.extend({className:"map-settings-container",initialize:function(){},render:function(){return this.form=r(s["default"].createElement(p["default"],null),this.el),this},remove:function(){i(this.el),l["default"].View.prototype.remove.call(this)},refresh:function(){this.form.refresh()},show:function(e){this.form.show(e)},close:function(){map.toggleSettingsForm()}});t["default"]=h,e.exports=t["default"]}).call(t,n(102),n(150))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),s=r(a),u=n(1923),l=r(u),c=n(1806),p=r(c),h=n(1805),f=r(h),d=s["default"].createClass({displayName:"MapSettingsEditor",getInitialState:function(){return{advanced:Settings.user.get("advanced-editor.enabled",!1)}},componentWillMount:function(){this.updateState()},componentDidMount:function(){map.on("change:style",this.updateState),map.on("change:perspectivename",this.updateState)},updateState:function(){var e={};currentPerspective&&(e.perspective=currentPerspective,e.perspectiveName=currentPerspective.get("name"),e.perspectiveSource=currentPerspective.get("style")),currentScene&&currentScene.perspective===currentPerspective&&(e.source=currentScene.style.source,e.settings=currentScene.style.compileSettingsFull()),this.setState(e)},componentDidUpdate:function(e,t){this.state.advanced!==t.advanced&&Settings.user.set("advanced-editor.enabled",this.state.advanced)},show:function(e){this.setState("code"===e?{advanced:!0}:{advanced:!1,section:e})},render:function(){if(!this.state.perspective)return s["default"].createElement("div",null,"Loading...");var e=this.state.advanced,t=Object.assign({},this.state,{toggleSection:this.handleToggleSection,toggleAdvanced:this.handleToggleAdvanced,onChange:this.onChange,changeProp:this.changeProp,changeTemplateProp:this.changeTemplateProp,throttleChange:this.throttleChange,save:this.save}),n=s["default"].createElement(p["default"],o({ref:"basicEditor"},t)),r=s["default"].createElement(f["default"],o({ref:"advancedEditor"},t));return s["default"].createElement(l["default"],{front:n,back:r,flipped:e})},handleToggleSection:function(e){this.setState({section:e})},changeProp:function(e){return this.onChange.bind(this,e)},changeTemplateProp:function(e){return this.onChangeTemplateProp.bind(this,e)},onTextChange:function(e){var t=this.props.changeProp(e);return _.debounce(t,5e3)},throttleChange:function(e,t){var n=this.changeProp(e);return _.debounce(n,t||350)},onChange:function(e,t){if("object"===("undefined"==typeof e?"undefined":i(e))){var n=e;e=n.target.name,t=n.target.value}else if("object"===("undefined"==typeof t?"undefined":i(t))){var r=t;t=r.target.value}try{t=JSON.parse(t)}catch(o){}map.setSetting(e,t),this.state.settings[e]=t,this.forceUpdate()},onChangeTemplateProp:function(e,t){this.onChange(e,t),map.forceStyleRefresh()},handleToggleAdvanced:function(){var e=!this.state.advanced;this.setState({advanced:e})},save:function(){Workflows.saveToPerspective()}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(101),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement(c.Menu,{className:"themed",dispose:this.props.dispose},l["default"].createElement(c.MenuGroup,{"data-ability":"manage-perspectives"},l["default"].createElement(c.MenuItem,{text:"Save view",onClick:this.props.save}),l["default"].createElement(c.MenuItem,{text:"Rename view",onClick:this.handleRename}),l["default"].createElement(c.MenuItem,{text:"Duplicate view",onClick:this.handleDuplicate}),l["default"].createElement(c.MenuItem,{text:"Delete view",onClick:this.handleDelete}),l["default"].createElement(c.MenuItem,{divider:!0}),l["default"].createElement(c.MenuItem,{text:"Default to this view",onClick:this.handleDefault}),l["default"].createElement(c.MenuItem,{divider:!0})),this.renderEditorToggle())}},{key:"handleRename",value:function(){Workflows.renamePerspective()}},{key:"handleDuplicate",value:function(){Workflows.duplicatePerspective()}},{key:"handleDefault",value:function(){Workflows.makeDefaultPerspective(currentMap)}},{key:"handleDelete",value:function(){Workflows.deletePerspective()}},{key:"renderEditorToggle",value:function(){return this.props.advanced?l["default"].createElement(c.MenuItem,{text:"Switch to basic editor",onClick:this.props.toggleAdvanced}):l["default"].createElement(c.MenuItem,{text:"Switch to advanced editor",onClick:this.props.toggleAdvanced})}}]),t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(44),p=r(c),h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleApply=n.handleApply.bind(n),n.handleSave=n.handleSave.bind(n),n}return a(t,e),s(t,null,[{key:"defaultProps",get:function(){return{source:"",perspectiveSource:"",autorefresh:!0}}}]),s(t,[{key:"render",value:function(){var e=this.props,t=e.source,n=e.perspectiveSource,r=e.autorefresh,i=p["default"]("notification-bar",{active:t!==n});return l["default"].createElement("div",{className:i},l["default"].createElement("div",{className:"alert alert-warning"},"You've made changes to this view",!r&&l["default"].createElement("a",{href:"#",className:"text-system",onClick:this.handleApply},"Apply"),l["default"].createElement("a",{href:"#",className:"text-system",onClick:this.handleSave,"data-ability":"update-project"},"Save"),l["default"].createElement("a",{href:"#",className:"text-system",onClick:this.handleUndo},"Revert")))}},{key:"handleApply",value:function(){var e=this.props,t=e.apply,n=e.source;t?t(n):map.setStyle(n)}},{key:"handleSave",value:function(){var e=this.props.source;Workflows.savePerspective(currentPerspective,{style:e})}},{key:"handleUndo",value:function(){Workflows.restorePerspective()}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"ClusterForm",componentWillReceiveProps:function(){this.form&&this.form.render()},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.form=new Views.Cluster.Form,this.form.render().$el.appendTo(this.refs.el)
},render:function(){return o["default"].createElement("div",{ref:"el"})}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(470),s=r(a),u=n(439),l=r(u),c=o["default"].createClass({displayName:"ConnectionSettingsForm",render:function(){var e=this.props.settings;return o["default"].createElement("fieldset",null,o["default"].createElement("h4",null,"Connection settings"),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default color"),o["default"].createElement(l["default"],{value:e.connectionColor,onChange:this.props.changeProp("connectionColor")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default width"),o["default"].createElement(s["default"],{type:"slider",value:e.connectionSize,min:"1",max:"30",onChange:this.props.throttleChange("connectionSize")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default curvature"),o["default"].createElement(s["default"],{type:"slider",value:e.connectionCurvature,min:"0",max:"1.00",onChange:this.props.throttleChange("connectionCurvature")})))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(470),s=r(a),u=n(439),l=r(u),c=o["default"].createClass({displayName:"ElementSettingsForm",render:function(){var e=this.props.settings;return o["default"].createElement("fieldset",null,o["default"].createElement("h4",null,"Element settings"),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default color"),o["default"].createElement(l["default"],{value:e.elementColor,onChange:this.props.changeProp("elementColor")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default size"),o["default"].createElement(s["default"],{type:"slider",value:e.elementSize,min:"0",max:"100",onChange:this.props.throttleChange("elementSize")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default label position"),o["default"].createElement("select",{className:"form-control subtle",value:e.elementTextAlign,onChange:this.props.changeProp("elementTextAlign")},o["default"].createElement("option",{value:"bottom"},"bottom"),o["default"].createElement("option",{value:"center"},"center"))))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(44),s=r(a),u=o["default"].createClass({displayName:"Fieldset",render:function(){var e=this.props.collapsed,t=s["default"]({collapsed:e});return o["default"].createElement("fieldset",{className:t},this.props.label&&this.renderLegend(),this.props.children)},renderLegend:function(){return o["default"].createElement("legend",{onClick:this.props.toggle},this.props.label," ",o["default"].createElement("i",{className:"icon-angle-down"}))}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"FilterForm",shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.form=new Views.Filters.FormView,this.form.render().$el.appendTo(this.refs.el)},render:function(){return o["default"].createElement("div",{ref:"el"})}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(470),s=r(a),u=n(439),l=r(u),c=o["default"].createClass({displayName:"FontSettingsForm",render:function(){var e=this.props.settings;return o["default"].createElement("fieldset",null,o["default"].createElement("h4",null,"Font settings"),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default color"),o["default"].createElement(l["default"],{value:e.fontColor,onChange:this.props.changeProp("fontColor")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default size"),o["default"].createElement(s["default"],{type:"slider",value:e.fontSize,min:"1",max:"60",onChange:this.props.throttleChange("fontSize")})))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(470),s=(r(a),o["default"].createClass({displayName:"GeneralSettingsForm",render:function(){var e=this.props.settings;return o["default"].createElement("fieldset",null,o["default"].createElement("h4",null,"General settings"),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Theme"),o["default"].createElement("select",{className:"form-control subtle",value:e.theme,onChange:this.props.changeProp("theme")},o["default"].createElement("option",{value:"light"},"light"),o["default"].createElement("option",{value:"dark"},"dark"))),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Template"),o["default"].createElement("select",{className:"form-control subtle",value:e.template,onChange:this.onTemplateChange},o["default"].createElement("option",{value:""},"none"),o["default"].createElement("option",{value:"systems"},"systems"),o["default"].createElement("option",{value:"causal-loop"},"causal loop"),o["default"].createElement("option",{value:"stock-and-flow"},"stock and flow"),o["default"].createElement("option",{value:"stakeholder"},"stakeholder"),o["default"].createElement("option",{value:"sna"},"social network analysis"))),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Quality"),o["default"].createElement("select",{className:"form-control subtle",value:e.quality,onChange:this.props.changeProp("quality")},o["default"].createElement("option",{value:"best"},"high"),o["default"].createElement("option",{value:"fast"},"low / fast"))),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Layout"),o["default"].createElement("select",{className:"form-control subtle",value:e.layout,onChange:this.onLayoutChange},o["default"].createElement("option",{value:"static"},"off"),o["default"].createElement("option",{value:"force"},"force-directed"))))},onTemplateChange:function(e){var t=e.target.value;this.props.onChange("template",t),Template.run(t,{current:!0})},onLayoutChange:function(e){var t=e.target.value;this.props.onChange("layout",t),Workflows.onLayoutChange(t)}}));t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(1824),s=r(a),u={force:s["default"]},l=o["default"].createClass({displayName:"LayoutSettingsForm",render:function(){var e=u[this.props.settings.layout];return e?o["default"].createElement("fieldset",null,o["default"].createElement("h4",null,"Layout settings"),o["default"].createElement(e,this.props)):o["default"].createElement("div",null)}});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(46),s=r(a),u=o["default"].createClass({displayName:"MapDefaultsForm",render:function(){var e=Perspectives.map(function(e){return[e.id,e.get("name")]});return o["default"].createElement("fieldset",{"data-ability":"manage-maps"},o["default"].createElement("h4",null,"Map settings"),o["default"].createElement(l,{label:"Default view",attribute:"default_perspective_id",options:e}),o["default"].createElement(l,{label:"Default element behavior",attribute:"default_element_behavior",options:["fixed","floating"]}),o["default"].createElement(l,{label:"Default connection direction",attribute:"default_connection_direction",options:["undirected","directed","mutual"]}))}}),l=o["default"].createClass({displayName:"Select",mixins:[s["default"]],getInitialState:function(){return{value:currentMap.get(this.props.attribute)}},render:function(){var e=this.props,t=e.label,n=e.options;return o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,t),o["default"].createElement("select",{className:"form-control subtle",valueLink:this.link("value",this.handleSave)},n.map(this.renderOption)))},renderOption:function(e){return"string"==typeof e?o["default"].createElement("option",{value:e},e):o["default"].createElement("option",{value:e[0]},e[1])},handleSave:function(e){Workflows.updateMapSettings(this.props.attribute,e)}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(1768),p=r(c),h=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleChange=_.debounce(e.handleChange.bind(e),500),e}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.settings.showcase;return l["default"].createElement("fieldset",{className:"showcase-form"},l["default"].createElement("h4",null,"Showcase settings"),l["default"].createElement("p",null,"Showcasing allows you to highlight items without losing context of the rest of the map. The highlighted items are shown in the foreground while the rest fade into the background."),l["default"].createElement(p["default"],{value:e,onChange:this.handleChange}))}},{key:"handleChange",value:function(e){this.props.onChange("showcase",e)}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"StyleRulesForm",componentDidMount:function(){this.refresh()},componentWillReceiveProps:function(){this.refresh()},shouldComponentUpdate:function(){return!1},render:function(){return o["default"].createElement("div",{ref:"el"})},refresh:function(){if(this.form&&this.form.remove(),currentScene&&currentScene.style){var e=currentScene.style.lenses;this.form=new Views.Perspectives.Decorations({model:e}),this.form.render().$el.appendTo(this.refs.el)}}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(1819),s=r(a),u=n(1817),l=r(u),c=n(1823),p=r(c),h=n(1818),f=r(h),d=n(1813),m=r(d),g=n(1812),v=r(g),y=n(1816),b=r(y),w=n(1820),_=r(w),x=o["default"].createClass({displayName:"StyleSettingsForm",render:function(){return this.props.settings,o["default"].createElement("div",{className:"default-settings-form"},o["default"].createElement(p["default"],this.props),o["default"].createElement(m["default"],this.props),o["default"].createElement(v["default"],this.props),o["default"].createElement(b["default"],this.props),o["default"].createElement(_["default"],this.props),o["default"].createElement(f["default"],this.props),o["default"].createElement(l["default"],this.props),o["default"].createElement(s["default"],this.props))}});t["default"]=x,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a={"causal-loop":n(1825),"stock-and-flow":n(1826),systems:n(1827)},s=o["default"].createClass({displayName:"TemplateSettingsForm",render:function(){var e=this.props.settings,t=a[e.template];return t?o["default"].createElement("fieldset",null,o["default"].createElement("h4",null,"Template settings"),o["default"].createElement(t,this.props)):o["default"].createElement("div",null)}});t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(470),s=(r(a),o["default"].createClass({displayName:"ForceLayoutSettingsForm",render:function(){var e=this.props.settings;return o["default"].createElement("div",null,o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Preset"),o["default"].createElement("select",{className:"form-control subtle",value:e.layoutPreset,onChange:this.handleChangePreset},o["default"].createElement("option",{value:"auto"},"auto"),o["default"].createElement("option",{value:"dense"},"dense"),o["default"].createElement("option",{value:"hairball"},"hairball"))))},handleChangePreset:function(e){this.props.onChange("layoutPreset",e.target.value),map.forceStyleRefresh()}}));t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(439),s=r(a),u=n(1378),l=r(u),c=o["default"].createClass({displayName:"CausalLoopForm",render:function(){var e=this.props.settings;return o["default"].createElement("div",null,o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,o["default"].createElement("em",null,"Same")," connection color"),o["default"].createElement(s["default"],{value:e.sameColor,onChange:this.props.changeTemplateProp("sameColor")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,o["default"].createElement("em",null,"Same")," connection label"),o["default"].createElement(l["default"],{value:e.sameLabel,onChange:this.props.changeTemplateProp("sameLabel")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,o["default"].createElement("em",null,"Opposite")," connection color"),o["default"].createElement(s["default"],{value:e.oppositeColor,onChange:this.props.changeTemplateProp("oppositeColor")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,o["default"].createElement("em",null,"Opposite")," connection label"),o["default"].createElement(l["default"],{value:e.oppositeLabel,onChange:this.props.changeTemplateProp("oppositeLabel")})))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(439),s=r(a),u=o["default"].createClass({displayName:"StockAndFlowForm",render:function(){var e=this.props.settings;return o["default"].createElement("div",null,o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Stock color"),o["default"].createElement(s["default"],{value:e.stockColor,onChange:this.props.changeTemplateProp("stockColor")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Flow color"),o["default"].createElement(s["default"],{value:e.flowColor,onChange:this.props.changeTemplateProp("flowColor")})))}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(439),s=r(a),u=n(1378),l=r(u),c=o["default"].createClass({displayName:"SystemsForm",render:function(){var e=this.props.settings;return o["default"].createElement("div",null,o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Default connection color"),o["default"].createElement(s["default"],{value:e.connectionColor,onChange:this.props.changeTemplateProp("connectionColor")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Opposite connection color"),o["default"].createElement(s["default"],{value:e.oppositeColor,onChange:this.props.changeTemplateProp("oppositeColor")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Opposite connection label"),o["default"].createElement(l["default"],{value:e.oppositeLabel,onChange:this.props.changeTemplateProp("oppositeLabel")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Opposite connection style"),o["default"].createElement("select",{className:"form-control subtle",value:e.oppositeStyle,onChange:this.props.changeTemplateProp("oppositeStyle")},o["default"].createElement("option",{value:"dashed"},"Dashed line"),o["default"].createElement("option",{value:"solid"},"Solid line"),o["default"].createElement("option",{value:"none"},"Don't highlight"))))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(65),u=r(s),l=n(438),c=r(l),p=n(1829),h=r(p),f=n(1830),d=(r(f),n(1833)),m=r(d),g=a["default"].createClass({displayName:"MapWizard",mixins:[u["default"].connect(h["default"],"reflux")],componentWillMount:function(){c["default"].reset()},componentWillUnmount:function(){c["default"].reset()},componentDidUpdate:function(){this.state.reflux.done&&this.props.done()},render:function(){return a["default"].createElement(m["default"],i({},this.state.reflux,{done:this.props.done}))}});e.exports=g},function(e,t,n){"use strict";var r=n(65),i=n(438),o={},a=r.createStore({init:function(){this.listenToMany(i)},reset:function(){o={done:!1,error:void 0,template:void 0,isNewProject:currentProject.isFresh()}},getInitialState:function(){return this.getState()},getState:function(){return _.clone(o)},notify:function(){this.trigger(this.getState())},resetError:function(){o.error=void 0,this.notify()},onReset:function(){this.reset(),this.notify()},onSelectTemplate:function(e){o.template=e,this.notify()},onResetTemplate:function(){o.template=void 0,this.notify()},onDone:function(){o.done=!0,this.notify()},onError:function(e){o.error=e||"Unable to create map. Please try again.",this.notify()},onCreateMap:function(e,t){var n;return this.resetError(),t.mapName?Maps.get(t.mapName)&&(n="A map with that name already exists. Please pick a new one."):n="Please enter a name for this map",n?void i.error(n):void Template.run(e,t).done(function(){i.done()},function(e){log.warn(e),i.error()})}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=r(i),a=n(67),s=r(a),u=n(438),l=r(u),c={intro:"https://vimeo.com/120666713",systems:"https://vimeo.com/120851694",stakeholders:"https://vimeo.com/120964653",networks:"https://vimeo.com/120999753",other:"https://vimeo.com/120887205"},p=o["default"].createStore({init:function(){this.listenTo(l["default"].watchVideo,"watch")},watch:function(e){var t=c[e];t&&(t+="?autoplay=1",s["default"].magnificPopup.open({items:{src:t,type:"iframe"}})),event&&event.preventDefault()}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(46),u=r(s),l=n(438),c=r(l),p={systems:n(1839),stakeholders:n(1838),networks:n(1836),other:n(1837),"import":n(1835)},h=a["default"].createClass({displayName:"Form",mixins:[u["default"]],render:function(){if(!this.props.template)return a["default"].createElement("form",null);var e=p[this.props.template];return a["default"].createElement("div",{className:"form-container"},a["default"].createElement("form",{onSubmit:this.onSubmit},e&&a["default"].createElement(e,i({},this.props,{watchIntro:this.watchIntro})),"import"!==this.props.template&&this.renderCommonForm()))},renderCommonForm:function(){var e=this.props.isNewProject?"Create your first map":"Create a new map";return a["default"].createElement("div",null,a["default"].createElement("div",{className:"form-group"},a["default"].createElement("p",{className:"prompt"},"What should we name this map?"),a["default"].createElement("input",{type:"text",className:"form-control",name:"mapName",placeholder:"Add map name"})),this.props.error&&a["default"].createElement("div",{className:"alert alert-warning"},this.props.error),a["default"].createElement("div",{className:"form-group"},a["default"].createElement("button",{className:"submit-btn btn btn-success btn-block",type:"submit"},e)),a["default"].createElement("footer",null,a["default"].createElement("a",{href:"#",onClick:c["default"].resetTemplate},"or select another template")))},watchIntro:function(e){e.preventDefault(),c["default"].watchVideo(this.props.template)},onSubmit:function(e){e.preventDefault();var t=this.props.template,n=this.$el().find("form").serializeJSON();n.template&&(t=n.template,delete n.template),c["default"].createMap(t,n)}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"Header",render:function(){var e="Create a new map",t="What type of map would you like to create?";return this.props.isNewProject&&(e="Welcome to Kumu",t="Let's create your first map"),o["default"].createElement("header",null,o["default"].createElement("h1",null,e),o["default"].createElement("p",{className:"guidance"},t))}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1),i=n(44),o=n(46),a=n(1832),s=n(1834),u=n(1831),l=r.createClass({displayName:"Index",mixins:[o],render:function(){var e=i("map-wizard",{active:!!this.props.template});return r.createElement("div",{className:e,"data-template":this.props.template},r.createElement("div",{className:"map-wizard-backdrop"}),r.createElement("div",{className:"map-wizard-content"},!this.props.isNewProject&&r.createElement("button",{type:"button",className:"close",onClick:this.exit},"\xd7"),r.createElement("div",{className:"container"},r.createElement(a,this.props),r.createElement(s,this.props),r.createElement(u,this.props))))},exit:function(){this.props.done()}});e.exports=l},function(e,t,n){"use strict";var r=n(1),i=n(46),o=n(438),a=r.createClass({displayName:"Menu",mixins:[i],render:function(){var e=currentProject.isFresh();return r.createElement("div",{className:"menu-container"},r.createElement("div",{className:"menu"},r.createElement("div",{className:"systems-choice choice",onClick:this.select("systems")},r.createElement("div",{className:"label"},"System")),r.createElement("div",{className:"stakeholders-choice choice",onClick:this.select("stakeholders")},r.createElement("div",{className:"label"},"Stakeholder")),r.createElement("div",{className:"networks-choice choice",onClick:this.select("networks")},r.createElement("div",{className:"label"},"SNA")),r.createElement("div",{className:"other-choice choice",onClick:this.select("other")},r.createElement("div",{className:"label"},"Other"))),r.createElement("footer",null,r.createElement("p",null,"Not sure? ",r.createElement("a",{href:"#",onClick:this.watchIntro},"Watch our 2 minute overview"),"."),e&&r.createElement("p",null,"Or ",r.createElement("a",{href:"#",onClick:this.select("import")},"import .json blueprint"))))},select:function(e){return function(t){t.preventDefault(),Monitor.click("template-"+e),o.selectTemplate(e)}},watchIntro:function(e){e.preventDefault(),Monitor.click("template-intro-video"),o.watchVideo("intro")}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(438),s=r(a),u=o["default"].createClass({displayName:"ImportTemplateForm",getInitialState:function(){return{pending:!1}},render:function(){var e=this.state,t=e.error,n=e.pending;return o["default"].createElement("div",{className:"import-template template"},o["default"].createElement("input",{type:"hidden",name:"template",value:"import"}),o["default"].createElement("p",{className:"lead"},"Use this form to import a .json blueprint that was exported from another Kumu project. See the ",o["default"].createElement("a",{href:"http://docs.kumu.io/guides/export.html#downloading-a-project-blueprint",target:"_blank"},"export guide")," for instructions on exporting a .json blueprint."),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("p",{className:"prompt"},"Please select the .json blueprint to import"),o["default"].createElement("input",{ref:"filePicker",type:"file",placeholder:"Select a file"})),t&&o["default"].createElement("div",{className:"alert alert-danger"},t),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("button",{className:"submit-btn btn btn-success btn-block",type:"button",onClick:this.handleImport,disabled:n},n?"Please wait, this may take a few minutes...":"Import .json blueprint")),o["default"].createElement("footer",null,o["default"].createElement("a",{href:"#",onClick:s["default"].resetTemplate},"back to templates")))},handleImport:function(){var e=this,t=this.refs.filePicker,n=t.files[0];n&&this.setState({pending:!0},function(){Workflows.importBlueprint(n).then(e.props.done)["catch"](function(t){log.error("Unable to import blueprint"),log.error(t),e.setState({error:"Unable to import blueprint. Please refresh the page and try again, or email support@kumu.io for help."})})})}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"NetworkTemplateForm",render:function(){return o["default"].createElement("div",{className:"networks-template template"},o["default"].createElement("input",{type:"hidden",name:"template",value:"sna"}),o["default"].createElement("a",{href:"#",className:"intro-video",onClick:this.props.watchIntro},o["default"].createElement("i",{className:"fa fa-play-circle"})),o["default"].createElement("p",{className:"lead"},"Our SNA template is tuned for performance and can help you identify key influencers, power structures, funding flows and more. You won't have access to all the decorations in the other templates, but you'll be able to support much larger maps. Watch our ",o["default"].createElement("a",{href:"#",onClick:this.props.watchIntro},"SNA intro video")," to learn more."))}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){var t=e.watchIntro;return l["default"].createElement("div",null,l["default"].createElement("p",null,'Our custom template is for advanced users who want to push the limits of Kumu and don\'t need much hand holding. If "code" is a four-letter word to you, you should probably stick to one of our standard templates. Watch our ',l["default"].createElement("a",{href:"#",onClick:t},"custom intro video")," to learn more."),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("p",{className:"prompt"},"How do you want elements to be positioned?"),l["default"].createElement("div",{className:"radio"},l["default"].createElement("label",null,l["default"].createElement("input",{type:"radio",name:"defaultElementBehavior",value:"fixed",defaultChecked:!0}),"I'll manually position my elements (pinned)")),l["default"].createElement("div",{className:"radio"},l["default"].createElement("label",null,l["default"].createElement("input",{type:"radio",name:"defaultElementBehavior",value:"floating"}),"I want elements to be positioned automatically (floating)"))),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("p",{className:"prompt"},"What type of connections should we use by default?"),l["default"].createElement("div",{className:"radio"},l["default"].createElement("label",null,l["default"].createElement("input",{type:"radio",name:"defaultConnectionDirection",value:"undirected",defaultChecked:!0}),l["default"].createElement("span",{className:"direction"},"\xa0\u2014\u2014\xa0")," Default to undirected connections")),l["default"].createElement("div",{className:"radio"},l["default"].createElement("label",null,l["default"].createElement("input",{type:"radio",name:"defaultConnectionDirection",value:"directed"}),l["default"].createElement("span",{className:"direction"},"\xa0\u2014\u2014>")," Default to directed connections")),l["default"].createElement("div",{className:"radio"},l["default"].createElement("label",null,l["default"].createElement("input",{type:"radio",name:"defaultConnectionDirection",value:"mutual"}),l["default"].createElement("span",{className:"direction"},"<\u2014\u2014>")," Default to mutual connections"))))},p=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleChange=function(t){e.setState({template:t.target.value})},e.state={template:"custom"},e}return a(t,e),s(t,[{key:"render",value:function(){var e=this.state.template;return l["default"].createElement("div",{className:"other-template template"},l["default"].createElement("a",{href:"#",className:"intro-video",onClick:this.props.watchIntro},l["default"].createElement("i",{className:"fa fa-play-circle"})),l["default"].createElement("p",{className:"lead"},"We have a number of additional templates to build from, apart from the more common systems, stakeholder, and SNA templates. Or you can use the custom template to start from scratch!"),l["default"].createElement("div",{className:"form-group"},l["default"].createElement("select",{className:"form-control",name:"template",value:e,onChange:this.handleChange},l["default"].createElement("option",{value:"custom"},"Custom"),l["default"].createElement("option",{value:"causal-loop"},"Causal loop diagram"),l["default"].createElement("option",{value:"stock-and-flow"},"Stock and flow diagram"))),"custom"===e&&l["default"].createElement(c,this.props))}}]),t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"StakeholderTemplateForm",render:function(){return o["default"].createElement("div",{className:"stakeholders-template template"},o["default"].createElement("input",{type:"hidden",name:"template",value:"stakeholder"}),o["default"].createElement("a",{href:"#",className:"intro-video",onClick:this.props.watchIntro},o["default"].createElement("i",{className:"fa fa-play-circle"})),o["default"].createElement("p",{className:"lead"},"Stakeholder maps allow you to explore who's involved and how they're connected in a visually engaging way. Watch our ",o["default"].createElement("a",{href:"#",onClick:this.props.watchIntro},"stakeholder intro video")," to learn more."))
}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"SystemTemplateForm",render:function(){return o["default"].createElement("div",{className:"systems-template template"},o["default"].createElement("input",{type:"hidden",name:"template",value:"systems"}),o["default"].createElement("a",{href:"#",className:"intro-video",onClick:this.props.watchIntro},o["default"].createElement("i",{className:"fa fa-play-circle"})),o["default"].createElement("p",{className:"lead"},"Systems maps help you understand and engage complex issues by visualizing the underlying webs of cause and effect. Watch our ",o["default"].createElement("a",{href:"#",onClick:this.props.watchIntro},"systems intro video")," to learn more."))}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(44),p=r(c),h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={index:0},n}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.cards,n=e.onIgnore,r=t.length>1;return l["default"].createElement("div",{className:"onboarding-container"},l["default"].createElement("div",{className:"card-container"},l["default"].createElement("div",{className:"cards"},this.renderCards()),r&&this.renderCardNav()),l["default"].createElement("footer",null,this.renderButton(),n&&l["default"].createElement("div",{className:"card-ignore"},"I've got this, ",l["default"].createElement("a",{href:"#",onClick:this.handleIgnore.bind(this)},"hide this message in the future"))))}},{key:"renderCards",value:function(){var e=this.state.index,t=this.props.cards;return t.map(function(t,n){var r=t.icon,i=t.image,o=t.title,a=t.content,s=0===n?{marginLeft:"-"+100*e+"%"}:void 0;return l["default"].createElement("div",{className:"card",style:s},r&&l["default"].createElement("i",{className:"card-icon "+r}),i&&l["default"].createElement("img",{className:"card-image",src:i}),o&&l["default"].createElement("h4",{className:"card-title"},o),a&&l["default"].createElement("div",{className:"card-content"},a))})}},{key:"renderCardNav",value:function(){var e=this,t=this.state.index,n=this.props.cards,r=n.map(function(n,r){var i=p["default"]("card-nav-btn",{active:r===t}),o=function(){return e.setState({index:r})};return l["default"].createElement("div",{className:i,onClick:o},l["default"].createElement("div",{className:"card-nav-btn-content"}))});return l["default"].createElement("nav",{className:"card-nav"},r)}},{key:"renderButton",value:function(){var e=this.state.index,t=this.props.cards,n=e===t.length-1;return n?l["default"].createElement("button",{className:"card-btn btn btn-primary btn-block",onClick:this.handleClose.bind(this)},"Let's do this"):l["default"].createElement("button",{className:"card-btn btn btn-default btn-block",onClick:this.handleNext.bind(this)},"Next")}},{key:"handleNext",value:function(e){e.currentTarget.blur(),this.setState({index:this.state.index+1})}},{key:"handleClose",value:function(){this.props.close()}},{key:"handleIgnore",value:function(){this.props.close(),this.props.onIgnore()}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=[{icon:"fa icon-focus",title:"You've activated focus!",content:React.createElement("p",null,"Focus helps you explore your maps in bite-sized chunks.")},{title:"It's easy to use focus",content:React.createElement("p",null,"Just click-and-hold on the item you want to focus on, then use the + and - keys to explore from there. You can also use the 0-9 keys to jump to a specific degree of focus.")},{title:"All done exploring?",content:React.createElement("p",null,"When you're all done, click-and-hold on the background to clear the current focus. That's all there is to it!")}],e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(51),o=n(1844),a=r(o);t["default"]=i.createApp({view:a["default"],actions:n(725),state:n(1862)}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.state,n=e.actions;return{attributes:f.getAllAttributes(t),toggleAttribute:n.toggleAttribute}}function o(e){function t(e){var t=e.cid,n=e.name,i=e.selected,o=e.forced,a=c["default"]("attribute",{active:i,forced:o}),u=function(){o||r(t,!i)};return s["default"].createElement("li",{key:t,className:a,onClick:u},s["default"].createElement("span",{className:"attribute-name"},n),!o&&s["default"].createElement(h["default"],{on:!!i}))}var n=e.attributes,r=e.toggleAttribute;return s["default"].createElement("div",{className:"attribute-selection-form"},s["default"].createElement("ul",null,n.map(t)))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),u=n(51),l=n(44),c=r(l),p=n(1928),h=r(p),f=n(77);n(2473),t["default"]=u.createComponent({connect:i,render:o}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=(e.state,e.actions);return t}function o(e){var t=e.reload;t()}function a(e){map.on("undo",e.reload),Shortcuts.push({reset:!0}),Shortcuts.bind("ESCAPE",e.cancelEdit),Shortcuts.bind("CMD+Z, CTRL+Z",function(e){e.preventDefault(),Workflows.undo()}),Shortcuts.bind("CMD+C, CTRL+C",function(t){t.preventDefault(),e.copyValue()}),Shortcuts.bind("CMD+V, CTRL+V",function(t){t.preventDefault(),e.pasteValue()}),Shortcuts.bind("ALT+E",function(){return e.setType("Element")}),Shortcuts.bind("ALT+C",function(){return e.setType("Connection")}),Shortcuts.bind("ALT+L",function(){return e.setType("Loop")}),Shortcuts.bind("ALT+TAB",e.toggleType),Shortcuts.bind("UP",e.moveUp),Shortcuts.bind("DOWN",e.moveDown),Shortcuts.bind("LEFT, SHIFT+TAB",e.moveLeft),Shortcuts.bind("RIGHT, TAB",e.moveRight),Shortcuts.bind("ENTER",e.editSelectedCell),Shortcuts.bind("DELETE, BACKSPACE",e.deleteSelectedCell),Shortcuts.bind("ALT+DELETE, ALT+BACKSPACE",e.deleteSelectedRow),Shortcuts.bindAll(function(t){if("Tab"!==t.key&&"Shift"!==t.key&&"ArrowUp"!==t.key&&"ArrowRight"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"Escape"!==t.key&&"Delete"!==t.key&&"Backspace"!==t.key&&!(t.altKey||t.ctrlKey||t.metaKey)){var n=void 0;"Enter"!==t.key&&(n=""),e.editSelectedCell(n)}}),Workflows.onboard("dataeditor",{delay:1e3})}function s(e){map.off("undo",e.reload),Shortcuts.pop()}function u(e){var t=e.close;return c["default"].createElement("div",{className:"data-editor"},c["default"].createElement("div",{className:"data-editor-main"},c["default"].createElement(_["default"],null),c["default"].createElement(f["default"],null),c["default"].createElement(b["default"],null),c["default"].createElement(m["default"],{close:t})),c["default"].createElement(v["default"],null))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=r(l),p=n(51),h=n(1848),f=r(h),d=n(1847),m=r(d),g=n(1851),v=r(g),y=n(1852),b=r(y),w=n(1849),_=r(w);n(2474),t["default"]=p.createComponent({connect:i,render:u,onCreate:o,onMount:a,onUnmount:s}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=(e.state,e.actions);return{actions:t}}function o(){m=c["default"](".data-editor-cell.is-selected").width()}function a(e){var t=e.editing,n=t.value,r=t.attribute,i=c["default"](".data-editor-cell-input");i.closest(".data-editor-cell").width(m);var o=d.getChoicesForAttribute(r),a={source:o,delay:0,minLength:0,appendTo:"body"},s=o.length&&d.isReferenceValue(o[0]);s&&(a.focus=function(e,t){var n=t.item,r=(n.id,n.value);return i.val(r),!1},a.select=function(e,t){var n=t.item,r=n.id,o=n.value;return i.val(o),i.data("dataeditor",{id:r,value:o}),!1}),i.autocomplete(a),i.data("dataeditor",n),i.focus()}function s(){var e=c["default"](".data-editor-cell-input"),t=e.val().trim(),n=e.data("dataeditor");return n&&n.id&&n.value===t?n:t}function u(e){var t=e.editing,n=e.actions,r=t.value,i=t.initialValue,o=r,a=void 0===i?d.getFormattedValue(o):i,u=function(e){var t=s();"Enter"===e.key&&e.shiftKey?n.saveEditAndShift(t,"UP"):"Enter"===e.key?n.saveEditAndShift(t,"DOWN"):"Tab"===e.key&&e.shiftKey?n.saveEditAndShift(t,"LEFT"):"Tab"===e.key?n.saveEditAndShift(t,"RIGHT"):"Escape"===e.key&&n.cancelEdit()},l=function(){var e=s();n.saveEdit(e)},c={ref:"input",type:"text",className:"data-editor-cell-input form-control",defaultValue:a,onKeyDown:u,onBlur:l};return h["default"].createElement("input",c)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(67),c=r(l),p=n(1),h=r(p),f=n(51),d=n(77),m=void 0;t["default"]=f.createComponent({connect:i,render:u,onCreate:o,onMount:a}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(77),s=function(e){var t=a.getFormattedValue(e.value);return Array.isArray(t)&&(t=t.join(" | ")),o["default"].createElement("div",{className:"data-editor-cell-preview"},t)};t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(1265),p=r(c),h=n(1860),f=r(h),d=n(101),m=r(d),g=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleHelp=function(){Workflows.onboard("dataeditor",{force:!0})},r.handleExport=function(e){var t={};m["default"](l["default"].createElement(f["default"],t),{my:"left-5 bottom-5",at:"middle",of:e})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("footer",{className:"data-editor-footer"},l["default"].createElement("div",null,l["default"].createElement("div",null,l["default"].createElement("button",{className:"btn btn-flat",title:"Help",onClick:this.handleHelp,"data-track-click":"table.help"},l["default"].createElement("i",{className:"icon-help"})),l["default"].createElement(p["default"],null))),l["default"].createElement("button",{className:"btn btn-flat btn-system",onClick:this.props.close},"Back to map ",l["default"].createElement("i",{className:"fa fa-chevron-right"})))}}]),t}(l["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.state,n=e.actions;return{filter:t.filter,setFilter:n.setFilter,toggleSettings:n.toggleSettings}}function o(e){var t=e.filter,n=e.setFilter,r=e.toggleSettings;return s["default"].createElement("header",{className:"data-editor-header"},s["default"].createElement("i",{className:"filter-icon fa fa-search"}),s["default"].createElement("input",{type:"text",className:"filter-input form-control",placeholder:"Filter...",value:t,onChange:function(e){return n(e.target.value)}}),s["default"].createElement("button",{className:"btn btn-flat",onClick:r,"data-track-click":"table.settings"},s["default"].createElement("i",{className:"fa fa-sliders"})))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),u=n(51);t["default"]=u.createComponent({connect:i,render:o}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.state,n=e.actions;return{editing:t.editing,onCancel:n.cancelEdit,onSave:n.saveEdit}}function o(e){var t=e.editing,n=void 0;return t&&!t.inline&&(n=s["default"].createElement(h["default"],e)),s["default"].createElement(c["default"],{open:!!n,locked:!0},n)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),u=n(51),l=n(1379),c=r(l),p=n(1850),h=r(p);t["default"]=u.createComponent({connect:i,render:o}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p={markdown:n(1855),checkbox:n(1854),radio:n(1857),multiselect:n(1856)},h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.editing,n=t.attribute,r=p[n.editor];if(!r)return log.error("Unsupported editor",n.editor,n),null;var i=function(){return e.props.onSave(e.refs.editor.value)},o=function(){return e.props.onCancel()};return c["default"].createElement("div",{className:"data-editor-modal-form"},c["default"].createElement("div",{className:"editor"},c["default"].createElement(r,s({ref:"editor"},t,{onSave:i,onCancel:o}))),c["default"].createElement("footer",null,c["default"].createElement("div",{className:"help"},r.help),c["default"].createElement("div",null,c["default"].createElement("button",{className:"btn btn-flat btn-default",onClick:o},"cancel"),c["default"].createElement("button",{className:"btn btn-success",onClick:i},"Save"))))}}]),t}(c["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.state,n=e.actions;return{source:t.source,isOpen:t.showSettings,setSource:n.setSource}}function o(e){var t=(e.source,e.isOpen),n=(e.setSource,c["default"]("data-editor-sidebar",{isOpen:t}));return s["default"].createElement("div",{className:n},s["default"].createElement("div",{className:"content"},s["default"].createElement("div",{className:"data-editor-settings"},s["default"].createElement(h["default"],null),s["default"].createElement(d["default"],null))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),u=n(51),l=n(44),c=r(l),p=n(1853),h=r(p),f=n(1843),d=r(f);t["default"]=u.createComponent({connect:i,render:o}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.state,n=e.actions,r=t.readonly,i=t.visibleRecords,o=t.newRecord,a=t.sortBy,s=t.sortAscending,u=t.selection,l=t.editing;return{actions:n,readonly:r,attributes:x.getSelectedAttributes(t),records:i||[],newRecord:o,sortBy:a,sortAscending:s,selection:u,editing:l}}function o(e,t){var n=$(".data-editor-table"),r=$(".data-editor-cell.is-selected");if(0!==n.length&&0!==r.length){var i=n.width(),o=n.height(),a=n.scrollTop(),s=n.scrollLeft(),u=r.position(),l=r.outerWidth(!0),c=r.outerHeight(!0),p=a,h=s;u.top+=1,u.left<0?s+=u.left:u.left+l>i&&(s+=u.left+l-i),u.top<0?a+=u.top:u.top+c>o&&(a+=u.top+c-o),a!==p&&n.scrollTop(0===e?0:a),s!==h&&n.scrollLeft(0===t?0:s)}}function a(e){var t=e.selection,n=l(t,2),r=n[0],i=n[1];o(r,i)}function s(e){function t(e){if(!n){e.preventDefault();var t=$(".data-editor-table tbody"),r=$(e.target),i=r.closest(t).length>0;if(i){var o=r.closest("tr").index(),s=r.closest("td").index()-1;a.selectCell(o,s),x.openContextMenu(h["default"].createElement(_["default"],a),e)}}}var n=e.readonly,r=e.attributes,i=e.sortBy,o=e.sortAscending,a=(e.records,e.actions);if(0===r.length)return h["default"].createElement("div",{className:"data-editor-table empty"},h["default"].createElement("div",{className:"blankslate"},"Please select at least one field to include in the table."));var s=r.map(function(e){var t=e.name,n=function(){return a.toggleAttributeSort(e)},r=void 0;return e===i&&(r=h["default"].createElement("i",{className:"fa fa-sort-amount-"+(o?"asc":"desc")})),h["default"].createElement("th",{key:t,onClick:n},t," ",r)});return h["default"].createElement("div",{className:"data-editor-table table-view",onContextMenu:t},h["default"].createElement("table",{className:"table"},h["default"].createElement("thead",null,h["default"].createElement("tr",null,h["default"].createElement("th",{key:-1}),s)),h["default"].createElement("tbody",null,u(e))))}function u(e){var t=e.readonly,n=e.attributes,r=e.records,i=e.newRecord,o=e.selection,a=e.editing,s=e.actions;t||(r=[].concat(r,i));var u=r.map(function(e,t){var r=n.map(function(n,r){var i=x.getAttr(e,n),u=o[0]===t&&o[1]===r,l=u&&a&&a.inline,c=function(){l||(u?s.editSelectedCell():s.selectCell(t,r))},p=l?h["default"].createElement(b["default"],{editing:a}):h["default"].createElement(v["default"],{value:i}),f=m["default"]("data-editor-cell",{"is-selected":u,"is-editing":l});return h["default"].createElement("td",{key:r,className:f,onClick:c},p)});return h["default"].createElement("tr",{id:"row-"+t},h["default"].createElement("td",{key:-1},h["default"].createElement("span",{className:"row-number"},t+1)),r)});return u}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=n(28),p=(r(c),n(1)),h=r(p),f=n(51),d=n(44),m=r(d),g=n(1846),v=r(g),y=n(1845),b=r(y),w=n(1859),_=r(w),x=n(77);t["default"]=f.createComponent({connect:i,render:s,onUpdate:a}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.state,n=e.actions;return{type:t.type,setType:n.setType}}function o(e){function t(e){e.target.blur(),r(e.target.value)}var n=e.type,r=e.setType;return s["default"].createElement("div",{className:"form-group"},s["default"].createElement("select",{className:"type-select form-control",value:n,onChange:t},s["default"].createElement("option",{value:"Element"},"Elements"),s["default"].createElement("option",{value:"Connection"},"Connections"),s["default"].createElement("option",{value:"Loop"},"Loops")))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),u=n(51);t["default"]=u.createComponent({connect:i,render:o}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(28),l=r(u),c=n(67),p=(r(c),n(1)),h=r(p),f=n(471),d=(r(f),n(726)),m=r(d),g=n(77),v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));y.call(n);var r=e.value,a=e.attribute,s=new Set(g.getValuesAsArray(r)),u=g.getChoicesForAttribute(a);return u=u.map(function(e){return{value:e,checked:s.has(e)}}),n.state={choices:u},n}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.attribute;return h["default"].createElement("div",{className:"data-editor-checkbox-editor"},h["default"].createElement("div",{className:"form-group"},this.renderChoices(),!e.locked&&this.renderNewChoice()))}},{key:"renderChoices",value:function(){var e=this,t=this.state.choices;return t.map(function(t,n){var r=t.value,i=t.checked;return h["default"].createElement("div",{key:n,className:"checkbox"},h["default"].createElement("label",null,h["default"].createElement("input",{type:"checkbox",name:"choices",value:r,checked:i,onChange:e.handleToggle})," ",r))})}},{key:"renderNewChoice",value:function(){var e=this,t=this.props,n=t.initialValue,r=t.onCancel;return h["default"].createElement("div",{key:"new",className:"input-group"},h["default"].createElement("span",{className:"input-group-addon"},h["default"].createElement("input",{ref:"newChoiceCheckbox",type:"checkbox",defaultValue:""})),h["default"].createElement(m["default"],{ref:"newChoiceInput",value:n,focus:void 0!==n,onFocus:function(){return e.refs.newChoiceCheckbox.checked=!0},onKeyDown:this.handleKeyDown,onCancel:r}))}},{key:"value",get:function(){var e=this.state.choices,t=e.filter(function(e){return e.checked}),n=t.map(function(e){return e.value}),r=this.refs.newChoiceInput&&this.refs.newChoiceInput.value;return r&&n.push(r),l["default"].uniq(n)}}]),t}(h["default"].Component),y=function(){var e=this;this.handleToggle=function(t){var n=t.target,r=n.value,i=n.checked,o=e.state.choices.find(function(e){return e.value===r});o.checked=i,e.forceUpdate()},this.handleKeyDown=function(t){e.refs.newChoiceCheckbox.value=e.refs.newChoiceInput.value,"Enter"===t.key&&(t.shiftKey||t.metaKey)?e.handleNewValue(function(){return e.props.onSave()}):"Enter"===t.key?e.handleNewValue():"Cancel"===t.key&&e.props.onCancel()},this.handleNewValue=function(t){var n=e.refs.newChoiceInput.value;if(n){var r={value:n,checked:!0};e.setState({choices:[].concat(e.state.choices,r)},t)}e.refs.newChoiceInput.reset()}};t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(1858),p=r(c),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.initialValue,r=e.onSave,i=e.onCancel,o=void 0===n?t:n;return l["default"].createElement("div",{className:"data-editor-markdown-editor"},l["default"].createElement("div",{className:"form-group"},l["default"].createElement(p["default"],{ref:"input",value:o,onSave:r,onCancel:i})))}},{key:"value",get:function(){return this.refs.input.value}}],[{key:"help",get:function(){return l["default"].createElement("div",null,"Did you know you can format text using markdown? "," ",l["default"].createElement("a",{href:"https://docs.kumu.io/guides/markdown.html",target:"_blank","data-track-click":"markdown-guide"},"Learn how!"))}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(726),p=r(c),h=n(77),f=/\s*[|]\s*/,d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleKeyDown=function(e){"Enter"===e.key&&(e.shiftKey||e.metaKey)?n.handleNewValue(function(){return n.props.onSave()}):"Enter"===e.key?n.handleNewValue():"Escape"===e.key&&n.props.onCancel()},n.handleNewValue=function(e){var t=n.refs.input.value;if(t){var r=t.split(f);n.setState({values:[].concat(n.state.values,r)},e)}n.refs.input.reset()},n.state={values:h.getValuesAsArray(e.value)},n}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:"data-editor-multiselect-editor"},this.renderInput(),this.renderSelectedValues())}},{key:"renderSelectedValues",value:function(){var e=this,t=this.state.values,n=t.map(function(t,n){var r=function(){var t=Array.from(e.state.values);t.splice(n,1),e.setState({values:t})};return l["default"].createElement("li",{onClick:r},l["default"].createElement("i",{className:"fa fa-close"})," ",t)});return l["default"].createElement("ul",{className:"list-unstyled"},n)}},{key:"renderInput",value:function(){var e=this.props,t=e.attribute,n=e.initialValue,r=h.getChoicesForAttribute(t);return l["default"].createElement("div",{className:"form-group"},l["default"].createElement(p["default"],{ref:"input",value:n,autocomplete:r,onKeyDown:this.handleKeyDown,focus:!0}))}},{key:"value",get:function(){return this.state.values}}]),t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(726),p=r(c),h=n(77),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));d.call(n);var r=e.value,a=e.attribute;return n.state={value:r,choices:h.getChoicesForAttribute(a)},n}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.attribute;return l["default"].createElement("div",{className:"data-editor-radio-editor"},l["default"].createElement("div",{className:"form-group"},this.renderChoices(),!e.locked&&this.renderNewChoice()))}},{key:"renderChoices",value:function(){var e=this,t=this.state,n=t.value,r=t.choices;return r.map(function(t,r){var i=t===n;return Array.isArray(n)&&(i=t===n[0]),l["default"].createElement("div",{key:r,className:"radio"},l["default"].createElement("label",null,l["default"].createElement("input",{type:"radio",name:"choices",value:t,defaultChecked:i,onChange:e.handleChange})," ",t))})}},{key:"renderNewChoice",value:function(){var e=this,t=this.props.initialValue;return l["default"].createElement("div",{key:"new",className:"input-group"},l["default"].createElement("span",{className:"input-group-addon"},l["default"].createElement("input",{ref:"newChoiceRadio",type:"radio",name:"choices",defaultValue:""})),l["default"].createElement(p["default"],{ref:"newChoiceValue",value:t,focus:void 0!==t,onFocus:function(){return e.refs.newChoiceRadio.checked=!0},onKeyDown:this.handleKeyDown}))}},{key:"value",get:function(){return this.refs.newChoiceRadio&&this.refs.newChoiceRadio.checked?this.refs.newChoiceValue.value:this.state.value}}]),t}(l["default"].Component),d=function(){var e=this;this.handleKeyDown=function(t){"Enter"===t.key?e.props.onSave():"Cancel"===t.key&&e.props.onCancel()},this.handleChange=function(t){var n=t.target.value;e.setState({value:n},function(){return e.props.onSave()})}};t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;s>l;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleKeyDown=function(e){"Enter"===e.key&&(e.shiftKey||e.metaKey)?r.props.onSave():"Escape"===e.key&&r.props.onCancel()},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.refs.input.focus()
}},{key:"render",value:function(){var e=this.props.value,t={ref:"input",type:"text",className:"form-control",defaultValue:e,onKeyDown:this.handleKeyDown};return l["default"].createElement("textarea",t)}},{key:"value",get:function(){return this.refs.input.value.trim()}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(101),s=function(e){var t=e.fillDown,n=e.deleteSelectedRow,r=e.dispose,i=function(){return t({soft:!0})};return o["default"].createElement(a.Menu,{dispose:r},o["default"].createElement(a.MenuGroup,null,o["default"].createElement(a.MenuItem,{text:"Fill down",onClick:t}),o["default"].createElement(a.MenuItem,{text:"Fill down to value",onClick:i}),o["default"].createElement(a.MenuItem,{text:"Delete row",onClick:n})))};t["default"]=s,e.exports=t["default"]},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=i(l),p=n(101),h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){return c["default"].createElement(p.Menu,{dispose:this.props.dispose},c["default"].createElement(p.MenuItem,{text:"Download as .xlsx",shortcut:"X",onClick:function(){return r.log("TODO: export xlsx")}}),c["default"].createElement(p.MenuItem,{text:"Download as .csv",shortcut:"C",onClick:function(){return r.log("TODO: export csv")}}),c["default"].createElement(p.MenuItem,{text:"Download as .json",shortcut:"J",onClick:function(){return r.log("TODO: export json")}}))}}]),t}(c["default"].Component);t["default"]=h,e.exports=t["default"]}).call(t,n(3))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=[{icon:"fa fa-table",title:"Welcome to Table!",content:React.createElement("p",null,"Table allows you to view and edit your map's underlying data in a familiar spreadsheet view. We've got a few quick tips to help get you started!")},{icon:"fa fa-mouse-pointer",title:"Click to edit",content:React.createElement("p",null,"Click to select a cell then start typing or hit enter to edit. All the common tab, enter, and arrow navigation shortcuts you're used to work in Table too!")},{icon:"fa fa-sliders",title:"Customize the table",content:React.createElement("p",null,"Click the settings icon in the upper right to open the sidebar where you can toggle between elements, connections, and loops, and choose which fields to include.")},{icon:"fa fa-sort-amount-asc",title:"Sort by column",content:React.createElement("p",null,"Click on any column label to sort by that field.")},{icon:"fa fa-search",title:"Filter the results",content:React.createElement("div",null,React.createElement("p",null,"Enter a search term in the upper left to narrow down the results. The filter will search across all fields included in the table. For the Kumu jedi's out there, try the advanced filter using ",React.createElement("code",null,"= selector")," or ",React.createElement("code",null,"/regexp/"),"."))},{icon:"fa fa-thumbs-up",title:"Want to learn more?",content:React.createElement("p",null,"Check out the ",React.createElement("a",{href:"http://docs.kumu.io/guides/table.html",target:"_blank"},"Table help guide")," to learn more!")}],e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=Array.from(l.values()),t=Attributes.toArray();return t=t.filter(function(e){return!e.isTypeAttribute()}),t.push(new Attribute({name:"Type"})),t=_.sortBy(t,function(e){return e.key()}),t=t.map(function(t,n){var r=t.key(),i=AttributesHelper.suggestEditor(t),a=t.choices(),s=l.has(r),c=s?e.indexOf(r)+1:n+100;return o({},u.dumpBackboneModel(t),{key:r,editor:i,values:a,position:c,selected:s})}),s["default"](t,"cid")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(){var e={readonly:currentMap.isReadOnly()||!able.to("update","project"),source:"map",type:"Element",attributes:i(),editing:!1,selection:[0,0],newRecord:{attributes:{}}};return e};var a=n(738),s=r(a),u=n(77),l=new Set(["label","type","tags","description"]);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(1264),s=r(a),u=o["default"].createClass({displayName:"AddConnectionPrompt",getInitialState:function(){var e=map.getSelection().nodes();return{nodes:e}},render:function(){var e=this.state.nodes,t=void 0;return 1===e.length?t=e[0].getLabel():e.length>1&&(t=e.map(function(e){return e.getLabel()}).join(", ")),o["default"].createElement("div",{className:"add-connection-prompt"},o["default"].createElement("h1",{className:"title"},"Add connection"),o["default"].createElement("p",null,"Type the labels of the elements to connect and press ENTER."),o["default"].createElement("form",{onSubmit:this.handleSubmit},t?o["default"].createElement("div",{className:"from-input static"},t):o["default"].createElement(s["default"],{up:!0,ref:"from",className:"from-input",placeholder:"Element label",onSubmit:this.handleSubmit,focus:!t}),o["default"].createElement("div",{className:"connector"},"to"),o["default"].createElement(s["default"],{up:!0,ref:"to",className:"to-input",placeholder:"Element label",onSubmit:this.handleSubmit,focus:!!t})))},handleSubmit:function(){var e=this.state.nodes,t=this.refs.to.value(),n=void 0;0===e.length&&(e=this.refs.from.value()),e&&t&&(Workflows.addConnection(currentMap,e,t,n).fail(function(){alert("Unable to add connection")}),this.props.close())}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(1264),s=r(a),u=o["default"].createClass({displayName:"AddElementPrompt",render:function(){return o["default"].createElement("div",{className:"add-element-prompt"},o["default"].createElement("h1",{className:"title"},"Add element"),o["default"].createElement("p",null,"Type the label of the element to add and press ENTER."),o["default"].createElement("form",{onSubmit:this.handleSubmit},o["default"].createElement(s["default"],{up:!0,ref:"autocomplete",focus:!0})))},handleSubmit:function(){var e=this.refs.autocomplete.value(),t=void 0,n=this.props.nodeAttributes||{};this.props.onSubmit?this.props.onSubmit(e,t,n):Workflows.addElement(currentMap,e,t,n).fail(function(){alert("Unable to add element")}),this.props.close()}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(46),s=r(a),u=n(1321),l=r(u),c=o["default"].createClass({displayName:"AddLoopPrompt",mixins:[s["default"]],getInitialState:function(){return{edges:[]}},componentDidMount:function(){var e=new l["default"](this.updateEdges);map.pushTool(e)},componentWillUnmount:function(){map.popTool()},updateEdges:function(e){this.setState({edges:e})},render:function(){var e=this.state.edges;return o["default"].createElement("div",{className:"add-loop-prompt"},o["default"].createElement("h1",{className:"title"},"Add loop"),o["default"].createElement("p",null,"Click on the ",o["default"].createElement("strong",null,"connections")," you want to include in the loop, then add a descriptive loop label below and press ENTER."),o["default"].createElement("form",{onSubmit:this.handleSubmit},o["default"].createElement("div",{className:"container-fluid"},o["default"].createElement("div",{className:"row"},o["default"].createElement("div",{className:"col-xs-6"},o["default"].createElement("p",{className:"status text-system"},e.length," connection(s) selected")),o["default"].createElement("div",{className:"col-xs-6"},o["default"].createElement("input",{ref:"label",type:"text",className:"form-control",placeholder:"Loop label"}))))))},handleSubmit:function(){var e=this.state.edges,t=this.getLabel(),n=void 0;if(0!==e.length&&t){var r={map:currentMap,label:t,type:n,connections:e.map(function(e){return e.entity})};Workflows.addLoop(r).fail(function(){alert("Unable to add loop")}),this.props.close()}},getLabel:function(){return this.refs.label.value.trim()}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(46),s=r(a),u=n(1321),l=r(u),c=o["default"].createClass({displayName:"EditLoopPrompt",mixins:[s["default"]],getInitialState:function(){return{edges:[]}},componentDidMount:function(){var e=new l["default"](this.updateEdges);map.pushTool(e)},componentWillUnmount:function(){map.popTool()},updateEdges:function(e){this.setState({edges:e})},render:function(){return o["default"].createElement("div",{className:"edit-loop-prompt"},o["default"].createElement("h1",{className:"title"},"Edit loop"),o["default"].createElement("p",null,"Select the ",o["default"].createElement("strong",null,"connections")," to include then click save."),o["default"].createElement("form",{onSubmit:this.handleSubmit},o["default"].createElement("button",{type:"submit",className:"btn btn-default"},"Save")))},handleSubmit:function(){var e=this.props.loop,t=this.state.edges,n=t.map(function(e){return e.entity}),r=new Commands.Loops.UpdateConnections(e,n);execute(r).fail(function(){alert("Unable to save changes")}),this.props.close()}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"MapPrompt",componentDidMount:function(){map.resetInteraction(),Shortcuts.push({reset:!0}),Shortcuts.bind("ESC",this.handleCancel)},componentWillUnmount:function(){Shortcuts.pop()},render:function(){var e=o["default"].cloneElement(this.props.prompt,{cancel:this.handleCancel,close:this.handleClose});return o["default"].createElement("div",{className:"map-prompt",onKeyDown:this.handleKeyDown},e)},handleCancel:function(){this.props.onCancel&&this.props.onCancel(),this.handleClose()},handleClose:function(){this.props.onClose&&this.props.onClose()}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=5e3,s=12e4,u=o["default"].createClass({displayName:"ForkView",getInitialState:function(){return{isGuest:!currentUser,status:void 0,fork:void 0}},render:function(){var e=this.state.isGuest,t=e?this.renderGuestActions():this.renderUserActions();return o["default"].createElement("div",null,o["default"].createElement("header",{className:"page-header"},o["default"].createElement("h2",null,o["default"].createElement("i",{className:"fa fa-code-fork"})," Fork this project")),o["default"].createElement("section",null,o["default"].createElement("p",null,"A fork is a copy of a project. Forking a project allows you to experiment with changes without affecting the original project. Forks are commonly used to propose changes to someone else's project or to use someone else's project as a starting point for your own."),t))},renderUserActions:function(){var e=this.state.status;return e?"forking"===e?this.renderForking():"ready"===e?this.renderReady():"error"===e?this.renderError():void 0:o["default"].createElement("p",null,o["default"].createElement("button",{className:"btn btn-success",onClick:this.handleFork},"Fork this project"))},renderForking:function(){return o["default"].createElement("p",null,o["default"].createElement("i",{className:"icon-wait"})," forking project...")},renderReady:function(){var e=this.state.fork,t=e.url;return o["default"].createElement("div",null,o["default"].createElement("p",null,o["default"].createElement("strong",null,"Your fork is ready!")),o["default"].createElement("p",null,o["default"].createElement("a",{href:t,target:"_blank"},absoluteUrlFor(t))))},renderError:function(){return o["default"].createElement("div",{className:"alert alert-danger"},"Unable to create fork. Please try again or ",o["default"].createElement("a",{href:"/help",target:"_blank"},"reach out for help"),".")},renderGuestActions:function(){return o["default"].createElement("div",null,o["default"].createElement("div",{className:"alert alert-warning"},"A Kumu account is required to fork projects. Please ",o["default"].createElement("a",{href:"/signin"},"sign in")," or ",o["default"].createElement("a",{href:"/register"},"sign up")," if you don't have an account yet."),o["default"].createElement("p",null,o["default"].createElement("button",{className:"btn btn-success",disabled:!0},"Fork this project")))},handleFork:function(){this.setState({status:"forking"}),$.post(currentProject.urlFor("fork")).done(this.onForkCreated).fail(this.onError)},onForkCreated:function(e){function t(){$.getJSON("/api/projects/"+e.id).done(function(e){log.debug("Fork ready",e),"ready"===e.status?(clearTimeout(o),r.setState({status:"ready"})):i=setTimeout(t,a)}).fail(r.onError)}function n(){clearTimeout(i),log.error("Fork timed out"),this.setState({status:"error"})}var r=this,i=void 0,o=void 0;o=setTimeout(n,s),log.debug("Fork created",e),this.setState({fork:e}),t()},onError:function(e){log.error(e),this.setState({status:"error"})}});t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";function n(){return{accept:function(){return!1}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return{onContextMenu:function(t){t.preventDefault();var n=e();a["default"](n,{my:"left-20 top-20",at:"middle",of:t})}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(101),a=r(o);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return a["default"](function(){return new MouseActions.Move})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(729),a=r(o);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return a["default"](function(){return new MouseActions.Pan})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(729),a=r(o);e.exports=t["default"]},function(e,t){"use strict";function n(e){return{onMouseWheel:function(t){var n=1+t.wheel.delta*r;e(n,t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=.1;e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return{nodes:t.nodes.map(function(t){return e.convertNode(t,n)}),edges:t.edges.map(function(t){return e.convertEdge(t,n)})}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1399),u=r(s),l=function(){function e(){i(this,e),this.controllers={}}return a(e,[{key:"create",value:function(e,t,n){this.layout=e,this.graph=t,this.options=n,this.controller=this.controllers[e]||raise("Unknown layout, "+e);var r=o(this.controller,t,n);return this.op=this.op||this.createWorker(),this.op.exec({type:"INITIALIZE_LAYOUT",layout:e,graph:r,options:n}),t.on("add",this.handleComponentAdded.bind(this)),t.on("remove",this.handleComponentRemoved.bind(this)),t.on("invalidate:layout",this.handleComponentInvalidated.bind(this)),this}},{key:"register",value:function(e,t){void 0===t["static"]&&raise("Layout controller must specify static = true | false, "+e),this.controllers[e]=t}},{key:"keepalive",value:function(){this.op.exec({type:"KEEPALIVE"})}},{key:"start",value:function(){this.op.exec({type:"START_LAYOUT"})}},{key:"stop",value:function(){this.op.exec({type:"STOP_LAYOUT"})}},{key:"update",value:function(){var e=o(this.controller,this.graph,this.options);this.op.exec({type:"UPDATE_GRAPH",graph:e})}},{key:"destroy",value:function(){this.op.exec({type:"DESTROY_LAYOUT"})}},{key:"handleComponentAdded",value:function(e){var t=this.controller;e.isNode()?this.op.exec({type:"ADD_NODE",node:t.convertNode(e,this.options)}):e.isEdge()&&this.op.exec({type:"ADD_EDGE",edge:t.convertEdge(e,this.options)})}},{key:"handleComponentRemoved",value:function(e){e&&(e.isNode()?this.op.exec({type:"REMOVE_NODE",id:e.cid}):e.isEdge()&&this.op.exec({type:"REMOVE_EDGE",id:e.cid}))}},{key:"handleComponentInvalidated",value:function(e){if(e.isNode()){var t=this.controller,n=e;this.op.exec({type:"UPDATE_NODE",node:t.convertNode(n,this.options)})}}},{key:"createWorker",value:function(){var e=this,t=u["default"]("LayoutWorkerManager");return t.on("update",function(t){e.onUpdate(t)}),t.on("initialize",function(){}),t}},{key:"terminate",value:function(){this.op.terminate()}},{key:"static",get:function(){return this.controller["static"]}},{key:"forceful",get:function(){return this.controller.forceful}},{key:"editable",get:function(){return this.controller.editable}}]),e}(),c=new l,p=c.register.bind(c);n(2055)(p),n(2056)(p),n(2057)(p);var h=[n(1396),n(1397)];c.createStaticLayout=function(e){var t=h.find(function(t){return t.accept(e)});return t&&t.parse(e)},t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.split("."),n=t.slice(0,-1).join(" ");return n}function o(e){try{var t=e.originalEvent.clipboardData.items[0];return c.test(t.type)}catch(n){return!1}}function a(e){return new Promise(function(t,n){var r=u(e);return r?(swal({type:"error",title:"Unable to upload image",text:"Only png, jpg, and gif images are supported ("+p+"mb or smaller)"}),void n(r)):void Drive.uploadToCloud(e).then(t,n)})}function s(e){return e.preventDefault(),new Promise(function(t,n){try{var r=e.originalEvent.clipboardData.items,i=r[0],o=new FileReader;o.onload=function(e){var r=new Image;r.onload=function(){var e=r.width,i=r.height,o=document.createElement("canvas");o.width=e,o.height=i;var s=o.getContext("2d");s.drawImage(r,0,0,e,i);var u=o.toDataURL("image/png"),l=dataURLtoBlob(u);a(l).then(t,n)},r.src=e.target.result},o.readAsDataURL(i.getAsFile())}catch(s){log.warn("Error in handleImagePaste"),log.error(s),n(s)}})}function u(e){return e.size>1024*p*1024?"Image is too large ("+p+" mb max)":c.test(e.type)?void 0:"Only png, jpg, and gif uploads are supported (was "+e.type+")"}Object.defineProperty(t,"__esModule",{value:!0}),t.getMarkdownTitle=i,t.isImagePasteEvent=o,t.uploadFile=a,t.handleImagePasteEvent=s,t.validateUpload=u;var l=n(1381),c=(r(l),/^image\/(png|jpeg|gif)/),p=5},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2080),s=r(a),u=function(){function e(t){i(this,e),this["import"]=t}return o(e,[{key:"prepare",value:function(e,t){try{return s["default"](e,t)}catch(n){raise(n)}}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(731),s=r(a),u=o["default"].createClass({displayName:"CSVImportTab",render:function(){return o["default"].createElement("div",null,o["default"].createElement("p",null,"CSV imports follow the same format as XLSX, but you'll need to break your data into two separate files: one for elements, and one for connections. Import the elements first and then the connections."),o["default"].createElement(s["default"],null),o["default"].createElement("div",{className:"btn-group pull-right"},o["default"].createElement("button",{className:"btn btn-default",onClick:this.props.cancel},"Cancel"),o["default"].createElement("button",{className:"btn btn-primary",onClick:this.props.select},"Select .csv file")))}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("div",null,this.renderSummary(),l["default"].createElement("p",null,l["default"].createElement("strong",null,"WARNING")," Unlinking this map will cause the page to reload. Make sure you've saved any perspective changes before unlinking."),l["default"].createElement("div",{className:"btn-group pull-right"},l["default"].createElement("button",{className:"btn btn-default",onClick:this.props.cancel},"Cancel"),l["default"].createElement("button",{className:"btn btn-primary",onClick:this.props.unlink},"Unlink this map")))}},{key:"renderSummary",value:function(){var e=currentMap.get("src");return/^auth:/.test(e)?l["default"].createElement("p",null,"This map is currently linked to a private google sheet."):l["default"].createElement("p",null,"This map is currently linked to:",l["default"].createElement("br",null),l["default"].createElement("a",{href:e,target:"_blank"},e))}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(46),s=r(a),u=n(731),l=r(u),c=n(2073),p=o["default"].createClass({displayName:"GoogleImportTab",mixins:[s["default"]],render:function(){return o["default"].createElement("div",null,o["default"].createElement("p",null,"Our Google Spreadsheets integration populates a map using the contents of a spreadsheet hosted on Google Drive. This is a great way to crowdsource community maps without having to give everyone access to the project on Kumu."),o["default"].createElement("p",null,o["default"].createElement("strong",null,"NOTE")," Unlike file-based imports, this sets up an ongoing import. The elements and connections will be fetched from the spreadsheet on the fly each time you refresh the page. None of the data will be saved to Kumu's servers and the imported elements and connections are read-only within Kumu. All edits must be made within the spreadsheet."),o["default"].createElement(l["default"],null),this.renderPublicSheetForm(),this.renderPrivateSheetForm())},renderPublicSheetForm:function(){return o["default"].createElement("div",null,o["default"].createElement("h3",null,"Link to public Google Sheet"),o["default"].createElement("ol",null,o["default"].createElement("li",null,"Create a spreadsheet in Google Sheets"),o["default"].createElement("li",null,"Make sure the spreadsheet includes the required columns mentioned above"),o["default"].createElement("li",null,"Add ",o["default"].createElement("strong",null,"[ignore]")," to the name of any sheets you don't want imported"),o["default"].createElement("li",null,'Go to File > Share and turn on "Anyone with the link can view"'),o["default"].createElement("li",null,"Paste the url of the Google Sheet below")),o["default"].createElement("form",{onSubmit:this.handlePublicSubmit,className:"clearfix"},o["default"].createElement("div",{className:"form-group"},o["default"].createElement("input",{ref:"inputPublic",type:"text",className:"form-control",placeholder:"https://docs.google.com/spreadsheets/d/YOUR-SHEET-ID-HERE/edit"})),o["default"].createElement("div",{className:"btn-group pull-right"},o["default"].createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.cancel},"Cancel"),o["default"].createElement("button",{type:"submit",className:"btn btn-primary"},"Link to public sheet"))))},renderPrivateSheetForm:function(){var e=!currentProject.addons.isInstalled("google-sheets-private"),t=!e&&this.handlePrivateSubmit;return o["default"].createElement("div",null,o["default"].createElement("h3",null,"Link to private Google Sheet"),o["default"].createElement("ol",null,o["default"].createElement("li",null,"Create a spreadsheet in Google Sheets"),o["default"].createElement("li",null,"Make sure the spreadsheet includes the required columns mentioned above"),o["default"].createElement("li",null,"Add ",o["default"].createElement("strong",null,"[ignore]")," to the name of any sheets you don't want imported"),e&&o["default"].createElement("li",null,o["default"].createElement("a",{href:"#",onClick:this.handleInstall},"Install the Google Sheets (Private) add-on")),o["default"].createElement("li",null,"Paste the url of the Google Sheet below"),o["default"].createElement("li",null,"Approve Kumu's access to Google Sheets when prompted")),o["default"].createElement("form",{onSubmit:t,className:"clearfix"},e&&o["default"].createElement("div",{className:"alert alert-warning"},o["default"].createElement("h4",null,"Add-on required"),o["default"].createElement("p",null,"Please ",o["default"].createElement("a",{href:"#",onClick:this.handleInstall},"install the Google Sheets (Private) add-on")," if you would like to link this map to a private spreadsheet.")),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("input",{ref:"inputPrivate",type:"text",className:"form-control",placeholder:"https://docs.google.com/spreadsheets/d/YOUR-SHEET-ID-HERE/edit",disabled:e})),o["default"].createElement("div",{className:"btn-group pull-right"},o["default"].createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.cancel},"Cancel"),o["default"].createElement("button",{type:"submit",className:"btn btn-primary",disabled:e},"Link to private sheet"))))},handleInstall:function(e){e.preventDefault(),this.props.cancel(),Modal.open("addons")},handlePrivateSubmit:function(e){var t=this;e.preventDefault();var n=this.el("inputPrivate").value.trim();n&&c.authorizeGoogleSheet(n).then(function(e){return t.props.link(e)})["catch"](function(){swal({type:"error",title:"Unable to link map",text:"Sorry, we weren't able to link this map. Please email support@kumu.io for help."})})},handlePublicSubmit:function(e){e.preventDefault();var t=this.el("inputPublic").value.trim();t&&this.props.link(t)}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(731),s=r(a),u=o["default"].createClass({displayName:"XLSXImportTab",render:function(){return o["default"].createElement("div",null,o["default"].createElement("div",{className:"alert alert-info"},o["default"].createElement("h4",null,"Whoa there Turbo!"),o["default"].createElement("p",null,"We know you're excited to get started but you'll need to make some small tweaks first.")),o["default"].createElement(s["default"],null),o["default"].createElement("div",{className:"btn-group pull-right"},o["default"].createElement("button",{className:"btn btn-default",onClick:this.props.cancel},"Cancel"),o["default"].createElement("button",{className:"btn btn-primary",onClick:this.props.select},"Select .xlsx file")))}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(1400),s=r(a),u=n(46),l=r(u),c=n(1880),p=r(c),h=n(1877),f=r(h),d=n(1879),m=r(d),g=n(1878),v=r(g),y=n(652),b=r(y),w=n(1323),_=r(w),x=s["default"].Panel,E=o["default"].createClass({displayName:"ImportMenu",mixins:[l["default"]],render:function(){return o["default"].createElement("div",{className:"import-menu container-fluid"},currentMap.has("src")?this.renderLink():this.renderForm())},renderLink:function(){return o["default"].createElement(v["default"],{unlink:this.onUnlink,cancel:this.cancel})},renderForm:function(){return o["default"].createElement("div",null,o["default"].createElement("form",{onSubmit:!1},o["default"].createElement("input",{ref:"input",type:"file",className:"hide",onChange:this.onSelect})),o["default"].createElement(s["default"],null,o["default"].createElement(x,{title:"XLSX"},o["default"].createElement(p["default"],{select:this.select,cancel:this.cancel})),o["default"].createElement(x,{title:"CSV"},o["default"].createElement(f["default"],{select:this.select,cancel:this.cancel})),o["default"].createElement(x,{title:"Google Sheets"},o["default"].createElement(m["default"],{link:this.onLink,cancel:this.cancel}))))},select:function(){this.$el("input").click()},cancel:function(){this.props.close()},onSelect:function(){var e=this.$el("input").get(0).files[0],t=new b["default"](e);Workflows.reviewImport(t),this.props.close()},onLink:function(e){var t=new _["default"](e);Workflows.reviewImport(t),this.props.close()},onUnlink:function(){Workflows.unsetCurrentMapSource(void 0),this.props.close()}});t["default"]=E,e.exports=t["default"]},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return p["default"].createElement("option",{key:e,value:e},e)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=i(c),h=n(1327),f=i(h),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.props.onChange(t)}},{key:"render",value:function(){var e=this.props,t=e.types,n=e.value,r=t.map(u);return p["default"].createElement("select",{className:"form-control",value:n,onChange:this.handleChange.bind(this)},r)
}}],[{key:"defaultProps",get:function(){return{types:f["default"],onChange:function(){return r.warn("No `onChange` handler for <FieldForm />")}}}}]),t}(p["default"].Component);t["default"]=d,e.exports=t["default"]}).call(t,n(3))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(1324),p=(r(c),n(1325)),h=r(p),f=n(1886),d=r(f),m=n(1890);n(2475);var g=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return a(t,e),s(t,null,[{key:"defaultProps",get:function(){return{source:null,failedRemoteImport:!1}}}]),s(t,[{key:"isPending",value:function(){return!this.state.model}},{key:"componentDidMount",value:function(){$(window).on("beforeunload.importreview",function(){return!1})}},{key:"componentWillUnmount",value:function(){$(window).off("beforeunload.importreview")}},{key:"componentWillReceiveProps",value:function(){this.loadImport()}},{key:"render",value:function(){var e=void 0;return e=this.props.failedRemoteImport?l["default"].createElement("div",{className:"btn-group pull-right"},l["default"].createElement("button",{className:"btn btn-default",onClick:this.handleReload.bind(this)},"Reload")):l["default"].createElement("div",{className:"btn-group pull-right"},l["default"].createElement("button",{className:"btn btn-default",onClick:this.handleCancel.bind(this)},"Try again"),l["default"].createElement("button",{className:"btn btn-success",onClick:this.handleSave.bind(this)},"Save import")),l["default"].createElement("div",{className:"import-review"},l["default"].createElement("header",{className:"container"},l["default"].createElement("h1",null,"Import review")),this.isPending()?this.renderPending():this.renderResults(),l["default"].createElement("footer",{className:"clearfix"},e,l["default"].createElement("span",null,"Please review each sheet and correct any errors before continuing.")))}},{key:"renderPending",value:function(){return l["default"].createElement("p",{className:"text-center"},"Reviewing import for errors...")}},{key:"renderResults",value:function(){var e=this.state.model,t=e.warnings,n=t.length?"Please review each sheet for errors and correct the original spreadsheet as needed.":"Nice work! No errors found.";return l["default"].createElement("div",{className:"import-review-results"},l["default"].createElement("div",{className:"import-review-summary"},l["default"].createElement("p",{className:"lead"},n),this.renderWarnings()),l["default"].createElement(d["default"],{model:e,onTypeChange:this.handleTypeChange.bind(this)}))}},{key:"renderWarnings",value:function(){var e=this.state.model.warnings.filter(function(e){return"import"===e.scope});return l["default"].createElement(h["default"],{warnings:e})}},{key:"loadImport",value:function(){var e=this,t=this.props.source;m.load(t).then(function(t){return e.setState({model:t})})}},{key:"handleTypeChange",value:function(e,t,n){var r=this.state.model;r.config.types[e][t]=n,this.setState({model:r})}},{key:"handleSave",value:function(){var e=this.state.model;m.save(e),this.props.close()}},{key:"handleCancel",value:function(){this.props.cancel()}},{key:"handleReload",value:function(){$(window).off("beforeunload.importreview"),location.reload()}}]),t}(l["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return Array.isArray(e)?e:Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t={};return e.filter(function(e){return"cell"===e.scope}).forEach(function(e){return m["default"](t,e.path,e)}),t}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),f=r(h),d=n(2383),m=r(d),g=n(1882),v=r(g),y=n(1885),b=r(y),w=n(1887),_=r(w);n(2476);var x=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showAllRows:!0},e}return s(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.model,n=e.sheet,r=e.sheetIndex;if(0===n.data.length)return null;var i=u(t.warnings.filter(function(e){return"cell"===e.scope}).filter(function(e){return e.sheet===r})),o=Object.keys(i).length>0;return f["default"].createElement("div",{className:"import-review-table"},f["default"].createElement("table",{className:"table"},f["default"].createElement("thead",null,f["default"].createElement("tr",null,f["default"].createElement("th",{key:-1},o&&this.renderWarningToggle()),this.renderFieldNames())),f["default"].createElement("tbody",null,this.renderRows(i))))}},{key:"renderWarningToggle",value:function(){var e=this.state.showAllRows;return f["default"].createElement(_["default"],{toggled:e,onToggle:this.toggleVisibility.bind(this)})}},{key:"renderFieldNames",value:function(){var e=this.props.sheet,t=c(e.data,1),n=t[0];return n?n.map(function(e,t){return f["default"].createElement("th",{key:t,title:e},e)}):null}},{key:"renderFieldForms",value:function(){var e=this.props,t=e.model,n=e.sheet,r=e.sheetIndex,i=e.onTypeChange,o=t.config.types[r],a=c(n.data,1),s=a[0];return s?s.map(function(e,t){var n=o[t],a=function(e){i(r,t,e)};return f["default"].createElement("td",{key:t},f["default"].createElement(v["default"],{value:n,onChange:a}))}):null}},{key:"renderRows",value:function(e){var t=this,n=this.props.sheet,r=i(n.data),o=r[0],a=r.slice(1);return o&&a?a.map(function(n,r){var i=e[r],a={warnings:i,headers:o};return t.renderRow(n,r,a)}):null}},{key:"renderRow",value:function(e,t,n){var r=this.state.showAllRows,i=n.warnings,o=n.headers,a=i&&i.length>0;if(!r&&!a)return null;var s=a?"alert-danger":"",u=this.renderCells(e,o,i);return f["default"].createElement("tr",{className:s,id:"row-"+t},f["default"].createElement("td",{key:-1},t+1),u)}},{key:"renderCells",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.map(function(e,r){var i=n[r],o=t[r],a={value:e,field:o,warning:i};return f["default"].createElement(b["default"],l({key:r},a))})}},{key:"toggleVisibility",value:function(){var e=this.state.showAllRows;this.setState({showAllRows:!e})}}]),t}(f["default"].Component);t["default"]=x,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.value,n=void 0===t?"":t,r=e.field,i=e.warning,s=n;return n&&(/\|/.test(n)||/^tags?$/i.test(r))&&(s=a(n)),u["default"].createElement("td",{title:n},i&&o(i),s)}function o(e){var t=e.message,n=t.hint,r=t.title;return u["default"].createElement("span",{className:"label label-danger",title:n},r.toUpperCase())}function a(e){var t=e.split("|").map(function(e){return e.trim()});return t.map(function(e,t){return u["default"].createElement("a",{key:t,href:"#",className:"tag"},e)})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=r(s);t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(1400),h=r(p),f=n(1884),d=r(f),m=n(1325),g=r(m),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.model,n=t.sheets.map(function(n,r){var i=t.config.sheetTypes[r],o=t.warnings.filter(function(e){return e.sheet===r}),a=e.renderTabTitle(n,o,i);return c["default"].createElement(h["default"].Panel,{key:r,title:a},e.renderSheetWarnings(o),c["default"].createElement(d["default"],s({},e.props,{sheet:n,sheetIndex:r})))});return c["default"].createElement(h["default"],null,n)}},{key:"renderTabTitle",value:function(e,t){var n=t.length>0;return Math.max(0,e.data.length-1),c["default"].createElement("span",null,n&&c["default"].createElement("i",{className:"fa fa-warning"})," ",e.name)}},{key:"renderSheetWarnings",value:function(e){return e=e.filter(function(e){return"sheet"===e.scope}),c["default"].createElement(g["default"],{warnings:e})}}]),t}(c["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.toggled,n=e.onToggle,r=t?"btn btn-xs btn-default":"btn btn-xs btn-danger";return a["default"].createElement("button",{className:r,onClick:n,title:"Only show rows with warnings"},a["default"].createElement("i",{className:"fa fa-warning"}))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o);t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){var t=a.getHeaders(e);return t.has("to")||t.has("from")?"connections":"elements"}function i(e){var t=e.map(function(e){var t=e.data[1]||[];return t.map(o.guessType)}),n=e.map(r);return{types:t,sheetTypes:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.determineSheetType=r,t["default"]=i;var o=n(1327),a=n(1328)},function(e,t,n){(function(n,r){"use strict";function n(e){var t=new Import(e);return t.target(currentMap),t.fetch().then(function(){return t.prepare()}).then(function(){var e=t.model();return r.log("imported data is",e),i(e),o(e),a(e),e})}function i(e){e.forEach(function(e){return e.data=e.data||[[]]})}function o(e){e.forEach(function(e){e.data=e.data.filter(function(e){return e.some(function(e){return void 0!==e})})})}function a(e){e.forEach(function(e){if(e.data.length)for(var t=e.data,n=s(t,1),r=n[0],i=t.length,o=r.length,a=0;i>a;a++){for(var u=t[a]||[],l=0;o>l;l++)l in u||(u[l]=void 0);t[a]=u}})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=n,e.exports=t["default"]}).call(t,n(666),n(3))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return u["default"](e).then(function(n){var r=o(n,t);return a({},r,{source:e})})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c["default"],n=h["default"](e),r=t(e,n);return{sheets:e,warnings:r,config:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.load=i,t.prepare=o;var s=n(1889),u=r(s),l=n(1893),c=r(l),p=n(1888),h=r(p),f=n(1892),d=(r(f),n(1891)),m=r(d);t.save=m["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.source instanceof u["default"]?o:a;return t(e)}function o(e){var t=e.source,n=e.sheets,r=(e.config,n.map(function(e){return e.data}));MapController.busy({wait:!1});var i=new Import(r);i.target(currentMap);var o=currentMap.get("name"),a=t.name()||"data";return i.transaction.summary="imported **"+a+"** into **"+o+"**",Promise.resolve(i.process({save:!1})).then(function(){return execute(i.transaction)}).then(function(){MapController.refresh(),MapController.busy(!1)})["catch"](function(){MapController.busy(!1),swal({type:"error",title:"Unable to save import",text:"Please email support@kumu.io for help."})})}function a(e){var t=e.source,n=(e.sheets,e.config,t instanceof c["default"]?t.url:t);return Workflows.setCurrentMapSource(n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var s=n(652),u=r(s),l=n(1323),c=r(l);e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},new SpreadsheetImporter),n=t.translate(e);return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=[];return 0===e.length&&n.push({scope:"import",level:"warn",message:{title:"No sheets found",hint:u}}),e.forEach(function(e,r){function i(e,t,i,a){var s=void 0;if(Array.isArray(t))s="cell",o=!0;else{s="sheet";var u=[t,i,void 0];i=u[0],a=u[1],t=u[2]}n.push({scope:s,sheet:r,path:t,level:e,message:{title:i,hint:a}})}var o=!1,l=t.sheetTypes[r],c=s.getHeaders(e),p=i.bind(null,"warn"),h=i.bind(null,"error");e.data.length<=1&&p("No "+l+" found!",u),"elements"===l?c.has("label")||c.has("id")||c.has("_id")||p(a["default"].createElement("span",null,"Did you forget to include a ",a["default"].createElement("em",null,"label")," column?"),u):"connections"===l&&(c.has("to")&&c.has("from")||h(a["default"].createElement("span",null,"Did you forget to include ",a["default"].createElement("em",null,"from")," and ",a["default"].createElement("em",null,"to")," columns?"),u)),s.forEachCell(e,function(e,t,n){if("elements"===l?!e&&/^(label|id|_id)$/.test(t)&&p(n,"missing","Did you forget to include a value?"):"connections"===l&&!e&&/^(from|to)$/.test(t)&&p(n,"required","Please include the element to connect "+t),"tags"===t){var r=/\|/.test(e),i=/[,]/.test(e);!r&&i&&p(n,"invalid","Please use | to separate "+t+" instead of commas")}}),o&&p("Uh oh, we found a few errors in this sheet.","Please review the table below to see the errors.")}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1),a=r(o),s=n(1328),u=a["default"].createElement("span",null,"Please make sure you've ",a["default"].createElement("a",{href:"http://docs.kumu.io/guides/import.html",target:"_blank"},"followed the import instructions"),".");e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(2079),o=n(680),a=r(o);n(1587),n(2495),window.React=n(1),window.renderReact=n(102),window.unmountReact=n(150),window.Cast=n(2106),window.marked=n(277),window.moment=n(9),window.chroma=n(116),window.md5=n(2391),window.uuid=n(442),window.Op=n(1399),window.NumberHelper=n(2104),window.AnimationLoop=n(2102),window.screenfull=n(1571),window.withoutBlanks=n(1944),window.cockblock=n(441),window.BackboneReactView=n(1917),window.When=n(635),window.When.sequence=n(2547),window.Api=n(1263),window.MapSettingsContainer=n(1807),window.CommunityDetectionModal=n(1919),window.PresentationIndex=n(1964),window.PresentationHelper=n(443),window.i18n=n(2075),window.LayoutManager=n(1874),window.LiquidPlacement=n(2116),window.WebGLRenderer=n(310),window.Freestyle=n(1997),window.FocusProperty=n(1390),window.ClusterProperty=n(1389),window.dataURLtoBlob=n(1381),window.Import=n(2099),window.Blueprint=n(1405),window.BlueprintBuilder=n(1406),window.ProjectConsole=n(1925),window.ExplorerHeader=n(1775),window.ExplorerFooter=n(1774),window.NotificationBar=n(1776),window.MapControlsContainer=n(1786),window.MapContextMenu=n(1779),window.MapOverviewMoreMenu=n(1780),window.ProjectOverviewMenu=n(1781),window.renderContextMenu=n(101)["default"],window.applyKumuStyleGuideOverrides=n(2076),window.groupAndSortByField=n(1329),window.snapToShape=n(1398),window.ForkView=n(1868),window.UploadHelper=n(1875),window.ImageEditorReact=n(1320),window.pub=i.pub,window.sub=i.sub,window.createAddonStore=n(1760),window.AddonApp=n(1769),window.AuthorizationStore=n(1761),window.detour=n(1895),window.MoveSelectTool=n(2089),n(1900),n(732),window.SpreadsheetImporter=n(651),window.math=a["default"],window.Channels=n(1767)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n,r){var i="TOUR."+e;Settings.user.has(i)||o["default"](t,n,r,function(){return Settings.user.set(i)})};var i=n(1993),o=r(i);e.exports=t["default"]},function(e){"use strict";e.exports={id:"loading-mode",name:"Loading mode",enter:function(){map.$el.detach()},exit:function(){map.$el.appendTo("body")},resize:function(){},shouldZoomFitOnLoad:function(){return!1},shouldZoomFitOnFocus:function(){return!1},shouldRespondToRoute:function(){return!1}}},function(e,t,n){(function(t,r){"use strict";var i=n(1),o=n(1947),a=n(648);e.exports=function(e,n){var s,u,l,c={id:"presentation-builder",name:"Presentation builder mode",enter:function(){l=map.captureSceneState(),a.load(e,0),s=$("<div>").appendTo("body").get(0),u=i.createElement(o,n),t(u,s),Modal.close()},exit:function(){map.restoreSceneState(l),a.reset(),r(s),map.resize();var t=Modal.open("presentations");e.isNew()||t.open(e)},resize:function(){},shouldZoomFitOnLoad:function(){return!1},shouldZoomFitOnFocus:function(){return!1},shouldShowPermalinksInProfile:function(){return!1}};return c}}).call(t,n(102),n(150))},function(e,t,n){(function(t){"use strict";var r=n(1),i=n(1386),o=n(741),a=n(1976),s=function(e){function n(){o.load(e)}function s(){h=$("<div>").appendTo("body").get(0),t(r.createElement(a,null),h)}function u(){Shortcuts.push({reset:!1}),Shortcuts.unset("SHIFT+TAB"),Shortcuts.unset("TAB"),Shortcuts.unset("UP, DOWN, LEFT, RIGHT"),Shortcuts.bind("UP, LEFT",o.prev),Shortcuts.bind("DOWN, RIGHT",o.next)}function l(){window.presentationController={isLastSlide:function(){return i.isLastSlide()},next:function(){o.next()},reset:function(){o.jump(0)}}}function c(){delete window.presentationController}function p(){Shortcuts.pop()}var h,f={id:"presentation-viewer",name:"Presentation viewer mode",enter:function(){u(),l(),s(),n()},exit:function(){p(),c()},shouldZoomFitOnLoad:function(){return!1},shouldZoomFitOnFocus:function(){return!1},shouldShowPermalinksInProfile:function(){return!1},shouldRespondToRoute:function(){return!1}};return f};e.exports=s}).call(t,n(102))},function(e,t,n){"use strict";var r,i=n(644),o=_.extend({},i,{id:"preview",name:"Preview mode",enter:function(){r=able.to,able.to=function(){return!1},able.flush(),Shortcuts.push({reset:!1}),Shortcuts.bind("ESC",function(){map.resetMode()}),notice("You are now in preview mode. Hit <strong>escape</strong> to exit.")},exit:function(){Shortcuts.pop(),able.to=r,able.flush()}});e.exports=o},function(e,t,n){"use strict";window.DefaultMode=n(644),window.PreviewMode=n(1899),window.LoadingMode=n(1896),window.PresentationBuilderMode=n(1897),window.PresentationViewerMode=n(1898)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){map.resetMode()}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=r(c),h=n(644),f=r(h),d=n(1902),m=r(d),g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return p["default"].createElement("div",null,"You're in sketch mode"," ",p["default"].createElement("a",{href:"http://blog.kumu.io/sketch-mode",target:"_blank"},"instructions")," |"," ",p["default"].createElement("a",{href:"#",onClick:s},"exit"))}}]),t}(p["default"].Component),v=p["default"].createElement(g,null),y=u({},f["default"],{id:"sketch-mode",name:"Sketch mode",enter:function(){var e=new m["default"];map.resetInteraction(),map.pushTool(e),Shortcuts.push({reset:!1}),Shortcuts.bind("ESC",s),map.addNotification(v)},exit:function(){map.popTool(),Shortcuts.pop(),map.removeNotification(v)}});t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:h(i,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0},l=n(751),c=r(l),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"onMouseMove",value:function(e){var t="cell",n=e.component;n&&(t=n.isNode()?e.altKey?"move":"crosshair":n.isEdge()?"move":n.isLabel()?"move":"pointer"),this.setCursor(t)}},{key:"onMouseDown",value:function(e){var t=void 0,n=e.component;if(e.shiftKey||e.metaKey)t=new MouseActions.DragSelect(this.model);else if(n)if(n.isNode())t=e.altKey?new MouseActions.Move(this.model):new MouseActions.Connect(this.model);else if(n.isEdge()){var r=n,i=r.hitTarget(e.world.location);"head"===i?t=new MouseActions.Redirect(this.model,"to"):"tail"===i?t=new MouseActions.Redirect(this.model,"from"):r.isPinned()&&(t=new MouseActions.Reshape(this.model))}else n.isLabel()&&(e.altKey||(t=new MouseActions.Move(this.model)));t=t||new MouseActions.Pan(this.model),t.start(e),t.cursor&&this.setCursor(t.cursor),this.action=t}},{key:"onMouseDrag",value:function(e){this.action&&this.action.update(e)}},{key:"onMouseUp",value:function(e){this.action&&this.action.finalize(e),this.action=null,this.setCursor("cell")}},{key:"onMouseClick",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onMouseClick",this).call(this,e),e.altKey||e.component||Workflows.beginAddElementAtEventLocation(e)}},{key:"onTouch",value:function(){}},{key:"dispose",value:function(){this.action=null}}]),t}(c["default"]);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){function t(){var e=d.shape,t=d.options,n=t.groupBy,r=t.sortBy,i=p["default"](u,n,r);f["default"](i,e)}function n(){execute(h).then(o,function(){alert("Unable to save positions")})}function r(){h.undo(),o()}function o(){map.resetMode()}var a=g[e],u=map.getSelectedNodes(),c=m["default"](u),h=new Commands.Nodes.SnapTo(u),d={nodes:u,bounds:c,center:c.center().toJSON(),update:t,shape:{},options:{}},v=a(d),y=i({},l["default"],{id:"snap-to-mode",name:"Snap-to mode",enter:function(){map.on("cancel",r),map.resetInteraction(),map.pushTool(v),t(),Shortcuts.push({reset:!0}),Shortcuts.bind("ENTER",n),Shortcuts.bind("ESC",function(){return map.cancel()}),map.addNotification(v.notification),s["default"]()},exit:function(){map.off("cancel",r),map.cancel(),map.popTool(),Shortcuts.pop(),map.removeNotification(v.notification)}});return y};var o=n(1),a=(r(o),n(468)),s=r(a),u=n(644),l=r(u),c=n(1329),p=r(c),h=n(1398),f=r(h),d=n(1904),m=r(d),g={circle:n(1905),line:n(1906)};e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=new Rectangle;return e.forEach(function(e){return t.bound(e.position)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.nodes,n=e.center,r=e.shape={type:"circle",radius:u(t),center:n},i=p["default"](g(),f["default"](e),v(function(t){r.radius*=t,e.update()}),y(function(){return m["default"](e)}));return i.notification=React.createElement(b,null),i}function u(e){return Math.max(100,e.length*e[0].display.size)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=s;var c=n(730),p=r(c),h=n(1330),f=r(h),d=n(1331),m=r(d),g=p["default"].acceptNone,v=(p["default"].pan,p["default"].wheel),y=p["default"].context,b=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return React.createElement("div",null,React.createElement("div",null,"scroll up/down to resize"),React.createElement("div",null,"right click for more options"),React.createElement("div",null,"hit ",React.createElement("strong",null,"ENTER")," to save or ",React.createElement("strong",null,"ESCAPE")," to cancel"))}}]),t}(React.Component);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.nodes,n=e.center,r=0,i=e.shape={type:"line",angle:r,length:u(t),center:n},o=d["default"](b(),g["default"](e),w(function(t,n){n.shiftKey?(r=h["default"](-180,180,r+20*(1-t)),i.angle=l(r)):i.length*=t,e.update()}),_(function(){return y["default"](e)}));return o.notification=React.createElement(k,null),o}function u(e){return Math.max(100,6*e.length*e[0].display.size)}function l(e){var t=e%E,n=e/E;return Math.abs(t)<=x||Math.abs(t)>=E-x?Math.round(n)*E:e}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=s;var p=n(1932),h=r(p),f=n(730),d=r(f),m=n(1330),g=r(m),v=n(1331),y=r(v),b=d["default"].acceptNone,w=d["default"].wheel,_=d["default"].context,x=3,E=45,k=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){return React.createElement("div",null,React.createElement("div",null,"scroll up/down to resize"),React.createElement("div",null,"shift + scroll up/down to rotate"),React.createElement("div",null,"right click for more options"),React.createElement("div",null,"hit ",React.createElement("strong",null,"ENTER")," to save or ",React.createElement("strong",null,"ESCAPE")," to cancel"))}}]),t}(React.Component);e.exports=t["default"]},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"AceEditor",getDefaultProps:function(){return{value:""}},componentDidMount:function(){this.silent=!1,this.initializeEditor()},componentWillReceiveProps:function(e){e.value!==this.getValue()&&this.updateEditor(e.value)},shouldComponentUpdate:function(){return!1},render:function(){return o["default"].createElement("div",{ref:"el",className:"ace-editor"})},initializeEditor:function(){var e=ace.edit(this.refs.el);e.setTheme("ace/theme/less"),e.setOptions({minLines:1,maxLines:999999,autoScrollEditorIntoView:!0,enableBasicAutocompletion:!0}),e.resize(),e.navigateFileStart(),e.setHighlightActiveLine(!1),e.setShowPrintMargin(!1),e.on("change",this.handleChange);var t=e.getSession();t.setMode("ace/mode/less"),t.setTabSize(2),t.setUseSoftTabs(!0),t.setUseWrapMode(!0),this.editor=e,this.session=t,this.updateEditor()
},updateEditor:function(e){0===arguments.length&&(e=this.props.value);var t=this.editor.getCursorPositionScreen();this.silent=!0,this.editor.setValue(e,t),this.silent=!1},handleChange:function(){this.props.onChange&&!this.silent&&this.props.onChange(this.getValue())},getValue:function(){return this.editor.getValue()}});t["default"]=a,e.exports=t["default"]},function(e,t,n){(function(r,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function g(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:g(i,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0},p=n(1),h=o(p),f=n(435),d=o(f),m=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){return this.ref=r(this.element,this.el),this}},{key:"remove",value:function(){i(this.el),this.ref=this.element=void 0,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"getReactComponent",value:function(){return this.ref}}]),t}(d["default"].View);m.build=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=new m;return t.remove=function(){r.remove()},r.element=h["default"].createElement(e,t,n),r},t["default"]=m,e.exports=t["default"]}).call(t,n(102),n(150))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(46),s=r(a),u=o["default"].createClass({displayName:"BackboneViewWrapper",mixins:[s["default"]],getDefaultProps:function(){return{view:void 0,persistent:!1}},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.renderView(this.props.view)},componentWillReceiveProps:function(e){this.props.view!==e.view&&(this.removeView(this.props.view),this.renderView(e.view))},componentWillUnmount:function(){this.removeView(this.props.view)},render:function(){return o["default"].createElement("div",{className:"backbone-view-wrapper"})},renderView:function(e){e&&(this.props.persistent||e.render(),this.$el().html(e.el))},removeView:function(e){e&&(this.props.persistent?e.$el.detach():e.remove())}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v["default"].defaults({},e,{communityAttribute:"Community",communityLimit:10,minimumCommunitySize:1,t:100,r:.05})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),s=n(44),u=r(s),l=n(469),c=r(l),p=n(276),h=n(1920),f=r(h),d=n(1921),m=r(d),g=n(28),v=r(g),y=a["default"].createClass({displayName:"CommunityDetectionModal",getInitialState:function(){var e=CommunityHelper.load(currentMap.get("communityData")),t=e||{},n=t.settings,r=t.results;return{showSettings:!1,progress:0,dirty:!1,running:!1,saving:!1,settings:i(n),results:r,cached:!!r,index:0}},componentWillMount:function(){this.state.results||this.run()},render:function(){return a["default"].createElement(c["default"],{ref:"modal",afterClose:this.handleClose},this.state.running?this.renderSpinner():this.renderResults())},renderSpinner:function(){return a["default"].createElement("div",null,a["default"].createElement("h1",{className:"modal-title"},"Detecting communities..."),a["default"].createElement("p",{className:"text-center"},a["default"].createElement("i",{className:"fa fa-spin fa-spinner fa-2x"})))},renderResults:function(){var e=this.state.results.communities,t=u["default"]("btn",this.state.dirty?"btn-primary":"btn-default");return a["default"].createElement("div",null,a["default"].createElement("header",null,a["default"].createElement("div",{className:"pull-right"},a["default"].createElement("button",{className:"btn btn-flat",onClick:this.handleToggleSettings},a["default"].createElement("i",{className:"fa fa-cog"})),a["default"].createElement("div",{className:"btn-group"},a["default"].createElement("button",{className:"btn btn-default",onClick:this.handleRun},"Run"),a["default"].createElement("button",{className:t,onClick:this.handleSave,disabled:this.state.saving,"data-ability":"manage-entities"},this.state.saving?"Saving...":"Save"))),a["default"].createElement("h1",{className:"modal-title"},"Communities")),a["default"].createElement(f["default"],{visible:this.state.showSettings,settings:this.state.settings,onChange:this.handleSettingsChange}),e.length?this.renderCommunityResults():this.renderEmptyResults())},renderEmptyResults:function(){return a["default"].createElement("p",null,"No communities found within this network.")},renderCommunityResults:function(){var e=this.state,t=e.index,n=e.settings,r=e.results,i=n.communityLimit,o=r.communities,s=r.byCommunity,u=o[t],l=o.length,c=s[u.id],h=Object.keys(c).length,f=u.members.length,d=h-f,g=o.slice(0,i);return a["default"].createElement("div",null,a["default"].createElement("p",null,"We found ",a["default"].createElement("strong",null,l," communities")," within this network.",l>i?" The top "+i+" communities are included below. ":" ",a["default"].createElement("a",{href:"#",onClick:this.handleRun},"Rerun the algorithm")," to pick up changes to the network, or ",a["default"].createElement("a",{href:"#",onClick:this.handleReset},"throw away the current communities")," and start over from scratch."),a["default"].createElement("div",{className:"form-group"},a["default"].createElement(p.Select,{value:t,onChange:this.handleCommunitySelect},g.map(this.renderSimpleSelectOption))),a["default"].createElement("hr",null),a["default"].createElement("h4",null,"Community #",u.rank,u.name&&": "+u.name),a["default"].createElement("p",null,"We found ",h," elements with ties to this community.",d>0&&"\n            Of those, "+f+" belong to this community and\n            "+d+" had stronger ties to another community.\n          "),a["default"].createElement("p",null,a["default"].createElement("input",{type:"text",className:"form-control",placeholder:"Name this community...",value:u.name,onChange:this.handleRename})),a["default"].createElement(m["default"],{community:u,results:r}))},renderSimpleSelectOption:function(e,t){return a["default"].createElement(p.Option,{key:t,value:t},e.name||e.rank)},handleToggleSettings:function(){this.setState({showSettings:!this.state.showSettings})},handleSettingsChange:function(e){this.setState({settings:e,showSettings:!1,dirty:!0})},handleRun:function(e){e.preventDefault(),this.run()},handleReset:function(e){e.preventDefault(),this.run({reset:!0})},handleCommunitySelect:function(e){this.setState({index:e})},handleRename:function(e){var t=this.state.results.communities[this.state.index];t.name=e.target.value,this.state.dirty=!0,this.forceUpdate()},handleSave:function(e){var t=this;e.preventDefault();var n=this.state,r=n.settings,i=n.results;this.setState({saving:!0}),Workflows.saveCommunities({settings:r,results:i}).then(function(){t.setState({saving:!1,dirty:!1})},function(){alert("Unable to save communities. Please try again."),t.setState({saving:!1})})},handleClose:function(){this.props.onClose()},run:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={running:!0,index:0},r=Object.assign({},this.state.settings);t.reset&&(r.communityAttribute=void 0,Object.assign(n,{cached:!1,results:void 0})),this.setState(n),Workflows.detectCommunities(r).then(function(t){e.setState({results:t,running:!1,dirty:!0})})}});t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(46),s=r(a),u=o["default"].createClass({displayName:"CommunityDetectionSettings",mixins:[s["default"]],getInitialState:function(){var e=this.props.settings;return{communityAttribute:e.communityAttribute,communityLimit:e.communityLimit,minimumCommunitySize:e.minimumCommunitySize,t:e.t,r:e.r}},render:function(){var e=this.props.visible?"":"hide",t={margin:"40px 0 60px"};return o["default"].createElement("section",{className:e,style:t},o["default"].createElement("form",{onSubmit:this.handleSubmit},o["default"].createElement("div",{className:"row"},o["default"].createElement("div",{className:"col-sm-6"},o["default"].createElement("h4",null,"Community detection settings"),o["default"].createElement("p",{className:"lead"},"Kumu uses the SLPA community detection algorithm. Use this form to override which attribute the communities are saved to, the maximum number of communities to allow, and how the SLPA algorithm itself should run.")),o["default"].createElement("div",{className:"col-sm-6"},o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Community attribute"),o["default"].createElement("input",{type:"text",className:"form-control",valueLink:this.link("communityAttribute")})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Community limit"),o["default"].createElement("input",{type:"number",className:"form-control",valueLink:this.link("communityLimit"),min:"1"})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Minimum community size"),o["default"].createElement("input",{type:"number",className:"form-control",valueLink:this.link("minimumCommunitySize"),min:"1"})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Iterations (T)"),o["default"].createElement("input",{type:"number",className:"form-control",valueLink:this.link("t"),min:"1"})),o["default"].createElement("div",{className:"form-group"},o["default"].createElement("label",null,"Threshold (r)"),o["default"].createElement("input",{type:"number",className:"form-control",valueLink:this.link("r"),min:"0",max:"1",step:"0.01"})),o["default"].createElement("button",{type:"submit",className:"btn btn-default btn-block"},"Update settings")))))},handleSubmit:function(e){e.preventDefault();var t=Object.assign({},this.state);Object.keys(t).forEach(function(e){var n=Number(t[e]);isNaN(n)||(t[e]=n)}),this.props.onChange(t)}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(1927),s=r(a),u=o["default"].createClass({displayName:"CommunityDetectionTable",shouldComponentUpdate:function(e){return!this.props.community||this.props.community.id!==e.community.id},render:function(){var e=this.props,t=e.community,n=e.results,r=n.best,i=n.byCommunity,a=i[t.id],u=Object.keys(a).map(function(e){var n=Elements.get(e),i=n.label(),o=a[e],s=r[e]===t.id;return{id:n.cid,best:s,label:i,value:o}});return o["default"].createElement(s["default"],{min:0,max:1,preview:20,values:u})}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;s>l;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleOpen=function(e){e.preventDefault(),r.refs.input.click()},r.handleSubmit=function(e){e.preventDefault()},r.handleSelect=function(){var e=r.refs.input.files[0];r.props.onChange(e)},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.label,t={display:"inline"};return l["default"].createElement("form",{style:t,onSubmit:this.handleSubmit},l["default"].createElement("input",{type:"file",ref:"input",className:"hide",onChange:this.handleSelect}),l["default"].createElement("a",{href:"#",onClick:this.handleOpen},e))}}],[{key:"defaultProps",get:function(){return{type:"link",label:"select a file"}}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=o["default"].createClass({displayName:"FlipCard",getDefaultProps:function(){return{flipped:!1}},render:function(){var e=this.props.flipped;return o["default"].createElement("div",{className:"flip-card"},o["default"].createElement("div",{className:"card"+(e?" flipped":"")},o["default"].createElement("div",{className:"face front"},this.props.front),o["default"].createElement("div",{className:"face back"},this.props.back)))},flip:function(){this.setState({flipped:!this.state.flipped})}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(9),s=r(a),u=o["default"].createClass({displayName:"MomentView",getDefaultProps:function(){return{value:new Date,format:"MMM Do, YYYY"}},render:function(){var e=s["default"](this.props.value).format(this.props.format);return o["default"].createElement("span",{className:"moment"},e)}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return $(".selector-builder-modal").length>0}function o(e,t){var n=void 0,r=void 0,i=void 0;return e instanceof Map?n=e:e instanceof Perspective?(n=currentMap,r=e):e instanceof Entity?(n=currentMap,i=e):e instanceof Component&&(n=e.map,i=e.entity),i&&t===v&&(r=currentPerspective),urlFor({map:n,perspective:r,entity:i})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),s=r(a),u=n(1),l=r(u),c=n(629),p=n(44),h=r(p),f=n(46),d=r(f),m=n(276),g=20,v="MAP",y="PROJECT",b=13,w=27,_=38,x=40,E={Node:"Element",Edge:"Connection",Label:"Loop",Perspective:"View"},k=l["default"].createClass({displayName:"ProjectConsole",mixins:[d["default"]],getInitialState:function(){return{currentMapOnly:Settings.restrictSearchToCurrentMap(),source:v,expanded:!1,progress:0,query:"",index:0,results:[]}},show:function(){this.rebuildIndex(),this.setState({expanded:!0,query:"",index:0,results:[]})},hide:function(){this.setState({expanded:!1})},componentWillMount:function(){$(document.body).on("mousedown",this.closeOnOutsideClick),this.updateProgress=s["default"].throttle(this.updateProgress,100),this.performSearchLater=s["default"].debounce(this.performSearch,100)},componentDidUpdate:function(){this.giveInputFocus()},render:function(){return!!this.state.expanded&&this.renderForm()},renderForm:function(){var e=this.state,t=e.currentMapOnly,n=e.source,r=e.query,i=e.progress,o=e.results,a=h["default"]("project-console",{"in-progress":1!==this.state.progress}),s={backgroundColor:currentScene.guide.get("backgroundColor")};return l["default"].createElement("div",{className:a,style:s,"data-source":n},l["default"].createElement("div",{className:"progress",style:{width:100*i+"%"}}),l["default"].createElement("div",{className:"progress-label"},"Reindexing project..."),l["default"].createElement("div",{className:"search"},l["default"].createElement("div",{className:"input-group"},l["default"].createElement("div",{className:"input-group-addon"},l["default"].createElement("i",{className:"icon-search"})),l["default"].createElement("input",{type:"text",className:"form-control",placeholder:"Search",ref:"input",value:r,onChange:this.handleQueryChange,onKeyDown:this.handleKeyDown}),l["default"].createElement("div",{className:"input-group-addon source-addon"},l["default"].createElement("button",{type:"button",className:"build-selector-btn btn btn-flat",title:"Build selector","data-track-click":"finder.build-selector",onClick:this.handleBuildSelector},l["default"].createElement("i",{className:"icon-build"})),!t&&l["default"].createElement(m.Select,{style:"pill",value:n,onChange:this.handleSourceChange},l["default"].createElement(m.Option,{value:v},"This map"),l["default"].createElement(m.Option,{value:y},"All maps"))))),l["default"].createElement(c.VelocityTransitionGroup,{enter:{animation:"slideDown"}},!!o.length&&this.renderList()))},renderList:function(){var e=this.state.results.slice(0,g);return l["default"].createElement("ul",{ref:"list",className:"list"},e.map(this.renderItem))},renderItem:function(e,t){var n=this.state.source,r=E[e.className]||e.className,i=e.toString(),a=o(e,n),s=h["default"]("list-item",{active:t===this.state.index});return l["default"].createElement("li",{className:s},l["default"].createElement("a",{href:a,onClick:this.hide},l["default"].createElement("div",{className:"type"},r),l["default"].createElement("div",{className:"title"},i),l["default"].createElement("div",{className:"text"},a)))},giveInputFocus:function(){var e=this.refs.input;e&&e.focus()},rebuildIndex:function(){Workflows.rebuildSearchIndex({progress:this.updateProgress})},updateProgress:function(e){var t=1===e?this.performSearch:void 0;this.setState({progress:e},t)},handleSourceChange:function(e){this.setState({source:e},this.performSearch)},handleQueryChange:function(e){var t=e.target.value;this.setState({query:t}),this.performSearchLater()},handleKeyDown:function(e){if(e.which===w){if(i())return;e.preventDefault(),e.stopPropagation(),this.hide()}else e.which===b?(e.preventDefault(),this.handleSubmit(e)):e.which===_?(e.preventDefault(),this.highlight(this.state.index-1)):e.which===x&&(e.preventDefault(),this.highlight(this.state.index+1))},highlight:function(e){var t=this.state.results;e=Math.max(0,Math.min(t.length-1,e)),this.$el("list").scrollToChild(e),this.setState({index:e})},getHighlightedItem:function(){return this.state.results[this.state.index]},getQuery:function(){var e=this.state.query;return e?e.trim():""},handleBuildSelector:function(){var e=this;SelectorBuilder.build().done(function(t){var n=Selector.toExplicit(t);e.setState({query:n},e.handleSubmit)})},handleSubmit:function(e){var t=this.getQuery();if(Selector.isExplicit(t)){var n=Selector.toImplicit(t);this.handleSelector(n)}else e.shiftKey?this.handleSelectAll({select:!!e.altKey}):this.handleSelect()},handleSelector:function(e){try{var t=map.select(e,{extendFocus:!0,zoomFit:!0});0===t.length?notice("No matches found: "+e):this.hide()}catch(n){alert("Search failed. Please try again.")}},handleSelect:function(){var e=this.state.source,t=this.getHighlightedItem(),n=o(t,e);router.navigate(n,{trigger:!0}),this.hide()},handleSelectAll:function(e){var t=this.state.results;if(e&&e.select)map.select(t);else{var n=t.map(function(e){return{root:e,degree:0}});map.refocus({roots:n})}this.hide()},performSearch:function(){var e=this.state.source,t=this.getQuery(),n={project:e===y},r=void 0;r=t&&!Selector.isExplicit(t)?Workflows.search(t,n):[],this.setState({results:r,index:0})},closeOnOutsideClick:function(e){this.state.expanded&&!i()&&0===this.$el().find(e.target).length&&this.hide()}});t["default"]=k,e.exports=t["default"]},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(28),s=(r(a),o["default"].createClass({displayName:"RankedTable",getInitialState:function(){return{expanded:!1}},getDefaultProps:function(){return{min:void 0,max:void 0,preview:void 0,values:[]}},componentWillReceiveProps:function(){this.setState({expanded:!1})},render:function(){var e=this.props,t=e.min,n=e.max,r=e.preview,i=this.props.values.slice(0),a=r&&i.length>r&&!this.state.expanded;return i.sort(function(e,t){return t.value-e.value}),a&&(i=i.slice(0,r)),o["default"].createElement("table",{className:"ranked-table"},o["default"].createElement("thead",null,o["default"].createElement("tr",null,o["default"].createElement("th",null,"Element"),o["default"].createElement("th",null,"Strength of association"))),o["default"].createElement("tbody",null,i.map(this.renderRow.bind(this,t,n)),a&&o["default"].createElement("tr",{className:"more-results"},o["default"].createElement("td",{colSpan:"2"},o["default"].createElement("button",{type:"button",className:"btn btn-flat btn-sm",onClick:this.handleExpand},"show more results")))))},renderRow:function(e,t,n,r){var i=n.best?"best":"other",a=100*((n.value-e)/(t-e)),s=Math.round(100*n.value);return o["default"].createElement("tr",{key:r,className:i},o["default"].createElement("td",{className:"meta"},o["default"].createElement("div",{className:"label"},o["default"].createElement("span",{className:"position"},"#",r+1),n.label)),o["default"].createElement("td",{className:"value"},o["default"].createElement("div",{className:"label"},s,"%"),o["default"].createElement("div",{className:"bar",style:{width:a+"%"}})))},handleExpand:function(){this.setState({expanded:!0})}}));t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u);n(2479);var c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.on,n=e.onChange,r="simple-switch simple-switch-"+(t?"on":"off");return l["default"].createElement("div",{className:r,onChange:n},l["default"].createElement("div",{className:"simple-switch-toggle"}))}}],[{key:"defaultProps",get:function(){return{on:!1}}}]),t}(l["default"].Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=t.Tabs=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(276);t.Tabs=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleChange=e.handleChange.bind(e),e}return a(t,e),s(t,[{key:"render",value:function(){var e=this.getActiveTab();return l["default"].createElement("div",{className:"tab-group"},l["default"].createElement("div",{className:"tab-nav"},this.renderNav()),l["default"].createElement("div",{className:"tab-content"},e))}},{key:"renderNav",value:function(){var e=this.props.tab,t=l["default"].Children.map(this.props.children,function(e){return l["default"].createElement(c.Option,{value:e.key},e.props.title)});return l["default"].createElement(c.Select,{style:"pill",value:e,onChange:this.handleChange},t)}},{key:"handleChange",value:function(e){this.props.onTab(e)}},{key:"getTitles",value:function(){return l["default"].Children.map(this.props.children,function(e){return e.props.title})}},{key:"getActiveTab",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.props.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;if(o.key===this.props.tab)return o}}catch(a){t=!0,n=a}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}}}]),t}(l["default"].Component),t.Tab=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:"tab"},this.props.children)}}]),t}(l["default"].Component)},,,function(e,t){"use strict";function n(e,t,n){return Math.max(e,Math.min(t,n))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=e.match(r);return t?t[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=/^url\((.*?)\)$/;e.exports=t["default"]},function(e,t){"use strict";function n(e){return e.replace(r,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=/[|\\{}()[\]^$+*?.]/g;e.exports=t["default"]},,,,,,function(e,t){"use strict";function n(e){return function(t){t.stopPropagation();for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];e.apply(void 0,[t].concat(r))}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e){return e*Math.PI/180}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},,function(e,t){"use strict";function n(e,t){return 0===e||e===!1?e:e||t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return o["default"].without(e,void 0,null,"")};var i=n(28),o=r(i);e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){return t=t||{},{componentDidMount:function(){var n=this;this.props.sortable!==!1&&(t.containment="parent",t.update=function(){var t=n.$el(),r=t.children().pluck("data-position"),i=n.props[e];i=r.map(function(e){return i[e]}),t.sortable("cancel"),n.onSort(i)},this.$el().sortable(t))}}},e.exports=t["default"]},,function(e,t,n){"use strict";function r(){var e={index:f.getIndex(),slide:f.getCurrentSlide(),slides:f.getSlides(),isFirstSlide:f.isFirstSlide(),isLastSlide:f.isLastSlide(),status:f.getStatus()},t=e.slides[0];return e.aspect=t.aspect,e}function i(e,t,n){if(n){var r=400,i=225;o=o||document.createElement("canvas"),o.width=r,o.height=i,o.getContext("2d").drawImage(n,0,0,r,i);var a=o.toDataURL(s,u),l=Drive.blob(a);h.updateSlide(e,t,l)}}var o,a=1500,s="image/jpeg",u=.9,l=n(1),c=n(65),p=n(44),h=n(473),f=n(648),d=n(1954),m=n(1948),g=n(1384),v=l.createClass({displayName:"PresentationBuilder",mixins:[c.listenTo(f,"onPrezChange")],getInitialState:function(){return r()},onPrezChange:function(){this.setState(r())},componentWillMount:function(){this.captureScreenshotLazy=_.debounce(this.captureScreenshot,a)},componentDidMount:function(){map.on("transform transform:complete",this.captureScreenshotLazy)},componentDidUpdate:function(){var e=this.state.status;"saved"===e?(swal({type:"success",title:"Success",text:"Presentation saved",timer:2e3,showConfirmButton:!1}),h.resetStatus()):"error"===e?swal({type:"error",title:"Sorry",text:"Unable to save presentation. Please try again or email support@kumu.io for help."},h.resetStatus):"done"===e&&this.props.exit()},componentWillUnmount:function(){map.off("transform transform:complete",this.captureScreenshotLazy)},captureScreenshot:function(){var e=this.state.slide;if(document.hasFocus()&&"image"!==e.type&&"embed"!==e.type){var t=$(".map-slide-view").get(0);t&&html2canvas(t,{background:"transparent",onrendered:function(t){i(e,"preview",t)}})}},render:function(){var e=p("prez-builder",this.state.slides[0].aspect,{"first-slide":this.state.isFirstSlide,"last-slide":this.state.isLastSlide});return l.createElement("div",{className:e},l.createElement(d,this.state),l.createElement("div",{className:"slide-wrapper"},this.renderPreview()),l.createElement(m,this.state))},renderPreview:function(){var e=_.defaults({mode:"preview",ref:"preview"},this.state);return e.slide=_.extend({},e.slide),l.createElement(g,e)}});e.exports=v},function(e,t,n){"use strict";var r=n(1),i=n(473),o={cover:n(1949),map:n(1952),text:n(1953),image:n(1951),embed:n(1950)},a=r.createClass({displayName:"SlideForm",render:function(){var e="cover"===this.props.slide.type,t="slide-form "+this.props.slide.type+"-slide";return this.props.slide.style&&(t+=" is-"+this.props.slide.style),r.createElement("div",{className:t},r.createElement("header",null,!e&&r.createElement("button",{className:"delete-btn btn btn-flat",onClick:this.removeSlide,title:"Delete slide","data-placement":"left"},r.createElement("i",{className:"icon-delete"})),r.createElement("h3",null,!e&&r.createElement("span",null,"Slide #",this.props.index),r.createElement("nav",{className:"slide-nav"},r.createElement("button",{className:"prev-btn btn btn-flat",onClick:i.prev},r.createElement("i",{className:"icon-prev"})),r.createElement("button",{className:"next-btn btn btn-flat",onClick:i.next},r.createElement("i",{className:"icon-next"}))))),!e&&r.createElement("div",{className:"form-group"},r.createElement("select",{className:"form-control",value:this.props.slide.type,onChange:this.onTypeChange},r.createElement("option",{value:"map"},"Map slide"),r.createElement("option",{value:"text"},"Text slide"),r.createElement("option",{value:"image"},"Image slide"),r.createElement("option",{value:"embed"},"Embed slide"))),this.renderForm())},renderForm:function(){var e=o[this.props.slide.type],t=_.extend({},this.props.slide,{update:this.updateSlide});return r.createElement(e,t)},removeSlide:function(){confirm("Remove slide?")&&i.removeSlide(this.props.slide)},onTypeChange:function(e){this.updateSlide("type",e.target.value)},updateSlide:function(e,t){i.updateSlide(this.props.slide,e,t)}});e.exports=a},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=n(46),a=n(735),s=n(734),u=200,l=i.createClass({displayName:"CoverForm",mixins:[o],getInitialState:function(){return this.props},componentWillReceiveProps:function(e){var t=this.state.subtitleTooLong;this.replaceState(r({},e,{subtitleTooLong:t}))},render:function(){return i.createElement("div",null,i.createElement("h3",null,"Presentation"),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Title (required)"),i.createElement("input",{type:"text",className:"form-control",placeholder:"Add title",valueLink:this.link("title")})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Subtitle"),i.createElement("textarea",{className:"form-control",placeholder:"Add subtitle",valueLink:this.link("subtitle")})),this.state.subtitleTooLong&&i.createElement("div",{className:"form-group"},i.createElement("div",{className:"alert alert-warning"},"Subtitle must be ",u," characters or less. Please use a text slide as the opening slide if you'd like to add more context.")),i.createElement("h3",null,"Cover Image"),i.createElement("div",{className:"form-group"},i.createElement("label",null,"URL"),i.createElement("input",{type:"text",className:"form-control",placeholder:"https://",valueLink:this.link("image")})),i.createElement("div",{className:"form-group"},i.createElement("label",null,"Attribution"),i.createElement("input",{type:"text",className:"form-control",valueLink:this.link("attribution")})),i.createElement("div",{className:"form-group hidden"},i.createElement("label",null,"Text"),i.createElement(a,{valueLink:this.link("placement")},i.createElement(s,{value:"top"},"top"),i.createElement(s,{value:"middle"},"middle"),i.createElement(s,{value:"bottom"},"bottom"))))
},onChange:function(e,t){"subtitle"===e&&(t=this.validateSubtitle(t)),this.props.update(e,t)},validateSubtitle:function(e){var t=e.length>u;return t&&(e=e.substring(0,u)),this.setState({subtitleTooLong:t}),e}});e.exports=l},function(e,t,n){"use strict";var r=n(1),i=n(46),o=n(735),a=n(734),s=r.createClass({displayName:"EmbedForm",mixins:[i],getInitialState:function(){return{url:this.props.url,size:this.props.size}},getDefaultProps:function(){return{size:"auto"}},componentWillReceiveProps:function(e){this.replaceState(e)},render:function(){var e=this.props.url&&this.props.url.match(/<iframe/i);return r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",className:"form-control",placeholder:"https://",valueLink:this.link("url")})),!e&&r.createElement("div",{className:"form-group"},r.createElement(o,{valueLink:this.link("size")},r.createElement(a,{value:"auto"},"Auto"),r.createElement(a,{value:"full"},"Fullscreen"))))},onChange:function(e,t){this.props.update(e,t)}});e.exports=s},function(e,t,n){"use strict";var r=n(1),i=n(46),o=n(735),a=n(734),s=r.createClass({displayName:"ImageForm",mixins:[i],getInitialState:function(){return{url:this.props.url,size:this.props.size,title:this.props.title,text:this.props.text}},getDefaultProps:function(){return{size:"auto"}},componentWillReceiveProps:function(e){this.replaceState(e)},render:function(){return r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",className:"form-control",placeholder:"https://",valueLink:this.link("url")})),r.createElement("div",{className:"form-group"},r.createElement(o,{valueLink:this.link("size")},r.createElement(a,{value:"auto"},"Auto"),r.createElement(a,{value:"contain"},"Contain"),r.createElement(a,{value:"cover"},"Cover"))),r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",className:"form-control",placeholder:"Add title",valueLink:this.link("title")})),r.createElement("div",{className:"form-group"},r.createElement("textarea",{className:"form-control",placeholder:"Add caption",valueLink:this.link("text")})))},onChange:function(e,t){this.props.update(e,t)}});e.exports=s},function(e,t,n){"use strict";var r=n(1),i=n(46),o=r.createClass({displayName:"MapForm",mixins:[i],getInitialState:function(){return this.props},componentWillReceiveProps:function(e){this.replaceState(e)},render:function(){return r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("label",null,"Title"),r.createElement("input",{type:"text",className:"form-control",placeholder:"Add title",valueLink:this.link("title")})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Text"),r.createElement("textarea",{className:"form-control",placeholder:"Add narrative",valueLink:this.link("text")})),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"checkbox"},r.createElement("input",{type:"checkbox",ref:"legend",checkedLink:this.link("legend",this.toggleLegend)}),"Include legend"),r.createElement("label",{className:"checkbox hide"},r.createElement("input",{type:"checkbox",checkedLink:this.link("sidebar")}),"Include sidebar"),r.createElement("label",{className:"checkbox"},r.createElement("input",{type:"checkbox",checkedLink:this.link("zoomFit")}),"Zoom fit")))},onChange:function(e,t){"zoomFit"===e&&this.onZoomFitChange(t),this.props.update(e,t)},onZoomFitChange:function(e){e?map.beginZoomFit():map.cancelZoomFit()},toggleLegend:function(e){map.toggleLegend(e)}});e.exports=o},function(e,t,n){"use strict";var r=n(1),i=n(46),o=r.createClass({displayName:"TextForm",mixins:[i],getInitialState:function(){return{title:this.props.title,text:this.props.text}},componentWillReceiveProps:function(e){this.replaceState(e)},render:function(){return r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("input",{type:"text",className:"form-control",placeholder:"Add title",valueLink:this.link("title")})),r.createElement("div",{className:"form-group"},r.createElement("textarea",{className:"form-control",placeholder:"Add text",valueLink:this.link("text")})))},onChange:function(e,t){this.props.update(e,t)}});e.exports=o},function(e,t,n){"use strict";var r=n(1),i=n(44),o=n(46),a=n(1945),s=n(740),u=n(473),l=n(1955),c=n(648),p=r.createClass({displayName:"Menu",render:function(){return r.createElement("div",{className:"prez-menu"},r.createElement("header",null,r.createElement("button",{className:"btn btn-flat",onClick:u.addSlide},r.createElement("i",{className:"icon-add"}))),r.createElement(h,this.props),r.createElement("footer",null,"saving"===this.props.status?r.createElement("div",{className:"status"},r.createElement("i",{className:"icon-wait"})," Saving..."):r.createElement("div",{className:"btn-group btn-group-justify"},r.createElement("button",{className:"btn btn-primary btn-sm",onClick:this.save},"Save changes"),r.createElement("button",{className:"btn btn-default btn-sm",onClick:this.exit},"Exit"))))},save:function(){var e=this.props.slides[0];e.title?l.save():(swal("Title required","Please add a title for this presentation."),u.openSlide(e))},exit:function(){c.isDirty()?swal({type:"warning",title:"Exit builder?",text:"Are you sure you want to exit the presentation builder? Any unsaved changes will be lost.",showCancelButton:!0,confirmButtonColor:"#DD6B55"},u.exit):u.exit()}}),h=r.createClass({displayName:"SlideList",mixins:[o,a("slides",{items:".slide:not(.cover)"})],componentWillReceiveProps:function(e){this.shouldScroll=e.slide!==this.props.slide},componentDidUpdate:function(){if(this.shouldScroll){var e=this.$el(),t=e.find(".slide.active"),n=e.scrollTop(),r=e.position().top,i=t.position().top-r;if(0>i)e.scrollTop(n+i);else{var o=e.height(),a=t.outerHeight(!0),s=i+a-o;s>0&&e.scrollTop(n+s)}this.shouldScroll=!1}},render:function(){var e=this.props.slides.map(this.renderSlide);return r.createElement("ul",{className:"slides"},e)},renderSlide:function(e,t){var n=e===this.props.slide;return r.createElement(f,{key:e.id,slide:e,index:t,active:n})},onSort:function(e){u.reorder(e)}}),f=r.createClass({displayName:"Slide",render:function(){var e=i("slide",{cover:"cover"===this.props.slide.type,active:this.props.active});return r.createElement("li",{className:e,"data-position":this.props.index,onClick:this.onClick},r.createElement("div",{className:"slide-number"},this.props.index),r.createElement(s,{slide:this.props.slide}))},onClick:function(){u.openSlide(this.props.slide)}});e.exports=p},function(e,t,n){"use strict";var r=n(473),i=n(648),o={save:function(){var e=i.getPresentation(),t=i.getPresentationAttributes();log.debug("Saving presentation",e,t),r.save(t),e.set(t),e.saveAll().then(r.saveDone,r.saveFail)}};e.exports=o},function(e){"use strict";function t(e){n(e)&&(log.debug("applying slide",e,e.bounds),map.recenter(),r(e).then(function(){u(e.filter),l(e.focus),map.refresh(),i(e),o(e),a(e),s(e)}))}function n(e){return e&&"map"===e.type}function r(e){var t=Maps.get(e.map)||currentMap,n=Perspectives.get(e.perspective)||currentPerspective;return t===currentMap&&n===currentPerspective?When():MapController.open(t,n)}function i(e){var t=e.selection;if(t){var n={profile:!e.text,zoomFit:!1};map.select(t,n)}else map.resetSelection()}function o(e){map.toggleSidebar(e.sidebar)}function a(e){map.toggleLegend(e.legend)}function s(e){e.zoomFit||!e.bounds?map.beginZoomFit():(map.cancelZoomFit(),map.zoomFit({bounds:Rectangle.copy(e.bounds),full:!0}))}function u(e){e?currentScene.filter.set(e):currentScene.filter.reset()}function l(e){e?currentScene.focus.set(e):map.isFocused()&&currentScene.focus.reset()}e.exports=t},function(e){"use strict";function t(e){n(e)&&(e.map=currentMap.id,e.perspective=currentPerspective.id,e.legend=map.legendIsVisible(),e.sidebar=map.sidebarIsOpen(),e.bounds=r(),e.selection=i(),e.filter=o(),e.focus=a(),log.debug("captured slide",e))}function n(e){return e&&"map"===e.type}function r(){return map.getViewportBoundsWorld().toJSON()}function i(){return map.hasSelection()?map.getBestSelector():void 0}function o(){var e=map.getFilter();return e.isActive()?e.toJSON():void 0}function a(){var e=map.getFocus();return e.isActive()?e.toJSON():void 0}e.exports=t},function(e,t,n){"use strict";var r=n(65),i=n(28),o={map:["id","type","screenshot","preview","title","text","map","perspective","sidebar","legend","bounds","zoomFit","selection","filter","focus"],text:["id","type","title","text"],image:["id","type","title","text","url","size"],embed:["id","type","url","size"]},a=r.createStore({clean:function(e){var t=[e].concat(o[e.type]);return i.pick.apply(null,t)}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(46),s=r(a),u=n(1383),l=r(u),c=o["default"].createClass({displayName:"CoverView",mixins:[s["default"]],render:function(){return o["default"].createElement("div",{className:"slide cover-slide"},o["default"].createElement(l["default"],{presentation:this.props.slide,onStart:this.onStart}))},onStart:function(){swal("Surprise!","This is just a placeholder to show how the cover will look. Add a title then use the + button in the upper left to add your first slide.")}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1),i=n(646),o=r.createClass({displayName:"EmbedView",render:function(){var e=this.props.slide.url,t=this.props.slide.size;return r.createElement("div",{className:"slide embed-slide"},e&&r.createElement(i,{src:e,size:t}))}});e.exports=o},function(e,t,n){"use strict";var r=n(1),i=r.createClass({displayName:"ImageView",render:function(){var e,t,n=this.props.slide.title,i=this.props.slide.text,o=this.props.slide.url,a=this.props.slide.size;return"cover"===a||"contain"===a?t={backgroundImage:"url("+o+")",backgroundSize:a}:e=o,r.createElement("div",{className:"slide image-slide",style:t,"data-size":a},n&&r.createElement("h2",{className:"image-title"},n),i&&r.createElement("div",{className:"image-caption-scrim"}),i&&r.createElement("p",{className:"image-caption"},i),e&&r.createElement("img",{src:e}))}});e.exports=i},function(e,t,n){"use strict";var r=n(1),i=r.createClass({displayName:"MapSlideView",getSidebarViewProps:function(){var e=this.props.slide,t={subtitle:""};if(e.title||e.text)t.title=e.title,t.text=e.text;else if(e.sidebar&&!e.selection)if("preview"===this.props.mode);else{var n=Maps.get(this.props.slide.map);t.title=n.shouldUseNameAsTitle()?n.get("name"):void 0,t.text=n.get("description"),t.subtitle=""}return t},componentWillMount:function(){this.sidebarView=new Views.Articles.SidebarArticleView},componentDidMount:function(){this.updateSidebar()},componentDidUpdate:function(){this.updateSidebar()},updateSidebar:function(){var e=this.getSidebarViewProps();log.debug("updateSidebar",e),e.text?(this.sidebarView.update(e),sidebar.view!==this.sidebarView&&sidebar.push(this.sidebarView)):sidebar.pop(this.sidebarView),e.text?sidebar.maximize():e.title&&sidebar.minimize()},componentWillUnmount:function(){sidebar.pop(this.sidebarView)},render:function(){var e=this.props.slide.title&&!this.props.slide.text;return r.createElement("div",{className:"slide map-slide"},e&&this.renderTitle())},renderTitle:function(){return r.createElement("h2",{className:"slide-title slide-overlay"},this.props.slide.title)}});e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(46),o=n(277),a=r.createClass({displayName:"TextSlideView",mixins:[i],componentWillReceiveProps:function(e){this.shouldResetScrollTop=e.slide.id!==this.props.slide.id},componentDidUpdate:function(){this.shouldResetScrollTop&&(this.el().scrollTop=0)},render:function(){var e=o(this.props.slide.text),t=$("<div>"+e+"</div>");return t.find("a[href^=http]").attr("target","_blank"),e=t.html(),r.createElement("div",{className:"slide text-slide article-block"},r.createElement("div",{className:"container"},r.createElement("h2",{className:"slide-title"},this.props.slide.title),r.createElement("div",{className:"slide-text",dangerouslySetInnerHTML:{__html:e}}),r.createElement("nav",null,r.createElement("button",{className:"prev-btn btn btn-flat",onClick:this.props.prev},r.createElement("i",{className:"fa fa-chevron-left"})," Back"),r.createElement("button",{className:"next-btn btn btn-flat",onClick:this.props.next},r.createElement("i",{className:"fa fa-chevron-right"})," Next"))))}});e.exports=a},function(e,t,n){"use strict";var r,i=n(1),o=n(65),a=n(1968),s=n(1965),u=n(220),l=(n(440),i.createClass({displayName:"PresentationIndex",mixins:[o.connect(s,"reflux")],componentDidUpdate:function(){"building"===this.state.reflux.presentationStatus?r||this.enterBuilder():r&&this.exitBuilder()},render:function(){return i.createElement(a,this.state.reflux)},enterBuilder:function(){var e=this.state.reflux.presentation;window.currentPresentation=e,r=PresentationBuilderMode(e,{exit:u.resetPresentationStatus}),map.setMode(r)},exitBuilder:function(){var e=this.state.reflux.presentation;map.setMode(DefaultMode),r=null,e.isNew()&&(Presentations.remove(e),u.deselectPresentation())}}));e.exports=l},function(e,t,n){"use strict";var r=n(65),i=n(1385),o=n(1966),a=r.createStore({init:function(){this.listenTo(i,this.notify),this.listenTo(o,this.notify)},getInitialState:function(){return this.getState()},getState:function(){return{status:i.getStatus(),presentations:i.getPresentations(),presentation:i.getCurrentPresentation(),presentationStatus:o.getStatus()}},notify:function(){this.trigger(this.getState())}});e.exports=a},function(e,t,n){"use strict";function r(e){log.debug("Presentation status now",e),a.status=e,s.trigger(e)}var i=n(65),o=n(220),a={status:void 0},s=i.createStore({init:function(){this.listenToMany(o)},getStatus:function(){return a.status},onNewPresentation:function(){r("building")},onChangePresentation:function(){r(void 0)},onBuildPresentation:function(){r("building")},onBuildPresentationDone:function(){r("building-done")},onPublishPresentation:function(){r("publishing")},onPublishPresentationDone:function(){r("publishing-done")},onPublishPresentationFail:function(){r("publishing-fail")},onUnpublishPresentation:function(){r("unpublishing")},onUnpublishPresentationDone:function(){r("unpublishing-done")},onUnpublishPresentationFail:function(){r("unpublishing-fail")},onResetPresentationStatus:function(){r(void 0)}});e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(220),s=r(a),u=o["default"].createClass({displayName:"Blankslate",getDefaultProps:function(){return{loading:!1}},render:function(){return o["default"].createElement("div",{className:"blankslate presentations"},this.props.loading?o["default"].createElement("span",null,"Loading presentations..."):o["default"].createElement("button",{className:"btn btn-default",onClick:s["default"].newPresentation},"Create your first presentation"))}});t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1),i=n(220),o=n(1967),a=n(1970),s=n(1973),u=r.createClass({displayName:"Index",componentDidMount:function(){map.__presentation||i.fetchPresentations()},render:function(){return r.createElement("div",{id:"presentation-index"},this.props.presentation?this.renderOne():this.renderList())},renderList:function(){return"loading"===this.props.status?r.createElement(o,{loading:!0}):"error"===this.props.status?r.createElement("div",{className:"alert alert-warning"},"Unable to load presentations."):0===this.props.presentations.length?r.createElement(o,null):r.createElement("div",null,r.createElement("header",{className:"page-header"},r.createElement("h2",null,"Presentations"),r.createElement("div",{className:"actions"},r.createElement("button",{className:"btn btn-default",onClick:i.newPresentation},"New presentation"))),r.createElement(a,this.props))},renderOne:function(){var e=this.props.presentation,t=e.publication,n=_.extend({},this.props,{presentation:e.attributes,publication:t&&t.attributes});return r.createElement(s,n)}});e.exports=u},function(e,t,n){"use strict";var r=n(1),i=n(46),o=n(440),a=r.createClass({displayName:"PresentationForm",mixins:[i],getInitialState:function(){return _.pick(this.props.presentation,"title","subtitle")},render:function(){return r.createElement("form",{className:"presentation-form"},r.createElement("h1",null,"Edit presentation"),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Title"),r.createElement("input",{ref:"title",type:"text",className:"form-control",valueLink:this.link("title"),placeholder:"Add title (required)"})),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Subtitle"),r.createElement("input",{ref:"subtitle",className:"form-control",valueLink:this.link("subtitle"),placeholder:"Add subtitle"})),r.createElement("div",{className:"btn-toolbar"},r.createElement("button",{type:"button",className:"btn btn-default",onClick:this.save},"Save"),r.createElement("button",{type:"button",className:"btn btn-link",onClick:this.props.cancel},"cancel")))},save:function(){this.state.title&&(this.props.save(this.state),o.updatePresentation(this.state))}});e.exports=a},function(e,t,n){"use strict";var r=n(1),i=n(220),o=n(301),a=n(740),s=n(443),u=r.createClass({displayName:"PresentationList",render:function(){return r.createElement("div",{className:"presentation-list"},this.renderPresentations())},renderPresentations:function(){return this.props.presentations.map(function(e){return r.createElement(l,{key:e.cid,presentation:e})})}}),l=r.createClass({displayName:"ListItem",render:function(){var e,t=this.props.presentation.attributes,n=this.props.presentation.publication;return n&&(e=s.url(n.attributes)),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading clearfix"},r.createElement("div",{className:"pull-right"},r.createElement("div",{className:"btn-group"},r.createElement("button",{className:"btn btn-default btn-sm",onClick:this.select},r.createElement("i",{className:"icon-edit"})," Edit"))),r.createElement("h3",{className:"panel-title"},t.title)),r.createElement("div",{className:"panel-body"},this.renderPreview(t),r.createElement(o,{src:t.subtitle}),e&&r.createElement("p",null,r.createElement("a",{href:e,target:"_blank"},e))))},select:function(){i.selectPresentation(this.props.presentation)},duplicate:function(){var e=this.props.presentation;Workflows.duplicatePresentation(e).then(function(e){Workflows.success(e.get("title")+" presentation created")})["catch"](function(){Workflows.error("Unable to duplicate presentation")})},renderPreview:function(e){if(e.image)return r.createElement("img",{className:"slide-preview",src:e.image});var t=this.getPreviewSlide(e);return t&&r.createElement(a,{slide:t})},getPreviewSlide:function(e){for(var t,n=e.slides,r=0;r<n.length;r++)if(t=n[r],"image"===t.type&&t.src||"map"===t.type&&(t.preview||t.thumbnail))return t}});e.exports=u},function(e,t,n){"use strict";var r=n(1),i=(n(1975),n(1383)),o=n(739),a=n(1972),s=r.createClass({displayName:"PresentationOverview",propTypes:{presentation:r.PropTypes.object},render:function(){var e=!!this.props.publication;return r.createElement("div",{className:"presentation-overview"},r.createElement(a,this.props),!e&&this.renderPublishBlock(),r.createElement("div",{className:"article-cover-container"},r.createElement(i,{presentation:this.props.presentation,onStart:this.onStart})),r.createElement(o,{presentation:this.props.presentation}),!e&&this.renderPublishBlock())},renderPublishBlock:function(){return r.createElement("div",{className:"publish-block"},r.createElement("h2",null,"Ready to publish?"),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.publish},"Publish presentation"))},onStart:function(){swal("Surprise!","This is just a placeholder to show how the cover will look. Please scroll down to preview the contents of the presentation.")}});e.exports=s},function(e,t,n){"use strict";var r=n(1),i=n(46),o=n(1924),a=n(220),s=n(440),u=n(443),l={publishing:"Publishing presentation","publishing-done":"Presentation published","publishing-fail":"Unable to publish presentation",unpublishing:"Removing presentation","unpublishing-done":"Presentation removed","unpublishing-fail":"Unable to remove presentation"},c=r.createClass({displayName:"PresentationStatus",mixins:[i],render:function(){return r.createElement("div",{className:"presentation-status"},this.props.presentationStatus&&this.renderStatus(),this.props.publication&&this.renderPublicationInfo())},renderStatus:function(){if(this.props.presentationStatus){var e,t,n=!1,i=this.props.presentationStatus,o=l[i];return i.endsWith("-done")?(e="Success",t="alert-info"):i.endsWith("-fail")?(e="Error",t="alert-danger"):n=!0,n?r.createElement("div",{className:"alert text-center"},r.createElement("i",{className:"icon-wait"})," ",o):r.createElement("div",{className:"alert alert-dismissible "+t},r.createElement("button",{type:"button",className:"close",onClick:a.resetPresentationStatus},"\xd7"),r.createElement("strong",null,e)," ",o)}},renderPublicationInfo:function(){var e=this.props.publication,t=u.url(e),n=e.updated_at;return r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},"Published ",r.createElement(o,{value:n}))),r.createElement("div",{className:"panel-body"},r.createElement("p",null,"This presentation was published to the url below:",r.createElement("br",null),r.createElement("a",{className:"published-link",href:t,target:"_blank"},t)),r.createElement("p",null,r.createElement("button",{className:"btn btn-default",onClick:s.publishPresentation},"Publish updates")," "," or ",r.createElement("a",{href:"#",className:"danger",onClick:s.unpublishPresentation},"unpublish this presentation"))))}});e.exports=c},function(e,t,n){"use strict";var r=n(1),i=n(44),o=n(220),a=n(440),s=n(1971),u=n(1969),l=n(1974),c=r.createClass({displayName:"PresentationView",getInitialState:function(){return{mode:"default"}},render:function(){var e=i("presentation-view",{published:!!this.props.publication});return r.createElement("div",{className:e,"data-mode":this.state.mode},r.createElement("header",{className:"page-header"},r.createElement("div",{className:"actions btn-toolbar"},r.createElement("button",{className:"btn btn-flat",onClick:o.buildPresentation,title:"Edit presentation","data-placement":"bottom"},r.createElement("i",{className:"icon-edit"})," Edit title / slides"),r.createElement("button",{className:"btn btn-flat",onClick:this.destroy,title:"Delete presentation","data-placement":"bottom"},r.createElement("i",{className:"icon-delete"})," Delete presentation")),r.createElement("button",{className:"back-btn btn btn-flat",onClick:o.deselectPresentation},r.createElement("i",{className:"icon-angle-left"})," Back to presentations")),this.renderBody())},renderBody:function(){var e=_.extend({},this.props,{edit:this.edit,save:this.save,publish:this.publish,done:this.returnToDefaultMode,cancel:this.returnToDefaultMode});switch(this.state.mode){case"default":return r.createElement(s,e);case"edit":return r.createElement(u,e);case"publish":return r.createElement(l,e)}},edit:function(){this.setState({mode:"edit"})},publish:function(){currentProject.isPublic()?a.publishPresentation({"private":!1}):this.setState({mode:"publish"})},save:function(e){o.updatePresentation(e),this.setState({mode:"default"})},returnToDefaultMode:function(){this.setState({mode:"default"})},cancel:function(){this.setState({mode:"default"})},destroy:function(){swal({type:"warning",title:"Confirmation required",text:"Presentations cannot be recovered once they've been deleted. Are you sure you want to delete this presentation?",confirmButtonText:"Delete presentation",showCancelButton:!0,confirmButtonColor:"#DD6B55"},o.deletePresentation)}});e.exports=c},function(e,t,n){"use strict";var r=n(1),i=n(44),o=n(46),a=n(440),s=n(443),u=r.createClass({displayName:"PublishForm",propTypes:{presentation:r.PropTypes.object},mixins:[o],getInitialState:function(){return{"public":!1,token:uuid(16),password:""}},render:function(){var e=i("publish-form form-horizontal",{"is-public":this.state["public"],"is-private":!this.state["public"]});return r.createElement("form",{className:e},r.createElement("h1",null,"Publish presentation"),r.createElement("p",null,"Presentations can be public or private. Public presentations can be viewed by anyone, while private presentations are protected by a secure token and an optional password."),r.createElement("div",{className:"form-group"},r.createElement("div",{className:"col-sm-offset-2 col-sm-10"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checkedLink:this.link("public")}),"Make this presentation public")))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"Url"),r.createElement("div",{className:"col-sm-10"},r.createElement("div",{className:"form-control-static"},this.url()))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-sm-2 control-label"},"Password"),r.createElement("div",{className:"col-sm-5"},r.createElement("input",{type:"password",className:"form-control",valueLink:this.link("password"),placeholder:"Add password (optional)",disabled:this.state["public"]}))),r.createElement("div",{className:"form-group"},r.createElement("div",{className:"col-sm-offset-2 col-sm-10"},r.createElement("div",{className:"btn-toolbar"},r.createElement("button",{type:"button",className:"btn btn-default",onClick:this.publish},"Publish presentation"),r.createElement("button",{type:"button",className:"btn btn-danger btn-link",onClick:this.props.cancel},"cancel")))))},url:function(){var e=_.extend({},this.props.presentation,this.getOptions());return s.url(e)},publish:function(){a.publishPresentation(this.getOptions()),this.props.done()},getOptions:function(){var e={};return this.state["public"]?e["private"]=!1:(e["private"]=!0,e.token=this.state.token,e.password=this.state.password),e.token=e.token||null,e.password=e.password||null,e}});e.exports=u},function(e,t,n){"use strict";var r=n(1),i=n(740),o=n(220),a=r.createClass({displayName:"SlideMenu",getDefaultProps:function(){return{slides:[]}},render:function(){return r.createElement("div",{className:"slide-menu"},r.createElement("button",{className:"btn btn-flat",onClick:o.editSlides},r.createElement("strong",null,this.props.slides.length)," slides - edit"),this.renderSlides())},renderSlides:function(){return this.props.slides.map(function(e){return r.createElement(i,{key:e.id,slide:e})})}});e.exports=a},function(e,t,n){"use strict";var r=n(1),i=n(65),o=n(1386),a=n(1977),s=r.createClass({displayName:"PresentationApp",mixins:[i.connect(o,"reflux")],render:function(){return this.state.reflux.presentation?r.createElement(a,this.state.reflux):r.createElement("div",null)}});e.exports=s},function(e,t,n){"use strict";var r=n(1),i=n(44),o=n(741),a=n(1384),s=n(1978),u=r.createClass({displayName:"PresentationController",componentDidMount:function(){this.refs.map.resize()},render:function(){var e=this.props.presentation.aspect,t=this.props.slide,n=i("presentation-controller",t.type+"-slide-active",{"first-slide":this.props.isFirstSlide,"last-slide":this.props.isLastSlide});return r.createElement("div",{className:n},r.createElement("nav",{className:"slide-nav"},r.createElement("button",{className:"slide-nav-btn prev-btn btn",onClick:this.prev},r.createElement("i",{className:"icon-angle-left"})),r.createElement("button",{className:"slide-nav-btn next-btn btn",onClick:this.next},r.createElement("i",{className:"icon-angle-right"})),r.createElement("button",{className:"slide-nav-btn info-btn btn",onClick:this.info},r.createElement("i",{className:"icon-info"}))),r.createElement(a,{ref:"map",slide:t,aspect:e,prev:this.prev,next:this.next}))},prev:function(){window.focus(),o.prev()},next:function(){window.focus(),o.next()},info:function(){s.open(this.props.presentation)}});e.exports=u},function(e,t,n){(function(t,r){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=o.createClass({displayName:"PresentationInfo",statics:{open:function(e){var n=$("<div>").appendTo("body"),s=function(){t(n.get(0)),n.remove()};r(o.createElement(a,i({},e,{close:s})),n.get(0))}},getDefaultProps:function(){return{url:"test",author:{name:"Ryan Mohr",username:"rymohr",email_digest:"f62032781f74abf688e375074ee638ba",url:"https://kumu.io/rymohr",bio:"Here's some background infor about me",location:"Honolulu, HI"}}},render:function(){var e=this.props.author,t="https://www.google.com/maps/search/"+encodeURIComponent(e.location),n=encodeURIComponent(this.props.url),r="https://twitter.com/home?status="+n,i="https://www.facebook.com/sharer/sharer.php?u="+n,a="https://plus.google.com/share?url="+n;return o.createElement("div",{className:"about-presentation cover-modal"},o.createElement("button",{type:"button",className:"close",onClick:this.props.close},"\xd7"),o.createElement("div",{className:"absolute-center"},o.createElement("div",{className:"content"},o.createElement("h1",null,"About the author"),o.createElement("div",{className:"profile-block"},o.createElement("a",{href:e.url,target:"_parent"},o.createElement("img",{className:"avatar",src:e.avatar}),o.createElement("h2",{className:"name"},e.name)),e.bio&&o.createElement("div",{className:"bio"},e.bio),o.createElement("div",{className:"details"},o.createElement("a",{href:e.url,target:"_parent"},"kumu.io/",e.username),e.location&&o.createElement("a",{href:t,target:"_blank"},o.createElement("i",{className:"fa fa-map-marker"})," ",e.location),e.website&&o.createElement("a",{href:e.website,target:"_blank"},o.createElement("i",{className:"fa fa-globe"})," ",e.website))),this.props.shareable&&o.createElement("div",{className:"share-block"},o.createElement("span",{className:"label"},"Share this presentation"),o.createElement("a",{href:r,target:"_blank",className:"btn btn-flat"},o.createElement("i",{className:"fa fa-twitter"})),o.createElement("a",{href:i,target:"_blank",className:"btn btn-flat"},o.createElement("i",{className:"fa fa-facebook"})),o.createElement("a",{href:a,target:"_blank",className:"btn btn-flat"},o.createElement("i",{className:"fa fa-google-plus"}))),o.createElement("div",{className:"create-block"},o.createElement("p",null,"Enjoy the presentation?"),o.createElement("a",{href:KUMU_ROOT_URL,target:"_parent",className:"btn btn-success"},"Create your own presentation")))))}});e.exports=a}).call(t,n(150),n(102))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e){return!isNaN(n(e))}function n(e){return o["default"]().unformat(e)}function r(e){var t=1e3>e?"($0.00a)":"($0.0a)",n=o["default"](e).format(t);return n=n.replace(/(.00|.0(\w))$/,"$2")}e.define("currency",{validate:t,parse:n,format:r})};var i=n(1607),o=r(i);e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){e.define("date",{defaults:{format:"MM/DD/YYYY"},validate:function(e){return moment(e).isValid()},parse:function(e){return moment(e).toDate()},format:function(e,t){return moment(e).format(t.format)}})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){e.define("none",{})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e){return null===e||void 0===e?e:String(e)}e.define("string",{parse:t,format:t})},e.exports=t["default"]},function(e,t,n){(function(e){"use strict";function n(e){return function(t,n){return r(e,t,n)}}function r(t,n,r){return n[t]?void e.error("Dekupage: "+t+" hook already defined for",n):void(n[t]=r)}Object.defineProperty(t,"__esModule",{value:!0}),t.beforeAction=n("beforeAction"),t.beforeDispatch=n("beforeDispatch"),t.onDispatch=n("onDispatch"),t.afterDispatch=n("afterDispatch"),t.afterAction=n("afterAction")}).call(t,n(3))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n={};return Object.keys(e).forEach(function(r){var i=u["default"](r),o=e[r],s=n[r]=function(){for(var e=arguments.length,r=Array(e),s=0;e>s;s++)r[s]=arguments[s];
r[0]&&"function"==typeof r[0].preventDefault&&(r.length=0);var u={state:t.getState(),actions:n};a("beforeAction",o,u,r),a("beforeDispatch",o,u,r),a("onDispatch",o,u,r),t.dispatch({type:i,payload:r}),a("afterDispatch",o,u,r),a("afterAction",o,u,r)};s.subscribe=function(e){return t.subscribeToAction(i,e)},s.unsubscribe=function(e){return t.unsubscribeToAction(i,e)}}),n}function a(e,t,n,r){var o=t[e];o&&o.apply(void 0,[n].concat(i(r)))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var s=n(1609),u=r(s);e.exports=t["default"]},function(e,t){"use strict";function n(e){var t={};return e.keys().forEach(function(n){if(!/index\.js$/.test(n)&&/\.jsx?$/.test(n)){var i=n.match(/(\w+)[.]jsx?/)[1],o=e(n);if(o["default"]){var a=o["default"],s=r({},o);delete s["default"],t[i]=Object.assign(a,s)}else Object.assign(t,o)}}),t}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadHelpers=t.loadActions=t.createReducer=t.createComponent=t.createElement=t.createApp=t.createStore=void 0;var i=n(1983);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(1568),a=r(o),s=n(1987),u=r(s),l=n(1989),c=r(l),p=n(1988),h=r(p),f=n(1387),d=r(f),m=n(1985),g=r(m),v=n(1991),y=r(v);t.createStore=a["default"],t.createApp=u["default"],t.createElement=c["default"],t.createComponent=h["default"],t.createReducer=d["default"],t.loadActions=g["default"],t.loadHelpers=y["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.view,n=e.state,r=e.actions,s=t,l=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s="function"==typeof n?n(e):n;return a.reducer=d["default"](r,s),a.store=h["default"](a.reducer),a.actions=g["default"](r,a.store),a}return a(t,e),u(t,[{key:"render",value:function(){return c["default"].createElement(v,{store:this.store,actions:this.actions},c["default"].createElement(s,this.props))}}]),t}(c["default"].Component);return l}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=s;var l=n(1),c=r(l),p=n(1992),h=r(p),f=n(1387),d=r(f),m=n(1984),g=r(m),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getChildContext",value:function(){return{store:this.props.store,actions:this.props.actions}}},{key:"render",value:function(){return c["default"].Children.only(this.props.children)}}]),t}(c["default"].Component);v.childContextTypes={store:c["default"].PropTypes.object.isRequired,actions:c["default"].PropTypes.object.isRequired},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){"string"!=typeof e&&(t=e,e=void 0);var n=!0,r="function"==typeof t.connect,s=function(e){function s(e,t){i(this,s);var n=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t));n.propsChanged=!1;var a=r?n.mapModelToProps():{};return n.state={componentProps:a},n.invoke("onCreate"),n}return a(s,e),l(s,[{key:"shouldComponentUpdate",value:function(){var e=this.invoke("shouldUpdate");return e!==!1&&(!n||this.propsChanged||this.stateChanged)}},{key:"componentWillReceiveProps",value:function(e){n&&d["default"](e,this.props)||(this.propsChanged=!0)}},{key:"componentDidMount",value:function(){if(r){var e=this.context.store;this.unsubscribe=e.subscribe(this.handleStoreUpdate.bind(this))}return this.invoke("onMount")}},{key:"componentDidUpdate",value:function(){return this.invoke("onUpdate")}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.invoke("onUnmount"),this.invoke("onDestroy")}},{key:"render",value:function(){this.propsChanged=!1,this.stateChanged=!1;var e=this.getPropsForConnectedComponent();return t.render(e)}},{key:"invoke",value:function(e){if(t[e]){var n=this.getPropsForConnectedComponent();return t[e](n)}}},{key:"getPropsForConnectedComponent",value:function(){return u({},this.props,this.state.componentProps)}},{key:"handleStoreUpdate",value:function(){var e=this.mapModelToProps();d["default"](e,this.state.componentProps)||(this.stateChanged=!0,this.setState({componentProps:e}))}},{key:"mapModelToProps",value:function(){var e=this.context,n=e.store,r=e.actions,i=n.getState(),o={state:i,actions:r};return t.connect(o)}}]),s}(p["default"].Component);return s.displayName=e||t.name,s.contextTypes={store:p["default"].PropTypes.object.isRequired,actions:p["default"].PropTypes.object.isRequired},s}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=r(c),h=n(109),f=(r(h),n(2451)),d=r(f);t["default"]=s,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){for(var n=s.translateProps(t),r=arguments.length,i=Array(r>2?r-2:0),o=2;r>o;o++)i[o-2]=arguments[o];var u="dangerouslySetInnerHTML"in n?null:i;return a["default"].createElement(e,n,u)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1),a=r(o),s=n(1990);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=o(e.props),n=a(e.props.children);return l["default"].cloneElement(e,t,n)}function o(e){var t=s({},e);return"class"in t&&(t.className=t["class"],delete t["class"]),"innerHTML"in t&&(t.dangerouslySetInnerHTML={__html:t.innerHTML},delete t.innerHTML),t}function a(e){return l["default"].Children.map(e,function(e){return l["default"].isValidElement(e)?i(e):e})}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.translate=i,t.translateProps=o,t.translateChildren=a;var u=n(1),l=r(u);t["default"]=i},function(e,t){"use strict";function n(e){function t(e){if(n.hasOwnProperty(e))throw new Error("DekupageError: "+e+" helper defined twice")}var n={};return e.keys().forEach(function(r){if(!/index\.js$/.test(r)&&/\.jsx?$/.test(r)){var i=e(r);Object.keys(i).forEach(t),Object.assign(n,i)}}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){function t(e){var t=a[e.type];if(t)for(var i=n.getState(),o=0;o<t.length;o++){var s=t[o];s.apply(void 0,[i].concat(r(e.payload)))}}var n=o.createStore(e,window.devToolsExtension&&window.devToolsExtension()),i=n.dispatch,a={};return n.dispatch=function(e){i(e),t(e)},n.subscribeToAction=function(e,t){return(a[e]=a[e]||[]).push(t),function(){n.unsubscribeToAction(e,t)}},n.unsubscribeToAction=function(e,t){var n=a[e].indexOf(t);a[e].splice(n,1)},n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1568);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r){if(2===arguments.length)return i("above",e,t);var a=void 0,s=void 0;(a=t.match(/^(.*)\s*@\s*(.*)$/))?(t=a[1].trim(),s=a[2].trim()):s="right middle","above"===e&&(e="top"),"below"===e&&(e="bottom"),o(e,t,s,n,r)}function o(e,t,n){function r(){w.addClass("visible")}function i(e){e.preventDefault(),e.stopPropagation(),o()}function o(){s(),_=u["default"]('<div class="detour-popover"></div>').html(v).appendTo("body").position(k),u["default"]("body").on("click",p),c&&c(),c=h}function s(){return"top"===e?{my:"bottom",at:"top-20"}:"bottom"===e?{my:"top",at:"bottom+20"}:"left"===e?{my:"right",at:"left-20"}:"right"===e?{my:"left",at:"right+20"}:void 0}function p(e){var t=e.target;_.is(t)||_.has(t).length||(e.preventDefault(),e.stopPropagation(),h())}function h(){clearInterval(x),u["default"](window).off("resize",g),f(),d(),"function"==typeof y&&y()}function f(){u["default"]("body").off("click",p),_.remove()}function d(){w.removeClass("visible"),setTimeout(m,1e3)}function m(){w.remove()}function g(){w.position(E),_&&_.position(k)}var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",y=arguments[4],b=u["default"](t);if(b.is(":visible")){var w=u["default"]('\n    <div class="detour-beacon">\n      <div class="detour-beacon-hit"></div>\n      <div class="detour-beacon-outer"></div>\n      <div class="detour-beacon-inner"></div>\n    </div>\n  '),_=void 0,x=void 0,E={my:"middle middle",at:n,of:b},k=a({},s(),{of:w});w.one("click",i).appendTo("body").position(E),g(),x=setInterval(g,l),u["default"](window).on("resize",g),r()}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var s=n(67),u=r(s),l=200,c=void 0;e.exports=t["default"]},,,function(e,t){"use strict";function n(e,t,n){"object"===("undefined"==typeof t?"undefined":i(t))&&(n=t,t=void 0),t=t||o;var s=t*a,u=(1-t)*a;return 0===e.length?Promise.resolve():new Promise(function(t){function i(){for(var a=r(),l=0;;){var c=e[o];c(),o+=1,l+=1;var p=r()-a,h=p/l,f=o/e.length;if(n&&n.progress&&n.progress(f),o===e.length)break;if(p+h>=s)break}o<e.length?setTimeout(i,u):t()}var o=0;setTimeout(i,u)})}function r(){return+new Date}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=n;var o=.5,a=16;e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1998),o=r(i),a=n(2e3),s=r(a);t["default"]={parse:o["default"],stringify:s["default"]},e.exports=t["default"]},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){try{var t={variables:[],imports:[],controls:{props:{},regions:{}},settings:{},rules:[]};if(!e)return t;var n=D["default"]([L["default"]({onVariables:s.bind(this,t)})]);e=e.replace(": :",": "+$);var i=n.process(e);return c(t,i.root),t}catch(o){return r.error(o),{error:a(o)}}}function a(e){var t=e.name,n=e.reason,r=e.line,i=e.column,o=t,a=n;return{type:o,line:r,column:i,message:a}}function s(e,t){Object.keys(t).forEach(function(n){var r=u(n),i=l(t[n]),o={name:r,value:i};e.variables.push(o)})}function u(e){return P["default"](e)}function l(e){return e}function c(e,t){var n=[];return t.each(function(t){var r=t.type;if("atrule"!==r){if("rule"===r)return void b(n,e,t)}else{var i=t.name;if("import"===i)return void p(n,e,t);if("controls"===i)return void h(n,e,t);if("settings"===i)return void y(n,e,t)}}),e}function p(e,t,n){t.imports.push(R.unquote(n.params))}function h(e,t,n){n.each(function(n){var r=n.type;return"decl"===r?void x(R.push(e,"@controls"),t.controls.props,n):"rule"===r?void f(R.push(e,"@controls"),t,n):void 0})}function f(e,t,n){var r=d(n.selector),i=m(t,r);n.each(function(t){i.children.push(g(R.push(e,r),t))})}function d(e){var t=e;return"top"!==t&&"bottom"!==t||(t+="-center"),P["default"](t)}function m(e,t){var n=e.controls.regions,r=n[t];return r||(r=n[t]={props:{},children:[]}),r}function g(e,t){var n=v(t.selector),r=R.push(e,n),i={type:n},o=void 0,a=void 0;return t.each(function(e){var t=e.type;return"decl"===t?(o=o||{},void x(r,o,e)):"rule"===t?(a=a||[],void a.push(g(r,e))):void 0}),o&&(i.props=o),a&&(i.children=a),i}function v(e){return P["default"](e)}function y(e,t,n){var r=R.push(e,"@settings");n.each(function(e){x(r,t.settings,e)})}function b(e,t,n){var r=n.selector,i={selector:r,declarations:{}},o=R.push(e,r);w(i,n),n.each(function(e){var t=e.type;return"decl"===t?void x(o,i.declarations,e):void 0}),t.rules.push(i)}function w(e,t){var n=t.parent,r=n.nodes[n.index(t)-1];if(r&&"comment"===r.type){var i=r.text,o=i.match(/^\s*(elements|connections)\s*:(.*)/);o?(e.collection=o[1].trim(),e.label=o[2].trim()):(e.collection=void 0,e.label=i.trim())}if(!e.collection){var a=_(t);a&&(e.collection=a)}}function _(e){var t=B["default"](e.selectors.map(M));return 1===t.length&&/^(element|connection|loop)$/.test(t[0])?t[0]+"s":void 0}function x(e,t,n){var r=E(e,n.prop),i=k(e,r,n.value);r&&(t[r]=i)}function E(e,t){var n=t,r=n.match(W),i=void 0;return r&&(i=r[1],n=r[2]),n=P["default"](n),n=z[n]||n,i&&(n=i+R.capitalize(n)),n}function k(e,t,n){var r=S(t,n);if(r=r.replace($,":"),r=I["default"].invoke("parse",e,t,r),V.test(r))r=!0;else if(Y.test(r))r=!1;else{var i=Number(r);A(i)?r=i:C(r)&&(r=R.unquote(r))}return r}function C(e){return"string"==typeof e}function A(e){return!isNaN(e)}function S(e,t){var n=U[e],r=n&&n[t];return void 0===r?t:r}function M(e){var t=e.match(/^(?:element|connection|loop)/);return t?t[0]:void 0}Object.defineProperty(t,"__esModule",{value:!0});var T=n(1151),D=i(T),O=n(2408),L=i(O),F=n(2370),P=i(F),N=n(2388),B=i(N),R=n(742),j=n(1388),I=i(j),$="!!COLON!!",z={backgroundImage:"imageUrl",backgroundSize:"imageSize",labelPlacement:"textAlign",pattern:"style",radius:"size"},U={imageSize:{fit:"contain",fill:"cover"},layout:{liquid:"force",fixed:"static",off:"static",none:"static"},quality:{high:"best",low:"fast",0:"fast",1:"best"}},V=/^(true|on|yes)$/,Y=/^(false|off|no)$/,W=/^(element|connection|loop)-(.*)$/;t["default"]=o,e.exports=t["default"]}).call(t,n(3))},function(e,t){"use strict";function n(e,t,n){return i(t,n)?n:r(n)}function r(e){return'"'+e+'"'}function i(e){return o.has(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=new Set(["none","inherit","auto"]);t["default"]={stringify:n},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=[],n="";return n+=o(t,e),n+=s(t,e),n+=l(t,e),n+=p(t,e),n+=h(t,e)}function o(e,t){return 0===t.variables.length?"":t.variables.map(function(t){return a(e,t)}).join("")+"\n"}function a(e,t){var n=t.name,r=t.value;return"$"+w(n)+": "+r+";\n"}function s(e,t){return 0===t.imports.length?"":t.imports.map(function(t){return u(e,t)}).join("")+"\n"}function u(e,t){return'@import "'+t+'";\n'}function l(e,t){var n=void 0,r=[];for(n in t.controls.regions){var i=t.controls.regions[n];E["default"](i.props)&&E["default"](i.children)||(n=D[n]||n,r.push({type:n,props:i.props,children:i.children}))}return E["default"](t.controls.props)&&0===r.length?"":c(A.push(e,"@controls"),"@controls",t.controls.props,r)+"\n"}function c(e,t,n,r){var i=m(e,n),o=_(e,w(t))+" {\n";if(o+=i,r&&r.length){i&&(o+="\n");for(var a=0;a<r.length;a++){var s=r[a],u=A.push(e,s.type);o+=c(u,s.type,s.props,s.children),a!==r.length-1&&(o+="\n")}}return o+=_(e)+"}\n"}function p(e,t){var n=void 0;return y(t.settings)?"":d(e,n,"@settings",t.settings)}function h(e,t){return 0===t.rules.length?"":t.rules.map(function(t){return f(e,t)}).join("")}function f(e,t){var n=t.comment,r=t.selector,i=t.declarations;return d(e,n,r,i)}function d(e,t,n,r){var i="",o=m(A.push(e,n),r);return t&&(i+="/* "+t+" */\n"),o&&(i+=n+" {\n",i+=o,i+="}\n\n"),i}function m(e,t){if(!t)return"";var n=[];return Object.keys(t).forEach(function(r){var i=t[r];if(b(i)){var o=g(e,r),a=v(e,r,i);b(a)&&n.push(_(e,"  "+o+": "+a+";"))}}),0===n.length?"":""+n.join("\n")+"\n"}function g(e,t){return w(t)}function v(e,t,n){return M["default"].invoke("stringify",e,t,n)}function y(e){var t=void 0;for(t in e){var n=e[t];if(b(n))return!1}return!0}function b(e){return null!=e&&""!==e}function w(e){var t=C["default"](e);return"@"===e[0]?"@"+t:t}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return T.slice(0,2*(e.length-1))+t}Object.defineProperty(t,"__esModule",{value:!0});var x=n(2377),E=r(x),k=n(2379),C=r(k),A=n(742),S=n(1388),M=r(S),T="                    ",D={topCenter:"top",bottomCenter:"bottom"};t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return new Promise(function(n,r){var i=l["default"](e);return o(i,t).then(n,r)})}function o(e,t){var n=t&&t.proxy,r=t&&t.apiKey,i="sheets(properties.title,data.rowData.values.formattedValue)",o="https://sheets.googleapis.com/v4/spreadsheets/"+e+"?fields="+i;return n?o=n(o):r&&(o+="&key="+r),s["default"].get(o).then(function(e){var t=e.data.sheets.map(function(e){var t=e.properties.title,n=e.data[0].rowData,r=void 0;return n&&(r=n.map(function(e){return e.values?e.values.map(function(e){return e.formattedValue}):[]})),{name:t,data:r}});return t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=n(640),s=r(a),u=n(1391),l=r(u);e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t={"static":!1,editable:!0,forceful:!1,convertNode:function(e,t){return{id:e.cid,fixed:e.isFixed(),position:{x:e.position.x,y:e.position.y},positionInitialized:e.positionInitialized,radius:e.style.radius||1,mass:e.degree()/2||1,charge:t.layoutParticleCharge}},convertEdge:function(e,t){return{id:e.cid,from:e.from.cid,to:e.to.cid,length:e.style.length||t.layoutSpringLength,strength:e.style.strength||t.layoutSpringStrength,k:t.layoutSpringConstant}}};e("liquid",t),e("force",t)},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(e){var t={},n=e.entity.attrs.attributes;for(var r in n){var i=Number(n[r]);t[r]=i,t[r.camelize()]=i}return t.id=e.cid,t}var n={"static":!0,editable:!1,forceful:!0,convertNode:t,convertEdge:t};e("scatter",n)},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(){}var n={"static":!0,editable:!0,forceful:!1,convertNode:t,convertEdge:t};e("static",n)},e.exports=t["default"]},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.authorizeGoogleSheet=void 0;var i=n(2074),o=r(i);t.authorizeGoogleSheet=o["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=a["default"](e);return new Promise(function(e,n){function r(){gapi.load("auth2",function(){var r=$("meta[name=google-client-id]").attr("content"),o="https://www.googleapis.com/auth/spreadsheets.readonly",a=gapi.auth2.init({client_id:r,scope:o,fetch_basic_profile:!1}),s={scope:o,include_granted_scopes:!0,approval_prompt:"force",redirect_uri:"postmessage"};a.grantOfflineAccess(s).then(function(r){var o=r.code;o?i(o,t).then(function(t){return e(t)})["catch"](n):(log.error("Unable to fetch google auth code",r),n())},n)})}function i(e,t){var n=currentProject,r=n.authorizations;return r.authorize("google","googlesheets",e,{sheet:t})}window.__authorizeGoogleSheets=r,window.gapi?r():$.ajax({url:"https://apis.google.com/js/client:plus.js?onload=__authorizeGoogleSheets",dataType:"script",cache:!0})})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(1391),a=r(o);e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=e.toLowerCase();return i[t]||t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r={perspective:"view",attribute:"field"},i=r;e.exports=t["default"]},function(e,t,n){"use strict";function r(e){i.forEach(function(t){t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=[n(2077),n(2078)];e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.get("layout"),n=e.get("layoutPreset");"force"===t&&("auto"===n||("dense"===n?(e.set("layoutTheta",.7),e.set("layoutConvergence",.8),e.set("layoutMinVelocity",5),e.set("layoutMaxForce",100),e.set("layoutGravity",5e-4),e.set("layoutParticleCharge",120),e.set("layoutSpringStrength",.5)):"hairball"===n&&(e.set("layoutTheta",.7),e.set("layoutConvergence",.8),e.set("layoutMinVelocity",5),e.set("layoutMaxForce",100),e.set("layoutGravity",1e-4),e.set("layoutParticleCharge",300),e.set("layoutSpringStrength",.1),e.set("layoutSpringLength",500))))},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){"webgl"===e.get("quality")&&e.set("renderer","webgl"),"webgl"!==e.get("renderer")&&"webgl"!==e.get("quality")||(e.set("quality","webgl"),e.set("culling",!1))},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){(a[e]||[]).forEach(function(e){return e(t)})}function r(e,t){return(a[e]=a[e]||[]).push(t),function(){return i([e,t])}}function i(e){var t=o(e,2),n=t[0],r=t[1];a[n]=a[n].filter(function(e){return e!==r})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a={};t["default"]={pub:n,sub:r},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return Array.isArray(e)?e:Array.from(e)}function o(e){var t={elements:[],connections:[]},n=a(e);return n.forEach(function(e){var n=i(e),r=n[0],o=n.slice(1);t.elements.push({label:r}),o.forEach(function(e){t.connections.push({from:e,to:r})})}),t}function a(e){e=e.split("********************************************************")[0],e=e.replace(/.*\n/,""),e=e.replace(/\\\s*?\n\s*/g," "),e=e.replace(/\s*= A FUNCTION OF\(\s*/g,","),e=e.replace(/\)\s*?\n\s*~/g,"	~"),e=e.replace(/\t[~|].*/g,""),e=e.replace(" ~~|",""),e=e.replace(/,\s*?\n/g,"\n"),e=e.replace(/\n+/g,"\n"),e=e.trim();var t=e.split("\n"),n=t.map(function(e){var t=l["default"].parse(e);return t[0].map(s)});return n}function s(e){return p["default"](e.trim()).trim()}Object.defineProperty(t,"__esModule",{value:!0}),function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t["default"]=function(e){var t=o(e);return t};var u=n(1711),l=r(u),c=n(1712),p=r(c);e.exports=t["default"]},,,,,function(e){"use strict";function t(e){for(var t=!1,n=0;n<e.length;n++){var r=e.charAt(n);t&&/[a-zA-Z]/.test(r)&&r.toUpperCase()===r?(e=e.substr(0,n)+"-"+e.substr(n),t=!1,n++):t=r.toLowerCase()===r}return e}e.exports=function(){var e=[].map.call(arguments,function(e){return e.trim()}).filter(function(e){return e.length}).join("-");return e.length?1===e.length?e:/[_.\- ]+/.test(e)?(e=t(e),e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()})):e===e.toUpperCase()?e.toLowerCase():e[0]!==e[0].toLowerCase()?e[0].toLowerCase()+e.slice(1):e:""}},,,function(e){var t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.className="events-view",t.prototype.events={"click .undo":"onUndo"},t.prototype.initialize=function(){return this.listenTo(Events,"add",this.onEventAdded),this.listenTo(Events,"remove",this.onEventRemoved)},t.prototype.render=function(){return this.$el.html('<div class="status-message"></div>\n<button class="undo undo-btn btn btn-flat" title="Undo"><i class="icon-undo"></i></button>'),this.$status=this.$el.find(".status-message"),this.showLast({animate:!1}),this},t.prototype.show=function(e,t){var n;return null==t&&(t={animate:!0}),n=function(t){return function(){return t.$el.show().toggleClass("undoable",e.isUndoable()),t.$status.html(t.eventSummary(e))}}(this),t.animate?this.$el.animate({top:60},200,function(e){return function(){return n(),e.$el.animate({top:0},200)}}(this)):(n(),this.$el.css({top:0}))},t.prototype.showLast=function(e){return 0!==Events.length?this.show(Events.last(),e):void 0},t.prototype.onUndo=function(){return Workflows.undo()},t.prototype.onEventAdded=function(e){return this.show(e)},t.prototype.onEventRemoved=function(){return this.$el.hide("puff",{},200,function(e){return function(){return e.showLast()}}(this))},t.prototype.eventSummary=function(e){var t;return t={url:Gravatar.get(e.get("user").get("email_digest"),{size:24,encrypt:!1}),summary:marked(e.summary())},tim('<img class="avatar" src="{{url}}" /> {{summary}}',t)},t}(Backbone.View),e.exports=t},function(e,t,n){var r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=n(751),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.defaultCursor="default",t.prototype.intention=function(e){var t,n;return t=e.component,n=function(){switch(e.modifiers){case"SHIFT":case"META":return"select";case"ALT":case"SHIFT+META":if(null!=t?t.isNode():void 0)return"connect";if(null!=t?t.isLabel():void 0)return"move";break;case"ALT+SHIFT":return"zoom";case"ALT+SHIFT+META":return"pan";case"":return"unknown"}}(),n&&e.preventDefault(),n},t.prototype.accept=function(e){return this.action?this.action.accept(e):"zoom"!==this.intention(e)},t.prototype.onMouseMove=function(e){return this.action?void 0:this.setCursor(e.component?"pointer":this.defaultCursor)},t.prototype.onMouseDown=function(e){var t,n,r,i,o,a;return r=e.component,o=this.intention(e),n=currentScene.layout.editable&&able.to("update","maps"),a=currentMap.isReadOnly(),this.action=function(){switch(o){case"zoom":return new MouseActions.Zoom(this.model);case"select":return new MouseActions.DragSelect(this.model);case"connect":if((null!=r?r.isNode():void 0)&&n&&!a)return new MouseActions.Connect(this.model);break;default:return r&&n&&"pan"!==o&&(!a&&r.isEdge()&&(i=r,t=function(){switch(i.hitTarget(e.world.location)){case"head":return new MouseActions.Redirect(this.model,"to");case"tail":return new MouseActions.Redirect(this.model,"from");default:if(i.isPinned())return new MouseActions.Reshape(this.model)}}.call(this)),null==t&&(t=new MouseActions.Move(this.model))),null!=t?t:t=new MouseActions.Pan(this.model)}}.call(this),this.action?(this.setCursor(this.action.cursor),this.action.start(e)):void 0},t.prototype.onMouseDrag=function(e){var t;return null!=(t=this.action)?t.update(e):void 0},t.prototype.onMouseUp=function(e){var t;return null!=(t=this.action)&&t.finalize(e),this.action=null,this.setCursor(this.defaultCursor)},t.prototype.onMouseClick=function(e){return able.to("update","maps")&&!currentMap.isReadOnly()&&e.altKey&&!e.component?Workflows.beginAddElementAtEventLocation(e):t.__super__.onMouseClick.apply(this,arguments)},t.prototype.onContextMenu=function(e){var t;return e.preventDefault(),t={selection:map.getSelection(),component:e.component},renderContextMenu(React.createElement(MapContextMenu,t),{my:"left-20 top-20",at:"middle",of:e})},t.prototype.onMouseLeave=function(e){return!this.action||this.action.accept(e)?t.__super__.onMouseLeave.apply(this,arguments):void 0},t.prototype.onMouseHold=function(e){return this.handleFocusGesture(e.component,{reset:e.shiftKey||e.metaKey})},t.prototype.onTouchHold=function(e){return this.handleFocusGesture(e.component,{reset:!1})},t.prototype.handleFocusGesture=function(e,t){var n;return null==t&&(t={reset:!1}),e?(t.reset||!map.isFocused()?(currentScene.gravityOrigin=e.display.position.clone(),map.isFocused()&&(n=map.getFocusDegree()),map.select(e),map.setFocus({roots:[{root:e,degree:n}]})):(map.select(e),map.extend({root:e})),Workflows.onboard("focus")):(map.resetSelection(),map.isFocused()?map.resetFocus():void 0)},t.prototype.onMouseGesture=function(){},t.prototype.onTouch=function(){},t.prototype.onTouchDrag=function(e){return this.action||(this.action=new TouchBehaviors.Pan(this.model),this.action.start(e)),this.action.update(e)},t.prototype.onTouchPinch=function(e){return this.action||(this.action=new TouchBehaviors.Zoom(this.model),this.action.start(e)),this.action.update(e)},t.prototype.onTouchRelease=function(e){var t;return null!=(t=this.action)&&t.finalize(e),this.action=null,this.setCursor(this.defaultCursor)},t}(r),e.exports=i},function(e){var t=[].slice;e.exports=function(e){var n,r;return n=["_id","from","to","direction","delayed","attributes"],e.formalizeConnections=function(t){var n,r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(e.formalizeConnection(n));return o},e.formalizeConnection=function(i){var o,a;return i=e.clean(i),a=_.pick.apply(_,[i].concat(t.call(n))),o=_.omit.apply(_,[i].concat(t.call(n))),!o["connection type"]&&o.hasOwnProperty("type")&&(o["connection type"]=o.type,delete o.type),a.attributes=_.extend({},a.attributes,o),null!=a.from&&(a.from=r(a.from)),null!=a.to&&(a.to=r(a.to)),e.formalizeEntity(a),a},r=function(t){return!_.isObject(t)||t instanceof Element?t:e.formalizeElement(t)}}},function(e){var t=[].slice;e.exports=function(e){var n;return n=["id","from","to","direction","curvature"],e.formalizeEdges=function(t){var n,r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(e.formalizeEdge(n));return o},e.formalizeEdge=function(r){var i,o,a;return r=e.clean(r),a={},"object"!=typeof r&&(r={id:r}),o=_.pick.apply(_,[r].concat(t.call(n))),i=r.attributes||_.omit.apply(_,[r].concat(t.call(n))),_.extend(a,o),_.isEmpty(i)||_.extend(a,{attributes:i}),a}}},function(e){var t=[].slice;e.exports=function(e){var n;return n=["_id","attributes"],e.formalizeElements=function(t){var n,r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(e.formalizeElement(n));return o},e.formalizeElement=function(r){var i,o;return r=e.clean(r),o=_.pick.apply(_,[r].concat(t.call(n))),i=_.omit.apply(_,[r].concat(t.call(n))),!i["element type"]&&i.hasOwnProperty("type")&&(i["element type"]=i.type,delete i.type),o.attributes=_.extend({},i,o.attributes),e.formalizeEntity(o),o},e.deduplicateElements=function(t){var n;return n=function(e){return e.attributes.label},e.deduplicateCollection(t,n)}}},function(e){e.exports=function(e){var t;return t=["id","label","element type","connection type","loop type"],e.formalizeEntity=function(e){var n,r,i,o;
for(r=e.attributes,i=0,o=t.length;o>i;i++)n=t[i],null!=r[n]&&(r[n]=String(r[n]));return e}}},function(e){e.exports=function(e){return e.formalizeMaps=function(e){var t,n,r,i;for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(this.formalizeMap(r));return i},e.formalizeMap=function(t){var n;return n={},null!=t.elements&&(n.elements=e.formalizeNodes(t.elements)),null!=t.connections&&(n.connections=e.formalizeEdges(t.connections)),n}}},function(e){var t=[].slice;e.exports=function(e){var n;return n=["id","pinned","position"],e.formalizeNodes=function(e){var t,n,r,i;for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(this.formalizeNode(r));return i},e.formalizeNode=function(r){var i,o,a;return r=e.clean(r),a={},"object"!=typeof r&&(r={id:r}),o=_.pick.apply(_,[r].concat(t.call(n))),i=r.attributes||_.omit.apply(_,[r].concat(t.call(n))),null!=o.position&&null==o.pinned&&(o.pinned=!0),_.extend(a,o),_.isEmpty(i)||_.extend(a,{attributes:i}),a}}},function(e){var t;t=function(){function e(e){this["import"]=e}return e.prototype.prepare=function(e){var t,n,r;if(_.isString(e))try{t=JSON.parse(e)}catch(r){n=r,this["import"].flag("json-invalid"),raise("json-invalid")}else t=e;return t},e.prototype.validate=function(){},e.prototype.translate=function(e){return e},e}(),e.exports=t},function(e,t,n){var r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;i=n(651),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.prepare=function(e){var t,n,r,i;try{e=e.replace(/[\u201c\u201d]/g,'""').replace(/[\u2018\u2019]/g,"'").trim()+"\n",r=$.csv.toArrays(e)}catch(n){t=n,log.error("Unable to parse CSV"),log.error(t),raise("parse-error")}return i=[{name:"sheet1",data:r}]},t}(i),e.exports=r},function(e,t,n){var r,i,o,a,s,u,l,c,p,h,f,d,m,g,v=function(e,t){function n(){this.constructor=e}for(var r in t)y.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},y={}.hasOwnProperty;i=n(651),r={1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",5:"$#,##0_);($#,##0)",6:"$#,##0_);[Red]($#,##0)",7:"$#,##0.00_);($#,##0.00)",8:"$#,##0.00_);[Red]($#,##0.00)",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yyyy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yyyy h:mm",37:"#,##0_);(#,##0)",38:"#,##0_);[Red](#,##0)",39:"#,##0.00_);(#,##0.00)",40:"#,##0.00_);[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mm:ss.0",48:"##0.0E+0",49:"@"},o=function(){var e,t,n,r;return t=function(t){return r(t).then(n).then(e)},r=function(e){return new Promise(function(t,n){var r,i;return i=new zip.Data64URIReader(e),r=function(e){var r,i;try{return e.getEntries(t)}catch(i){return r=i,log.error("Unable to unzip xlsx import"),log.error(r),n(r)}finally{e.close()}},zip.createReader(i,r,n)})},n=function(e){var t,n;return n={date1904:!1,styles:null,shared:null,worksheets:[]},t=function(e){return new Promise(function(t,r){var i,o,a;i=function(r){var i,o;if(o=e.filename,i=_.last(o.split("/")),/xl[\/]worksheets[\/]sheet\d+.xml$/.test(o))n.worksheets.push({id:l(i),data:r});else switch(o){case"xl/_rels/workbook.xml.rels":n.rels=r;break;case"xl/sharedStrings.xml":n.shared=r;break;case"xl/styles.xml":n.styles=r;break;case"xl/workbook.xml":n.workbook=r}return t()};try{return e.getData(new zip.TextWriter("utf-8"),i)}catch(a){return o=a,log.error("Unable to read xlsx contents"),log.error(o),r(o)}})},When.map(e,t).then(function(){return n})},e=function(e){var t,n;return t=u(e),n=c(e),n=n.filter(function(e){return!e.hidden}),n.map(function(e){return{name:e.name,data:t[e.id]}})},{parse:t}}(),c=function(e){var t,n;return t=$(e.rels),n=$(e.workbook),n.find("sheet").toArray().map(function(e){var n,r,i,o,a,s;return n=$(e),s=n.attr("r:id"),o=n.attr("name"),a=t.find("[Id="+s+"]").attr("Target"),i=l(a),r=/hidden/i.test(n.attr("state")),{id:i,name:o,hidden:r}})},l=function(e){return e.match(/sheet(\d+)[.]xml/)[1]},p=function(e){var t;return t=$(e.styles),t.find("numFmt").map(function(){var e;return e=$(this),e.attr("formatCode")||r[e.attr("numFmtId")]})},s=function(e){var t;return t=$(e.shared),t.find("si").each(g),t.find("si > t").map(function(){return $(this).html()})},g=function(){var e,t;return e=$(this),0===e.find("> t").length?(t=e.find("r").map(function(){return $(this).find("t").html()}).toArray().join(""),e.html("<t>"+t+"</t>")):void 0},u=function(e){var t,n,r,i,o,a,u,l,c;for(a={},l=p(e),u=s(e),i=e.worksheets,n=0,r=i.length;r>n;n++)c=i[n],o=[],t=$(c.data),t.find("sheetData row").each(function(){var t,n,r;return r=[],t=$(this),t.find("c").each(function(){var t,n,i,o,a,s;return t=$(this),n=t.find("v"),0===n.length?s=t.find("is t").html():(s=n.html(),"s"===t.attr("t")&&(s=u[Number(s)]),(a=t.attr("s"))&&(o=l[Number(a)-1],s=m(s,o,e.date1904))),i=f(t.attr("r")),_.isString(s)&&(s=_.unescape(s)),r[i]=s}),n=Number(t.attr("r"))-1,o[n]=r}),a[c.id]=o;return a},f=function(e){var t,n,r,i,o,a;for(a=e.match(/[A-Z]+/)[0],o=function(e){return e.charCodeAt(0)-"A".charCodeAt(0)+1},n=0,r=i=a.length-1;i>=0;r=i+=-1)t=a[r],n+=o(t)*Math.pow(26,r);return n-=1},m=function(e,t,n){return h(e,t)?d(e,n)||e:e},h=function(e,t){return/.+([-\/]).+\1.+/.test(t)&&_.isFinite(e)},d=function(e,t){var n;return e=Math.floor(e),t&&(e+=1462),60===e?n=new Date(1900,1,29):(e>60&&(e-=1),n=new Date(1900,0,1,0,0,0),n.setDate(n.getDate()+e-1)),n},a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return v(t,e),t.prototype.prepare=function(e){return o.parse(e).then(function(e){return e})},t}(i),e.exports=a},function(e,t,n){var r,i,o,a,s,u,l,c=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty;l=n(635),r=n(1405),i=n(1406),o=n(652),a=n(1322),s={xlsx:n(2098),csv:n(2097),mdl:n(1876),spreadsheet:n(651),blueprint:n(2096)},s.json=s.blueprint,u=function(e){function t(e,n){null==n&&(n={}),t.__super__.constructor.call(this),this.options=n,this.transaction=new Transaction,this._flags=[],this._summary={status:"initialize",totals:{elements:{recognized:0,processed:0,saved:0,created:0,updated:0,errors:0},connections:{recognized:0,processed:0,saved:0,created:0,updated:0,errors:0}}},this.source(e)}return c(t,e),t.importers=s,t.FileSource=o,t.prototype.className="Import",t.prototype.defaults=function(){return{totalElementsIdentified:0}},t.prototype.summary=function(){return this._summary},t.prototype.counts=function(e){return this._summary.totals[e]},t.prototype.count=function(e,t,n){var r;return r=this.counts(e),null!=n?(r[t]=n,this):r[t]},t.prototype.increment=function(e,t){var n;return n=this.count(e,t)+1,this.count(e,t,n)},t.prototype.source=function(e){return null!=e?(e instanceof File&&(e=new o(e)),this._source=e,this):this._source},t.prototype.target=function(e){return null!=e?(this._target=e,this):this._target},t.prototype.format=function(e){var t;return null!=e?(this._format=e,this):this._format||("function"==typeof(t=this._source).format?t.format():void 0)||this.impliedFormat()},t.prototype.impliedFormat=function(){var e,t;return e=this.data(),_.isObject(e)?_.isArray(e)||null!=e.sheets?"spreadsheet":"blueprint":_.isString(e)?(t=e.split("\n")[0],t.startsWith("{")?"json":t.contains("	")?"tsv":"csv"):void 0},t.prototype.autoformat=function(){return this._format=void 0,this},t.prototype.as=function(e){return this.format(e)},t.prototype.flags=function(){return this._flags},t.prototype.data=function(){return this._data||this._source},t.prototype.model=function(){return this._model},t.prototype.blueprint=function(){return this._blueprint},t.prototype.handler=function(){return null!=this._handler?this._handler:this._handler=this.initializeHandler()},t.prototype.initializeHandler=function(){var e,t;return e=this.format(),t=s[e],t||raise("Unrecognized import. Please use xlsx or csv instead."),new t(this)},t.prototype.process=function(e){var t,n,r,i,o,a,s;return o=this,e=_.defaults({},e,{save:!1}),n=function(){return o.fetch()},i=function(){return o.prepare()},s=function(){return o.validate()},a=function(){return o.translate()},t=function(){return o.build()},r=function(){return e.save?o.save():void 0},n().then(i).then(s).then(a).then(t).then(r).otherwise(function(e){return o.error=e,raise(e)})},t.prototype.fetch=function(){var e,t,n;return t=this,n=this._source,log.debug("Fetch",this._source),e=function(){var e;return n.fetch?n.fetch():"string"==typeof n?(e=n,a.accept(e)?a.fetchTableData(e):$.getJSON(e)):n},l(e()).then(function(e){return log.debug("Fetch result",e),t._data=e})},t.prototype.prepare=function(){var e;return e=this,l["try"](function(){var t,n,r,i,o;return i=e.source(),o=null!=i&&"function"==typeof i.name?i.name():void 0,t=e.data(),n=e.format(),r=e.handler(),log.debug("Format",n),log.debug("Handler",r),r.prepare(t,o)}).then(function(t){return log.debug("Model",t),e._model=t})},t.prototype.validate=function(){var e;return e=this,l["try"](function(){var t;return t=e.handler(),"function"==typeof t.validate?t.validate(e._model):void 0})},t.prototype.translate=function(){var e;return e=this,l["try"](function(){var t;return t=e.handler(),("function"==typeof t.translate?t.translate(e._model):void 0)||e._model}).then(function(t){return log.debug("Blueprint",t),t=new r(t),t.formalize(),e._blueprint=t,e.count("elements","recognized",t.elements().length),e.count("connections","recognized",t.connections().length),e.update()})},t.prototype.build=function(){var e;return log.debug("Building",this._blueprint),e=this,l["try"](function(){return i.build(e._blueprint,e._target,e.transaction)})},t.prototype.save=function(){return log.debug("Saving",this.transaction),this.transaction.execute()},t.prototype.undo=function(){return this.transaction.undo()},t.prototype.cancel=function(){return this.undo()},t.prototype.flag=function(e,t){return e=_.extend({},t,{key:e}),this._flags.push(e)},t.prototype.isFlagged=function(){return this._flags.length>0},t.prototype.isRemote=function(){return"string"==typeof this._source},t.prototype.hasFlag=function(e){return _.any(this._flags,function(t){return t.key===e})},t.prototype.update=function(){return this.trigger("progress",this._summary)},t}(Backbone.Model),e.exports=u},,,function(e){var t;t=function(){function e(){var e;e=this,this._animate=function(){return e.animate()}}return e.prototype.start=function(e){var t;return this.animating()?void 0:(t=this,this.onStart(e),this.animate())},e.prototype.stop=function(){return this.animating()?(this.cancel(),this.onStop()):void 0},e.prototype.animating=function(){return null!=this.request},e.prototype.animate=function(){var e;return this.fps=1e3/((e=performance.now())-this.lastCall),this.lastCall=e,this.request=requestAnimationFrame(this._animate),this.update()},e.prototype.cancel=function(){return cancelAnimationFrame(this.request),this.request=null},e.prototype.onStart=function(e){return this.update=e},e.prototype.onStop=function(){},e}(),e.exports=t},,function(e){var t,n,r;r=function(e,t){var n;switch(n=1===arguments.length?e:Math.abs(e-t),!1){case!(1e-5>n):return 7;case!(1e-4>n):return 6;case!(.001>n):return 5;case!(.01>n):return 4;case!(5>n):return 3;case!(10>n):return 2;case!(20>n):return 1;default:return 0}},n=function(e,t){return _.isNaN(e)||null==e?"N/A":e%1===0?e:(null==t&&(t=r(e)),e.toFixed(t))},t=function(e,t){return n(e,r(t||e))},e.exports={precision:r,format:n,autoround:t}},,function(e,t,n){var r,i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,x,E,k=[].slice;if(a={},r={},p=function(e,t){var n,r,o,s;for(s=["defaults","validate","parse","format","compare","escaped"],r=0,o=s.length;o>r;r++)n=s[r],null==t[n]&&(t[n]=i.defaults[n]);return a[e]=t,u(e)},s=function(e,t){return r[e]=t},u=function(e){return new o(e,d(e))},d=function(e){return a[e]||a[r[e]]||function(){throw new Error("CastJS Error: Unknown type '"+e+"'")}()},x=function(){var e,t;e=[];for(t in a)e.push(t);return e},h=function(e,t){return d(null!=t?t:g(e))},g=function(e,t){return f(t,function(t){return t.validate(e)})},f=function(e,t){var n,r,o;for(null==e&&(e=i.defaults.precedence||x()),n=0,r=e.length;r>n;n++)if(o=e[n],t(u(o)))return o},o=function(){function e(e,t){this.type=e,this.definition=t,this.escaped=this.definition.escaped===!0}return e.prototype.validate=function(e){return this.definition.validate instanceof RegExp?this.definition.validate.test(e):this.definition.validate(e)},e.prototype.parse=function(e,t){return this.definition.parse(e,l(t,this.definition.defaults))},e.prototype.format=function(e,t){return this.definition.format(e,l(t,this.definition.defaults))},e.prototype.massage=function(e,t){return this.format(this.parse(e,t),t)},e.prototype.compare=function(e,t){return this.definition.compare(this.parse(e),this.parse(t))},e.prototype.sort=function(e){var t;return t=this,e.sort(function(e,n){return t.compare(e,n)})},e}(),"undefined"!=typeof _&&null!==_)for(E=function(e,t,n){return function(r,i,o){var a;return a=e.parse(r),t?t.call(n,a,i,o):a}},c=function(e){return o.prototype[e]=function(t,n,r){return _[e](t,E(this,n,r),r)}},b=["each","map","find","filter","reject","all","any","max","min","sortBy"],m=0,v=b.length;v>m;m++)y=b[m],c(y);l=function(){var e,t,n,r,i,o,a;for(n=arguments[0],o=2<=arguments.length?k.call(arguments,1):[],null==n&&(n={}),e=0,t=o.length;t>e;e++)if(i=o[e],null!=i)for(r in i)a=i[r],null==n[r]&&(n[r]=a);return n},i={defaults:{defaults:{},parse:function(e){return e},validate:function(){return!0},format:function(e){return String(e)},compare:function(e,t){return e-t},escaped:!1,precedence:null},define:p,alias:s,get:d,as:u,typeOf:g},w=n(1608),w.keys().forEach(function(e){return w(e)(i)}),e.exports=i},,,,,,,,,,function(e,t,n){var r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=n(435),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.defaults=function(){return{origin:null,radius:10}},t.prototype.position=function(e){var t;return t=this.get("origin")||getMap().getViewportCenterWorld(),e.position.randomizeAround(t,this.get("radius"))},t}(r.Model),e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;4>o;o++)n.push(8*r+6*o<=8*e.length?t.charAt(i>>>6*(3-o)&63):"=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},,,,,,,,,,,,function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".update-notification-bar{display:inline-block}.update-notification-bar .btn{font-size:10px;font-weight:700;text-transform:uppercase}",""])},function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".update-notification-view .avatar{width:20px;height:20px;margin-right:4px;border-radius:2px}.update-notification-view .markdown{display:inline-block}",""])},function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".attribute-selection-form ul{margin:0;padding:0;list-style:none}.attribute-selection-form .attribute{cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;line-height:24px}.attribute-selection-form .attribute.forced{cursor:default}.attribute-selection-form .attribute.active .attribute-name{opacity:1}.attribute-selection-form .attribute-name{transition:opacity .3s;max-width:200px;font-size:12px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;opacity:.5}",""])},function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".data-editor{overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;width:100vw;height:100vh}.data-editor .table-view{z-index:0;-webkit-box-flex:1;-ms-flex:1;flex:1;width:auto;margin:0}.data-editor-main{min-width:0;max-width:100%;-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:0 20px}.data-editor-table{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative}.data-editor-table.empty{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.data-editor-sidebar{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:0;transition:max-width .3s ease-in-out}.data-editor-sidebar .content{width:300px;height:100%;overflow-y:auto;padding:20px;padding-left:0}.data-editor-sidebar.isOpen{max-width:300px}.data-editor-modal-form textarea{height:60vh}.data-editor-modal-form footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.data-editor-radio-editor .input-group{margin-left:-13px}.data-editor-multiselect-editor li{cursor:pointer}.data-editor-header{z-index:2;margin:10px 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.data-editor-header .filter-icon{margin-left:10px}.data-editor-header .filter-input{border:0;background:none;box-shadow:none}.data-editor-header .type-select{-ms-flex-negative:0;flex-shrink:0}.data-editor-header .type-select>.btn{font-size:12px;text-transform:uppercase}.data-editor-footer{z-index:2;margin:10px 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.data-editor-footer .events-view{width:50vw}.data-editor-table th{cursor:pointer}.data-editor-cell .form-control{height:20px;padding:0;border:0;box-shadow:none}.data-editor-cell textarea{height:300px}.data-editor-cell.is-selected{border-color:#34b3eb!important}.data-editor-cell.is-editing{box-shadow:0 0 2px #34b3eb}.data-editor-cell-preview{cursor:default}",""])},function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".import-review h1{margin-top:60px;text-align:center}.import-review .import-review-summary{max-width:600px;margin:0 auto;margin-bottom:50px;text-align:center}.import-review footer{position:fixed;bottom:0;width:100%;padding:10px 20px;line-height:34px;background:hsla(0,0%,100%,.94)}.import-review .tabs-navigation{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border:0}.import-review .tabs-navigation .tabs-menu-item.is-active a{background-color:#3498db;border:0;border-radius:999px;color:#fff}.import-review .tab-panel{padding-bottom:80px}",""])},function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".import-review-table{width:96vw;overflow-x:auto;margin:0 auto;margin-top:20px;box-shadow:0 0 50px #eee;border:1px solid #eee}.import-review-table table{width:auto;margin:0;min-width:100%}.import-review-table td,.import-review-table th{min-width:80px;max-width:300px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;vertical-align:middle!important}.import-review-table td:first-child,.import-review-table th:first-child{min-width:0;text-align:right;font-family:verdana;font-weight:700;font-size:12px}.import-review-table thead th{border-bottom:2px solid #eee!important}.import-review-table tbody td{border-top:1px solid #eee!important}.import-review-table .alert-danger{background-color:#fce6e6}",""])},function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".import-review-warnings{max-width:600px;margin:50px auto 70px;text-align:left}.import-review-warning{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:40px}.import-review-warning i{width:80px;font-size:30px;text-align:center}.import-review-warning .content{-webkit-box-flex:1;-ms-flex:1;flex:1}.import-review-warning .message{margin:0;font-weight:400}.import-review-warning .message em{font-weight:700;font-style:normal}.import-review-warning .hint{color:#888}.import-review-warning[data-level=warn] i{color:orange}.import-review-warning[data-level=error] i{color:red}",""])},,function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".simple-switch{transition:background-color .3s ease-out;width:40px;height:20px;border-radius:20px;cursor:pointer}.simple-switch-toggle{transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;width:16px;height:16px;border-radius:16px;margin:2px;background-color:#fff}.simple-switch-on{background-color:#33b4eb}.simple-switch-on .simple-switch-toggle{-webkit-transform:translateX(20px);transform:translateX(20px)}.simple-switch-off{background-color:rgba(51,180,235,.2)}.simple-switch-off .simple-switch-toggle{-webkit-transform:translateX(0);transform:translateX(0)}",""])},function(e,t,n){t=e.exports=n(103)(),t.push([e.id,".tabs-navigation{max-height:40px;border-bottom:1px solid #ddd}.tabs-menu{display:table;list-style:none;padding:0;margin:0}.tabs-menu-item{float:left;margin-right:20px}.tabs-menu-item a{cursor:pointer;display:block;color:inherit;padding:0 40px;height:40px;line-height:40px;border-bottom:0;opacity:.5;text-decoration:none}.tabs-menu-item.is-active a{background:#fff;border:1px solid #ddd;border-top:2px solid #3498db;border-bottom:0;color:#3498db;opacity:1}.tabs-menu-item:not(.is-active) a:hover{opacity:1;text-decoration:none}.tab-panel{padding-top:20px}",""])},,,,function(e){"use strict";var t=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(t,"\\$&")}},,,,,,function(e,t,n){"use strict";var r=n(1257),i=new RegExp(r().source);e.exports=i.test.bind(i)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){function t(e){return!!e&&"object"==typeof e}function n(e,t){var n=null==e?void 0:e[t];return o(n)?n:void 0}function r(e){return i(e)&&p.call(e)==a}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return null!=e&&(r(e)?h.test(l.call(e)):t(e)&&s.test(e))}var a="[object Function]",s=/^\[object .+?Constructor\]$/,u=Object.prototype,l=Function.prototype.toString,c=u.hasOwnProperty,p=u.toString,h=RegExp("^"+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e){function t(e){return r(e)&&f.call(e,"callee")&&(!m.call(e,"callee")||d.call(e)==l)}function n(e){return null!=e&&o(e.length)&&!i(e)}function r(e){return s(e)&&n(e)}function i(e){var t=a(e)?d.call(e):"";return t==c||t==p}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return!!e&&"object"==typeof e}var u=9007199254740991,l="[object Arguments]",c="[object Function]",p="[object GeneratorFunction]",h=Object.prototype,f=h.hasOwnProperty,d=h.toString,m=h.propertyIsEnumerable;e.exports=t},function(e){function t(e){return!!e&&"object"==typeof e}function n(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function i(e){return o(e)&&f.call(e)==u}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(i(e)?d.test(p.call(e)):t(e)&&l.test(e))}var s="[object Array]",u="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,p=Function.prototype.toString,h=c.hasOwnProperty,f=c.toString,d=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=n(Array,"isArray"),g=9007199254740991,v=m||function(e){return t(e)&&r(e.length)&&f.call(e)==s};e.exports=v},function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&a(y(e))}function o(e,t){return e="number"==typeof e||f.test(e)?+e:-1,t=null==t?v:t,e>-1&&e%1==0&&t>e}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function s(e){for(var t=l(e),n=t.length,r=n&&e.length,i=!!r&&a(r)&&(h(e)||p(e)),s=-1,u=[];++s<n;){var c=t[s];(i&&o(c,r)||m.call(e,c))&&u.push(c)}return u}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(h(e)||p(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,s=Array(t),l=t>0;++r<t;)s[r]=r+"";for(var c in e)l&&o(c,t)||"constructor"==c&&(i||!m.call(e,c))||s.push(c);return s}var c=n(2311),p=n(2312),h=n(2313),f=/^\d+$/,d=Object.prototype,m=d.hasOwnProperty,g=c(Object,"keys"),v=9007199254740991,y=r("length"),b=g?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?s(e):u(e)?g(e):[]}:s;e.exports=b},function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.__data__=new i;++t<n;)this.push(e[t])}var i=n(525),o=n(2345);r.prototype.push=o,e.exports=r},,,function(e,t,n){function r(e,t){return!!e.length&&i(e,t,0)>-1}var i=n(2329);e.exports=r},function(e){function t(e,t,n){for(var r=-1,i=e.length;++r<i;)if(n(t,e[r]))return!0;return!1}e.exports=t},,function(e){function t(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=t},,function(e,t,n){function r(e,t,n){var r=e[t];a.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||(e[t]=n)}var i=n(529),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},,,,,,function(e,t,n){function r(e,t,n){if(t!==t)return i(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var i=n(2358);e.exports=r},,,,,,,,,function(e,t,n){function r(e,t,n,r){t=s(t,e)?[t]:o(t);for(var l=-1,c=t.length,p=c-1,h=e;null!=h&&++l<c;){var f=t[l];if(u(h)){var d=n;if(l!=p){var m=h[f];d=r?r(m,f,h):void 0,void 0===d&&(d=null==m?a(t[l+1])?[]:{}:m)}i(h,f,d)}h=h[f]}return e}var i=n(2323),o=n(677),a=n(450),s=n(451),u=n(230);e.exports=r},function(e){function t(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=t},,,,function(e,t,n){function r(e,t,n){var r=-1,p=o,h=e.length,f=!0,d=[],m=d;if(n)f=!1,p=a;else if(h>=c){var g=t?null:u(e);if(g)return l(g);f=!1,p=s,m=new i}else m=t?[]:d;e:for(;++r<h;){var v=e[r],y=t?t(v):v;if(f&&y===y){for(var b=m.length;b--;)if(m[b]===y)continue e;t&&m.push(y),d.push(v)}else p(m,y,n)||(m!==d&&m.push(y),d.push(v))}return d}var i=n(2315),o=n(2318),a=n(2319),s=n(2344),u=n(2352),l=n(793),c=200;e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;if(i(t)){var r=n.__data__,a="string"==typeof t?r.string:r.hash;return a[t]===o}return n.has(t)}var i=n(186),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){var t=this.__data__;if(i(e)){var n=t.__data__,r="string"==typeof e?n.string:n.hash;r[e]=o}else t.set(e,o)}var i=n(186),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}var i=n(2339);e.exports=r},,,,,function(e,t,n){function r(e){return function(t){t=s(t);var n=o.test(t)?a(t):void 0,r=n?n[0]:t.charAt(0),u=n?i(n,1).join(""):t.slice(1);return r[e]()+u}}var i=n(2346),o=n(2363),a=n(2369),s=n(343);e.exports=r},function(e,t,n){var r=n(669),i=n(2380),o=r&&2===new r([1,2]).size?function(e){return new r(e)}:i;e.exports=o},function(e){function t(e){return n[e]}var n={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"};e.exports=t},,,,,function(e){function t(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}e.exports=t},,,,,function(e){var t="\\ud800-\\udfff",n="\\u0300-\\u036f\\ufe20-\\ufe23",r="\\u20d0-\\u20f0",i="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+n+r+i+"]");e.exports=a},,,,,,function(e){function t(e){return e.match(b)}var n="\\ud800-\\udfff",r="\\u0300-\\u036f\\ufe20-\\ufe23",i="\\u20d0-\\u20f0",o="\\ufe0e\\ufe0f",a="["+n+"]",s="["+r+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+n+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",d=l+"?",m="["+o+"]?",g="(?:"+f+"(?:"+[c,p,h].join("|")+")"+m+d+")*",v=m+d+g,y="(?:"+[c+s+"?",s,p,h,a].join("|")+")",b=RegExp(u+"(?="+u+")|"+y+v,"g");e.exports=t},function(e,t,n){var r=n(2371),i=n(1457),o=i(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)});e.exports=o},function(e,t,n){function r(e){return o(i(e).toLowerCase())}var i=n(343),o=n(2389);e.exports=r},function(e){function t(e){return function(){return e}}e.exports=t},function(e,t,n){function r(e){return e=o(e),e&&e.replace(a,i).replace(c,"")}var i=n(2353),o=n(343),a=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,s="\\u0300-\\u036f\\ufe20-\\ufe23",u="\\u20d0-\\u20f0",l="["+s+u+"]",c=RegExp(l,"g");e.exports=r},,,function(e,t,n){(function(e){var r=n(2372),i=n(118),o={"function":!0,object:!0},a=o[typeof t]&&t&&!t.nodeType?t:void 0,s=o[typeof e]&&e&&!e.nodeType?e:void 0,u=s&&s.exports===a?a:void 0,l=u?i.Buffer:void 0,c=l?function(e){return e instanceof l}:r(!1);e.exports=c}).call(t,n(66)(e))},function(e,t,n){function r(e){if(s(e)&&(a(e)||p(e)||l(e.splice)||o(e)||u(e)))return!e.length;if(c(e)){var t=i(e);if(t==f||t==d)return!e.size}for(var n in e)if(g.call(e,n))return!1;return!(y&&h(e).length)}var i=n(782),o=n(452),a=n(113),s=n(250),u=n(2376),l=n(289),c=n(187),p=n(530),h=n(531),f="[object Map]",d="[object Set]",m=Object.prototype,g=m.hasOwnProperty,v=m.propertyIsEnumerable,y=!v.call({valueOf:1},"valueOf");e.exports=r},,function(e,t,n){var r=n(1457),i=r(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=i},function(e){function t(){}e.exports=t},,,function(e,t,n){function r(e,t,n){return null==e?e:i(e,t,n)}var i=n(2338);e.exports=r},,,,,function(e,t,n){function r(e){return e&&e.length?i(e):[]}var i=n(2343);e.exports=r},function(e,t,n){var r=n(2351),i=r("toUpperCase");e.exports=i},function(e,t,n){function r(e,t,n){return e=i(e),t=n?void 0:t,void 0===t&&(t=U.test(e)?z:o),e.match(t)||[]}var i=n(343),o=/[a-zA-Z0-9]+/g,a="\\ud800-\\udfff",s="\\u0300-\\u036f\\ufe20-\\ufe23",u="\\u20d0-\\u20f0",l="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",p="\\xac\\xb1\\xd7\\xf7",h="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2018\\u2019\\u201c\\u201d",d=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",m="A-Z\\xc0-\\xd6\\xd8-\\xde",g="\\ufe0e\\ufe0f",v=p+h+f+d,y="['\u2019]",b="["+v+"]",w="["+s+u+"]",_="\\d+",x="["+l+"]",E="["+c+"]",k="[^"+a+v+_+l+c+m+"]",C="\\ud83c[\\udffb-\\udfff]",A="(?:"+w+"|"+C+")",S="[^"+a+"]",M="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",D="["+m+"]",O="\\u200d",L="(?:"+E+"|"+k+")",F="(?:"+D+"|"+k+")",P="(?:"+y+"(?:d|ll|m|re|s|t|ve))?",N="(?:"+y+"(?:D|LL|M|RE|S|T|VE))?",B=A+"?",R="["+g+"]?",j="(?:"+O+"(?:"+[S,M,T].join("|")+")"+R+B+")*",I=R+B+j,$="(?:"+[x,M,T].join("|")+")"+I,z=RegExp([D+"?"+E+"+"+P+"(?="+[b,D,"$"].join("|")+")",F+"+"+N+"(?="+[b,D+L,"$"].join("|")+")",D+"?"+L+"+"+P,D+"+"+N,_,$].join("|"),"g"),U=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
e.exports=r},function(e,t,n){!function(){var t=n(2245),r=n(1404).utf8,i=n(771),o=n(1404).bin,a=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),u=8*e.length,l=1732584193,c=-271733879,p=-1732584194,h=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[u>>>5]|=128<<u%32,s[(u+64>>>9<<4)+14]=u;for(var d=a._ff,m=a._gg,g=a._hh,v=a._ii,f=0;f<s.length;f+=16){var y=l,b=c,w=p,_=h;l=d(l,c,p,h,s[f+0],7,-680876936),h=d(h,l,c,p,s[f+1],12,-389564586),p=d(p,h,l,c,s[f+2],17,606105819),c=d(c,p,h,l,s[f+3],22,-1044525330),l=d(l,c,p,h,s[f+4],7,-176418897),h=d(h,l,c,p,s[f+5],12,1200080426),p=d(p,h,l,c,s[f+6],17,-1473231341),c=d(c,p,h,l,s[f+7],22,-45705983),l=d(l,c,p,h,s[f+8],7,1770035416),h=d(h,l,c,p,s[f+9],12,-1958414417),p=d(p,h,l,c,s[f+10],17,-42063),c=d(c,p,h,l,s[f+11],22,-1990404162),l=d(l,c,p,h,s[f+12],7,1804603682),h=d(h,l,c,p,s[f+13],12,-40341101),p=d(p,h,l,c,s[f+14],17,-1502002290),c=d(c,p,h,l,s[f+15],22,1236535329),l=m(l,c,p,h,s[f+1],5,-165796510),h=m(h,l,c,p,s[f+6],9,-1069501632),p=m(p,h,l,c,s[f+11],14,643717713),c=m(c,p,h,l,s[f+0],20,-373897302),l=m(l,c,p,h,s[f+5],5,-701558691),h=m(h,l,c,p,s[f+10],9,38016083),p=m(p,h,l,c,s[f+15],14,-660478335),c=m(c,p,h,l,s[f+4],20,-405537848),l=m(l,c,p,h,s[f+9],5,568446438),h=m(h,l,c,p,s[f+14],9,-1019803690),p=m(p,h,l,c,s[f+3],14,-187363961),c=m(c,p,h,l,s[f+8],20,1163531501),l=m(l,c,p,h,s[f+13],5,-1444681467),h=m(h,l,c,p,s[f+2],9,-51403784),p=m(p,h,l,c,s[f+7],14,1735328473),c=m(c,p,h,l,s[f+12],20,-1926607734),l=g(l,c,p,h,s[f+5],4,-378558),h=g(h,l,c,p,s[f+8],11,-2022574463),p=g(p,h,l,c,s[f+11],16,1839030562),c=g(c,p,h,l,s[f+14],23,-35309556),l=g(l,c,p,h,s[f+1],4,-1530992060),h=g(h,l,c,p,s[f+4],11,1272893353),p=g(p,h,l,c,s[f+7],16,-155497632),c=g(c,p,h,l,s[f+10],23,-1094730640),l=g(l,c,p,h,s[f+13],4,681279174),h=g(h,l,c,p,s[f+0],11,-358537222),p=g(p,h,l,c,s[f+3],16,-722521979),c=g(c,p,h,l,s[f+6],23,76029189),l=g(l,c,p,h,s[f+9],4,-640364487),h=g(h,l,c,p,s[f+12],11,-421815835),p=g(p,h,l,c,s[f+15],16,530742520),c=g(c,p,h,l,s[f+2],23,-995338651),l=v(l,c,p,h,s[f+0],6,-198630844),h=v(h,l,c,p,s[f+7],10,1126891415),p=v(p,h,l,c,s[f+14],15,-1416354905),c=v(c,p,h,l,s[f+5],21,-57434055),l=v(l,c,p,h,s[f+12],6,1700485571),h=v(h,l,c,p,s[f+3],10,-1894986606),p=v(p,h,l,c,s[f+10],15,-1051523),c=v(c,p,h,l,s[f+1],21,-2054922799),l=v(l,c,p,h,s[f+8],6,1873313359),h=v(h,l,c,p,s[f+15],10,-30611744),p=v(p,h,l,c,s[f+6],15,-1560198380),c=v(c,p,h,l,s[f+13],21,1309151649),l=v(l,c,p,h,s[f+4],6,-145523070),h=v(h,l,c,p,s[f+11],10,-1120210379),p=v(p,h,l,c,s[f+2],15,718787259),c=v(c,p,h,l,s[f+9],21,-343485551),l=l+y>>>0,c=c+b>>>0,p=p+w>>>0,h=h+_>>>0}return t.endian([l,c,p,h])};a._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if("undefined"!=typeof e){var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):t.bytesToHex(r)}}}()},,,function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./af":1463,"./af.js":1463,"./ar":1467,"./ar-ma":1464,"./ar-ma.js":1464,"./ar-sa":1465,"./ar-sa.js":1465,"./ar-tn":1466,"./ar-tn.js":1466,"./ar.js":1467,"./az":1468,"./az.js":1468,"./be":1469,"./be.js":1469,"./bg":1470,"./bg.js":1470,"./bn":1471,"./bn.js":1471,"./bo":1472,"./bo.js":1472,"./br":1473,"./br.js":1473,"./bs":1474,"./bs.js":1474,"./ca":1475,"./ca.js":1475,"./cs":1476,"./cs.js":1476,"./cv":1477,"./cv.js":1477,"./cy":1478,"./cy.js":1478,"./da":1479,"./da.js":1479,"./de":1481,"./de-at":1480,"./de-at.js":1480,"./de.js":1481,"./el":1482,"./el.js":1482,"./en-au":1483,"./en-au.js":1483,"./en-ca":1484,"./en-ca.js":1484,"./en-gb":1485,"./en-gb.js":1485,"./eo":1486,"./eo.js":1486,"./es":1487,"./es.js":1487,"./et":1488,"./et.js":1488,"./eu":1489,"./eu.js":1489,"./fa":1490,"./fa.js":1490,"./fi":1491,"./fi.js":1491,"./fo":1492,"./fo.js":1492,"./fr":1494,"./fr-ca":1493,"./fr-ca.js":1493,"./fr.js":1494,"./fy":1495,"./fy.js":1495,"./gl":1496,"./gl.js":1496,"./he":1497,"./he.js":1497,"./hi":1498,"./hi.js":1498,"./hr":1499,"./hr.js":1499,"./hu":1500,"./hu.js":1500,"./hy-am":1501,"./hy-am.js":1501,"./id":1502,"./id.js":1502,"./is":1503,"./is.js":1503,"./it":1504,"./it.js":1504,"./ja":1505,"./ja.js":1505,"./jv":1506,"./jv.js":1506,"./ka":1507,"./ka.js":1507,"./km":1508,"./km.js":1508,"./ko":1509,"./ko.js":1509,"./lb":1510,"./lb.js":1510,"./lt":1511,"./lt.js":1511,"./lv":1512,"./lv.js":1512,"./me":1513,"./me.js":1513,"./mk":1514,"./mk.js":1514,"./ml":1515,"./ml.js":1515,"./mr":1516,"./mr.js":1516,"./ms":1518,"./ms-my":1517,"./ms-my.js":1517,"./ms.js":1518,"./my":1519,"./my.js":1519,"./nb":1520,"./nb.js":1520,"./ne":1521,"./ne.js":1521,"./nl":1522,"./nl.js":1522,"./nn":1523,"./nn.js":1523,"./pl":1524,"./pl.js":1524,"./pt":1526,"./pt-br":1525,"./pt-br.js":1525,"./pt.js":1526,"./ro":1527,"./ro.js":1527,"./ru":1528,"./ru.js":1528,"./si":1529,"./si.js":1529,"./sk":1530,"./sk.js":1530,"./sl":1531,"./sl.js":1531,"./sq":1532,"./sq.js":1532,"./sr":1534,"./sr-cyrl":1533,"./sr-cyrl.js":1533,"./sr.js":1534,"./sv":1535,"./sv.js":1535,"./ta":1536,"./ta.js":1536,"./th":1537,"./th.js":1537,"./tl-ph":1538,"./tl-ph.js":1538,"./tr":1539,"./tr.js":1539,"./tzl":1540,"./tzl.js":1540,"./tzm":1542,"./tzm-latn":1541,"./tzm-latn.js":1541,"./tzm.js":1542,"./uk":1543,"./uk.js":1543,"./uz":1544,"./uz.js":1544,"./vi":1545,"./vi.js":1545,"./zh-cn":1546,"./zh-cn.js":1546,"./zh-tw":1547,"./zh-tw.js":1547};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=2394},,,,,,,,,,,,,,function(e,t,n){var r=n(1151),i=function(e,t){var n=t.prop.slice(1);e[n]=t.value,t.remove()},o=function(e,t,n,r,i,o){if(i.only)return"undefined"!=typeof i.only[r]?i.only[r]:n;if("undefined"!=typeof e[r])return e[r];if(i.silent)return n;var a=i.unknown(t,r,o);return a?a:n},a=function(e,t,n,r,i){return n.replace(/(^|[^\w])\$([\w\d-_]+)/g,function(n,a,s){return a+o(e,t,"$"+s,s,r,i)})},s=function(e,t,n,r,i){return n.replace(/\$\(\s*([\w\d-_]+)\s*\)/g,function(n,a){return o(e,t,n,a,r,i)})},u=function(e,t,n,r,i){return n=a(e,t,n,r,i),n=s(e,t,n,r,i)},l=function(e,t,n,r){t.value=u(e,t,t.value,n,r)},c=function(e,t,n,r){t.prop=s(e,t,t.prop,n,r)},p=function(e,t,n,r){t.selector=u(e,t,t.selector,n,r)},h=function(e,t,n,r){t.params=u(e,t,t.params,n,r)};e.exports=r.plugin("postcss-simple-vars",function(e){return"undefined"==typeof e&&(e={}),e.unknown||(e.unknown=function(e,t){throw e.error("Undefined variable $"+t)}),function(t,n){var r={};if("function"==typeof e.variables)r=e.variables();else if("object"==typeof e.variables)for(var o in e.variables)r[o]=e.variables[o];for(var a in r)if("$"===a[0]){var s=a.slice(1);r[s]=r[a],delete r[a]}t.walk(function(t){"decl"===t.type?(-1!==t.value.toString().indexOf("$")&&l(r,t,e,n),-1!==t.prop.indexOf("$(")?c(r,t,e,n):"$"===t.prop[0]&&(e.only||i(r,t))):"rule"===t.type?-1!==t.selector.indexOf("$")&&p(r,t,e,n):"atrule"===t.type&&t.params&&-1!==t.params.indexOf("$")&&h(r,t,e,n)}),e.onVariables&&e.onVariables(r)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(1452),a=n(1575),s=r(a),u=n(593),l=r(u),c=function(){function e(t,n,r){i(this,e),this.stringify=t,this.mapOpts=r.map||{},this.root=n,this.opts=r}return e.prototype.isMap=function(){return"undefined"!=typeof this.opts.map?!!this.opts.map:this.previous().length>0},e.prototype.previous=function(){var e=this;return this.previousMaps||(this.previousMaps=[],this.root.walk(function(t){if(t.source&&t.source.input.map){var n=t.source.input.map;-1===e.previousMaps.indexOf(n)&&e.previousMaps.push(n)}})),this.previousMaps},e.prototype.isInline=function(){if("undefined"!=typeof this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return!("undefined"!=typeof e&&e!==!0||this.previous().length&&!this.previous().some(function(e){return e.inline}))},e.prototype.isSourcesContent=function(){return"undefined"!=typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})},e.prototype.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)for(var e=void 0,t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)},e.prototype.setSourcesContent=function(){var e=this,t={};this.root.walk(function(n){if(n.source){var r=n.source.input.from;if(r&&!t[r]){t[r]=!0;var i=e.relative(r);e.map.setSourceContent(i,n.source.input.css)}}})},e.prototype.applyPrevMaps=function(){for(var e=this.previous(),t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var i=r,o=this.relative(i.file),a=i.root||l["default"].dirname(i.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new s["default"].SourceMapConsumer(i.text),u.sourcesContent&&(u.sourcesContent=u.sourcesContent.map(function(){return null}))):u=i.consumer(),this.map.applySourceMap(u,o,this.relative(a))}},e.prototype.isAnnotation=function(){return!!this.isInline()||("undefined"!=typeof this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))},e.prototype.addAnnotation=function(){var e=void 0;e=this.isInline()?"data:application/json;base64,"+o.Base64.encode(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.outputFile()+".map";var t="\n";-1!==this.css.indexOf("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"},e.prototype.outputFile=function(){return this.opts.to?this.relative(this.opts.to):this.opts.from?this.relative(this.opts.from):"to.css"},e.prototype.generateMap=function(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},e.prototype.relative=function(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;var t=this.opts.to?l["default"].dirname(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=l["default"].dirname(l["default"].resolve(t,this.mapOpts.annotation))),e=l["default"].relative(t,e),"\\"===l["default"].sep?e.replace(/\\/g,"/"):e},e.prototype.sourcePath=function(e){return this.mapOpts.from?this.mapOpts.from:this.relative(e.source.input.from)},e.prototype.generateString=function(){var e=this;this.css="",this.map=new s["default"].SourceMapGenerator({file:this.outputFile()});var t=1,n=1,r=void 0,i=void 0;this.stringify(this.root,function(o,a,s){e.css+=o,a&&"end"!==s&&e.map.addMapping(a.source&&a.source.start?{source:e.sourcePath(a),generated:{line:t,column:n-1},original:{line:a.source.start.line,column:a.source.start.column-1}}:{source:"<no source>",original:{line:1,column:0},generated:{line:t,column:n-1}}),r=o.match(/\n/g),r?(t+=r.length,i=o.lastIndexOf("\n"),n=o.length-i):n+=o.length,a&&"start"!==s&&e.map.addMapping(a.source&&a.source.end?{source:e.sourcePath(a),generated:{line:t,column:n-1},original:{line:a.source.end.line,column:a.source.end.column}}:{source:"<no source>",original:{line:1,column:0},generated:{line:t,column:n-1}})})},e.prototype.generate=function(){if(this.clearAnnotation(),this.isMap())return this.generateMap();var e="";return this.stringify(this.root,function(t){e+=t}),[e]},e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(1148),a=r(o),s=n(1557),u=r(s),l=n(1146),c=r(l),p=n(682),h=r(p),f=n(1152),d=r(f),m=n(683),g=r(m),v=function(){function e(t){i(this,e),this.input=t,this.pos=0,this.root=new d["default"],this.current=this.root,this.spaces="",this.semicolon=!1,this.root.source={input:t,start:{line:1,column:1}}}return e.prototype.tokenize=function(){this.tokens=u["default"](this.input)},e.prototype.loop=function(){for(var e=void 0;this.pos<this.tokens.length;){switch(e=this.tokens[this.pos],e[0]){case"space":case";":this.spaces+=e[1];break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other()}this.pos+=1}this.endFile()},e.prototype.comment=function(e){var t=new c["default"];this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{var r=n.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}},e.prototype.emptyRule=function(e){var t=new g["default"];this.init(t,e[2],e[3]),t.selector="",t.raws.between="",this.current=t},e.prototype.other=function(){for(var e=void 0,t=!1,n=null,r=!1,i=null,o=[],a=this.pos;this.pos<this.tokens.length;){if(e=this.tokens[this.pos],n=e[0],"("===n||"["===n)i||(i=e),o.push("("===n?")":"]");else if(0===o.length){if(";"===n){if(r)return void this.decl(this.tokens.slice(a,this.pos+1));break}if("{"===n)return void this.rule(this.tokens.slice(a,this.pos+1));if("}"===n){this.pos-=1,t=!0;break}":"===n&&(r=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(i=null));this.pos+=1}if(this.pos===this.tokens.length&&(this.pos-=1,t=!0),o.length>0&&this.unclosedBracket(i),t&&r){for(;this.pos>a&&(e=this.tokens[this.pos][0],"space"===e||"comment"===e);)this.pos-=1;return void this.decl(this.tokens.slice(a,this.pos+1))}this.unknownWord(a)},e.prototype.rule=function(e){e.pop();var t=new g["default"];this.init(t,e[0][2],e[0][3]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t},e.prototype.decl=function(e){var t=new a["default"];this.init(t);var n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),t.source.end=n[4]?{line:n[4],column:n[5]}:{line:n[2],column:n[3]};"word"!==e[0][0];)t.raws.before+=e.shift()[1];for(t.source.start={line:e[0][2],column:e[0][3]},t.prop="";e.length;){var r=e[0][0];if(":"===r||"space"===r||"comment"===r)break;t.prop+=e.shift()[1]}t.raws.between="";for(var i=void 0;e.length;){if(i=e.shift(),":"===i[0]){t.raws.between+=i[1];break}t.raws.between+=i[1]}"_"!==t.prop[0]&&"*"!==t.prop[0]||(t.raws.before+=t.prop[0],t.prop=t.prop.slice(1)),t.raws.between+=this.spacesAndCommentsFromStart(e),this.precheckMissedSemicolon(e);for(var o=e.length-1;o>0;o--){if(i=e[o],"!important"===i[1]){t.important=!0;var s=this.stringFrom(e,o);s=this.spacesFromEnd(e)+s," !important"!==s&&(t.raws.important=s);break}if("important"===i[1]){for(var u=e.slice(0),l="",c=o;c>0;c--){var p=u[c][0];if(0===l.trim().indexOf("!")&&"space"!==p)break;l=u.pop()[1]+l}0===l.trim().indexOf("!")&&(t.important=!0,t.raws.important=l,e=u)}if("space"!==i[0]&&"comment"!==i[0])break}this.raw(t,"value",e),-1!==t.value.indexOf(":")&&this.checkMissedSemicolon(e)},e.prototype.atrule=function(e){var t=new h["default"];t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2],e[3]);var n=!1,r=!1,i=[];for(this.pos+=1;this.pos<this.tokens.length;){if(e=this.tokens[this.pos],";"===e[0]){t.source.end={line:e[2],column:e[3]},this.semicolon=!0;break}if("{"===e[0]){r=!0;break}if("}"===e[0]){this.end(e);break}i.push(e),this.pos+=1}this.pos===this.tokens.length&&(n=!0),t.raws.between=this.spacesAndCommentsFromEnd(i),i.length?(t.raws.afterName=this.spacesAndCommentsFromStart(i),this.raw(t,"params",i),n&&(e=i[i.length-1],t.source.end={line:e[4],column:e[5]},this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),r&&(t.nodes=[],this.current=t)},e.prototype.end=function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end={line:e[2],column:e[3]},this.current=this.current.parent):this.unexpectedClose(e)},e.prototype.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces},e.prototype.init=function(e,t,n){this.current.push(e),e.source={start:{line:t,column:n},input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)},e.prototype.raw=function t(e,n,r){for(var i=void 0,o=void 0,a=r.length,s="",u=!0,l=0;a>l;l+=1)i=r[l],o=i[0],"comment"===o||"space"===o&&l===a-1?u=!1:s+=i[1];if(!u){var t=r.reduce(function(e,t){return e+t[1]},"");e.raws[n]={value:s,raw:t}}e[n]=s},e.prototype.spacesAndCommentsFromEnd=function(e){for(var t=void 0,n="";e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)n=e.pop()[1]+n;return n},e.prototype.spacesAndCommentsFromStart=function(e){for(var t=void 0,n="";e.length&&(t=e[0][0],"space"===t||"comment"===t);)n+=e.shift()[1];return n},e.prototype.spacesFromEnd=function(e){for(var t=void 0,n="";e.length&&(t=e[e.length-1][0],"space"===t);)n=e.pop()[1]+n;return n},e.prototype.stringFrom=function(e,t){for(var n="",r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n},e.prototype.colon=function(e){for(var t=0,n=void 0,r=void 0,i=void 0,o=0;o<e.length;o++){if(n=e[o],r=n[0],"("===r)t+=1;else if(")"===r)t-=1;else if(0===t&&":"===r){if(i){if("word"===i[0]&&"progid"===i[1])continue;return o}this.doubleColon(n)}i=n}return!1},e.prototype.unclosedBracket=function(e){throw this.input.error("Unclosed bracket",e[2],e[3])},e.prototype.unknownWord=function(e){var t=this.tokens[e];throw this.input.error("Unknown word",t[2],t[3])},e.prototype.unexpectedClose=function(e){throw this.input.error("Unexpected }",e[2],e[3])},e.prototype.unclosedBlock=function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)},e.prototype.doubleColon=function(e){throw this.input.error("Double colon",e[2],e[3])},e.prototype.unnamedAtrule=function(e,t){throw this.input.error("At-rule without name",t[2],t[3])},e.prototype.precheckMissedSemicolon=function(){},e.prototype.checkMissedSemicolon=function(e){var t=this.colon(e);if(t!==!1){for(var n=0,r=void 0,i=t-1;i>=0&&(r=e[i],"space"===r[0]||(n+=1,2!==n));i--);throw this.input.error("Missed semicolon",r[2],r[3])}},e}();t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(1452),s=n(1575),u=r(s),l=n(593),c=r(l),p=n(2551),h=r(p),f=function(){function e(t,n){i(this,e),this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");var r=n.map?n.map.prev:void 0,o=this.loadMap(n.from,r);o&&(this.text=o)}return e.prototype.consumer=function(){return this.consumerCache||(this.consumerCache=new u["default"].SourceMapConsumer(this.text)),this.consumerCache},e.prototype.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e.prototype.startWith=function(e,t){return!!e&&e.substr(0,t.length)===t},e.prototype.loadAnnotation=function(e){var t=e.match(/\/\*\s*# sourceMappingURL=(.*)\s*\*\//);t&&(this.annotation=t[1].trim())},e.prototype.decodeInline=function(e){var t="data:application/json;charset=utf-8;base64,",n="data:application/json;charset=utf8;base64,",r="data:application/json;base64,",i="data:application/json,";if(this.startWith(e,i))return decodeURIComponent(e.substr(i.length));if(this.startWith(e,r))return a.Base64.decode(e.substr(r.length));if(this.startWith(e,n))return a.Base64.decode(e.substr(n.length));if(this.startWith(e,t))return a.Base64.decode(e.substr(t.length));var o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)},e.prototype.loadMap=function(e,t){if(t===!1)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){var n=t(e);if(n&&h["default"].existsSync&&h["default"].existsSync(n))return h["default"].readFileSync(n,"utf-8").toString().trim();throw new Error("Unable to load previous source map: "+n.toString())}if(t instanceof u["default"].SourceMapConsumer)return u["default"].SourceMapGenerator.fromSourceMap(t).toString();if(t instanceof u["default"].SourceMapGenerator)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var r=this.annotation;return e&&(r=c["default"].join(c["default"].dirname(e),r)),this.root=c["default"].dirname(r),!(!h["default"].existsSync||!h["default"].existsSync(r))&&h["default"].readFileSync(r,"utf-8").toString().trim()}},e.prototype.isMap=function(e){return"object"===("undefined"==typeof e?"undefined":o(e))&&("string"==typeof e.mappings||"string"==typeof e._mappings)},e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2415),s=r(a),u=function(){function e(t,n,r){i(this,e),this.processor=t,this.messages=[],this.root=n,this.opts=r,this.css=void 0,this.map=void 0}return e.prototype.toString=function(){return this.css},e.prototype.warn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var n=new s["default"](e,t);return this.messages.push(n),n},e.prototype.warnings=function(){return this.messages.filter(function(e){return"warning"===e.type})},o(e,[{key:"content",get:function(){return this.css}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var r=e[0],i=e[1];if("word"===r){if("."===i[0])return"class";if("#"===i[0])return"hash"}var o=n[t+1];return!o||"brackets"!==o[0]&&"("!==o[0]?r:"call"}function o(e){var t=l["default"](new p["default"](e),{ignoreErrors:!0});return t.map(function(e,n){var r=f[i(e,n,t)];return r?e[1].split(/\r?\n/).map(function(e){return r(e)}).join("\n"):e[1]}).join("")}t.__esModule=!0;var a=n(1403),s=r(a),u=n(1557),l=r(u),c=n(1552),p=r(c),h=new s["default"].constructor({enabled:!0}),f={brackets:h.cyan,"at-word":h.cyan,call:h.cyan,comment:h.gray,string:h.green,"class":h.yellow,hash:h.magenta,"(":h.cyan,")":h.cyan,"{":h.yellow,"}":h.yellow,"[":h.yellow,"]":h.yellow,":":h.yellow,";":h.yellow};t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n={prefix:function(e){var t=e.match(/^(-\w+-)/);return t?t[0]:""},unprefixed:function(e){return e.replace(/^-\w+-/,"")}};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),this.type="warning",this.text=t,r.node&&r.node.source){var i=r.node.positionBy(r);this.line=i.line,this.column=i.column}for(var o in r)this[o]=r[o]}return e.prototype.toString=function(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}();t["default"]=r,e.exports=t["default"]},,,,,,function(e,t,n){e.exports=n(2425)},,,function(e,t,n){"use strict";var r=n(291),i={getChildMapping:function(e){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}};e.exports=i},function(e,t,n){"use strict";var r=n(7),i=n(234),o=n(2424),a=n(22),s=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=o.getChildMapping(e.children),n=this.state.children;this.setState({children:o.mergeChildMappings(n,t)});var r;for(r in t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=t&&t.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(i.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}return i.createElement(this.props.component,this.props,e)}});e.exports=s},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a=e(n,r,i),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=s["default"].apply(void 0,l)(a.dispatch),o({},a,{dispatch:u})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(1566),s=r(a)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var a=r[o],s=e[a];"function"==typeof s&&(i[a]=n(s,t))}return i}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{o(n)}catch(l){s=l}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,o={},a=0;a<u.length;a++){var l=u[a],c=n[l],p=e[l],h=c(p,t);if("undefined"==typeof h){var f=i(l,t);throw new Error(f)}o[l]=h,r=r||h!==p}return r?o:e}}t.__esModule=!0,t["default"]=a;var s=n(1567),u=n(1462),l=(r(u),n(1569));r(l)},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2314);e.exports=function(e,t,n,i){var o=n?n.call(i,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=r(e),s=r(t),u=a.length;if(u!==s.length)return!1;i=i||null;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;u>c;c++){var p=a[c];if(!l(p))return!1;var h=e[p],f=t[p],d=n?n.call(i,h,f,p):void 0;if(d===!1||void 0===d&&h!==f)return!1}return!0}},,function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(e>=0&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){var t=65,n=90,r=97,i=122,o=48,a=57,s=43,u=47,l=26,c=52;return e>=t&&n>=e?e-t:e>=r&&i>=e?e-r+l:e>=o&&a>=e?e-o+c:e==s?62:e==u?63:-1}},function(e,t){function n(e,r,i,o,a,s){var u=Math.floor((r-e)/2)+e,l=a(i,o[u],!0);return 0===l?u:l>0?r-u>1?n(u,r,i,o,a,s):s==t.LEAST_UPPER_BOUND?r<o.length?r:-1:u:u-e>1?n(e,u,i,o,a,s):s==t.LEAST_UPPER_BOUND?u:0>e?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,i,o){if(0===r.length)return-1;var a=n(-1,r.length,e,r,i,o||t.GREATEST_LOWER_BOUND);if(0>a)return-1;for(;a-1>=0&&0===i(r[a],r[a-1],!0);)--a;return a}},function(e,t,n){function r(e,t){var n=e.generatedLine,r=t.generatedLine,i=e.generatedColumn,a=t.generatedColumn;return r>n||r==n&&a>=i||o.compareByGeneratedPositionsInflated(e,t)<=0}function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var o=n(609);i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){r(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(o.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=i},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t){return Math.round(e+Math.random()*(t-e))}function i(e,t,o,a){if(a>o){var s=r(o,a),u=o-1;n(e,s,a);for(var l=e[a],c=o;a>c;c++)t(e[c],l)<=0&&(u+=1,n(e,u,c));n(e,u+1,c);var p=u+1;i(e,t,o,p-1),i(e,t,p+1,a)}}t.quickSort=function(e,t){i(e,t,0,e.length-1)}},function(e,t,n){function r(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new a(t):new i(t)
}function i(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=s.getArg(t,"version"),r=s.getArg(t,"sources"),i=s.getArg(t,"names",[]),o=s.getArg(t,"sourceRoot",null),a=s.getArg(t,"sourcesContent",null),u=s.getArg(t,"mappings"),c=s.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(s.normalize).map(function(e){return o&&s.isAbsolute(o)&&s.isAbsolute(e)?s.relative(o,e):e}),this._names=l.fromArray(i.map(String),!0),this._sources=l.fromArray(r,!0),this.sourceRoot=o,this.sourcesContent=a,this._mappings=u,this.file=c}function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=s.getArg(t,"version"),i=s.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new l,this._names=new l;var o={line:-1,column:0};this._sections=i.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=s.getArg(e,"offset"),n=s.getArg(t,"line"),i=s.getArg(t,"column");if(n<o.line||n===o.line&&i<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=t,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new r(s.getArg(e,"map"))}})}var s=n(609),u=n(2454),l=n(1572).ArraySet,c=n(1573),p=n(2456).quickSort;r.fromSourceMap=function(e){return i.fromSourceMap(e)},r.prototype._version=3,r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),r.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},r.prototype._parseMappings=function(){throw new Error("Subclasses must implement _parseMappings")},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.prototype.eachMapping=function(e,t,n){var i,o=t||null,a=n||r.GENERATED_ORDER;switch(a){case r.GENERATED_ORDER:i=this._generatedMappings;break;case r.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;i.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=u&&(t=s.join(u,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},r.prototype.allGeneratedPositionsFor=function(e){var t=s.getArg(e,"line"),n={source:s.getArg(e,"source"),originalLine:t,originalColumn:s.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=s.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(i>=0){var o=this._originalMappings[i];if(void 0===e.column)for(var a=o.originalLine;o&&o.originalLine===a;)r.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i];else for(var l=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==l;)r.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i]}return r},t.SourceMapConsumer=r,i.prototype=Object.create(r.prototype),i.prototype.consumer=r,i.fromSourceMap=function(e){var t=Object.create(i.prototype),n=t._names=l.fromArray(e._names.toArray(),!0),r=t._sources=l.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var a=e._mappings.toArray().slice(),u=t.__generatedMappings=[],c=t.__originalMappings=[],h=0,f=a.length;f>h;h++){var d=a[h],m=new o;m.generatedLine=d.generatedLine,m.generatedColumn=d.generatedColumn,d.source&&(m.source=r.indexOf(d.source),m.originalLine=d.originalLine,m.originalColumn=d.originalColumn,d.name&&(m.name=n.indexOf(d.name)),c.push(m)),u.push(m)}return p(t.__originalMappings,s.compareByOriginalPositions),t},i.prototype._version=3,Object.defineProperty(i.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?s.join(this.sourceRoot,e):e},this)}}),i.prototype._parseMappings=function(e){for(var t,n,r,i,a,u=1,l=0,h=0,f=0,d=0,m=0,g=e.length,v=0,y={},b={},w=[],_=[];g>v;)if(";"===e.charAt(v))u++,v++,l=0;else if(","===e.charAt(v))v++;else{for(t=new o,t.generatedLine=u,i=v;g>i&&!this._charIsMappingSeparator(e,i);i++);if(n=e.slice(v,i),r=y[n])v+=n.length;else{for(r=[];i>v;)c.decode(e,v,b),a=b.value,v=b.rest,r.push(a);if(2===r.length)throw new Error("Found a source, but no line and column");if(3===r.length)throw new Error("Found a source and line, but no column");y[n]=r}t.generatedColumn=l+r[0],l=t.generatedColumn,r.length>1&&(t.source=d+r[1],d+=r[1],t.originalLine=h+r[2],h=t.originalLine,t.originalLine+=1,t.originalColumn=f+r[3],f=t.originalColumn,r.length>4&&(t.name=m+r[4],m+=r[4])),_.push(t),"number"==typeof t.originalLine&&w.push(t)}p(_,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,p(w,s.compareByOriginalPositions),this.__originalMappings=w},i.prototype._findMapping=function(e,t,n,r,i,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return u.search(e,t,i,o)},i.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},i.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",s.compareByGeneratedPositionsDeflated,s.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var o=s.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=s.join(this.sourceRoot,o)));var a=s.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:o,line:s.getArg(i,"originalLine",null),column:s.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},i.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=s.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=s.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(e){var t=s.getArg(e,"source");if(null!=this.sourceRoot&&(t=s.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};t=this._sources.indexOf(t);var n={source:t,originalLine:s.getArg(e,"line"),originalColumn:s.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,s.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=i,a.prototype=Object.create(r.prototype),a.prototype.constructor=r,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),a.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},n=u.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n?n:e.generatedColumn-t.generatedOffset.generatedColumn}),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n],i=r.consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(s.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r){var i={line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}},a.prototype._parseMappings=function(){this.__generatedMappings=[],this.__originalMappings=[];for(var e=0;e<this._sections.length;e++)for(var t=this._sections[e],n=t.consumer._generatedMappings,r=0;r<n.length;r++){var i=n[r],o=t.consumer._sources.at(i.source);null!==t.consumer.sourceRoot&&(o=s.join(t.consumer.sourceRoot,o)),this._sources.add(o),o=this._sources.indexOf(o);var a=t.consumer._names.at(i.name);this._names.add(a),a=this._names.indexOf(a);var u={source:o,generatedLine:i.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:i.generatedColumn+(t.generatedOffset.generatedLine===i.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:i.originalLine,originalColumn:i.originalColumn,name:a};this.__generatedMappings.push(u),"number"==typeof u.originalLine&&this.__originalMappings.push(u)}p(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),p(this.__originalMappings,s.compareByOriginalPositions)},t.IndexedSourceMapConsumer=a},function(e,t,n){function r(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[u]=!0,null!=r&&this.add(r)}var i=n(1574).SourceMapGenerator,o=n(609),a=/(\r?\n)/,s=10,u="$$$isSourceNode$$$";r.fromStringWithSourceMap=function(e,t,n){function i(e,t){if(null===e||void 0===e.source)s.add(t);else{var i=n?o.join(n,e.source):e.source;s.add(new r(e.originalLine,e.originalColumn,i,t,e.name))}}var s=new r,u=e.split(a),l=function(){var e=u.shift(),t=u.shift()||"";return e+t},c=1,p=0,h=null;return t.eachMapping(function(e){if(null!==h){if(!(c<e.generatedLine)){var t=u[0],n=t.substr(0,e.generatedColumn-p);return u[0]=t.substr(e.generatedColumn-p),p=e.generatedColumn,i(h,n),void(h=e)}i(h,l()),c++,p=0}for(;c<e.generatedLine;)s.add(l()),c++;if(p<e.generatedColumn){var t=u[0];s.add(t.substr(0,e.generatedColumn)),u[0]=t.substr(e.generatedColumn),p=e.generatedColumn}h=e},this),u.length>0&&(h&&i(h,l()),s.add(u.join(""))),t.sources.forEach(function(e){var r=t.sourceContentFor(e);null!=r&&(null!=n&&(e=o.join(n,e)),s.setSourceContent(e,r))}),s},r.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[u]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},r.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[u]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},r.prototype.walk=function(e){for(var t,n=0,r=this.children.length;r>n;n++)t=this.children[n],t[u]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},r.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;r-1>n;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},r.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[u]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},r.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},r.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;n>t;t++)this.children[t][u]&&this.children[t].walkSourceContents(e);for(var r=Object.keys(this.sourceContents),t=0,n=r.length;n>t;t++)e(o.fromSetString(r[t]),this.sourceContents[r[t]])},r.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},r.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new i(e),r=!1,o=null,a=null,u=null,l=null;return this.walk(function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&a===i.line&&u===i.column&&l===i.name||n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,a=i.line,u=i.column,l=i.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1);for(var c=0,p=e.length;p>c;c++)e.charCodeAt(c)===s?(t.line++,t.column=0,c+1===p?(o=null,r=!1):r&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=r},,,,,,function(e,t,n){"use strict";var r=n(1257)();e.exports=function(e){return"string"==typeof e?e.replace(r,""):e}},,,,,,,function(e,t,n){var r=n(2257);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(2258);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(2259);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(2260);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(2261);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(2262);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(2263);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},,function(e,t,n){var r=n(2265);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(2266);"string"==typeof r&&(r=[[e.id,r,""]]),n(104)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){(function(t){"use strict";e.exports=n(2482)(t||window||this)}).call(t,function(){return this}())},function(e){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},,,,,,,,,,,,,function(e,t,n){(function(t){!function(t){"use strict";e.exports=t()}(function(){"use strict";return function(e,n,r,i){function o(e,t){var n=[];return!(!e||!t)&&(s.each([e,t],function(e,t){var r=[];s.each(t,function(e,t){for(;t.toString().length<5;)t="0"+t;r.push(t)}),n.push(r.join(""))}),parseFloat(n[0])>parseFloat(n[1]))}var a=e.Velocity;if(!a||!a.Utilities)return void(n.console&&t.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var s=a.Utilities,u=a.version,l={major:1,minor:1,patch:0};if(o(l,u)){var c="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(c),new Error(c)}a.RegisterEffect=a.RegisterUI=function(e,t){function n(e,t,n,r){var i,o=0;s.each(e.nodeType?[e]:e,function(e,t){r&&(n+=e*r),i=t.parentNode;var u=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===a.CSS.getPropertyValue(t,"boxSizing").toString().toLowerCase()&&(u=["height"]),s.each(u,function(e,n){o+=parseFloat(a.CSS.getPropertyValue(t,n))})}),a.animate(i,{height:("In"===t?"+":"-")+"="+o},{queue:!1,easing:"ease-in-out",duration:n*("In"===t?.6:1)})}return a.Redirects[e]=function(r,o,u,l,c,p,h){var f=u===l-1,d=0;h=h||t.loop,t.defaultDuration="function"==typeof t.defaultDuration?t.defaultDuration.call(c,c):parseFloat(t.defaultDuration);for(var m=0;m<t.calls.length;m++)w=t.calls[m][1],"number"==typeof w&&(d+=w);var g=d>=1?0:t.calls.length?(1-d)/t.calls.length:1;for(m=0;m<t.calls.length;m++){var v=t.calls[m],y=v[0],b=1e3,w=v[1],_=v[2]||{},x={};if(o.duration!==i?b=o.duration:t.defaultDuration!==i&&(b=t.defaultDuration),x.duration=b*("number"==typeof w?w:g),x.queue=o.queue||"",x.easing=_.easing||"ease",x.delay=parseFloat(_.delay)||0,x.loop=!t.loop&&_.loop,x._cacheValues=_._cacheValues||!0,0===m){if(x.delay+=parseFloat(o.delay)||0,0===u&&(x.begin=function(){o.begin&&o.begin.call(c,c);var t=e.match(/(In|Out)$/);t&&"In"===t[0]&&y.opacity!==i&&s.each(c.nodeType?[c]:c,function(e,t){a.CSS.setPropertyValue(t,"opacity",0)}),o.animateParentHeight&&t&&n(c,t[0],b+x.delay,o.stagger)}),null!==o.display)if(o.display!==i&&"none"!==o.display)x.display=o.display;else if(/In$/.test(e)){var E=a.CSS.Values.getDisplayType(r);x.display="inline"===E?"inline-block":E}o.visibility&&"hidden"!==o.visibility&&(x.visibility=o.visibility)}if(m===t.calls.length-1){var k=function(){o.display!==i&&"none"!==o.display||!/Out$/.test(e)||s.each(c.nodeType?[c]:c,function(e,t){a.CSS.setPropertyValue(t,"display","none")}),o.complete&&o.complete.call(c,c),p&&p.resolver(c||r)};x.complete=function(){if(h&&a.Redirects[e](r,o,u,l,c,p,h===!0||Math.max(0,h-1)),t.reset){for(var n in t.reset)if(t.reset.hasOwnProperty(n)){var s=t.reset[n];a.CSS.Hooks.registered[n]!==i||"string"!=typeof s&&"number"!=typeof s||(t.reset[n]=[t.reset[n],t.reset[n]])}var d={duration:0,queue:!1};f&&(d.complete=k),a.animate(r,t.reset,d)}else f&&k()},"hidden"===o.visibility&&(x.visibility=o.visibility)}a.animate(r,y,x)}},a},a.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:0}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]}],[{opacity:[1,"easeInOutQuad"]}],[{opacity:[0,"easeInOutQuad"]}],[{opacity:[1,"easeInOutQuad"]}]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15}],[{rotateZ:-10}],[{rotateZ:5}],[{rotateZ:-5}],[{rotateZ:0}]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10}],[{opacity:0,rotateY:90}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15}],[{opacity:0,rotateX:90}]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.35],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.45]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var p in a.RegisterEffect.packagedEffects)a.RegisterEffect.packagedEffects.hasOwnProperty(p)&&a.RegisterEffect(p,a.RegisterEffect.packagedEffects[p]);a.RunSequence=function(e){var t=s.extend(!0,[],e);t.length>1&&(s.each(t.reverse(),function(e,n){var r=t[e+1];if(r){var i=n.o||n.options,o=r.o||r.options,u=i&&i.sequenceQueue===!1?"begin":"complete",l=o&&o[u],c={};c[u]=function(){var e=r.e||r.elements,t=e.nodeType?[e]:e;l&&l.call(t,t),a(n)},r.o?r.o=s.extend({},o,c):r.options=s.extend({},o,c)}}),t.reverse()),a(t[0])}}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})}).call(t,n(3))},function(e){function t(e){var t=e?e.length:0;return t?e[t-1]:void 0}e.exports=t},function(e,t,n){e.exports=n(1588)},function(e,t,n){function r(e,t,n){var r=s(e)?i:a;return t=o(t,n,3),r(e,t)}var i=n(1590),o=n(2506),a=n(2515),s=n(271);e.exports=r},function(e,t,n){function r(e,t){return i(e,o(t))}var i=n(2498),o=n(1602);e.exports=r},function(e,t,n){(function(t){function r(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new a};t--;)this.push(e[t])}var i=n(2522),o=n(687),a=o(t,"Set"),s=o(Object,"create");r.prototype.push=i,e.exports=r}).call(t,function(){return this}())},function(e){function t(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=t},function(e){function t(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=t},function(e){function t(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=t},function(e,t,n){function r(e,t,n){for(var r=-1,o=i(t),a=o.length;++r<a;){var s=o[r],u=e[s],l=n(u,t[s],s,e,t);(l===l?l===u:u!==u)&&(void 0!==u||s in e)||(e[s]=l)}return e}var i=n(433);e.exports=r},function(e,t,n){function r(e,t){return null==t?e:i(t,o(t),e)}var i=n(2507),o=n(433);e.exports=r},function(e,t,n){function r(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:a(e,t,n):null==e?s:"object"==r?i(e):void 0===t?u(e):o(e,t)}var i=n(2516),o=n(2517),a=n(630),s=n(1601),u=n(1602);e.exports=r},function(e){function t(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}e.exports=t},function(e,t,n){function r(e,t){var n=e?e.length:0,r=[];if(!n)return r;var u=-1,l=i,c=!0,p=c&&t.length>=s?a(t):null,h=t.length;p&&(l=o,c=!1,t=p);e:for(;++u<n;){var f=e[u];if(c&&f===f){for(var d=h;d--;)if(t[d]===f)continue e;r.push(f)}else l(t,f,0)<0&&r.push(f)}return r}var i=n(2512),o=n(2521),a=n(2526),s=200;e.exports=r},function(e,t,n){function r(e,t,n,l){l||(l=[]);for(var c=-1,p=e.length;++c<p;){var h=e[c];u(h)&&s(h)&&(n||a(h)||o(h))?t?r(h,t,n,l):i(l,h):n||(l[l.length]=h)}return l}var i=n(2502),o=n(1223),a=n(271),s=n(631),u=n(455);e.exports=r},function(e,t,n){function r(e,t){return i(e,t,o)}var i=n(1592),o=n(1224);e.exports=r},function(e,t,n){function r(e,t){return i(e,t,o)}var i=n(1592),o=n(433);e.exports=r},function(e,t,n){function r(e,t,n){if(t!==t)return i(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var i=n(2532);e.exports=r},function(e,t,n){function r(e,t,n,r,h,m,g){var v=s(e),y=s(t),b=c,w=c;v||(b=d.call(e),b==l?b=p:b!=p&&(v=u(e))),y||(w=d.call(t),w==l?w=p:w!=p&&(y=u(t)));var _=b==p,x=w==p,E=b==w;if(E&&!v&&!_)return o(e,t,b);if(!h){var k=_&&f.call(e,"__wrapped__"),C=x&&f.call(t,"__wrapped__");if(k||C)return n(k?e.value():e,C?t.value():t,r,h,m,g)}if(!E)return!1;m||(m=[]),g||(g=[]);for(var A=m.length;A--;)if(m[A]==e)return g[A]==t;m.push(e),g.push(t);var S=(v?i:a)(e,t,n,r,h,m,g);return m.pop(),g.pop(),S}var i=n(2528),o=n(2529),a=n(2530),s=n(271),u=n(2539),l="[object Arguments]",c="[object Array]",p="[object Object]",h=Object.prototype,f=h.hasOwnProperty,d=h.toString;e.exports=r},function(e,t,n){function r(e,t,n){var r=t.length,a=r,s=!n;if(null==e)return!a;for(e=o(e);r--;){var u=t[r];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++r<a;){u=t[r];
var l=u[0],c=e[l],p=u[1];if(s&&u[2]){if(void 0===c&&!(l in e))return!1}else{var h=n?n(c,p,l):void 0;if(!(void 0===h?i(p,c,n,!0):h))return!1}}return!0}var i=n(1221),o=n(270);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(1591),o=n(631);e.exports=r},function(e,t,n){function r(e){var t=o(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&e[n]===r&&(void 0!==r||n in a(e))}}return function(e){return i(e,t)}}var i=n(2514),o=n(2531),a=n(270);e.exports=r},function(e,t,n){function r(e,t){var n=s(e),r=u(e)&&l(t),f=e+"";return e=h(e),function(s){if(null==s)return!1;var u=f;if(s=p(s),!(!n&&r||u in s)){if(s=1==e.length?s:i(s,a(e,0,-1)),null==s)return!1;u=c(e),s=p(s)}return s[u]===t?void 0!==t||u in s:o(t,s[u],void 0,!0)}}var i=n(1593),o=n(1221),a=n(2519),s=n(271),u=n(1596),l=n(1597),c=n(2496),p=n(270),h=n(1598);e.exports=r},function(e,t,n){function r(e){var t=e+"";return e=o(e),function(n){return i(n,e,t)}}var i=n(1593),o=n(1598);e.exports=r},function(e){function t(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=void 0===n||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=t},function(e){function t(e){return null==e?"":e+""}e.exports=t},function(e,t,n){function r(e,t){var n=e.data,r="string"==typeof t||i(t)?n.set.has(t):n.hash[t];return r?0:-1}var i=n(240);e.exports=r},function(e,t,n){function r(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}var i=n(240);e.exports=r},function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,l=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,l,5),a-=2):(s="function"==typeof l?l:void 0,a-=s?1:0),u&&o(n[0],n[1],u)&&(s=3>a?void 0:s,a=1);++r<a;){var c=n[r];c&&e(t,c,s)}return t})}var i=n(630),o=n(2533),a=n(1589);e.exports=r},function(e,t,n){function r(e,t){return function(n,r){var s=n?i(n):0;if(!o(s))return e(n,r);for(var u=t?s:-1,l=a(n);(t?u--:++u<s)&&r(l[u],u,l)!==!1;);return n}}var i=n(1595),o=n(454),a=n(270);e.exports=r},function(e,t,n){function r(e){return function(t,n,r){for(var o=i(t),a=r(t),s=a.length,u=e?s:-1;e?u--:++u<s;){var l=a[u];if(n(o[l],l,o)===!1)break}return t}}var i=n(270);e.exports=r},function(e,t,n){(function(t){function r(e){return s&&a?new i(e):null}var i=n(2500),o=n(687),a=o(t,"Set"),s=o(Object,"create");e.exports=r}).call(t,function(){return this}())},function(e,t,n){function r(e,t){return function(n,r,a){return"function"==typeof r&&void 0===a&&o(n)?e(n,r):t(n,i(r,a,3))}}var i=n(630),o=n(271);e.exports=r},function(e,t,n){function r(e,t,n,r,o,a,s){var u=-1,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;for(;++u<l;){var p=e[u],h=t[u],f=r?r(o?h:p,o?p:h,u):void 0;if(void 0!==f){if(f)continue;return!1}if(o){if(!i(t,function(e){return p===e||n(p,e,r,o,a,s)}))return!1}else if(p!==h&&!n(p,h,r,o,a,s))return!1}return!0}var i=n(2503);e.exports=r},function(e){function t(e,t,u){switch(u){case n:case r:return+e==+t;case i:return e.name==t.name&&e.message==t.message;case o:return e!=+e?t!=+t:e==+t;case a:case s:return e==t+""}return!1}var n="[object Boolean]",r="[object Date]",i="[object Error]",o="[object Number]",a="[object RegExp]",s="[object String]";e.exports=t},function(e,t,n){function r(e,t,n,r,o,s,u){var l=i(e),c=l.length,p=i(t),h=p.length;if(c!=h&&!o)return!1;for(var f=c;f--;){var d=l[f];if(!(o?d in t:a.call(t,d)))return!1}for(var m=o;++f<c;){d=l[f];var g=e[d],v=t[d],y=r?r(o?v:g,o?g:v,d):void 0;if(!(void 0===y?n(g,v,r,o,s,u):y))return!1;m||(m="constructor"==d)}if(!m){var b=e.constructor,w=t.constructor;if(b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w))return!1}return!0}var i=n(433),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;)t[n][2]=i(t[n][1]);return t}var i=n(1597),o=n(2542);e.exports=r},2358,function(e,t,n){function r(e,t,n){if(!a(n))return!1;var r=typeof t;if("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var i=n(631),o=n(1222),a=n(240);e.exports=r},function(e,t,n){function r(e,t){e=i(e);for(var n=-1,r=t.length,o={};++n<r;){var a=t[n];a in e&&(o[a]=e[a])}return o}var i=n(270);e.exports=r},function(e,t,n){function r(e,t){var n={};return i(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}var i=n(2510);e.exports=r},function(e,t,n){function r(e){for(var t=u(e),n=t.length,r=n&&e.length,l=!!r&&s(r)&&(o(e)||i(e)),p=-1,h=[];++p<n;){var f=t[p];(l&&a(f,r)||c.call(e,f))&&h.push(f)}return h}var i=n(1223),o=n(271),a=n(1222),s=n(454),u=n(1224),l=Object.prototype,c=l.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return i(e)&&s.call(e)==o}var i=n(240),o="[object Function]",a=Object.prototype,s=a.toString;e.exports=r},function(e,t,n){function r(e){return null!=e&&(i(e)?c.test(u.call(e)):o(e)&&a.test(e))}var i=n(2537),o=n(455),a=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e.length)&&!!T[O.call(e)]}var i=n(454),o=n(455),a="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",p="[object Function]",h="[object Map]",f="[object Number]",d="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",k="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",M="[object Uint32Array]",T={};T[w]=T[_]=T[x]=T[E]=T[k]=T[C]=T[A]=T[S]=T[M]=!0,T[a]=T[s]=T[b]=T[u]=T[l]=T[c]=T[p]=T[h]=T[f]=T[d]=T[m]=T[g]=T[v]=T[y]=!1;var D=Object.prototype,O=D.toString;e.exports=r},function(e,t,n){var r=n(2504),i=n(2505),o=n(2523),a=o(function(e,t,n){return n?r(e,t,n):i(e,t)});e.exports=a},function(e,t,n){e.exports=n(2540)},function(e,t,n){function r(e){e=o(e);for(var t=-1,n=i(e),r=n.length,a=Array(r);++t<r;){var s=n[t];a[t]=[s,e[s]]}return a}var i=n(433),o=n(270);e.exports=r},function(e,t,n){var r={isEqual:n(1599),keys:n(433),omit:n(1600)},i=n(1),o=n(109),a=n(1220),s=i.createClass({displayName:"VelocityComponent",propTypes:{animation:i.PropTypes.any,children:i.PropTypes.element.isRequired,runOnMount:i.PropTypes.bool,targetQuerySelector:i.PropTypes.string},getDefaultProps:function(){return{animation:null,runOnMount:!1,targetQuerySelector:null}},componentDidMount:function(){this.runAnimation(),this.props.runOnMount!==!0&&this._finishAnimation()},componentWillUpdate:function(e){r.isEqual(e.animation,this.props.animation)||(this._stopAnimation(),this._scheduleAnimation())},componentWillUnmount:function(){this._stopAnimation()},runAnimation:function(e){if(e=e||{},this._shouldRunAnimation=!1,this.isMounted()&&null!=this.props.animation){e.stop?a(this._getDOMTarget(),"stop",!0):e.finish&&a(this._getDOMTarget(),"finishAll",!0);var t=r.omit(this.props,r.keys(this.constructor.propTypes));a(this._getDOMTarget(),this.props.animation,t)}},_scheduleAnimation:function(){this._shouldRunAnimation||(this._shouldRunAnimation=!0,setTimeout(this.runAnimation,0))},_getDOMTarget:function(){var e=o.findDOMNode(this);return"children"===this.props.targetQuerySelector?e.children:null!=this.props.targetQuerySelector?e.querySelectorAll(this.props.targetQuerySelector):e},_finishAnimation:function(){a(this._getDOMTarget(),"finishAll",!0)},_stopAnimation:function(){a(this._getDOMTarget(),"stop",!0)},render:function(){return this.props.children}});e.exports=s},function(e,t,n){function r(e,t){i.isObject(e)&&(t=e,e="");var n="VelocityHelper.animation."+a++ +e;if(o.velocityReactServerShim)return n;if(void 0===o.RegisterEffect)throw"Velocity.RegisterEffect not found. You need to require('velocity-animate/velocity.ui') at a top level for UI Pack.";return o.RegisterEffect(n,t),n}var i={isObject:n(240)},o=n(1220),a=0;e.exports={registerEffect:r}},function(e,t,n){var r={each:n(2497),extend:n(2541),forEach:n(1588),isEqual:n(1599),keys:n(433),omit:n(1600),pluck:n(2499)},i=n(1),o=n(109),a=n(2421),s=n(1220),u="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,0)});u="undefined"!=typeof window&&u.bind(window);var l=i.createClass({displayName:"VelocityTransitionGroupChild",propTypes:{children:i.PropTypes.element.isRequired,willAppearFunc:i.PropTypes.func.isRequired,willEnterFunc:i.PropTypes.func.isRequired,willLeaveFunc:i.PropTypes.func.isRequired},componentWillAppear:function(e){this.props.willAppearFunc(o.findDOMNode(this),e)},componentWillEnter:function(e){this.props.willEnterFunc(o.findDOMNode(this),e)},componentWillLeave:function(e){this.props.willLeaveFunc(o.findDOMNode(this),e)},render:function(){return i.Children.only(this.props.children)}}),c=i.createClass({displayName:"VelocityTransitionGroup",statics:{disabledForTest:!1},propTypes:{runOnMount:i.PropTypes.bool,enter:i.PropTypes.any,leave:i.PropTypes.any,children:i.PropTypes.any,enterHideStyle:i.PropTypes.object,enterShowStyle:i.PropTypes.object},getDefaultProps:function(){return{runOnMount:!1,enter:null,leave:null,enterHideStyle:{display:"none"},enterShowStyle:{display:""}}},componentWillMount:function(){this._scheduled=!1,this._entering=[],this._leaving=[]},componentWillUnmount:function(){this._entering=[],this._leaving=[]},render:function(){var e=r.omit(this.props,r.keys(this.constructor.propTypes));return this.constructor.disabledForTest||s.velocityReactServerShim||(e.childFactory=this._wrapChild),i.createElement(a,e,this.props.children)},childWillAppear:function(e,t){if(this.props.runOnMount)this.childWillEnter(e,t);else{this._finishAnimation(e,this.props.enter);var n=this;window.setTimeout(function(){n.isMounted()&&t()},0)}},childWillEnter:function(e,t){this._shortCircuitAnimation(this.props.enter,t)||(this._finishAnimation(e,this.props.leave,{begin:void 0,complete:void 0}),r.forEach(this.props.enterHideStyle,function(t,n){s.CSS.setPropertyValue(e,n,t)}),this._entering.push({node:e,doneFn:t}),this._schedule())},childWillLeave:function(e,t){this._shortCircuitAnimation(this.props.leave,t)||(this._leaving.push({node:e,doneFn:t}),this._schedule())},_shortCircuitAnimation:function(e,t){return!(!document.hidden&&null!=this._parseAnimationProp(e).animation||(this.isMounted()&&t(),0))},_schedule:function(){this._scheduled||(this._scheduled=!0,u(this._runAnimations))},_runAnimations:function(){this._scheduled=!1,this._runAnimation(!0,this._entering,this.props.enter),this._runAnimation(!1,this._leaving,this.props.leave),this._entering=[],this._leaving=[]},_parseAnimationProp:function(e){var t,n,i;return"string"==typeof e?(t=e,i=null,n={}):(t=null!=e?e.animation:null,i=null!=e?e.style:null,n=r.omit(e,"animation","style")),{animation:t,style:i,opts:n}},_runAnimation:function(e,t,n){if(this.isMounted()&&0!==t.length){var i=r.pluck(t,"node"),o=r.pluck(t,"doneFn"),a=this._parseAnimationProp(n),l=a.animation,c=a.style,p=a.opts;e&&(r.isEqual(this.props.enterShowStyle,{display:""})&&(/^(fade|slide)/.test(l)||/In$/.test(l))||(c=r.extend({},this.props.enterShowStyle,c))),null!=c&&r.each(c,function(e,t){s.hook(i,t,e)});var h=this,f=function(){h.isMounted()&&o.map(function(e){e()})};e?(f(),f=null):s(i,"stop");var d;if(f&&p.complete){var m=p.complete;d=function(){f(),m.apply(this,arguments)}}else d=f||p.complete;u(function(){s(i,l,r.extend({},p,{complete:d}))})}},_finishAnimation:function(e,t,n){var i=this._parseAnimationProp(t),o=i.animation,a=i.style,u=r.extend({},i.opts,n);null!=a&&r.each(a,function(t,n){s.hook(e,n,t)}),null!=o&&(s(e,o,u),s(e,"finishAll",!0))},_wrapChild:function(e){return i.createElement(l,{willAppearFunc:this.childWillAppear,willEnterFunc:this.childWillEnter,willLeaveFunc:this.childWillLeave},e)}});e.exports=c},,function(e,t,n){var r;!function(){r=function(){var e=n(635),t=e.Promise.all,r=Array.prototype.slice;return function(n){function i(e){return o.push(e),o}var o=[];return t(r.call(arguments,1)).then(function(t){return e.reduce(n,function(n,r){return e(r.apply(void 0,t),i)},o)})}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(29))},function(e){e.exports=operative},,,1239]),function(){this.getCurrentHost=function(){return location.host}}.call(this),function(){this.iframed=function(){return window.self!==window.top}}.call(this),function(){this.getMap=function(){return window.map}}.call(this),function(){this.redirect=function(e){return window.location=e}}.call(this),function(){this.template=function(e,t){var n;return e=e.replace("main::","main/templates/"),n=JST[e],1===arguments.length?n:n(t)}}.call(this),function(){this.urlFor=function(e,t){return router.urlFor(e,t)},this.absoluteUrlFor=function(e){return location.protocol+"//"+location.host+e}}.call(this),function(){this.SelectorBuilder={Views:{},template:function(e){return template("main::selector_builder/"+e)}}}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.toSelector=function(){switch(this.get("attribute")){case"id":return this.toIDSelector();default:return this.toAttributeSelector()}},t.prototype.toIDSelector=function(){return"#"+this.get("value")},t.prototype.toAttributeSelector=function(){var e;return e=_.pick(this.attributes,"attribute","operator","value"),null==e.value&&(e.value=""),Selector.prepare(this.attributeSelectorTemplate(),e)},t.prototype.attributeSelectorTemplate=function(){var e,t,n;return n=this.attributes,e=n.attribute,t=n.operator,e?"!"===t?'[!"{{attribute}}"]':t?'["{{attribute}}"{{operator}}"{{value}}"]':'["{{attribute}}"]':""},t}(Backbone.Model),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.model=e,r}(Backbone.Collection),SelectorBuilder.Condition=e,SelectorBuilder.ConditionCollection=t}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.initialize=function(){return this.conditions=new SelectorBuilder.ConditionCollection,this.listenTo(this.conditions,"add remove change",function(){return this.trigger("change")})},t.prototype.toSelector=function(e){var t;return t=this.conditions.map(function(e){return e.toSelector()}).join(""),(null!=e?e.scope:void 0)&&(t=""+e.scope+t),t},t}(Backbone.Model),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.model=e,r}(Backbone.Collection),SelectorBuilder.Group=e,SelectorBuilder.GroupCollection=t}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.groups=new SelectorBuilder.GroupCollection,this.prompts=SelectorBuilder.getPrompts(),this.get("selector")&&this.parse(),this.groups.isEmpty()&&this.blankslate(),this.listenTo(this.groups,"add remove change",this.update)},n.prototype.toSelector=function(){return this.groups.chain().invoke("toSelector",{scope:this.get("scope")}).compact().value().join(", ")},n.prototype.update=function(){return this.set("selector",this.toSelector())},n.prototype.addGroup=function(){var e;return e=new SelectorBuilder.Group,e.conditions.add({}),this.groups.add(e)},n.prototype.select=function(e){var t,n,r,i,o,a;t=new $.Deferred;try{a=Selector.selectPrimary(e),o=a.groupByCollection(),o.empty=o.elements.length===(i=o.connections.length)&&i===(r=o.loops.length)&&0===r,t.resolve(o)}catch(s){n=s,t.reject(n)}return t.promise()},n.prototype.parse=function(){var e,t,n,r,i,o,a,s,u,l;if(s=[],l=SelectorBuilder.parse(this.get("selector")),this.set("error",l.error),!l.error){for(u=l.conditions,n=0,i=u.length;i>n;n++){for(t=u[n],a=new SelectorBuilder.Group,r=0,o=t.length;o>r;r++)e=t[r],a.conditions.add(e);s.push(a)}return this.groups.reset(s)}},n.prototype.blankslate=function(){return this.addGroup()},n}(Backbone.Model),SelectorBuilder.Model=e}.call(this),function(){SelectorBuilder.build=function(e){var t;return t=new SelectorBuilder.ModalView({selector:e}),t.render(),t.getPromise()}}.call(this),function(){SelectorBuilder.parse=function(e){var t,n,r,i,o,a,s,u,l,c,p;if(s={},u=SelectorParser.parse(e),t=function(e){var n,r,i,o;if(e instanceof AttributeSelector)return e.pick("attribute","operator","value");if(e instanceof IDSelector)return{attribute:"id",operator:"=",value:e.get("id")};for(i=e.get("selectors"),o=[],n=0,r=i.length;r>n;n++)e=i[n],(e instanceof IDSelector||e instanceof AttributeSelector)&&o.push(t(e));return o},p=[],u instanceof GenericSelector);else if(u instanceof IDSelector||u instanceof AttributeSelector)r=[t(u)],p.push(r);else if(u instanceof CompoundSelector)switch(c=u.get("selectors"),u.get("method")){case"union":for(n=0,o=c.length;o>n;n++)l=c[n],l instanceof GenericSelector||(l instanceof IDSelector||l instanceof AttributeSelector?(r=[t(l)],p.push(r)):l instanceof CompoundSelector&&"intersection"===l.get("method")?(r=t(l),p.push(r)):s.error=!0);break;case"intersection":for(r=[],i=0,a=c.length;a>i;i++)l=c[i],l instanceof GenericSelector||(l instanceof IDSelector||l instanceof AttributeSelector?r.push(t(l)):s.error=!0);p.push(r)}else s.error=!0;return s.conditions=p,s}}.call(this),function(){SelectorBuilder.getPrompts=function(){var e;return e=Attributes.visible().map(SelectorBuilder.getPromptFor),Attributes.get("id")||e.push({attribute:"id",label:"ID"}),_.sortBy(e,function(e){return e.label.toLowerCase()})},SelectorBuilder.getPromptFor=function(e){var t;return t={attribute:e.key(),label:e.label()},t.operators=[["=","is"],["!=","isn't"],["*=","contains"],["<","is less than"],[">","is greater than"],["","has any value"],["!","is unknown"]],t.choices=function(){return e.choices()},t}}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="selector-builder",n.prototype.template=SelectorBuilder.template("builder"),n.prototype.events={"show.bs.tab [data-toggle=tab]":"onTab"},n.prototype.initialize=function(e){var t;return t=this,this.dfd=new $.Deferred,this.scope=e.scope,this.selector=this.originalSelector=e.selector,this.model=new SelectorBuilder.Model({scope:this.scope,selector:this.selector}),this.subview("form",new SelectorBuilder.Views.Form({model:this.model})),this.subview("preview",new SelectorBuilder.Views.Preview({model:this.model}))},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.replace("form",this.form),this.$el.replace("preview",this.preview),this},n.prototype.done=function(){return this.dfd.resolve(this.model.toSelector())},n.prototype.cancel=function(){return this.dfd.reject(this.originalSelector)},n.prototype.getSelector=function(){return this.model.toSelector()},n.prototype.getPromise=function(){return this.dfd.promise()},n}(Backbone.View),SelectorBuilder.View=e}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="condition",n.prototype.template=SelectorBuilder.template("condition"),n.prototype.events={change:"onChange","autocompletechange [name=value]":"onChange","keyup [name=value]":"onChange","focus [name=value]":"updateAutocomplete","click .remove":"destroy"},n.prototype.initialize=function(){var e;return e=this.model,this.condition=e.condition,this.prompts=e.prompts,this.refresh=_.debounce(function(e){return function(){return e.updateCondition()}}(this),100)},n.prototype.render=function(){return this.$el.html(this.template()),this.$property=this.$el.find("[name=property]"),this.$operator=this.$el.find("[name=operator]"),this.$value=this.$el.find("[name=value]"),this.initializeAutocomplete(),this.renderProperties(),this.renderOperators(),this.renderValue(),this},n.prototype.onChange=function(e){var t;return t=$(e.target),this.updateCondition(),t.is(this.$operator)&&this.$value.prop("disabled",""===this.condition.get("operator")||"!"===this.condition.get("operator")),t.is(this.$value)?void 0:this.updateAutocomplete()},n.prototype.initializeAutocomplete=function(){var e;return e={delay:0,minLength:0,appendTo:"body",select:this.refresh,source:[]},this.$value.autocomplete(e)},n.prototype.updateAutocomplete=function(){var e,t,n;return(e=this.condition.get("attribute"))?(n=_.findWhere(this.prompts,{attribute:e}),t=(null!=n?n.choices():void 0)||[]):t=[],this.$value.autocomplete("option","source",t)},n.prototype.updateCondition=function(){var e;return e={attribute:this.$property.val(),operator:this.$operator.val(),value:this.$value.val()},this.condition.set(e)},n.prototype.renderProperties=function(){var e,t,n,r,i,o,a;for(e=this.addOption(this.$property,{label:""}),o=this.prompts,a=[],t=0,n=o.length;n>t;t++)i=o[t],r={value:i.attribute,label:i.label,selected:i.attribute===this.condition.get("attribute")},a.push(e=this.addOption(this.$property,r));return a},n.prototype.renderOperators=function(){var e,t,n,r,i,o,a,s;for(i=this.prompts[0].operators,this.$operator.empty(),s=[],e=0,n=i.length;n>e;e++)a=i[e],r=a[0],t=a[1],o={value:r,label:t,selected:r===this.condition.get("operator")},s.push(this.addOption(this.$operator,o));return s},n.prototype.renderValue=function(){return this.$value.val(this.condition.get("value"))},n.prototype.addOption=function(e,t){return $("<option />").val(t.value).text(t.label).prop("selected",t.selected).appendTo(e)},n.prototype.destroy=function(){return this.$value.autocomplete("destroy"),this.condition.destroy(),this.remove()},n}(Backbone.View),SelectorBuilder.Views.ConditionView=e}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="selector-builder-form",n.prototype.template=SelectorBuilder.template("form"),n.prototype.events={"click .new-group":"addGroup"},n.prototype.initialize=function(){return this.listenTo(this.model,"change:error",this.refresh),this.listenTo(this.model.groups,"add",this.renderGroup),this.listenTo(this.model.groups,"reset",this.render)},n.prototype.render=function(){var e,t,n,r;for(this.$el.html(this.template()),this.$prompts=this.$el.find(".prompts"),r=this.model.groups.models,t=0,n=r.length;n>t;t++)e=r[t],this.renderGroup(e);return this},n.prototype.renderGroup=function(e){var t;return t=new SelectorBuilder.Views.GroupView({model:{group:e,prompts:this.model.prompts}}),this.$prompts.append(t.render().el)},n.prototype.addGroup=function(){return this.model.addGroup()},n.prototype.refresh=function(){return this.$el.toggleClass("error",this.model.get("error"))},n}(Backbone.View),SelectorBuilder.Views.Form=e}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="group",n.prototype.template=SelectorBuilder.template("group"),n.prototype.events={"click .remove-group":"destroy","click .new-condition":"addCondition"},n.prototype.initialize=function(){var e;return e=this.model,this.group=e.group,this.prompts=e.prompts,this.conditions=this.group.conditions,this.listenTo(this.conditions,"add",this.renderCondition)},n.prototype.render=function(){var e,t,n,r;for(this.$el.html(this.template()),this.$conditions=this.$el.find(".conditions"),r=this.conditions.models,t=0,n=r.length;n>t;t++)e=r[t],this.renderCondition(e);return this},n.prototype.renderCondition=function(e){var t;return t=new SelectorBuilder.Views.ConditionView({model:{condition:e,prompts:this.prompts}}),this.$conditions.append(t.render().el)},n.prototype.addCondition=function(){return this.conditions.add({attribute:"",operator:"="})},n.prototype.destroy=function(){return this.group.destroy(),this.remove()},n}(Backbone.View),SelectorBuilder.Views.GroupView=e}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="selector-builder-modal modal fade",n.prototype.template=SelectorBuilder.template("modal"),n.prototype.events={"click .cancel":"cancel","click .done":"done","hidden.bs.modal":"remove"},n.prototype.initialize=function(){return this.builder=new SelectorBuilder.View(this.options)},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.find(".modal-body").html(this.builder.render().el),this.$el.appendTo("body"),this.show()},n.prototype.getPromise=function(){return this.builder.getPromise()},n.prototype.cancel=function(){return this.builder.cancel(),this.hide()},n.prototype.done=function(){return this.builder.done(),this.hide()},n.prototype.show=function(){return this.$el.modal("show")},n.prototype.hide=function(){return this.$el.modal("hide")},n}(Backbone.View),SelectorBuilder.ModalView=e}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="selector-builder-preview alert",n.prototype.template=SelectorBuilder.template("preview"),n.prototype.initialize=function(){var e;return e=this,this.lazyMatch=_.debounce(function(t){return e.match(t)},500),this.listenTo(this.model,"change:selector",this.refresh)},n.prototype.render=function(){return this.$el.html(this.template()),this.$selector=this.$el.find(".selector"),this.refresh(),this},n.prototype.refresh=function(){var e;return e=this.model.get("selector"),e?(this.$selector.html(e),this.$el.removeClassByPrefix("alert-").addClass("pending").show(),this.lazyMatch(e)):this.$el.hide()},n.prototype.match=function(e){return this.model.select(e).done(function(e){return function(t){var n,r,i,o,a,s,u,l;if(t.empty)s="No matches found",n="danger";else{for(u=[],n="success",l=["elements","connections","loops"],o=0,a=l.length;a>o;o++)r=l[o],i=t[r].length,0!==i&&u.push('<span class="count">'+i+'</span> <span class="collection">'+r+"</span>");s="Matched "+u.toSentence()}return e.$el.addClass("alert-"+n),e.$el.find(".matches .result").html(s)}}(this)).always(function(e){return function(){return e.$el.removeClass("pending")}}(this))},n}(Backbone.View),SelectorBuilder.Views.Preview=e}.call(this),function(){var e;e=jQuery,e.fn.selectorInput=function(t){return null==t&&(t={}),t=_.defaults(t,{explicit:!1}),this.each(function(){var t;return t=e(this),t.addClass("selector-input")})}}.call(this),function(){this.Export=function(){function e(){}return e.build=function(e,t,n){var r,i;return i=function(){switch(t){case"csv":return"CSVExporter";case"xlsx":return"XLSXExporter";case"blueprint":return"BlueprintExporter"}}(),r=new Exports.Exporters[i],r["export"](e,n)},e.asBlob=function(e,t){return null==t&&(t="text/plain;charset=utf-8"),new Blob([e],{type:t})},e.asBase64=function(e){return btoa(e)},e.isSupported=function(){var e;try{return!(!new Blob||"undefined"==typeof FileReader||null===FileReader)}catch(t){return e=t,!1}},e}()}.call(this),function(){var e=[].slice;Export.Manifest=function(){function t(e,t){var n,r,i,o,a,s,u,l,c,p;for(null==t&&(t={}),this.options=_.defaults({},t,{_id:!1}),this.elements=[],this.connections=[],i=!1,c=["elements","connections"],o=0,s=c.length;s>o;o++)for(r=c[o],p=e[r].models,a=0,u=p.length;u>a;a++)l=p[a],n=l.attrs.toJSON(),this.options._id&&(n._id=l.id),n.id&&(i=!0),n.type=n[l.typeAttr],delete n[l.typeAttr],"connections"===r&&(n.from=this.identify(l.from,this.options._id),n.to=this.identify(l.to,this.options._id)),this[r].push(n);this.initializeColumns({_id:this.options._id,id:i})}return t.prototype.initializeColumns=function(e){var t,n,r,i;return t=["Label","Type","Tags","Description"],r=t,n=["From","To"].concat(t),i=Attributes.getCustomAttributeNames(),i=_.reject(i,function(e){return"id"===e.slug()}),this.elementColumns=this.buildColumns(r,i,e),this.connectionColumns=this.buildColumns(n,i,e)},t.prototype.buildColumns=function(t,n,r){var i;return null==r&&(r={}),i=[],r._id&&i.push("_id"),r.id&&i.push("ID"),i.push.apply(i,e.call(t).concat(e.call(n))),i},t.prototype.identify=function(e,t){var n,r;return r=e.label(),n=e.getCustomID()||t&&e.id,n?r+" <"+n+">":r},t.prototype.toJSON=function(){return{elements:this.elements,elementColumns:this.elementColumns,connections:this.connections,connectionColumns:this.connectionColumns}},t}()}.call(this),function(){var e;e=function(){function e(){}return e.prototype["export"]=function(){return Maps.preload().then(function(e){return function(){return e.exportJSON()}}(this))},e.prototype.exportJSON=function(){return this.exportBlueprint().then(function(e){return JSON.stringify(e)})},e.prototype.exportBlueprint=function(){return When.promise(function(e){return function(t){var n,r;return n={},r=Settings.toJSON(),n.name=currentProject.get("name"),n.description=currentProject.get("description"),n.proxyImages=r.proxy_images,n.defaultMap=r.default_map_id,n.defaultPerspective=r.default_perspective_id,n.attributeRelevance=r.relevance,n.attributes=e.exportCollection(Attributes,e.exportAttribute),n.elements=e.exportCollection(Elements,e.exportElement),n.connections=e.exportCollection(Connections,e.exportConnection),n.loops=e.exportCollection(Loops,e.exportLoop),n.maps=e.exportCollection(Maps,e.exportMap),n.perspectives=e.exportCollection(Perspectives,e.exportPerspective),t(n)}}(this))},e.prototype.exportAttribute=function(e){return _.pick(e.toJSON(),"_id","name","format","private","limit","category","prompt","locked","values")},e.prototype.exportElement=function(e){var t;return t=_.pick(e.toJSON(),"_id","attributes")},e.prototype.exportConnection=function(e){var t;return t=_.pick(e.toJSON(),"_id","direction","delayed","reversed","attributes"),t.from=e.get("from_id"),t.to=e.get("to_id"),t},e.prototype.exportLoop=function(e){var t;return t=_.pick(e.toJSON(),"_id","attributes"),t.connections=e.get("connection_ids"),t},e.prototype.exportMap=function(e){var t;return t=_.pick(e.toJSON(),"_id","name","description","scale","center"),t.defaultPerspective=e.get("default_perspective_id"),t.elements=this.exportCollection(e.nodes,this.exportNode),t.connections=this.exportCollection(e.edges,this.exportEdge),t.loops=this.exportCollection(e.labels,this.exportLabel),t},e.prototype.exportNode=function(e){var t;return t=_.pick(e.toJSON(),"_id","position","pinned"),t.element=e.entity.id,t},e.prototype.exportEdge=function(e){var t;return t=_.pick(e.toJSON(),"_id","curvature"),t.connection=e.entity.id,t},e.prototype.exportLabel=function(e){var t;return t=_.pick(e.toJSON(),"_id","position","pinned"),t.loop=e.entity.id,t},e.prototype.exportPerspective=function(e){return _.pick(e.toJSON(),"_id","name","description","style")},e.prototype.exportCollection=function(e,t){return _.compact(e.collect(t,this))},e}(),namespace("Exports.Exporters",function(t){return t.BlueprintExporter=e})}.call(this),function(){var e;e=function(){function e(){}return e.prototype["export"]=function(e,t){var n,r,i;switch(i=this.exportCollection(e,"elements"),n=this.exportCollection(e,"connections"),r="",r+=$.csv.fromArrays(i),n.length>0&&(r+="\n\n"+$.csv.fromArrays(n)),t){case"blob":return Export.asBlob(r,"text/plain;charset=utf-8");
case"base64":return Export.asBase64(r)}},e.prototype.exportCollection=function(e,t){var n,r,i,o,a,s;for(n=e[t],r=e[t.singularize()+"Columns"],s=[],s.push(r),i=0,o=n.length;o>i;i++)a=n[i],s.push(this.exportModel(a,r));return s},e.prototype.exportModel=function(e,t){var n,r,i,o,a,s;for(a=[],i=r=0,o=t.length;o>r;i=++r)n=t[i],s=e[n.toLowerCase()],a.push(_.isArray(s)?s.join("|"):s);return a},e}(),namespace("Exports.Exporters",function(t){return t.CSVExporter=e})}.call(this),function(){var e;e=function(){function e(){}return e.prototype["export"]=function(e,t){return When.promise(function(n){return function(r,i){var o;switch(o=n.buildZip(e),t){case"blob":return n.exportBlob(o,r,i);case"base64":return n.exportBase64(o,r,i)}}}(this))},e.prototype.exportBlob=function(e,t,n){return e.exportBlob(t,null,n)},e.prototype.exportBase64=function(e,t,n){var r;return r=function(e){return t(e.slice(28))},e.exportData64URI(r,null,n)},e.prototype.buildZip=function(e){var t,n,r,i,o,a,s,u;return o=function(e,t){return template("main::exports/xlsx/"+e)(t)},u=new zip.fs.FS,n=new Exports.Exporters.CSVExporter,r=this.sheetify(n.exportCollection(e,"elements")),t=this.sheetify(n.exportCollection(e,"connections")),u.root.addText("[Content_Types].xml",o("types")),i=u.root.addDirectory("_rels"),i.addText(".rels",o("rels")),s=u.root.addDirectory("xl"),s.addText("sharedStrings.xml",o("strings")),s.addText("styles.xml",o("styles")),s.addText("workbook.xml",o("workbook")),i=s.addDirectory("_rels"),i.addText("workbook.xml.rels",o("workbook_rels")),a=s.addDirectory("worksheets"),a.addText("sheet1.xml",o("worksheet",{data:r})),a.addText("sheet2.xml",o("worksheet",{data:t})),u},e.prototype.sheetify=function(e){var t,n,r,i,o,a,s,u,l,c,p;for(c="",u=o=0,a=e.length;a>o;u=++o)s=e[u],l=this.rowRef(u),n=function(){var e,n,o;for(o=[],r=e=0,n=s.length;n>e;r=++e)p=s[r],null!=p&&(i=this.colRef(r),t=""+i+l,p=this.escape(p),o.push('<c r="'+t+'" t="inlineStr"><is><t>'+p+"</t></is></c>"));return o}.call(this),c+='<row r="'+l+'">'+n.join("")+"</row>";return c},e.prototype.escape=function(e){return _.escape(e).replace(/[\x03\x04]/g,"")},e.prototype.rowRef=function(e){return e+1},e.prototype.colRef=function(e){var t,n,r;for(r="",t=e+1;t>0;)n=(t-1)%26,r=String.fromCharCode(65+n)+r,t=Math.floor((t-n)/26);return r},e}(),namespace("Exports.Exporters",function(t){return t.XLSXExporter=e})}.call(this),function(){var e;e=function(){function e(){}return e.prototype.actor=function(){return currentUser},e.prototype.to=function(e,t,n){var r,i,o,a,s,u,l,c,p,h,f,d;for(null==n&&(n={}),/^(manage|create|read|update|destroy)$/.test(e)||log.warn("able.js unrecognized action",e,t),i=_.result(this,"actor"),f=n.as||this.roleForResource(i,t,n[t]),h=n[t],r=_.uniq(["manage",e]),d=this.effectiveRolesFor(f),a=0,u=d.length;u>a;a++)for(f=d[a],s=0,l=r.length;l>s;s++)if(e=r[s],o=null!=(c=this.abilities[f])&&null!=(p=c[e])?p[t]:void 0,_.isRegExp(o)?o=this.authorizeRegex(o,i):_.isFunction(o)&&(o=o(i,h)),o===!0)return!0;return!1},e.prototype.can=function(){return this.to.apply(this,arguments)},e.prototype.flush=function(){var e,t,n,r,i,o,a,s,u;for(e=[],n=["manage","create","read","update","destroy"],s=this.resources,r=0,o=s.length;o>r;r++)for(u=s[r],i=0,a=n.length;a>i;i++)t=n[i],this.can(t,u)&&e.push(t+"-"+u);return $("body").attr("data-ability",e.join(" "))},e.prototype.roleForResource=function(e,t,n){var r;return r=this.roles[t],r&&_.isFunction(r)&&(r=r(e,n)),null!=r?r:this.roleForResource(e,"default",n)},e.prototype.effectiveRolesFor=function(e){var t;return[e].concat((null!=(t=this.abilities[e])?t.inherit:void 0)||[])},e.prototype.authorizeRegex=function(e,t){return e.test(null!=t?t.get("username"):void 0)},e}(),window.Able=e}.call(this),function(){var e,t,n,r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty,a=[].slice;n=/\{\{\s*(.+?)\s*\}\}/g,e=function(e){function t(){return this.autocompletes=r(this.autocompletes,this),t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.className="Attribute",t.prototype.paramRoot="attribute",t.prototype.defaults=function(){return{type:"Attribute","private":!1,category:"General",limit:1,locked:!1,expression:null,prompt:"autocomplete",format:"string",editor:null,core:!1,reserved:!1,icon:null,values:[],sort:!1,cluster:!0}},t.isExpression=function(e){return/^=/.test(e)},t.parseExpression=function(e){return this.isExpression(e)?e.slice(1).trim():e},t.formatExpression=function(e){return this.isExpression(e)?e:"= "+e},t.prototype.set=function(e,n,r){var i;return"object"==typeof e?(i=e.expression,r=n,n=void 0):"expression"===e&&(i=n),i&&this.compileExpression(i),t.__super__.set.apply(this,arguments),(null!=r?r.safe:void 0)||this.enforceReservedAttributes(),this},t.prototype.compileExpression=function(e){var t;return t=e.replace(n,function(e,t){return t.camelize()}),this.compiledExpression=math.compile(t)},t.prototype.evaluate=function(e){var t,n;try{return n={},Object.keys(e).forEach(function(t){return n[t.camelize()]=e[t]}),this.compiledExpression.eval(n)}catch(r){return t=r,void log.debug("Unable to compute field value",this.get("name"),e)}},t.prototype.enforceReservedAttributes=function(){return ReservedAttributes.enforce(this)},t.prototype.toString=function(){return this.label()||"Attribute"},t.prototype.values=function(){return _.clone(this.get("values"))},t.prototype.add=function(){var e,t;return t=1<=arguments.length?a.call(arguments,0):[],e=this.values(),e.push.apply(e,t),this.set("values",_.uniq(e)),this},t.prototype.remove=function(){var e,t;return t=1<=arguments.length?a.call(arguments,0):[],e=this.values(),e=_.without.apply(_,[e].concat(a.call(t))),this.set("values",e),this},t.prototype.is=function(e){return e?this===e||this.id===e||this.cid===e||this.key()===e.toLowerCase():!1},t.prototype.format=function(){return this.get("format")},t.prototype.editor=function(){return this.get("editor")||AttributesHelper.suggestEditor(this)},t.prototype.choices=function(){var e;return this.isElementRef()?this.getElementChoices():"none"===this.get("prompt")?[]:(e=_.clone(this.get("values")),0===e.length&&(e=this.getUniqueValues()),this.get("sort")&&e.sort(),withoutBlanks(e))},t.prototype.hasDynamicChoices=function(){return this.isElementRef()},t.prototype.shouldSaveNewChoices=function(){var e;return e=this.get("values"),this.get("locked")?!1:"none"===this.get("prompt")?!1:this.hasDynamicChoices()?!1:Array.isArray(e)&&e.length},t.prototype.isElementRef=function(){return"element"===this.get("format")},t.prototype.getElementChoices=function(){var e,t,n,r,i;return e=_.defaults({},this.get("values"),{scope:"map",selector:"element"}),t=e.scope,i=e.selector,n="map"===t?Selector.selectPrimary:Selector.selectProject,r=n(i),r.collect(function(e){return{label:e.label(),value:e.id}})},t.prototype.getUniqueValues=function(){var e,t,n,r,i,o;for(e=this.get("name"),o=[],t=function(){switch(this.key()){case"element type":return Elements.models;case"connection type":return Connections.models;case"loop type":return Loops.models;default:return[].concat(Elements.models,Connections.models,Loops.models)}}.call(this),r=0,i=t.length;i>r;r++)n=t[r],o.push(n.getAttr(e));return _.chain(o).flatten().compact().uniq().value().sort()},t.prototype.isTypeAttribute=function(){var e;return e=this.key(),"element type"===e||"connection type"===e||"loop type"===e},t.prototype.getAssignments=function(){var e,t,n,r,i,o,a;for(t=this.get("name"),e={},n=Elements.models.concat(Connections.models),i=0,o=n.length;o>i;i++)r=n[i],a=r.attrs.get(t),null!=a&&(e[r.cid]=a);return e},t.prototype.autocompleteValue=function(){var e,t;return e=this.get("name"),t=new Backbone.CouchCollection,t.view="attributes/values",t.query={startkey:[e],endkey:[e,{}],group:!0},t.fetch().done(function(){return function(){return log.info.apply(log,["autocomplete result is"].concat(a.call(arguments)))}}(this)).fail(function(){return function(){return log.info.apply(log,["autocomplete failed"].concat(a.call(arguments)))}}(this))},t.prototype.limit=function(){var e;return e=this.get("limit"),"none"===e?Infinity:e},t.prototype.isSingular=function(){return 1===this.get("limit")},t.prototype.isDivisive=function(){return"none"!==this.get("prompt")},t.prototype.isPrompted=function(){return"none"!==this.get("prompt")},t.prototype.isPrivate=function(){return this.get("private")},t.prototype.isPublic=function(){return!this.isPrivate()},t.prototype.isSortable=function(){return!0},t.prototype.isCore=function(){return this.get("core")},t.prototype.isReserved=function(){return this.get("reserved")},t.prototype.isComputed=function(){return Boolean(this.get("expression"))},t.prototype.autocompletes=function(){return this.get("autocomplete")},t.prototype.isSingle=function(){return this.get("single")},t.prototype.isMultiple=function(){return!this.get("single")},t.prototype.isPooled=function(){return this.get("pooled")},t.prototype.isShort=function(){return this.get("short")},t.prototype.isLong=function(){return!this.get("short")},t.prototype.canHaveManyValues=function(){return this.isMultiple()},t.prototype.isFormatted=function(){return"string"!==this.get("format")},t.prototype.label=function(){return this.get("label")||this.get("name")},t.prototype.key=function(){return this.get("name").toLowerCase()},t.prototype.slug=function(){return this.get("name").slugify()},t.prototype.friendly=function(){return this.get("name").friendly()},t.prototype.singularize=function(){return 1===this.limit()?this.label():this.label().singularize()},t.prototype.pluralize=function(){return 1===this.limit()?this.label().pluralize():this.label()},t.prototype.typed=function(){var e;return e=this.get("format"),_.isObject(e)&&(e=e.source),Cast.as(e)},t.prototype.validateValue=function(e){return this.typed().validate(e)},t.prototype.massageValue=function(e){return this.typed().massage(e)},t.prototype.parseValue=function(e){return this.typed().parse(e)},t.prototype.formatValue=function(e){return this.typed().format(e)},t}(Backbone.CouchModel),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.view="resources/all",n.prototype.query={key:"Attribute"},n.prototype.model=e,n.prototype.index=function(e){return[e.id,e.cid,e.slug(),e.key(),e.get("name")]},n.prototype.format=function(e,t){return e=this.get(e),e?e.formatValue(t):t},n.prototype.choices=function(e){return e=this.resolve(e),e.choices()},n.prototype.resolve=function(t){var n;return t instanceof e?t:(n=t,Attributes.findByName(n)||new e({name:n}))},n.prototype.build=function(t){var n;return null==t&&(t={}),n=new e(t),this.add(n),n},n.prototype.buildMetric=function(e){return this.add({name:e,limit:1,format:"number",category:"Metrics"})},n.prototype.findOrAddByName=function(e){return this.findByName(e)||this.add({name:e})},n.prototype.findByName=function(e){return this.get(e.toLowerCase())},n.prototype.pluck=function(e){return"label"===e?this.collect(function(e){return e.label()}):n.__super__.pluck.call(this,e)},n.prototype.get=function(t){var r;return t instanceof e?n.__super__.get.apply(this,arguments):(r=(null!=t?t.name:void 0)||t)?n.__super__.get.call(this,r.slug()):void 0},n.prototype.getCategories=function(){return _.chain(this.pluck("category")).compact().uniq().sort().value()},n.prototype.getCustomAttributes=function(){return this.reject(function(e){return e.isCore()})},n.prototype.getCustomAttributeNames=function(){return _.map(this.getCustomAttributes(),function(e){return e.get("name")})},n.prototype.getTypeAttributeForCollection=function(e){var t;return t=function(){switch(e){case"elements":return"element type";case"connections":return"connection type";case"loops":return"loop type"}}(),this.get(t)},n.prototype.visible=function(){return new n(this.visibleAttributes())},n.prototype.visibleAttributes=function(){return able.to("manage","attributes")?this.models:this.filter(function(e){return e.isPublic()})},n.prototype.categorized=function(){var e,t,n,r;return e=this.groupBy("category"),r=_.chain(e).keys().without("General","Footnotes").value().sort(),t=[],e.General&&t.push("General"),t.push.apply(t,r),e.Footnotes&&t.push("Footnotes"),n=function(t){return{name:t,attributes:e[t]}},_.map(t,n)},n.prototype.metrics=function(){return this.filter(function(e){return/^metrics$/i.test(e.get("category"))})},n.prototype.expressionable=function(){return this.filter(function(e){return 1===e.get("limit")&&/^(number|currency)$/.test(e.get("format"))})},n}(Backbone.CouchCollection),namespace("window",function(n){return n.Attribute=e,n.AttributeCollection=t})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e,t){n.__super__.constructor.call(this,e,t),this.evaluateAll()}return t(n,e),n.prototype.toJSON=function(){var e;return e=this.withoutComputedAttrs(this.attributes),cloned(e)},n.prototype.withoutComputedAttrs=function(){return _.omit(this.attributes,function(e,t){var n;return null!=(n=Attributes.get(t))?n.isComputed():void 0})},n.prototype.evaluateAll=function(){var e;for(e in this.attributes)this.evaluate(e);return void 0},n.prototype.evaluate=function(e){var t,n;return t=Attributes.get(e),t&&t.isComputed()?(n=t.evaluate(this.attributes),this.set(e,n)):void 0},n.prototype.get=function(e){return this.evaluate(e),n.__super__.get.call(this,this._prepareAttr(e))},n.prototype.getAll=function(e){var t;return t=this.get(e),null!=t?_.isArray(t)?t:[t]:[]},n.prototype.has=function(e,t){var n;return e=this._prepareAttr(e),2===arguments.length?(n=this.attributes[e],_.isEqual(n,t)||_.include(n,t)):(t=this.attributes[e],null!=t&&!(""===t||_.isEqual(t,[])||_.isEqual(t,{})))},n.prototype.hasChanged=function(e){return n.__super__.hasChanged.call(this,this._prepareAttr(e))},n.prototype.set=function(e,t,r){var i,o;return o=this._attrsAndOptions.apply(this,arguments),i=o[0],r=o[1],n.__super__.set.call(this,i,r)},n.prototype.unset=function(e,t){return e=this._prepareAttr(e),n.__super__.unset.call(this,e,t)},n.prototype.edit=function(e,t,n){var r;return r=this.get(e),r[t]=n},n.prototype.push=function(e,t,n){var r,i,o,a;i=this._attrsAndOptions.apply(this,arguments),r=i[0],n=i[1],o=[];for(e in r)t=r[e],a=this.attributes[e],_.include(a,t)||(a=_.isArray(a)?a:null!=a?[a]:[],a.push(t),o.push(this.set(e,a,n)));return o},n.prototype.pop=function(e,t){var n,r,i,o,a;o=this._attrsAndOptions.apply(this,arguments),n=o[0],r=o[1],a=[];for(e in n)t=n[e],i=this.attributes[e],_.isArray(i)?(t=_.without(i,t),0===t.length&&(t=null)):t=_.isEqual(i,t)?null:i,a.push(null!=t?this.set(e,t,r):this.unset(e,r));return a},n.prototype.merge=function(e,t,n){var r,i,o,a;o=this._attrsAndOptions.apply(this,arguments),r=o[0],n=o[1],a=[];for(e in r)t=r[e],i=this.attributes[e],_.isArray(i)&&(t=_.chain(i).concat(t).uniq().value()),a.push(this.set(e,t,n));return a},n.prototype.rename=function(e,t){var n;if(e&&t&&e!==t)return n=this.get(e),null!=n?this.set(t,n):this.unset(t),this.unset(e)},n.prototype._attrsAndOptions=function(e,t,n){var r,i;null==n&&(n={}),_.isString(e)?(r={},r[e]=t):e instanceof Attribute?(r={},r[e.get("name")]=t):(r=e,n=t),i={};for(e in r)t=r[e],i[this._prepareAttr(e)]=t;return[i,n]},n.prototype._prepareAttr=function(e){return e instanceof Attribute?e.key():e.toLowerCase()},n}(Backbone.Model),namespace("window",function(t){return t.AttributeModel=e})}.call(this),function(){var e;e=function(){function e(e){var t,n;null==e&&(e={}),e=_.defaults({},e,_.result(this,"defaults"));for(t in e)n=e[t],this[t]=n;this.initialize(e)}return e.prototype.defaults={},e.prototype.initialize=function(){},e}(),namespace("window",function(t){return t.BasicModel=e})}.call(this),function(){var e;e={trySave:function(e,t,n){return able.to(e,t)?n.save():(n.reify(),$.when(n))},trySaveMap:function(t){return e.trySave("manage","maps",t)},trySavePerspective:function(t){return e.trySave("manage","perspectives",t)},trySaveAttribute:function(t){return e.trySave("manage","attributes",t)},trySaveSettings:function(){return e.trySave("manage","settings",Settings)},attributes:function(t){var n,r;return r=function(){var r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(e.attribute(n));return o}(),$.when.apply($,r)},attribute:function(t){var n,r,i;return r=Attributes.get(t.name),r?(i=r.toMemento(),r.set(t),i.hasChanged()?e.trySaveAttribute(r):$.when(r)):(n=Attributes.add(t),e.trySaveAttribute(n))}},namespace("window",function(t){return t.Bootstrap=e})}.call(this),function(){var e,t,n,r,i,o,a,s,u,l;u=function(e,t){return n(1,e,t)},a=function(e,t){return n("none",e,t)},n=function(e,t,n){return _.extend({limit:e,format:t},n)},l=function(e,t){var n;return n={category:"Social",format:e+"-profile",icon:e},u("string",_.defaults({},t,n))},s=function(e){var t;return t={category:"Metrics"},u("number",_.defaults({},e,t))},e=["Label","Description","Tags","Element Type","Connection Type","Loop Type"],t={label:{core:!0,limit:1,format:"string",prompt:"autocomplete",editor:"string"},description:{core:!0,limit:1,format:"text",prompt:"none",cluster:!1},"element-type":{core:!0,limit:1,format:"string",prompt:"list",editor:"radio"},"connection-type":{core:!0,limit:1,format:"string",prompt:"list",editor:"radio",cluster:!1},"loop-type":{core:!0,limit:1,format:"string",prompt:"list",editor:"radio",cluster:!1},tags:{core:!0,limit:"none",format:"string",prompt:"autocomplete"},id:u("string"),image:u("image"),email:u("email"),url:u("url"),community:u("string",{prompt:"list",editor:"radio"}),"twitter-profile":l("twitter"),"facebook-profile":l("facebook"),"linkedin-profile":l("linkedin"),"github-profile":l("github"),size:s(),ties:s(),pairs:s(),degree:s(),indegree:s(),outdegree:s(),closeness:s(),farness:s(),betweenness:s(),reach:s(),reach1:s(),reach2:s(),reach3:s(),"reach-efficiency":s(),"micmac-influence":s(),"micmac-exposure":s(),"metrics::last":s({core:!0})},o=function(e){return t[e]},i=function(e){var t;return e instanceof Attribute?e.has("name")&&(t=o(e.slug()))?(t=_.clone(t),t.reserved=!0,e.set(t,{safe:!0})):void 0:_.extend(e,o(e.name.slug()))},r=e.map(function(e){return _.extend(o(e.slug()),{name:e})}),this.ReservedAttributes={core:r,enforce:i}}.call(this),function(){var e;e=function(){return Bootstrap.attributes(ReservedAttributes.core)},Bootstrap.foundation=function(){return e()},Bootstrap.foundation.attributes=ReservedAttributes.core,Bootstrap.foundationAttributes=e}.call(this),function(){Bootstrap.social=function(){var e,t,n,r,i,o,a,s;for(s=["Twitter","Facebook","LinkedIn"],e=[],r=t=0,i=s.length;i>t;r=++t)a=s[r],o=a+" Profile",n=a.toLowerCase(),e.push({name:o,icon:n,format:"url",category:"Social",position:r,limit:1});return Bootstrap.attributes(e)}}.call(this),function(){var e,t,n,r,i,o,a,s;n={},r={nautical:["#003250","#5893ac","#bbd2e0","#f2f2f5","#a7a7a7","#787878"],deepsea:["#005F98","#296F98","#3C779A","#60849A","#788D9A"],heat:["#000000","#4D0600","#9C0200","#FF6100","#FFF60B","#FFFFFF"],babygirl:["#CC66A4","#CE8DAD","#D4AFBD","#DECED2","#EDE9E9","#FFFFFF"],coffee:["#684F19","#86723D","#A49561","#C3B984","#E1DCA8","#FFFFCC"],stoplight:["#62B944","#FDBE0F","#E02D28"],bujumbra:["#BE420E","#BE6D0E","#6B4F2E","#CCA066","#E0D752","#A5BE0E","#4197E3"],neon:["#9FDE00","#E7000C","#EC008C","#FF7404","#FFBE2A","#8FB9E1","#D5EAFF","#F6F4F4"],neon2:["#00B9FC","#FEE300","#8EDC0C","#F69010","#FD0100","#F33389","#0B080F"],olympic:["#007AC3","#FDBE0F","#4CC9E9","#E02D28","#62B944"]},e={temp:"heat",temperatue:"heat",traffic:"stoplight"},t=null,o=function(t){var o,a,s,u;return u=t.toLowerCase().match(/^(.*?)(-inverted)?$/),s=u[0],t=u[1],a=u[2],t=t.replace("-",""),o=n[t]||r[t]||r[e[t]]||i(t),o=o.slice(0),a&&o.reverse(),o},s=function(e,t){return n[e.toLowerCase()]=t},i=function(e){return null==t&&(t=a()),t[e]},a=function(){var e,t,n,r;r={},n=chroma.brewer;for(t in n)e=n[t],r[t.toLowerCase()]=e;return r},this.Colors={get:o,set:s}}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.defaults=function(){return{decorations:{}}},t.prototype.initialize=function(){var e,t;return this.canvas={},this.locks={selected:!1,hover:!1,active:!1},this.invalid=!0,this.pickable=null!=(e=this.attributes.pickable)?e:!0,delete this.attributes.pickable,this.locked=null!=(t=this.attributes.locked)?t:!1,delete this.attributes.locked,this.layout={ready:!1,invalid:!0},this.style={ready:!1,invalid:!0},this.display={ready:!1,invalid:!0}},t.prototype.clone=function(){var e;return e=t.__super__.clone.apply(this,arguments),e.setEntity(this.entity),e},t.prototype.toString=function(e){var t,n;return null!=(t=null!=(n=this.entity)?n.toString(e):void 0)?t:this.className+" "+(this.id||this.cid)},t.prototype.setMap=function(e){return e?(this.map=e,this.set("map_id",e.id)):void 0},t.prototype.getMap=function(){return this.map},t.prototype.setEntity=function(e){return this.beforeEntityChanged(e),this.entity&&this.stopListening(this.entity),this.entity=e,this.set("entity_id",this.entity?this.entity.id:null),this.entity&&this.listenTo(this.entity,"change",this.onEntityModified),this.onEntityChanged(this.entity),this.trigger("change:entity",this,e),this.afterEntityChanged(e)},t.prototype.beforeEntityChanged=function(){},t.prototype.onEntityChanged=function(){},t.prototype.afterEntityChanged=function(){},t.prototype.onEntityModified=function(e){return e.hasChanged("_id")&&this.set("entity_id",e.id,{silent:!0}),this.invalidate()},t.prototype.getLabel=function(){return this.entity.getLabel()},t.prototype.key=function(){return this.entity_id},t.prototype.is=function(e){return e instanceof t?this===e:e instanceof Entity?this.entity?this.entity===e:this.entity_id===e.id:void 0},t.prototype.isNode=function(){return this instanceof Node},t.prototype.isEdge=function(){return this instanceof Edge},t.prototype.isLabel=function(){return this instanceof Label},t.prototype.invalidate=function(e,t){var n,r;return null==e&&(e="all"),this.display.ready=!1,r=function(){switch(e){case"all":return this.style.invalid=this.layout.invalid=this.display.invalid=!0,n="invalidate invalidate:style invalidate:layout invalidate:display";default:return this[e].invalid=!0,n="invalidate invalidate:"+e}}.call(this),(null!=t?t.silent:void 0)||this.trigger(n,this),map.invalidate()},t.prototype.onSelect=function(){return this.selected=!0,this.invalidate("display")},t.prototype.isSelected=function(){return this.selected===!0},t.prototype.isLocked=function(e){return e?this.locks[e]:this.locks.position||this.locks.selected||this.locks.hover||this.locks.active},t.prototype.engage=function(){return this.active=!0,this.pickable=!1,this.lock("active")},t.prototype.disengage=function(){return this.active=!1,this.pickable=!0,this.unlock("active")},t.prototype.lock=function(e){return this.locks[e]=!0,this.invalidate("layout")},t.prototype.unlock=function(e){return e?this.locks[e]=!1:this.locks.position=this.locks.selected=this.locks.hover=this.locks.active=!1,this.invalidate("layout")},t.prototype.select=function(){return this.selected=!0,this.lock("selected"),this.invalidate("display")},t.prototype.deselect=function(e){return e=_.extend({silent:!1},e),this.selected=this.active=this.indirectlyActive=this.highlighted=!1,this.unlock("selected"),this.invalidate("display",e)},t.prototype.onMouseEnter=function(){return this.hover=!0,this.invalidate("display")},t.prototype.onMouseLeave=function(){return this.hover=!1,this.invalidate("display")},t.prototype.getDirectSelector=function(e){return this.entity.getDirectSelector(e)},t.prototype.isPinnable=function(){return this.isNode()||this.isLabel()},t.prototype.isPinned=function(){return this.get("pinned")},t.prototype.pin=function(){var e;return e={pinned:!0},null==e.position&&(e.position=this.position.toJSON()),this.set(e)},t.prototype.float=function(){return this.set("pinned",!1)},t.prototype.translate=function(e,t,n){return this.updatePosition(this.position.x+e,this.position.y+t,n)},t.prototype.updatePosition=function(e,t,n){return null==n&&(n=!0),this.position.x!==e||this.position.y!==t?(this.position.x=e,this.position.y=t,this.positionUpdated=!0,n?this.invalidate("layout"):void 0):void 0},t.prototype.restoreSavedPosition=function(){var e;return(e=this.get("position"))?this.updatePosition(e.x,e.y):void 0},t}(Backbone.CouchModel),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.model=e,r.prototype.index=function(e){var t,n;return[e.id,e.cid,null!=(t=e.entity)?t.id:void 0,null!=(n=e.entity)?n.cid:void 0]},r.prototype.findByEntity=function(){return this},r.prototype.removeComponentsWithoutEntities=function(e){var t,n,r,i,o,a,s;for(r=[],s=this.models,n=0,o=s.length;o>n;n++)t=s[n],null==t.entity&&r.push(t);for(i=0,a=r.length;a>i;i++)t=r[i],this.remove(t,e);return r},r}(Backbone.CouchCollection),namespace("window",function(n){return n.Component=e,n.ComponentCollection=t})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=/^change/,window.Entity=function(n){function r(e,t){null==e&&(e={}),null==e.attributes&&(e.attributes={}),r.__super__.constructor.call(this,e,t)}return t(r,n),r.prototype.className="Entity",r.prototype.labelAttr="label",r.prototype.initialize=function(){return this.attrs=this.ownAttrs=new AttributeModel(this.attributes.attributes),delete this.attributes.attributes,this.listenTo(this.attrs,"all",this.forwardChangeEvents)},r.prototype.forwardChangeEvents=function(t,n,r,i){return e.test(t)?this.trigger(t,this,r,i):void 0},r.prototype.toJSON=function(){var e;return e=r.__super__.toJSON.apply(this,arguments),this.attrs&&(e.attributes=this.attrs.toJSON()),e},r.prototype.isVirtual=function(){return this.isNew()},r.prototype.isElement=function(){return this instanceof Element},r.prototype.isConnection=function(){return this instanceof Connection},r.prototype.isLoop=function(){return this instanceof Loop},r.prototype.getDirectSelector=function(e){var t,n;return null==e&&(e={informal:!1}),t=this.attrs.get("id")||e.informal&&this.getInformalID()||this.id||this.getInformalID(),n="#"+t,e.scope&&(n=this.scopeName+n),n},r.prototype.getCustomID=function(){return this.attrs.get("id")},r.prototype.getInformalID=function(){var e;return null!=(e=this.getLabel())?e.slugify():void 0},r.prototype.getCommonID=function(){return this.getInformalID()},r.prototype.getBlockID=function(){var e;return null!=(e=this.getLabel())?e.blockify():void 0},r.prototype.getTypeSelector=function(){var e;return e=String(this.type()).friendly(),"null"===e&&(e="undefined"),(this.isConnection()||"undefined"===e&&!this.isElement())&&(e+="-"+this.scopeName),e},r.prototype.type=function(e){return this._getSetAttr(this.typeAttr,e)},r.prototype.label=function(e){return this._getSetAttr(this.labelAttr,e)},r.prototype.slug=function(){return this.getInformalID()},r.prototype.translug=function(){var e;return null!=(e=this.slug())?e.translugify():void 0},r.prototype.getType=function(){return this.type()},r.prototype.getLabel=function(){return this.label()},r.prototype.getFallbackLabel=function(){},r.prototype.getProfileImage=function(){return this.getImage("large")||this.attrs.get("email")&&this.getAvatar({size:200})},r.prototype.getImage=function(e){var t;return"large"===e&&(t=this.attrs.get("image2x")),null==t&&(t=this.attrs.get("image")),t},r.prototype.getAvatar=function(e){return null==e&&(e={}),e=_.extend({size:80},e),this.attrs.has("email")?Gravatar.get(this.attrs.get("email"),e):void 0},r.prototype.isLinked=function(){return!!this.get("proxied_workspace_id")},r.prototype.getProxiedWorkspace=function(){return this.isLinked()?currentProject.workspaces.get(this.get("proxied_workspace_id")):null},r.prototype.getRelevantAttributes=function(){return Settings.getRelevantAttributes(this)},r.prototype.set=function(e,t,n){var i,o,a;return _.isObject(e)&&null!=e.attributes&&null!=this.attrs?(i=e,n=t,o=_.omit(i,"attributes"),r.__super__.set.call(this,o,n),a=i.attributes,this.attrs.clear(n),this.attrs.set(a,n)):r.__super__.set.apply(this,arguments)},r.prototype.getAttrs=function(e){return null!=e?this.attrs.getAll(e):this.attrs.attributes},r.prototype.getAssignedAttrs=function(){return _.keys(this.attrs.attributes)},r.prototype.setAttr=function(){var e;return(e=this.attrs).set.apply(e,arguments)},r.prototype.setAttrs=function(){var e;return(e=this.attrs).set.apply(e,arguments)},r.prototype.editAttr=function(){var e;return(e=this.attrs).edit.apply(e,arguments)},r.prototype.getAttr=function(){var e;return(e=this.attrs).get.apply(e,arguments)},r.prototype.unsetAttr=function(){var e;return(e=this.attrs).unset.apply(e,arguments)},r.prototype.hasAttr=function(){var e;return(e=this.attrs).has.apply(e,arguments)},r.prototype.pushAttr=function(){var e;return(e=this.attrs).push.apply(e,arguments)},r.prototype.popAttr=function(){var e;return(e=this.attrs).pop.apply(e,arguments)},r.prototype.mergeAttr=function(){var e;return(e=this.attrs).merge.apply(e,arguments)},r.prototype.renameAttr=function(){var e;return(e=this.attrs).rename.apply(e,arguments)},r.prototype.attrHasChanged=function(){var e;return(e=this.attrs).hasChanged.apply(e,arguments)},r.prototype.setMetric=function(e,t,n){return this.setAttr(e,t,n),this.setAttr("metrics::last",t,n)},r.prototype.getSyncedAttrs=function(){return this.synced("attributes")},r.prototype.getSyncedAttr=function(e){return this.synced("attributes")[e]},r.prototype._getSetAttr=function(e,t){return null!=t?(this.attrs.set(e,t),this):this.attrs.get(e)},r}(Backbone.CouchModel),window.EntityCollection=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=Entity,n.prototype.index=function(e){var t,n,r,i;return t=e.getAttr("id"),i=e.type(),r=e.label(),n=[],t&&n.push(t),r&&(r=String(r).toLowerCase(),i=String(i).toLowerCase(),n.push(r),n.push(i+"::"+r)),n},n}(Backbone.CouchCollection)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty,i=[].slice;e=function(e){function r(){return this.isConnectable=t(this.isConnectable,this),this.isEmpty=t(this.isEmpty,this),this.is=t(this.is,this),this.last=t(this.last,this),this.second=t(this.second,this),this.first=t(this.first,this),this.count=t(this.count,this),this.clear=t(this.clear,this),this.toggle=t(this.toggle,this),this.bindToWorkspace=t(this.bindToWorkspace,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.model=Entity,r.union=function(){var e,t;return e=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],new r(_.union.apply(_,_.pluck(t,"models")))},r.intersection=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],new r(_.intersection.apply(_,_.pluck(e,"models")))},r.prototype.dispose=function(){return this.stopListening(),this.reset()},r.prototype.clone=function(){return new this.constructor(this.models)},r.prototype.union=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],this.reset(_.union.apply(_,_.pluck(e,"models")))},r.prototype.intersection=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],this.reset(_.intersection.apply(_,_.pluck(e,"models")))},r.prototype.ids=function(){return this.collect(function(e){return e.id})},r.prototype.cids=function(){return this.collect(function(e){return e.cid})},r.prototype.bindToWorkspace=function(){return currentWorkspace.elements.bind("remove",function(e){return function(t){return e.remove(t)}}(this)),currentWorkspace.connections.bind("remove",function(e){return function(t){return e.remove(t)}}(this))},r.prototype.toggle=function(e,t){return this.include(e)?this.remove(e,t):this.add(e,t)},r.prototype.clear=function(){return this.isEmpty()?void 0:this.reset()},r.prototype.count=function(){return this.length},r.prototype.first=function(){return this.at(0)},r.prototype.second=function(){return this.at(1)},r.prototype.last=function(){return this.at(this.length-1)},r.prototype.is=function(e){return e?1===this.length&&this.first()===e:0===this.length},r.prototype.isEmpty=function(){return 0===this.length
},r.prototype.isConnectable=function(){return(1===this.length||2===this.length)&&this.all(function(e){return e instanceof Node||e instanceof Element})},r.prototype.save=function(){return $.when.apply($,this.invoke("save"))},r}(Backbone.Collection),namespace("window",function(t){return t.SelectionModel=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=Component,n.prototype.clone=function(){return new n(this.models)},n.prototype.toEntitySelection=function(){return new EntitySelection(this.getEntities())},n.prototype.select=function(e){switch(e){case"elements":return this.getElements();case"connections":return this.getConnections();default:return n.__super__.select.apply(this,arguments)}},n.prototype.getEntities=function(){return this.map(function(e){return e.entity})},n.prototype.getElements=function(){var e;return e=[],this.each(function(t){return t.isNode()?e.push(t.entity):void 0}),e},n.prototype.getConnections=function(){var e;return e=[],this.each(function(t){return t.isEdge()?e.push(t.entity):void 0}),e},n.prototype.getBounds=function(e){var t;return t=new Rectangle,this.each(function(n){return n.visible?t.bound(n.bounds(e)):void 0}),t},n.prototype.getPositionBounds=function(){var e;return e=new Rectangle,this.each(function(t){return t.visible&&t.position?e.bound(t.position):void 0}),e},n.prototype.nodes=function(e){var t;return null==e&&(e={indirect:!1}),t=this.map(function(t){return t.isNode()?t:e.indirect?t.nodes():void 0}),_.chain(t).flatten().compact().uniq().value()},n.prototype.edges=function(){return this.filter(function(e){return e.isEdge()})},n.prototype.labels=function(){return this.filter(function(e){return e.isLabel()})},n.prototype.includeLabel=function(e){return this.any(function(t){return null!=e?t===e:t.isLabel()})},n.prototype.pinnables=function(){return this.filter(function(e){return e.isPinnable()})},n.prototype.lock=function(e){var t,n,r,i;for(i=this.models,n=0,r=i.length;r>n;n++)t=i[n],t.lock(e);return this},n.prototype.unlock=function(e){var t,n,r,i;for(i=this.models,n=0,r=i.length;r>n;n++)t=i[n],t.unlock(e);return this},n.prototype.isPinned=function(){return _.all(this.nodes(),function(e){return e.get("pinned")})},n.prototype.isLabel=function(){return 1===this.length&&this.first()instanceof Label},n.prototype.label=function(){},n.prototype.isMixed=function(){var e;return e=this.first().className,this.any(function(t){return t.className!==e})},n.prototype.remove=function(e){var t,r;return e instanceof EntitySelection?(t=e,r=this.filter(function(e){return t.contains(e.entity)}),this.remove(r)):e instanceof n?this.remove(e.models):n.__super__.remove.apply(this,arguments)},n}(SelectionModel),namespace("window",function(t){return t.ComponentSelection=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.build=function(e,t){return new n(_.defaults({model:e},t))},n.prototype.defaults=function(){return{model:null,mine:null,theirs:null,old:null,status:"unresolved"}},n.prototype.initialize=function(){return this.initializeDefaults()},n.prototype.initializeDefaults=function(){var e,t;return t=this.model(),t?(e={},this.has("mine")||(e.mine=t.toJSON()),this.has("old")||(e.old=t.syncedAttributes()),this.set(e)):void 0},n.prototype.edit=function(){return this.trigger("edit",this)},n.prototype.model=function(){return this.get("model")},n.prototype.mine=function(){return this.get("mine")},n.prototype.theirs=function(){return this.get("theirs")},n.prototype.old=function(){return this.get("old")},n.prototype.versions=function(){return _.pick(this.attributes,"mine","theirs","old")},n.prototype.current=function(e){return this.model().get(e)},n.prototype.my=function(e){return this.mine()[e]},n.prototype.their=function(e){return this.theirs()[e]},n.prototype.merged=function(e){return this.result[e].value},n.prototype.label=function(){return this.model().toString()},n.prototype.type=function(){return this.model().className},n.prototype.collection=function(){return this.type().pluralize().toLowerCase()},n.prototype.status=function(){return this.get("status")},n.prototype.conflicted=function(){var e;return null!=(e=this.result)?e.conflict:void 0},n.prototype.resolved=function(){var e;return null!=(e=this.result)?e.resolved:void 0},n.prototype.prepare=function(){return this.has("theirs")?$.when(!0):this.fetch()},n.prototype.fetch=function(){var e;return e=this,this.model().fetch({update:!1}).done(function(t,n){var r;return r=n,log.debug("Conflict fetch",r),e.set("theirs",r)}).fail(function(e,t){return log.error("Conflict unavailable",e,t)})},n.prototype.conflicts=function(e){return this.result.conflicts(e)},n.prototype.automerge=function(){var e;return log.debug("Attempting to automerge conflict",this),this.merge(),this.result.resolved?(log.info("Autoresolved conflict",this),this.resolve({background:!0})):(this.defer(),e=new $.Deferred,e.reject(),e.promise())},n.prototype.merge=function(){var e,t,n;this.result=this.merge3(this.mine(),this.theirs(),this.old()),n=_.extend({},_.result(this.model(),"conflictPreferences"),{_rev:"theirs",type:"any",created_at:"any",updated_at:"theirs"});for(e in n)t=n[e],this.result.favor(t,e);return this.result.refresh(),log.debug("Merge result was",this.result,this),this.result},n.prototype.merge3=function(e,t,n){return merge(e,t,n)},n.prototype.defer=function(){return log.warn("Deferring conflicts",this.conflicts("unresolved")),this.set("status","deferred"),this.trigger("defer",this,this.result)},n.prototype.resolve=function(e){var t,n,r,i,o,a;return n=this,o=this.model(),t=this.toJSON(),log.debug("Resolving conflict",this,t),a=_.isEqual(t,this.theirs())?this.pull(t,e):this.push(t,e),r=function(){return n.set("status","resolved"),n.trigger("resolve",n),o.trigger("merge",o,n)},i=function(){return log.error("Conflict resolution failed",n,t)},a.then(r,i)},n.prototype.pull=function(e){var t;return t=this.model(),t.set(e),t.resync(),$.when(this)},n.prototype.push=function(e,t){var n;return n=new Commands.Models.Update(this.model(),e),(null!=t?t.background:void 0)?n.execute():execute(n)},n.prototype.toJSON=function(e){return this.result.toJSON(e)},n}(Backbone.Model),namespace("window",function(t){return t.Conflict=e})}.call(this),function(){var e,t,n,r,i,o,a,s,u,l,c,p,h,f;n=new diff_match_patch,c=function(e,t,n){var r,i,o,a,s;for(a=["array","object","string"],r=0,o=a.length;o>r;r++)if(s=a[r],i=_["is"+s.capitalize()],i(e)&&i(t)&&(null==n||i(n)))return s},i=function(e,t,n,r){var o,a;return r=_.defaults({},r,{deep:!0}),o=c(e,t,n)||"simple",/array|object/.test(o)&&!r.deep&&(o="simple"),a=i[o](e,t,n,r),a.method=o,a},i.object=function(t,n,r,i){return null==r&&(r={}),p(t,n,r,i,function(o){var a;return a=_.union(_.keys(t),_.keys(n),_.keys(r)),e(o,{},a,i)})},i.array=function(e,t,n,r){var s;return null==n&&(n=[]),s=i.simple(e,t,n,r),s.resolved||a(s,e,t,n,r),s.resolved||o(s,e,t,n,r),s},a=function(n,r,i,o,a){var s,u,l;return u=function(){l=[];for(var e=0,t=Math.max(r.length,i.length,o.length);t>=0?t>e:e>t;t>=0?e++:e--)l.push(e);return l}.apply(this),s=function(e,n){return n>=o.length&&t(r[n],i[n])?(e.value=void 0,e.conflict=!0,e.resolved=!1):void 0},e(n,[],u,a,s)},o=function(e,t,n,r,o){var a,s;return a=function(){switch(_.any(t,h)||_.any(n,h)){case!0:return"\n^^^\n";case!1:return"\n"}}(),s=function(e){return e?e.join(a):""},e=i.string(s(t),s(n),s(r),o),e.delimiter=a,e},i.string=function(e,t,n,r){var o;return o=i.simple(e,t,n,r),o.resolved||l(o,e,t,n,r),o},l=function(e,t,n){var r,i,o,a,s,u,l;for(l="",/\n$/.test(t)||(t+="\n"),/\n$/.test(n)||(n+="\n"),u=JsDiff.diffLines(n,t),o=0,a=u.length;a>o;o++)i=u[o],r=i.added?"+":i.removed?"-":"",s=i.value.replace(/\n$/,"").split("\n"),s=_.map(s,function(e){return r+e+"\n"}),l+=s.join("");return e.value=l.replace(/\n$/,""),e},u=function(e,t,r,i){var o,a,s,u,l;return o=n.diff_main(i,r),n.diff_cleanupSemantic(o),n.diff_cleanupEfficiency(o),a=n.patch_make(o),s=n.patch_apply(a,t),l=s[0],u=s[1],e.resolved=_.all(u,function(e){return e}),e.value=l},s=function(e,t,n,r){var i,o,a,s,u,l,c,p,h;for(c=[],e.resolved=!0,null==t&&(t=""),null==n&&(n=""),null==r&&(r=""),p=Diff.diff3_merge(t,r,n,!1),i=0,u=p.length;u>i;i++)if(a=p[i],a.ok)c=c.concat(a.ok);else for(h=Diff.diff_comm(a.conflict.a,a.conflict.b),s=0,l=h.length;l>s;s++)o=h[s],o.common?c=c.concat(o.common):(e.resolved=!1,c=c.concat(["\n<<<<<<<<< theirs\n"]),o.file2.length>0&&(c=c.concat(o.file2,["\n"])),c=c.concat(["=========\n"]),o.file1.length>0&&(c=c.concat(o.file1,["\n"])),c=c.concat([">>>>>>>>> yours\n"]));return e.value=c.join("")},i.simple=function(e,t,n,i){return p(e,t,n,i,function(i){return r(e,t)?(i.conflict=!1,i.resolved=!0,i.value=e):(i.conflict=!0,r(e,n)?(i.resolved=!0,i.value=t):r(t,n)?(i.resolved=!0,i.value=e):void 0)})},e=function(e,t,n,r,o){var a,s,u,l;for(e.deep=!0,e.value=t,a=0,l=n.length;l>a;a++)u=n[a],s=i(e.mine[u],e.theirs[u],e.old[u],r),"function"==typeof o&&o(s,u,e),e.value[u]=s;return e.refresh()},p=function(e,t,n,r,i){var o;return o=new MergeResult({mine:e,theirs:t,old:n,options:r}),i(o),o},h=function(e){return/\n/.test(e)},r=function(e,t){return _.isEqual(e,t)},t=function(e,t){return!r(e,t)},f=function(e){return _.isArray(e)?e:null!=e?[e]:[]},this.merge=i}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){},n}(BasicModel),namespace("window",function(t){return t.MergeConflict=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty,r=[].slice;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.defaults=function(){return{value:void 0,conflict:!1,resolved:!1,deep:!1,ignored:!1}},n.prototype.initialize=function(){},n.prototype.at=function(){var e,t,n,i,o,a;for(i=1<=arguments.length?r.call(arguments,0):[],a=this,e=0,n=i.length;n>e;e++)if(t=i[e],!(a=null!=(o=a.value)?o[t]:void 0))return;return a},n.prototype.version=function(e){var t,n;return"any"===e?null!=(t=null!=(n=this.mine)?n:this.theirs)?t:this.old:this[e]},n.prototype.ignore=function(){var e,t;return e=1<=arguments.length?r.call(arguments,0):[],e.length?null!=(t=this.at.apply(this,e))&&t.ignore():this.ignored=!0,this},n.prototype.force=function(){var e,t,n;return e=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],t.length?null!=(n=this.at.apply(this,t))&&n.force(e):this.deep?this.each(function(t){return t.force(e)}):this.resolve(this.version(e)),this},n.prototype.favor=function(){var e,t,n;return e=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],t.length?null!=(n=this.at.apply(this,t))&&n.favor(e):this.deep?this.each(function(t){return t.favor(e)}):this.resolved||this.resolve(this.version(e)),this},n.prototype.resolve=function(){var e,t,n;switch(e=1<=arguments.length?r.call(arguments,0):[],e.length){case 0:this.resolved=!0;break;case 1:this.value=_.first(e),this.resolved=!0;break;default:t=_.initial(e),n=_.last(e),this.at.apply(this,t).resolve(n)}return this},n.prototype.conflicts=function(e){var t,n,r;return t=[],n=[],r=e?"resolved"===e:void 0,this._conflicts(t,n,r),t},n.prototype._conflicts=function(e,t,n){return this.deep?this.each(function(r,i){var o;return o=r._conflicts(e,t.concat(i),n),e.concat(o)}):!this.conflict||null!=n&&this.resolved!==n?void 0:e.push({path:t,result:this})},n.prototype.each=function(e){return _.each(this.value,e),this},n.prototype.refresh=function(){var e,t;return this.deep&&(e=!1,t=!0,this.each(function(n){return n.ignored?void 0:(n.refresh(),n.conflict&&(e=!0),n.resolved?void 0:t=!1)}),this.conflict=e,this.resolved=t),this},n.prototype.get=function(){var e,t,n,i,o;return e=1<=arguments.length?r.call(arguments,0):[],_.isString(e[0])?(_.isString(_.last(e))?t=e:(t=_.initial(e),n=_.last(e)),this.at.apply(this,t).get(n)):(n=null!=(i=e[0])?i:{},this.deep?(o=_.isArray(this.value)?[]:{},this.each(function(e,t){return e.ignored?void 0:o[t]=e.get(n)}),_.isArray(o)&&(o=_.compact(o)),o):(this.resolved?o=this.value:n.favor?o=this.version(n.favor):raise("Unresolved conflict"),o))},n.prototype.toJSON=function(e){return this.get(e)},n}(BasicModel),namespace("window",function(t){return t.MergeResult=e})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;window.Connection=function(n){function r(){return this.loadElement=e(this.loadElement,this),this.loadElements=e(this.loadElements,this),this.isFixed=e(this.isFixed,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.directions=["undirected","directed","mutual"],r.prototype.className="Connection",r.prototype.typeAttr="connection type",r.prototype.labelAttr="label",r.prototype.scopeName="connection",r.prototype.collectionName="connections",r.prototype.defaults=function(){return{type:"Connection",direction:"undirected",delayed:!1,reversed:!1}},r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.associate(),this.on("change:from_id change:to_id",this.loadElements)},r.prototype.associate=function(){var e,t,n,r,i,o;for(this.from&&this.stopListening(this.from),this.to&&this.stopListening(this.to),i=["from","to"],t=0,r=i.length;r>t;t++)o=i[t],e=this.attributes[o],e?(this[o]=e,this.set(o+"_id",e.id),delete this.attributes[o]):this[o]=(n=this.attributes[o+"_id"])?Elements.get(n):new Element;return this.from&&this.listenTo(this.from,"change:_id",function(e){return function(){return e.set("from_id",e.from.id,{silent:!0})}}(this)),this.to?this.listenTo(this.to,"change:_id",function(e){return function(){return e.set("to_id",e.to.id,{silent:!0})}}(this)):void 0},r.prototype.toString=function(e){return e&&e.verbose?this.getVerboseLabel():this.getLabel()||this.getFallbackLabel()},r.prototype.edges=function(){return raise("Edges unavailable")},r.prototype.buildEdge=function(){return new Edge({entity:this})},r.prototype.getVerboseLabel=function(){var e,t;return e=this.getLabel(),t=this.getDescriptiveLabel(),e?t+", "+e:t},r.prototype.getDescriptiveLabel=function(){return this.getFallbackLabel()},r.prototype.getFallbackLabel=function(){var e,t,n,r,i,o;return e=null!=(t=null!=(n=this.from)?n.toString():void 0)?t:"[deleted element]",o=null!=(r=null!=(i=this.to)?i.toString():void 0)?r:"[deleted element]","directed"===this.get("direction")?e+" to "+o:e+" and "+o},r.prototype.isFixed=function(){return this.from.isFixed()&&this.to.isFixed()},r.prototype.isReversed=function(){return this.get("reversed")},r.prototype.reverse=function(){return this.redirect({from:this.to,to:this.from}),this.set("reversed",!this.isReversed()),this.trigger("reverse",this),this},r.prototype.redirect=function(e,t){var n;return _.isObject(e)?n=e:(n={},n[e]=t),this.from=n.from||this.from,this.to=n.to||this.to,this.set({from_id:this.from.id,to_id:this.to.id}),this.trigger("redirect",this),this},r.prototype.connects=function(e,t){return this.from===e&&this.to===t||this.from===t&&this.to===e},r.prototype.include=function(e){return this.from===e||this.to===e},r.prototype.neighbor=function(e){return e===this.from?this.to:this.from},r.prototype.loadElements=function(e){return this.loadElement("from",e),this.loadElement("to",e)},r.prototype.loadElement=function(e,t){var n,r;return null==t&&(t={}),r=this.get(e+"_id"),!r||this[e]&&!t.force?void 0:(n=Elements.get(r)||raise("Element not found: "+r),n.connections.add(this),this[e]=n)},r}(Entity),window.ConnectionCollection=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=Connection,n.prototype.url="/connections",n.prototype.view="resources/all",n.prototype.query={key:"Connection"},n.prototype.findByElements=function(e,t){return this.find(function(n){return n.from===e&&n.to===t})},n.prototype.findByElementsAndType=function(e,t,n){return n=String(n).toLowerCase(),this.find(function(r){var i;return i=r.from===e&&r.to===t,i=i&&n===String(r.type()).toLowerCase()})},n.prototype.reconcile=function(e){var t,n,r,i;return _.isObject(e)?e instanceof Connection?e:e._id?this.get(e._id):(null!=(n=e.attributes)?n.id:void 0)?this.get(e.attributes.id):null!=e.from&&null!=e.to?(t=Elements.lookup(e.from),r=Elements.lookup(e.to),i=e.attributes&&e.attributes["connection type"],t&&r?i?this.findByElementsAndType(t,r,i)||this.findByElementsAndType(t,r,void 0):this.findByElementsAndType(t,r,void 0)||this.findByElements(t,r):void 0):void 0:this.get(e)},n}(EntityCollection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].slice;window.Dataset=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.initialize=function(e,t,n){return this.elements=e||new ElementCollection,this.connections=t||new ConnectionCollection,this.loops=n||new LoopCollection,this.set("status","initialized"),this.forwardEventsFor(this.elements,this.connections,this.loops)},r.prototype.summary=function(){return this.elements.length+"/"+this.connections.length+"/"+this.loops.length},r.prototype.dispose=function(){return this.reset(),this.stopListening()},r.prototype.reset=function(){return this.elements.reset(),this.connections.reset(),this.loops.reset()},r.prototype.clean=function(e){var t,n,r,i,o,a;for(null==e&&(e={}),_.defaults(e,{virtual:!0}),o=[this.connections,this.elements,this.loops],a=[],r=0,i=o.length;i>r;r++)t=o[r],a.push(function(){var e,r,i,o;for(i=t.where({virtual:!0}),o=[],e=0,r=i.length;r>e;e++)n=i[e],o.push(t.remove(n));return o}());return a},r.prototype.duplicate=function(){var e;return e=new r,e.elements.reset(this.elements.models),e.connections.reset(this.connections.models),e.loops.reset(this.loops.models),e},r.prototype.toArray=function(){return[].concat(this.elements.models,this.connections.models,this.loops.models)},r.prototype.entities=function(){return new EntityCollection(this.toArray())},r.prototype.toSelection=function(){return new EntitySelection(this.toArray())},r.prototype.size=function(){return this.entityCount()},r.prototype.entityCount=function(){return this.elements.length+this.connections.length+this.loops.length},r.prototype.each=function(e){return this.toArray().forEach(e)},r.prototype.filter=function(e,t){var n,r,i,o;for(null==t&&(t={}),_.defaults(t,{orphans:!1}),o=[this.elements,this.connections,this.loops],r=0,i=o.length;i>r;r++)n=o[r],this.filterCollection(n,e);return t.orphans&&this.filterOrphanedConnections(),this},r.prototype.collect=function(e){return this.toArray().map(e)},r.prototype.ids=function(){return this.collect(function(e){return e.id})},r.prototype.filterElements=function(e){return this.filterCollection(this.elements,e)},r.prototype.filterConnections=function(e){return this.filterCollection(this.connections,e)},r.prototype.filterOrphanedConnections=function(){return this.filterConnections(function(e){return function(t){return e.elements.include(t.from)&&e.elements.include(t.to)}}(this))},r.prototype.select=function(){return this.toSelection()},r.prototype.union=function(){var e;e=1<=arguments.length?n.call(arguments,0):[]},r.prototype.intersection=function(){var e;e=1<=arguments.length?n.call(arguments,0):[]},r.prototype.graph=function(){var e,t,n;return e=this.duplicate(),e.filterOrphanedConnections(),n=function(e){return{entity:e,entity_id:e.id}},t=new Graph,t.elements.reset(e.elements.map(n),{silent:!0}),t.connections.reset(e.connections.map(n),{silent:!0}),t.labels.reset(e.loops.map(n),{silent:!0}),t.refresh(),t},r.prototype.getElement=function(e){return this.elements.get(e)},r.prototype.filterCollection=function(e,t){return e.reset(e.filter(t))},r}(Backbone.Model)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.CouchValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return this.validates("type",{presence:!0})},n}(Backbone.Validations)}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t=/^doc-/,e="application/octet-stream",this.DocValidations=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.validate=function(){return t.__super__.validate.apply(this,arguments),this.validates("content_type",{presence:!0})},t}(CouchValidations),this.Doc=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,r),i.prototype.className="Doc",i.prototype.idPrefix="doc",i.url=function(e){return currentProject.publicUrl("/couch/"+e+"/data")},i.id=function(e){return t.test(e)},i.prototype.defaults=function(){return{type:"Doc",blob:null,content_type:e}},i.prototype.initialize=function(){return this.dirty=!1},i.prototype.isDirty=function(){return this.dirty},i.prototype.type=function(){return this.get("content_type")},i.prototype.data=function(){},i.prototype.blob=function(){},i.prototype.url=function(){return i.url(this.id)},i.prototype.update=function(e,t,n){return _.isObject(t)&&(n=t,t=null),null==t&&(t=e.type),this.dirty=!0,this.set({blob:e,content_type:t}),n&&n.save===!1?void 0:this.save()},i.prototype.save=function(){var e;return e=this,When(i.__super__.save.apply(this,arguments)).then(function(){return e.saveAttachment()}).then(function(){return e})},i.prototype.download=function(){var e;return e=this,e.fetchAttachment().then(function(t){return e.set("blob",t)})},i.prototype.saveAttachment=function(){var e,t,n;return e=this,n=this.get("content_type"),"application/json"===n&&(n="text/json"),t=this.sync.pouch(),t.putAttachment(this.id,"data",this.get("_rev"),this.get("blob"),n).then(function(t){return e.dirty=!1,e.set({_rev:t.rev},{silent:!0})})},i.prototype.fetchAttachment=function(){var e;return e=this.sync.pouch(),e.getAttachment(this.id,"data")},i.prototype.clone=function(){var e,t;return e=this.get("blob"),t=i.__super__.clone.apply(this,arguments),e&&t.set("blob",e.slice(0,e.size,e.type)),t},i.prototype.toJSON=function(){return _.omit(i.__super__.toJSON.apply(this,arguments),"blob","_attachments")},i}(Backbone.CouchModel),this.DocCollection=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.view="resources/all",t.prototype.query={key:"Doc"},t.prototype.model=Doc,t}(Backbone.CouchCollection)}.call(this),function(){var e,t,n,r;e=/^data:/,r=function(e,t){var r;return r=new Doc({blob:e,content_type:null!=t?t:e.type}),n(r)},n=function(e){return e.isNew()||e.isDirty()?(log.debug("Uploading doc",e),e.save().then(function(){return log.debug("Doc uploaded",e),e}).then(null,function(t){return log.error("Unable to upload doc",e),raise("Unable to upload doc",t)})):(log.debug("Doc is current, skipping save",e),When(e))},t=function(e){var t;return t=Docs.get(e),t?(log.debug("Deleting doc",t.id,t),t.destroy()):(log.warn("Doc not found",e),!0)},this.Drive={fetch:function(){return Docs.fetch()},doc:function(e){return e=Docs.get(e),null==e&&(e=_.isString(e)?Docs.add({_id:e}):Docs.add()),e},save:function(e){return n(e)},upload:function(e){return r(e)},uploadJSON:function(e){var t;return t=new Blob([JSON.stringify(e)]),r(t,"application/json")},uploadToCloud:function(e,t){return null==t&&(t={}),new Promise(function(n,r){var i,o;return o=Api.url("/upload"),i=new FormData,i.append("project_id",currentProject.id),i.append("data",e),t.filename&&i.append("filename",t.filename),$.ajax({url:o,data:i,type:"POST",dataType:"text",processData:!1,contentType:!1}).done(function(e){return n(e)}).fail(function(e){return log.error("Error uploadToCloud"),log.error(e),r(e)})})},blob:function(t){return _.isString(t)?e.test(t)?dataURLtoBlob(t):new Blob([t]):_.isObject(t)?new Blob([JSON.stringify(t)]):void 0},destroy:function(e){var n;return log.debug("Deleting docs",e),n=[],e=_.isArray(e)?e:[e],e.forEach(function(e){return n.push(function(){return t(e)})}),When.sequence(n)}}}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.Edge=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="Edge",n.prototype.collectionName="edges",n.prototype.paramRoot="edge",n.prototype.conflictPreferences={entity_id:"mine",curvature:"mine"},n.prototype.defaults=function(){return{type:"Edge"}},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this._bounds=new Rectangle,this.curvature=this.get("curvature"),this.on("change",function(e){return function(){return e.curvature=e.get("curvature"),e.invalidate()}}(this)),this.associate()},n.prototype.associate=function(){var e,t,n,r,i,o,a;for(this.map=this.attributes.map||Maps.get(this.attributes.map_id),delete this.attributes.map,e=this.attributes.entity||Connections.get(this.attributes.entity_id),delete this.attributes.entity,e&&this.setConnection(e),i=["from","to"],o=[],t=0,n=i.length;n>t;t++)a=i[t],(r=this.attributes[a])?(this[a]=r,o.push(delete this.attributes[a])):o.push(this.map&&this.entity&&(r=this.entity[a])?this[a]=this.map.nodes.get(r.cid):void 0);return o},n.prototype.isOrphan=function(){return!this.isAttached()},n.prototype.isAttached=function(){return!!(this.from&&this.map.nodes.get(this.from)&&this.to&&this.map.nodes.get(this.to))},n.prototype.getConnection=function(){return this.entity},n.prototype.setConnection=function(e){return this.setEntity(e)},n.prototype.beforeEntityChanged=function(){},n.prototype.afterEntityChanged=function(){},n.prototype.onEntityChanged=function(){return this.listenTo(this.entity,"change:reversed",this.onReverse)},n.prototype.getDirection=function(){return this.entity.get("direction")},n.prototype.getPrelabel=function(){return this.entity.getAttr("prelabel")||function(){switch(this.entity.type()){case"++":case"+-":return"+";case"--":case"-+":return"-"}}.call(this)},n.prototype.getPostlabel=function(){return this.entity.getAttr("postlabel")||function(){switch(this.entity.type()){case"++":case"-+":case"+":return"+";case"--":case"+-":case"-":return"-"}}.call(this)},n.prototype.other=function(e){return e===this.from?this.to:this.from},n.prototype.isDelayed=function(){return this.entity.get("delayed")},n.prototype.invalidate=function(){var e,t;return null!=(e=this.from)&&e.invalidate.apply(e,arguments),null!=(t=this.to)&&t.invalidate.apply(t,arguments),n.__super__.invalidate.apply(this,arguments)},n.prototype.onReverse=function(){return this.reverse()},n.prototype.reverse=function(){return this.redirect({from:this.to,to:this.from}),this.trigger("reverse",this),this},n.prototype.redirect=function(e,t){var n;return _.isObject(e)?n=e:(n={},n[e]=t),this.from=n.from||this.from,this.to=n.to||this.to,this.invalidate(),this.trigger("redirect",this),this},n.prototype.lock=function(e){return this.from.lock(e),this.to.lock(e),this},n.prototype.unlock=function(e){return this.from.unlock(e),this.to.unlock(e),this},n.prototype.pin=function(){return this.from.pin(),this.to.pin(),this},n.prototype.float=function(){return this.from.float(),this.to.float(),this},n.prototype.isFixed=function(){return this.from.isFixed()&&this.to.isFixed()},n.prototype.isLocked=function(e){return this.from.isLocked(e)&&this.to.isLocked(e)},n.prototype.isPinned=function(){return this.from.isPinned()&&this.to.isPinned()},n.prototype.isRenderable=function(){return null!=this.style&&null!=this.from.display.position&&null!=this.to.display.position},n.prototype.isLabelled=function(){return null!=this.entity.get("label")},n.prototype.isInverted=function(){return this.display.curvature<0},n.prototype.isReversed=function(){return this.entity.isReversed()},n.prototype.getWinding=function(){return this.isCounterClockwise()?"ccw":"cw"},n.prototype.isClockwise=function(){return!this.isCounterClockwise()},n.prototype.isCounterClockwise=function(){var e;return e=this.isReversed(),this.isInverted()&&(e=!e),e},n.prototype.isFull=function(){return Math.abs(this.display.adjustedCurvature)>=1},n.prototype.isNegative=function(){var e,t;return t=this.display.length-this.from.display.outerRadius-this.to.display.outerRadius,this.display.drawArrows&&this.display.arrowHeight&&(e=this.display.fromArrow&&this.display.toArrow?2:1,t-=e*this.display.arrowHeight),0>t},n.prototype.include=function(e){return this.from===e||this.to===e},n.prototype.bounds=function(e){return this._bounds.reset().bound(this.display.start).bound(this.display.end),"curved"===this.display.shape&&this._bounds.bound(this.display.apex),(null!=e?e.neighbors:void 0)&&this._bounds.bound(this.from.bounds()).bound(this.to.bounds()),this._bounds},n.prototype.hitTarget=function(e){return e.distanceTo(this.display.start)<this.display.length/10?"tail":e.distanceTo(this.display.end)<this.display.length/10?"head":"body"},n.prototype.getPosition=function(){return this.display.position},n.prototype.perpendicularPositionAlong=function(e,t,n,r){return this.isInverted()&&(n=-n),null==r&&(r={}),this.positionAlong(e,t,r),t="curved"===this.display.shape?Vector.v1.copy(r.position).subtract(this.display.circle.center).normalize().multiply(n):Vector.v1.copy(this.display.vector).toPerpendicular().normalize().multiply(n),r.position.add(t),r},n.prototype.positionAlong=function(e,t,n){return"curved"===this.display.shape?this.positionAlongCurved(e,t,n):this.positionAlongStraight(e,t,n)},n.prototype.positionAlongStraight=function(e,t,n){return null!=t&&(e+=t/this.display.length),null==n&&(n={}),n.position=this.display.vector.normal().multiply(e*this.display.length).add(this.display.start),n},n.prototype.positionAlongCurved=function(e,t,n){return this.display.arc.evaluate(e,t,n)},n.prototype.nodes=function(){return this.from===this.to?[this.from]:[this.from,this.to]},n}(Component),window.EdgeCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.view="map/components",n.prototype.query=function(){return{key:[this.map.id,"Edge"]}},n.prototype.model=Edge,n}(ComponentCollection)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;window.Element=function(n){function r(){return this.neighbors=e(this.neighbors,this),this.connectionExistsFrom=e(this.connectionExistsFrom,this),this.connectionExistsTo=e(this.connectionExistsTo,this),this.isFixed=e(this.isFixed,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.className="Element",r.prototype.paramRoot="element",r.prototype.typeAttr="element type",r.prototype.labelAttr="label",r.prototype.scopeName="element",r.prototype.collectionName="elements",r.prototype.defaults=function(){return{type:"Element"}},r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.associate()},r.prototype.toString=function(){return this.getLabel()||"Element"},r.prototype.toJSON=function(e){return null==e&&(e={}),_.defaults(e,{ghost:!1}),this.ghost&&e.ghost===!1?_.clone(this.attributes):r.__super__.toJSON.apply(this,arguments)},r.prototype.associate=function(){var e;return e=this.attributes.ghost||Elements.get(this.attributes.ghost_id),delete this.attributes.ghost,e?this.setGhost(e):void 0},r.prototype.setGhost=function(e){return this.ghost&&(this.stopListening(this.ghost),this.stopForwardingEventsFor(this.ghost)),this.ghost=e,this.ghost?(this.attrs=this.ghost.attrs,this.set("ghost_id",this.ghost.id),this.forwardEventsFor(this.ghost)):(this.attrs=this.ownAttrs,this.unset("ghost_id"))
},r.prototype.save=function(){var e;return $.when(r.__super__.save.apply(this,arguments),null!=(e=this.ghost)?e.save():void 0)},r.prototype.buildNode=function(e){return null==e&&(e={}),new Node(_.extend(e,{entity:this}))},r.prototype.isFixed=function(){return null!=this.get("position")},r.prototype.connectionExistsTo=function(e){return null!=this.connections.find(function(t){return t.to.id===e.id})},r.prototype.connectionExistsFrom=function(e){return null!=this.connections.find(function(t){return t.from.id===e.id})},r.prototype.neighbors=function(){return this.connections.invoke("neighbor",this)},r.findByLabel=function(e){var t;return t=null,$.ajax({async:!1,url:"/nodes/find",data:{source:"project",label:e},dataType:"json"}).done(function(e){return e?t=new r(e):void 0}),t},r}(Entity),window.ElementCollection=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=Element,n.prototype.path=function(){return"/projects/"+this.project.id+"/elements"},n.prototype.view="resources/all",n.prototype.query={key:"Element"},n.prototype.lookup=function(e){return this.get(e)||this.findByLabel(e)},n.prototype.exists=function(e){return null!=this.findByLabel(e)},n.prototype.find=function(e,t){var r;return _.isFunction(e)?n.__super__.find.apply(this,arguments):(e=String(e||"").toLowerCase(),t=String(t||"").toLowerCase(),r=function(n){var r,i;return r=String(n.label()||"").toLowerCase(),i=String(n.type()||"").toLowerCase(),!(r!==e||t&&i&&i!==t)},n.__super__.find.call(this,r))},n.prototype.findByLabel=function(e){var t,n;return n=String(e).toLowerCase(),t=function(t){return e=String(t.getLabel()).toLowerCase(),e===n},this.find(t)},n.prototype.labels=function(){return this.chain().collect(function(e){return e.getLabel()}).compact().uniq().value().sort()},n.prototype.buildAttr=function(e){return this.build({attributes:e})},n.prototype.reconcile=function(e){var t,n,r,i;if(null!=e)return _.isObject(e)?e instanceof Element?e:e._id?this.get(e._id):e.attributes.id?this.get(e.attributes.id):null!=e.attributes.label?(i=null!=(n=e.attributes["element type"])?n.toLowerCase():void 0,t=null!=(r=e.attributes.label)?r.toLowerCase():void 0,i?this.get(i+"::"+t)||this.get("undefined::"+t):this.get(t)):void 0:this.get(e)||this.get(String(e).toLowerCase())},n}(EntityCollection)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.sharedLabel=t(this.sharedLabel,this),this.isSingleConnection=t(this.isSingleConnection,this),this.isTwoElements=t(this.isTwoElements,this),this.isSingleElement=t(this.isSingleElement,this),this.entities=t(this.entities,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.model=Component,r.prototype.entities=function(){var e,t,n,r,i;for(e=[],i=this.models,n=0,r=i.length;r>n;n++)t=i[n],e.push(t);return e},r.prototype.toComponents=function(e){var t;return t=ArrayHelper.keymap(this.cids()),e.select(function(e){return t[e.entity.cid]})},r.prototype.toComponentSelection=function(e){return new ComponentSelection(this.toComponents(e))},r.prototype.toDataset=function(){var e,t,n,r,i;for(e=new Dataset,i=this.models,n=0,r=i.length;r>n;n++)t=i[n],e[t.collectionName].add(t);return e},r.prototype.isVirtual=function(){return this.any(function(e){return e.isVirtual()})},r.prototype.isOnlyElements=function(){return this.length>0&&this.all(function(e){return e.isElement()})},r.prototype.isOnlyConnections=function(){return this.length>0&&this.all(function(e){return e instanceof Connection})},r.prototype.isMultipleConnections=function(){return this.length>1&&this.isOnlyConnections()},r.prototype.isSingleElement=function(){return this.isSingleComponent()&&this.isOnlyElements()},r.prototype.isTwoElements=function(){return 2===this.length&&this.isOnlyElements()},r.prototype.isSingleConnection=function(){return this.isSingleComponent()&&this.isOnlyConnections()},r.prototype.isMixed=function(){return"mixed"===this.type()},r.prototype.includesElements=function(){return this.any(function(e){return e instanceof Element})},r.prototype.includesConnections=function(){return this.any(function(e){return e instanceof Connection})},r.prototype.elements=function(e){var t;return null==e&&(e=!1),t=this.map(function(t){return t instanceof Element?t:e&&t instanceof Connection?[t.from,t.to]:void 0}),_.chain(t).flatten().uniq().compact().value()},r.prototype.connections=function(){return this.filter(function(e){return e instanceof Connection})},r.prototype.loops=function(){return this.filter(function(e){return e instanceof Loop})},r.prototype.attributes=function(){var e,t,n,r,i,o,a,s,u;for(t={},o=this.models,r=0,i=o.length;i>r;r++){n=o[r],a=n.attrs.toJSON();for(e in a)s=a[e],u=null!=t[e]?t[e]:t[e]={},(null!=u[s]?u[s]:u[s]=[]).push(n)}return t},r.prototype.toString=function(){var e;return 1===this.length?this.first().toString()||"unnamed":(e=this.type(),"mixed"===e?"multiple items":"multiple "+e)},r.prototype.label=function(){return this.toString()},r.prototype.sharedLabel=function(){var e;return 0===this.length?null:(e=this.first().get("label"),this.all(function(t){return t.get("label")===e})?e:null)},r.prototype.counts=function(){var e,t,n,r,i,o;for(o={},e=this.breakdown(),i=["elements","connections","loops"],n=0,r=i.length;r>n;n++)t=i[n],o[t]=e[t].length;return o},r.prototype.groupByCollection=function(){return this.breakdown()},r.prototype.breakdown=function(){return{elements:this.elements(),connections:this.connections(),loops:this.loops()}},r.prototype.type=function(){var e,t;return t=void 0,this.length>0&&(e=this.counts(),t=function(){switch(this.length){case e.elements:return"element";case e.connections:return"connection";case e.loops:return"loop";default:return"mixed"}}.call(this)),t},r.prototype.sharedAttr=function(e,t){return 0===this.length?void 0:(null==t&&(t=this.first().getAttr(e)),this.all(function(n){return n.hasAttr(e,t)})?t:void 0)},r.prototype.sharedAttrs=function(){var e,t,n,r,i,o,a,s,u,l;if(u=[],this.length>0)for(e=this.first(),n=Attributes.filter(function(e){return e.isDivisive()}),r=0,o=n.length;o>r;r++)for(t=n[r],s=e.getAttrs(t),i=0,a=s.length;a>i;i++)l=s[i],this.sharedAttr(t,l)&&u.push({attribute:t.get("name"),value:l});return u},r.prototype.getDirectSelector=function(e){return this.map(function(t){return t.getDirectSelector(e)}).join(", ")},r}(SelectionModel),namespace("window",function(t){return t.EntitySelection=e})}.call(this),function(){var e;e=function(){function e(e,t,n){this.message=e,this.error=t,this.status=n}return e.fromXHR=function(t){var n,r,i,o;return i=JSON.parse(t.responseText),r=_.isString(i.errors)?i.errors:i.errors.message,n=i.error,o=i.status,new e(r,n,o)},e.prototype.summary=function(){var e,t;return e=_.compact([this.status,this.error]),t=this.message,_.isEmpty(e)||(t+=" ("+e.join(" ")+")"),t},e}(),namespace("window",function(t){return t.ErrorResponse=e})}.call(this),function(){var e;e=function(){function e(e){this.evaluator=e}return e.prototype.evaluate=function(e,t){var n,r;return null==t&&(t=new EvaluationResult),e instanceof Entity?this.evaluateEntity(e,t):(r=this,n=function(e){return r.evaluateEntity(e,t)},e.each(n)),t},e.prototype.evaluateEntity=function(e,t){var n,r;try{r=this.evaluator.evaluate(e)}catch(i){n=i,r=void 0}return t.value(e,r)},e}(),window.Evaluation=e}.call(this),function(){var e;e=function(){function e(){this._limits={min:Infinity,max:-Infinity},this._frequency={},this._values={},this._entities={}}return e.prototype.value=function(e,t){var n,r;return null==t&&(t=null),n=e.cid,null!=t?(this._entities[n]=e,this._frequency[t]=(this._frequency[t]||0)+1,r=Number(t),null!=r&&(r>this._limits.max&&(this._limits.max=r),r<this._limits.min&&(this._limits.min=r)),this._values[n]=t):this._values[n]},e.prototype.values=function(e){return null==e&&(e=!0),e?this._values:void 0},e.prototype.valuesByPopularity=function(){var e,t;return e=this._frequency,t=_.keys(e),_.sortBy(t,function(t){return-e[t]})},e.prototype.domain=function(){return _.values(this._values)},e.prototype.limits=function(){return[this._limits.min,this._limits.max]},e.prototype.to=function(e){return e=Attributes.find(e)||this.createField(e),this.each(function(){return function(t,n){return Attributes.set(t,e,n,{virtual:!0})}}(this)),this},e.prototype.each=function(e){var t,n,r,i;n=this._values,r=[];for(t in n)i=n[t],r.push(e(this._entities[t],i));return r},e.prototype.createField=function(e){var t;return t=new AttributeField({label:e,core:!1,single:!0,pooled:!1,virtual:!0}),Attributes.fields.add(t),t},e}(),window.EvaluationResult=e}.call(this),function(){var e;e=function(){function e(e){this.attr=Attributes.resolve(e),this.type=this.attr.typed()}return e.prototype.evaluate=function(e){return this.type.parse(e.getAttr(this.attr))},e}(),window.AttributeEvaluator=e}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.defaults=function(){return{type:"Event",user:null,action:null,command:null,undoable:null}},t.prototype.toJSON=function(){var e;return e={type:"Event",user_id:this.get("user").id}},t.prototype.isUndoable=function(){var e,t,n;return null!=(e=null!=(t=this.get("undoable"))?t:null!=(n=this.get("command"))?n.undoable:void 0)?e:!1},t.prototype.undo=function(){return undo(this.get("command")),this.trigger("undo",this),this.destroy()},t.prototype.summary=function(){return this.get("summary")||this.actor()+" "+this.get("action")},t.prototype.actor=function(){return this.get("user")===currentUser?"You":this.get("user").get("username")},t}(Backbone.Model),e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.model=t,r.prototype.initialize=function(){return this.on("undo",function(e){return this.remove(e)})},r}(Backbone.Collection),namespace("window",function(n){return n.EventModel=t,n.EventCollection=e,n.Events=new e})}.call(this),function(){var e,t,n;t=10,e=function(){function e(){}return e.prototype.execute=function(e,t){return null==t&&(t={}),this.busy(function(t){return function(){var n;return n=e.execute(),n.done(function(){return e.undoable&&!e.cancelled?t.triggerEvent(e):void 0}).fail(function(e){return e?alert(e):void 0}),n}}(this))},e.prototype.undo=function(e,t){return null==t&&(t={}),this.busy(function(t){return function(){return e.undo().then(function(){return t.announceUpdate(e,{undo:!0}),map.invalidate(),map.trigger("undo")})}}(this))},e.prototype.busy=function(e){return map.busy(),e().always(function(){return map.busy(!1)})},e.prototype.triggerEvent=function(e){var n;for(n=_.result(e,"summary");Events.length>=t;)Events.shift();return Events.add({user:currentUser,action:n,command:e,undoable:e.undoable}),this.announceUpdate(e)},e.prototype.announceUpdate=function(e,t){var n;return null==t&&(t={undo:!1}),Channels.enabled()?(n=_.result(e,"summary"),t.undo&&(n="undo: "+n),Channels.project.send({type:"update",user:{name:currentUser.get("name"),username:currentUser.get("username"),avatar:currentUser.avatar()},summary:n,timestamp:Date.now()})):void 0},e}(),n=new e,namespace("window",function(e){return e.executionManager=n,e.execute=function(){return n.execute.apply(n,arguments)},e.undo=function(){return n.undo.apply(n,arguments)}})}.call(this),function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;e=function(e){function t(){return this.notify=n(this.notify,this),this.notice=n(this.notice,this),this.alert=n(this.alert,this),t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.alert=function(e){return this.notify("alert",e)},t.prototype.notice=function(e){return this.notify("notice",e)},t.prototype.notify=function(e,t){return this.set(e,t,{silent:!0}),this.trigger(e,t)},t}(Backbone.Model),t=new e,namespace("window",function(n){return n.Flash=e,n.flash=t,n.alert=function(){return t.alert.apply(t,arguments)},n.notice=function(){return t.notice.apply(t,arguments)}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.Graph=function(){function t(t,n,r){this.onEdgeRemoved=e(this.onEdgeRemoved,this),this.onEdgeAdded=e(this.onEdgeAdded,this),this.onNodeRemoved=e(this.onNodeRemoved,this),this.onNodeAdded=e(this.onNodeAdded,this),this.filter=e(this.filter,this),this.size=0,this.nodes=t||new NodeCollection,this.edges=n||new EdgeCollection,this.labels=r||new LabelCollection,this.orphans=[],this.componentsWithoutEntities=[],this.forwardEventsFor(this.nodes,this.edges,this.labels),this.refresh(),this.listen()}return _.extend(t.prototype,Backbone.Events),t.prototype.summary=function(){return this.nodes.length+"/"+this.edges.length+"/"+this.labels.length},t.prototype.dispose=function(){return this.reset(),this.stopListening()},t.prototype.reset=function(){return this.size=0,this.nodes.reset(),this.edges.reset(),this.labels.reset(),this.trigger("reset")},t.prototype.copy=function(e,t){return this.nodes.reset(e.nodes.models,t),this.edges.reset(e.edges.models,t),this.labels.reset(e.labels.models,t)},t.prototype.flatten=function(){},t.prototype.dataset=function(){var e,t,n,r,i,o,a;for(o={silent:!0},n=new Dataset,e={Node:n.elements,Edge:n.connections,Label:n.loops},a=this.components(),r=0,i=a.length;i>r;r++)t=a[r],e[t.className].add(t.entity,o);return n},t.prototype.isEmpty=function(){return 0===this.size},t.prototype.get=function(e){return e?e instanceof Component?e:e instanceof Entity?this.getByEntity(e):_.isString(e)?this.getByID(e):this.getAll(e):null},t.prototype.getByEntity=function(e){var t;return t=e.isLoop()?this.labels:e.isElement()?this.nodes:this.edges,t.filter(function(t){return t.is(e)})},t.prototype.getAll=function(e){var t,n,r;return n=this,t=function(e){return n.get(e)},r=("function"==typeof e.map?e.map(t):void 0)||_.map(e,t),_.chain(r).flatten().compact().value()},t.prototype.getByID=function(e){var t,n;return n=e.split("-")[0],t=function(){switch(n){case"node":case"elem":return this.nodes;case"edge":case"conn":return this.edges;case"labl":case"loop":return this.labels}}.call(this),t.get(e)},t.prototype.getNeighbors=function(e){return _.chain(e.edges).map(function(t){return t.other(e)}).uniq().value()},t.prototype.include=function(e){return null!=this.get(e)},t.prototype.each=function(e,t){return this.nodes.each(e,t),this.edges.each(e,t),this.labels.each(e,t),this},t.prototype.visit=function(e,t){return this.each(e,t),this},t.prototype.collect=function(e,t){return _.collect(this.components(),e,t)},t.prototype.filter=function(e,t){return this.nodes.reset(this.nodes.filter(e,t)),this.edges.reset(this.edges.filter(e,t)),this.labels.reset(this.labels.filter(e,t)),this.refresh()},t.prototype.removeComponentsWithoutEntities=function(){var e,t,n;return n=this.nodes.removeComponentsWithoutEntities(Backbone.silent),e=this.edges.removeComponentsWithoutEntities(Backbone.silent),t=this.labels.removeComponentsWithoutEntities(Backbone.silent),this.componentsWithoutEntities=this.componentsWithoutEntities.concat(n,e,t),this.refresh()},t.prototype.removeOrphans=function(){var e;return e=function(e){return 0===e.edges.length},this.nodes.reset(this.nodes.reject(e),{silent:!0}),this.refresh()},t.prototype.select=function(e,t){return _.filter(this.components(),e,t)},t.prototype.getUnderlyingElements=function(){return _.pluck(this.nodes.models,"entity")},t.prototype.getUnderlyingConnections=function(){return _.pluck(this.edges.models,"entity")},t.prototype.getUnderlyingComponents=function(){return this.getUnderlyingElements().concat(this.getUnderlyingConnections())},t.prototype.bounds=function(e){var t;return t=new Rectangle,this.visit(function(n){return!n.visible||!n.isNode()&&!n.isLabel()||e&&!e(n)?void 0:t.bound(n.bounds())}),t},t.prototype.center=function(){return this.bounds().center()},t.prototype.bump=function(){var e,t,n,r,i,o,a,s;for(i=400,e=i/2,o=this.nodes.models,t=0,n=o.length;n>t;t++)r=o[t],r.isFixed()||(a=r.position.x+Math.random()*i-e,s=r.position.y+Math.random()*i-e,r.updatePosition(a,s));return void 0},t.prototype.refresh=function(e){var t,n,r,i,o,a,s,u,l,c,p,h,f,d,m;for(null==e&&(e={}),_.defaults(e,{silent:!1}),log.debug("Graph#refresh",this.summary(),e),this.orphans.length=0,h=this.nodes.models,n=0,s=h.length;s>n;n++)p=h[n],this.cacheNode(p);for(f=this.edges.models,r=0,u=f.length;u>r;r++)t=f[r],this.cacheEdge(t);for(d=this.labels.models,i=0,l=d.length;l>i;i++)a=d[i],this.cacheLabel(a);if(this.orphans.length>0)for(log.warn(this.orphans.length+" orphaned edges found",this.orphans,this),m=this.orphans,o=0,c=m.length;c>o;o++)t=m[o],this.edges.remove(t);return this.size=this.components().length,e.silent?void 0:this.trigger("refresh")},t.prototype.components=function(){return[].concat(this.nodes.models,this.edges.models,this.labels.models)},t.prototype.entities=function(){return this.components().map(function(e){return e.entity})},t.prototype.cacheNode=function(e){return e.resetEdges()},t.prototype.cacheEdge=function(e){var t,n,r,i,o;for(i=["from","to"],t=0,n=i.length;n>t;t++)o=i[t],r=e[o],r?(_.include(r.edges,e)||r.addEdge(e),e[o]=r):this.orphans.push(e);return void 0},t.prototype.cacheLabel=function(){},t.prototype.listen=function(){return this.nodes.on("add",this.onNodeAdded).on("remove",this.onNodeRemoved),this.edges.on("add",this.onEdgeAdded).on("remove",this.onEdgeRemoved)},t.prototype.onNodeAdded=function(e){return this.cacheNode(e)},t.prototype.onNodeRemoved=function(e){var t,n,r,i,o;for(i=e.edges,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(this.edges.remove(t));return o},t.prototype.onEdgeAdded=function(e){return this.cacheEdge(e)},t.prototype.onEdgeRemoved=function(e){var t,n;return null!=(t=e.from)&&t.removeEdge(e),null!=(n=e.to)?n.removeEdge(e):void 0},t.prototype.toJSON=function(){var e,t;return t=this.nodes.map(function(e){return e.cid}),e=this.edges.map(function(e){return[e.from.cid,e.to.cid,e.cid]}),{nodes:t,edges:e}},t.prototype.toKraken=function(e){var t,n,r,i,o,a,s;return null==e&&(e={}),r=function(e,t){return e&&t.entity.getAttr(e)},i=function(t,n){var r;return t?(r=Number(n.entity.getAttr(t)),_.isNaN(r)&&(r=1)):r=1,e.invertWeights&&0!==r&&(r=1/r),r},o=r.bind(null,e.communityAttr),a=i.bind(null,e.nodeWeightAttr),t=i.bind(null,e.edgeWeightAttr),s=[],n=[],this.nodes.each(function(e){return s.push({id:e.cid,label:e.getLabel(),weight:a(e),community:o(e)})}),this.edges.each(function(e){var r,i;return i=t(e),r=/^(undirected|mutual)$/.test(e.getDirection()),n.push([e.from.cid,e.to.cid,{id:e.cid,weight:i}]),r?n.push([e.to.cid,e.from.cid,{id:e.cid+"i",weight:i}]):void 0}),{nodes:s,edges:n}},t}()}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.Invoice=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/billing/invoices",n.prototype.paramRoot="invoice",n}(Backbone.Model),window.InvoiceCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Invoice,n.prototype.url="/billing/invoices",n}(Backbone.Collection)}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.className="Label",t.prototype.collectionName="labels",t.prototype.paramRoot="label",t.prototype.conflictPreferences={entity_id:"mine",position:"mine",pinned:"mine"},t.prototype.defaults=function(){return{type:"Label",position:null,pinned:!1}},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.edges=[],this.position=new Vector,this._bounds=new Rectangle,this.has("position")&&(this.position.copy(this.get("position")),this.positionInitialized=!0),this.display.position=this.position.clone(),this.listenTo(this,"change:position",this.onPositionChanged),this.associate()},t.prototype.associate=function(){var e;return this.map=this.attributes.map||Maps.get(this.attributes.map_id),delete this.attributes.map,e=this.attributes.entity||Loops.get(this.attributes.entity_id),delete this.attributes.entity,e&&this.setEntity(e),this.refreshEdges()},t.prototype.onEntityChanged=function(){return this.entity?this.listenTo(this.entity,"change:connections",this.refreshEdges):void 0},t.prototype.onPositionChanged=function(){var e;return(e=this.get("position"))?this.position.copy(e):void 0},t.prototype.refreshEdges=function(){return this.map&&this.entity?(this.edges=this.map.edges.getAll(this.entity.connections.ids()),this.invalidate()):void 0},t.prototype.getLabel=function(){return t.__super__.getLabel.apply(this,arguments)||"?"},t.prototype.updatePosition=function(e,n){var r,i,o,a,s;if(0===arguments.length&&(e=n=0,this.edges.length>0)){for(s=this.edges,i=0,o=s.length;o>i;i++)r=s[i],a=r.getPosition(),e+=a.x,n+=a.y;e/=this.edges.length,n/=this.edges.length}return t.__super__.updatePosition.call(this,e,n)},t.prototype.isFixed=function(){return this.isPinned()||_.all(this.edges,function(e){return e.isLocked()})},t.prototype.lock=function(e){var n,r,i,o;for(o=this.edges,r=0,i=o.length;i>r;r++)n=o[r],n.lock(e);return t.__super__.lock.call(this,e)},t.prototype.unlock=function(e){var n,r,i,o;for(o=this.edges,r=0,i=o.length;i>r;r++)n=o[r],n.unlock(e);return t.__super__.unlock.call(this,e)},t.prototype.bounds=function(e){var t,n,r,i;if(this._bounds.resetToUnit(),this._bounds.scale(30).translate(this.display.position.x,this.display.position.y),null!=e?e.neighbors:void 0)for(i=this.edges,n=0,r=i.length;r>n;n++)t=i[n],this._bounds.bound(t.bounds(e));return this._bounds},t.prototype.onMouseEnter=function(){return t.__super__.onMouseEnter.apply(this,arguments),this.invalidateEdges()},t.prototype.onMouseLeave=function(){return t.__super__.onMouseLeave.apply(this,arguments),this.invalidateEdges()},t.prototype.select=function(){return t.__super__.select.apply(this,arguments),this.invalidateEdges()},t.prototype.deselect=function(){return t.__super__.deselect.apply(this,arguments),this.invalidateEdges()},t.prototype.invalidateEdges=function(){var e,t,n,r,i;for(r=this.edges,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.invalidate("display"));return i},t.prototype.nodes=function(){return _.chain(this.edges).map(function(e){return e.nodes()}).flatten().compact().uniq().value()},t}(Component),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.model=e,r.prototype.view="map/components",r.prototype.query=function(){return{key:[this.map.id,"Label"]}},r}(ComponentCollection),namespace("window",function(n){return n.Label=e,n.LabelCollection=t})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.className="Loop",t.prototype.paramRoot="loop",t.prototype.typeAttr="loop type",t.prototype.labelAttr="label",t.prototype.scopeName="loop",t.prototype.collectionName="loops",t.prototype.defaults=function(){return{type:"Loop",connection_ids:[]}},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.connections=new ConnectionCollection,this.associate()},t.prototype.associate=function(){var e;return e=this.attributes.connections||Connections.getAll(this.attributes.connection_ids),this.connections.reset(e),delete this.attributes.connections},t.prototype.toString=function(){return this.getLabel()||"Loop"},t.prototype.toJSON=function(){var e;return e=t.__super__.toJSON.apply(this,arguments),this.connections&&(e.connection_ids=this.connections.ids()),e},t.prototype.getElements=function(){return this.connections.chain().collect(function(e){return[e.from,e.to]}).flatten().uniq().value()},t.prototype.includeConnection=function(e){return this.connections.include(e)},t.prototype.addConnection=function(e){return this.connections.add(e),this.trigger("change:connections",this,this.connections)},t.prototype.removeConnection=function(e){return this.connections.remove(e),this.trigger("change:connections",this,this.connections)},t.prototype.toggleConnection=function(e){return this.includeConnection(e)?this.removeConnection(e):this.addConnection(e)},t.prototype.resetConnections=function(e){return this.connections.reset(e),this.trigger("change:connections",this,this.connections)},t}(Entity),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.model=e,r.prototype.view="resources/all",r.prototype.query={key:"Loop"},r.prototype.index=function(e){return r.__super__.index.apply(this,arguments).concat(e.getLabel())},r.prototype.findByLabel=function(e){return this.get(e)},r}(EntityCollection),namespace("window",function(n){return n.Loop=e,n.LoopCollection=t})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e="2016-04-01T00:00:00.000Z",this.Map=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.className="Map",r.prototype.paramRoot="map",r.prototype.conflictPreferences={scale:"mine",center:"mine",default_perspective_id:"mine",default_element_behavior:"mine",default_connection_direction:"mine",fixed:"mine",direction:"mine",communityData:"mine"},r.prototype.defaults=function(){return{type:"Map",description:"",scale:1,center:{x:0,y:0},default_perspective_id:null,default_element_behavior:"floating",default_connection_direction:"undirected"}},r.prototype.initialize=function(){return this.resetLoad(),this.hasMany("nodes",{inverse:"map"}),this.hasMany("edges",{inverse:"map"}),this.hasMany("labels",{inverse:"map"}),this.virtualPerspective=new Perspective({style:this.get("style")}),this.virtualPerspective.virtual=!0,this.listenTo(this,"change:style",this.updateVirtualPerspective),this.unset("fixed"),this.unset("direction")},r.prototype.toString=function(){return this.get("name")},r.prototype.shouldUseNameAsTitle=function(){var t,n;return t=this.get("created_at"),n=this.get("description"),e>t&&!n.startsWith("#")},r.prototype.unsetDefaultView=function(){return this.unset("scale"),this.unset("center"),this.save()},r.prototype.getGraph=function(){return this.initializeGraph()},r.prototype.initializeScene=function(){var e,t;return this.initializeGraph(),this.scene=new Scene({graph:this.graph}),e=this.get("center"),t=this.get("scale"),this.scene.zoomTo(e,t,{animate:!1}),this.zoomFitOnLoad=_.isEqual(e,{x:0,y:0})&&1===t},r.prototype.initializeGraph=function(){return null!=this.graph?this.graph:this.graph=new Graph(this.nodes,this.edges,this.labels)},r.prototype.transform=function(e){var t,n;return null==e&&(e={}),this.scene?(n={},null!=e.scale&&(n.scale=e.scale),null!=e.translation&&(n.translation=Vector.copy(e.translation)),this.scene.transform(n,{animate:!1})):(t={},null!=e.scale&&(t.scale=e.scale),null!=e.translation&&(t.center=Vector.copy(e.translation).negate()),this.set(t))},r.prototype.setDefaultPerspective=function(e){return this.set("default_perspective_id",e.id)},r.prototype.getDefaultPerspective=function(){var e,t;return e=this.get("default_perspective_id"),t=this.slug(),Perspectives.get(e)||Perspectives.get(t)||Settings.getDefaultPerspective()||this.virtualPerspective},r.prototype.updateVirtualPerspective=function(){return this.virtualPerspective.set("style",this.get("style"))},r.prototype.isDefaultPerspective=function(e){return(!e||e.isNew())&&(e=void 0),e===this.getDefaultPerspective()},r.prototype.isFixed=function(){return"fixed"===this.get("default_element_behavior")},r.prototype.getDefaultDirection=function(){return this.get("default_connection_direction")},r.prototype.isReadOnly=function(){return this.has("src")},r.prototype.rebuild=function(){return this.graph&&this.graph.refresh(),this.scene?this.scene.rebuild():void 0},r.prototype.refreshGraph=function(){return this.graph?this.graph.refresh():void 0},r.prototype.add=function(e){switch(e.className){case"Element":return this.addElement(e);case"Connection":return this.addConnection(e)}},r.prototype.addElement=function(e,t){return this.nodes.get(e)||this.nodes.add({entity:e},t)},r.prototype.addConnection=function(e,t){var n,r,i;return n=this.edges.get(e),n||(r=this.add(e.from,t),i=this.add(e.to,t),n=this.edges.add({entity:e,from:r,to:i},t)),n},r.prototype.addLoop=function(e,t){return this.labels.get(e)||this.labels.add({entity:e},t)},r.prototype.orphans=function(){return this.ready||raise("Orphans cannot be determined until map is loaded"),this.edges.filter(function(e){return e.isOrphan()})},r.prototype.load=function(){var e,t,n,r,i;return this.initialLoadPromise?this.initialLoadPromise:((i=this.get("src"))?e=function(e){return function(){return e["import"](i)}}(this):(r=function(e){return function(){return e.nodes.fetch({reset:!0,silent:!0})}}(this),t=function(e){return function(){return e.edges.fetch({reset:!0,silent:!0})}}(this),n=function(e){return function(){return e.labels.fetch({reset:!0,silent:!0})}}(this),e=function(){return function(){return r().then(t).then(n)}}(this)),e().then(function(e){return function(){return e.finalizeLoad()}}(this)).then(null,function(e){return function(t){return e.initialLoadRequest.reject(t)}}(this)),this.initialLoadPromise=this.initialLoadRequest.promise)},r.prototype.finalizeLoad=function(){return this.initialLoadPromise=this.initialLoadRequest.promise,this.ready=!0,this.trigger("load",this),this.initialLoadRequest.resolve()},r.prototype.delayUntilReady=function(){return this.initialLoadRequest.promise},r.prototype.reload=function(e){return e&&this.set("src",e),this.resetLoad(),this.load()},r.prototype.resetLoad=function(){return this.ready=!1,this.initialLoadRequest=When.defer(),this.initialLoadPromise=null},r.prototype.isReady=function(){return this.ready},r.prototype.dataset=function(){return this.getGraph().dataset()},r.prototype.slug=function(){var e;return this.get("slug")||(null!=(e=this.get("name"))?e.slugify():void 0)||""},r.prototype.buildNode=function(e){var t;return e.map_id=this.id,t=new Node(e),t.map=this,t.entity=this.project.elements.get(e.entity_id),this.nodes.add(t),t},r.prototype.buildEdge=function(e){var t;return e.map_id=this.id,t=new Edge(e),t.map=this,t.entity=this.project.connections.get(e.entity_id),t.from=this.nodes.get(e.from_id),t.to=this.nodes.get(e.to_id),this.edges.add(t),t},r.prototype.include=function(e){return null!=this.collectionFor(e).get(e)},r.prototype.collectionFor=function(e){switch(e.className){case"Element":case"Node":return this.nodes;case"Connection":case"Edge":return this.edges;case"Loop":case"Label":return this.labels}},r.prototype.find=function(e){var t;return e instanceof Element?this.nodes.find(function(t){return t.entity===e}):(t=e.toLowerCase(),this.nodes.find(function(e){return String(e.getLabel()).toLowerCase()===t}))},r.prototype.findEdge=function(e,t,n){var r;return null==n&&(n={strict:!0}),log.warn("findEdge is case sensitive"),r=n.strict?function(n){return n.from.getLabel()===e&&n.to.getLabel()===t}:function(n){return n.from.getLabel()===e&&n.to.getLabel()===t||n.from.getLabel()===t&&n.to.getLabel()===e},this.edges.find(r)},r.prototype.clean=function(){var e,t,n,r,i;for(r=this.edges.models,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.from&&e.to?void 0:e.destroy());return i},r.prototype.build=function(e,t){var n;return n=new Import(e,t),n.target(this),n},r.prototype["import"]=function(e,t){var n,r,i;return n=this,e instanceof Import||(i=e,e=this.build(i,t)),r=e.process(t),r["import"]=e,r.then(function(){return n.rebuild()})["catch"](function(){return e.isRemote()?Workflows.reviewFailedRemoteImport(e):void 0}),r},r.prototype.cluster=function(e,t){var n;return 1===arguments.length&&(t=e,e=null),n=new Cluster([t]),n.execute(this),n},r.prototype.getPrimaryElementLabels=function(){var e;
return e=this.scene.graphs.primary.nodes,e.chain().collect(function(e){return e.getLabel()}).uniq().compact().value()},r.prototype.getPrimaryDataset=function(){return this.scene.getPrimaryDataset()},r.prototype.getVisibleDataset=function(){return this.scene.getVisibleDataset()},r.prototype.select=function(e){var t,n;return t=this.getVisibleDataset(),n=Selector.select(e,t),t.dispose(),n},r}(Backbone.CouchModel),this.MapCollection=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.view="resources/all",n.prototype.query={key:"Map"},n.prototype.model=Map,n.prototype.index=function(e){return[e.id,e.cid,e.slug(),e.get("name")]},n.prototype.comparator="name",n.prototype.preload=function(){return When.all(this.map(function(e){return e.load()}))},n}(Backbone.CouchCollection)}.call(this),Vector.copy=function(e){return new Vector(e.x,e.y)},Vector.random=function(){return new Vector(Math.random()-.5,Math.random()-.5)},Vector.up=function(){return new Vector(0,1)},Vector.down=function(){return new Vector(0,-1)},Vector.left=function(){return new Vector(-1,0)},Vector.right=function(){return new Vector(1,0)},Vector.dot=function(e,t){return Vector.v1.copy(e).dot(t)},Vector.cross=function(e,t){return Vector.v1.copy(e).cross(t)},Vector.around=function(e,t){return(new Vector).randomizeAround(e,t)},Vector.magnitude=function(e,t){return Vector.v1.copy(e).subtract(t).magnitude()},Vector.distance=Vector.magnitude,Vector.parallel=function(e,t){return e=Vector.v1.copy(e).normalize(),t=Vector.v2.copy(t).normalize(),Math.abs(e.dot(t)-1)<.05},Vector.unit=function(e,t){return Vector.subtract(t,e).normalize()},Vector.normal=function(e){return Vector.copy(e).normalize()},Vector.normalize=Vector.normal,Vector.midpoint=function(e,t){return Vector.add(e,t).divide(2)},Vector.add=function(e,t){return Vector.copy(e).add(t)},Vector.subtract=function(e,t){return Vector.copy(e).subtract(t)},Vector.multiply=function(e,t){return Vector.copy(e).multiply(t)},Vector.divide=function(e,t){return Vector.copy(e).divide(t)},Vector.negate=function(e){return Vector.copy(e).negate()},Vector.angle=function(e,t){return Vector.v1.copy(e).subtract(t).angle()},Vector.fromAngle=function(e){return new Vector(Math.cos(e),Math.sin(e))},Vector.prototype.clone=function(){return new Vector(this.x,this.y)},Vector.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},Vector.prototype.set=function(e,t){return this.x=e,this.y=t,this},Vector.prototype.reset=function(e,t){return this.set(e||0,t||0)},Vector.prototype.update=Vector.prototype.reset,Vector.prototype.normal=function(){return Vector.normal(this)},Vector.prototype.normalize=function(){return(0!=this.x||0!=this.y)&&this.divide(this.magnitude()),this},Vector.prototype.offset=function(e,t){return this.x+=e,this.y+=t,this},Vector.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},Vector.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this},Vector.prototype.multiply=function(e){return this.x*=e,this.y*=e,this},Vector.prototype.divide=function(e){return this.x/=e,this.y/=e,this},Vector.prototype.extend=function(e){return this.multiply(1+Math.min(1,e/this.magnitude())),this},Vector.prototype.contract=function(e){return this.multiply(1-Math.min(1,e/this.magnitude())),this},Vector.prototype.negate=function(){return this.x*=-1,this.y*=-1,this},Vector.prototype.invert=Vector.prototype.negate,Vector.prototype.rotate=function(e){var t=this.magnitude(),n=this.uv();return this.x=t*(n.x*Math.cos(e)-n.y*Math.sin(e)),this.y=t*(n.x*Math.sin(e)+n.y*Math.cos(e)),this},Vector.prototype.randomize=function(e,t,n){e=e||100;var r=2*Math.PI*Math.random();return this.x=(t||0)+e*Math.cos(r),this.y=(n||0)+e*Math.sin(r),this},Vector.prototype.randomizeAround=function(e,t){return this.randomize(t,e.x,e.y)},Vector.prototype.uv=function(){return Vector.normalize(this)},Vector.prototype.direction=Vector.prototype.uv,Vector.prototype.midpoint=function(){return Vector.copy(this).divide(2)},Vector.prototype.center=Vector.prototype.midpoint,Vector.prototype.perpendicular=function(){return Vector.copy(this).toPerpendicular()},Vector.prototype.toPerpendicular=function(){var e=this.x,t=this.y;return this.x=t,this.y=-e,this},Vector.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Vector.prototype.length=Vector.prototype.magnitude,Vector.prototype.energy=function(){var e=this.magnitude();return e*e},Vector.prototype.cross=function(e){return this.x*e.y-this.y*e.x},Vector.prototype.dot=function(e){return this.x*e.x+this.y*e.y},Vector.prototype.slope=function(){return this.y/this.x},Vector.prototype.angle=function(){var e=this.magnitude();return Math.atan2(this.y/e,this.x/e)},Vector.prototype.degrees=function(){return 180*this.angle()/Math.PI},Vector.prototype.angleBetween=function(e){return Math.acos(this.dot(e)/(this.magnitude()*e.magnitude()))},Vector.prototype.equals=function(e){return this.x==e.x&&this.y==e.y},Vector.prototype.isOrigin=function(){return 0==this.x&&0==this.y},Vector.prototype.isUndefined=function(){return!this.x&&0!==this.x||!this.y&&0!==this.y},Vector.prototype.up=function(){return this.y>0},Vector.prototype.down=function(){return this.y<0},Vector.prototype.parallelTo=function(e){return Vector.parallel(this,e)},Vector.prototype.distanceTo=function(e){return Vector.distance(this,e)},Vector.prototype.toJSON=function(){return{x:this.x,y:this.y}},Vector.prototype.toString=function(){return"X"+this.x+" Y"+this.y},Vector.prototype.summarize=Vector.prototype.toString;for(n=1;9>=n;n++)Vector["v"+n]=new Vector;(function(){var e;e={position:new Vector},this.Arc=function(){function t(e,t,n,r){this.a=e,this.b=t,this.circle=n,this.clockwise=null!=r?r:!0,null==this.a&&(this.a=new Vector(0,0)),null==this.b&&(this.b=new Vector(0,0)),null==this.circle&&(this.circle=new Circle)}return t.prototype.reset=function(e,t,n,r){return null==r&&(r=!0),this.a.copy(e),this.b.copy(t),this.circle.copy(n),this.clockwise=r},t.prototype.clone=function(){return new t(this.a,this.b,this.circle,this.clockwise)},t.prototype.evaluate=function(e,t,n){var r,i,o,a,s,u,l,c;return s=u=0,t>0?s=t:0>t&&(u=-t),a=this.circle.circumference(),r=Vector.angle(this.a,this.circle.center),o=Vector.angle(this.b,this.circle.center),s=2*Math.asin(s/(2*this.circle.radius)),u=2*Math.asin(u/(2*this.circle.radius)),this.clockwise?(r+=s,o-=u):(r-=s,o+=u),l=Math.abs(r-o),this.clockwise?(c=r>o?r+e*(2*Math.PI-l):r+e*(o-r),i=c+Math.PI/2):(c=r>o?r+e*(o-r):r-e*(2*Math.PI-l),i=c-Math.PI/2),null==n&&(n={}),n.position=this.circle.pointAtAngle(c,n.position),n.angle=i,n},t.prototype.contract=function(t,n){return null==t&&(t=0),null==n&&(n=0),t&&(this.evaluate(0,t,e),this.a.copy(e.position)),n&&(this.evaluate(1,-n,e),this.b.copy(e.position)),this},t.prototype.isUndefined=function(){return this.a.isUndefined()||this.b.isUndefined()},t}()}).call(this),function(){var e,t;for(window.Line=function(){function e(e,t){this.slope=e,this.intercept=t}return e.throughPointWithSlope=function(t,n){return(new e).throughPointWithSlope(t,n)},e.throughPoints=function(t,n){return(new e).throughPoints(t,n)},e.prototype.copy=function(e){return this.slope=e.slope,this.intercept=e.intercept,this},e.prototype.throughPoints=function(e,t){return this.throughPointWithSlope(e,Vector.v1.copy(t).subtract(e).slope())},e.prototype.throughPointWithSlope=function(e,t){return this.intercept=e.y-t*e.x,this.slope=t,this},e.prototype.equation=function(){return"y = "+this.slope+"x + "+this.intercept},e.prototype.isVertical=function(){},e.prototype.isHorizontal=function(){},e.prototype.y=function(e){return this.slope*e+this.intercept},e.prototype.x=function(e){return(e-this.intercept)/this.slope},e.prototype.intersect=function(e,t){return this.intersection(e,t)},e.prototype.intersection=function(e,t){var n;return n=(e.intercept-this.intercept)/(this.slope-e.slope),null==t&&(t=new Vector),t.x=n,t.y=this.y(n),t},e.prototype.closestPoint=function(e,t){return this.intersection(this.tangent(e),t)},e.prototype.tangent=function(t){return(new e).copy(this).tangentTo(t)},e.prototype.tangentTo=function(e){var t;return t=0===this.slope?1:Infinity===this.slope?0:-1/this.slope,this.throughPointWithSlope(e,t)},e}(),t=e=1;9>e;t=++e)Line["l"+t]=new Line}.call(this),function(){var e,t,n,r;n=new Vector,r=new Vector,e=new Line,t=new Line,window.Circle=function(){function r(e,t){this.center=e,this.radius=t,null==this.center&&(this.center=new Vector(0,0)),null==this.radius&&(this.radius=0)}return r.prototype.copy=function(e){return this.center.copy(e.center),this.radius=e.radius},r.throughThreePoints=function(e,t,n){return(new r).throughThreePoints(e,t,n)},r.throughPointsAndTangent=function(e,t,n){return(new r).throughPointsAndTangent(e,t,n)},r.prototype.throughThreePoints=function(n,r,i){var o,a,s,u,l,c;return o=e.throughPoints(n,r),a=t.throughPoints(r,i),u=o.slope*a.slope*(i.y-n.y)+o.slope*(r.x+i.x)-a.slope*(n.x+r.x),s=2*(o.slope-a.slope),l=u/s,c=-1/o.slope*(l-(n.x+r.x)/2)+(n.y+r.y)/2,this.center.x=l,this.center.y=c,this.radius=Vector.distance(n,this.center),this},r.prototype.throughPointsAndTangent=function(r,i,o){var a;return a=n.copy(r).add(i).divide(2),e.throughPoints(r,i).tangentTo(a),t.copy(o).tangentTo(i),e.intersect(t,this.center),this.radius=this.center.distanceTo(r),this},r.prototype.circumference=function(){return 2*Math.PI*this.radius},r.prototype.pointAtAngle=function(e,t){return null==t&&(t=new Vector),t.x=this.center.x+this.radius*Math.cos(e),t.y=this.center.y+this.radius*Math.sin(e),t},r.prototype.pointAtTimeBetween=function(e,t,n,r){var i;return t=Vector.angle(t,this.center),n=Vector.angle(n,this.center),i=(t-n)/2,this.pointAtAngle(i,r)},r.prototype.angleAtPoint=function(e){var t;return t=Math.atan2(e.y-this.center.y,e.x-this.center.x),0>t&&(t+=2*Math.PI),t},r.prototype.nearestPointOnRectangle=function(e,t,n,r){var i,o,a,s,u,l;for(null==t&&(t=0),null==r&&(r=new Vector),l=this.pointsOnRectangle(e),s=Infinity,o=0,a=l.length;a>o;o++)u=l[o],i=this.angleAtPoint(u),n?i=i>t?t+2*Math.PI-i:t-i:t>i?i+=t:i-=t,s>i&&(s=i,r.copy(u));return r},r.prototype.pointsOnRectangle=function(e,t){return null==t&&(t=[]),this.pointsOnSegment(e.xmin,e.ymin,e.xmax,e.ymin,t),this.pointsOnSegment(e.xmax,e.ymin,e.xmax,e.ymax,t),this.pointsOnSegment(e.xmin,e.ymax,e.xmax,e.ymax,t),this.pointsOnSegment(e.xmin,e.ymin,e.xmin,e.ymax,t),_.compact(t)},r.prototype.pointsOnSegment=function(e,t,n,r,i){var o,a,s,u,l,c,p,h,f,d;return null==i&&(i=[]),l=new Vector(e,t),p=new Vector(n,r),d=Vector.subtract(p,l),c=Vector.subtract(l,this.center),o=Vector.dot(d,d),a=2*Vector.dot(c,d),s=Vector.dot(c,c)-this.radius*this.radius,u=a*a-4*o*s,u>=0&&(u=Math.sqrt(u),h=(-a-u)/(2*o),f=(-a+u)/(2*o),h>=0&&1>=h&&i.push(Vector.add(l,Vector.multiply(d,h))),f>=0&&1>=f&&i.push(Vector.add(l,Vector.multiply(d,f)))),i},r}()}.call(this),function(){function e(e,t,n,r){this.xmin=e||0,this.ymin=t||0,this.xmax=n||0,this.ymax=r||0}var t=[new Vector,new Vector];e.copy=function(t){return(new e).copy(t)},e.prototype.toJSON=function(){return{xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax}},e.unit=function(){return new e(-.5,-.5,.5,.5)},e.fromBBox=function(t){return new e(t.x,t.y,t.x+t.width,t.y+t.height)},e.withCorners=function(t,n){return new e(t.x,t.y,n.x,n.y)},e.prototype.summarize=function(){return[this.xmin,this.ymin,this.xmax,this.ymax].join(", ")},e.prototype.toString=e.prototype.summarize,e.prototype.clone=function(){return new e(this.xmin,this.ymin,this.xmax,this.ymax)},e.prototype.copy=function(e,t,n,r){if(1===arguments.length){var i=arguments[0];e=i.xmin,t=i.ymin,n=i.xmax,r=i.ymax}return this.xmin=e,this.ymin=t,this.xmax=n,this.ymax=r,this},e.prototype.bound=function(t,n){if(1==arguments.length){var r=arguments[0];r instanceof e?(this.bound(r.xmin,r.ymin),this.bound(r.xmax,r.ymax)):this.bound(r.x,r.y)}else this.xmin=this.xmin?Math.min(this.xmin,t):t,this.ymin=this.ymin?Math.min(this.ymin,n):n,this.xmax=this.xmax?Math.max(this.xmax,t):t,this.ymax=this.ymax?Math.max(this.ymax,n):n;return this},e.prototype.contains=function(t,n){if(1==arguments.length){var r=arguments[0];if(r instanceof e){var i=r;return i.xmin>=this.xmin&&i.ymin>=this.ymin&&i.xmax<=this.xmax&&i.ymax<=this.ymax}var o=r;return o.x>=this.xmin&&o.x<=this.xmax&&o.y>=this.ymin&&o.y<=this.ymax}return t>=this.xmin&&t<=this.xmax&&n>=this.ymin&&n<=this.ymax},e.prototype.intersects=function(e){return this.contains(e.xmin)||this.contains(e.ymin)||this.contains(e.xmax)||this.contains(e.ymax)},e.prototype.intersectWithCenter=function(e,n){for(var r,i,o,a=this.center(),s=e,u=t[0],l=t[1],c=0;4>c;c++)if(0===c?(u.set(this.xmin,this.ymin),l.set(this.xmax,this.ymin)):1===c?(u.set(this.xmax,this.ymin),l.set(this.xmax,this.ymax)):2===c?(u.set(this.xmax,this.ymax),l.set(this.xmin,this.ymax)):3===c&&(u.set(this.xmin,this.ymax),l.set(this.xmin,this.ymin)),o=(l.y-u.y)*(s.x-a.x)-(l.x-u.x)*(s.y-a.y),o&&(r=((l.x-u.x)*(a.y-u.y)-(l.y-u.y)*(a.x-u.x))/o,i=((s.x-a.x)*(a.y-u.y)-(s.y-a.y)*(a.x-u.x))/o,r>=0&&1>=r&&i>=0&&1>=i))return n=n||new Vector,n.copy(s).subtract(a).multiply(r).add(a),n;return void 0},e.prototype.min=function(){return new Vector(this.xmin,this.ymin)},e.prototype.max=function(){return new Vector(this.xmax,this.ymax)},e.prototype.width=function(){return this.xmax-this.xmin},e.prototype.height=function(){return this.ymax-this.ymin},e.prototype.xmid=function(){return(this.xmin+this.xmax)/2},e.prototype.ymid=function(){return(this.ymin+this.ymax)/2},e.prototype.center=function(){return new Vector(this.xmid(),this.ymid())},e.prototype.longest=function(){var e=this.width(),t=this.height();return e>t?e:t},e.prototype.shortest=function(){var e=this.width(),t=this.height();return e>t?t:e},e.prototype.expand=function(e,t){return 1===arguments.length&&(t=e),this.xmin-=e,this.ymin-=t,this.xmax+=e,this.ymax+=t,this},e.prototype.contract=function(e,t){return 1===arguments.length&&(t=e),this.expand(-e,-t)},e.prototype.scale=function(e,t){var n=this.width(),r=this.height();1===arguments.length&&(t=e);var i=(n*e-this.width())/2,o=(r*t-this.height())/2;return this.expand(i,o)},e.prototype.translate=function(e,t){if(1==arguments.length){var n=arguments[0];e=n.x,t=n.y}return this.xmin+=e,this.xmax+=e,this.ymin+=t,this.ymax+=t,this},e.prototype.reset=function(){return this.xmin=this.xmax=this.ymin=this.ymax=0,this},e.prototype.resetToUnit=function(){return this.xmin=this.ymin=-.5,this.xmax=this.ymax=.5,this},e.prototype.resetBounds=function(){this.xmin=this.ymin=+1/0,this.xmax=this.ymax=-1/0},window.Rectangle=e}(),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.className="Membership",t.prototype.url=function(){var e;return e=this.user?this.user.get("username")||this.user.id:this.get("user"),Api.url("/projects/"+this.get("project")+"/memberships/"+e)},t.prototype.getUsername=function(){return this.user.get("username")},t.prototype.getHandle=function(){return this.user.getHandle()},t.prototype.getRole=function(){return this.get("role")},t.prototype.toJSON=function(){var e;return e=t.__super__.toJSON.apply(this,arguments),this.user&&(e.user=this.user.id||this.user.get("username")||this.user.get("email")),e},t.prototype.parse=function(e){return this.user=new User(e.user),e.user=this.user.id,e},t}(Backbone.Model),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.className="MembershipCollection",r.prototype.model=e,r.prototype.url=function(){return Api.url("/projects/"+this.project.id+"/memberships")},r.prototype.initialize=function(e,t){return this.project=t.project},r}(Backbone.Collection),namespace("window",function(n){return n.Membership=e,n.MembershipCollection=t})}.call(this),function(){this.Metrics={all:["size","degree","indegree","outdegree","closeness","betweenness","eigenvector","reach","reach-efficiency","micmac"],popular:["degree","closeness","betweenness"],adjust:function(e,t,n,r,i){var o,a,s,u,l,c,p,h,f;switch(t){case"degree":for(o=/i$/,p=i.edges,l=0,c=p.length;c>l;l++)h=p[l],u=h[0],f=h[1],s=h[2],o.test(s.id)&&(a=r.edgeWeighted?s.weight:1,n.degree[u]-=a,n.degree[f]-=a)}return n}}}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty,i=[].slice;e=function(){function e(e){this.from=e,this.to=this.from.clone(),this.offset=new Vector,this.previousOffset=new Vector,this.delta=new Vector,this.distance=0,this.extent=0,this.count=0}return e.prototype.update=function(e){return this.to=e,this.offset.x=this.to.x-this.from.x,this.offset.y=this.to.y-this.from.y,this.delta.x=this.offset.x-this.previousOffset.x,this.previousOffset.x=this.offset.x,this.delta.y=this.offset.y-this.previousOffset.y,this.previousOffset.y=this.offset.y,this.distance=Math.sqrt(this.offset.x*this.offset.x+this.offset.y*this.offset.y),this.extent=Math.max(this.extent,this.distance),this.count+=1},e.prototype.intentional=function(){return this.count>1},e.prototype.significant=function(){return this.extent>1},e}(),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.initialize=function(){return this.mousedown=!1,this.$targets=[],this.timestamps={},this.lastUpdatedAt=0,this.reset()},r.prototype.event=function(e,t){return null==t&&(t=null),null!=t&&_.extend(e,t),e.modifiers=this.eventModifiers(e),e.location=this.eventLocation(e),null!=this.drag&&(e.drag=this.drag),e},r.prototype.context=function(e){return this.trigger("context",this.event(e))},r.prototype.enter=function(e){return this.trigger("enter",this.event(e))},r.prototype.leave=function(e){return this.trigger("leave",this.event(e))},r.prototype.down=function(t){return this.mousedown=!0,this.event(t),this.timestamp("down"),this.trigger("down",t),this.holdTimeout=setTimeout(function(e){return function(){return e.hold(t)}}(this),r.HOLD_THRESHOLD),this.drag=new e(t.location)},r.prototype.hold=function(e){return this.drag&&log.debug("DRAG COUNT="+this.drag.count+" EXTENT="+this.drag.extent),this.drag&&this.drag.intentional()?void 0:this.trigger("hold",this.event(e))},r.prototype.move=function(e){return this.event(e),this.timestamp("move"),this.trigger("move",e),this.mousedown&&this.drag?(this.drag.update(e.location),this.trigger("drag",e)):void 0},r.prototype.up=function(e){return this.mousedown=!1,this.event(e),clearTimeout(this.holdTimeout),this.timestamp("up"),this.trigger("up",e),this.timeSinceLastClick()<r.DOUBLE_CLICK_THRESHOLD?this.trigger("dblclick",e):this.clickDuration()<r.CLICK_DURATION_THRESHOLD&&this.trigger("click",e),this.drag=null},r.prototype.wheel=function(e,t){return this.trigger("wheel",this.event(e,{wheel:{delta:t}}))},r.prototype.isDown=function(){return this.mousedown},r.prototype.isUp=function(){return!this.mousedown},r.prototype.isMoving=function(){return this.timeSinceLastUpdate()<r.MOVING_THRESHOLD},r.prototype.monitor=function(){var e,t,n,r,o,a;for(a=1<=arguments.length?i.call(arguments,0):[],o=this,r=this.targets.apply(this,a),t=0,n=r.length;n>t;t++)e=r[t],e.on("contextmenu.mouse",function(e){return o.context(e)}).on("mouseenter.mouse",function(e){return o.enter(e)}).on("mouseleave.mouse",function(e){return o.leave(e)}).on("mousedown.mouse",function(e){return o.down(e)}).on("mouseup.mouse",function(e){return o.up(e)}).on("mousemove.mouse",function(e){return o.move(e)}).on("mousewheel.mouse",function(e,t,n,r){return o.wheel(e,t,n,r)}),this.$targets.push(e);return this},r.prototype.destroy=function(){var e,t,n,r;for(r=this.$targets,t=0,n=r.length;n>t;t++)e=r[t],e.off(".mouse");return this.$targets=[],this},r.prototype.clickDuration=function(){return this.timestamps.up.current-this.timestamps.down.current},r.prototype.timeSinceLastClick=function(){return this.timeBetween("down")},r.prototype.timeSinceLastUpdate=function(){return this.now()-this.lastUpdatedAt},r.prototype.eventModifiers=function(e){var t;return t=[],e.altKey&&t.push("ALT"),e.shiftKey&&t.push("SHIFT"),e.metaKey&&t.push("META"),t.join("+")},r.prototype.eventLocation=function(e){return new Vector(e.offsetX||e.originalEvent.layerX,e.offsetY||e.originalEvent.layerY)},r.prototype.targets=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],_.map(e,function(e){var t;return t=e instanceof $?e:$(e)})},r.prototype.reset=function(e){var t,n,r,i;if(e)return this.timestamps[e]={previous:0,current:0};for(r=["down","move","up"],i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(this.reset(e));return i},r.prototype.timestamp=function(e){var t;return t=this.timestamps[e],t.previous=t.current,t.current=this.lastUpdatedAt=this.now()},r.prototype.timeBetween=function(e){var t;return t=this.timestamps[e],t.current-t.previous},r.prototype.now=function(){return(new Date).getTime()},r}(Backbone.Model),t.CLICK_DURATION_THRESHOLD=200,t.DOUBLE_CLICK_THRESHOLD=500,t.HOLD_THRESHOLD=800,t.MOVING_THRESHOLD=1e3,window.Mouse=t}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.Node=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="Node",n.prototype.collectionName="nodes",n.prototype.paramRoot="node",n.prototype.persistedAttributes=["type","_id","_rev","map_id","origin","entity_id","pinned","position"],n.prototype.conflictPreferences={entity_id:"mine",position:"mine",pinned:"mine"},n.prototype.defaults=function(){return{type:"Node",position:null,pinned:!1,locked:!1}},n.prototype.initialize=function(){var e;return n.__super__.initialize.apply(this,arguments),this.edges=[],this.selected=!!this.get("selected"),delete this.attributes.selected,this.set({locked:!1},{silent:!0}),e=this.attributes.entity||Elements.get(this.attributes.entity_id),delete this.attributes.entity,e&&this.setElement(e),this.position=new Vector,this._bounds=new Rectangle,this.has("position")&&(this.restoreSavedPosition(),this.positionInitialized=!0),this.display.position=new Vector,this.connections=[],this.resetEdges()},n.prototype.resetEdges=function(){return this.edges.length=0},n.prototype.addEdge=function(e){return this.edges.push(e),this},n.prototype.removeEdge=function(e){return this.edges=_.without(this.edges,e),this},n.prototype.makeDragPlaceholder=function(){return this.pickable=!1,this.shape="circle",this.size=1,this.scale=0,this.margin=5,this.borderWidth=0},n.prototype.degree=function(){return this.edges.length},n.prototype.getUndirectedEdges=function(){return this.getEdgesByDirection("undirected")},n.prototype.getDirectedEdges=function(){return this.getEdgesByDirection("directed")},n.prototype.getMutualEdges=function(){return this.getEdgesByDirection("mutual")},n.prototype.getEdgesByDirection=function(e){return _.filter(this.edges,function(t){return t.getDirection()===e})},n.prototype.getElement=function(){return this.entity},n.prototype.setElement=function(e){return this.setEntity(e)},n.prototype.getImage=function(){var e;return null!=(e=this.entity.getImage())?e:this.entity.getAvatar({size:80,placeholder:"404"})},n.prototype.getImage2x=function(){return this.entity.getImage("large")},n.prototype.toJSON=function(){return _.omit(this.attributes,"locked","pickable")},n.prototype.positionHasChanged=function(){return this.display.position.x!==this.position.x||this.display.position.y!==this.position.y},n.prototype.isFixed=function(){return this.isLocked()||this.isPinned()},n.prototype.isRenderable=function(){return null!=this.position&&null!=this.style},n.prototype.isAdjacentTo=function(e){return _.any(this.connections,function(t){return t.from===e||t.to===e})},n.prototype.bounds=function(e){var t,n,r,i,o;if("circle"===this.display.shape?(i=this.display.outerRadius,this.display.drawShadow&&this.display.shadowRadius>i&&(i=this.display.shadowRadius),this._bounds.resetToUnit(),this._bounds.scale(2*i).translate(this.display.position.x,this.display.position.y)):this._bounds.copy(this.display.outerBounds),null!=e?e.neighbors:void 0)for(o=this.edges,n=0,r=o.length;r>n;n++)t=o[n],this._bounds.bound(t.other(this).bounds());return this._bounds},n.prototype.savePosition=function(){return this.set("position",this.position),this.entity.save({position:this.position.toJSON()}).done(function(e){return function(){return e.lastFixedPosition=e.position}}(this))},n}(Component),window.NodeCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.view="map/components",n.prototype.query=function(){return{key:[this.map.id,"Node"]}},n.prototype.model=Node,n}(ComponentCollection),namespace("window",function(e){return e.Node=Node,e.NodeCollection=NodeCollection})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Cluster=function(t){function n(e){this.rules=null!=e?e:[],n.__super__.constructor.call(this)}return e(n,t),n.getTargetElements=function(e,t){var n;return n=t&&t.length>0?t.getElements():e.select("element").elements()},n.getAttributes=function(){return Attributes.visible().chain().filter(function(e){return e.get("cluster")}).collect(function(e){return{label:e.label(),name:e.get("name")}}).value()},n.prototype.dispose=function(){return this.clean()},n.prototype.isActive=function(){return this.rules&&this.rules.length>0},n.prototype.isEmpty=function(){return!this.isActive()},n.prototype.isAdvancedRule=function(e){return e.selector||e.type},n.prototype.reset=function(e){return this.rules=null!=e?e:[],this.clean(),this.trigger("update")},n.prototype.copy=function(e){return this.reset(_.clone(e.rules))},n.prototype.getAdvancedRules=function(){return _.filter(this.rules,this.isAdvancedRule.bind(this))},n.prototype.getSimpleRules=function(){return _.reject(this.rules,this.isAdvancedRule.bind(this))},n.prototype.releaseTransaction=function(){var e;return e=this.transaction,this.transaction=void 0,e},n.prototype.by=function(e){return this.reset(e),this.execute(currentMap,currentScene.datasets.visible)},n.prototype.execute=function(e,t){return null==t&&(t=e.dataset()),this.blueprint=this.getBlueprint(t),this.transaction=BlueprintBuilder.build(this.blueprint,e)},n.prototype.save=function(){return this.transaction.save()},n.prototype.undo=function(){return this.clean()},n.prototype.clean=function(){return this.transaction?(this.transaction.undoLocally(),this.transaction=void 0):void 0},n.prototype.getBlueprint=function(e){var t,n,r,i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,x,E,k,C;for(s=[],i=[],n={},v=this.rules,l=0,f=v.length;f>l;l++)for(b=v[l],_.isString(b)?(t=b,w=E=void 0):(w=b.selector,t=b.attribute,E=b.type),o=t.singularize(),a=null!=E?E:o,r=o,y=this.getElements(e,w),c=0,d=y.length;d>c;c++)for(u=y[c],C=u.getAttrs(t),C=_.compact(C),p=0,m=C.length;m>p;p++)g=C[p],k=String(g).trim(),h=a+"::"+k,(x=n[h])||(x=n[h]={type:a,label:k},s.push(x)),i.push({type:r,from:u,to:x});return{elements:s,connections:i}},n.prototype.getElements=function(e,t){return null==t&&(t="element"),Selector.select(t,e).elements()},n.prototype.toJSON=function(){return[].concat(this.rules)},n}(Backbone.Model)}.call(this),function(){var e;e=function(){function e(e,t){this.css={property:e,value:t},this.property=e,this.parse(t)}return e.registry={},e.build=function(t,n){var r,i,o,a;return"position"===t?new PositionDeclaration(t,n):(o=_.isString(n)&&n.match(/^([-a-z]+)\((.*)\)$/),o?(a=o[1],r=o[2],new(i=this.registry[a]||raise("UnknownDeclaration: "+declaration))(t,n)):new e(t,n))},e.register=function(e,t){return this.registry[e]=t||this},e.typed=function(e){var t;try{return JSON.parse(e)}catch(n){return t=n,e}},e.parseFunction=function(e){var t;return t=e.match(/([^\(]+)\((.*)\)/),{name:t[1],args:t[2]}},e.prototype.name="simple",e.prototype.refresh=function(){},e.prototype.apply=function(e,t){return e.set(this.property,t,this.evaluate(t))},e.prototype.toCSS=function(){return this.css.property+": "+this.css.value+";"},e.prototype.parse=function(t){return this.value=e.typed(t)},e.prototype.evaluate=function(){return this.value},e.prototype.isSimple=function(){return"simple"===this.name},e}(),namespace("window",function(t){return t.StyleDeclaration=e})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;StyleDeclaration.Scale=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.parse=function(e){var t,n,r,i;return r=StyleDeclaration.parseFunction(e),n=r.name,t=r.args,i=t.split(","),this.expression=i[0].trim().unquote(),this.attribute=Attributes.findByName(this.expression),this.range=this.parseRange(i.slice(1).map(function(e){return e.trim()})),this["default"]=this.range[0]},n.prototype.parseRange=function(e){var t,n,r,i,o;if(e.length<=1)return Colors.get(e[0]||"default");for(r=[],t=0,n=e.length;n>t;t++)o=e[t],i=StyleDeclaration.typed(o),r.push(i);return r},n.prototype.refresh=function(e,t){var n,r;return t||(t=e.toSelection(),r=!0),n=new AttributeEvaluator(this.expression),this.evaluation=new Evaluation(n),this.result=this.evaluation.evaluate(t),r&&t.reset(),this.scale=this.buildScale(this.result,this.range)},n.prototype.rawValue=function(e){var t;return null==this.result&&raise("Scale must be initialized before evaluating"),null!=(t=this.result.value(e))?t:this.calculate(e)},n.prototype.evaluate=function(e){return this.translate(this.rawValue(e))},n.prototype.translate=function(e){var t;return this.isPresent(e)&&(t=this.scale(e)),this.isPresent(t)?t:this["default"]},n.prototype.calculate=function(e){return this.evaluation.evaluate(e,this.result),this.result.value(e)},n.prototype.isPresent=function(e){return null!=e&&!_.isNaN(e)},n}(StyleDeclaration)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=10,StyleDeclaration.CategoryScale=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.register("category-scale"),r.register("categorize"),r.register("ordinal-scale"),r.register("qualitative-scale"),r.prototype.name="category-scale",r.prototype.buildScale=function(e,t){var n;return this["default"]=void 0,this.table=n=0===t.length||1===t.length&&Number(t[0])?this.initializeDefaultScale(e,t[0]):1===this.range.length?this.initializeNamedColorScale(e,t[0]):this.initializeCustomScale(e,t),function(e){return n[e]}},r.prototype.initializeDefaultScale=function(t,n){return null==n&&(n=e),this.initializeNamedColorScale(t,this.getDefaultColorPalette())},r.prototype.getDefaultColorPalette=function(){var e;return e=("undefined"!=typeof currentScene&&null!==currentScene?currentScene.style.guide.get("colors"):void 0)||"spectral",/,/.test(e)&&(e="default"),e},r.prototype.initializeNamedColorScale=function(e,t){var n,r,i,o,a,s,u,l,c,p,h,f,d;if(c=t.split(/\s+/),l=c[0],s=c[1],p=l.match(/^(.*?)(-inverted)?$/),u=p[0],l=p[1],o=p[2],n=Colors.get(l),null==n)return this.initializeCustomScale(e,t);for((s=Number(s))?n=n.slice(0,s):s=n.length,d={},f=this.calculateImplicitStops(e),i=r=0,a=f.length;a>r&&(h=f[i],!(i>=n.length));i=++r)d[h]=n[i];return d},r.prototype.initializeCustomScale=function(e){var t,n,r,i,o,a,s,u,l,c;for(l={},r=this.calculateImplicitStops(e),a=this.range,i=n=0,o=a.length;o>n;i=++n){if(t=a[i],s=t.split(/\s+/),c=s[0],u=s[1],u){if(u=u.unquote(),"default"===u){this["default"]=c;continue}}else u=r[i];l[u]=c}return l},r.prototype.calculateImplicitStops=function(e){var t;return t=this.attribute&&this.attribute.get("values"),t&&t.length||(t=e.valuesByPopularity()),t},r}(StyleDeclaration.Scale)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;StyleDeclaration.LinearGradient=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.register("linear-gradient"),n.register("gradient"),n.prototype.name="linear-gradient",n.prototype.parse=function(e){var t,n,r,i,o,a,s,u,l,c;for(this.stops=[],s=StyleDeclaration.parseFunction(e),a=s.name,t=s.args,c=t.split(","),u=[],i=r=0,o=c.length;o>r;i=++r)e=c[i],l=i/(c.length-1),n=e.trim(),u.push(this.stops.push({stop:l,color:n}));
return u},n.prototype.refresh=function(){},n.prototype.evaluate=function(){return this.stops},n}(StyleDeclaration)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;StyleDeclaration.LinearScale=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.register("scale"),n.register("linear-scale"),n.register("scale-linear"),n.prototype.name="linear-scale",n.prototype.buildScale=function(e,t,n){var r;return r=this.getStops(e,t,n),d3.scale.linear().domain(r).range(t)},n.prototype.getStops=function(e,t){var n,r,i,o,a,s,u,l,c;if(u=i=e.limits(),a=u[0],o=u[1],t.length<2||a===o||isNaN(a)||isNaN(o))return i;for(c=[],s=(o-a)/(t.length-1),n=r=0,l=t.length;l>=0?l>r:r>l;n=l>=0?++r:--r)c.push(a+n*s);return c},n}(StyleDeclaration.Scale)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;StyleDeclaration.LogScale=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.register("log-scale"),n.register("scale-log"),n.prototype.name="log-scale",n.prototype.buildScale=function(e,t,n){var r,i,o;return i=this.getStops(e,t,n),o=i.stops,r=i.base,d3.scale.log().base(r).domain(o).range(t)},n.prototype.getStops=function(e,t){var n,r,i,o,a,s,u,l,c;if(u=o=e.limits(),s=u[0],a=u[1],t.length<2||s===a||isNaN(s)||isNaN(a))return{stops:o,base:10};for(c=[],n=Math.exp(Math.log(a-s+1)/(t.length-1)),r=i=0,l=t.length;l>=0?l>i:i>l;r=l>=0?++i:--i)c.push(s-1+Math.pow(n,r));return{stops:c,base:n}},n}(StyleDeclaration.Scale)}.call(this),function(){var e,t,n,r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;this.PositionDeclaration=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.parse=function(e){return this.value=e},n.prototype.refresh=function(e,n){return this.layout=t(this.value,n)},n.prototype.evaluate=function(e){return this.layout(e)},n}(StyleDeclaration),t=function(e,t){var o,a,s,u;return o=t.elements(),a=n(e),s=r(e),(a||s)&&(o=groupAndSortByField(o,a,s)),(u=LayoutManager.createStaticLayout(e)||i)(o)},n=function(e){var t;return t=e.match(/group by "(.+?)"/i),t&&t[1]},r=function(e){var t;return t=e.match(/sort by "(.+?)"/i),t&&t[1]},e=function(e,t){var n;return n={x:void 0,y:void 0},LayoutManager.createExpressionLayout(t,n)},i=function(){return function(){return void 0}}}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;StyleDeclaration.QuantileScale=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.register("quantile-scale"),n.register("scale-quantile"),n.prototype.name="quantile-scale",n.prototype.buildScale=function(e,t){return d3.scale.quantile().domain(e.limits()).range(t)},n}(StyleDeclaration.Scale)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;StyleDeclaration.Url=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.register("url"),n.prototype.name="url",n.prototype.parse=function(e){var t;return t=e.match(/url\((.*)\)/),this.url=t[1].unquote()},n.prototype.evaluate=function(){return this.url},n}(StyleDeclaration)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Filter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.defaults=function(){return{include:null,ignore:null}},n.prototype.initialize=function(){return this.listenTo(this,"change",this.rebuild),this.rebuild()},n.prototype.dispose=function(){return this.stopListening()},n.prototype.reset=function(e){return this.set(_.defaults({},e,this.defaults()))},n.prototype.copy=function(e){return this.reset(e.toJSON())},n.prototype.isActive=function(){return!(!this.get("include")&&!this.get("ignore"))},n.prototype.isAdvanced=function(){return!(!this.getCustomInclude()&&!this.getCustomIgnore())},n.prototype.rebuild=function(){return this.includedTypes={},this.include=Selector.parse(this.get("include")),this.ignore=Selector.parse(this.get("ignore")),this.trigger("update"),map.trigger("change:filter",this)},n.prototype.getCustomInclude=function(){return this.getCustom(this.get("include"))},n.prototype.getCustomIgnore=function(){return this.get("ignore")},n.prototype.getCustom=function(e){var t,n,r;return null==e&&(e=""),r=/\s*([^,]*(?:\[.*?\])+|[^,]+)\s*/gi,t=/(\*|#|\.|\[|]|:|\s)/,n=e.match(r),_.chain(n).map(function(e){return e.trim()}).filter(function(e){return t.test(e)}).uniq().value().join(", ")},n.prototype.permit=function(e){var t,n;return e instanceof Entity?(t=!this.include||this.include.invalid()||this.include.select(e),t=t&&!(null!=(n=this.ignore)?n.select(e):void 0)):this.permitType.apply(this,arguments)},n.prototype.permitType=function(e,t){var n,r;return r=null!=(n=this.includedTypes)[e]?n[e]:n[e]=this.getIncludedTypes(e),r.test(t)},n.prototype.getIncludedTypes=function(e){var t,n,r,i,o,a,s,u;for(u=[],o=[],t=!1,a=e.singularize(),s=a+" type",this.include?o=this.include instanceof AttributeSelector||this.include instanceof GenericSelector?[this.include]:this.include instanceof CompoundSelector&&"union"===this.include.get("method")?this.include.get("selectors"):[]:(t=!0,o=[]),n=0,r=o.length;r>n;n++)i=o[n],i instanceof AttributeSelector&&i.get("attribute")===s&&"="===i.get("operator")?u.push(i.get("value")):i instanceof GenericSelector&&i.get("type")===a&&(t=!0);return t?new RegExp(".*"):0===u.length?new RegExp("^\b$"):new RegExp("^("+u.join("|")+")$","i")},n}(Backbone.Model)}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t=3,e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.defaults=function(){return{required:!1,roots:[]}},t.prototype.initialize=function(){return this.listenTo(this,"change",this.onChange)},t.prototype.dispose=function(){return this.stopListening()},t.prototype.onChange=function(){return this.trigger("update"),currentScene&&currentScene.style.focus===this?(map.trigger("change:focus",this),Dispatch.trigger("focuschange",this)):void 0},t.prototype.set=function(e,n,r){var i,o;return _.isObject(e)?(i=e,r=n):(i={},i[e]=n),(o=i.roots)&&this.supplyDefaultDegree(o),t.__super__.set.call(this,i,r)},t.prototype.degree=function(){var e,t;return t=this.get("roots"),t.length>0&&(e=t[0].degree,_.all(t,function(t){return t.degree===e})||(e=void 0)),e},t.prototype.isSimple=function(){return this.degree()>=0},t.prototype.supplyDefaultDegree=function(e){var t,n,r,i;for(r=[],t=0,n=e.length;n>t;t++)i=e[t],r.push(null!=i.degree?i.degree:i.degree=this.getDefaultDegree(i.root));return r},t.prototype.getDefaultDegree=function(e){return e instanceof Node?1:0},t.prototype.update=function(e){var t,n,r,i,o,a,s,u,l,c,p;if(n=e.degree,c=null!=(s=e.roots)?s:this.roots(),0===c.length)if(p=map.getSelector())c.push({root:p});else for(u=map.getSelection().models,r=0,o=u.length;o>r;r++)t=u[r],c.push({root:t});for(i=0,a=c.length;a>i;i++)l=c[i],null!=n&&(l.degree=n);return this.set({roots:c})},t.prototype.copy=function(e){return this.reset(e.toJSON())},t.prototype.reset=function(e){return this.set(_.defaults({},e,this.defaults()))},t.prototype.resetRoots=function(e){return null==e&&(e=[]),this.set({roots:e})},t.prototype.isActive=function(){return this.isRequired()||!this.isEmpty()},t.prototype.isEmpty=function(){return 0===this.get("roots").length},t.prototype.isPresent=function(){return!this.isEmpty()},t.prototype.isRoot=function(e){return _.any(this.get("roots"),function(t){return _.isEqual(e,t.root)})},t.prototype.extend=function(e,t){var n,r,i,o;for(_.isArray(e)||(e=[e]),o=this.roots(),n=0,r=e.length;r>n;n++)i=e[n],this.isRoot(i.root)||o.push(i);return this.set("roots",o,t)},t.prototype.expand=function(){return this.shift(1)},t.prototype.contract=function(){return this.shift(-1)},t.prototype.shift=function(e){var t,n,r,i;for(i=this.roots(),t=0,n=i.length;n>t;t++)r=i[t],r.degree+=e,r.degree<0&&(r.degree=0);return this.set("roots",i)},t.prototype.remove=function(e,t){var n;return n=this.roots(),_.isNumber(e)&&(e=n[e]),n=_.without(n,e),this.set("roots",n,t)},t.prototype.apply=function(e,t){var n,r,i,o,a,s,u,l,c,p,h,f,d,m;if(!this.isEmpty()){for(this._visible={},r=e.dataset(),p=this.get("roots"),s=0,l=p.length;l>s;s++)if(h=p[s],d=h.root,i=h.degree,_.isString(d)){for(o=Selector.select(d,r),n=o.toComponentSelection(e),f=n.models,u=0,c=f.length;c>u;u++)d=f[u],this.visitRoot(e,t,d,i);o.dispose(),n.dispose()}else this.visitRoot(e,t,d,i);m=this,a=function(e){return m.isVisible(e)?void 0:t.set("display",e,"none")},e.nodes.each(a),e.edges.each(a),e.labels.each(a),r.dispose()}return this},t.prototype.visitRoot=function(e,t,n,r){return this.visible(n,0),this["visit"+n.className+"Root"](e,t,n,r)},t.prototype.visitNodeRoot=function(e,t,n,r){return this.visit(e,t,n,r,0)},t.prototype.visitEdgeRoot=function(e,t,n,r){return this.visitRoot(e,t,n.from,r),this.visitRoot(e,t,n.to,r)},t.prototype.visitLabelRoot=function(e,t,n,r){var i,o,a,s,u;for(s=n.edges,u=[],o=0,a=s.length;a>o;o++)i=s[o],u.push(this.visitRoot(e,t,i,r,0));return u},t.prototype.visit=function(e,t,n,r,i){var o,a,s,u,l,c;if(this.visible(n,i),r>i){for(i+=1,l=n.edges,c=[],a=0,s=l.length;s>a;a++)o=l[a],u=o.other(n),this.isExhausted(u,i)||this.visit(e,t,u,r,i),c.push(this.isVisible(u)?this.visible(o,i):void 0);return c}},t.prototype.visible=function(e,t){return this._visible[e.cid]=t},t.prototype.isVisible=function(e){return null!=this._visible[e.cid]},t.prototype.isExhausted=function(e,t){return this._visible[e.cid]<=t},t.prototype.isRequired=function(){return this.get("required")},t.prototype.toJSON=function(e){var t,n,r,i,o,a,s,u;for(r={required:this.get("required"),roots:[]},a=this.get("roots"),n=0,o=a.length;o>n;n++)s=a[n],u=s.root,t=s.degree,i=s.label,u instanceof Component&&(null==i&&(i=u.getLabel()),u=u.getDirectSelector(e)),r.roots.push({root:u,degree:t,label:i});return r},t.prototype.roots=function(){return _.map(this.get("roots"),function(e){return _.clone(e)})},t}(Backbone.Model),namespace("window",function(t){return t.Focus=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.initializeSettings()},n.prototype.initializeSettings=function(){return this.settings=_.defaults({},this.get("settings"),n.settings)},n.prototype.shouldBeIncluded=function(){return!!(this.get("summary")||this.get("entries").length>0)},n}(Backbone.Model),e.settings={fontFamily:'proxima-nova, "Helvetica Neue", sans-serif',labelColor:"#000",labelSize:14,labelLineHeight:16,summaryColor:"#888",summarySize:12,summaryLineHeight:14,previewHeight:20,previewWidth:40,wrap:30},namespace("window",function(t){return t.Legend=e})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Lens=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="Lens",n.prototype.defaults=function(){return{legend:!0,declarations:{}}},n.prototype.initialize=function(){return this.disabled=!1,this.listenTo(this,"change:selector",function(e){return function(){return e.cachedSelector=null,e.cachedDeclarations=null}}(this)),this.listenTo(this,"change:declarations",function(e){return function(){return e.cachedDeclarations=null}}(this))},n.prototype.dispose=function(){return this.reset()},n.prototype.reset=function(){var e;return this.stopListening(),null!=(e=this.selection)?e.reset():void 0},n.prototype.is=function(e){var t;return(null!=(t=this.get("selector"))?t.toLowerCase():void 0)===(null!=e?e.toLowerCase():void 0)},n.prototype.isFilter=function(){var e;return e=_.keys(this.get("declarations")),1===e.length&&"visibility"===e[0]},n.prototype.includeInLegend=function(){return this.disabled?!1:this.get("legend")&&this.get("collection")&&this.get("label")&&!this.isFilter()},n.prototype.selector=function(){return null!=this.cachedSelector?this.cachedSelector:this.cachedSelector=Selector.parse(this.get("selector")||this.getDefaultSelector())},n.prototype.scope=function(){return this.get("collection").singularize()},n.prototype.getDefaultSelector=function(){return this.get("collection").singularize()},n.prototype.hasCustomSelector=function(){var e;return e=this.get("selector"),!!e&&e!==this.scope()},n.prototype.decl=function(e){return this.declarations().find(function(t){return t.property===e})},n.prototype.declarations=function(){var e,t,n,r;if(!this.cachedDeclarations){this.cachedDeclarations=[],n=this.get("declarations");for(t in n)r=n[t],e=StyleDeclaration.build(t,r),this.cachedDeclarations.push(e)}return this.cachedDeclarations},n.prototype.refresh=function(e){var t,n,r,i,o,a;if(!this.disabled){for(null!=(i=this.selection)&&i.reset(),this.selection=this.selector().select(e),o=this.declarations(),a=[],n=0,r=o.length;r>n;n++)t=o[n],a.push(t.refresh(e,this.selection));return a}},n.prototype.apply=function(e,t){var n,r,i,o;if(!this.disabled&&this.selector().select(t)){for(o=this.declarations(),r=0,i=o.length;i>r;r++)n=o[r],n.apply(e,t);return void 0}},n.prototype.toCSS=function(){return StyleSheet.compile(this)},n}(Backbone.CouchModel),this.LensCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Lens,n.prototype.reset=function(){return this.invoke("reset"),n.__super__.reset.apply(this,arguments)},n}(Backbone.Collection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Perspective=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="Perspective",n.prototype.defaults=function(){return{type:"Perspective"}},n.prototype.toString=function(){return this.get("name")},n.prototype.slug=function(){var e;return this.get("slug")||(null!=(e=this.get("name"))?e.slugify():void 0)||""},n.prototype.getSummary=function(){return(this.get("description")||"").summary()},n}(Backbone.CouchModel),this.PerspectiveCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Perspective,n.prototype.index=function(e){return[e.id,e.cid,e.slug(),e.get("name")]},n.prototype.url="/perspectives",n.prototype.view="resources/all",n.prototype.query={key:"Perspective"},n.prototype.comparator="name",n}(Backbone.CouchCollection)}.call(this),function(){this.StyleSheet={}}.call(this),function(){var e,t,n;e=function(e){var n;return n={variables:e.variables,imports:e.imports,controls:e.controls,settings:e.settings.attributes,rules:e.lenses.map(t)},n.settings.include=e.filter.get("include"),n.settings.ignore=e.filter.get("ignore"),n.settings.focus=e.focus.toJSON(),n.settings.cluster=e.cluster.toJSON(),Freestyle.stringify(n)},t=function(e){var t,r,i,o,a;return o=e.get("label")||"",t=e.get("collection")||"",a=e.get("selector")||e.getDefaultSelector(),i=e.get("declarations"),r=t&&!n(a)?t+": "+o:o,{comment:r,selector:a,declarations:i}},n=function(e){return/^(element|connection|loop)/.test(e)},StyleSheet.compile=e}.call(this),function(){var e,t,n;e=function(e,r,i){var o,a;return null==e&&(e=""),a=(null!=r?r.shallow:void 0)?n:t,o=a(e),null==i&&(i=StyleModel.root()),i.reset(o),i},n=function(e){return null==e&&(e=""),Freestyle.parse(e)},t=function(e,r){var i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b;if(null==r&&(r=0),m=n(e),!m.error){if(m.imported=[],s=m.imports,v=m.settings,g=m.rules,a=[],b=StyleGuide.translate(v),(e=Template.style(v.template,b))&&a.push(t(e,r+1)),0===r&&((d=Settings.get("style"))&&a.push(t(d,r+1)),currentMap&&(p=currentMap.get("style"))&&a.push(t(p,r+1))),5>r)for(i=0,l=s.length;l>i;i++)y=s[i],(f=Perspectives.get(y))&&a.push(t(f.get("style"),r+1));for(u=0,c=a.length;c>u;u++)o=a[u],o.error||(h=StyleModel["import"](),h.reset(o),m.imported.push(h))}return m},StyleSheet.parse=e}.call(this),function(){var e;e=null,StyleSheet.validate=function(t){return null==e&&(e=StyleModel.root()),StyleSheet.parse(t,{full:!0},e),e.error}}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].slice;this.StyleModel=function(t){function r(e){var t;this.root=null!=(t=null!=e?e.root:void 0)?t:!1,this.ready=!1,this.resetInProgress=!1,this.variables=[],this.imports=[],this.imported=[],this.settings=new StyleModelSettings,this.lenses=new LensCollection,this.generals=new LensCollection,this.root&&(this.shadowRules=new LensCollection,this.filter=new Filter,this.focus=new Focus,this.cluster=new Cluster,this.guide=StyleGuide.base(),this.listenTo(this.filter,"update",this.onChange),this.listenTo(this.focus,"update",this.onChange),this.listenTo(this.cluster,"update",this.onChange),this.listenTo(this.settings,"all",this.onChange),this.listenTo(this.lenses,"all",this.onChange)),r.__super__.constructor.call(this)}return e(r,t),r.root=function(){return new r({root:!0})},r["import"]=function(){return new r({root:!1})},r.prototype.dispose=function(){return this.stopListening(),this.lenses.reset(),this.generals.reset(),this.root&&(this.shadowRules.reset(),this.filter.dispose(),this.focus.dispose(),this.cluster.dispose(),this.guide.dispose()),this},r.prototype.set=function(){var e,t,r;return e=1<=arguments.length?n.call(arguments,0):[],this.root&&(t=this.guide).set.apply(t,e),(r=this.settings).set.apply(r,e)},r.prototype.get=function(e){var t,n,r,i;if(this.settings.has(e))return this.settings.get(e);for(i=this.imported,t=0,r=i.length;r>t;t++)if(n=i[t],n.has(e))return n.get(e);return void 0},r.prototype.has=function(e){var t,n,r,i;if(this.settings.has(e))return!0;for(i=this.imported,t=0,r=i.length;r>t;t++)if(n=i[t],n.has(e))return!0;return!1},r.prototype.hasShadowRules=function(){return this.shadowRules&&this.shadowRules.length},r.prototype.compile=function(){var e,t;return e={variables:this.compileVariables(),imports:[],controls:this.compileControls(),settings:this.compileSettings(),rules:this.compileRules()},t=r.root(),t.reset(e),t},r.prototype.compileVariables=function(){var e;return e=[],this.walkUp(function(t){return e.push(t.variables)}),_.flatten(e)},r.prototype.compileControls=function(){var e,t,n,r,i,o,a;if(e={props:{},regions:{}},this.imported)for(a=this.imported,t=0,i=a.length;i>t;t++)n=a[t],r=n.compileControls(),Object.assign(e.props,r.props),Object.assign(e.regions,r.regions);return this.controls&&(o=cloned(this.controls),Object.assign(e.props,o.props),Object.assign(e.regions,o.regions)),e},r.prototype.walkUp=function(e){return this.walk(e,"up")},r.prototype.walkDown=function(e){return this.walk(e,"down")},r.prototype.walk=function(e,t){var n,r,i,o,a,s;for(i="up"===t?-1:1,s=this.imported,a=i,a>0?(n=0,o=s.length):n=s.length-1;a>0?o>n:n>=0;n+=a)r=s[n],r.walk(e);return void 0},r.prototype.compileSettings=function(){var e,t,n,r,i;if(i={},this.imported)for(r=this.imported,e=0,n=r.length;n>e;e++)t=r[e],Object.assign(i,t.compileSettings());return Object.assign(i,this.settings.toJSON()),i},r.prototype.compileSettingsFull=function(){var e,t;return e=_.extend({},this.guide.toJSON()),_.extend(e,this.compileSettings()),e.template&&(t=Template.defaults(e.template),_.defaults(e,t)),e},r.prototype.compileRules=function(){return this.compileLenses().map(function(e){return e.toJSON()})},r.prototype.compileLenses=function(){var e,t,n,r,i;for(r=[],i=this.imported,e=0,n=i.length;n>e;e++)t=i[e],r.push.apply(r,t.compileLenses());return r.push.apply(r,this.lenses.models),r},r.prototype.onChange=function(e){switch(e){case"change:include":this.updateFilterInclude();break;case"change:ignore":this.updateFilterIgnore();break;case"change:focus":this.updateFocus();break;case"change:cluster":this.updateCluster()}return this.resetInProgress||this.recompileSource(),this.afterStyleChange()},r.prototype.recompileSource=function(){return this.source=this.toStyleSheet()},r.prototype.afterStyleChange=function(){return!this.resetInProgress&&this.root&&currentScene&&this===currentScene.style?map.trigger("change:style"):void 0},r.prototype.updateFilterInclude=function(){return this.filter.set("include",this.get("include"))},r.prototype.updateFilterIgnore=function(){return this.filter.set("ignore",this.get("ignore"))},r.prototype.updateFocus=function(){return this.focus.reset(this.get("focus"))},r.prototype.updateCluster=function(){return this.cluster.reset(this.get("cluster"))},r.prototype.fromStyleSheet=function(e,t){return this.rebuild(e,t)},r.prototype.toStyleSheet=function(){return StyleSheet.compile(this)},r.prototype.reset=function(e){var t,n,r,i,o,a,s,u,l,c;for(null==e&&(e=""),this.resetInProgress=!0,this.ready=!1,this.root&&this.guide.reset(),this.clear({silent:!0}),s=this.imported,r=0,a=s.length;a>r;r++)i=s[r],i.dispose();return this.variables=[],this.imports=[],this.imported=[],_.isString(e)?this.fromStyleSheet(e):(n=e.error,c=e.variables,o=e.imports,i=e.imported,t=e.controls,l=e.settings,u=e.rules,this.error=n,n?(log.error(n),alert("Unable to parse view")):(this.variables=c,this.imports=o,this.imported=i,this.controls=t,null==l.include&&(l.include=null),null==l.ignore&&(l.ignore=null),null==l.focus&&(l.focus=null),null==l.cluster&&(l.cluster=null),this.settings.reset(l),this.lenses.reset(u),this.root&&this.update()),this.resetInProgress=!1,this.ready=!0,this.afterStyleChange())},r.prototype.rebuild=function(e,t){return null!=e&&(this.source=e),StyleSheet.parse(this.source,t,this)},r.prototype.update=function(e){var t;try{if(this.guide.reset(),this.configure(),e)return this.refresh(e),this.apply(this.guide,e)}catch(n){return t=n,this.error=t,log.error("Unable to update view",t),alert("Unable to update view")}},r.prototype.configure=function(){var e,t,n,r,i,o,a,s,u,l;u=this.compileSettings(),t={element:{},connection:{},loop:{}},this.generals.reset(),u.theme&&this.applyTheme(u.theme),this.guide.set("ignoreOrphans",/:orphan/.test(u.ignore));for(o in u)l=u[o],/^(style|imports|rules)$/.test(o)||((i=/^(element|connection|loop)([A-Z].*)$/.exec(o))?(s=i[1],o=i[2].charAt(0).toLowerCase()+i[2].slice(1),t[s][o]=l):this.guide.set(o,l));for(a=["element","connection","loop"],n=0,r=a.length;r>n;n++)s=a[n],e=t[s],Object.keys(e).length&&this.generals.add({selector:s,declarations:e});return applyKumuStyleGuideOverrides(this.guide),this},r.prototype.applyTheme=function(e){return(e=Themes[e])?this.guide.extend(e):void 0},r.prototype.refresh=function(e){return this.invokeImported("refresh",e),this.generals.invoke("refresh",e),this.lenses.invoke("refresh",e),this.root&&this.shadowRules.invoke("refresh",e),this},r.prototype.apply=function(e,t){return null!=t.each?t.each(function(t){return function(n){return t.apply(e,n)}}(this)):(t instanceof Component&&(t=t.entity),this.filter.permit(t)?(this.applyGenerals(e,t),this.applyLenses(e,t),this.root&&this.applyShadowRules(e,t)):e.set("display",t,"none")),this},r.prototype.applyGenerals=function(e,t){return this.invokeImported("applyGenerals",e,t),this.generals.invoke("apply",e,t)},r.prototype.applyLenses=function(e,t){return this.invokeImported("applyLenses",e,t),this.lenses.invoke("apply",e,t)},r.prototype.applyShadowRules=function(e,t){return this.shadowRules.invoke("apply",e,t)},r.prototype.invokeImported=function(){var e,t,r,i,o,a;for(o=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],a=this.imported,t=0,i=a.length;i>t;t++)r=a[t],r[o].apply(r,e);return void 0},r.prototype.getGeneralElementRule=function(){return this.generals.find(function(e){return"element"===e.get("selector")})},r.prototype.getLegend=function(){var e,t,n;return n=this.compileLenses(),e=n.filter(function(e){return e.includeInLegend()}).map(function(e){return e.toJSON()}),t=new Legend({label:currentPerspective.get("name"),summary:currentPerspective.getSummary(),entries:e,settings:{labelColor:this.guide.get("fontColor"),summaryColor:this.guide.get("fontColor")}})},r.prototype.invalid=function(){return null!=this.error},r.prototype.isPrompted=function(){return this.focus.isRequired()},r.prototype.permit=function(){var e;return(e=this.filter).permit.apply(e,arguments)},r}(Backbone.Model)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.StyleModelSettings=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.get=function(e){return this.has(e)?this.attributes[e]:void 0},n.prototype.has=function(e){return this.attributes.hasOwnProperty(e)},n.prototype.reset=function(e){return this.clear({silent:!0}),this.set(e)},n}(Backbone.Model)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;this.PresentationValidations=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments)},n}(CouchValidations),e=["screenshot","preview"],this.Presentation=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.className="Presentation",r.prototype.idPrefix="prez",r.Attachments=e,r.prototype.defaults=function(){return{type:"Presentation",name:null,description:null,slides:[],aspect:"hd","private":!1}},r.prototype.slug=function(){var e;return null!=(e=this.get("name"))?e.slug():void 0},r.prototype.toString=function(){return this.get("name")||"presentation"},r.prototype.screenshot=function(e){return this.getSlideAttachment(e,"screenshot")},r.prototype.preview=function(e){return this.getSlideAttachment(e,"preview")},r.prototype.getSlideAttachment=function(e,t){var n,r;if(n=this.get("slides")[e])return r=n[t],_.isString(r)?Doc.url(r):r},r.prototype.saveAll=function(){return this.uploadSlides().then(function(e){return function(){return e.save()}}(this))},r.prototype.uploadSlides=function(){var t,n;return t=this,n=[],this.get("slides").forEach(function(r,i){return e.forEach(function(e){return n.push(function(){return t.uploadSlideAttachment(e,r,i)})})}),When.sequence(n)},r.prototype.uploadSlideAttachment=function(e,t,n){var r;return log.debug("Processing "+e+" for slide #"+n+" ("+t.type+")"),(r=t[e])&&r instanceof Doc?Drive.save(r).then(function(){return log.debug(e+" saved for slide #"+n+" to "+r.url()),t[e]=r.id}).then(null,function(){return log.error("Unable to upload "+e+" for slide #"+n),t[e]=null}):void 0},r.prototype.publish=function(e){return Workflows.publishPresentation(this,e)},r.prototype.unpublish=function(){return Workflows.unpublishPresentation(this)},r.prototype.fetchBlueprint=function(){return $.getJSON(Doc.url(this.get("blueprint")))},r.prototype.destroy=function(){var t;return t=[],this.get("slides").forEach(function(n,r){return e.forEach(function(e){var i;return i=n[e],i?(log.debug("Preparing to delete "+e+" ("+i.id+") for slide "+r),t.push(i)):void 0})}),this.unpublish().then(function(e){return function(){return r.__super__.destroy.apply(e,arguments)}}(this)).then(function(){return Drive.destroy(t)})},r.prototype.toJSON=function(){return _.omit(r.__super__.toJSON.apply(this,arguments),"id","publication_id","published","published_at","published_by")},r}(Backbone.CouchModel),this.PresentationCollection=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.view="resources/all",n.prototype.query={key:"Presentation"},n.prototype.model=Presentation,n.prototype.index=function(e){return[e.slug()]},n.prototype.comparator="title",n.prototype.fetchWithPublications=function(){return null!=this.fetchPromise?this.fetchPromise:this.fetchPromise=this.fetch().then(function(){return Publications.fetch()}).then(function(){return Publications.invoke("pair")})},n}(Backbone.CouchCollection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].slice;this.Project=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.className="Project",r.prototype.urlRoot=function(){return Api.url("/projects")},r.prototype.defaults=function(){return{"private":!0}},r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.dataset=new Dataset(Elements,Connections,Loops),this.memberships=new MembershipCollection([],{project:this}),this.hasMany("tokens",{inverse:"project"})},r.prototype.toString=function(){return"the project"},r.prototype.entities=function(){return[].concat(Elements.models,Connections.models,Loops.models)},r.prototype.orphans=function(){var e,t,n,r,i,o,a,s,u;for(a=[],s=[Loops,Connections,Elements],n=0,i=s.length;i>n;n++)for(e=s[n],u=e.models,r=0,o=u.length;o>r;r++)t=u[r],this.isOrphan(t)&&a.push(t);return a},r.prototype.isOrphan=function(e){var t,n,r,i,o;for(t=function(){return raise("Orphans cannot be determined until all maps are loaded")},0===Maps.length&&t(),o=Maps.models,n=0,r=o.length;r>n;n++)if(i=o[n],i.isReady()||t(),i.include(e))return!1;return!0},r.prototype.isFresh=function(){return 0===Maps.length},r.prototype.isPrivate=function(){return this.get("private")},r.prototype.isPublic=function(){return!this.isPrivate()},r.prototype.isEmbed=function(){return this.has("token")},r.prototype.isForkable=function(){return this.isPublic()},r.prototype.slug=function(){return this.get("slug")||this.get("name").slugify()},r.prototype.key=function(){return this.publicUrl().slice(1)},r.prototype.publicUrl=function(e){return null==e&&(e=""),"/"+this.owner.slug()+"/"+this.slug()+e},r.prototype.permanentUrl=function(e){return null==e&&(e=""),"/-/"+this.id+e},r.prototype.settingsUrl=function(){return"/settings/projects/"+this.slug()},r.prototype.issuesUrl=function(){return this.publicUrl("/issues")},r.prototype.endpoint=function(){return this.publicUrl("/couch")},r.prototype.revisionHistoryUrl=function(e){var t;return t=_.isString(e)?e:e.id,this.endpoint()+"/history/"+t},r.prototype.origin=function(){return location.protocol+"//"+location.host+this.endpoint()},r.prototype.root=function(){return absoluteUrlFor(this.publicUrl())},r.prototype.urlFor=function(){var e,t;return e=1<=arguments.length?n.call(arguments,0):[],e=[this.owner,this].concat(_.compact(e)),t=_.collect(e,function(e){return e.slug()}),"/"+t.join("/")},r.prototype.pagesUrl=function(e){var t,n,r;return null==e&&(e=""),e&&"/"!==e[0]&&(e="/"+e),r=this.owner.get("username"),t=Kumu.config.getHostname(),t?(t=t.replace("www.",""),n=location.protocol+"//"+r+"."+t+e):(t=getCurrentHost(),e&&(e="/-"+e),n=location.protocol+"//"+t+"/"+r+e),n},r.prototype.getSummary=function(){var e;return null!=(e=this.get("description"))?e.summary():void 0},r.prototype.provision=function(){return $.post(this.publicUrl("/sync"))},r.prototype.repair=function(){return $.post(this.publicUrl("/repair"))},r.prototype.managers=function(){return this.memberships.where({role:"manager"}).map(function(e){return e.user})},r.prototype.contributors=function(){return this.memberships.where({role:"contributor"}).map(function(e){return e.user})},r}(Backbone.Model),this.ProjectCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)
}return e(n,t),n.prototype.className="ProjectCollection",n.prototype.model=Project,n.prototype.url=function(){return Api.url("/projects")},n.prototype["new"]=function(e){return new this.model(e)},n.prototype.build=function(e){var t;return t=this["new"](e),this.add(t),t},n}(Backbone.Collection),this.Projects=new ProjectCollection}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.PublicationValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return this.validatesPresenceOf("title")},n}(Backbone.Validations),this.Publication=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="Publication",n.prototype.urlRoot=function(){return Api.url("/projects/"+currentProject.id+"/presentations")},n.prototype.pair=function(){var e,t;return t=this.get("doc_id"),e=Presentations.get(t),null!=e?e.publication=this:void 0},n}(Backbone.Model),this.PublicationCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="PublicationCollection",n.prototype.model=Publication,n.prototype.url=function(){return Api.url("/projects/"+currentProject.id+"/presentations")},n.prototype.publish=function(e){var t,n;return log.debug("Publishing",e),t=this.attributesFor(e),n=e.publication,n?n.save(t):(n=new Publication(t),n.save().then(function(){return e.publication=n}))},n.prototype.attributesFor=function(e){var t;return t=e.pick("title","subtitle","image","attribution","private","token","password"),t.doc_id=e.id,t},n}(Backbone.Collection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.RelevanceModel=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.get=function(e){return cloned(n.__super__.get.call(this,e))},n.prototype.push=function(e,t){var n;if(!this.include(e,t))return n=this.get(e)||[],n.push(t),this.set(e,n)},n.prototype.include=function(e,t){var n;return(n=this.get(e))?(t=t.toLowerCase(),_.any(n,function(e){return e.toLowerCase()===t})):!0},n.prototype.split=function(e){var t,n,r;return n=this,t=this.get(e),t&&0===t.length?(t=[],r=Attributes.getCustomAttributeNames()):t?r=Attributes.chain().reject(function(t){return t.isCore()||n.include(e,t.get("name"))}).map(function(e){return e.get("name")}).value():(t=Attributes.getCustomAttributeNames(),r=[]),{selected:t,unselected:r}},n.prototype.attributesFor=function(e){var t,n,r;return e instanceof Entity?(t=e,n=t.getTypeSelector()):n=e,n&&(r=this.get(n))?_.chain(r).map(function(e){var t;return t=Attributes.get(e),(null!=t?t.isCore():void 0)?void 0:t}).compact().value():Attributes.getCustomAttributes()},n.prototype.renameAttribute=function(e,t){var n,r,i,o,a,s,u;e=e.toLowerCase(),s=this.attributes;for(u in s)for(r=s[u],o=i=0,a=r.length;a>i;o=++i)n=r[o],e===n.toLowerCase()&&(r[o]=t);return this.trigger("change")},n.prototype.toJSON=function(){return cloned(this.attributes)},n}(Backbone.Model)}.call(this),function(){var e;e=function(){function e(e){null==e&&(e={}),_.defaults(e,{radius:300,power:2}),this.radius=e.radius,this.power=e.power,this.exp=Math.exp(this.power)}return e.prototype.apply=function(e,t){return t.isNode()&&e.mouse.position&&e.mouse.timeSinceLastUpdate()<5e3?this.fisheye(e,t,this.radius,this.power,this.exp):void 0},e.prototype.fisheye=function(e,t){var n,r,i,o;return r=t.display.position.x-e.mouse.position.x,i=t.display.position.y-e.mouse.position.y,n=Math.sqrt(r*r+i*i),n<this.radius?(o=this.exp/(this.exp-1)*this.radius*(1-Math.exp(-n/this.radius*this.power))/n,t.display.position.x=e.mouse.position.x+r*o,t.display.position.y=e.mouse.position.y+i*o,t.display.body.radius=t.display.radius=t.radius*o,t.display.label.fontSize=t.style.label.fontSize*o):void 0},e}(),namespace("window",function(t){return t.FisheyeFilter=e})}.call(this),function(){var e;e=function(){function e(e){this.radius=null!=e?e:300}return e.prototype.apply=function(e,t){return t.isNode()&&e.mouse.position?this.magnify(e,t,this.radius):void 0},e.prototype.magnify=function(e,t){var n,r,i,o;return r=t.display.position.x-e.mouse.position.x,i=t.display.position.y-e.mouse.position.y,n=Math.sqrt(r*r+i*i),o=n<this.radius?Math.max(1,(this.radius-n)/this.radius/e.scale):1,t.display.body.radius=t.display.radius=t.radius*o,t.display.label.fontSize=t.style.label.fontSize*o},e}(),namespace("window",function(t){return t.MagnifierFilter=e})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.Selector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.defaults={inverted:!1},n.isExplicit=function(e){return e.startsWith("=")},n.toExplicit=function(e){return"= "+this.toImplicit(e)},n.toImplicit=function(e){return e.replace(/^\s*=\s*/,"")},n.parse=function(e){return e?SelectorParser.parse(e):void 0},n.select=function(e,t,r){var i,o,a;return t?t instanceof Dataset?(o=e,r=t):o=n.prepare(e,t):o=e,r||(r=currentMap.getVisibleDataset(),a=!0),o=n.parse(o),i=o.select(r),a&&r.dispose(),i},n.selectProject=function(e,t){return n.select(e,t,currentProject.dataset)},n.selectPrimary=function(e,t){return n.select(e,t,currentMap.getPrimaryDataset())},n.selectVisible=function(e,t){return n.select(e,t,currentMap.getVisibleDataset())},n.prepare=function(e,t){var n,r,i,o;n=function(e){return _.isString(e)?e.replace(/"/g,'\\"'):e},r={};for(i in t)o=t[i],r[i]=n(o);return tim(e,r)},n.prepareFieldSelector=function(e,t,n){return this.prepare('["{{field}}"{{op}}"{{value}}"]',{field:e,op:t,value:n})},n.prototype.invalid=function(){return this instanceof InvalidSelector},n.prototype.invert=function(e){return null==e&&(e=!0),this.set("inverted",e),this},n.prototype.select=function(e){var t;return e instanceof Entity?(t=!!this.selectEntity(e),this.get("inverted")?!t:t):this.selectFromDataset(e)},n.prototype.selectFromDataset=function(e){var t,n;return null!=this.beforeSelect&&this.beforeSelect(e),n=this.get("inverted")?"reject":"filter",t=_[n](e.toArray(),this.selectEntity.bind(this)),new EntitySelection(t)},n}(Backbone.Model),window.SelectorCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Selector,n}(Backbone.Collection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.AttributeSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){var e;return this.attr=Attributes.resolve(this.get("attribute")),this.type=this.attr.typed(),this.operator=this.get("operator"),this.testValue=this.parse(this.get("value")),this.friendly=function(){switch(this.attr.key()){case"element type":case"connection type":return"="===this.operator;case"tags":return"~="===this.operator}}.call(this),this.scope=null!=(e=this.attr.key().match(/^(element|connection|loop) type$/))?e[1]:void 0},n.prototype.selectEntity=function(e){var t;return this.scope&&e.scopeName!==this.scope?!1:(t=e.getAttr(this.attr),_.isArray(t)?_.any(t,this.selectValue,this):this.selectValue(t))},n.prototype.selectValue=function(e){switch(e=this.parse(e),this.operator){case"=":return this.equal(e);case"!=":return!this.equal(e);case"~=":return this.equal(e);case"<":return e<this.testValue;case">":return e>this.testValue;case"<=":return e<=this.testValue;case">=":return e>=this.testValue;case"^=":return String(e).startsWith(this.testValue);case"$=":return String(e).endsWith(this.testValue);case"*=":return String(e).includes(this.testValue);case"!":return null==e;default:return null!=e&&""!==e}},n.prototype.parse=function(e){var t,n;if(!_.isNumber(e)&&_.isEmpty(e))return void 0;if(!this.attr.isFormatted()&&(n=Number(e),!_.isNaN(n)))return n;_.isString(e)&&(e=e.toLowerCase());try{return this.type.parse(e)}catch(r){return t=r,e}},n.prototype.equal=function(e){return _.isEqual(e,this.testValue)||this.friendly&&this.equalFriendly(e)},n.prototype.equalFriendly=function(e){return/^[+-]{1,2}$/.test(e)?!1:_.isEqual(String(e).slugify(),this.testValue)},n}(Selector)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.CompoundSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.defaults=function(){return{method:"union",selectors:[]}},n.prototype.select=function(e){return e instanceof Entity?this.selectEntity(e):this.selectFromDataset(e)},n.prototype.selectEntity=function(e){var t,n;return n=this.get("selectors"),t=function(t){return t.select(e)},"union"===this.get("method")?_.any(n,t):_.all(n,t)},n.prototype.selectFromDataset=function(e){var t,n,r,i;return i=this.get("selectors"),t=this.get("method"),r=_.invoke(i,"select",e),n=new EntitySelection,n[t].apply(n,r),_.invoke(r,"dispose"),n},n}(Selector)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.FilterSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.subselector=this.get("subselector")},n.prototype.selectEntity=function(e){return this.subselector.selectEntity(e)},n.prototype.selectDataset=function(e){return this.subselector.selectDataset(e)},n}(Selector)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.FromSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.subselector=this.get("subselector")},n.prototype.selectEntity=function(e){return e instanceof Connection&&this.subselector.selectEntity(e.from)},n}(Selector)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.GenericSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.selectEntity=function(e){switch(this.get("type")){case"element":return e instanceof Element;case"connection":return e instanceof Connection;case"loop":return e instanceof Loop}},n}(Selector)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.id=this.get("id"),this.external=new AttributeSelector({attribute:"id",operator:"=",value:this.id})},n.prototype.selectEntity=function(e){var t;return this.id===(null!=(t=e.id)?t.toLowerCase():void 0)||this.id===e.getInformalID()||this.id===e.getBlockID()||this.id===e.translug()||this.external.selectEntity(e)},n}(Selector),namespace("window",function(t){return t.IDSelector=e})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.InvalidSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.selectEntity=function(){return!1},n.prototype.selectDataset=function(){return new EntitySelection},n}(Selector)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.NotSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.subselector=this.get("subselector")},n.prototype.selectEntity=function(e){return!this.subselector.selectEntity(e)},n.prototype.selectDataset=function(e){return!this.subselector.selectDataset(e)},n}(Selector)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.OrphanSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.selectEntity=function(e){var t,n;return e instanceof Element?(t=currentScene.graphs.visible||currentScene.graphs.primary,n=t.getByID(e.id),n&&0===n.edges.length):!1},n}(Selector)}.call(this),function(){var e;e={build:function(t){switch(t.selector){case"union":case"intersection":return e.compoundSelector(t);default:return e.selector(t)}},compoundSelector:function(t){var n;return n=_.map(t.selectors,function(t){return e.build(t)}),new CompoundSelector({method:t.selector,selectors:n})},selector:function(t){switch(t.selector){case"universal":return new UniversalSelector;case"generic":return new GenericSelector({type:t.type});case"id":return new IDSelector({id:t.id});case"attribute":return new AttributeSelector({attribute:t.attribute,operator:t.operator,value:t.value});case"filter":return new FilterSelector({subselector:e.build(t.subselector)});case"not":return new NotSelector({subselector:e.build(t.subselector)});case"from":return new FromSelector({subselector:e.build(t.subselector)});case"to":return new ToSelector({subselector:e.build(t.subselector)});case"orphan":return new OrphanSelector;case"self":case"self-connection":return new SelfConnectionSelector;default:return raise("UnknownSelector: "+t.selector)}}},namespace("window",function(t){return t.SelectorFactory=e})}.call(this),function(){this.SelectorParser={engine:Kizzle,parse:function(e,t){var n,r;null==t&&(t=!0);try{return r=SelectorParser.engine.parse(e.toLowerCase()),t&&(r=SelectorFactory.build(r)),r}catch(i){return n=i,log.warn("Invalid selector",e,n),new InvalidSelector({selector:e})}}}}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.SelfConnectionSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.selectEntity=function(e){return e instanceof Connection&&e.from===e.to},n}(Selector)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ToSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.subselector=this.get("subselector")},n.prototype.selectEntity=function(e){return e instanceof Connection&&this.subselector.selectEntity(e.to)},n}(Selector)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.UniversalSelector=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.selectEntity=function(){return!0},n.prototype.selectDataset=function(e){return e.toSelection()},n}(Selector)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.listenTo(Maps,"remove",this.onMapRemoved),this.listenTo(Perspectives,"remove",this.onPerspectiveRemoved)},n.prototype.bootstrap=function(e){var t,n;return t=Projects.add(e.project),t.owner=new User(e.owner),t.addons=createAddonStore(e.addons),t.authorizations=new AuthorizationStore(e.authorizations),e.user&&(n=new User(e.user),n.role=e.role),this.set({user:n,project:t}),Monitor.initialize(),able.flush()},n.prototype.set=function(e,t){var r;return r=_.clone(this.attributes),_.isString(e)?r[e]=t:_.extend(r,e),this.cacheReferences(r),n.__super__.set.apply(this,arguments)},n.prototype.cacheReferences=function(e){return window.currentUser=e.user,window.currentProject=e.project,window.currentMap=e.map,window.currentPerspective=e.perspective,window.currentScene="undefined"!=typeof currentMap&&null!==currentMap?currentMap.scene:void 0,log.debug("Session is now",currentUser,currentProject,currentMap,currentPerspective)},n.prototype.onMapRemoved=function(e){var t;if(e===currentMap)return t=urlFor({map:Settings.getDefaultMap()}),router.navigate(t,{trigger:!0})},n.prototype.onPerspectiveRemoved=function(e){var t;if(e===currentPerspective)return t=urlFor({map:currentMap}),router.navigate(t,{trigger:!0})},n}(Backbone.Model),namespace("window",function(t){return t.SessionController=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="Settings",n.prototype.twitterTimelineEnabled=!1,n.prototype.defaults=function(){return{_id:"settings",type:"Settings",default_map_id:null,default_perspective_id:null,proxy_images:!0,relevance:{}}},n.prototype.initialize=function(){return this.relevance=new RelevanceModel,this.listenTo(this,"change:relevance",this.updateRelevance)},n.prototype.init=function(){var e;return e=Kumu.config.getCrossSiteStorageUrl(),crossSiteStorage.connect(e).then(function(e){return function(t){return e.user=t}}(this))["catch"](function(){return function(){return log.error("unable to connect to cross-site storage")}}(this))},n.prototype.toString=function(){return"settings"},n.prototype.reset=function(){return this.clear(),this.set(this.defaults())},n.prototype.enabled=function(e){switch(e){case"fps":return Env.isDevelopment()||Env.request.param("fps");case"benchmarks":return Env.request.param("benchmark");case"websockets":return!!currentUser}},n.prototype.useImageProxy=function(){return this.get("proxy_images")&&!map.isEmbed()},n.prototype.restrictSearchToCurrentMap=function(){return map.isEmbed()||map.isPresentation()},n.prototype.showHiddenItemNotification=function(){return this.get("show_hidden_item_notification")!==!1},n.prototype.getDefaultMap=function(){return Maps.get(this.get("default_map_id"))||Maps.first()},n.prototype.setDefaultMap=function(e){return this.set("default_map_id",null!=e?e.id:void 0)},n.prototype.isDefaultMap=function(e){return e===this.getDefaultMap()},n.prototype.setDefaultPerspective=function(e){return this.set("default_perspective_id",null!=e?e.id:void 0)},n.prototype.getDefaultPerspective=function(){return Perspectives.get(this.get("default_perspective_id"))||Perspectives.first()},n.prototype.getRelevantAttributes=function(e){return new AttributeCollection(this.relevance.attributesFor(e))},n.prototype.updateRelevance=function(){return this.relevance.clear(),this.relevance.set(cloned(this.attributes.relevance))},n.prototype.pullRelevance=function(){return this.set({relevance:this.relevance.toJSON()})},n.prototype.setLocal=function(e,t){return this.user.set(this.getUserLocalKey(e),t),this.trigger("change:"+e,this,t),this.trigger("change",this)},n.prototype.getLocal=function(e){return this.user.get(this.getUserLocalKey(e))},n.prototype.getUserLocalKey=function(){return"account."+currentProject.id+".settings"},n.prototype.setDefaultEntityType=function(e,t){return this.setLocal("default_"+e+"_type",t)},n.prototype.getDefaultEntityType=function(e){return this.getLocal("default_"+e+"_type")},n.prototype.getDefaultElementType=function(){return this.getDefaultEntityType("element")},n.prototype.getDefaultConnectionType=function(){return this.getDefaultEntityType("connection")},n.prototype.getDefaultLoopType=function(){return this.getDefaultEntityType("loop")},n.prototype.isInstalled=function(e){return currentProject.addons.isInstalled(e)},n.prototype.getSettingsForAddon=function(e){return currentProject.addons.get(e).settings},n.prototype.isDisqusInstalled=function(){return this.isInstalled("disqus")},n.prototype.getDisqusSettings=function(){return this.getSettingsForAddon("disqus")},n.prototype.toJSON=function(){var e;return e=n.__super__.toJSON.apply(this,arguments),e.relevance=this.relevance.toJSON(),e},n}(Backbone.CouchModel),namespace("window",function(t){return t.SettingsModel=e})}.call(this),function(){var e,t=[].slice;e=function(){function e(e){null==e&&(e={}),this.attributes=_.clone(e)}return _.extend(e.prototype,Backbone.Events),e.defaults=function(){return{base:!0,theme:"light",renderer:"canvas",quality:"best",template:"none",pointerEvents:"auto",culling:!0,attenuation:!0,scaleLabels:!0,highlightWorkspaceLinks:!0,foregroundOpacity:1,backgroundOpacity:.1,fontCutoff:4,imageCutoff:8,colors:"spectral",backgroundColor:"#fcfcfa",selectionColor:"#b72a2a",highlightColor:"#ff7243",fontSize:20,fontColor:"#444",fontFamily:'proxima-nova, "Helvetica Neue", helvetica, sans-serif',fontWeight:"normal",fontStyle:"normal",textAlign:"center",textDecoration:"none",textOverflow:"auto",label:"inherit",layer:"auto",zIndex:1,elementDisplay:"map",elementVisibility:"visible",elementShape:"circle",elementSize:5,elementScale:1,elementPadding:3,elementMargin:0,elementColor:"#ccc",elementOpacity:1,elementBorderColor:"#333",elementBorderOpacity:1,elementBorderWidth:0,elementBodyVisibility:"visible",elementLabelVisibility:"visible",elementTextAlign:"bottom",elementRingVisibility:"visible",elementRingOffset:6,elementRingWidth:1,elementRingOpacity:1,elementImageVisibility:"visible",elementImageSize:"cover",elementImageResolution:"auto",elementBullseyeVisibility:"visible",elementBullseyeSize:.5,elementBullseyeOpacity:1,elementHaloVisibility:"visible",elementHaloOffset:5,elementShadowVisibility:"visible",elementShadowOpacity:.1,elementShadowSize:3,connectionDisplay:"map",connectionVisibility:"visible",connectionSize:2,connectionScale:1,connectionColor:"#ccc",connectionOpacity:1,connectionCurvature:.25,connectionStyle:"solid",connectionDash:"5 10",connectionPadding:3,connectionPathVisibility:"visible",connectionPathOpacity:.6,connectionBorderVisibility:"visible",connectionBorderWidth:3,connectionBorderOpacity:.1,connectionStripeVisibility:"visible",connectionStripeWidth:1,connectionStripeOpacity:1,connectionLabelVisibility:"visible",connectionArrowVisibility:"visible",connectionDelayVisibility:"visible",connectionDelayColor:"inherit",connectionDelayWidth:7,connectionDelayHeight:30,connectionDelayStrokeWidth:3,connectionDelayPosition:.66,connectionPrepostInset:20,connectionPrepostOffset:10,arrowColor:"inherit",arrowMinWidth:23,arrowMinHeight:14.214,arrowWidth:2.5,arrowHeight:1.545,loopDisplay:"map",loopVisibility:"visible",loopOpacity:1,loopShadowVisibility:"visible",loopShadowColor:"blue",loopShadowOpacity:.2,loopLabelVisibility:"visible",loopFontWeight:"normal",layout:"force",layoutPreset:"auto",layoutCooling:1e-4,layoutFriction:0,layoutDamping:.1,layoutConvergence:.95,layoutTheta:.8,layoutMaxForce:100,layoutMinVelocity:1,layoutGravity:"auto",layoutParticleCharge:50,layoutSpringLength:110,layoutSpringStrength:.8,layoutSpringConstant:1e-4,layoutXMultiplier:1,layoutYMultiplier:1,layoutGrid:!1,layoutGridColor:"#ddd",layoutGridOffset:50,layoutGridWidth:.5,layoutGuideWidth:1}},e.base=function(t){return null==t&&(t={}),new e(_.defaults(t,e.defaults()))},e.translate=function(e){var t,n,r;n={};for(t in e)r=e[t],n[t.camelize()]=r;return n},e.prototype.toJSON=function(){return _.clone(this.attributes)},e.prototype.isBase=function(){return this.attributes.base===!0},e.prototype.clone=function(){return new e(_.clone(this.attributes))},e.prototype.extend=function(){var e,n,r,i,o;for(o=1<=arguments.length?t.call(arguments,0):[],r=[],e=0,n=o.length;n>e;e++)i=o[e],r.push(this.apply(i));return r},e.prototype.copy=function(e){return this.reset(e)},e.prototype.reset=function(t){var n;return n=t instanceof e?_.clone(t.attributes):_.isObject(t)?_.clone(t):e.defaults(),this.attributes=n||{}},e.prototype.clear=function(){return this.attributes={}},e.prototype.dispose=function(){return this.attributes=void 0},e.prototype.filter=function(e){return e instanceof Graph?this.filterGraph(e):e instanceof Dataset?this.filterDataset(dataset):void 0},e.prototype.filterDataset=function(e){var t,n,r,i,o;return i=function(e){return function(t){return"none"===e.get("display",t)}}(this),n=e.elements.reject(i),t=e.connections.reject(i),o=e.loops.reject(i),r=new Dataset,r.elements.reset(element,{silent:!0}),r.connections.reset(t,{silent:!0}),r.loops.reset(o,{silent:!0}),r},e.prototype.filterGraph=function(e){var t,n,r,i,o,a,s,u,l;return r=this,n={},e.each(function(e){return n[e.cid]=r.isFiltered(e)}),i=function(e){return e&&!n[e.cid]},s=function(e){return i(e)},o=function(e){return i(e)&&s(e.from)&&s(e.to)},a=function(e){return i(e)&&_.all(e.edges,o)},l=e.nodes.select(s),t=e.edges.select(o),u=e.labels.select(a),n=new Graph,n.nodes.reset(l,{silent:!0}),n.edges.reset(t,{silent:!0}),n.labels.reset(u,{silent:!0}),n.refresh(),this.get("ignoreOrphans")&&n.removeOrphans(),n},e.prototype.isFiltered=function(e){return"none"===this.get("display",e)},e.prototype.isVisible=function(e){return"visible"===this.get("visibility",e)},e.prototype.nodePickingEnabled=function(){return this.pickingEnabled("element")},e.prototype.edgePickingEnabled=function(){return this.pickingEnabled("connection")},e.prototype.labelPickingEnabled=function(){return this.pickingEnabled("loop")},e.prototype.pickingEnabled=function(e){return RegExp("(auto|all|"+e+")").test(this.get("pointerEvents"))},e.prototype.set=function(){var e,n,r,i,o,a,s,u,l;return s=arguments[0],u=3<=arguments.length?t.call(arguments,1,n=arguments.length-1):(n=1,[]),l=arguments[n++],_.isObject(s)?(a=s,this.apply(a)):(u=u[0],r=u?this.keyFor(s,u):s,this.attributes[r]=l,(i=/^colors([A-Z].*)?$/.exec(r))&&(e=l.split(/\s*,\s*/),"colors"===r?e.length>1&&Colors.set("default",e):(o=i[1].toLowerCase(),Colors.set(o,e)))),this.trigger("change")},e.prototype.get=function(e,t,n){var r,i;return t&&(r=function(){switch(e){case"style":return void 0;case"display":return"displayed";default:return e}}(),i=void 0,n||null==i&&(i=r&&t[r]),null==i&&(i=this.attributes[this.keyFor(e,t)]),null==i&&(i=this.attributes[this.generalKeyFor(e,t)])),null!=i?i:i=this.attributes[e]},e.prototype.getGuideOnly=function(e,t){return this.get(e,t,!0)},e.prototype.has=function(e,t){return null!=this.get(e,t)},e.prototype.keyFor=function(e,t){var n;return n=t instanceof Entity?t.cid:t.entity.cid,n+"/"+e},e.prototype.generalKeyFor=function(e,t){var n;return n=t.scopeName||t.entity.scopeName,""+n+e.capitalize()},e.prototype.apply=function(t){var n,r,i,o,a;o=t instanceof e?t.attributes:t,i=[];for(r in o)a=o[r],n=this.attributes[r],i.push(n&&"object"==typeof n?_.extend(n,a):this.attributes[r]=a);return i},e}(),window.StyleGuide=e}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;window.Subscription=function(n){function r(){return this.cardPresent=e(this.cardPresent,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.urlRoot="/subscriptions",r.prototype.paramRoot="subscription",r.prototype.cardPresent=function(){return!!this.get("card_fingerprint")},r}(Backbone.Model)}.call(this),function(){var e,t,n,r,i,o;e={},this.Template={add:function(t,n){return e[t]=n},remove:function(t){return delete e[t]},get:function(e,t){return n(e,t)},run:function(e,t){return null==t&&(t={}),When.promise(function(n,r){return o(e,t).then(n,r)})},style:function(e,t){var r,i;return null==t&&(t={}),e&&(r=n(e,t))?(t=_.defaults(t,r.defaultVariables),i=r.style,_.isFunction(i)&&(i=i(t)),i):void 0},defaults:function(e,t){var r;return null==t&&(t={}),e&&(r=n(e,t))?_.defaults(t,r.defaultVariables):{}}},n=function(t,n){var r;return null==n&&(n={}),t&&"none"!==t&&((r=e[t])?_.isFunction(r)&&(r=r(n)):log.info("Unknown template, "+t)),r},t=function(){return 1===Maps.length?"Map":"Map "+Maps.length},r=function(e){return _.pick(e,"default_element_behavior","default_connection_direction")},i=function(e,t){var n,r,i,o,a,s;o=t.isNew()?"":map.getStyle(),a=StyleModel.root(),a.reset(o),a.set("template",e.templateName),i=e.variables;for(r in i)s=i[r],n=e.defaultVariables[r],null!=s&&""!==s&&s!==n&&a.set(r.dasherize(),s);return o=a.toStyleSheet(),a.dispose(),o},o=function(e,o){var a,s,u,l,c,p,h,f,d,m,g,v,y;for(log.info("Run template",e,o),v=new Transaction,p=n(e,o),p.variables=_.defaults({},o.variables,p.defaultVariables),p.templateName=e,h=o.map||o.current&&currentMap||Maps.add(),f=r(p,h),h.isNew()?(l=!0,v.summary="created a new map",h.reify(),h.set(f),h.set("name",o.mapName||t()),v.create(h)):(l=!1,v.summary="switched templates",v.update(h,f)),d=o.perspective||o.current&&currentPerspective||Perspectives.add(),g=i(p,d),d.isNew()?(d.reify(),d.set({style:g}),d.set("name",o.perspectiveName||h.get("name")),v.create(d)):v.update(d,{style:g}),1===Maps.length&&v.update(Settings,{default_map_id:h.id}),l&&h.setDefaultPerspective(d),m=p.attributes||[],u=0,c=m.length;c>u;u++)a=m[u],s=Attributes.get(a.name),s?(v.update(s),y=s.values(),y=y.concat(a.values),s.set("values",_.uniq(y))):(s=Attributes.add(a),v.create(s));return execute(v).then(function(){var e;if(h!==currentMap||d!==currentPerspective)return e=urlFor({map:h,perspective:d}),router.navigate(e,{trigger:!0})})}}.call(this),function(){var e,t;t=function(t){var n,r;return _.defaults(t,{flavor:"+-"}),r={default_element_behavior:"fixed",default_connection_direction:"directed",attributes:[],defaultVariables:{sameLabel:"Adds to / same direction",sameColor:"#a2cfe0",oppositeLabel:"Subtracts from / opposite direction",oppositeColor:"#eda7ad"},style:e},n=function(){switch(t.flavor){case"same/opposite":return["Same","Opposite"];case"+-":return["+","-"];case"++--":return["++","+-","-+","--"]}}(),r.attributes.push({name:"Connection Type",values:n}),r},e=function(e){return"@settings {\n  layout: static;\n  culling: off;\n  font-cutoff: 0;\n  font-size: 24;\n  element-shape: rect;\n  element-size: auto;\n  element-color: transparent;\n  element-font-color: #333;\n  element-text-align: center;\n  element-margin: 0;\n  element-border-color: #333;\n  element-border-width: 0;\n  connection-size: 6;\n  connection-opacity: 0.8;\n  connection-font-size: 30;\n  loop-font-weight: bold;\n  loop-font-color: #333;\n}\n\n/* connections: "+e.sameLabel+' */\nconnection#same, connection#s, ["Connection Type"="Same"], ["Connection Type"="++"], ["Connection Type"="+"] {\n  color: '+e.sameColor+";\n}\n\n/* connections: "+e.oppositeLabel+' */\nconnection#opposite, connection#o, ["Connection Type"="Opposite"], ["Connection Type"="--"], ["Connection Type"="-"]{\n  color: '+e.oppositeColor+';\n}\n\n["Connection Type"="+-"] {\n  color: gradient('+e.sameColor+", "+e.oppositeColor+');\n}\n\n["Connection Type"="-+"] {\n  color: gradient('+e.oppositeColor+", "+e.sameColor+");\n}"},Template.add("causal-loop",t)}.call(this),function(){var e,t;t=function(t){var n;return n={style:e,attributes:[],defaultVariables:{}},null!=t.defaultElementBehavior&&(n.default_element_behavior=t.defaultElementBehavior),null!=t.defaultConnectionDirection&&(n.default_connection_direction=t.defaultConnectionDirection),n},e=function(){return""},Template.add("custom",t)}.call(this),function(){var e,t;t=function(){var t;return t={style:e,default_element_behavior:"floating",default_connection_direction:"directed",defaultVariables:{}}
},e=function(){return'@settings {\n  quality: best;\n  culling: off;\n  layout: scatter;\n  layout-x: "micmacInfluence * 1000";\n  layout-y: "micmacExposure * 1000";\n  layout-grid: on;\n  layout-bounds: 0 0 1000 1000;\n  layout-guides: x(0) x(500) x(1000) y(0) y(500) y(1000);\n  layout-guide-color: #ccc;\n  layout-guide-width: 1;\n  ignore: loop;\n  font-size: 14;\n  text-overflow: none;\n  element-size: 3;\n  element-color: scale("micmac influence", stoplight-inverted);\n  connection-opacity: 0.6;\n  connection-curvature-override: 0.2;\n  arrow-width: 5;\n  arrow-height: 3;\n  arrow-min-width: 0;\n  arrow-min-height: 0;\n}'},Template.add("micmac",t)}.call(this),function(){var e,t;t=function(){var t;return t={style:e,default_element_behavior:"floating",default_connection_direction:"undirected",defaultVariables:{}}},e=function(){return"@settings {\n  theme: dark;\n  quality: fast;\n  layout: force;\n  connection-color: inherit;\n}"},Template.add("sna",t)}.call(this),function(){var e,t;t=function(){var t;return t={style:e,default_element_behavior:"floating",default_connection_direction:"undirected",attributes:[{name:"Element Type",values:["Person","Organization"]}],defaultVariables:{}}},e=function(){return"@settings {\n  quality: best;\n  layout: force;\n  element-size: 40;\n  element-color: #a6a2a5;\n  element-border-width: 0;\n  element-margin: 0;\n  element-padding: 2;\n  layout-gravity: 0.0002;\n  layout-particle-charge: 120;\n  layout-spring-length: 200;\n  layout-spring-strength: 0.5;\n  connection-size: 3;\n  connection-color: inherit;\n  font-size: 24;\n}"},Template.add("stakeholder",t)}.call(this),function(){var e,t,n,r;t="/resources/templates/flow.png",e="/resources/templates/boundary.png",r=function(){var e;return e={default_element_behavior:"fixed",default_connection_direction:"directed",attributes:[{name:"Element Type",values:["Stock","Flow","Variable","Source","Sink"]},{name:"Connection Type",values:["Flow","+","-"]}],defaultVariables:{stockColor:"#aaa",flowColor:"#aaa"},style:n}},n=function(n){return null==n.backgroundColor&&(n.backgroundColor="#fcfcfa"),"@settings {\n  layout: static;\n  culling: off;\n  font-size: 24;\n  font-cutoff: 0;\n  element-color: transparent;\n  element-size: auto;\n  element-shape: rectangle;\n  element-text-align: center;\n  element-margin: 0;\n  element-border-color: #333;\n  element-border-width: 0;\n  connection-size: 3;\n  connection-opacity: 0.8;\n  connection-font-size: 30;\n  loop-font-weight: bold;\n}\n\nstock {\n  margin: 5;\n  min-height: 100;\n  min-width: 200;\n  font-color: #333;\n  font-weight: bold;\n  color: "+n.backgroundColor+";\n  border-width: 3;\n  border-color: "+n.stockColor+";\n  label-placement: center;\n}\n\nflow {\n  width: 40;\n  height: 40;\n  border-width: 0;\n  label-placement: bottom;\n  image-size: contain;\n  image-url: url("+t+");\n}\n\nflow-connection {\n  curvature: 0;\n  size: 12;\n  color: "+n.flowColor+";\n  stripe-color: "+n.backgroundColor+";\n  stripe-width: 6;\n}\n\nsource, sink, #source, #sink {\n  width: 30;\n  height: 30;\n  border-width: 0;\n  label-visibility: hidden;\n  image-size: contain;\n  image-url: url("+e+");\n}"},Template.add("stock-and-flow",r)}.call(this),function(){var e,t;t=function(t){var n;return _.defaults(t,{flavor:"+-"}),n={default_element_behavior:"fixed",default_connection_direction:"directed",attributes:[],defaultVariables:{connectionColor:"inherit",oppositeColor:"auto",oppositeStyle:"dashed",oppositeLabel:"Opposite"},style:e},n.attributes.push({name:"Connection Type",values:["Same","Opposite","+","-","++","+-","-+","--"]}),n.attributes.push({name:"Loop Type",values:["Reinforcing","Balancing","Vicious","Virtuous","Stabilizing","Stagnating"]}),n},e=function(e){var t,n,r;return r="@settings {\n  culling: off;\n  font-cutoff: 0;\n  font-size: 24;\n  element-size: 70;\n  element-color: #bcc3c3;\n  element-font-color: #333;\n  element-text-align: center;\n  element-text-overflow: wrap 10;\n  element-margin: 0;\n  element-border-color: #333;\n  connection-size: 6;\n  connection-font-size: 30;\n  connection-color: "+e.connectionColor+";\n  connection-opacity: 0.8;\n  loop-font-size: 26;\n  loop-font-weight: bold;\n  loop-font-color: #333;\n}",/^(solid|dashed)$/.test(e.oppositeStyle)&&(t=e.oppositeColor,t&&"auto"!==t||(t=e.connectionColor),n=e.oppositeStyle,r+="/* connections: "+e.oppositeLabel+' */\n["Connection Type"="Opposite"],\n["Connection Type"="o"],\n["Connection Type"="-"],\n["Connection Type"="+-"],\n["Connection Type"="-+"] {\n  color: '+t+";\n  style: "+n+";\n}"),r},Template.add("systems",t)}.call(this),function(){this.Themes={light:{colors:"spectral",fontColor:"#333",elementColor:"#ccc",connectionColor:"#ccc"},"light-classic":{colors:"spectral",fontColor:"#444",backgroundColor:"#fcfcfa",elementColor:"#fff",elementBorderWidth:1,elementMargin:5,elementPadding:1,connectionSize:1,connectionColor:"#aaa",connectionOpacity:.45},dark:{colors:"neon",fontColor:"#ccc",backgroundColor:"#252525",elementColor:"#fff",selectionColor:"#428bca",gridColor:"#444"}}}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.className="Token",t.prototype.urlRoot=function(){return Api.url("/projects/"+this.project.id+"/tokens")},t.prototype.isEmbed=function(){return"embed"===this.get("type")},t.prototype.includeOverview=function(){return!!this.get("overview")},t.prototype.map=function(){return Maps.get(this.get("map"))},t.prototype.perspective=function(){return Perspectives.get(this.get("perspective"))},t.prototype.selection=function(){return this.get("selection")},t}(Backbone.Model),t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.className="TokenCollection",r.prototype.model=e,r.prototype.url=function(){return Api.url("/projects/"+this.project.id+"/tokens")},r}(Backbone.Collection),namespace("window",function(n){return n.Token=e,n.TokenCollection=t})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.TrashModel=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.defaults=function(){return{entity:null,totals:{elements:0,connections:0,loops:0}}},n.prototype.initialize=function(){return this.contents=new EntityCollection,this.listenTo(this.contents,"remove reset",_.debounce(this.handleContentsChange,100))},n.prototype.refresh=function(){return this.contents.reset(currentProject.orphans())},n.prototype.handleContentsChange=function(){return this.refreshTotals(),this.trigger("change:contents")},n.prototype.refreshTotals=function(){var e,t,n,r,i;for(i=this.get("totals"),i.elements=i.connections=i.loops=0,r=this.contents.models,t=0,n=r.length;n>t;t++)e=r[t],i[e.collectionName]++;return this.trigger("change:totals",this)},n}(Backbone.Model)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=/^(islandr|rymohr|jeff|watsonwilliamb|dan)$/,window.User=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.className="User",r.prototype.urlRoot=function(){return Api.url("/users")},r.prototype.slug=function(){return this.get("slug")||this.get("username").slugify()},r.prototype.profileUrl=function(){return"/"+this.slug()},r.prototype.dashboardUrl=function(){return this.isOrganization()?"/organizations/"+this.slug()+"/dashboard":"/dashboard"},r.prototype.settingsUrl=function(e){var t;return t=this.isOrganization()?"/organizations/"+this.slug()+"/settings":"/settings",e&&(t+="#"+e),t},r.prototype.billingUrl=function(){return this.settingsUrl("billing")},r.prototype.getHandle=function(){return this.get("username")||this.get("email")},r.prototype.getRole=function(){return this.isOwner(currentProject)?"owner":this.role||"guest"},r.prototype.getOwnedOrganizations=function(){return this.attributes.organizations.filter(function(e){return"owner"===e.role})},r.prototype.isStaff=function(){return e.test(this.get("username"))},r.prototype.isUser=function(){return"User"===this.get("type")},r.prototype.isOrganization=function(){return"Organization"===this.get("type")},r.prototype.isGuest=function(){return!this.role},r.prototype.isOwner=function(e){return this.get("username")===e.get("owner")},r.prototype.isReadonly=function(){return/(guest|observer)/.test(this.getRole())},r.prototype.avatar=function(e){return this.get("avatar")||this.image(e)},r.prototype.image=function(e){return Gravatar.get(this.get("email_digest"),_.extend({},e,{encrypt:!1}))},r}(Backbone.Model),window.UserCollection=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="UserCollection",n.prototype.model=User,n.prototype.url=function(){return Api.url("/users")},n}(Backbone.Collection)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.AttributeValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments),this.validatesPresenceOf("name")},n}(CouchValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ComponentValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments),this.validatesPresenceOf("type","map_id","entity_id")},n}(CouchValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.EntityValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments)},n}(CouchValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ConnectionValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments),this.validatesPresenceOf("from_id","to_id")},n}(EntityValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.EdgeValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(ComponentValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ElementValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments)},n}(EntityValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.LabelValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments)},n}(ComponentValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.LoopValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments)},n}(EntityValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.MapValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments),this.validates("name",{presence:!0})},n}(CouchValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.MembershipValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments),this.validatesPresenceOf("user","role")},n}(Backbone.Validations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.NodeValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments)},n}(ComponentValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.PerspectiveValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments),this.validates("name",{presence:!0})},n}(CouchValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ProjectSettingsValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(CouchValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ProjectValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments),this.validatesPresenceOf("name")},n}(Backbone.Validations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.SettingsValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(){return n.__super__.validate.apply(this,arguments)},n}(CouchValidations)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.TokenValidations=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.validate=function(e,t){return n.__super__.validate.apply(this,arguments),this.validatesPresenceOf("type"),"embed"===t.type?this.validatesPresenceOf("map"):void 0},n}(Backbone.Validations)}.call(this),function(){this.ArrayHelper=function(){function e(){}return e.wrap=function(e){return e instanceof Array?e:[e]},e.remove=function(e,t){var n;return n=_.indexOf(e,t),-1!==n&&e.splice(n,1),e},e.keymap=function(e){var t,n,r,i;for(n={},t=0,r=e.length;r>t;t++)i=e[t],n[i]=!0;return n},e}()}.call(this),function(){var e,t;t={text:"markdown",string:"basic",email:"basic",url:"basic",phone:"basic",number:"basic",percentage:"basic",currency:"basic",date:"date",image:"image"},e="basic",this.AttributesHelper=function(){function n(){}return n.formats=t,n.classNameFor=function(e){var t,n;return n=1===e.limit()?"one":"one-or-more",t=e.format(),n+"-"+t},n.suggestEditor=function(n){var r,i,o;return i=n.get("format"),r=function(){switch(n.get("prompt")){case"list":return 1===n.limit()?"radio":"checkbox";case"autocomplete":if(n.limit()>1)return"multiselect"}}(),null==r&&(r=null!=(o=t[i])?o:e),r},n.tag=function(e,t){var n;return 1===arguments.length&&(n=[e,"tags"],t=n[0],e=n[1]),this.linked(e,t,{className:"tag"})},n.linked=function(e,t,n){var r,i,o;return n=_.defaults({},n,{className:""}),i=n.className.split(" "),n.subtle&&i.push("subtle"),null==t&&(t=""),o=Selector.prepare('= ["{{attr}}"~="{{value}}"]',{attr:cockblock(e),value:cockblock(t)}),r=$("<a />").html(cockblock(t)).attr("href",o),i.length>0&&r.addClass(i.join(" ")),r},n.getElementTypes=function(){var e;return e=Attributes.get("element type"),e.get("values")||[]},n}()}.call(this),function(){this.AutocompleteHelper=function(){function e(){}return e.tags=function(){var e;return e=new AttributeField({name:"tags"}),e.getValues()},e.elementLabels=function(e){return null==e&&(e=Elements),e.map(function(e){return e.attrs.get("label")})},e.elementsWithinProject=function(){return this.labels(Elements)},e.labels=function(e){return e.map(function(e){return{id:e.id,label:e.attrs.get("label")}})},e}()}.call(this);var ColorsHelper=window.ColorsHelper={};ColorsHelper.rgba=function(e,t){if(!e)return"rgba(0, 0, 0, 1)";try{var n=chroma.hex(e).rgb();return"rgba("+n[0]+", "+n[1]+","+n[2]+","+t+")"}catch(r){return"rgba(0, 0, 0, 1)"}},ColorsHelper.darken=function(e,t){return ColorsHelper.adjust(e,t,!0)},ColorsHelper.lighten=function(e,t){return ColorsHelper.adjust(e,t,!1)},ColorsHelper.adjust=function(e,t,n){e=e.replace(/^\s*|\s*$/,""),e=e.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var r=t*(n?-1:1),i=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),o=i&&null!=i[4]?i[4]:null,a=i?[i[1],i[2],i[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return i?"rgb"+(null!==o?"a":"")+"("+Math[n?"max":"min"](parseInt(a[0],10)+r,n?0:255)+", "+Math[n?"max":"min"](parseInt(a[1],10)+r,n?0:255)+", "+Math[n?"max":"min"](parseInt(a[2],10)+r,n?0:255)+(null!==o?", "+o:"")+")":["#",pad(Math[n?"max":"min"](parseInt(a[0],10)+r,n?0:255).toString(16),2),pad(Math[n?"max":"min"](parseInt(a[1],10)+r,n?0:255).toString(16),2),pad(Math[n?"max":"min"](parseInt(a[2],10)+r,n?0:255).toString(16),2)].join("")},ColorsHelper.hslToHex=function(e,t,n){var r="#",i=ColorsHelper.hslToRGBArray(e,t,n);for(var o in i)r+=Math.round(i[o]).toString(16).toUpperCase();return r},ColorsHelper.hslToRGBArray=function(e,t,n){var r,i,o,a,s;return 0==t?o=a=s=n:(i=.5>n?n*(1+t):n+t-n*t,r=2*n-i,o=ColorsHelper.hueToRGB(r,i,e+1/3),a=ColorsHelper.hueToRGB(r,i,e),s=ColorsHelper.hueToRGB(r,i,e-1/3)),[255*o,255*a,255*s]},ColorsHelper.hueToRGB=function(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e};var pad=function(e,t){var n="0";for(e+="";e.length<t;)e=n+e;return e};(function(){var e,t,n,r;t=function(){return{best:{},byCommunity:{},byElement:{},communities:[]}},n=function(t){return e(t,"id")},r=function(t){return e(t,"cid")},e=function(e,n){var r,i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,_,x,E,k,C;if(!e)return void 0;E=function(e){var t;return t=Elements.get(e),null!=t?t[n]:void 0},_=Object.assign({},e.settings),h=e.results,w=t(),m=h.best;for(d in m)r=m[d],(s=E(d))&&(w.best[s]=r);g=h.byCommunity;for(r in g){x=g[r],w.byCommunity[r]=C={};for(d in x)k=x[d],(s=E(d))&&(C[s]=k)}v=h.byElement;for(d in v)x=v[d],(s=E(d))&&(w.byElement[s]=Object.assign({},x));for(y=h.communities,i=0,u=y.length;u>i;i++){for(r=y[i],o=r.id,f=r.rank,p=r.name,c=[],b=r.members,a=0,l=b.length;l>a;a++)d=b[a],(s=E(d))&&c.push(s);w.communities.push({id:o,rank:f,name:p,members:c})}return{settings:_,results:w}},this.CommunityHelper={dump:n,load:r}}).call(this),function(){var e,t;e=function(e){return e.startsWith("=")?e.slice(1).trim():"#"+e.slug()},t=function(){return currentMap.getPrimaryElementLabels().sort()},this.FinderHelper={buildSelector:e,elements:t}}.call(this),function(){var e;e=function(e,t,n){var r,i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w;for(null==e&&(e=1e3),null==t&&(t=.05),null==n&&(n=1),h={},r={},r.elements=s=[],r.connections=o=[],i=function(){return Math.random()<=t},l=function(e){return"g"+(1+e%n)},c=d=1,v=e;v>=1?v>d:d>v;c=v>=1?++d:--d)p="e"+c,a=h[p]={id:p,label:p,type:l(c),degree:0,indegree:0,outdegree:0},s.push(a);for(c=m=1,y=e;y>=1?y>m:m>y;c=y>=1?++m:--m)for(f=g=1,b=e;b>=1?b>g:g>b;f=b>=1?++g:--g)c!==f&&i()&&(u="e"+c,w="e"+f,o.push({from:u,to:w}),h[u].degree+=1,h[u].outdegree+=1,h[w].degree+=1,h[w].indegree+=1);return currentMap["import"](r)},this.GraphHelper={generators:{random:e}}}.call(this),function(){this.ImageHelper=function(){function e(){}return e.MIN_SIZE=16,e.MAX_SIZE=512,e.cache={direct:{original:{},resized:{}},proxied:{original:{},resized:{}}},e.url=function(e,t){return null==t&&(t=Settings.useImageProxy()),t&&e&&"/"!==e[0]?"/proxy?url="+encodeURIComponent(decodeURIComponent(e)):e},e.get=function(t,n,r){var i,o,a;return i=this.cache[r?"proxied":"direct"],o=i.original[t],a=i.resized[t],o||(o=i.original[t]=new Image,o.onload=function(){return a=r?e.resizeAll(o,n):{original:o,resized:!1},i.resized[t]=a,map.invalidate()},o.src=e.url(t,r)),a},e.resize=function(e,t){var n,r,i,o,a;if(e.width&&e.height)return o=t/Math.min(e.width,e.height),n=document.createElement("canvas"),n.width=a=e.width*o,n.height=i=e.height*o,r=n.getContext("2d"),r.drawImage(e,0,0,a,i),n},e.resizeAll=function(t,n){var r,i,o,a,s;if(t.width&&t.height){for(s={original:t,resized:{}},o=Math.min(t.width,t.height),r=Number(n),r=r||("original"===n?o:this.MAX_SIZE),a=this.MIN_SIZE;;){if(i=e.resize(t,a),s.resized[a]=i,s.resized.largest=i,!(r>a))break;a=Math.min(2*a,r)}return s}},e.getBestFromSprite=function(e,t){var n,r;return n=null,e.resized&&(r=Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))),r<this.MIN_SIZE&&(r=this.MIN_SIZE),n=e.resized[r]||e.resized.largest),n||e.original},e.getImageScale=function(e,t){var n,r;return n="cover"===e.imageSize,"circle"===e.shape?(r=n?this.fillCircle:this.fitCircle)(t.width,t.height,e.imageBoundsRadius):(r=n?this.fillRect:this.fitRect)(t.width,t.height,e.imageBoundsWidth,e.imageBoundsHeight)},e.fitCircle=function(e,t,n){return 2*Math.sin(Math.atan(e/t))*n/e},e.fillCircle=function(e,t,n){return 2*n/(e>=t?t:e)},e.fitRect=function(e,t,n,r){var i,o;return o=n/e,i=r/t,i>o?o:i},e.fillRect=function(e,t,n,r){var i,o;return o=n/e,i=r/t,o>i?o:i},e.isImage=function(e){return/\.(jpg|jpeg|png|gif)(\?.*)?$/.test(e)},e}()}.call(this),function(){this.LabelHelper=function(){function e(){}return e.count=function(e,t,n){var r;return null==t&&(t="items"),r=e.length,1===r?"1 "+(null!=n?n:t.singularize()):r+" "+t},e}()}.call(this),function(){this.StringHelper=function(){function e(){}return e.textOverflow=function(e,t){var n,r,i;if(!t||"off"===t)return[e];switch(i=t.split(" "),r=i[0],n=Number(i[1])||20,r){case"auto":return this.wrapWords(e,n,!0);case"manual":return this.wrapWords(e,9999,!0);case"wrap":return this.wrapWords(e,n);case"clip":return[this.clipWords(e,n)];default:return[e]}},e.wrapWords=function(e,t,n){var r,i,o,a,s,u,l,c,p;if(null==t&&(t=20),null==n&&(n=!1),s=0,u=[],e)if(a=e.length,n&&(0===t||e.match("  ")))u=e.split("  ");else if(a>t)for(e=e.replace(/\s+/g," "),l=i=0,c=a;c>=0?c>i:i>c;l=c>=0?++i:--i)r=e[l],p=l-s,o=l===a-1,(o||p>=t&&(" "===r||"-"===r))&&((o||"-"===r)&&(l+=1),u.push(e.substring(s,l))," "===r&&(l+=1),s=l);else u.push(e);return u},e.wrapAll=function(e,t){return e.match(RegExp(".{1,"+t+"}","g"))},e.clipWords=function(e,t){var n;return e.length<=t?e:(n=e.lastIndexOf(" ",t-3),(-1===n||t/2>n)&&(n=t-3),e.substr(0,n)+"...")},e.clipAll=function(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."},e}()}.call(this),function(){this.TrashHelper=function(){function e(){}return e.totals=function(e){var t,n,r;r=[];for(t in e)n=e[t],0!==n&&(1===n&&(t=t.singularize()),r.push("<strong>"+n+" "+t+"</strong>"));return r.toSentence()},e}()}.call(this),function(){var e;e=function(e){return null==e&&(e=document.location.href),"/signin?return_to="+encodeURIComponent(e)},this.UrlHelper={signInWithReturnTo:e}}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty,r=[].slice;e=function(e){function n(e){this.app=e,n.__super__.constructor.call(this),this.routeModel=new Backbone.Model}return t(n,e),n.prototype.routes={"":"openDefaultMap",overview:"openProjectOverview",admin:"openProjectAdminSettings","admin/fields":"openProjectAdminFields","admin/members":"openProjectAdminMembers","admin/embeds":"openProjectAdminEmbeds","admin/trash":"openProjectAdminTrash","admin/addons":"openProjectAdminAddons","presentations/new":"newPresentation","presentations/:slug/edit/:page":"editPresentation",":map(/*path)":"openMap"},n.prototype.openProjectOverview=function(e){return this.openModal("overview",e)},n.prototype.openProjectAdminSettings=function(e){return this.openModal("settings",e)},n.prototype.openProjectAdminFields=function(e){return this.openModal("fields",e)},n.prototype.openProjectAdminMembers=function(e){return this.openModal("members",e)},n.prototype.openProjectAdminEmbeds=function(e){return this.openModal("embeds",e)},n.prototype.openProjectAdminTrash=function(e){return this.openModal("trash",e)},n.prototype.openProjectAdminAddons=function(e){return this.openModal("addons",e)},n.prototype.openModal=function(e,t){return Modal.open(e),currentMap?void 0:this.openDefaultMap(t)},n.prototype.openDefaultMap=function(e){var t,n;return(t=Settings.getDefaultMap())?(n=t.getDefaultPerspective(),this.open(t,n,e)):void 0},n.prototype.openMap=function(e,t,n){var r,i,o,a,s,u;return u=this,t?(t=t.replace(/#comment-\d+$/,""),r=t.split("/")):r=[],e.length>1&&"!"===e[0]&&(e=e.slice(1)),2===r.length?(s=r[0],i=r[1]):s=i=r[0],o=this.getMapBySlug(e),a=this.getPerspectiveBySlug(s),a&&s===i&&(i=void 0),i&&(n.selection="#"+i),null==o&&(o=Settings.getDefaultMap()),o?(null==a&&(a=o.getDefaultPerspective()),this.open(o,a,n),Modal.close()):void 0},n.prototype.getMapBySlug=function(e){return Maps.get(e)||Maps.find(function(t){return function(n){return t.slugFor(n)===e}}(this))},n.prototype.getPerspectiveBySlug=function(e){return Perspectives.get(e)||Perspectives.find(function(t){return function(n){return t.slugFor(n)===e}}(this))},n.prototype.open=function(e,t,n){return t!==currentPerspective?Workflows.promptIfViewNotSaved().then(function(r){return function(i){return i?r.openWithoutSaving(e,t,n):Backbone.history.rollback()}}(this))["catch"](function(){return function(){return Backbone.history.rollback()}}(this)):this.openWithoutSaving(e,t,n)},n.prototype.openWithoutSaving=function(e,t,n){return MapController.shouldRespondToRoute()?(this.updateWindowTitle(currentProject,e,t),(n.selection||n.s)&&(e.zoomFitOnLoad=!1),void MapController.open(e,t).then(function(e){return function(){return e.processCommonParams(n),e.listening?void 0:e.addListeners()}}(this))):void 0},n.prototype.addListeners=function(){return this.listening=!0,this.listenTo(this.routeModel,"change",_.debounce(this.onRouteModelChange,100).bind(this)),this.listenTo(Dispatch,"selectionchange",this.updateSelectionParam),this.listenTo(Dispatch,"selectionchange focuschange",this.updateFocusParam)},n.prototype.updateWindowTitle=function(e,t,n){var r,i,o,a,s;if(e&&t&&n)return a=e.get("name"),i=t.get("name"),o=n.get("name"),r=[],/^(default\s+)?map$/i.test(i)||r.push(i),o===i||/^(default\s+)?(map|perspective|legend)$/i.test(o)||r.push(o),s=[],s.push(a),0!==r.length&&s.push(r.join(" / ")),s.push("Kumu"),document.title=s.join(" \u2022 ")},n.prototype.processCommonParams=function(e,t){var n,r,i;return t=_.defaults({},t,{selection:!0}),n=e.focus||e.f,r=e.selection||e.s,i=e.showcase,this.ignoreRouteModelChanges=!0,this.processSelection(r),(n||this.routeModel.has("focus"))&&this.processFocus(n),(i||this.routeModel.has("showcase"))&&this.processShowcase(i),this.ignoreRouteModelChanges=!1},n.prototype.processSelection=function(e){return e=this.parseSelection(e),e?(currentMap.zoomFitOnLoad=!1,map.select(e,{extendFocus:!0,zoomFit:!0}),log.warn("TODO: fix initial selection lock"),currentMap.isReady()?void 0:(map.unlockSelection(),When().delay(1e3).done(function(){return map.lockSelection()}))):(map.resetSelection(),When())},n.prototype.parseSelection=function(e){var t,n,r;if(e){try{t=atob(e)}catch(i){n=i}r=/^(node|edge|labl)-/.test(t)?t.split(","):decodeURIComponent(e)}else r=void 0;return r},n.prototype.processShowcase=function(e){return map.showcase(e)},n.prototype.processFocus=function(e){var t,n;return null!=e&&"none"!==e?(/^\d$/.test(e)?(t=Number(e),n=this.buildFocusForCurrentSelection(t)):n=this.buildFocus(e),map.setFocus(n)):void 0},n.prototype.buildFocusForCurrentSelection=function(e){var t,n,r,i,o,a;if(r={roots:[]},a=map.getSelector())r.roots.push({root:a,degree:e});else for(n=map.getSelectedComponents(),i=0,o=n.length;o>i;i++)t=n[i],r.roots.push({root:t,degree:e});return r},n.prototype.buildFocus=function(e){var t;return t=FocusProperty.parse(e),t=_.omit(t,"required")},n.prototype.navigateTo=function(e,t){var n;return n=this.urlFor(e,t),this.navigate(n,{trigger:!0})},n.prototype.urlFor=function(e,t){var n,r,i,o,a,s,u,l;if(null==e&&(e={}),null==t&&(t={}),i=e.map,o=e.perspective,n=e.entity,null==i&&(i=currentMap),!i)return"#";s=[],s.push(this.slugFor(i,t)),o&&o!==i.getDefaultPerspective()&&s.push(this.slugFor(o,t)),n&&s.push(this.slugFor(n,t)),a={};for(r in e)l=e[r],/^(map|perspective|entity)$/.test(r)||""===l||null==l||(a[r]=l);return u="#"+s.join("/"),_.isEmpty(a)||(u+="?"+this.stringifyQuery(a)),t.absolute&&(u=t.permanent?currentProject.permanentUrl(u):currentProject.publicUrl(u),u=absoluteUrlFor(u)),u},n.prototype.stringifyQuery=function(e){return qs.stringify(e).replace("%2C",",")},n.prototype.slugFor=function(e,t){var n,r;return(null!=t?t.permanent:void 0)?n=e instanceof Entity&&!e.id?e.getAttr("id"):e.id:(r=_.isString(e)?e:e instanceof Entity?(t={informal:!e.isConnection()},e.getDirectSelector(t).substr(1)):e.slug(),"!"===r?r:null!=r?r.translugify():void 0)},n.prototype.localUrlFor=function(e){var t,n;return"#"===e[0]?e:(t=currentProject.root(),n=e.split(t),n&&2===n.length?n[1]:void 0)},n.prototype.encode=function(e){return encodeURIComponent(decodeURIComponent(e))},n.prototype.updateSelectionParam=function(){var e,t,n,r,i;return r=map.getSelection(),1===r.length&&(e=r.first().entity,t=(null!=(n=e.getAttr("id"))?n.slug():void 0)||e.slug()),t||(i=this.getSelectionIdentifier()),this.routeModel.set({entity:t,selection:i})},n.prototype.getSelectionIdentifier=function(){var e,t;return t=map.getSelector(),t?t:(e=_.compact(map.getSelection().pluck("_id")),btoa(e.join(",")))},n.prototype.updateFocusParam=function(){var e,t,n,r,i,o;if(currentScene)return map.hasFocus()?(t=currentScene.focus,r=t.get("roots"),e=map.getSelector(),1===r.length&&r[0].root===e?o=r[0].degree:t.isSimple()&&(i=map.getSelection().pluck("_id"),n=_.map(r,function(e){return e=e.root,_.isString(e)?e.slice(1):e.id}),_.isEqual(i,n)&&(o=r[0].degree)),null==o&&(o=FocusProperty.stringify(t.toJSON())),_.isString(o)&&(o=o.replace(/(^|(,\s+)?)prompt$/,"")),this.routeModel.set("focus",o)):this.routeModel.unset("focus")},n.prototype.onRouteModelChange=function(){var e;if(!this.ignoreRouteModelChanges)return e=_.defaults({map:currentMap,perspective:currentPerspective},this.routeModel.toJSON()),this.navigate(this.urlFor(e),{trigger:!1})
},n.prototype.newPresentation=function(){var e;return e={},map.setMode(PresentationBuilderMode(e))},n.prototype.getParam=function(e){return this.routeModel.get(e)},n.prototype.getParams=function(){return this.routeModel.toJSON()},n.prototype.replaceParams=function(){var e,t;return e=1<=arguments.length?r.call(arguments,0):[],(t=this.routeModel).set.apply(t,e)},n}(Backbone.Router),namespace("Routers",function(t){return t.MapRouter=e})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].slice;window.KumuCommand=function(){function n(){this.fail=e(this.fail,this),this.done=e(this.done,this),this.delegateResolution=e(this.delegateResolution,this),this.delegate=e(this.delegate,this),this.delegateResult=e(this.delegateResult,this),this.delegateAction=e(this.delegateAction,this),this.rejectWithResponse=e(this.rejectWithResponse,this),this.abort=e(this.abort,this),this.cancel=e(this.cancel,this),this.reject=e(this.reject,this),this.resolve=e(this.resolve,this),this.undo=e(this.undo,this),this.visible=!1,this.undoable=!0,this.executed=!1,this.cancelled=!1,this.subcommands=[],this.delegations=[],this.resolutions=[],this.errors=[],this.catchErrors=!1,this.execute=_.wrap(this.execute,function(e){return function(t){var n,r;if(e.dfd=new $.Deferred,e.promise=e.dfd.promise(),r=function(){var n;return(n=e.validate())?e.reject(n):(e.executed=!0,t.call(e))},e.catchErrors)try{r()}catch(i){n=i,e.onError(n),e.undo()}else r();return e.promise}}(this)),this.undo=_.wrap(this.undo,function(e){return function(t){var n,r;if(e.dfd=new $.Deferred,e.undoPromise=e.dfd.promise(),r=function(){return t.call(e)},e.catchErrors)try{r()}catch(i){n=i,e.onError(n)}else r();return e.undoPromise}}(this)),this.initialize.apply(this,arguments)}return n.prototype.initialize=function(){},n.prototype.validate=function(){},n.prototype.getPromise=function(){return this.promise},n.prototype.getUndoPromise=function(){return this.undoPromise},n.prototype.getSummary=function(){return _.result(this,"summary")},n.prototype.onError=function(e){return this.reject("Internal error. Please let us know if this happens again."),raise(e)},n.prototype.save=function(e){return e instanceof Backbone.Model?this.saveModel(e):e instanceof Backbone.Collection?this.saveCollection(e):e instanceof Array?this.saveArray(e):void 0},n.prototype.saveModel=function(e){return e.save()},n.prototype.saveCollection=function(e){return e.save()},n.prototype.saveArray=function(e){var t,n;return n=function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(t.save());return i}(),$.when.apply($,n)},n.prototype.announce=function(e){return app.status.info(e,!0)},n.prototype.undo=function(){var e,t,n,r;if(this.transaction)return this.transaction.undo().then(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this));for(t=this.subcommands.slice(0).reverse(),n=0,r=t.length;r>n;n++)e=t[n],e.undoCommand();return this.resolve()},n.prototype.undoTransaction=function(e){return e.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.defer=function(e){return this.executeAsTransaction(e)},n.prototype.executeAsTransaction=function(e){return e.execute().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.resolve=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.dfd).resolve.apply(n,e)},n.prototype.reject=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.dfd).reject.apply(n,e)},n.prototype.cancel=function(){return this.cancelled=!0,this.reject()},n.prototype.abort=function(e,t,n){return this.undo(),this.dfd.reject(new ErrorResponse(e,t,n))},n.prototype.rejectWithResponse=function(e){return this.reject(ErrorResponse.fromXHR(e))},n.prototype.delegateAction=function(){var e,n,r,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],n=function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,e,function(){}),r=n.executeCommand(),this.subcommands.push(n),this.delegations.push(r),r},n.prototype.delegateResult=function(){var e,n,r;return r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],n=this.delegateAction.apply(this,[r].concat(t.call(e))),n.done(function(e){return function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],e.resolutions.push(n)}}(this)).fail(function(e){return function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],e.errors.push(n)}}(this)),n},n.prototype.delegate=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],this.delegateResult.apply(this,[n].concat(t.call(e)))},n.prototype.delegateResolution=function(){return $.when.apply($,this.delegations).then(this.done,this.fail)},n.prototype.done=function(){return this.resolve(this.resolutions)},n.prototype.fail=function(){return this.reject()},n}()}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.transaction=new Transaction,this.setSelection(e),this.setAttribute(t),this.setValue(n)},n.prototype.setSelection=function(e){return this.selection=e instanceof EntitySelection?e.clone():new EntitySelection(e),this.selectionLabel=this.selection.label()},n.prototype.setAttribute=function(e){return this.attribute=e instanceof Attribute?e:Attributes.findByName(e)||new Attribute({name:e})},n.prototype.setValue=function(e){return this.value=e,e&&_.isString(e)?this.truncatedValue=e.truncate(20):void 0},n.prototype.getSelectionLabel=function(){return this.selectionLabel},n.prototype.execute=function(){var e,t,n,r,i,o;for(i=this,o=function(e){return i.update(e)},r=this.selection.models,t=0,n=r.length;n>t;t++)e=r[t],this.transaction.update(e,o);return this.transaction.execute().done(function(e){return function(){return e.resolve(e.selection)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Attributes",function(t){return t.Base=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.summary=function(){return"cleared **"+this.getSelectionLabel()+"**'s "+this.attribute.label().toLowerCase()},n.prototype.update=function(e){return e.unsetAttr(this.attribute)},n}(Commands.Attributes.Base),namespace("Commands.Attributes",function(t){return t.Clear=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.attribute=Backbone.Model.wrap(e,Attribute)},n.prototype.summary=function(){return"added field **"+this.attribute.label()+"**"},n.prototype.execute=function(){return Attributes.add(this.attribute),this.attribute.save().done(function(e){return function(){return e.resolve(e.attribute)}}(this)).fail(function(e){return function(){return e.restore(),e.reject()}}(this))},n.prototype.undo=function(){return this.restore().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject("Unable to undo field changes")}}(this))},n.prototype.restore=function(){return this.attribute.destroy()},n}(KumuCommand),namespace("Commands.Attributes",function(t){return t.Create=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.attr=t,this.value=n,Attribute.isExpression(this.value)&&(this.expression=Attribute.parseExpression(this.value),this.value=void 0),this.attributeExists=Boolean(Attributes.get(this.attr)),this.selection=e.clone(),this.label=this.selection.label(),this.transaction=new Transaction},n.prototype.summary=function(){return this.value?"updated **"+this.label+"**'s **"+this.attr+"**":this.attributeExists?"updated field **"+this.attr+"**":"added field **"+this.attr+"**"},n.prototype.execute=function(){return this.updateOrCreateAttribute(),this.value&&this.assignAttribute(),this.updateRelevance(),this.transaction.execute().done(function(e){return function(){return e.resolve(e.attribute)}}(this)).fail(function(e){return function(){return e.reject("Unable to assign field")}}(this))},n.prototype.updateOrCreateAttribute=function(){return this.attribute=Attributes.get(this.attr),this.attribute?this.expression?this.transaction.update(this.attribute,{expression:this.expression}):void 0:(this.attribute=Attributes.add({name:this.attr}),this.expression&&this.attribute.set("expression",this.expression),this.transaction.create(this.attribute))},n.prototype.assignAttribute=function(){var e,t,n,r,i,o;for(o=function(e){return function(t){return t.setAttr(e.attribute,e.value)}}(this),r=this.selection.models,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(this.transaction.update(e,o));return i},n.prototype.updateRelevance=function(){var e,t,n,r,i;for(r=Settings.toMemento(),i=this.selection.models,t=0,n=i.length;n>t;t++)e=i[t],Settings.relevance.push(e.getTypeSelector(),this.attr);return Settings.pullRelevance(),r.isEqual()?void 0:this.transaction.update(Settings,r)},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Attributes",function(t){return t.CreateAndAssign=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.attribute=e,this.transaction=new Transaction,this.attributeName=this.attribute.get("name")},n.prototype.summary=function(){return"deleted the **"+this.attributeName+"** field"},n.prototype.execute=function(){return this.destroyAssignments(),this.destroyAttribute(),this.transaction.execute().done(function(e){return function(){return e.resolve(e.attribute)}}(this)).fail(function(e){return function(){return e.reject("Unable to delete field")}}(this))},n.prototype.destroyAssignments=function(){var e,t,n,r,i,o,a;for(n=this.attribute.key(),a=function(e){return e.unsetAttr(n)},i=currentProject.entities(),o=[],t=0,r=i.length;r>t;t++)e=i[t],o.push(e.hasAttr(n)?this.transaction.update(e,a):void 0);return o},n.prototype.destroyAttribute=function(){return this.transaction.destroy(this.attribute,{collection:Attributes})},n}(KumuCommand),namespace("Commands.Attributes",function(t){return t.Destroy=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,r,i){return this.index=r,n.__super__.initialize.call(this,e,t,i)},n.prototype.summary=function(){return"edited **"+this.getSelectionLabel()+"**'s **"+this.attribute.label()+"** ("+this.truncatedValue+")"},n.prototype.update=function(e){return e.editAttr(this.attribute,this.index,this.value)},n}(Commands.Attributes.Base),namespace("Commands.Attributes",function(t){return t.Edit=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.summary=function(){switch(this.attribute.key()){case"tags":return"untagged **"+this.getSelectionLabel()+"** with **"+this.value+"**";case"notes":return"removed the note **"+this.truncatedValue+"** from **"+this.getSelectionLabel()+"**";default:return"removed **"+this.truncatedValue+"** from **"+this.getSelectionLabel()+"**'s **"+this.attribute.label()+"**"}},n.prototype.update=function(e){return e.popAttr(this.attribute,this.value)},n}(Commands.Attributes.Base),namespace("Commands.Attributes",function(t){return t.Pop=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.summary=function(){var e;switch(e=this.getSelectionLabel(),this.attribute.key()){case"tags":return"tagged **"+e+"** with **"+this.value+"**";case"notes":return"added the note **"+this.truncatedValue+"** to **"+e+"**";default:return"added **"+this.truncatedValue+"** to **"+e+"**'s **"+this.attribute.label()+"**"}},n.prototype.update=function(e){return e.pushAttr(this.attribute,this.value)},n}(Commands.Attributes.Base),namespace("Commands.Attributes",function(t){return t.Push=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.attribute=e,this.name=t,this.originalName=this.attribute.get("name")},n.prototype.summary=function(){return"renamed field **"+this.originalName+"** to **"+this.name+"**"},n.prototype.execute=function(){return this.attribute.set("name",this.name),this.attribute.save().done(function(e){return function(){return e.resolve(e.attribute)}}(this)).fail(function(e){return function(){return e.restore(),e.reject()}}(this))},n.prototype.undo=function(){return this.restore().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject("Unable to undo rename")}}(this))},n.prototype.restore=function(){return this.attribute.set("name",this.originalName),this.attribute.save()},n}(KumuCommand),namespace("Commands.Attributes",function(t){return t.Rename=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.summary=function(){var e,t;return t=this.getSelectionLabel(),e=this.attribute.label().toLowerCase(),null!=this.value?this.attribute.limit()>1||"text"===this.attribute.get("format")?"updated **"+t+"**'s "+e:this.attribute.is("label")?"renamed **"+t+"** to **"+this.value+"**":"updated **"+t+"**'s "+e+" to **"+this.truncatedValue+"**":"cleared **"+t+"**'s "+e},n.prototype.update=function(e){return e.setAttr(this.attribute,this.value)},n.prototype.execute=function(){return this.attribute.shouldSaveNewChoices()&&this.updateAttributeValues(),n.__super__.execute.apply(this,arguments)},n.prototype.updateAttributeValues=function(){var e,t,n;return e=this.attribute.toMemento(),n=_.isArray(this.value)?this.value:[this.value],(t=this.attribute).add.apply(t,n),e.isEqual()?void 0:this.transaction.update(this.attribute,e)},n}(Commands.Attributes.Base),namespace("Commands.Attributes",function(t){return t.Set=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n,r){return this.model=e,this.transaction=new Transaction,t instanceof Backbone.Memento?(this.memento=t.clone(),r=n):(this.memento=this.model.toMemento(),_.isObject(t)?(this.attrs=_.clone(t),r=n):null!=t&&(this.attrs={},this.attrs[t]=n)),null!=t?null!=this.summary?this.summary:this.summary=this.defaultSummary(t,r):void 0},n.prototype.defaultSummary=function(e,t){var n;return t=_.defaults({},t,{classify:!0}),this.model===Settings&&(t.classify=!1),n=function(){switch(t.classify){case!0:return"updated "+i18n(this.model.className)+" **"+this.model.toString()+"**";case!1:return"updated **"+this.model.toString()+"**"}}.call(this),_.isString(e)&&(e=e.humanize().toLowerCase(),"default perspective"===e&&(e="default view"),n+="'s "+e),n},n.prototype.execute=function(){var e;return"function"==typeof this.update&&this.update(),this.transaction.update(this.model,null!=(e=this.attrs)?e:this.memento),this.transaction.execute().done(function(e){return function(){return e.resolve(e.model)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve(e.model)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.orig=function(e){return this.memento.get(e)},n.prototype.val=function(e){return this.attrs[e]},n}(KumuCommand),namespace("Commands.Models",function(t){return t.Update=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,r){return this.attribute=e,this.prop=t,this.value=r,n.__super__.initialize.apply(this,arguments)},n.prototype.summary=function(){var e;switch(e=this.prop,"format"===e&&(e="type"),e){case"name":return"renamed **"+this.orig("name")+"** to **"+this.value+"**";case"private":return"made **"+this.attribute+"** "+(this.value?"private":"public");default:return"updated settings for field **"+this.attribute+"**"}},n.prototype.execute=function(){var e,t,r,i;return"name"===this.prop&&(i=this.attribute.get("name"),r=this.attribute.key(),t=this.value,e=this.value.toLowerCase(),e!==r&&this.updateAssignments(r,e),t!==i&&this.updateRelevance(i,t)),n.__super__.execute.apply(this,arguments)},n.prototype.updateAssignments=function(e,t){var n,r,i,o,a,s;for(a=function(n){return n.renameAttr(e,t)},o=currentProject.entities(),s=[],r=0,i=o.length;i>r;r++)n=o[r],s.push(n.hasAttr(e)?this.transaction.update(n,a):void 0);return s},n.prototype.updateRelevance=function(e,t){var n;return n=Settings.toMemento(),Settings.relevance.renameAttribute(e,t),Settings.pullRelevance(),this.transaction.update(Settings,n)},n}(Commands.Models.Update),namespace("Commands.Attributes",function(t){return t.Update=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.cluster=e,this.summary="saved a cluster",this.transaction=this.cluster.releaseTransaction()},n.prototype.execute=function(){return this.executeAsTransaction(this.transaction)},n}(KumuCommand),namespace("Commands.Clusters",function(t){return t.Save=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.map=currentMap,this.selection=e.clone(),this.transaction=new Transaction,this.selectionLabel=1===e.length?e.first().toString({verbose:!0}):e.length+" items"},n.prototype.summary=function(){return"removed **"+this.selectionLabel+"** from **"+this.map.get("name")+"**"},n.prototype.execute=function(){var e,t,n,r,i,o,a,s,u,l,c,p,h;for(c=[],t=[],o=[],p=this.selection.models,n=0,a=p.length;a>n;n++)switch(l=p[n],l.className){case"Node":c.push(l),t.push.apply(t,l.edges);break;case"Edge":t.push(l);break;case"Label":o.push(l)}for(t=_.uniq(t),h=[o,t,c],r=0,s=h.length;s>r;r++)for(e=h[r],i=0,u=e.length;u>i;i++)l=e[i],this.transaction.destroy(l);return this.transaction.execute().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject("Unable to remove")}}(this))},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Components",function(t){return t.Destroy=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){var r,i,o,a,s,u;for(this.components=e,this.savedComponents=t,this.transaction=new Transaction,this.originalPositions={},s=this.components,u=[],i=0,o=s.length;o>i;i++)r=s[i],a=Vector.subtract(r.position,n),u.push(this.originalPositions[r.cid]=a);return u},n.prototype.summary=function(){var e;return e=function(){switch(this.components.length){case 1:return this.components[0].getLabel();default:return"multiple items"}}.call(this),"moved **"+e+"**"},n.prototype.execute=function(){var e,t,n,r,i;for(r=this.savedComponents,t=0,n=r.length;n>t;t++)e=r[t],i={pinned:!0,position:e.position.toJSON()},this.transaction.update(e,i);return this.executeAsTransaction(this.transaction)},n.prototype.undo=function(){var e,t,n,r,i;for(i=this.components,t=0,n=i.length;n>t;t++)e=i[t],r=this.originalPositions[e.cid],e.updatePosition(r.x,r.y);return this.undoTransaction(this.transaction)},n}(KumuCommand),namespace("Commands.Components",function(t){return t.Move=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.components=e,this.pinned=null!=t?t:!0,this.transaction=new Transaction},n.prototype.summary=function(){var e,t;return e=this.pinned?"pinned":"unpinned",t=1===this.components.length?this.components[0].getLabel():this.components.length+" items",e+" **"+t+"**"},n.prototype.execute=function(){var e;return e=this.pinned?function(e){return e.pin()}:function(e){return e.float()},this.transaction.update(this.components,e),this.transaction.execute().done(function(e){return function(){return e.resolve(e.components)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.undo=function(){var e;return e=n.__super__.undo.apply(this,arguments),e.then(function(e){return function(){var t,n,r,i,o;for(i=e.components,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(t.invalidate("layout"));return o}}(this)),e},n}(KumuCommand),namespace("Commands.Components",function(t){return t.Pin=e})}.call(this),function(){var e,t,n,r,i,o;e=function(e){return e instanceof Backbone.Model?n(e):e instanceof Backbone.Collection?labelForMultiple(e):void 0},n=function(){},t=function(){var e,t;return 1===this.length?(e=this.first(),e.getLabel()||e.getFallbackLabel(options)||"unnamed"):(t=this.type(),"mixed"===t?"multiple items":"multiple "+t)},r=function(e){return e.getLabel()||"unnamed element"},i=function(e){switch(e.length){case 0:return"zero elements";case 1:return this.labelForNode(e[0]);default:return"multiple elements"}},o={labelFor:e,labelForNode:r,labelForNodes:i},_.extend(KumuCommand.prototype,o)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.map=e,null==t&&(t={}),_.defaults(t,{connection:{},edge:{}}),this.connection=Backbone.Model.wrap(t.connection,Connection),this.connection.set("original_map_id",this.map.id),this.edge=Backbone.Model.wrap(t.edge,Edge)},n.prototype.summary=function(){return"created a connection"},n.prototype.execute=function(){var e,t;return Connections.add(this.connection),this.map.edges.add(this.edge),e=function(e){return function(){return alert("Connection saved"),e.resolve(e.element,e.node)}}(this),t=function(e){return function(){return alert("Unable to create connection"),log.info(e.connection.validationError),log.info(e.edge.validationError),e.undo()}}(this),this.connection.save().then(function(e){return function(){return e.edge.save({entity_id:e.connection.id})}}(this)).then(e,t)},n.prototype.undo=function(){var e,t;return null!=(e=this.edge)&&e.destroy(),null!=(t=this.connection)?t.destroy():void 0},n}(KumuCommand),namespace("Commands.Connections",function(t){return t.CreateWithinMap=e})}.call(this),function(){}.call(this),function(){}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.connection=e,this.side=t,this.element=n,this.originalElement=this.connection[this.side]},n.prototype.summary=function(){var e,t;return"from"===this.side?(e=this.element.getLabel(),t=this.connection.to.getLabel()):(e=this.connection.from.getLabel(),t=this.element.getLabel()),"connected **"+e+"** to **"+t+"**"},n.prototype.execute=function(){return this.connection.redirect(this.side,this.element),this.connection.save().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.restore(),e.reject("Unable to redirect connection")}}(this))},n.prototype.undo=function(){return this.restore(),this.connection.save().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject("Unable to undo redirection")}}(this))},n.prototype.restore=function(){return this.connection.redirect(this.side,this.originalElement)},n}(KumuCommand),namespace("Commands.Connections",function(t){return t.Redirect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.transaction=new Transaction,this.connections=_.clone(e),this.summary="reversed **"+LabelHelper.count(this.connections,"connections")+"**"},n.prototype.execute=function(){return this.transaction.update(this.connections,function(e){return e.reverse()}),this.transaction.execute().done(function(e){return function(){return e.resolve(e.connections)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Connections",function(t){return t.Reverse=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.prop=t,this.value=n,this.transaction=new Transaction,this.connections=_.clone(e),this.summary=1===this.connections.length?"updated **"+this.connections[0].getVerboseLabel()+"**":"updated **"+LabelHelper.count(this.connections,"connections")+"**"},n.prototype.execute=function(){return this.transaction.update(this.connections,function(e){return function(t){return t.set(e.prop,e.value)}}(this)),this.transaction.execute().done(function(e){return function(){return e.resolve(e.connections)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Connections",function(t){return t.Update=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.execute=t(this.execute,this),this.summary=t(this.summary,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.initialize=function(e,t,n){return this.from=e,this.to=t,null==n&&(n={}),_.defaults(n,{map:currentMap}),this.map=n.map,this.connection=n.connection},r.prototype.summary=function(){return"created connection"},r.prototype.execute=function(){var e;return e=this.map.edges.add({from:this.from,to:this.to}),e.save().done(function(t){return function(){return t.resolve(e)}}(this)).fail(this.rejectWithResponse)},r}(KumuCommand),namespace("Commands.Edges",function(t){return t.Create=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.edge=e,this.side=t,this.node=n,this.connection=this.edge.entity,this.element=this.node.entity,this.prevNode=this.edge[this.side],this.connectionRedirect=new Commands.Connections.Redirect(this.connection,this.side,this.element),this.summary=this.connectionRedirect.summary()},n.prototype.execute=function(){return this.redirectEdge(this.prevNode,this.node),this.connectionRedirect.execute().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.restore(),e.reject()}}(this))},n.prototype.undo=function(){return this.restore(),this.connectionRedirect.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.restore=function(){return this.redirectEdge(this.node,this.prevNode)},n.prototype.redirectEdge=function(e,t){return this.edge[this.side]=t,e.removeEdge(this.edge),t.addEdge(this.edge)},n}(KumuCommand),namespace("Commands.Edges",function(t){return t.Redirect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.edge=e,this.curvature=t,this.connection=this.edge.getConnection(),this.originalCurvature=this.edge.get("curvature")},n.prototype.summary=function(){var e;return e=this.connection.getFallbackLabel({markdown:!0}),"**reshaped** "+e},n.prototype.execute=function(){return this.edge.save({curvature:this.curvature}).done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.restore(),e.reject("Unable to save connection")
}}(this))},n.prototype.undo=function(){return this.restore(),this.edge.save().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject("Unable to restore curvature")}}(this))},n.prototype.restore=function(){return this.edge.set({curvature:this.originalCurvature})},n}(KumuCommand),namespace("Commands.Edges",function(t){return t.Reshape=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){var n,r,i,o,a;for(this.edges=e,this.direction=t,this.originalDirections={},o=this.edges,a=[],r=0,i=o.length;i>r;r++)n=o[r],a.push(this.originalDirections[n.cid]=n.get("direction"));return a},n.prototype.summary=function(){var e;return 1===this.edges.length?(e=this.edges[0].getConnection(),"changed direction of **"+e.label()+"** to **"+this.direction+"**"):"changed the direction of **"+this.edges.length+" connections** to **"+this.direction+"**"},n.prototype.execute=function(){var e,t,n,r;for(r=this.edges,t=0,n=r.length;n>t;t++)e=r[t],e.set("direction",this.direction);return $.when.apply($,this.save()).done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.restore(),e.reject("Unable to save connection")}}(this))},n.prototype.undo=function(){return edge.set("direction",this.originalDirections[edge.cid]),$.when.apply($,this.save()).done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject("Unable to reset direction")}}(this))},n.prototype.save=function(){return _.map(this.edges,function(e){return e.save()})},n}(KumuCommand),namespace("Commands.Edges",function(t){return t.SetDirection=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.element=e,this.image=t,this.transaction=new Transaction,this.summary="updated **"+this.element.toString()+"**'s image"},n.prototype.execute=function(){var e;return e=Attributes.findOrAddByName("Image"),e.isNew()&&this.transaction.create(e),this.transaction.update(this.element,function(e){return function(){return e.element.setAttr("image",e.image)}}(this)),this.executeAsTransaction(this.transaction)},n}(KumuCommand),namespace("Commands.Elements",function(t){return t.AddImage=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.from=e,this.to=t,this.attributes=null!=n?n:{},this.attributes.from=this.from,this.attributes.to=this.to,this.transaction=new Transaction,this.summary="connected **"+this.from.getLabel()+"** to **"+this.to.getLabel()+"**"},n.prototype.execute=function(){return this.transaction.create(this.connection=Connections.add(this.attributes)),this.transaction.execute().done(function(e){return function(){return e.resolve(e.connection)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Elements",function(t){return t.Connect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.element=e instanceof Element?e:new Element(e)},n.prototype.summary=function(){return"**created** element **"+this.element.getLabel()+"**"},n.prototype.execute=function(){return this.element.save().done(function(e){return function(){return Elements.add(e.element),e.resolve(e.element)}}(this)).fail(function(e){return function(){return e.reject("Unable to create element")}}(this))},n.prototype.undo=function(){var e;return null!=(e=this.element)?e.destroy():void 0},n}(KumuCommand),namespace("Commands.Elements",function(t){return t.Create=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return null==t&&(t={}),null==n&&(n={}),this.map=e,this.element=wrap(t,Element),this.node=wrap(n,Node),this.transaction=new Transaction},n.prototype.summary=function(){return"added **"+this.element.getLabel()+"** to **"+this.map.get("name")+"**"},n.prototype.execute=function(){var e,t;return e=function(e){return function(){var t;return t=new Commands.Elements.Create(e.element),t.execute()}}(this),t=function(e){return function(){var t;return e.node.setElement(e.element),t=new Commands.Nodes.Create(e.map,e.node),t.execute()}}(this),e().then(t).done(function(e){return function(){return e.resolve(e.element,e.node)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.undo=function(){var e,t;return $.when(null!=(e=this.node)?e.destroy():void 0,null!=(t=this.element)?t.destroy():void 0).done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Elements",function(t){return t.CreateAndPlace=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.map=e,this.element=t,null==n&&(n={}),this.attributes=_.clone(n)},n.prototype.summary=function(){return this.createNode.summary()},n.prototype.execute=function(){return this.node=new Node(this.attributes),this.node.setElement(this.element),this.createNode=new Commands.Nodes.Create(this.map,this.node),this.createNode.execute().done(function(e){return function(t){return e.node=t,e.resolve(e.node)}}(this)).fail(function(e){return function(){var t,n;return log.info("place failed",null!=(t=e.element)?t.validationError:void 0,null!=(n=e.node)?n.validationError:void 0),e.undo(),e.reject("Unable to place element")}}(this))},n.prototype.undo=function(){var e;return null!=(e=this.createNode)?e.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this)):void 0},n}(KumuCommand),namespace("Commands.Elements",function(t){return t.Place=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.label=t,this.transaction=new Transaction,this.selection=e.clone(),this.summary="renamed **"+this.selection+"** to **"+this.label+"**"},n.prototype.execute=function(){return this.transaction.update(this.selection.models,function(e){return function(t){return t.label(e.label)}}(this)),this.transaction.execute().then(function(e){return function(){return e.resolve(e.selection)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Entities",function(t){return t.Rename=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n,r){return this.map=e,this.from=t,this.to=n,this.type=r,this.transaction=new Transaction,this.connections=[],this.edges=[]},n.prototype.summary=function(){var e,t;return e=this.labelForNodes(this.fromNodes),t=this.labelForNodes(this.toNodes),"connected **"+e+"** to **"+t+"**"},n.prototype.execute=function(){return this.fromElements=this.findOrCreateElements(this.from),this.toElements=this.findOrCreateElements(this.to),this.fromNodes=this.addElementsToMap(this.fromElements),this.toNodes=this.addElementsToMap(this.toElements),this.connect(),this.transaction.isEmpty()?(this.empty=!0,this.transaction.abort(),this.reject()):this.transaction.execute().done(function(e){return function(){return e.resolve(e.connections,e.edges)}}(this)).fail(function(e){return function(){return log.error("Unable to connect",e.map,e.fromNodes,e.toLabel),e.reject("Unable to add connection")}}(this))},n.prototype.findOrCreateElements=function(e){var t,n,r;return _.isString(e)?(t=this.findOrCreateElement(e),n=[t]):e instanceof Element?(t=e,n=[t]):e instanceof Node?(r=e,n=[r.entity]):n=e.map(function(e){return e.entity}),n},n.prototype.findOrCreateElement=function(e){var t;return t=this.map.nodes.get(e)||this.map.find(e),t?t.entity:Elements.get(e)||Elements.findByLabel(e)||this.createElement(e)},n.prototype.createElement=function(e){var t;return t=Elements.add({attributes:{label:e}}),this.transaction.add("create",t),t},n.prototype.addElementsToMap=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(this.addElementToMap(t));return i},n.prototype.addElementToMap=function(e){var t;return(t=this.map.nodes.get(e))?t:(t=this.map.nodes.add({entity:e}),this.map.isFixed()&&t.pin(),this.transaction.add("create",t),t)},n.prototype.connect=function(){var e,t,n,r,i,o;for(r=this.fromNodes,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(function(){var t,n,r,i;for(r=this.toNodes,i=[],t=0,n=r.length;n>t;t++)o=r[t],i.push(e!==o?this.connectNodes(e,o):void 0);return i}.call(this));return i},n.prototype.connectNodes=function(e,t){var n,r;return n=this.createConnection(e.entity,t.entity),r=this.addConnectionToMap(n,e,t)},n.prototype.createConnection=function(e,t){var n,r;return n={from:e,to:t,direction:this.map.getDefaultDirection()},r=Connections.add(n),this.type&&r.setAttr("connection type",this.type),this.transaction.add("create",r),this.connections.push(r),r},n.prototype.addConnectionToMap=function(e,t,n){var r;return r=this.map.edges.add({from:t,to:n,entity:e}),this.transaction.add("create",r),this.edges.push(r),r},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Forms",function(t){return t.Connect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n,r){return this.map=e,this.element=t,this.type=n,this.nodeAttributes=r,this.transaction=new Transaction,this.element instanceof Element?void 0:(this.label=this.element,this.element=void 0)},n.prototype.summary=function(){return"added **"+this.element+"** to **"+this.map+"**"},n.prototype.execute=function(){return this.element?(this.updateElement(),this.map.include(this.element)||this.placeElement()):(this.createElement(),this.placeElement()),this.transaction.execute().done(function(e){return function(){return e.resolve(e.element,e.node)}}(this)).fail(function(e){return function(){return e.reject("Unable to add element")}}(this))},n.prototype.updateElement=function(){return this.type&&this.element.type()!==this.type?this.transaction.update(this.element,function(e){return function(t){return t.type(e.type)}}(this)):void 0},n.prototype.createElement=function(){return this.element=Elements.add(),this.element.label(this.label),this.type&&this.element.type(this.type),this.transaction.create(this.element)},n.prototype.placeElement=function(){return this.nodeAttributes=Object.assign({},this.nodeAttributes,{entity:this.element}),this.node=this.map.nodes.add(this.nodeAttributes),this.map.isFixed()&&this.node.pin(),this.node.select(),this.transaction.create(this.node)},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Forms",function(t){return t.Create=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){this["import"]=e},n.prototype.summary=function(){var e,t;return t=this["import"].target(),e="imported multiple items",t&&t!==currentProject&&(e+=" into **"+t+"**"),e},n.prototype.execute=function(){return this["import"].save().done(function(e){return function(){return e.resolve(e["import"])}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.undo=function(){return this["import"].undo().done(function(e){return function(){return e.resolve(e["import"])}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Imports",function(t){return t.Finalize=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.map=e,this.attributes=_.clone(t),this.transaction=new Transaction},n.prototype.summary=function(){var e;return e=this.lewp.getLabel(),e?"added loop **"+e+"**":"added a new loop"},n.prototype.execute=function(){return this.lewp=Loops.add(this.attributes),this.label=this.map.addLoop(this.lewp),this.transaction.add("create",this.lewp),this.transaction.add("create",this.label),this.transaction.execute().done(function(e){return function(){return e.resolve(e.lewp,e.label)}}(this)).fail(function(e){return function(){return e.reject("Unable to create loop")}}(this))},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Loops",function(t){return t.CreateAndPlace=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){this.lewp=e,this.connection=t},n.prototype.summary=function(){return"updated loop **"+this.lewp.getLabel()+"**"},n.prototype.execute=function(){return this.lewp.toggleConnection(this.connection),this.lewp.save().done(function(e){return function(){return e.resolve(e.lewp,e.connection)}}(this)).fail(function(e){return function(){return e.reject("Unable to update loop")}}(this))},n.prototype.undo=function(){return this.lewp.toggleConnection(this.connection),this.lewp.save().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Loops",function(t){return t.ToggleConnection=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.lewp=e,this.connections=t,this.originalConnections=this.lewp.connections.toJSON()},n.prototype.summary=function(){return"updated loop **"+this.lewp.getLabel()+"**"},n.prototype.execute=function(){return this.lewp.resetConnections(this.connections),this.lewp.save().then(function(e){return function(){return e.resolve(e.lewp,e.connections)}}(this)).fail(function(e){return function(){return e.reject("Unable to update loop")}}(this))},n.prototype.undo=function(){return this.lewp.resetConnections(this.originalConnections),this.lewp.save().then(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject("Unable to undo changes")}}(this))},n}(KumuCommand),namespace("Commands.Loops",function(t){return t.UpdateConnections=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.map=e,this.nodes=t,this.type=(null!=n?n.type:void 0)||Settings.getDefaultConnectionType(),this.direction=(null!=n?n.direction:void 0)||map.getDefaultDirection(),this.transaction=new Transaction,this.connections=[],this.edges=[],this.summary="connected **"+this.nodes.length+"** elements"},n.prototype.execute=function(){var e,t,n,r,i,o,a,s;for(o=this.nodes,t=0,r=o.length;r>t;t++)for(e=o[t],a=this.nodes,n=0,i=a.length;i>n;n++)s=a[n],this.connect(e,s);return this.transaction.execute().done(function(e){return function(){return e.resolve(e.connections,e.edges)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.connect=function(e,t){var n,r,i;if(e!==t&&!this.exists(e,t))return r={from:e.getElement(),to:t.getElement(),direction:this.direction},n=Connections.add(r),this.type&&n.setAttr("connection type",this.type),i=this.map.edges.add({from:e,to:t,entity:n}),this.transaction.add("create",n),this.transaction.add("create",i),this.connections.push(n),this.edges.push(i)},n.prototype.exists=function(e,t){var n,r;return n=this.direction,r=function(e){switch(n){case"directed":return e.to===t;case"mutual":return e.include(t);default:return e.include(t)}},_.any(e.edges,r)},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Maps",function(t){return t.ConnectAll=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.attributes=_.clone(e)},n.prototype.summary=function(){return"created map **"+this.map.get("name")+"**"},n.prototype.execute=function(){return this.map=new Map(this.attributes),this.map.save().done(function(e){return function(){return Maps.add(e.map),e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject("Unable to create map")}}(this))},n.prototype.undo=function(){return this.map.destroy().done(function(e){return function(){return e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject(e.map)}}(this))},n}(KumuCommand),namespace("Commands.Maps",function(t){return t.Create=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.map=e,this.transaction=new Transaction,this.summary="deleted map **"+this.map.get("name")+"**"},n.prototype.execute=function(){return this.disposeScene(),this.destroyComponents(),this.destroyInvalidComponents(),this.destroyMap(),this.transaction.execute().done(function(e){return function(){return e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.disposeScene=function(){var e;return null!=(e=this.map.scene)?e.reset():void 0},n.prototype.destroyComponents=function(){var e,t,n,r,i,o,a,s,u;for(a=["labels","edges","nodes"],t=0,r=a.length;r>t;t++)for(u=a[t],e=this.map[u],s=e.toArray(),n=0,i=s.length;i>n;n++)o=s[n],this.transaction.add("destroy",o);return this},n.prototype.destroyInvalidComponents=function(){var e,t,n,r,i,o,a,s;if(e=this.map.graph){for(a=e.orphans,t=0,r=a.length;r>t;t++)o=a[t],this.transaction.add("destroy",o);for(s=e.componentsWithoutEntities,n=0,i=s.length;i>n;n++)o=s[n],this.transaction.add("destroy",o);return this}},n.prototype.destroyMap=function(){return this.transaction.add("destroy",this.map)},n}(KumuCommand),namespace("Commands.Maps",function(t){return t.Destroy=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.map=e,this.name=t,this.transaction=new Transaction,this.previousMap=currentMap,this.previousPerspective=currentPerspective},n.prototype.summary=function(){return"created map **"+this.name+"**"},n.prototype.execute=function(){return this.duplicateAttributes(),this.duplicateAssociations(),this.initializeScene(),this.transaction.execute().done(function(e){return function(){return Maps.add(e.copy),e.resolve(e.copy)}}(this)).fail(function(e){return function(){return e.reject("Unable to duplicate map")}}(this))},n.prototype.undo=function(){return this.restoreScene(),this.transaction.undo().done(function(e){return function(){return e.resolve(e.copy)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.restoreScene=function(){return this.previousMap&&this.previousPerspective?map.open(this.previousMap,this.previousPerspective):void 0},n.prototype.duplicateAttributes=function(){return this.copy=this.map.clone(),this.copy.set("name",this.name),this.transaction.create(this.copy)},n.prototype.duplicateAssociations=function(){var e,t,n,r,i,o,a,s,u,l,c;for(c={},this.copy.reify(),u=["nodes","edges","labels"],r=0,o=u.length;o>r;r++){for(e=u[r],t=[],l=this.map[e].models,i=0,a=l.length;a>i;i++){switch(s=l[i],n=s.clone(),n.setMap(this.copy),c[s.cid]=n,e){case"edges":n.from=c[s.from.cid],n.to=c[s.to.cid];break;case"labels":n.edges=_.map(s.edges,function(e){return c[e.cid]})}t.push(n),n.entity.isNew()&&this.transaction.create(n.entity),this.transaction.create(n)}this.copy[e].reset(t)}return void 0},n.prototype.initializeScene=function(){return this.copy.finalizeLoad()},n}(KumuCommand),namespace("Commands.Maps",function(t){return t.Duplicate=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.map=e,this.originalMap=Settings.getDefaultMap()},n.prototype.summary=function(){return"made **"+this.map.get("name")+"** the default map"},n.prototype.execute=function(){return Settings.setDefaultMap(this.map),Settings.save().done(function(e){return function(){return e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject("Unable to save changes")}}(this))},n.prototype.undo=function(){return Settings.setDefaultMap(this.originalMap),Settings.save().done(function(e){return function(){return e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Maps",function(t){return t.MakeDefault=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.map=e,this.values={scale:this.map.scene.scale,center:Vector.negate(this.map.scene.translation).toJSON()},this.originalValues=this.map.pick("scale","center")},n.prototype.summary=function(){return"updated **"+this.map.get("name")+"**'s default view"},n.prototype.execute=function(){return this.map.save(this.values).done(function(e){return function(){return e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject(e.map)}}(this))},n.prototype.undo=function(){return this.map.save(this.originalValues).done(function(e){return function(){return e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject(e.map)}}(this))},n}(KumuCommand),namespace("Commands.Maps",function(t){return t.MakeDefaultView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.map=e,this.name=t,this.originalName=this.map.get("name")},n.prototype.summary=function(){return"renamed map **"+this.originalName+"** to **"+this.name+"**"},n.prototype.execute=function(){return this.map.save({name:this.name}).done(function(e){return function(){return e.map===currentMap&&e.updateLocation(),e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject(e.map)}}(this))},n.prototype.undo=function(){return this.map.save({name:this.originalName}).done(function(e){return function(){return e.map===currentMap&&e.updateLocation(),e.resolve(e.map)}}(this)).fail(function(e){return function(){return e.reject(e.map)}}(this))},n.prototype.updateLocation=function(){return map.navigate(this.map.slug(),{trigger:!1})},n}(KumuCommand),namespace("Commands.Maps",function(t){return t.Rename=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.summary=function(){return"updated **"+this.orig("name")+"**"},n}(Commands.Models.Update),namespace("Commands.Maps",function(t){return t.Update=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.summary=function(){return"updated settings for **"+this.model.get("name")+"**"},n}(Commands.Maps.Update),namespace("Commands.Maps",function(t){return t.UpdateSettings=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){var r;return this.graph=e,this.metrics=t,this.transaction=new Transaction(n),r=_.keys(this.metrics),this.summary=1===r.length?"updated **"+r[0]+"** metric":"updated multiple metrics"},n.prototype.execute=function(){return this.createAttributes(),this.updateValues(),this.defer(this.transaction)},n.prototype.createAttributes=function(){var e;for(e in this.metrics)this.createAttribute(e);return this.createAttribute("metrics::last")},n.prototype.createAttribute=function(e){var t;if(!Attributes.get(e))return t=Attributes.buildMetric(e),this.transaction.create(t)},n.prototype.updateValues=function(){var e,t,n;return n=this.transaction,e=this.metrics,t={silent:!0},this.graph.each(function(r){var i,o,a,s,u;i=r.entity,a=[];for(o in e)u=e[o],s=u[r.cid],(i.getAttr(o)!==s||i.getAttr("metrics::last")!==s)&&(n.scheduleUpdate(i),a.push(i.setMetric(o,s,t)));return a})},n}(KumuCommand),namespace("Commands.Metrics",function(t){return t.Update=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.model=e,t=_.defaults({},t,{classify:!0}),this.summary=function(){switch(t.classify){case!0:return"added "+i18n(this.model.className)+" **"+this.model.toString()+"**";case!1:return"added **"+this.model.toString()+"**"}}.call(this)},n.prototype.execute=function(){return this.model.save().done(function(e){return function(){return e.resolve(e.model)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.undo=function(){return this.model.destroy().done(function(e){return function(){return e.resolve(e.model)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Models",function(t){return t.Create=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.model=e,t=_.defaults({},t,{classify:!0}),this.transaction=new Transaction,this.summary=function(){switch(t.classify){case!0:return"deleted "+i18n(this.model.className)+" **"+this.model.toString()+"**";case!1:return"deleted **"+this.model.toString()+"**"}}.call(this)},n.prototype.execute=function(){return this.transaction.destroy(this.model),this.transaction.execute().done(function(e){return function(){return e.resolve(e.model)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Models",function(t){return t.Destroy=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.map=e,this.from=t,this.to=n,this.summary="connected **"+this.from.getLabel()+"** to **"+this.to.getLabel()+"**"},n.prototype.execute=function(){var e,t;return e=function(e){return function(){var t,n,r;return t=e.from.getElement(),r=e.to.getElement(),n={direction:e.map.getDefaultDirection()},e.connect=new Commands.Elements.Connect(t,r,n),e.connect.execute()}}(this),t=function(e){return function(t){return e.connection=t,e.edge=e.map.edges.add({entity:e.connection}),e.edge.save()}}(this),e().then(t).done(function(e){return function(){return e.resolve(e.connection,e.edge)}}(this)).fail(function(e){return function(){return e.reject("Unable to connect elements")}}(this))},n.prototype.undo=function(){var e,t;return $.when(null!=(e=this.edge)?e.destroy():void 0,null!=(t=this.connection)?t.destroy():void 0).done(function(e){return function(){return e.resolve()
}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Nodes",function(t){return t.Connect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.map=e,this.node=wrap(t,Node)},n.prototype.summary=function(){return"added **"+this.node.getLabel()+"** to **"+this.map.get("name")+"**"},n.prototype.execute=function(){return this.node.getElement().isNew()&&raise("element must already exist"),this.map.nodes.add(this.node),this.node.save().done(function(e){return function(){return e.resolve(e.node)}}(this)).fail(function(e){return function(){return e.map.nodes.remove(e.node),e.reject("Unable to create node")}}(this))},n.prototype.undo=function(){return this.node.destroy().done(function(e){return function(){return e.resolve(e.node)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Nodes",function(t){return t.Create=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.map=e,this.fromNode=t,this.options=null!=n?n:{},this.fromElement=this.fromNode.getElement(),this.transaction=new Transaction},n.prototype.summary=function(){return"connected **"+this.fromNode.getLabel()+"** to **"+this.toNode.getLabel()+"**"},n.prototype.execute=function(){return this.createElement(),this.createNode(),this.createConnection(),this.createEdge(),this.toNode.select(),this.transaction.execute().done(function(e){return function(){return e.resolve(e.toElement,e.connection,e.toNode,e.edge)}}(this)).fail(function(e){return function(){return e.reject("Unable to create connection")}}(this))},n.prototype.createElement=function(){var e,t;return e=this.options.element,e instanceof Element?this.toElement=e:(t=e,this.toElement=Elements.add(),this.toElement.label(t),this.transaction.create(this.toElement))},n.prototype.createNode=function(){var e;return this.map.include(this.toElement)?this.toNode=this.map.nodes.get(this.toElement):(e=_.extend({},this.options.node,{entity:this.toElement}),this.toNode=this.map.nodes.add(e),this.map.isFixed()&&this.toNode.pin(),this.transaction.create(this.toNode))},n.prototype.createConnection=function(){var e,t;return t={direction:this.map.getDefaultDirection()},e=_.extend(t,this.options.connection,{from:this.fromElement,to:this.toElement}),this.connection=Connections.add(e),this.transaction.create(this.connection)},n.prototype.createEdge=function(){var e;return e=_.extend({},this.options.edge,{entity:this.connection,from:this.fromNode,to:this.toNode}),this.edge=this.map.edges.add(e),this.transaction.create(this.edge)},n.prototype.undo=function(){return this.transaction.undo().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Nodes",function(t){return t.CreateAndConnect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){var t,n,r,i,o;for(this.nodes=e,this.transaction=new Transaction,this.originalPositions={},i=this.nodes,o=[],t=0,n=i.length;n>t;t++)r=i[t],o.push(this.originalPositions[r.cid]=r.position.toJSON());return o},n.prototype.summary=function(){return"moved **multiple items**"},n.prototype.execute=function(){var e,t,n,r;for(r=this.nodes,e=0,t=r.length;t>e;e++)n=r[e],n.entity.isVirtual()||this.transaction.update(n,{pinned:!0,position:n.position.toJSON()});return this.executeAsTransaction(this.transaction)},n.prototype.undo=function(){var e,t,n,r,i;for(i=this.nodes,e=0,t=i.length;t>e;e++)n=i[e],r=this.originalPositions[n.cid],n.updatePosition(r.x,r.y);return this.undoTransaction(this.transaction)},n}(KumuCommand),namespace("Commands.Nodes",function(t){return t.SnapTo=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.attributes=_.clone(e),this.name=this.attributes.name},n.prototype.summary=function(){return"added a new view named **"+this.name+"**"},n.prototype.execute=function(){return this.perspective=new Perspective(this.attributes),this.perspective.save().done(function(e){return function(){return Perspectives.add(e.perspective),e.resolve(e.perspective)}}(this)).fail(function(e){return function(){return e.reject("Unable to create view")}}(this))},n.prototype.undo=function(){return this.perspective.destroy().done(function(e){return function(){return e.resolve(e.perspective)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Perspectives",function(t){return t.Create=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){this.perspective=e},n.prototype.summary=function(){return"deleted view **"+this.perspective.get("name")+"**"},n.prototype.execute=function(){return this.perspective.destroy().done(function(e){return function(){return e.resolve(e.perspective)}}(this)).fail(function(e){return function(){return e.reject("Unable to delete view")}}(this))},n.prototype.undo=function(){return this.perspective.restore().done(function(e){return function(){return e.resolve(e.perspective)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Perspectives",function(t){return t.Destroy=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.perspective=e,this.name=t,this.transaction=new Transaction},n.prototype.summary=function(){return"created a new view"},n.prototype.execute=function(){return this.copy=this.perspective.clone(),this.copy.set("name",this.name),this.transaction.create(this.copy),this.transaction.execute().then(function(e){return function(){return Perspectives.add(e.copy),e.resolve(e.copy)}}(this)).fail(function(e){return function(){return e.reject("Unable to duplicate view")}}(this))},n}(KumuCommand),namespace("Commands.Perspectives",function(t){return t.Duplicate=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.summary=function(){return"renamed view **"+this.orig("name")+"** to **"+this.val("name")+"**"},n}(Commands.Models.Update),namespace("Commands.Perspectives",function(t){return t.Rename=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.summary=function(){return"updated "+i18n("perspective")+" **"+this.orig("name")+"**"},n}(Commands.Models.Update),namespace("Commands.Perspectives",function(t){return t.Update=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.transaction=new Transaction,this.summary="wiped the project"},n.prototype.execute=function(){var e;return e=this.transaction,e.destroy(Perspectives),Maps.each(function(t){return e.destroy(t.labels),e.destroy(t.edges),e.destroy(t.nodes),e.destroy(t)}),e.destroy(Loops),e.destroy(Connections),e.destroy(Elements),e.destroy(Attributes.where({core:!1})),e.update(Settings,function(){return Settings.reset()}),e.execute().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Project",function(t){return t.Wipe=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t,n){return this.project=e,this.prop=t,this.value=n,_.isObject(this.prop)?(this.attrs=this.prop,this.summary="updated the project's settings"):(this.attrs={},this.attrs[this.prop]=this.value,this.summary="updated the project's **"+this.prop+"**")},n.prototype.execute=function(){return this.memento=this.project.toMemento(),this.project.save(this.attrs).done(function(e){return function(){return e.resolve(e.project)}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n.prototype.undo=function(){return this.memento.restore(),this.project.save().done(function(e){return function(){return e.resolve()}}(this)).fail(function(e){return function(){return e.reject()}}(this))},n}(KumuCommand),namespace("Commands.Projects",function(t){return t.Update=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.project=e,this.name=t,n.__super__.initialize.call(this,this.project,"name",this.name),this.summary="renamed project to **"+this.name+"**"},n}(Commands.Projects.Update),namespace("Commands.Projects",function(t){return t.Rename=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e,t){return this.selector=e,this.value=t,n.__super__.initialize.call(this,Settings)},n.prototype.summary=function(){return"updated attribute relevance for **"+this.selector+"**"},n.prototype.update=function(){return Settings.relevance.set(this.selector,this.value),Settings.set("relevance",Settings.relevance.toJSON())},n}(Commands.Models.Update),namespace("Commands.Settings",function(t){return t.UpdateAttributeRelevance=e})}.call(this),function(){var e,t,n,r;r=1,n=function(){function n(e){this.id=r++,this.registry={},this.operations=[],this.hooks={beforeExecute:[]},this.executed=!1,this.local=e&&e.local,this.undoable=!0}return n.pouch=void 0,n.batch=function(){return BackbonePouchDB.batch(_.result(n,"pouch"))},n.prototype.beforeExecute=function(e){return this.hooks.beforeExecute.push(e)},n.prototype.create=function(e,t){return this._each("create",e,t)},n.prototype.update=function(e,t){return this._each("update",e,t)},n.prototype.destroy=function(e,t){return this._each("destroy",e,t)},n.prototype.scheduleUpdate=function(e,t){return this.get(e)?void 0:this.update(e,t)},n.prototype._each=function(e,t,n){var r,i,o,a,s,u;if(o=this[e+"Model"],t instanceof Backbone.Model)o.call(this,t,n);else for(u=(null!=(s=t.models)?s.slice(0):void 0)||t,r=0,i=u.length;i>r;r++)a=u[r],o.call(this,a,n);return this},n.prototype.createModel=function(e,t){return this.add("create",e,t)},n.prototype.updateModel=function(e,t){var n;return null!=t&&(n={},t instanceof Backbone.Memento?n.memento=t:_.isFunction(t)?n.update=t:n.attributes=t),this.add("update",e,n)},n.prototype.destroyModel=function(e,t){return this.add("destroy",e,t)},n.prototype.add=function(t,n,r){var i;return i=t instanceof e?t:new e(t,n,r),this.register(i),this.operations.push(i),this.length=this.operations.length,this},n.prototype.register=function(e){var t,n;return n=e.model.cid,t=this.registry[n],t?raise("TransactionError: Conflicting transaction"):this.registry[n]=e},n.prototype.get=function(e){return this.registry[e]||this.registry[e.cid]},n.prototype.include=function(e){return null!=this.get(e)},n.prototype.find=function(e){return this.operations.find(e)},n.prototype.execute=function(){var e,n,r,i;return this.promise?this.promise:(log.debug("Executing transaction",this),i=this,e=new $.Deferred,n=function(){return log.debug("Transaction complete",i),e.resolve.apply(e,arguments)},r=function(t){return log.error("Transaction failed",i),log.error.apply(log,arguments),i.undo().always(function(){return e.reject.apply(e,arguments)}),t?Workflows.onErrorResponse(t):void 0},this.hooks.beforeExecute.forEach(function(e){return e(i,i.operations)}),this.request=new t(this,{local:this.local}),this.request.apply(),this.executed=!0,this.isValid()?this.request.finalize().then(n,r):(this.undo(),e.reject()),this.promise=e.promise())},n.prototype.isValid=function(){return this.validate(),void 0===this.validationErrors},n.prototype.isEmpty=function(){return 0===this.operations.length},n.prototype.validate=function(){var e,t,n,r,i,o;for(e=[],o=this.operations,t=0,n=o.length;n>t;t++)i=o[t],r=i.model,r.isValid()||e.push([r,r.validationError]);return 0===e.length?this.validationErrors=void 0:(this.validationErrors=e,log.error("Transaction invalid",this,e))},n.prototype.abort=function(){return this.undo()},n.prototype.rollback=function(){return this.undo()},n.prototype.undo=function(){var e,n,r,i;return this.undoPromise?this.undoPromise:(log.debug("Rolling back transaction",this),i=this,e=function(){return log.debug("Rollback complete",i)},n=function(){return alert("Unable to undo changes. Please refresh to continue."),log.error("Rollback failed",i),log.error.apply(log,arguments)},this.undoRequest=new t(this,{action:"undo",local:this.local||!(null!=(r=this.request)?r.received:void 0)}),this.undoPromise=this.undoRequest.execute().then(e,n))},n.prototype.undoLocally=function(){var e,t,n;for(n=this.operations,e=n.length-1;e>=0;e+=-1)t=n[e],t.undo();return void 0},n}(),t=function(){function e(e,t){this.transaction=e,this.options=_.defaults({},t,this.defaults),this.batches=[],this.applied=!1,this.finalized=!1,this.sent=!1,this.received=!1}return e.prototype.defaults={action:"execute",limit:1e3,local:!1},e.prototype.execute=function(){return this.apply(),this.finalize()},e.prototype.apply=function(){var e,t,r,i,o,a,s,u,l;for(this.applied=!0,i=0,e=this.options.action,o="execute"===e?1:-1,l=this.transaction.operations,u=o,u>0?(r=0,a=l.length):r=l.length-1;u>0?a>r:r>=0;r+=u)s=l[r],i++%this.options.limit===0&&this.batches.push(t=n.batch()),s[e].call(s,t);return void 0},e.prototype.finalize=function(){return this.finalized=!0,null!=this.promise?this.promise:this.promise=this.options.local?$.when(!0):this.send()},e.prototype.send=function(){return this.sent=!0,this.batchIndex=0,this.next()},e.prototype.next=function(){var e,t,n;return n=this,this.batchIndex>=this.batches.length?$.when(!0):(t=0===this.batchIndex?0:1e3,e=this.batches[this.batchIndex++],this.delay(t).then(function(){return e.send()}).then(function(){return n.received=!0,n.next()}))},e.prototype.delay=function(e){var t;return t=new $.Deferred,setTimeout(function(){return t.resolve()},e),t.promise()},e}(),e=function(){function e(e,t,n){var r;this.action=e,this.model=t,this.options=null!=n?n:{},this.executed=!1,this.undone=!1,this.memento=this.options.memento,"update"===this.action&&null==this.memento&&(this.memento=this.model.toMemento()),this.collection=null!=(r=this.options.collection)?r:this.model.collection,this.attributes=this.options.attributes,this.update=this.options.update,this.apply()}return e.prototype.apply=function(){var e;switch(this.action){case"update":if(null!=this.attributes&&this.model.set(this.attributes),null!=this.update)return this.update(this.model);break;case"destroy":return null!=(e=this.collection)?e.remove(this.model):void 0}},e.prototype.id=function(){return this.model.cid},e.prototype.empty=function(){return"update"===this.action&&this.model.isSynced()},e.prototype.execute=function(e){return this.empty()?void log.warn("Empty update",this):(this.synced(e,function(){switch(this.action){case"create":case"update":return this.model.save();case"destroy":return this.model.destroy()}}),this.request=e.get(this.model),this.executed=!0)},e.prototype.undo=function(e){var t;return t=e&&this.request&&this.request.response&&!this.request.response.error?e:n.nosync,this.synced(t,function(){var e;switch(this.action){case"create":return this.model.destroy();case"update":if(this.memento.restore(),!this.model.isNew())return this.model.save();break;case"destroy":return this.model.restore(),null!=(e=this.collection)?e.add(this.model):void 0}}),this.undone=!0},e.prototype.synced=function(e,t){var n;return Backbone.synced(this.model,null!=(n=e.sync)?n:e,t.bind(this))},e}(),n.nosync=function(e,t,n){var r,i,o;return null==n&&(n={}),o={},r=new $.Deferred,i=r.promise(),t.trigger("request",t,i,n),"function"==typeof n.success&&n.success(o),r.resolve(t,o,n),i},namespace("window",function(e){return e.Transaction=n})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){return this.project=e,this.transaction=new Transaction},n.prototype.summary=function(){return"emptied the trash"},n.prototype.execute=function(){var e,t;return this.removeOrphanedComponents(),this.removeOrphanedEntities(),e=function(e){return function(){return e.resolve()}}(this),t=function(e){return function(){return e.reject()}}(this),this.transaction.execute().then(e,t)},n.prototype.removeOrphanedComponents=function(){return this.removeOrphanedEdges()},n.prototype.removeOrphanedEdges=function(){var e,t,n,r,i,o,a,s;for(a=Maps.models,t=0,r=a.length;r>t;t++)for(o=a[t],s=o.orphans(),n=0,i=s.length;i>n;n++)e=s[n],this.transaction.destroy(e);return void 0},n.prototype.removeOrphanedEntities=function(){var e,t,n,r,i;for(r=this.project.orphans(),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(this.transaction.destroy(e));return i},n}(KumuCommand),namespace("Commands.Trash",function(t){return t.Empty=e})}.call(this),function(){var e;e=function(e,t,n,r){return execute(new Commands.Forms.Connect(e,t,n,r))},namespace("Workflows",function(t){return t.addConnection=e})}.call(this),function(){var e;e=function(e,t,n,r){var i,o,a;return _.isString(t)&&(o=t,t=Elements.find(o,n)),t&&(a=e.find(t))?(getMap().select(a,{zoomFit:!0}),$.when(t,a)):(i=new Commands.Forms.Create(e,t||o,n,r),execute(i).done(function(e,t){return MapController.select(t)}))},namespace("Workflows",function(t){return t.addElement=e})}.call(this),function(){Workflows.addLens=function(e){return When.promise(function(t){var n;return e=wrap(e,Lens),n=new Views.Decorations.Modal({model:e}),n.on("submit",function(r){var i;return n.hide(),e.set(r),i=currentScene.style.lenses,i.include(e)||i.add(e),map.refresh(),t(e)}),n.show()})}}.call(this),function(){var e;e=function(e){var t,n,r,i,o;return i=e.map,r=e.label,o=e.type,n=e.connections,t={connection_ids:_.pluck(n,"id"),attributes:{label:r,"loop type":o}},execute(new Commands.Loops.CreateAndPlace(i,t)).done(function(e,t){return getMap().select(t)})},namespace("Workflows",function(t){return t.addLoop=e})}.call(this),function(){var e;e=function(){return Workflows.createMap()},namespace("Workflows",function(t){return t.addMap=e})}.call(this),function(){var e,t;e=function(){return prompt("View name",function(e,t){var n,r;return t?(r=new Perspective({name:t}),n=new Commands.Models.Create(r),execute(n).done(function(e){return Perspectives.add(e),router.navigate(urlFor({perspective:e}),{trigger:!0}),Workflows.editPerspective(e)}).fail(function(){return alert("Unable to add view")})):void 0})},t=function(){return Workflows.promptIfViewNotSaved().then(function(t){return t&&e()})},namespace("Workflows",function(e){return e.addPerspective=t})}.call(this),function(){var e;e=function(e){var t;return t=function(t){var n;return n=new Commands.Elements.AddImage(e,t),execute(n).then(null,function(){return alert("Unable to update image")})},prompt("Image URL").then(t)},namespace("Workflows",function(t){return t.addProfileImage=e})}.call(this),function(){Workflows.alert=function(e,t){var n;return n='<div class="alert">\n  <h1>'+e+"</h1>\n  <p>"+t+"</p>\n</div>",$.magnificPopup.open({items:{src:n,type:"inline"}})}}.call(this),function(){var e,t,n,r,i;Workflows.clean=function(){return Workflows.preloadMaps().then(function(){var r,i,o,a,s,u;return r=e(Maps.collect(function(e){var t;return null!=(t=e.graph)?t.componentsWithoutEntities:void 0})),a=[],o=e(Maps.collect(function(e){var t;return null!=(t=e.graph)?t.orphans:void 0}),Maps.collect(function(e){return e.edges.filter(t)})),s=e(Maps.collect(function(e){return e.nodes.filter(n)})),i=Connections.reject(function(e){return e.from&&e.to}),log.warn("Cleaning orphaned components",r),log.warn("Cleaning orphaned labels",a),log.warn("Cleaning orphaned edges",o),log.warn("Cleaning orphaned nodes",s),log.warn("Cleaning orphaned connections",i),u=new Transaction,u.summary="cleaned the project",u.destroy(r),u.destroy(a),u.destroy(o),u.destroy(s),u.destroy(i),u})},t=function(e){return i(e)||r(e)},n=function(e){return r(e)},i=function(e){return!e.from||!e.to},r=function(e){return!e.entity},e=function(){return _.chain(arguments).flatten().compact().uniq().value()}}.call(this),function(){Workflows.cluster=function(){return map.showSettingsForm("cluster")}}.call(this),function(){Workflows.connectAll=function(e){var t,n;return n=map.getSelectedNodes(),n.length<2?alert("Please select at least two elements"):(t=new Commands.Maps.ConnectAll(currentMap,n,e),execute(t).then(function(e,t){return map.select(t)}).fail(function(){return alert("Unable to add connections")}))}}.call(this),function(){var e;e=function(e,t,n){var r,i,o,a,s;return null==n&&(n={}),i=new $.Deferred,r={type:"embed",map:e.id,perspective:null!=t?t.id:void 0},n.includeSelection&&(r.selection=router.getSelectionIdentifier()),n.includeOverview&&(r.overview=!0),n.preserveScene&&(r.scale=null!=(o=e.scene)?o.scale:void 0,r.translation=null!=(a=e.scene)?a.translation.toJSON():void 0),s=new Token(r),s.project=currentProject,s.save().done(function(){return currentProject.tokens.add(s),i.resolve(s)}).fail(function(){return i.reject()}),i.promise()},namespace("Workflows",function(t){return t.createEmbedToken=e})}.call(this),function(){Workflows.deleteLens=function(e){return When.promise(function(t){return e.destroy(),map.refresh(),t(currentPerspective)})}}.call(this),function(){var e;e=function(e){return null==e&&(e=currentMap),confirm("Delete map "+e.get("name")+"?")?execute(new Commands.Maps.Destroy(e)).fail(function(){return function(){return alert("Unable to delete map")}}(this)):void 0},namespace("Workflows",function(t){return t.deleteMap=e})}.call(this),function(){var e;e=function(e){var t,n,r,i;return null==e&&(e=currentPerspective),confirm("Are you sure you want to delete this view?")?(t=new Commands.Models.Destroy(e),i=e===currentPerspective,n=function(){var t;return i&&(t=urlFor({perspective:null}),router.navigate(t,{trigger:!0})),e},r=function(){return alert("Unable to delete view")},execute(t).then(n,r)):void 0},namespace("Workflows",function(t){return t.deletePerspective=e})}.call(this),function(){Workflows.deleteProject=function(e){return e.destroy().done(function(){return function(){return Workflows.redirectToDashboard(e)}}(this)).fail(function(){return function(){return alert("Unable to delete project")}}(this))}}.call(this),function(){var e;e=function(){var e,t;return map.resetInteraction(),t=map.getSelection(),0!==t.length&&confirm("Are you sure you want to delete the selected items?")?(e=new Commands.Components.Destroy(t),map.resetSelection(),map.resetShowcase(),execute(e)):void 0},namespace("Workflows",function(t){return t.deleteSelection=e})}.call(this),function(){Workflows.detectCommunities=function(e){var t,n,r,i,o;return null==e&&(e={}),t=e.communityAttribute,n=map.getGraph(),r=n.toKraken({communityAttr:t}),o={t:e.t,r:e.r},i=Op("detectCommunities"),i.on("progress",function(e){return console.log("Community detection progress "+Math.round(100*e)+"%")}),i.exec({network:r,options:o}),i.then(function(t){var r,i,o,a,s,u,l,c,p;for(p={best:{},byCommunity:{},byElement:{},communities:[]},l={},n.nodes.each(function(e){var n,r,i,o,a,s,u;p.byElement[e.entity.cid]=t[e.cid],a=t[e.cid];for(o in a)u=a[o],null==(n=p.byCommunity)[o]&&(n[o]={}),p.byCommunity[o][e.entity.cid]=u;r=void 0,i=0,s=t[e.cid];for(o in s)u=s[o],u>i&&(r=o,i=u);return p.best[e.entity.cid]=r,r?(null==l[r]&&(l[r]=[]),l[r].push(e.entity.cid)):void 0}),u=function(e){var t;return(null!=(t=l[e])?t.length:void 0)||0},r=Object.keys(l),e.minimumCommunitySize>1&&(r=r.filter(function(t){return u(t)>=e.minimumCommunitySize})),r.sort(function(e,t){return u(t)-u(e)}),o=0,s=r.length;s>o;o++)a=r[o],c=isNaN(a)?a:void 0,i={id:a,name:c,rank:p.communities.length+1,members:l[a]},p.communities.push(i);return p})["catch"](function(e){return log.error("Unable to run community detection"),log.error(e),alert("Unable to run community detection")})}}.call(this),function(){var e;e=function(){var e;return e=new Commands.Models.Update(Settings,"proxy_images",!1),e.summary="**disabled** the image proxy",execute(e).then(function(){return notice("Image proxy has been disabled")})},namespace("Workflows",function(t){return t.disableImageProxy=e})}.call(this),function(){Workflows.dump=function(){var e;return e=new Exports.Exporters.BlueprintExporter,e.exportBlueprint()}}.call(this),function(){var e,t;e=function(e){var t;return null==e&&(e=currentMap),t=e.get("name")+" (copy)",prompt("Map Name",t).then(function(t){var n;return n=new Commands.Maps.Duplicate(e,t),execute(n).done(function(e){var t;return t=urlFor({map:e}),router.navigate(t,{trigger:!0})}).fail(function(){return alert("Unable to duplicate map")})})},t=function(t){return Workflows.promptIfViewNotSaved().then(function(n){return n&&e(t)})},namespace("Workflows",function(e){return e.duplicateMap=t})}.call(this),function(){var e,t;e=function(e){var t;return null==e&&(e=currentPerspective),t=e.get("name")+" (copy)",prompt("View name",t).then(function(t){var n,r,i;return n=new Commands.Perspectives.Duplicate(e,t),r=function(e){var t;return t=urlFor({perspective:e}),router.navigate(t,{trigger:!0}),Workflows.editPerspective(e),e},i=function(){return alert("Unable to copy view")},execute(n).then(r,i)})},t=function(t){return Workflows.promptIfViewNotSaved().then(function(n){return n&&e(t)})},namespace("Workflows",function(e){return e.duplicatePerspective=t})}.call(this),function(){Workflows.editLens=Workflows.addLens}.call(this),function(){var e;e=function(e){return null==e&&(e=currentPerspective),e.trigger("edit")},namespace("Workflows",function(t){return t.editPerspective=e})}.call(this),function(){var e;e=function(){var e;return e=new Commands.Models.Update(Settings,"proxy_images",!0),e.summary="**enabled** the image proxy",execute(e).then(function(){return notice("Image proxy has been enabled")})},namespace("Workflows",function(t){return t.enableImageProxy=e})}.call(this),function(){var e,t,n;n=function(n,r){var i,o,a,s;if(null==n&&(n="xlsx"),Export.isSupported()&&able.to("create","exports")){switch(map.busy("Generating export...",{wait:!1}),n){case"xlsx":s="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",i="base64",a=t(n);break;case"blueprint":s="application/json;charset=utf-8",a=t("json")}return o=function(e){return map.busy(!1),console.error("Unable to generate export"),console.error(e),alert("Unable to generate export. Please email support@kumu.io for help.")},When().delay(1e3).then(function(){return Export.build(e(r),n,i)}).then(function(e){return map.busy(!1),notice("Export ready, download will begin shortly"),download(e,{filename:a,type:s,encoding:i})}).then(null,o)}return alert("Exports not supported, please upgrade your browser")},e=function(e){var t,n,r;return r=map.getEntitySelection(),t=r.length?r.toDataset():map.getDataset(),n=new Export.Manifest(t,e),n.toJSON()},t=function(e){var t,n;return n=["kumu",currentProject.owner.slug(),currentProject.slug()],t=n.join("-"),t+"."+e},namespace("Workflows",function(e){return e["export"]=n})}.call(this),function(){Workflows.lightbox=function(e,t,n){return null==n&&(n={}),n={items:{src:e,type:t}},n.full&&(n.mainClass="mfp-full"),$.magnificPopup.open(n)}}.call(this),function(){var e,t;t=function(){return map.busy(!1)},e=function(){var n;return n={simple:!0,type:"password",placeholder:"Password",message:"Sorry! Your session has expired. Please enter your password to sign in."},prompt(n).then(function(n){var r;return map.busy(),r={username:currentUser.get("username"),password:n},$.post("/sessions",r,null,"json").then(t,e)})},Workflows.login=function(){return e()}}.call(this),function(){var e;e=function(e){var t;return null==e&&(e=currentMap),t=new Commands.Maps.MakeDefault(e),execute(t).fail(function(){return alert("Unable to save settings. Please try again.")})},namespace("Workflows",function(t){return t.makeDefaultMap=e})}.call(this),function(){Workflows.makeDefaultPerspective=function(e,t){var n;return null==e&&(e=Settings),null==t&&(t=currentPerspective),n=new Commands.Models.Update(e,"default_perspective_id",null!=t?t.id:void 0),e===Settings&&(n.summary="changed the default project view"),execute(n).fail(function(){return alert("Unable to update the default view. Please try again.")})}}.call(this),function(){var e;e=function(e){var t;return t=new Commands.Maps.MakeDefaultView(e),execute(t).fail(function(){return alert("Unable to update map. Please try again.")})},namespace("Workflows",function(t){return t.makeDefaultView=e})}.call(this),function(){var e;e=function(){return sidebar.push(new Views.Attributes.Index)},namespace("Workflows",function(t){return t.manageAttributes=e})}.call(this),function(){var e;e=function(){return Modal.open("members")},namespace("Workflows",function(t){return t.manageMembers=e})}.call(this),function(){function e(e,t){var n=_.union(e.get("values"),t.get("values")),r=e.get("locked")||t.get("locked");e.set({values:n,locked:r})}Workflows.mergeDuplicateCoreAttributes=function(){var t=new Transaction,n=Attributes.where({core:!0});return _.each(n,function(r){t.get(r)||_.each(n,function(n){if(r!==n&&r.slug()===n.slug()){var i=r.toMemento();e(r,n),i.hasChanged()&&t.update(r),t.destroy(n),Attributes.remove(r,{silent:!0}),Attributes.add(r,{silent:!0})}})}),able.to("manage","attributes")&&!t.isEmpty()&&t.execute(),t}}(),function(){Workflows.onErrorResponse=function(e){var t,n;switch(e.status){case 401:return log.error("Session expired"),Workflows.login();case 503:return log.error("Down for maintenance"),n="Down for maintenance",t="Sorry, we weren't able to save your recent changes. Please try again in a few minutes.",Workflows.alert(n,t)}}}.call(this),function(){var e;Workflows.onLayoutChange=function(t){switch(t){case"static":return e()}},e=function(){return swal({type:"warning",title:"Pin elements?",text:"Would you like to permanently pin all elements in place?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, pin elements!",cancelButtonText:"Leave em"},function(){return Workflows.pinAll()
})}}.call(this),function(){var e;e=function(e){var t,n,r;return null==e&&(e=!0),t=e?"pin":"float",r=map.getSelection().pinnables(),0===r.length?alert("Please select the items to "+t):(n=new Commands.Components.Pin(r,e),execute(n).fail(function(){return alert("Unable to "+t+" selection")}))},namespace("Workflows",function(t){return t.pin=e})}.call(this),function(){Workflows.pinAll=function(){var e;return e=new Commands.Components.Pin(map.getNodes(),!0),e.summary="**pinned** all elements",execute(e).fail(function(){return alert("Unable to pin elements")})}}.call(this),function(){Workflows.preloadMaps=function(){return When.all(Maps.invoke("load"))}}.call(this),function(){Workflows.publishPresentation=function(e,t){function n(){return log.debug("Attaching blueprint"),Workflows.dump().then(r).then(function(t){log.debug("Blueprint saved to",t.url()),e.set("blueprint",t.id)})}function r(e){return delete e.name,delete e.description,Drive.uploadJSON(e)}function i(){return e.uploadSlides()}function o(){return e.save()}function a(){return Publications.publish(e)}return e.set(_.pick(t,"private","token","password")),n().then(i).then(o).then(a).then(function(){log.debug("Presentation published")}).then(null,function(e){log.error(e),raise("Unable to publish presentation")})}}(),function(){Workflows.redirectToDashboard=function(e){var t;return null==e&&(e=currentProject),t=e.owner.dashboardUrl(),redirect(t)}}.call(this),function(){Workflows.redirectToProject=function(){return currentProject.fetch().then(function(){return window.redirect(currentProject.get("url"))})}}.call(this),function(){Workflows.renameMap=function(e){return null==e&&(e=currentMap),prompt("New map name",e.get("name")).then(function(t){var n;return n=new Commands.Maps.Rename(e,t),execute(n).fail(function(){return alert("Unable to rename map. Please try again.")})})}}.call(this),function(){Workflows.renamePerspective=function(e){return null==e&&(e=currentPerspective),prompt("New view name",e.get("name")).then(function(t){var n;return n=new Commands.Perspectives.Rename(e,"name",t),execute(n).fail(function(){return alert("Unable to rename view. Please try again.")})})}}.call(this),function(){Workflows.renameProject=function(e){var t;return t=new Commands.Projects.Rename(currentProject,e),t.execute().done(Workflows.redirectToProject).fail(function(){return alert("Unable to rename project")})}}.call(this),function(){var e;e=function(){var e;return e=map.getEntitySelection(),0===e.length?alert("Please select the items to rename"):prompt("Rename to").then(function(t){var n;return n=new Commands.Entities.Rename(e,t),execute(n).fail(function(){return alert("Unable to rename selection. Please try again.")})})},namespace("Workflows",function(t){return t.renameSelection=e})}.call(this),function(){Workflows.restorePerspective=function(){return map.revertView()}}.call(this),function(){var e;e=function(){var e,t;return t=map.getSelection().getConnections(),0===t.length?alert("Please select the connections to reverse"):(e=new Commands.Connections.Reverse(t),execute(e).fail(function(){return alert("Unable to reverse connection")}))},namespace("Workflows",function(t){return t.reverseConnectionDirection=e})}.call(this),function(){Workflows.runAllMetrics=function(e){var t,n,r,i,o,a,s;return n=When.defer(),o=n.promise,_.extend(o,Backbone.Events),t=0,i=Metrics.all,a={},r=function(){return t+=1,o.trigger("progress",t/i.length),!0},s=i.map(function(t){var n;return n=function(){return Workflows.runMetric(e,t).then(function(e){return _.extend(a,e)}).then(r)}}),When.sequence(s).then(function(){return n.resolve(a)},n.reject),o}}.call(this),function(){var e;e=function(e,t){var n;return n={},n.nodeWeighted=!!t.nodeWeightAttr,n.edgeWeighted=!!t.edgeWeightAttr,n.weighted=t.weighted||n.nodeWeighted||n.edgeWeighted,n.order=t.order,n},Workflows.runMetric=function(t,n,r){var i,o,a;return null==r&&(r={}),console.debug("Run metric",n),i=t.toKraken(r),a=e(n,r),o=Op("calculateMetric"),o.exec({network:i,metric:n,options:a}).then(function(e){return log.debug(n+" results"),log.debug(e),Metrics.adjust(t,n,e,a,i),e})["catch"](function(e){return log.error("Unable to run metric "+n),log.error(e),alert("Unable to run metric "+n)}),o}}.call(this),function(){Workflows.saveCommunities=function(e){var t,n,r,i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,_,x,E,k;for(x=e.settings,w=e.results,n=x.communityAttribute||"Community",a=x.communityLimit,k=new Transaction({local:!1}),k.summary="saved communities to "+n,t=Attributes.findOrAddByName(n),r=[],k.update(currentMap,{communityData:CommunityHelper.dump(e)}),v=w.communities,c=u=0,h=v.length;h>u&&(y=v[c],l=y.id,g=y.rank,m=y.name,d=y.members,!a||c!==a);c=++u)if(m=m||String(g),r.push(m),d)for(_=function(e){return e.setAttr(t,m)},p=0,f=d.length;f>p;p++)i=d[p],s=Elements.get(i),k.update(s,_);o=function(e){return e.unsetAttr(t)},b=w.byElement;for(i in b)E=b[i],s=Elements.get(i),k.include(s)||k.update(s,o);return k.update(t,{values:[]}),execute(k)}}.call(this),function(){Workflows.savePerspective=function(e,t){var n,r;return null==e&&(e=currentPerspective),null==t&&(t={style:map.getStyle()}),e.virtual?(r=t instanceof Backbone.Memento?e.get("style"):t.style,n=new Commands.Maps.Update(currentMap,{style:r}),n.summary="updated the map's style"):n=new Commands.Perspectives.Update(e,t),execute(n).fail(function(){return alert("Unable to save changes")})}}.call(this),function(){Workflows.saveToNewPerspective=function(){var e;return e=null,prompt("New view name").then(function(t){var n,r;return n=map.getStyle(),e=Perspectives.add({name:t,style:n}),r=new Transaction,r.summary="created view **"+t+"**",r.create(e),execute(r).then(function(){return router.navigateTo({perspective:e})}).then(null,function(){return alert("Unable to create view")})})}}.call(this),function(){Workflows.saveToPerspective=function(){return Workflows.savePerspective(currentPerspective,{style:map.getStyle()})}}.call(this),function(){Workflows.setCurrentMapSource=function(e){var t,n,r,i,o;return MapController.busy({wait:!1}),t=currentMap.get("name"),r=/auth:googlesheets/.test(e)?"a private google sheet":e,i=new Transaction,i.undoable=!0,i.summary="linked **"+t+"** to **"+r+"**",i.update(currentMap,{src:e}),n=function(){return MapController.reload()},o=function(){return MapController.busy(!1),swal({type:"error",title:"Unable to link map",text:"Sorry, we weren't able to link this map. Please email support@kumu.io for help."})},execute(i).then(n,o)}}.call(this),function(){Workflows.toggleProjectPrivacy=function(){var e;return e=currentProject.isPrivate(),currentProject.save({"private":!e}).done(Workflows.redirectToProject).fail(function(){return alert("Unable to convert project")})}}.call(this),function(){Workflows.transferProject=function(e){return currentProject.save({account_id:e}).done(Workflows.redirectToProject).fail(function(){return alert("Unable to transfer project")})}}.call(this),function(){Workflows.unsetCurrentMapSource=function(){var e,t;return map.busy({wait:!1}),e=currentMap.get("src"),t=new Transaction,t.summary="unlinked this map",t.update(currentMap,{src:void 0}),execute(t).then(function(){return/^auth:/.test(e)&&currentProject.authorizations.destroy(e),swal({type:"success",title:"Map unlinked successfully",text:"Please wait while the page is refreshed...",showConfirmButton:!1}),map.busy({wait:!1}),window.location.reload()}).then(null,function(){return alert("Unable to update map source")})}}.call(this),function(){Workflows.updateAttribute=function(e,t){var n,r;return n=t.name,t=_.omit(t,"name"),r=new Commands.Models.Update(e,t),execute(r).then(function(){var t;if(n&&n!==e.get("name"))return t=new Commands.Attributes.Update(e,"name",n),execute(t)}).then(function(){return e})}}.call(this),function(){var e;e=function(e,t){var n,r;return r=Settings.relevance.get(e),_.isEqual(t,r)?$.never():(n=new Commands.Settings.UpdateAttributeRelevance(e,t),execute(n))},namespace("Workflows",function(t){return t.updateAttributeRelevance=e})}.call(this),function(){Workflows.updateAttributeValue=function(e,t,n){var r,i,o,a,s,u,l,c,p;for(e=Attributes.resolve(e),r=e.singularize().toLowerCase(),l=new Transaction,l.summary="renamed "+r+" **"+t+"** to **"+n+"**",(p=e.get("values"))&&(a=p.indexOf(t),a>=0&&(p=p.slice(),p[a]=n,l.update(e,{values:p}))),c=function(t){return t.setAttr(e,n)},u=currentProject.entities(),o=0,s=u.length;s>o;o++)i=u[o],i.getAttr(e)===t&&l.update(i,c);return execute(l)}}.call(this),function(){var e;e=function(e){var t,n;return n=map.getSelection().getConnections(),0===n.length?alert("Please select the connections to update"):(t=new Commands.Connections.Update(n,"direction",e),execute(t).fail(function(){return alert("Unable to update connection directions")}))},namespace("Workflows",function(t){return t.updateConnectionDirection=e})}.call(this),function(){Workflows.updateMetric=function(e,t){var n,r;return n=map.getGraph(),r="all"===e?Workflows.runAllMetrics(n):Workflows.runMetric(n,e,t),r.then(function(e){var t,r;return r=!able.to("manage","attributes"),t=new Commands.Metrics.Update(n,e,{local:r}),r?t.execute():execute(t)}),r}}.call(this),function(){var e,t,n,r,i,o;e=_(["ready","invalid","filtered","visible","visibility","circle","radius","innerRadius","outerRadius","diameter","imageProxied"]),i=/(^draw|Visible$)/,r=function(t){return i.test(t)||e.include(t)},o=function(e){return null!=e&&!_.isObject(e)},n=function(e){var t;return t=(null!=e?e.effective:void 0)?currentScene.style.compile():currentScene.style,t.toStyleSheet()},t=function(e,t){var n,i,a,s,u,l,c;for(c=(null!=t?t.effective:void 0)?e.display:e.style,s=_.keys(c).sort(),a=[],n=0,i=s.length;i>n;n++)u=s[n],l=c[u],o(l)&&!r(u)&&a.push(u.dasherize()+": "+l);return a.join("\n")},Workflows.viewSource=function(e){var r,i;return r=map.getSelection(),i=0===r.length?n(e):t(r.first(),e),i="<pre><code>"+i+"</code></pre>",Workflows.lightbox(i,"inline")}}.call(this),function(){var e;e=function(){return execute(new Commands.Project.Wipe)},namespace("Workflows",function(t){return t.wipe=e})}.call(this),function(){concern("MapViewConcerns","Selection",function(){var e;return e=function(e){return function(){var t,n,r;return e.model.selection.isEmpty()?void e.sidebar.popSelectionView():(n=e.model.selection.toEntitySelection(),t=n.first(),r=1===n.length?new Views.Profiles[t.className]({model:t}):new Views.Profiles.Multiple({model:n}),e.sidebar.pushSelectionView(r))}}(this),this.on("change:mode",e),this.model.selection.on("add",function(e){return e.select()}),this.model.selection.on("remove",function(e){return e.deselect()}),this.model.selection.on("destroy",_.debounce(e,100)),this.model.selection.on("reset",function(e,t){var n,r,i,o,a,s,u,l;for(s=t.previousModels,n=0,i=s.length;i>n;n++)a=s[n],a.deselect();for(u=e.models,l=[],r=0,o=u.length;o>r;r++)a=u[r],l.push(a.select());return l}),this.select=function(t,n){var r,i,o,a,s,u,l,c,p,h,f,d,m,g,v;if(null==n&&(n={}),_.defaults(n,{reset:!0,profile:!0}),_.isString(t)&&(g=t),v=null!=(p=null!=(h=n.zoomFit)?h:n.focus)?p:!1,u=null!=(f=null!=(d=n.extendFocus)?d:n.extend)?f:!1,":orphan"===g&&(u=!1),this.model.set("selector",g),s=u?"primary":"visible",a=this.componentsForSelection(s,t),u&&this.isFocused()){if(m=[],g)m.push({root:g});else for(l=0,c=a.length;c>l;l++)o=a[l],m.push({root:o});this.extend(m)}return n.toggle?(i=_.difference(this.model.selection.models,a),r=_.difference(a,this.model.selection.models),this.model.selection.reset([].concat(i,r))):n.reset?this.model.selection.reset(a):this.model.selection.add(a),t=this.model.selection.clone(),n.profile&&e(),v&&a.length>0&&When().delay(100).then(function(){return map.zoomFitOnSelection({neighbors:t.includeLabel()})}),t},this.deselect=function(t){return this.model.selection.remove(t),e()},this.resetSelection=function(){return this.model.unset("selector"),this.model.selection.length>0?(sidebar.popSelectionView(),this.model.selection.reset()):void 0},this.reveal=function(e,t){var n,r;return t=_.defaults({},t,{focus:!1}),n=this.visibleComponentsForSelection(e),r=_.every(n,function(e){return e instanceof Label}),this.model.revealed.reset(n),this.model.revealed.length>0&&(map.cancelZoomFit(),map.zoomFitOnSelection(this.model.revealed,{neighbors:r}),map.showcase(n,t)),e},this.resetReveal=function(){return this.model.revealed.reset(),map.showcase()},this.selectByLabel=function(e){var t;return t=Selector.prepare('[label="{{label}}"]',{label:e}),this.select(t)},this.visibleComponentsForSelection=function(e){return this.componentsForSelection("visible",e)},this.componentsForSelection=function(e,t){var n,r,i,o;return i=currentScene.graphs[e],_.isString(t)?(o=t,t=Selector.select(o,i.dataset()),r=t.models,n=t.toComponents(i)):(n=i.get(t),_.isArray(n)||(n=[n])),n}})}.call(this),function(){var e;e=function(){function e(){var e,t,n,r,i;for(this.stack=[],this.stack.context=[],this.gridRenderer=new Kumu.Canvas.GridRenderer,this.nodeRenderer=new Kumu.Canvas.NodeRenderer,this.edgeRenderer=new Kumu.Canvas.EdgeRenderer,this.labelRenderer=new Kumu.Canvas.LabelRenderer,i=["backdrop","shadows","underlays","foreground"],t=0,r=i.length;r>t;t++)n=i[t],this[n]=e=CanvasHelper.create(n),this.stack.push(e),this.stack.context.push(e.context)}return e.prototype.reset=function(){},e.prototype.draw=function(e){var t,n,r,i,o,a,s;for(a=this.stack,n=0,i=a.length;i>n;n++)t=a[n],t.context.save(),CanvasHelper.clear(t,t===this.backdrop?e.guide.get("backgroundColor"):void 0),CanvasHelper.apply(t,e);for(e.ready&&(this.drawLayer(e.underlays,e.underlays.opacity),this.gridRenderer.draw(this.stack.context,e),this.drawLayer(e.background,e.showcase.backgroundOpacity),this.drawLayer(e.foreground,e.showcase.foregroundOpacity)),s=this.stack,r=0,o=s.length;o>r;r++)t=s[r],t.context.restore();return void 0},e.prototype.drawLayer=function(e,t){var n,r,i,o,a,s,u,l,c,p,h,f;for(p=e.edges,r=0,s=p.length;s>r;r++)n=p[r],this.drawComponent(this.edgeRenderer,n.display,t);for(h=e.nodes,i=0,u=h.length;u>i;i++)c=h[i],this.drawComponent(this.nodeRenderer,c.display,t);for(f=e.labels,o=0,l=f.length;l>o;o++)a=f[o],this.drawComponent(this.labelRenderer,a.display,t);return void 0},e.prototype.drawComponent=function(e,t,n){var r,i,o,a,s;for(i=n*t.opacity,s=this.stack.context,o=0,a=s.length;a>o;o++)r=s[o],r.globalAlpha=i;return e.draw(this.stack.context,t)},e}(),namespace("Kumu.Canvas",function(t){return t.BestRenderer=e})}.call(this),function(){var e,t,n,r,i;t=300,r=6e4,n=/(focus|mousemove)/,i=function(e){return 1===e.which&&!e.ctrlKey},e=function(){function e(e){this.display=e,this.$map=this.display.$el,this.model=this.display.model,this.onIdleTimeout=_.debounce(this.onIdle,t),this.onSleepTimeout=_.debounce(this.onSleep,r),this.onIdleTimeout(),this.onSleepTimeout(),this.setTool(this.model.get("tool")),this.addListeners(),ControllerConcerns.Helpers(this)}return _.extend(e.prototype,Backbone.Events),e.prototype.addListeners=function(){return this.onInteraction=this.onInteraction.bind(this),this.onSleep=this.onSleep.bind(this),$("body").on("mousedown mouseup mousemove mousewheel touchstart touchmove touchend",this.onInteraction),this.addModelListeners(),this.addWindowListeners(),this.addMouseListeners(),this.addTouchListeners(),this.addKeyboardListeners(),this.addClipboardListeners()},e.prototype.readyWrap=function(e){var t;return t=this,function(){return map.isReady()?e.apply(t,arguments):void 0}},e.prototype.addModelListeners=function(){return this.listenTo(this.model,"change:tool",this.onToolChange)},e.prototype.addWindowListeners=function(){return $(window).on("focus",this.onInteraction).on("blur",this.onSleep)},e.prototype.addMouseListeners=function(){return this.mouse=(new Mouse).monitor(this.$map).on("context",this.readyWrap(this.onContextMenu)).on("down",this.readyWrap(this.onMouseDown)).on("up",this.readyWrap(this.onMouseUp)).on("move",this.readyWrap(this.onMouseMove)).on("drag",this.readyWrap(this.onMouseDrag)).on("enter",this.readyWrap(this.onMouseEnterContainer)).on("leave",this.readyWrap(this.onMouseLeaveContainer)).on("click",this.readyWrap(this.onMouseClick)).on("dblclick",this.readyWrap(this.onMouseDoubleClick)).on("").on("hold",this.readyWrap(this.onMouseHold)).on("wheel",this.readyWrap(this.onMouseWheel))},e.prototype.addTouchListeners=function(){return this.$map.on("touchstart touchmove touchend",function(e){return e.preventDefault()}),this.$map.hammer({prevent_mouseevents:!0}).on("touch",this.readyWrap(this.onTouch)).on("drag",this.readyWrap(this.onDrag)).on("swipe",this.readyWrap(this.onSwipe)).on("release",this.readyWrap(this.onRelease)).on("transform",this.readyWrap(this.onTransform)).on("transformstart",this.readyWrap(this.onTransformStart)).on("transformend",this.readyWrap(this.onTransformEnd)).on("pinch",this.readyWrap(this.onPinch)).on("tap",this.readyWrap(this.onTap)).on("doubletap",this.readyWrap(this.onDoubleTap)).on("hold",this.readyWrap(this.onHold))},e.prototype.addKeyboardListeners=function(){return this.keyboard=new Interactions.KeyboardHandler},e.prototype.addClipboardListeners=function(){return $("body").on("cut",this.onCut).on("copy",this.onCopy).on("paste",this.onPaste)},e.prototype.onToolChange=function(){return this.setTool(this.model.get("tool"))},e.prototype.setTool=function(e){var t,n;return null!=(n=this.tool)&&"function"==typeof n.dispose&&n.dispose(),this.tool=e,"function"==typeof(t=this.tool).activate?t.activate(this):void 0},e.prototype.onInteraction=function(e){return map.isReady()&&!n.test(e.type)&&map.cancelZoomFit(),this.model.set("idle",!1),this.model.set("sleep",!1),this.onIdleTimeout(),this.onSleepTimeout()},e.prototype.onIdle=function(){return this.model.set("idle",!0)},e.prototype.onSleep=function(){return this.model.set("sleep",!0)},e.prototype.onCopy=function(){},e.prototype.onPaste=function(){},e.prototype.onCut=function(){},e.prototype.onContextMenu=function(e){var t;return this.processMouseEvent(e),"function"==typeof(t=this.tool).onContextMenu&&t.onContextMenu(e),map.trigger("contextmenu",e)},e.prototype.onMouseMove=function(e){var t,n,r;return this.processMouseEvent(e),"function"==typeof(t=this.tool).onMouseMove&&t.onMouseMove(e),r=e.component,this.hover!==r&&(this.hover&&this.onMouseLeaveComponent(e,this.hover),r&&("function"==typeof(n=this.tool).accept?n.accept(e):void 0)!==!1?(this.hover=r,this.onMouseEnterComponent(e,r)):this.hover=null),this.model.set("hover",this.hover)},e.prototype.onMouseEnterComponent=function(e,t){var n;return"function"==typeof(n=this.tool).onMouseEnter&&n.onMouseEnter(e),t.onMouseEnter()},e.prototype.onMouseLeaveComponent=function(e,t){var n;return e=_.clone(e),e.component=t,e.entity=t.entity,"function"==typeof(n=this.tool).onMouseLeave&&n.onMouseLeave(e),t.onMouseLeave()},e.prototype.onMouseEnterContainer=function(){},e.prototype.onMouseLeaveContainer=function(e){return this.onMouseUp(e),this.model.resetInteraction()},e.prototype.onMouseDown=function(e){var t,n;if(i(e))return document.onselectstart=function(){return!1},map.focus(),this.processMouseEvent(e),e.component&&("function"==typeof(t=this.tool).accept?t.accept(e):void 0)!==!1&&this.model.set("active",e.component),"function"==typeof(n=this.tool).onMouseDown?n.onMouseDown(e):void 0},e.prototype.onMouseDrag=function(e){var t;return"function"==typeof(t=this.tool).onMouseDrag?t.onMouseDrag(this.processMouseEvent(e)):void 0},e.prototype.onMouseUp=function(e){var t;return"function"==typeof(t=this.tool).onMouseUp&&t.onMouseUp(this.processMouseEvent(e)),this.model.set("active",null),document.onselectstart=function(){return!0}},e.prototype.onMouseClick=function(e){var t;if(i(e))return e=this.processMouseEvent(e),"function"==typeof(t=this.tool).onMouseClick&&t.onMouseClick(e),map.trigger("click",e)},e.prototype.onMouseDoubleClick=function(e){var t;if(i(e))return e=this.processMouseEvent(e),"function"==typeof(t=this.tool).onMouseDoubleClick&&t.onMouseDoubleClick(e),map.trigger("dblclick",e)},e.prototype.onMouseHold=function(e){var t;if(i(e))return this.processMouseEvent(e),"function"==typeof(t=this.tool).onMouseHold&&t.onMouseHold(e),map.trigger("hold",e),this.onMouseUp(e)},e.prototype.onMouseWheel=function(e){var t;return map.focus(),e.preventDefault(),"function"==typeof(t=this.tool).onMouseWheel?t.onMouseWheel(this.processMouseEvent(e,!1)):void 0},e.prototype.onTouch=function(e){var t;return this.processTouchEvent(e),"function"==typeof(t=this.tool).onTouch?t.onTouch(e):void 0},e.prototype.onDrag=function(e){var t;return this.processTouchEvent(e),"function"==typeof(t=this.tool).onTouchDrag?t.onTouchDrag(e):void 0},e.prototype.onSwipe=function(){},e.prototype.onRelease=function(e){var t;return this.processTouchEvent(e),"function"==typeof(t=this.tool).onTouchRelease?t.onTouchRelease(e):void 0},e.prototype.onTransform=function(e){return this.processTouchEvent(e)},e.prototype.onTransformStart=function(e){return this.processTouchEvent(e)},e.prototype.onTransformEnd=function(e){return this.processTouchEvent(e)},e.prototype.onPinch=function(e){var t;return this.processTouchEvent(e),"function"==typeof(t=this.tool).onTouchPinch?t.onTouchPinch(e):void 0},e.prototype.onTap=function(e){var t;return this.processTouchEvent(e),e.component||map.minimizeSidebar(),"function"==typeof(t=this.tool).onTouchTap?t.onTouchTap(e):void 0},e.prototype.onDoubleTap=function(e){var t;return clearTimeout(this.previousTapTimeout),clearTimeout(this.currentTapTimeout),this.processTouchEvent(e),"function"==typeof(t=this.tool).onTouchDoubleTap?t.onTouchDoubleTap(e):void 0},e.prototype.onHold=function(e){var t;return this.processTouchEvent(e),"function"==typeof(t=this.tool).onTouchHold&&t.onTouchHold(e),map.trigger("hold",e)},e.prototype.processMouseEvent=function(e,t){var n;return null==t&&(t=!0),currentMap?(e.world={location:map.toWorld(e.location)},null!=e.drag&&(e.world.drag=this.translateDrag(e.drag)),t&&(e.component=map.pickWorld(e.world.location),e.entity=null!=(n=e.component)?n.entity:void 0),e):e},e.prototype.processTouchEvent=function(e){var t,n,r,i,o,a,s,u;for(e.preventDefault(),i=this.$map.parent().offset(),s=function(e){return new Vector(e.pageX-i.left,e.pageY-i.top)},o=e.gesture.touches,n=t=0,r=o.length;r>t;n=++t)u=o[n],u.location=s(u),u.world={location:map.toWorld(u.location)},u.component=map.pickWorld(u.world.location),u.entity=null!=(a=e.component)?a.entity:void 0,0===n&&(e.location=u.location,e.world={location:u.world.location},e.component=u.component,e.entity=u.entity);return e.center=s(e.gesture.center),e.world.center=map.toWorld(e.center),e},e.prototype.translateDrag=function(e){return{from:map.toWorld(e.from),to:map.toWorld(e.to),offset:map.toWorldScale(e.offset),delta:map.toWorldScale(e.delta)}},e}(),namespace("Display",function(t){return t.Controller=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(Display.Controller),namespace("Kumu.Canvas",function(t){return t.Controller=e})}.call(this),function(){var e;e={create:function(e){var t;return t=document.createElement("canvas"),t.context=t.getContext("2d"),$(t).addClass(e).css({width:"100%",height:"100%",position:"absolute",top:0,left:0}),t},clear:function(e,t){var n;return n=e.context,t?(n.fillStyle=t,n.fillRect(0,0,e.width,e.height)):n.clearRect(0,0,e.width,e.height)},apply:function(e,t){return e.context.scale(t.resolution,t.resolution),e.context.translate(t.display.offset.x,t.display.offset.y),e.context.scale(t.display.scale,t.display.scale),e.context.translate(t.display.translation.x,t.display.translation.y)}},namespace("window",function(t){return t.CanvasHelper=e})}.call(this),function(){var e,t;t=/\s+/,e=function(){function e(){this.lineDash={},this.lineDash.solid=[]}return e.prototype.draw=function(e,t){var n,r,i;return r=e[0],i=e[1],n=e[2],t.negative||this.drawPath(n,t),t.drawArrows&&this.drawArrows(n,t),t.drawDelay&&!t.negative&&this.drawDelay(n,t),t.drawLabel&&!t.negative&&this.drawLabel(n,t),t.drawPrepostLabels?this.drawPrepostLabels(n,t):void 0},e.prototype.drawPath=function(e,t){var n,r,i;return"curved"===t.shape?(i=Vector.angle(t.start,t.circle.center),r=Vector.angle(t.end,t.circle.center),n="ccw"===t.winding,e.beginPath(),e.arc(t.circle.center.x,t.circle.center.y,t.circle.radius,i,r,n)):(e.beginPath(),e.moveTo(t.start.x,t.start.y),e.lineTo(t.end.x,t.end.y)),t.hasBorder&&(e.strokeStyle=t.borderStroke,e.lineWidth=t.borderWidth,e.stroke()),t.hasPath&&("function"==typeof e.setLineDash&&e.setLineDash(this.getLineDash(t)),e.strokeStyle=t.pathStroke,e.lineWidth=t.pathWidth,e.stroke(),"function"==typeof e.setLineDash&&e.setLineDash(this.lineDash.solid)),t.hasStripe?(e.strokeStyle=t.stripeStroke,e.lineWidth=t.stripeWidth,e.stroke()):void 0},e.prototype.getLineDash=function(e){var n,r;return"solid"!==e.style&&e.dash?null!=(n=this.lineDash)[r=e.dash]?n[r]:n[r]=e.dash.split(t):this.lineDash.solid},e.prototype.drawArrows=function(e,t){return t.fromArrow&&this.drawArrow(e,t.fromArrowColor,t.fromArrow,t.arrowHeight,t.arrowWidth),t.toArrow?this.drawArrow(e,t.toArrowColor,t.toArrow,t.arrowHeight,t.arrowWidth):void 0},e.prototype.drawArrow=function(e,t,n,r,i){return e.fillStyle=t,e.save(),e.translate(n.position.x,n.position.y),e.rotate(n.angle),e.beginPath(),e.moveTo(r,0),e.lineTo(0,i/2),e.lineTo(0,-i/2),e.closePath(),e.fill(),e.restore()},e.prototype.drawDelay=function(e,t){var n,r,i,o,a;return n=e.globalAlpha,o=t.delayHeight,a=t.delayWidth,r=o/2,i=a/2,e.save(),e.translate(t.delay.position.x,t.delay.position.y),e.rotate(t.delay.angle),e.fillStyle=t.delayFill,e.strokeStyle="inherit"===t.delayColor?t.pathColor:t.delayColor,e.lineWidth=t.delayStrokeWidth,e.globalAlpha=1,e.beginPath(),e.rect(-(i+t.delayStrokeWidth/2-.1),-r,a+t.delayStrokeWidth-.2,o),e.fill(),e.globalAlpha=n,e.beginPath(),e.moveTo(-i,-r),e.lineTo(-i,r),e.moveTo(i,r),e.lineTo(i,-r),e.stroke(),e.restore()},e.prototype.drawLabel=function(e,t){var n,r,i,o,a,s;for(e.font=t.font,e.fillStyle=t.fontColor,e.textAlign="center",e.textBaseline="middle",a=t.wrappedLabel,s=[],r=n=0,i=a.length;i>n;r=++n)o=a[r],s.push(e.fillText(o,t.position.x,t.position.y+r*t.fontSize));return s},e.prototype.drawPrepostLabels=function(e,t){return e.font="bold "+t.fontSize+"px "+t.fontFamily,e.fillStyle=t.fontColor,e.textAlign="center",e.textBaseline="middle",t.prelabel&&e.fillText(t.prelabel,t.prelabelPosition.position.x,t.prelabelPosition.position.y),t.postlabel?e.fillText(t.postlabel,t.postlabelPosition.position.x,t.postlabelPosition.position.y):void 0},e.prototype.drawDebug=function(e,t){return"curved"===t.shape?(e.lineWidth=.5,e.fillStyle="red",e.strokeStyle="red",e.beginPath(),e.moveTo(t.circle.center.x,t.circle.center.y),e.lineTo(t.apex.x,t.apex.y),e.moveTo(t.from.position.x,t.from.position.y),e.lineTo(t.to.position.x,t.to.position.y),e.stroke(),e.beginPath(),e.arc(t.midpoint.x,t.midpoint.y,10,0,2*Math.PI,!1),e.fill(),e.beginPath(),e.moveTo(t.midpoint.x,t.midpoint.y),e.lineTo(t.apex.x,t.apex.y),e.strokeStyle="black",e.stroke()):void 0},e}(),namespace("Kumu.Canvas",function(t){return t.EdgeRenderer=e})}.call(this),function(){var e,t,n,r,i,o,a;t=/(\w+)\([^)]+\)/g,r=/([xy])\((.*)\)/,n=/circle\((.*)\)/,e=/\s*,\s*/,o=2*Math.PI,a=10,i=function(){function i(){this.bounds=new Rectangle,this.clipBounds=new Rectangle}return i.prototype.draw=function(e,t){return this.ctx=e[2],this.scene=t,this.styleGuide=t.guide,this.updateSettings(),this.updateBounds(),this.gridEnabled&&this.drawGrid(),this.guides&&this.drawGuides(),this.clipped?this.drawBorder():void 0},i.prototype.updateSettings=function(){var e,t,n,r,i;return this.gridEnabled=this.styleGuide.get("layoutGrid"),this.gridColor=this.styleGuide.get("layoutGridColor"),this.gridOffset=this.styleGuide.get("layoutGridOffset"),this.gridOffsetX=this.styleGuide.get("layoutGridOffsetX")||this.gridOffset,this.gridOffsetY=this.styleGuide.get("layoutGridOffsetY")||this.gridOffset,this.gridThickness=this.styleGuide.get("layoutGridWidth"),this.guideColor=this.styleGuide.get("layoutGuideColor")||this.gridColor,this.guideThickness=this.styleGuide.get("layoutGuideWidth")||this.gridThickness,(e=this.styleGuide.get("layoutBounds"))?(this.clipped=!0,e=e.split(/\s+/),this.clipBounds.xmin=Number(e[0]),this.clipBounds.ymin=-Number(e[3]),this.clipBounds.xmax=Number(e[2]),this.clipBounds.ymax=-Number(e[1])):this.styleGuide.has("layoutBoundsXmin")||this.styleGuide.has("layoutBoundsYmin")?(this.clipped=!0,this.clipBounds.xmin=null!=(t=this.styleGuide.get("layoutBoundsXmin"))?t:-Infinity,this.clipBounds.xmax=null!=(n=this.styleGuide.get("layoutBoundsXmax"))?n:Infinity,this.clipBounds.ymin=-(null!=(r=this.styleGuide.get("layoutBoundsYmax"))?r:Infinity),this.clipBounds.ymax=-(null!=(i=this.styleGuide.get("layoutBoundsYmin"))?i:-Infinity)):this.clipped=!1,this.updateGuides()},i.prototype.updateGuides=function(){var i,o,a,s,u,l,c,p,h,f;if(c=this.styleGuide.get("layoutGuides")||this.styleGuide.get("layoutGuide"),c&&(s=c.match(t)))for(this.guides=[],i=0,o=s.length;o>i;i++)p=s[i],(a=p.match(r))?this.guides.push({type:a[1],value:Number(a[2])}):(a=p.match(n))&&(l=a[1].split(e),h=l[0],f=l[1],u=l[2],u||(u=h,h=f=0),this.guides.push({type:"circle",x:h,y:f,r:u}));else this.guides=null;return void 0},i.prototype.updateBounds=function(){var e;return this.bounds.copy(this.scene.bounds),e=this.bounds,this.xmin=e.xmin,this.ymin=e.ymin,this.xmax=e.xmax,this.ymax=e.ymax,this.xmin=this.clipX(this.xmin),this.ymin=this.clipY(this.ymin),this.xmax=this.clipX(this.xmax),this.ymax=this.clipY(this.ymax),this.xmid=this.bounds.xmid(),this.ymid=this.bounds.ymid()},i.prototype.drawGrid=function(){var e,t,n,r,i,o,s,u,l;if(i=this.gridOffsetX,o=this.gridOffsetY,l=this.scene.display.scale,1>l){for(;i<.3*this.gridOffsetX/l;)i*=a;for(;o<.3*this.gridOffsetY/l;)o*=a}else if(l>1){for(;i>3*this.gridOffsetX/l;)i/=a;for(;o>3*this.gridOffsetY/l;)o/=a}return s=Math.min(1,i*l/this.gridOffsetX),u=Math.min(1,o*l/this.gridOffsetY),e=i*a,t=o*a,n=1,r=1,this.ctx.lineWidth=this.gridThickness/this.scene.display.scale,this.ctx.strokeStyle=this.gridColor,this.drawGridWith(i,s,o,u),this.drawGridWith(e,n,t,r)},i.prototype.drawGridWith=function(e,t,n,r){var i,o,a,s,u,l,c,p,h,f,d,m;for(f=this.xmin-this.xmin%e,m=this.ymin-this.ymin%n,this.ctx.beginPath(),this.ctx.globalAlpha=t,h=i=a=f,s=this.xmax,u=e;u>0?s>=i:i>=s;h=i+=u)this.drawVerticalLine(h);for(this.ctx.stroke(),this.ctx.beginPath(),this.ctx.globalAlpha=r,d=o=l=m,c=this.ymax,p=n;p>0?c>=o:o>=c;d=o+=p)this.drawHorizontalLine(d);return this.ctx.stroke()},i.prototype.drawGuides=function(){var e,t,n,r;for(this.ctx.globalAlpha=1,this.ctx.lineWidth=this.guideThickness/this.scene.display.scale,this.ctx.strokeStyle=this.guideColor,r=this.guides,t=0,n=r.length;n>t;t++)e=r[t],this.ctx.beginPath(),"x"===e.type?this.drawVerticalLine(e.value):"y"===e.type?this.drawHorizontalLine(-e.value):"circle"===e.type&&this.drawCircle(e.x,-e.y,e.r),this.ctx.stroke();return void 0},i.prototype.drawBorder=function(){return this.ctx.globalAlpha=1,this.ctx.lineWidth=this.guideThickness/this.scene.display.scale,this.ctx.strokeStyle=this.guideColor,this.ctx.beginPath(),this.drawVerticalLine(this.xmin),this.drawVerticalLine(this.xmax),this.drawHorizontalLine(this.ymin),this.drawHorizontalLine(this.ymax),this.ctx.stroke()},i.prototype.drawHorizontalLine=function(e){return this.withinY(e)?this.drawLine(this.xmin,e,this.xmax,e):void 0},i.prototype.drawVerticalLine=function(e){return this.withinX(e)?this.drawLine(e,this.ymin,e,this.ymax):void 0},i.prototype.drawLine=function(e,t,n,r){return e=this.clipX(e),t=this.clipY(t),n=this.clipX(n),r=this.clipY(r),this.ctx.moveTo(e,t),this.ctx.lineTo(n,r)},i.prototype.drawCircle=function(e,t,n){return this.ctx.arc(e,t,n,0,o,!1)},i.prototype.withinY=function(e){return!this.clipped||e>=this.clipBounds.ymin&&e<=this.clipBounds.ymax},i.prototype.withinX=function(e){return!this.clipped||e>=this.clipBounds.xmin&&e<=this.clipBounds.xmax},i.prototype.clipX=function(e){return this.clipped?Math.max(this.clipBounds.xmin,Math.min(this.clipBounds.xmax,e)):e},i.prototype.clipY=function(e){return this.clipped?Math.max(this.clipBounds.ymin,Math.min(this.clipBounds.ymax,e)):e},i}(),namespace("Kumu.Canvas",function(e){return e.GridRenderer=i})}.call(this),function(){var e;e=function(){function e(){}return e.prototype.draw=function(e,t){var n,r,i;return r=e[0],i=e[1],n=e[2],t.drawLabel?this.drawLabel(n,t):void 0},e.prototype.drawLabel=function(e,t){var n,r,i,o,a,s;for(e.font=t.font,e.fillStyle=t.fontColor,e.textAlign="center",e.textBaseline="middle",a=t.wrappedLabel,s=[],o=n=0,r=a.length;r>n;o=++n)i=a[o],s.push(e.fillText(i,t.position.x,t.position.y+o*t.fontSize));return s},e}(),namespace("Kumu.Canvas",function(t){return t.LabelRenderer=e
})}.call(this),function(){var e,t;t={},e=function(){function e(){}return e.prototype.draw=function(e,t){var n,r,i,o;return n=e[0],i=e[1],o=e[2],r=e[3],"background"===t.layer&&(i=r=n),t.drawShadow&&this.drawShadow(i,t),t.drawBody&&this.drawBody(r,t),t.drawOutline&&this.drawOutline(r,t),t.drawImage&&this.drawImage(r,t),t.drawBullseye&&this.drawBullseye(r,t),t.drawBorder&&this.drawBorder(r,t),t.drawLabel?this.drawLabel(r,t):void 0},e.prototype.drawBody=function(e,t){return e.beginPath(),"circle"===t.shape?e.arc(t.position.x,t.position.y,t.radius,0,2*Math.PI,!1):e.rect(t.coreBounds.xmin,t.coreBounds.ymin,t.width,t.height),e.fillStyle=t.color,e.fill()},e.prototype.drawBorder=function(e,t){return e.beginPath(),"circle"===t.shape?e.arc(t.position.x,t.position.y,t.borderRadius,0,2*Math.PI,!1):e.rect(t.coreBounds.xmin,t.coreBounds.ymin,t.width,t.height),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.stroke()},e.prototype.drawOutline=function(e,t){return e.beginPath(),"circle"===t.shape?e.arc(t.position.x,t.position.y,t.outlineRadius,0,2*Math.PI,!1):e.rect(t.outlineXMin,t.outlineYMin,t.outlineWidth,t.outlineHeight),e.strokeStyle=t.outlineColor,e.lineWidth=t.outlineLineWidth,e.stroke()},e.prototype.drawImage=function(e,t){var n,r,i,o,a,s,u,l,c,p,h,f;if(c=ImageHelper.get(t.imageUrl,t.imageResolution,t.imageProxied))return r="cover"===t.imageSize,n="circle"===t.shape?t.imageBoundsDiameter:t.imageBoundsMax,n*=currentScene.scale,s=ImageHelper.getBestFromSprite(c,n),l=ImageHelper.getImageScale(t,s),p=s.width*l,a=s.height*l,i=t.position.x,o=t.position.y,r&&(e.save(),e.beginPath(),"circle"===t.shape?e.arc(i,o,t.imageBoundsRadius,0,2*Math.PI,!1):e.rect(i-t.imageBoundsWidth/2,o-t.imageBoundsHeight/2,t.imageBoundsWidth,t.imageBoundsHeight),e.clip()),h=i-p/2,f=o-a/2,e.drawImage(s,h,f,p,a),r&&(e.restore(),"circle"===t.shape)?(u=1/currentScene.scale,e.beginPath(),e.arc(i,o,t.imageBoundsRadius,0,2*Math.PI,!1),e.strokeStyle=t.color,e.lineWidth=u,e.stroke()):void 0},e.prototype.drawBullseye=function(e,t){return e.beginPath(),"circle"===t.shape?e.arc(t.position.x,t.position.y,t.bullseyeRadius,0,2*Math.PI,!1):e.rect(t.position.x-t.bullseyeRadius,t.position.y-t.bullseyeRadius,2*t.bullseyeRadius,2*t.bullseyeRadius),e.fillStyle=t.bullseyeColor,e.fill()},e.prototype.drawLabel=function(e,t){var n,r,i,o,a,s,u;for(e.font=t.font,e.fillStyle=t.fontColor,e.textAlign="center",e.textBaseline="center"===t.textAlign?"middle":"top",a=t.wrappedLabel,r=n=0,i=a.length;i>n;r=++n)o=a[r],s=t.position.x+t.labelOffsetX,u=t.position.y+t.labelOffsetY+r*t.fontSize,e.fillText(o,s,u);return void 0},e.prototype.drawShadow=function(e,t){return e.beginPath(),"circle"===t.shape?e.arc(t.position.x,t.position.y,t.shadowRadius,0,2*Math.PI,!1):e.rect(t.position.x-t.shadowRadius,t.position.y-t.shadowRadius,2*t.shadowRadius,2*t.shadowRadius),e.fillStyle=t.shadowColor,e.fill()},e}(),namespace("Kumu.Canvas",function(t){return t.NodeRenderer=e})}.call(this),function(){var e;e=function(){function e(){this.stack=[],this.stack.context=[],this.foreground=CanvasHelper.create("foreground"),this.ctx=this.foreground.context,this.stack.push(this.foreground),this.stack.context.push(this.foreground.context)}return e.prototype.reset=function(){},e.prototype.draw=function(e){return this.ctx.save(),CanvasHelper.clear(this.foreground,e.guide.get("backgroundColor")),CanvasHelper.apply(this.foreground,e),this.drawLayer(e.background,e.showcase.backgroundOpacity),this.drawLayer(e.foreground,e.showcase.foregroundOpacity),this.ctx.restore()},e.prototype.drawLayer=function(e,t){return this.ctx.globalAlpha=t,this.drawEdges(e),this.drawNodes(e),this.drawEdgeLabels(e),this.drawNodeLabels(e),this.drawLabels(e)},e.prototype.drawEdges=function(e){var t,n,r,i;for(i=e.edges,n=0,r=i.length;r>n;n++)t=i[n],this.drawEdge(t.display,t.from.display,t.to.display);return void 0},e.prototype.drawEdge=function(e){return this.ctx.beginPath(),this.ctx.moveTo(e.start.x,e.start.y),this.ctx.lineTo(e.end.x,e.end.y),this.ctx.strokeStyle=e.pathStroke,this.ctx.lineWidth=e.pathWidth,this.ctx.stroke()},e.prototype.drawEdgeLabels=function(e){var t,n,r,i;for(this.ctx.textAlign="center",this.ctx.textBaseline="middle",i=e.edges,n=0,r=i.length;r>n;n++)t=i[n],t.display.drawLabel&&this.drawEdgeLabel(t.display);return void 0},e.prototype.drawEdgeLabel=function(e){return this.drawText(e.label,e.position.x,e.position.y,e)},e.prototype.drawNodes=function(e){var t,n,r,i;for(i=e.nodes,t=0,n=i.length;n>t;t++)r=i[t],this.drawNode(r.display);return void 0},e.prototype.drawNode=function(e){return this.ctx.fillStyle=e.color,this.ctx.fillRect(e.position.x-e.radius,e.position.y-e.radius,e.diameter,e.diameter),e.drawOutline?(this.ctx.lineWidth=e.outlineLineWidth,this.ctx.strokeStyle=e.outlineColor,this.ctx.strokeRect(e.position.x-e.outlineRadius,e.position.y-e.outlineRadius,e.outlineDiameter,e.outlineDiameter)):void 0},e.prototype.drawNodeLabels=function(e){var t,n,r,i;for(this.ctx.textAlign="left",this.ctx.textBaseline="middle",i=e.nodes,t=0,n=i.length;n>t;t++)r=i[t],r.display.drawLabel&&this.drawNodeLabel(r.display);return void 0},e.prototype.drawNodeLabel=function(e){var t;return t=e.radius+.3*e.fontSize,this.drawText(e.label,e.position.x+t,e.position.y,e)},e.prototype.drawLabels=function(e){var t,n,r,i;for(this.ctx.textAlign="center",this.ctx.textBaseline="middle",i=e.labels,t=0,r=i.length;r>t;t++)n=i[t],this.drawLabel(n.display);return void 0},e.prototype.drawLabel=function(e){return this.drawText(e.label,e.position.x,e.position.y,e)},e.prototype.drawText=function(e,t,n,r){return this.ctx.font=r.font,this.ctx.fillStyle=r.fontColor,this.ctx.fillText(e,t,n)},e}(),namespace("Kumu.Canvas",function(t){return t.FastRenderer=e})}.call(this),function(){var e;e=function(){function e(){}return e.prototype.draw=function(e,t,n,r){var i;switch(null==r&&(r={}),r=_.defaults(r,{width:100,height:20}),null==r.x&&(r.x=r.width/2),null==r.y&&(r.y=r.height/2),i=(currentScene||currentPerspective).style.guide,t){case"elements":return this.drawElementPreview(e,n,i,r);case"connections":return this.drawConnectionPreview(e,n,i,r)}},e.prototype.drawElementPreview=function(e,t,n,r){var i,o,a,s;return i=r.x,o=r.y,a=r.radius||5,r={},r.color=t.color||n.get("elementColor"),r.strokeColor=n.get("elementStrokeColor"),r.bullseyeColor=t.bullseyeColor,r.shadowColor=t.shadowColor,t.scale?(s=t.scale,Number(s)?(this.drawNode(e,i,o,5,r),e.textAlign="left",e.textBaseline="middle",e.font="normal 10px verdana",e.fillStyle=n.get("fontColor"),e.fillText(s+"x",i+10,o)):(this.drawNode(e,i+5,o,8,r),this.drawNode(e,i-2,o+3,5,r),this.drawNode(e,i-7,o+5,3,r))):t.imageUrl?this.drawNode(e,i,o,5,r):this.drawNode(e,i,o,5,r)},e.prototype.drawNode=function(e,t,n,r,i){return i.shadowColor&&(e.globalAlpha=.5,e.fillStyle=i.shadowColor,e.beginPath(),e.arc(t,n,2*r,0,2*Math.PI),e.fill()),e.globalAlpha=1,e.fillStyle=i.color,e.strokeStyle=i.strokeColor,e.lineWidth=.5,e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),e.stroke(),i.bullseyeColor?(e.fillStyle=i.bullseyeColor,e.beginPath(),e.arc(t,n,r/2,0,2*Math.PI),e.fill()):void 0},e.prototype.drawConnectionPreview=function(e,t,n,r){var i,o,a,s,u,l;return i=r.x,o=r.y,l=i-r.width/2,u=i+r.width/2,e.strokeStyle=t.color||n.get("connectionColor"),e.lineWidth=Number(t.scale)||1,a=/dashed/.test(t.style||t.pattern),"function"==typeof e.setLineDash&&e.setLineDash(a?[e.lineWidth+4]:[]),t.scale?(s=t.scale,Number(s)?(e.lineWidth=Number(s),e.beginPath(),e.moveTo(l,o),e.lineTo(u,o),e.stroke()):(e.lineWidth=1,e.beginPath(),e.moveTo(l,o),e.lineTo(u,o),e.stroke(),e.lineWidth=4,e.beginPath(),e.moveTo(i,o),e.lineTo(u,o),e.stroke())):(e.beginPath(),e.moveTo(l,o),e.lineTo(u,o),e.stroke())},e}(),namespace("Kumu.Canvas",function(t){return t.LegendRenderer=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="canvas",n.prototype.className="legend",n.prototype.initialize=function(){return this.canvas=this.el,this.ctx=this.canvas.getContext("2d"),this.renderer=new Kumu.Canvas.LegendRenderer},n.prototype.render=function(){return this},n.prototype.draw=function(e){var t,n;return null==e&&(e=currentScene.resolution),this.legend=currentScene.legend,this.clear(),this.legend&&this.legend.shouldBeIncluded()?(this.settings=this.legend.settings,this.entries=this.legend.get("entries"),n=400,t=this.settings.previewHeight*this.entries.length,this.canvas.width=n*e,this.canvas.height=t*e,this.canvas.style.width=n+"px",this.canvas.style.height=t+"px",this.ctx.save(),this.ctx.scale(e,e),this.drawEntries(),this.ctx.restore(),this.$el.fadeIn()):this.$el.fadeOut()},n.prototype.clear=function(){return this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.drawEntries=function(){var e,t,n,r,i;for(this.ctx.translate(0,this.settings.previewHeight/2),r=this.entries,i=[],t=0,n=r.length;n>t;t++)e=r[t],this.drawEntry(e),i.push(this.ctx.translate(0,this.settings.previewHeight));return i},n.prototype.drawEntry=function(e){var t;return t={x:this.settings.previewWidth/2,y:0,width:this.settings.previewWidth,height:this.settings.previewHeight},this.renderer.draw(this.ctx,e.collection,e.declarations,t),this.drawEntryLabel(e)},n.prototype.drawEntryLabel=function(e){var t,n,r;return t=e.label,n=this.settings.previewWidth+10,r=0,this.ctx.textAlign="left",this.ctx.textBaseline="middle",this.ctx.font=this.font("normal",this.settings.summarySize,this.settings.fontFamily),this.ctx.fillStyle=this.settings.summaryColor,this.ctx.fillText(t,n,r)},n.prototype.font=function(e,t,n){return e+" "+t+"px "+n},n}(Backbone.View),namespace("Kumu.Canvas",function(t){return t.LegendView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.getController=function(e){return new Kumu.Canvas.Controller(e)},n.prototype.getLegend=function(){return new Kumu.Canvas.LegendView},n.prototype.createLinearGradient=function(e,t,n,r){var i;return i=this.ctx.createLinearGradient(e.x,e.y,t.x,t.y),i.addColorStop(0,n),i.addColorStop(1,r),i},n.prototype.getScreenshot=function(e){var t,n,r,i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w;for(null==e&&(e={}),null==e.as&&(e.as="jpeg"),null==e.quality&&(e.quality=.9),v=map.getViewportBounds(),d=currentScene.resolution,n=document.createElement("canvas"),n.width=y=v.width()*d,n.height=o=v.height()*d,r=n.getContext("2d"),f=this.renderer.stack,a=0,p=f.length;p>a;a++)s=f[a],m=v.xmin*d,g=v.ymin*d,r.drawImage(s,m,g,y,o,0,0,y,o);if(t=$(".legend"),t.is(":visible")&&(u=t.get(0),c=u.clientWidth,l=u.clientHeight,h=t.offset(),i=map.display.$el.offset(),b=(h.left-v.xmin-i.left)*d,w=(h.top-v.ymin-i.top)*d,r.drawImage(u,b,w)),"canvas"===e.as)return n;try{return n.toDataURL("image/"+e.as,e.quality)}catch(_){return void alert("Sorry, images must be proxied for screenshots to work")}},n.prototype.render=function(e,t){var n;return this.quality=t,this.renderer="webgl"===e?new WebGLRenderer:"fast"===t?new Kumu.Canvas.FastRenderer:new Kumu.Canvas.BestRenderer,(n=this.$el.empty()).append.apply(n,this.renderer.stack),this.ctx=this.renderer.stack.context[0],this.resize(),this},n.prototype.resize=function(e,t,n){var r,i,o,a,s,u,l,c;for(null==e&&(e=this.$el.width()),null==t&&(t=this.$el.height()),this.width=e,this.height=t,a=e*n,o=t*n,c=this.renderer.stack,u=s=0,l=c.length;l>s;u=++s)i=c[u],i.style.zIndex=u,i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width=this.width+"px",i.style.height=this.height+"px",i.width=a,i.height=o;return"function"==typeof(r=this.renderer).resize?r.resize(a,o):void 0},n.prototype.draw=function(e){return this.renderer.draw(e)},n.prototype.reset=function(){return this.renderer.reset()},n}(Backbone.View),namespace("Kumu.Canvas",function(t){return t.View=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.model=e,this.finalize=t(this.finalize,this),this.update=t(this.update,this),this.start=t(this.start,this),this.accept=t(this.accept,this),null==this.model&&(this.model=map.model),this.view=this.model.get("view"),this.map=this.model.get("map"),this.scene=this.map.scene,this.graph=this.scene.graphs.primary,this.selection=this.model.selection}return _.extend(e.prototype,Backbone.Events),e.prototype.cursor="default",e.prototype.accept=function(){return!0},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.finalize=function(){},e}(),namespace("Interactions",function(t){return t.BaseAction=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(Interactions.BaseAction),namespace("MouseActions",function(t){return t.Base=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.start=t(this.start,this),this.accept=t(this.accept,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.accept=function(){return!1},r.prototype.start=function(){return this.model.resetInteraction()},r}(MouseActions.Base),namespace("MouseActions",function(t){return t.BasePassive=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.cleanup=t(this.cleanup,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.cursor="crosshair",r.prototype.accept=function(e){var t;return null!=(t=e.component)?t.isNode():void 0},r.prototype.start=function(e){var t;return map.on("cancel",this.cleanup),map.resetInteraction(),map.stop(),this.element=new Element,this.connection=new Connection,this.connection.set("direction",currentMap.getDefaultDirection()),this.node=new Node({entity:this.element,position:e.world.location.toJSON(),pinned:!0}),this.node.makeDragPlaceholder(),this.edge=new Edge({entity:this.connection,from:e.component,to:this.node}),this.edge.pickable=!1,t=map.getGraph(),t.nodes.add(this.node),t.edges.add(this.edge),this.behavior=new Behaviors.Nodes.Drag(this.node,{snap:!0})},r.prototype.update=function(e){return this.behavior.update(e)},r.prototype.finalize=function(e){var t,n;return n=e.component,n?n.isNode()&&n!==this.edge.from?(t=new Commands.Nodes.Connect(currentMap,this.edge.from,n),execute(t).always(function(e){return function(){return e.cleanup()}}(this))):this.cancel():(this.node.pickable=!0,this.node.opacity=this.node.size=this.node.scale=null,this.node.invalidate(),Workflows.promptForElement().then(function(e){return function(n){var r;return r={element:n,node:{selected:!0,position:e.node.position.toJSON(),pinned:e.edge.from.isPinned()||currentMap.isFixed()}},t=new Commands.Nodes.CreateAndConnect(currentMap,e.edge.from,r),execute(t).then(function(e,t,n){return map.select(n)}).fail(function(){return alert("Unable to add connection")})}}(this)).then(this.cleanup,this.cleanup)),map.start()},r.prototype.cancel=function(){return this.cleanup()},r.prototype.cancelled=function(e){return!e.altKey},r.prototype.cleanup=function(){return this.edge.destroy(),this.node.destroy(),map.off("cancel",this.cleanup),map.invalidate()},r}(MouseActions.Base),namespace("MouseActions",function(t){return t.Connect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.start=function(e){return this.bounds=new Rectangle,this.originalLocation=e.location,this.selection=map.getSelection(),this.graph=currentScene.graphs.visible},n.prototype.update=function(e){return this.bounds.reset(),this.bounds.bound(this.originalLocation),this.bounds.bound(e.location),map.showSelectionBox(this.bounds)},n.prototype.finalize=function(){var e;return e=this.getSelectedComponents(),map.hideSelectionBox(),map.select(e,{reset:!1})},n.prototype.getSelectedComponents=function(){var e,t,n;return t=[],e=map.toWorld(this.bounds),n=function(t){return t.display.position&&e.contains(t.display.position)},this.graph.visit(function(e){return n(e)?t.push(e):void 0}),t},n}(MouseActions.BasePassive),namespace("MouseActions",function(t){return t.DragSelect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.cursor="move",n.prototype.accept=function(){return!1},n.prototype.start=function(e){return this.selection.include(e.component)||(this.selection=new ComponentSelection(e.component)),this.selection.lock("active"),this.shouldAutoPinLoops=this.selection.isLabel()&&!e.altKey,this.components=[],this.selection.each(function(t){return function(n){var r;switch(n.className){case"Node":return t.components.push(n);case"Edge":return t.components.push(n.from,n.to);case"Label":if(t.components.push(n),e.altKey)return(r=t.components).push.apply(r,n.nodes())}}}(this)),this.components=_.uniq(this.components)},n.prototype.update=function(e){var t,n,r,i,o;for(n=e.world.drag.delta,o=this.components,r=0,i=o.length;i>r;r++)t=o[r],t.translate(n.x,n.y);return map.start({soft:!0}),map.invalidate()},n.prototype.finalize=function(e){var t,n,r,i;return this.shouldSaveMove(e)&&(t=this.components,i=this.getComponentsToSave(),r=e.world.drag.offset,i.length>0&&(n=new Commands.Components.Move(t,i,r),execute(n).fail(function(){return alert("Unable to save new positions")}))),this.selection.unlock("active")},n.prototype.shouldSaveMove=function(e){return able.to("manage","maps")&&e.drag.intentional()&&!currentMap.isReadOnly()},n.prototype.getComponentsToSave=function(){return this.scene.isStatic()?this.components:this.components.filter(function(e){return function(t){return t.isNew()?!1:t.isLabel()?t.isPinned()||e.shouldAutoPinLoops:t.isPinned()}}(this))},n}(MouseActions.Base),namespace("MouseActions",function(t){return t.Move=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.update=t(this.update,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.cursor="-webkit-grabbing",r.prototype.update=function(e){return this.scene.pan(e.world.drag.delta,{animate:!1})},r}(MouseActions.BasePassive),namespace("MouseActions",function(t){return t.Pan=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e,t){this.map=e,this.side=t,n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.accept=function(e){var t;return null!=(t=e.component)?t.isNode():void 0},n.prototype.start=function(e){var t;return map.resetInteraction(),map.stop(),this.edge=e.component,this.connection=this.edge.entity,this.originalNode=this.edge[this.side],this.element=new Element,this.node=new Node({entity:this.element,pickable:!1,locked:!0,position:e.world.location}),this.node.makeDragPlaceholder(),this.edge[this.side]=this.node,this.edge.engage(),t=map.getGraph(),t.nodes.add(this.node),this.behavior=new Behaviors.Nodes.Drag(this.node,{snap:!0}),this.behavior.update(e)},n.prototype.update=function(e){return this.behavior.update(e)},n.prototype.finalize=function(e){return this.node.pickable=!0,this.edge.disengage(),map.start({soft:!0}),e.drag.intentional()&&this.targetIsValid(e.component)?(this.restore(),execute(new Commands.Edges.Redirect(this.edge,this.side,e.component)).fail(function(){return alert("Unable to save changes")})):this.cancel()},n.prototype.targetIsValid=function(e){return e&&e.isNode()&&e!==this.originalNode&&!this.edge.include(e)},n.prototype.cancel=function(){return this.restore()},n.prototype.restore=function(){return this.edge.disengage(),this.edge[this.side]=this.originalNode,this.node.destroy(),map.invalidate()},n}(MouseActions.Base),namespace("MouseActions",function(t){return t.Redirect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.cursor="pointer",n.prototype.accept=function(){return!1},n.prototype.start=function(e){return this.edge=e.component,this.edge.lock("active"),this.vector=Vector.subtract(this.edge.to.display.position,this.edge.from.display.position),this.length=this.vector.length(),this.normal=this.vector.perpendicular().normalize(),this.midpoint=Vector.midpoint(this.edge.from.display.position,this.edge.to.display.position),this.locus=Line.throughPointWithSlope(this.midpoint,this.normal.slope())},n.prototype.update=function(e){var t,n,r;return t=this.locus.closestPoint(e.world.location),r=Vector.subtract(t,this.midpoint),n=r.magnitude(),Vector.parallel(r,this.normal)||(n*=-1),this.curvature=2*n/this.length,this.edge.isReversed()&&(this.curvature*=-1),this.edge.curvature=this.curvature,this.edge.invalidate()},n.prototype.finalize=function(e){return this.edge.unlock("active"),!this.edge.isNew()&&e.drag.intentional()&&able.to("update","map")?execute(new Commands.Edges.Reshape(this.edge,this.curvature)):void 0},n}(MouseActions.Base),namespace("MouseActions",function(t){return t.Reshape=e})}.call(this),function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;e=.01,t=function(t){function i(){return this.update=n(this.update,this),this.start=n(this.start,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.cursor="-webkit-zoom-in",i.prototype.start=function(e){return this.originalScale=this.scene.scale,this.originalLocation=e.location},i.prototype.update=function(t){var n;return n=1+t.drag.offset.y*e,this.scene.zoomAt(this.originalLocation,this.originalScale*n,{absolute:!0})},i}(MouseActions.BasePassive),namespace("MouseActions",function(e){return e.Zoom=t})}.call(this),function(){var e;e=function(){function e(e){this.map=e}return _.extend(e.prototype,Backbone.Events),e.prototype.cursor="default",e.prototype.accept=function(){return!0},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.finalize=function(){},e}(),namespace("Behaviors",function(t){return t.Base=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,n){this.node=e,this.options=null!=n?n:{snap:!0},this.update=t(this.update,this)}return e.prototype.update=function(e){var t,n;return n=this.options.snap&&(null!=(t=e.component)?t.isNode():void 0)?e.component.position:e.world.location,this.node.position.x=n.x,this.node.position.y=n.y},e}(),namespace("MouseBehaviors",function(t){return t.FixNodePositionToMouse=e})}.call(this),function(){var e;e=function(){function e(e,t){this.node=e,this.options=null!=t?t:{snap:!0}}return e.prototype.update=function(e){var t,n;return n=e.component,n&&n.isNode()&&this.options.snap&&(t=n.position),null==t&&(t=e.world.location),this.node.updatePosition(t.x,t.y,!0)},e}(),namespace("Behaviors.Nodes",function(t){return t.Drag=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.cursor="-webkit-grabbing",n.prototype.accept=function(){return!1},n.prototype.start=function(e){return this.originalLocation=e.world.location,map.resetInteraction()},n.prototype.update=function(e){var t;return t=Vector.subtract(e.world.location,this.originalLocation),map.pan(t,{animate:!1})},n}(Behaviors.Base),namespace("TouchBehaviors",function(t){return t.Pan=e})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=1,t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.cursor="-webkit-grabbing",r.prototype.accept=function(){return!1},r.prototype.start=function(e){return this.location=e.center,this.originalScale=map.getScale(),map.resetInteraction()},r.prototype.update=function(t){var n;return 1!==t.gesture.scale?(n=this.originalScale*t.gesture.scale*e,map.zoomAt(this.location,n,{absolute:!0})):void 0},r}(Behaviors.Base),namespace("TouchBehaviors",function(e){return e.Zoom=t})}.call(this),function(){concern("ControllerConcerns","Helpers",function(){return ControllerHelpers.Select(this),ControllerHelpers.QuickZoom(this)})}.call(this),function(){var e;e=1,concern("ControllerHelpers","QuickZoom",function(){var t,n,r,i;return t={location:null,scale:null},r=function(t){return currentScene.zoomTo(t,e)},i=function(){return null==t.location&&(t.location=currentScene.getCenter()),null==t.scale&&(t.scale=currentScene.zoomFitScale()),currentScene.zoomTo(t.location,t.scale)},n=function(){return t.location=currentScene.toWorld(map.getViewportCenter()),t.scale=currentScene.scale},this.quickZoom=function(t){var o;return o=currentScene.pick(t),currentScene.scale>=e?o&&o instanceof Node?currentScene.centerOn(o.position):i():(n(),r(t))}})}.call(this),function(){concern("ControllerHelpers","Select",function(){return this.select=function(e){return function(t,n){return null==n&&(n={}),_.defaults(n,{toggle:!1}),t?map.select(t,n):map.resetSelection(),e.model.trigger("click",t)}}(this)})}.call(this),function(){var e;e=function(){function e(){Shortcuts.bind("TAB",function(e){return e.preventDefault()}),this.addObserverShortcuts(),able.to("update","project")&&this.addContributorShortcuts(),Env.isDevelopment()&&this.addDevelopmentShortcuts()}return e.prototype.addDevelopmentShortcuts=function(){},e.prototype.addObserverShortcuts=function(){var e,t,n;for(Shortcuts.bind("SHIFT+TAB",function(){return Workflows.redirectToDashboard()}),Shortcuts.bind("SHIFT+/",function(){return Modal.open("help")}),Shortcuts.bind("ESC",function(){return map.reset()}),Shortcuts.bind("Z",function(){return map.revertView()}),Shortcuts.bind("TAB",function(){return sidebar.toggle()}),Shortcuts.bind("T",function(){return map.toggleSettingsForm()}),Shortcuts.bind("S",function(){return Workflows.openConsole()}),Shortcuts.bind("ALT+F",function(){return Workflows.fullscreen({mapOnly:!1})}),Shortcuts.bind("ALT+SHIFT+F",function(){return Workflows.fullscreen({mapOnly:!0})}),Shortcuts.bind("K",function(){return Workflows.sketch()}),Shortcuts.bind("SPACE",function(){return map.toggleLayout()}),Shortcuts.bind("B",function(){return map.bump()}),t=function(e){return Shortcuts.bind(""+e,function(){return map.refocus({degree:e})})},e=n=0;9>=n;e=++n)t(e);return Shortcuts.bind("PLUS",function(){return map.expand()}),Shortcuts.bind("MINUS",function(){return map.contract()}),Shortcuts.bind("BACKTICK",function(){return map.clearFocus()}),Shortcuts.bind("]",function(){return map.zoomIn()}),Shortcuts.bind("[",function(){return map.zoomOut()}),Shortcuts.bind("\\",function(){return map.zoomFit()}),Shortcuts.bind("UP",function(){return map.panUp()}),Shortcuts.bind("DOWN",function(){return map.panDown()}),Shortcuts.bind("LEFT",function(){return map.panLeft()}),Shortcuts.bind("RIGHT",function(){return map.panRight()}),Shortcuts.bind("ALT+R",function(){return map.refresh()}),Shortcuts.bind("A",function(){return map.select("*")}),Shortcuts.bind("SHIFT+E",function(){return map.select("element")}),Shortcuts.bind("SHIFT+C",function(){return map.select("connection")}),Shortcuts.bind("SHIFT+L",function(){return map.select("loop")}),Shortcuts.bind("Q",function(){return map.toggleQuality()}),Shortcuts.bind("ALT+S",function(){return Workflows.viewSource()}),Shortcuts.bind("ALT+SHIFT+S",function(){return Workflows.viewSource({effective:!0})}),Shortcuts.bind("PERIOD",function(){return map.showSettingsForm("code")})},e.prototype.addContributorShortcuts=function(){return Shortcuts.connecting=function(e){return 1===e.which&&e.altKey},Shortcuts.bind("CTRL+M",function(){return sidebar.openMetricsView()}),Shortcuts.bind("E",function(){return Workflows.beginAddElement()}),Shortcuts.bind("C",function(){return Workflows.beginAddConnection()}),Shortcuts.bind("L",function(){return Workflows.beginAddLoop()}),Shortcuts.bind("I",function(){return Workflows["import"]()}),Shortcuts.down("X",function(){return Workflows["export"]()}),Shortcuts.bind("R",function(){return Workflows.renameSelection()}),Shortcuts.bind("U",function(){return Workflows.updateConnectionDirection("undirected")}),Shortcuts.bind("D",function(){return Workflows.updateConnectionDirection("directed")}),Shortcuts.bind("M",function(){return Workflows.updateConnectionDirection("mutual")}),Shortcuts.bind("ALT+D",function(){return Workflows.reverseConnectionDirection()}),Shortcuts.bind("/",function(){return app.execute(ToggleDirectedCommand,graph.selection)}),Shortcuts.bind("P",function(){return Workflows.pin(!0)}),Shortcuts.bind("ALT+P",function(){return Workflows.pin(!1)}),Shortcuts.bind("DEL, BACKSPACE",function(){return Workflows.deleteSelection()})},e}(),namespace("Interactions",function(t){return t.KeyboardHandler=e})}.call(this),function(){var e;e=function(e){return e.pickable&&e.display.pickable},concern("SceneConcerns","Picking",function(t){var n,r,i,o,a,s;return i=20,r=10,n=5,a=function(n){var r,o,a,s,u;if(t.guide.labelPickingEnabled()){for(u=i/t.display.scale,s=t.labels,r=0,a=s.length;a>r;r++)if(o=s[r],e(o)&&Vector.distance(o.display.position,n)<=u)return o;return null}},s=function(n){var i,o,a,s,u,l;if(t.guide.nodePickingEnabled()){for(a=r/t.display.scale,u=t.nodesIncreasing,i=0,o=u.length;o>i;i++)if(s=u[i],e(s))if("circle"===s.display.shape){if(l=Math.max(a,s.display.radius),Vector.distance(s.display.position,n)<=l)return s}else if(s.display.coreBounds.contains(n))return s;return null}},o=function(r){var i,o,a,s,u,l,c,p,h,f,d,m,g,v,y,b,w,_,x,E,k,C,A,S,M;if(t.guide.edgePickingEnabled()){for(g=n/t.display.scale,y=t.edges,d=0,m=y.length;m>d;d++)if(h=y[d],e(h))if(w=Math.max(g,h.display.pathWidth/2),"curved"===h.display.shape){if(u=Math.abs(h.display.circle.radius-Vector.distance(h.display.circle.center,r)),w>=u&&(b=Vector.cross(h.display.vector,Vector.subtract(r,h.display.midpoint))*Vector.cross(h.display.vector,Vector.subtract(h.display.circle.center,h.display.midpoint))>0,f=h.isFull()?b:!b))return h}else if(_=r.x,C=r.y,x=h.display.start.x,A=h.display.start.y,E=h.display.end.x,S=h.display.end.y,i=_-x,o=C-A,a=E-x,s=S-A,l=i*a+o*s,v=l/(a*a+s*s),0>v||x===E&&A===S?(k=x,M=A):v>1?(k=E,M=S):(k=x+v*a,M=A+v*s),c=_-k,p=C-M,u=Math.sqrt(c*c+p*p),w>=u)return h;return null}},this.pick=function(e){return a(e)||s(e)||o(e)}})}.call(this),function(){var e,t,n,r,i,o,a;o=TWEEN.Easing.Cubic.InOut,r=500,i=1e3,t=1,e=.1,n="normal",a=function(){function r(e){this.model=e,this.settings={},this.reset(),this.listenTo(this.model,"change:idle",this.onChangeIdle)}return _.extend(r.prototype,Backbone.Events),r.parse=function(e){var t;return(t=e.match(/(.*?),?\s*!(strict|loose)$/i))?{selector:t[1],mode:t[2]}:{selector:e}},r.prototype.onChangeIdle=function(){return this.model.get("idle")&&this.model.get("hover")?this.enter():(0!==this.model.revealed.length&&this.model.revealed.reset(),this.leave())
},r.prototype.force=function(e,t){return this.leave(),this.forced=ArrayHelper.keymap(_.pluck(e,"cid")),this.mode=t||n,this.enter()},r.prototype.release=function(){return this.forced?(this.forced=null,this.leave()):void 0},r.prototype.refresh=function(){var e,t,n,r,i,o,a,s,u,l,c,p,h,f,d,m,g,v;if(this.highlighted={},this.showcased={},this.hover=this.model.get("hover"),this.active=this.model.get("active"),this.focused=this.model.get("focus"),this.revealed=ArrayHelper.keymap(this.model.revealed.cids()),this.selected=ArrayHelper.keymap(this.model.selection.cids()),n=this.hover||this.active||this.model.revealed.length>0||this.model.selection.length>0,this.scene&&this.scene.ready&&(this.forced||n)){for(t=this.scene.graphs.visible,f=t.nodes.models,r=0,u=f.length;u>r;r++)if(h=f[r],this.engaged(h)&&(this.showcase(h),"loose"===this.mode||h===this.hover||h===this.active))for(d=h.edges,i=0,l=d.length;l>i;i++)e=d[i],this.showcaseEdge(e);for(m=t.edges.models,o=0,c=m.length;c>o;o++)e=m[o],this.engaged(e)?(this.showcaseEdge(e),this.highlight(e.from),this.highlight(e.to)):"strict"!==this.mode&&this.include(e.from)&&this.include(e.to)&&this.showcase(e);for(g=t.labels.models,v=[],a=0,p=g.length;p>a;a++)s=g[a],this.engaged(s)?(this.showcase(s),v.push(function(){var t,n,r,i;for(r=s.edges,i=[],n=0,t=r.length;t>n;n++)e=r[n],this.showcaseEdge(e),this.highlight(e),this.highlight(e.from),i.push(this.highlight(e.to));return i}.call(this))):v.push(void 0);return v}return this.showcased=!1},r.prototype.include=function(e){return!this.showcased||this.showcased[e.cid]},r.prototype.opacity=function(e){return this.include(e)?this.foregroundOpacity:this.backgroundOpacity},r.prototype.isActive=function(){return!!this.showcased},r.prototype.isEmpty=function(){return!this.showcased},r.prototype.highlight=function(e){return this.highlighted[e.cid]=!0},r.prototype.showcase=function(e){return this.showcased[e.cid]=!0},r.prototype.showcaseEdge=function(e){return this.showcase(e)&&this.showcase(e.from)&&this.showcase(e.to)},r.prototype.engaged=function(e){return this.forced?this.forced[e.cid]:e.active||e===this.hover||e===this.active||this.revealed[e.cid]||this.selected[e.cid]},r.prototype.enter=function(){return this.transition("in")},r.prototype.leave=function(){return this.forced?void 0:this.transition("out")},r.prototype.reset=function(r){var i,o,a,s;return i=this.backgroundOpacity,this.settings.foregroundOpacity=null!=(o=null!=r?r.foregroundOpacity:void 0)?o:t,this.settings.backgroundOpacity=null!=(a=null!=r?r.backgroundOpacity:void 0)?a:e,this.backgroundOpacity=this.foregroundOpacity=this.settings.foregroundOpacity,null!=i&&(this.backgroundOpacity=Math.min(this.backgroundOpacity,i)),this.forced=null,this.mode=n,null!=(s=this.tween)&&s.stop(),this.tween=null,this.highlighted={},this.showcased=!1},r.prototype.transition=function(e){var t,n;if(this.tween){if(this.tween.direction===e)return;this.tween.stop(),this.tween=null}return this.refresh(),t=this,n=function(){switch(e){case"in":return this.settings.backgroundOpacity;case"out":return this.settings.foregroundOpacity}}.call(this),n!==this.backgroundOpacity?(this.tween=new TWEEN.Tween({opacity:this.backgroundOpacity}).to({opacity:n},i).easing(o).onUpdate(function(){return t.backgroundOpacity=this.opacity,map.invalidate()}).onComplete(function(){return t.tween=null,"out"===e?(t.refresh(),map.invalidate()):void 0}).start(),this.tween.direction=e):void 0},r}(),namespace("window",function(e){return e.Showcase=a})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="map",n.prototype.className="map",n.build=function(e){var t,r;return t=new n.Model(e),r=new n({model:t}),window.map=r,window.MapController=r,r},n.prototype.initialize=function(){return this.hide(),this.initializeFeatureSupport(),this.requestRefresh=_.debounce(function(e){return function(){return e.display.refresh()}}(this),0),MapViewConcerns.Selection(this)},n.prototype.initializeFeatureSupport=function(){return this.supports={fullscreen:screenfull.enabled}},n.prototype.init=function(e){return e&&Session.bootstrap(e),this.initializeRouter(),this.initializeModel(),this.initializeViews(),this.addWindowListeners(),this.addSessionListeners(),this.addModelListeners(),this.render()},n.prototype.initializeRouter=function(){return window.router=this.router=new Routers.MapRouter(this)},n.prototype.initializeModel=function(){return this.model.view=this,this.model.set("view",this),this.map=this.model},n.prototype.initializeViews=function(){return this.display=new MapDisplay({model:this.model}),this.overlays=new OverlaysContainer({model:this.model}),this.sidebar=this.overlays.sidebar,this.viewport=this.overlays.viewport,this.settings=new MapSettingsContainer,window.sidebar=this.sidebar,this.recenter()},n.prototype.render=function(){return $("body").css("overflow","hidden"),this.$el.html('<div class="main"></div>\n<div class="underlays sync-scene-background"></div>').attr("id","map").addClass("map").appendTo("body"),this.$el.find("> .main").append(this.display.render().el).append(this.overlays.render().el),this.$el.find("> .underlays").append(this.settings.render().el),this.onEnterMode(this.model.get("mode")),this.resize(),this},n.prototype.resize=function(e,t){var n;return 0===arguments.length?(n=this.get("mode"),n.resize?n.resize():(e=this.$el.width(),t=this.$el.height(),this.resize(e,t))):(this.display.resize(),this.recenter(),this.$el.triggerHandler("resize"))},n.prototype.recenter=function(e){return this.updateViewport(),this.display.recenter(e)},n.prototype.updateViewport=function(){return this.display.viewportBounds=this.viewport.update()},n.prototype.busy=function(e,t,n){var r;return _.isObject(e)&&(n=t,t=e,e=void 0),_.isFunction(t)&&(n=t,t={}),t=_.defaults({},t,{wait:!0}),e===!1?(this.clearBusyTimeout(),this.overlays.modal.hide()):(r=function(t){return function(){return t.overlays.modal.show(e,n)}}(this),t.wait?null!=this.busyTimeout?this.busyTimeout:this.busyTimeout=setTimeout(r,1e3):(this.clearBusyTimeout(),r()))},n.prototype.clearBusyTimeout=function(){return clearTimeout(this.busyTimeout),this.busyTimeout=null},n.prototype.addWindowListeners=function(){var e;return e=this,$(window).on("resize orientationchange",function(){return e.resize()}).on("blur",function(e){return function(){return e.model.set("idle",!0),e.model.trigger("blur")}}(this)).on("beforeunload",function(e){return function(){return e.shouldPromptForUnsavedViewChanges()?(e.showSettingsForm(),confirm("Are you sure you want to leave this view without saving?")):void 0}}(this))},n.prototype.addSessionListeners=function(){return Dispatch.on("load",function(e){return function(){var t;return e.trigger("preload"),Backbone.history.start({pushState:!1}),e.trigger("load"),e.listenTo(Session,"change:map",e.onChangeMap),e.listenTo(Session,"change:perspective",e.onChangePerspective),currentMap&&e.onChangeMap(),currentPerspective&&e.onChangePerspective(),t=e.model.get("defaultSidebarView"),t&&sidebar.push(t,{force:!0,animate:!1}),e.recenter(),sidebar.$el.on("toggle",function(){return e.recenter({seamless:!0})}),e.display.start(),iframed()||e.focus(),e.trigger("ready")}}(this))},n.prototype.show=function(){return this.$el.show(),this.resize()},n.prototype.hide=function(){return this.$el.hide()},n.prototype.cancel=function(){return this.trigger("cancel")},n.prototype["import"]=function(e){var t,n;return t=currentMap.build(e),n=new Views.Imports.Show({model:t}),this.sidebar.push(n)},n.prototype.invalidate=function(){var e;return null!=(e=this.display)?e.invalidate():void 0},n.prototype.reset=function(){return this.isFocused()&&this.clearFocus(),this.hasSelection()&&this.resetSelection(),this.resetShowcase(),this.resetInteraction()},n.prototype.revertView=function(){return this.overlays.controls.ref.reset().then(function(e){return function(){return e.setStyle(currentPerspective.get("style"))}}(this))},n.prototype.set=function(){var e;return(e=this.model).set.apply(e,arguments)},n.prototype.get=function(){var e;return(e=this.model).get.apply(e,arguments)},n.prototype.getNotifications=function(){return this.model.notifications},n.prototype.addNotification=function(e,t){return this.model.addNotification(e,t)},n.prototype.removeNotification=function(e){return this.model.removeNotification(e)},n.prototype.getMode=function(){return this.model.get("mode")},n.prototype.getModeID=function(){return this.model.get("mode").id},n.prototype.setMode=function(e){return this.model.set("mode",e)},n.prototype.isMode=function(e){var t;return(null!=(t=this.getMode())?t.id:void 0)===e},n.prototype.resetMode=function(){return this.model.set("mode",DefaultMode)},n.prototype.isEmbedded=function(){return this.$el.is(".embedded")},n.prototype.isEmbed=function(){return currentProject.isEmbed()},n.prototype.isPresentation=function(){return this.__presentation},n.prototype.preview=function(){return this.setMode(PreviewMode)},n.prototype.present=function(){return this.preview()},n.prototype.getTool=function(){return this.model.get("tool")},n.prototype.pushTool=function(e){return this.model.pushTool(e)},n.prototype.popTool=function(){return this.model.popTool()},n.prototype.setTool=function(e){return this.model.set("tool",e)},n.prototype.resetTool=function(){return this.setTool(new MoveSelectTool)},n.prototype.isReady=function(){return"undefined"!=typeof currentScene&&null!==currentScene&&currentScene.isReady()},n.prototype.shouldZoomFitOnLoad=function(){return this.getMode().shouldZoomFitOnLoad()},n.prototype.shouldZoomFitOnFocus=function(){return this.getMode().shouldZoomFitOnFocus()},n.prototype.shouldRespondToRoute=function(){var e,t;return null!=(t="function"==typeof(e=this.getMode()).shouldRespondToRoute?e.shouldRespondToRoute():void 0)?t:!0},n.prototype.shouldShowPermalinksInProfile=function(){var e,t;return null!=(t="function"==typeof(e=this.getMode()).shouldShowPermalinksInProfile?e.shouldShowPermalinksInProfile():void 0)?t:!0},n.prototype.loadBlueprint=function(e){return this.model.load(e)},n.prototype.width=function(){return this.$el.width()},n.prototype.height=function(){return this.$el.height()},n.prototype.bounds=function(){return new Rectangle(0,0,this.$el.width(),this.$el.height())},n.prototype.center=function(){return new Vector(this.width()/2,this.height()/2)},n.prototype.getViewportWidth=function(){return this.overlays.viewport.width()},n.prototype.getViewportHeight=function(){return this.overlays.viewport.height()},n.prototype.getViewportBounds=function(){return this.overlays.viewport.bounds()},n.prototype.getViewportBoundsWorld=function(){return this.toWorld(this.getViewportBounds())},n.prototype.getViewportCenter=function(e){return this.getViewportBounds(e).center()},n.prototype.getViewportCenterWorld=function(e){return this.toWorld(this.getViewportCenter(e))},n.prototype.legendIsVisible=function(){return this.display.legend.$el.is(":visible")},n.prototype.toggleLegend=function(e){return this.display.legend.$el.toggleClass("hidden",!e)},n.prototype.sidebarWidth=function(){return this.overlays.sidebar.width()},n.prototype.sidebarIsOpen=function(){return this.sidebar.isOpen()},n.prototype.minimizeSidebar=function(){return sidebar.maximized?sidebar.minimize():void 0},n.prototype.toggleSidebar=function(e){return 0===arguments.length?this.sidebar.toggle():this.sidebar.toggle(e)},n.prototype.getMap=function(){return this.model.get("map")},n.prototype.getSelector=function(){return this.model.get("selector")},n.prototype.getExplicitSelector=function(){return this.model.get("selector")},n.prototype.getImplicitSelector=function(){return this.getEntitySelection().getDirectSelector()},n.prototype.getBestSelector=function(){return this.getSelector()||this.getImplicitSelector()},n.prototype.getSelection=function(){return this.model.selection},n.prototype.getSelectionCount=function(){return this.model.selection.length},n.prototype.getEntitySelection=function(){return this.model.selection.toEntitySelection()},n.prototype.getSelectedComponents=function(){return this.model.selection.models},n.prototype.getSelectedNodes=function(){return this.model.selection.nodes()},n.prototype.getSelectedEdges=function(){return this.model.selection.edges()},n.prototype.getSelectedElements=function(){return this.model.selection.getElements()},n.prototype.getSelectedConnections=function(){return this.model.selection.getConnections()},n.prototype.lockSelection=function(){return this.model.selection.lock("selected")},n.prototype.unlockSelection=function(){return this.model.selection.unlock("selected")},n.prototype.hasSelection=function(){return this.model.selection.length>0},n.prototype.getScene=function(){return currentScene},n.prototype.getStyleGuide=function(){return currentScene.guide},n.prototype.getGraph=function(){return currentScene.graphs.visible},n.prototype.getDataset=function(){return this.getGraph().dataset()},n.prototype.getElements=function(){return this.getDataset().elements},n.prototype.getNodes=function(){return this.getGraph().nodes.slice()},n.prototype.screenshot=function(e){var t,n;if(n=this.getScreenshot(e))return t="Right click to save.\nNeed something higher quality?\n<a href='http://blog.kumu.io/create-high-quality-pdfs/' target='_blank'>Request a pdf</a>\n<i class='fa fa-file-pdf-o'></i>",$.magnificPopup.open({mainClass:"screenshot",type:"image",items:{src:n,title:t}})},n.prototype.getScreenshot=function(e){return this.display.getScreenshot(e)},n.prototype.focus=function(){return this.display.focus()},n.prototype.refresh=function(e){return this.display.refresh(e)},n.prototype.redecorate=function(){return this.display.redecorate()},n.prototype.decorate=function(){return this.redecorate()},n.prototype.snapTo=function(e,t){return 1===arguments.length&&(t=e,e=this.getSelectedNodes()),snapToShape(e,t)},n.prototype.resetInteraction=function(){return this.model.resetInteraction()},n.prototype.find=function(){return finder.find.apply(finder,arguments)},n.prototype.isFiltered=function(){return currentScene.filter.isActive()},n.prototype.getFilter=function(){return currentScene.filter},n.prototype.setFilter=function(){var e;return(e=currentScene.filter).set.apply(e,arguments),map.refresh()},n.prototype.clearFilter=function(){return currentScene.filter.reset(),map.refresh()},n.prototype.resetFilter=function(){return this.clearFilter()},n.prototype.shouldShowAdvancedFilter=function(){return currentScene.filter.isAdvanced()},n.prototype.getFocus=function(){return currentScene.focus},n.prototype.getFocusDegree=function(){return currentScene.focus.degree()},n.prototype.getFocusRoots=function(){return currentScene.focus.toJSON().roots},n.prototype.isFocused=function(){return currentScene.focus.isActive()},n.prototype.hasFocus=function(){return this.isFocused()},n.prototype.setFocus=function(){var e;return(e=currentScene.focus).set.apply(e,arguments),this.afterFocusChange()},n.prototype.refocus=function(){var e;return(e=currentScene.focus).update.apply(e,arguments),this.afterFocusChange()},n.prototype.expand=function(){return currentScene.focus.expand(),this.afterFocusChange()},n.prototype.contract=function(){return currentScene.focus.contract(),this.afterFocusChange()},n.prototype.extend=function(){var e;return(e=currentScene.focus).extend.apply(e,arguments),this.afterFocusChange()},n.prototype.clearFocus=function(){return currentScene.focus.resetRoots(),this.afterFocusChange()},n.prototype.resetFocus=function(){return currentScene.focus.resetRoots(),this.afterFocusChange()},n.prototype.isFocused=function(){return currentScene.focus.isActive()},n.prototype.isPrompted=function(){return currentScene.focus.isRequired()},n.prototype.needsFocus=function(){return currentScene.needsFocus()},n.prototype.cluster=function(){var e;return(e=currentScene.cluster).by.apply(e,arguments),map.refresh()},n.prototype.clearClusters=function(){return currentScene.cluster.reset(),map.refresh()},n.prototype.afterFocusChange=function(){return this.refresh({full:!1}),currentScene.focus.isRequired()&&currentScene.focus.isEmpty()?this.showFocusPrompt():(currentScene.focus.isPresent()&&(this.unlockSelection(),currentScene.start({temperature:.6})),this.shouldZoomFitOnFocus()?this.beginZoomFit():void 0)},n.prototype.getScale=function(){return currentScene.scale},n.prototype.getTranslation=function(){return currentScene.translation},n.prototype.toWorld=function(){return currentScene.toWorld.apply(currentScene,arguments)},n.prototype.toWorldScale=function(){return currentScene.toWorldScale.apply(currentScene,arguments)},n.prototype.pick=function(e){return this.pickWorld(this.toWorld(e))},n.prototype.pickWorld=function(e){return currentScene.pick(e)},n.prototype.zoom=function(e,t){return currentScene.zoom(e,t)},n.prototype.zoomTo=function(e,t,n){return currentScene.zoomTo(e,t,n)},n.prototype.zoomAt=function(e,t,n){return currentScene.zoomAt(e,t,n)},n.prototype.zoomIn=function(){return currentScene.zoomIn()},n.prototype.zoomOut=function(){return currentScene.zoomOut()},n.prototype.zoomFit=function(e){return currentScene.zoomFit(e)},n.prototype.zoomFitNice=function(e){return currentScene.zoomFitNice(e)},n.prototype.zoomFitOnSelection=function(e,t){var n;return null==t&&(t={neighbors:!0}),e instanceof SelectionModel||(t=e,e=this.model.selection),n=e.getBounds(t),this.zoomFitNice({bounds:n})},n.prototype.beginZoomFit=function(){return currentScene.beginZoomFit()},n.prototype.cancelZoomFit=function(){return currentScene.cancelZoomFit()},n.prototype.pan=function(e,t){return currentScene.pan(e,t)},n.prototype.panLeft=function(){return currentScene.panLeft()},n.prototype.panRight=function(){return currentScene.panRight()},n.prototype.panUp=function(){return currentScene.panUp()},n.prototype.panDown=function(){return currentScene.panDown()},n.prototype.transform=function(){return currentScene.transform.apply(currentScene,arguments)},n.prototype.isActive=function(){return currentScene.isActive()},n.prototype.freeze=function(){return this.display.frozen=!0,this.stop()},n.prototype.unfreeze=function(){return this.display.frozen=!1,this.start()},n.prototype.start=function(e){return e=_.defaults({},e,{soft:!1,temperature:.8}),!e.soft||this.isActive()?(currentScene.start(e),this.trigger("start")):void 0},n.prototype.stop=function(){return currentScene.stop(),this.trigger("stop")},n.prototype.toggleLayout=function(){return this.isActive()?this.stop():this.start()},n.prototype.bump=function(){return currentScene.bump(),this.start()},n.prototype.menu=function(e){switch(e){case"maps":case"perspectives":return Modal.open("overview")}},n.prototype.navigate=function(){var e;return(e=this.router).navigate.apply(e,arguments)},n.prototype.virtualize=function(e){var t;return log.warn("map.virtualize deprecated"),t=new AttributeVirtualization({map:currentMap,attribute:e}),t.execute(),t},n.prototype.toggleQuality=function(){var e;return e=currentScene.guide.get("quality"),e=function(){switch(e){case"best":return"fast";case"fast":return"best"}}(),this.setSetting("quality",e),currentPerspective.compile(),this.refresh()},n.prototype.showcase=function(e,t){var n,r,i;return null==t&&(t={}),e?(_.isString(e)&&(i=Showcase.parse(e),e=i.selector,r=i.mode),t.mode&&(r=t.mode),n=this.visibleComponentsForSelection(e),this.display.showcase.force(n,r),(null!=t?t.zoomFit:void 0)?this.zoomFitOnSelection(new ComponentSelection(n),{neighbors:!1}):void 0):this.resetShowcase()},n.prototype.resetShowcase=function(){return this.display.resetShowcase()},n.prototype.showSelectionBox=function(e){return this.overlays.showSelectionBox(e)},n.prototype.hideSelectionBox=function(){return this.overlays.hideSelectionBox()},n.prototype.showFocusPrompt=function(){return this.overlays.prompt.show()},n.prototype.hideFocusPrompt=function(){return this.overlays.prompt.hide()},n.prototype.showSettingsForm=function(e){return e&&this.settings.show(e),this.$el.addClass("settings-open")},n.prototype.hideSettingsForm=function(){return this.$el.removeClass("settings-open")},n.prototype.toggleSettingsForm=function(e){return this.isSettingsFormOpen()?this.hideSettingsForm():this.showSettingsForm(e)},n.prototype.isSettingsFormOpen=function(){return this.$el.hasClass("settings-open")},n.prototype.getStyle=function(){return currentScene.getStyle()},n.prototype.setStyle=function(e){return currentScene.setStyle(e),map.refresh()},n.prototype.restoreStyle=function(){return currentScene.style.restore()},n.prototype.forceStyleRefresh=function(){return this.setStyle(this.getStyle())},n.prototype.getResolution=function(){return this.display.getResolution()},n.prototype.setResolution=function(e){return this.display.setResolution(e)},n.prototype.setSetting=function(e,t){return currentScene.style.set(e,t),this.refresh()},n.prototype.setSettings=function(e){return currentScene.style.set(e),this.refresh()},n.prototype.getSetting=function(e){return currentScene.style.get(e)},n.prototype.guide=function(){return currentScene.guide},n.prototype.open=function(e,t,n){return Session.set({map:e,perspective:t}),this.display.open(e,t,n)["catch"](function(n){return MapController.busy(!1),Workflows.unableToOpenMap(n,e,t)})},n.prototype.reload=function(){return this.busy({wait:!1}),currentMap.resetLoad(),this.open(currentMap,currentPerspective,{reload:!0})},n.prototype.openDecorationsPanel=function(){return this.trigger("edit-perspective-decorations")},n.prototype.captureSceneState=function(){return{map:currentMap,perspective:currentPerspective,sidebarIsOpen:this.sidebarIsOpen(),scene:{offset:currentScene.offset.clone(),scale:currentScene.scale,translation:currentScene.translation.clone()}}},n.prototype.restoreSceneState=function(e){return this.open(e.map,e.perspective).then(function(t){return function(){return t.toggleSidebar(e.sidebarIsOpen),t.transform(e.scene,{animate:!1})}}(this))},n.prototype.addModelListeners=function(){return this.listenTo(this.model,"enter:mode",this.onEnterMode),this.listenTo(this.model,"exit:mode",this.onExitMode)},n.prototype.onChangeMap=function(){var e;return e=this.model.get("map"),e&&this.stopListening(e),this.listenTo(currentMap,"change:src",this.applyCurrentMapToDOM),this.applyCurrentMapToDOM(),currentMap?this.show():this.hide(),this.model.set({map:currentMap,perspective:currentPerspective})},n.prototype.applyCurrentMapToDOM=function(){return this.$el.toggleClass("is-read-only",Boolean("undefined"!=typeof currentMap&&null!==currentMap?currentMap.isReadOnly():void 0))},n.prototype.onChangePerspective=function(){var e;return e=this.model.get("perspective"),e&&this.stopListening(e),this.listenTo(currentPerspective,"change:name",this.onChangePerspectiveName),this.model.set("perspective",currentPerspective)},n.prototype.onChangePerspectiveName=function(){return this.trigger("change:perspectivename",currentPerspective)},n.prototype.hasViewChanges=function(){var e,t,n;return"undefined"==typeof currentScene||null===currentScene?!1:(n=currentScene.style,t=(n.source||"").trim(),e=(currentPerspective.get("style")||"").trim(),t!==e)},n.prototype.shouldPromptForUnsavedViewChanges=function(){return this.hasViewChanges()&&able.to("update","project")},n.prototype.onEnterMode=function(e){return $("body").attr("data-mode",e.id),this.$el.attr("data-mode",e.id),e.enter(this)},n.prototype.onExitMode=function(e){return this.$el.attr("data-mode",void 0),e.exit(this)},n}(Backbone.View),namespace("window",function(t){return t.MapView=e})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].slice;MapView.Model=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.defaults=function(){return{view:null,theme:StyleGuide.base(),map:null,tool:new MoveSelectTool,display:new Kumu.Canvas.View,perspective:null,mode:DefaultMode,idle:!0,sleep:!1,hover:null,active:null,renderer:"canvas",quality:"best",selector:null,selection:[]}},r.prototype.initialize=function(){return this.tools=[this.get("tool")],this.notifications=[],this.selection=new ComponentSelection,this.revealed=new ComponentSelection,this.listenTo(this,"all",this.onEvent),this.listenTo(this.selection,"add remove reset",function(){return this.view.trigger("change:selection",this.selection)}),this.listenTo(this.selection,"add",function(e){return e.select()}),this.listenTo(this.selection,"remove",function(e){return e.deselect()}),this.listenTo(this.selection,"reset",function(e,t){var n,r,i,o,a,s,u,l;for(s=t.previousModels,n=0,i=s.length;i>n;n++)a=s[n],a.deselect();for(u=e.models,l=[],r=0,o=u.length;o>r;r++)a=u[r],l.push(a.select());return l})},r.prototype.onEvent=function(){var e,t;switch(e=1<=arguments.length?n.call(arguments,0):[],t=e[0]){case"blur":return this.onBlur();case"change:map":case"change:perspective":return this.fwd.apply(this,e);case"change:selection":return this.onSelectionChanged();case"change:mode":return this.onModeChanged()}},r.prototype.onBlur=function(){return this.resetInteraction()},r.prototype.resetInteraction=function(){return this.set({hover:null,active:null})},r.prototype.load=function(e){return Blueprint.wrap(e).build()},r.prototype.onSelectionChanged=function(){return this.selection.reset(this.get("selection"))},r.prototype.onModeChanged=function(){var e,t;return t=this.previous("mode"),e=this.get("mode"),t&&this.trigger("exit:mode",t),e&&this.trigger("enter:mode",e),this.view.trigger("change:mode",this.get("mode"))},r.prototype.fwd=function(){return this.view.trigger.apply(this.view,arguments)},r.prototype.pushTool=function(e){return this.tools.push(e),this.set({tool:e})},r.prototype.popTool=function(){return this.tools.pop(),this.set({tool:_.last(this.tools)})},r.prototype.addNotification=function(e,t){return null==t&&(t=0),this.notifications=[].concat(this.notifications,{notification:e,priority:t}),this.view.trigger("change:notifications",this.notifications)},r.prototype.removeNotification=function(e){return this.notifications=this.notifications.filter(function(t){return t.notification!==e}),this.view.trigger("change:notifications",this.notifications)},r}(Backbone.Model)}.call(this),function(){concern("SceneConcerns","Conversion",function(e){return e.toScreen=function(e){var t,n;return e instanceof Vector?Vector.add(e,this.display.translation).multiply(this.display.scale).add(this.display.offset):e instanceof Rectangle?(n=this.toScreen(e.min()),t=this.toScreen(e.max()),Rectangle.withCorners(n,t)):void 0},e.toWorld=function(e){var t,n;return e instanceof Vector?Vector.subtract(e,this.display.offset).divide(this.display.scale).subtract(this.display.translation):e instanceof Rectangle?(n=this.toWorld(e.min()),t=this.toWorld(e.max()),Rectangle.withCorners(n,t)):void 0},e.toWorldScale=function(e){return e instanceof Vector?Vector.divide(e,this.display.scale):void 0}})}.call(this),function(){var e;e=function(){function e(){this.bounds=new Rectangle,this.boundsFix=new Rectangle,this.effects=[]}return e.prototype.use=function(e){return this.stack=e,this},e.prototype.preprocess=function(e){return this.process(e,{force:!0,cull:!1,silent:!0})},e.prototype.process=function(e,t){return null==t&&(t={}),(t.redecorate||t.force)&&(t.style=t.dress=!0),t.bounds=this.bounds.copy(e.bounds||this.boundsFix).scale(1.2),e.clear(),this.prepareStylists(e),this.processComponents(e,t),e.display.scaleReconciled=!0,e.finalize()},e.prototype.prepareStylists=function(e){return this.stack.guide(e.guide),this},e.prototype.processComponents=function(e,t){return this.processNodes(e,t),this.processEdges(e,t),this.processLabels(e,t)},e.prototype.processNodes=function(e,t){var n,r,i,o;for(o=e.graphs.visible.nodes.models,n=0,r=o.length;r>n;n++)i=o[n],(i.display.positionChanged=i.positionHasChanged())&&(i.display.position.x=i.position.x,i.display.position.y=i.position.y),this.processComponent(this.stack.nodes,e,i,t);return void 0},e.prototype.processEdges=function(e,t){var n,r,i,o;for(o=e.graphs.visible.edges.models,r=0,i=o.length;i>r;r++)n=o[r],n.display.from=n.from.display,n.display.to=n.to.display,this.processComponent(this.stack.edges,e,n,t);return void 0},e.prototype.processLabels=function(e,t){var n,r,i,o;for(o=e.graphs.visible.labels.models,n=0,i=o.length;i>n;n++)r=o[n],r.isPinned()||r.isLocked()||r.updatePosition(),r.display.position.x=r.position.x,r.display.position.y=r.position.y,this.processComponent(this.stack.labels,e,r,t);return void 0},e.prototype.processComponent=function(e,t,n,r){return n.culled=e.cull(n,r.bounds),r.cull&&n.culled||((n.style.invalid||r.style)&&this.style(e,t,n,r),n.visible=e.visible(n,t),!n.visible&&!r.dress||((n.display.invalid||r.dress)&&this.dress(e,t,n),this.animate(t,n),this.distort(t,n),this.reconcile(e,t,n),!n.visible))?void 0:t.schedule(n)},e.prototype.style=function(e,t,n,r){return e.decorate(t,n),n.style.ready=!0,n.style.invalid=!1,n.invalidate("layout",r),n.invalidate("display",r)},e.prototype.dress=function(e,t,n){var r;return n.active=t.activeComponent===n,n.hover=t.hoverComponent===n,n.highlighted=null!=(r=t.showcase)?r.highlighted[n.cid]:void 0,this.copy(n.style,n.display),e.dress(t,n),n.display.ready=!1,n.display.invalid=!1},e.prototype.animate=function(){},e.prototype.distort=function(e,t){var n,r,i,o,a;for(o=this.effects,a=[],r=0,i=o.length;i>r;r++)n=o[r],a.push(n.apply(e,t));return a},e.prototype.reconcile=function(e,t,n){return e.reconcile(t,n),n.display.ready=!0},e.prototype.copy=function(e,t){var n,r;for(n in e)r=e[n],t[n]=_.isObject(r)?_.clone(r):r;return t},e}(),namespace("window",function(t){return t.RenderPipeline=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e,t){return t.display.zIndex===e.display.zIndex?t.display.area-e.display.area:e.display.zIndex-t.display.zIndex},this.Scene=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.defaults=function(){return{graph:new Graph,placement:new LiquidPlacement}},r.prototype.initialize=function(){return this.active=!1,this.style=StyleModel.root(),this.focus=this.style.focus,this.filter=this.style.filter,this.cluster=this.style.cluster,this.guide=this.style.guide,this.base=this.get("graph"),this.placement=this.get("placement"),this.datasets={primary:null,visible:null},this.graphs={primary:new Graph,visible:new Graph},this.guides={primary:this.guide.clone(),visible:this.guide},this.renderPipeline=new RenderPipeline,this.nodes=[],this.edges=[],this.labels=[],this.underlays={opacity:1,nodes:[],edges:[],labels:[]},this.background={opacity:1,nodes:[],edges:[],labels:[]},this.foreground={opacity:1,nodes:[],edges:[],labels:[]},SceneConcerns.Transformation(this),SceneConcerns.TransformationHelpers(this),SceneConcerns.Conversion(this),SceneConcerns.Picking(this),this.lazyRedecorate=_.debounce(this.redecorate.bind(this),100),this.addSceneGraphListener()},r.prototype.addSceneGraphListener=function(){var e;return e=new SceneGraphListener,e.listen(this)},r.prototype.debug=function(){var e,t,n,r,i,o,a;for(console.log("GRAPHS"),console.log("primary",this.graphs.primary),console.log("visible",this.graphs.visible),console.log("\n\nSCENE"),console.log("scene nodes",this.nodes.length,this.nodes),console.log("scene edges",this.edges.length,this.edges),console.log("scene labels",this.labels.length,this.labels),console.log("\n\nBOUNDS"),console.log("scene bounds",this.bounds),a=[this.nodes,this.edges,this.labels],t=0,r=a.length;r>t;t++)for(e=a[t],n=0,i=e.length;i>n;n++)o=e[n],console.log(o,o.bounds());return void 0},r.prototype.getStyle=function(){return this.style.toStyleSheet()},r.prototype.setStyle=function(e){return this.style.reset(e)},r.prototype.add=function(e){var t,n,r;return t=e.entity,this.initializeComponent(e),null!=(n=this.datasets.primary)&&n[t.collectionName].add(t),null!=(r=this.datasets.visible)&&r[t.collectionName].add(t),this.graphs.primary[e.collectionName].add(e),this.graphs.visible[e.collectionName].add(e)},r.prototype.remove=function(e){var t,n,r;return t=e.entity,null!=(n=this.datasets.primary)&&n[t.collectionName].remove(t),null!=(r=this.datasets.visible)&&r[t.collectionName].remove(t),this.graphs.primary[e.collectionName].remove(e),this.graphs.visible[e.collectionName].remove(e)},r.prototype.initializeComponent=function(e){return e.isNode()&&!e.positionInitialized?(this.placement.position(e),e.positionInitialized=!0):void 0},r.prototype.bump=function(){return this.graphs.visible.bump()
},r.prototype.all=function(){return this.components},r.prototype.each=function(e){return _.each(this.components,e)},r.prototype.visit=function(e){return this.each(e)},r.prototype.map=function(e){return _.map(this.components,e)},r.prototype.collect=function(e){return this.map(e)},r.prototype.start=function(){var e;return this.active=!0,null!=(e=this.layout)?e.start.apply(e,arguments):void 0},r.prototype.stop=function(){var e;return this.cancelZoomFit(),this.active=!1,null!=(e=this.layout)?e.stop():void 0},r.prototype.isReady=function(){return this.ready},r.prototype.isRenderable=function(){return this.ready&&this.bounds},r.prototype.isActive=function(){return this.active},r.prototype.isEmpty=function(){return this.graphs.visible.isEmpty()},r.prototype.isStatic=function(){return!this.layout||this.layout["static"]},r.prototype.clear=function(){return this.nodes.length=this.edges.length=this.labels.length=0,this.underlays.nodes.length=this.underlays.edges.length=this.underlays.labels.length=0,this.background.nodes.length=this.background.edges.length=this.background.labels.length=0,this.foreground.nodes.length=this.foreground.edges.length=this.foreground.labels.length=0},r.prototype.dress=function(e){return this.renderPipeline.style(this,e),this.renderPipeline.dress(this,e),this.renderPipeline.adjust(this,e),this.renderPipeline.reconcile(this,e)},r.prototype.schedule=function(e){var t,n;return n="background"===e.display.layer?this.underlays:!this.showcase||this.showcase.include(e)?this.foreground:this.background,t=e.isLabel()?"labels":e.isNode()?"nodes":"edges",n[t].push(e)},r.prototype.finalize=function(){var t,n,r,i,o,a,s;for(this.underlays.nodes=this.underlays.nodes.sort(e),this.foreground.nodes=this.foreground.nodes.sort(e),this.background.nodes=this.background.nodes.sort(e),this.nodes=this.foreground.nodes.concat(this.background.nodes),this.edges=this.foreground.edges.concat(this.background.edges),this.labels=this.foreground.labels.concat(this.background.labels),this.nodesIncreasing=this.nodes.slice().reverse(),this.nodesByCID=_.sortBy(this.nodes,"cid"),this.edgesByCID=_.sortBy(this.edges,"cid"),a=this.underlays.nodes,t=0,r=a.length;r>t;t++)o=a[t],o.positionUpdated=!1;for(s=this.nodes,n=0,i=s.length;i>n;n++)o=s[n],o.positionUpdated=!1;return this.components=[].concat(this.nodes,this.edges,this.labels)},r.prototype.displaySize=function(e){return e*this.scale},r.prototype.invalidate=function(){return this.base.each(function(e){return e.invalidate()})},r.prototype.getDataset=function(e){return this.graphs[e].dataset()},r.prototype.getPrimaryDataset=function(){return this.getDataset("primary")},r.prototype.getVisibleDataset=function(){return this.getDataset("visible")},r.prototype.getCenter=function(){return this.graphs.visible.center()},r.prototype.getTrueBounds=function(){return this.showcase.forced?this.getShowcaseBounds():this.graphs.visible.bounds()},r.prototype.getShowcaseBounds=function(){return this.graphs.visible.bounds(function(e){return function(t){return e.showcase.include(t)}}(this))},r.prototype.process=function(e){return null==e&&(e={}),e.cull=this.guide.get("culling"),this.renderPipeline.process(this,e)},r.prototype.rebuild=function(e){var t;return null==e&&(e={full:!0}),log.info("Rebuilding from graph",this.base.summary(),e),t=this.isZoomFitting(),this.uuid=uuid(),e.full?(this.reset(),this.rebuildBase(),this.rebuildStyle(),this.rebuildPrimary(),this.rebuildLegend(),this.rebuildPipeline()):(this.resetLayout(),this.resetVisible(),this.graphs.primary.refresh()),this.rebuildVisible(),this.trigger("rebuild"),this.rebuildLayout(),this.ready=!0,this.applyShowcase(),map.trigger("redecorate"),Dispatch.trigger("scene.rebuild"),t?this.beginZoomFit():void 0},r.prototype.rebuildBase=function(){return this.base.removeComponentsWithoutEntities(),this.graphs.primary=this.graphs.visible=this.base,this.datasets.primary=this.base.dataset()},r.prototype.applyCluster=function(e,t){var n,r,i,o,a,s,u;if(this.cluster.isActive()){for(u=this.cluster.execute(currentMap,t),s=u.operations,i=0,o=s.length;o>i;i++)a=s[i],"create"===a.action&&a.model instanceof Component&&(n=a.model,r=n.entity,e[n.collectionName].add(n),t[r.collectionName].add(r));return this.rebuildStyle()}},r.prototype.rebuildPrimary=function(){var e,t;return this.datasets.primary&&this.datasets.primary.dispose(),t=this.graphs.primary=this.guide.filter(this.base),e=this.datasets.primary=t.dataset(),this.applyCluster(t,e),t.each(this.initializeComponent,this),this.listenTo(t,"add",this.initializeComponent),this.listenTo(t,"invalidate:style",this.onInvalidate),this.guides.primary.reset(this.guide)},r.prototype.rebuildVisible=function(){var e,t,n;return e=this.graphs.primary,this.guide.reset(this.guides.primary),n=this.focus.isRequired()&&this.focus.isEmpty()?new Graph:(this.focus.apply(e,this.guide),this.guide.filter(e)),t=n.dataset(),this.listenTo(t,"add remove change",this.lazyRedecorate),this.listenTo(n,"all",this.onVisibleGraphEvent),this.datasets.visible=t,this.graphs.visible=n},r.prototype.rebuildLegend=function(){return this.legend=this.style.getLegend()},r.prototype.rebuildPipeline=function(){var e;return e=this.guide.get("quality"),this.renderPipeline.use(Stack.get(e)||Stack.get("best"))},r.prototype.rebuildLayout=function(){var e,t,n;return this.renderPipeline.preprocess(this),this.focus.isEmpty()?this.gravityOrigin=null:this.guide.set("layoutGravityOrigin",this.gravityOrigin||this.graphs.visible.center()),n=this.guide.get("layout"),e=this.graphs.visible,t=this.guide.toJSON(),this.layout=LayoutManager.create(n,e,t),this.layout.onUpdate=this.onLayoutUpdate.bind(this)},r.prototype.rebuildStyle=function(){return this.style.update(this.datasets.primary),this.guides.primary.reset(this.guide),log.debug("Style guide is",this.guide.attributes)},r.prototype.applyShowcase=function(){var e,t,n,r,i;return e=this.guide,i=[],n=function(e,t){var r,o,a,s,u,l;if(null==t&&(t=0),i.push(e),t>0){if(e.isNode()){for(s=e,u=s.edges,l=[],o=0,a=u.length;a>o;o++)r=u[o],l.push(n(r,t-1));return l}if(e.isEdge())return r=e,n(r.from,t),n(r.to,t)}},r="strict",t=e.get("showcase"),this.graphs.visible.each(function(i){var o,a,s;return s=e.get("showcase",i),s&&s!==t?s===!0||"strict"===s||"selected"===s?n(i):(r="normal","normal"===s?n(i):"loose"===s||"direct"===s?n(i,1):"indirect"===s?n(i,2):"extended"===s?n(i,3):(a=s.match(/^out (\d+)$/))?(o=Number(a[1]),n(i,o)):void 0):void 0}),i.length?map.showcase(i,{mode:r}):map.showcase(t)},r.prototype.redecorate=function(){var e;if(this.ready)return log.info("Redecorating scene"),this.rebuildStyle(),this.renderPipeline.preprocess(this),"function"==typeof(e=this.layout).update&&e.update(),this.uuid=uuid(),this.trigger("redecorate"),map.trigger("redecorate"),Dispatch.trigger("scene.redecorate")},r.prototype.onInvalidate=function(){return this.lazyRedecorate()},r.prototype.onLayoutUpdate=function(e){var t,n,r,i,o;if(this.layout&&(this.readyLayout=!0,e.length&&this.graphs.visible)){for(n=0;n<e.length;)t=e[n+0],i=e[n+1],o=e[n+2],r=this.graphs.visible.nodes.get(t),!r||!this.layout["static"]&&r.isFixed()||r.updatePosition(i,o,!1),n+=3;return map.invalidate()}},r.prototype.needsFocus=function(){return this.focus.isRequired()&&this.focus.isEmpty()},r.prototype.reset=function(){return this.ready=!1,this.stopListening(),this.resetLayout(),this.resetGuides(),this.resetPrimary(),this.resetVisible(),this.resetCluster(),this.resetShowcase()},r.prototype.resetLayout=function(){return this.readyLayout=!1,this.stop(),this.layout?(this.layout.forceful&&this.restoreElementPositions(),this.layout.destroy(),this.layout=null):void 0},r.prototype.resetCluster=function(){return this.cluster.clean()},r.prototype.resetShowcase=function(){return this.showcase?this.showcase.reset({foregroundOpacity:this.guide.get("foregroundOpacity"),backgroundOpacity:this.guide.get("backgroundOpacity")}):void 0},r.prototype.resetGuides=function(){return this.guides.primary.reset(),this.guides.visible.reset()},r.prototype.resetPrimary=function(){return this.resetGroup("primary")},r.prototype.resetVisible=function(){return this.resetGroup("visible")},r.prototype.resetGroup=function(e){var t,n;return this.datasets[e]&&this.stopListening(this.datasets[e]),this.graphs[e]&&this.stopListening(this.graphs[e]),null!=(t=this.datasets[e])&&t.dispose(),null!=(n=this.graphs[e])&&n.dispose(),this.datasets[e]=this.graphs[e]=null},r.prototype.restoreElementPositions=function(){return this.graphs.visible.nodes.invoke("restoreSavedPosition")},r}(Backbone.Model)}.call(this),function(){this.SceneGraphListener=function(){function e(){}return _.extend(e.prototype,Backbone.Events),e.prototype.listen=function(e){return this.scene=e,this.listenTo(this.scene.base,"add",this.onComponentAdded),this.listenTo(this.scene.base,"remove",this.onComponentRemoved)},e.prototype.onComponentAdded=function(e){return this.scene.ready?(this.scene.add(e),this.scene.start()):void 0},e.prototype.onComponentRemoved=function(e){return this.scene.ready?(this.scene.remove(e),this.scene.start()):void 0},e}()}.call(this),function(){}.call(this),function(){var e,t,n;t=.01,e=TWEEN.Easing.Quadratic,n=1e3,concern("SceneConcerns","Transformation",function(r){var i,o,a,s,u;return r.offset=new Vector(0,0),r.scale=1,r.translation=new Vector(0,0),r.display={offset:r.offset,scale:r.scale,translation:r.translation},r=this,u=[],a=function(t,r){var i;return i="in"===r?e.InOut:e.InOut,new TWEEN.Tween({scale:t.display.scale}).to({scale:t.scale},n).easing(i).onUpdate(function(){return t.display.scale=this.scale,t.display.scaleReconciled=!1,map.invalidate()})},s=function(t,r){var i;return i="in"===r?e.InOut:"out"===r?e.InOut:TWEEN.Easing.Quadratic.InOut,new TWEEN.Tween(t.display.translation.clone()).to(t.translation.clone(),n).easing(i).onUpdate(function(){return t.display.translation.x=this.x,t.display.translation.y=this.y,map.invalidate()})},i=function(e){return function(n){var r,i,o,l,c;for(r=!1,n.scale&&(e.scale=Math.max(t,n.scale),r=e.scale>e.display.scale?"in":"out",u.push(a(e,r))),(n.translate||n.translation)&&(e.translation=null!=n.translation?n.translation:n.translation=e.translation.add(n.translate),u.push(s(e,r))),n.offset&&(e.display.offset=e.offset=n.offset),l=[],i=0,o=u.length;o>i;i++)c=u[i],l.push(c.start());return l}}(this),o=function(e){return function(n){var r;return n.scale&&(e.scale=e.display.scale=Math.max(t,n.scale),e.display.scaleReconciled=!1),(n.translate||n.translation)&&(r=n.translation||e.translation.add(n.translate),e.translation=e.display.translation=r),n.offset?e.offset=e.display.offset=n.offset:void 0}}(this),this.transform=function(e,t){var n,r,a;for(log.debug("Scene#transform",e,t),n=0,r=u.length;r>n;n++)a=u[n],a.stop();return u.length=0,this.trigger("transform"),map.trigger("transform"),t&&t.animate===!1?(o(e),this.trigger("transform:complete"),map.trigger("transform:complete"),map.invalidate()):i(e)}})}.call(this),function(){var e,t,n,r,i,o,a,s;i=.25,o=.25,s=.06,a=2e3,e=.25,r=4,t=n=1,concern("SceneConcerns","TransformationHelpers",function(){var t;return t=this,this.zoom=function(e,t){return this.transform({scale:this.scale*e},t)},this.zoomTo=function(e,t,n){var r;return r=Vector.copy(e).negate(),this.transform({translation:r,scale:t},n)},this.zoomAt=function(e,t,n){var r;return null==n&&(n={}),n=_.extend({absolute:!1},n),n.absolute||(t*=this.scale),r=this.toWorld(e),this.transform({scale:t},{animate:!1}),this.transform({translate:Vector.subtract(this.toWorld(e),r)},{animate:!1})},this.zoomIn=function(e){return this.zoom(1+o,e)},this.zoomOut=function(e){return this.zoom(1-o,e)},this.zoomFitNice=function(e){return null==e&&(e={}),e.max=n,this.zoomFit(e)},this.zoomFit=function(e){var t,n,r,i,o;return t=null!=e?e.bounds:void 0,null==t&&(t=this.getTrueBounds()),i=this.zoomFitScale(t,e),(null!=e?e.tolerance:void 0)&&(n=(i-this.scale)/this.scale,o=n>=0&&n<=e.tolerance,r=o&&this.bounds.contains(t)),r||(this.zoomTo(t.center(),i,e),map.trigger(t?"zoomfitbounds":"zoomfit")),(null!=e?e.continuous:void 0)?this.beginZoomFit():void 0},this.beginZoomFit=function(){var t;return this.zoomFitInterval&&this.cancelZoomFit(),t=this.zoomFitNice.bind(this,{tolerance:e}),t(),this.zoomFitInterval=setInterval(t,a)},this.cancelZoomFit=function(){return clearInterval(this.zoomFitInterval),this.zoomFitInterval=void 0},this.isZoomFitting=function(){return!!this.zoomFitInterval},this.zoomFitScale=function(e,t){var n,i,o,a,u,l,c,p,h,f,d,m;return o=null!=(p=null!=t?t.max:void 0)?p:r,n=null!=(h=null!=t?t.full:void 0)?h:!1,null==e&&(e=this.getTrueBounds()),m=map.getViewportBounds(),n?(c=m.width(),a=m.height()):(i=null!=(f=null!=t?t.margin:void 0)?f:s,c=m.width()*(1-i),a=m.height()*(1-i)),l=c/e.width(),u=a/e.height(),d=Math.min(l,u),n||(d=Math.min(d,o)),_.isNaN(d)&&(d=1),d},this.pan=function(e,t){return this.transform({translation:Vector.add(this.translation,e)},t)},this.panUp=function(){return this.panVertically(Vector.up())},this.panDown=function(){return this.panVertically(Vector.down())},this.panLeft=function(){return this.panHorizontally(Vector.right())},this.panRight=function(){return this.panHorizontally(Vector.left())},this.panVertically=function(e){return this.panScreen(e.multiply(map.getViewportHeight()*i))},this.panHorizontally=function(e){return this.panScreen(e.multiply(map.getViewportWidth()*i))},this.panScreen=function(e,t){return this.pan(this.toWorldScale(e),t)},this.center=function(e){return null==e&&(e=null),this.centerOn((e||this.graph.bounds()).center())},this.centerOn=function(e,t){return this.transform({translation:Vector.negate(e)},t)}})}.call(this),function(){var e,t,n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;this.Stack=function(){function r(r,i){this.name=r,this.nodes=new n,this.edges=new e,this.labels=new t,this.configure(i)}return r.stacks={},r.decorators={},r.register=function(e,t){return r.decorators[e]=t},r.define=function(e,t){return r.stacks[e]=new r(e,t)},r.get=function(e){return r.stacks[e]},r.prototype.configure=function(e){var t,n,r,i,o,a;for(t in e)for(r=e[t],i=this[t],o=0,a=r.length;a>o;o++)n=r[o],i.use(n);return this},r.prototype.guide=function(e){return this.nodes.guide=this.edges.guide=this.labels.guide=e,this},r}(),r=function(){function e(e){this.guide=e,this.stack={decorate:[],dress:[],reconcile:[]}}return e.prototype.use=function(e){var t,n,r,i,o;if(n=Stack.decorators[e]){r=this.stack;for(o in r)i=r[o],t=n[o],t&&this.stack[o].push(t)}else this.stack.decorate.push(e);return this},e.prototype.decorate=function(e,t){var n,r,i,o,a,s,u,l;for(a=this.stack.decorate,r=0,i=a.length;i>r;r++)n=a[r],"function"==typeof n?n(e,e.guide,t,t.style,null!=(s=t.from)?s.style:void 0,null!=(u=t.to)?u.style:void 0):(o=n,l=o.camelize(),t.style[l]=e.guide.get(o,t));return this},e.prototype.dress=function(e,t){var n,r,i,o,a,s;for(o=this.stack.dress,r=0,i=o.length;i>r;r++)(n=o[r])(e,e.guide,t,t.display,null!=(a=t.from)?a.display:void 0,null!=(s=t.to)?s.display:void 0);return this},e.prototype.reconcile=function(e,t){var n,r,i,o,a,s;for(o=this.stack.reconcile,r=0,i=o.length;i>r;r++)(n=o[r])(e,e.guide,t,t.display,null!=(a=t.from)?a.display:void 0,null!=(s=t.to)?s.display:void 0);return this},e}(),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.cull=function(e,t){return!e.position||!t.contains(e.position)},t.prototype.visible=function(e){return"visible"===e.style.visibility},t}(r),e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.cull=function(e){return e.from.culled&&e.to.culled},t.prototype.visible=function(e){return"visible"===e.style.visibility&&e.from.visible&&e.to.visible},t}(r),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.cull=function(e,t){return!e.position||!t.contains(e.position)},t.prototype.visible=function(e,t){return"visible"===e.style.visibility&&_.all(e.edges,function(e){return t.graphs.visible.include(e)})},t}(r)}.call(this),function(){}.call(this),function(){var e,t;e=function(e,t,n,r){return r.drawArrows="visible"===t.get("arrowVisibility",n)&&"undirected"!==r.direction&&n.to!==n.from,r.arrowColor=t.get("arrowColor",n)},t=function(e,t,n,r,i,o){return"inherit"===r.arrowColor?"inherit"===r.pathColor?(r.fromArrowColor=ColorsHelper.rgba(i.color,i.opacity*r.pathOpacity),r.toArrowColor=ColorsHelper.rgba(o.color,o.opacity*r.pathOpacity)):"object"==typeof r.pathColor?(r.fromArrowColor=ColorsHelper.rgba(r.pathColor[0].color,i.opacity*r.pathOpacity),r.toArrowColor=ColorsHelper.rgba(r.pathColor[1].color,o.opacity*r.pathOpacity)):(r.fromArrowColor=ColorsHelper.rgba(r.pathColor,i.opacity*r.pathOpacity),r.toArrowColor=ColorsHelper.rgba(r.pathColor,o.opacity*r.pathOpacity)):(r.fromArrowColor=ColorsHelper.rgba(r.arrowColor,i.opacity*r.pathOpacity),r.toArrowColor=ColorsHelper.rgba(r.arrowColor,o.opacity*r.pathOpacity)),r.arrowWidth=Math.max(t.get("arrowMinWidth"),t.get("arrowWidth")*r.pathWidth),r.arrowHeight=Math.max(t.get("arrowMinHeight"),t.get("arrowHeight")*r.pathWidth),n.style.arrowWidth=r.arrowWidth,n.style.arrowHeight=r.arrowHeight},Stack.register("arrows",{decorate:e,dress:t})}.call(this),function(){var e,t;e={nodes:["size","scale","fontSize","padding","margin","radius","diameter","innerRadius","outerRadius","width","height","halfWidth","halfHeight","innerWidth","innerHeight","outerWidth","outerHeight","borderRadius","borderWidth","bullseyeRadius","shadowRadius","outlineOffset","outlineLineWidth","imageBoundsRadius","imageBoundsDiameter","imageBoundsWidth","imageBoundsHeight","imageBoundsMax"],edges:["size","scale","fontSize","pathWidth","arrowWidth","arrowHeight"],labels:["size","scale","fontSize"]},t=function(t,n,r,i){var o,a,s,u,l,c;if(!n.get("attenuation")||"scatter"===n.get("layout")){for(u=e[r.collectionName],l=t.display.scale,o=0,a=u.length;a>o;o++)s=u[o],c=r.style[s],null!=c&&(i[s]=c/l);return void(i.attenuation=!1)}},Stack.register("attenuation",{reconcile:t})}.call(this),function(){var e,t;e=function(e,t,n,r){return r.bullseyeColor=t.get("bullseyeColor",n),r.bullseyeOpacity=t.get("bullseyeOpacity",n),r.bullseyeSize=t.get("bullseyeSize",n),r.bullseyeVisible="visible"===t.get("bullseyeVisibility",n),r.bullseyeRadius=r.bullseyeSize*r.innerRadius},t=function(e,t,n,r){return r.drawBullseye=!!r.bullseyeColor&&r.bullseyeVisible,r.drawBullseye?r.bullseyeColor=ColorsHelper.rgba(r.bullseyeColor,r.bullseyeOpacity):void 0},Stack.register("bullseye",{decorate:e,dress:t})}.call(this),function(){var e,t,n,r;e={},n=function(n){var r,i,o,a,s;return r=null!=e[o=n.fontFamily]?e[o]:e[o]={},i=null!=r[a=n.fontWeight]?r[a]:r[a]={},null!=i[s=n.fontSize]?i[s]:i[s]=t(n)},t=function(e){return e.fontWeight+" "+e.fontSize+"px "+e.fontFamily},r=function(e,r,i,o){var a;return a=o.attenuation===!1?t(o):n(o),o.font=a},Stack.register("cache-font-style",{reconcile:r})}.call(this),function(){var e;e=function(e,t,n,r){return r.shape="circle"},Stack.register("circles",{decorate:e})}.call(this),function(){var e,t;e=function(e,t,n,r){return r.delayVisible="visible"===t.get("delayVisibility",n),r.delayPosition=t.get("delayPosition",n),r.delayWidth=t.get("delayWidth",n),r.delayHeight=t.get("delayHeight",n),r.delayColor=t.get("delayColor",n),r.delayStrokeWidth=t.get("delayStrokeWidth",n),r.delayFill=t.get("backgroundColor"),r.drawDelay=r.delayVisible&&r.delayColor&&n.isDelayed()},t=function(e,t,n,r){return r.delayHeight=r.pathWidth+r.delayHeight},Stack.register("delays",{decorate:e,dress:t})}.call(this),function(){var e,t;e=function(e,t,n,r){var i;return r.length=t.get("length",n),r.strength=t.get("strength",n),r.curvature=null!=(i=t.get("curvatureOverride",n))?i:t.get("curvature",n),r.direction=n.getDirection(),r.style=t.get("style",n),r.padding=t.get("padding",n),r.style=/normal|solid/.test(r.style)?"solid":"dashed",r.dash=t.get("dash",n),null!=r.dash&&(r.dash=String(r.dash)),r.pathVisible="visible"===t.get("pathVisibility",n),r.pathColor=r.color,r.pathOpacity=t.get("pathOpacity",n),r.borderVisible="visible"===t.get("borderVisibility",n),r.borderWidth=t.get("borderWidth",n),r.borderColor=t.get("borderColor",n),r.borderOpacity=t.get("borderOpacity",n),r.stripeVisible="visible"===t.get("stripeVisibility",n),r.stripeWidth=t.get("stripeWidth",n),r.stripeColor=t.get("stripeColor",n),r.stripeOpacity=t.get("stripeOpacity",n),r.pathWidth=r.size*r.scale,r.borderWidth=r.pathWidth+2*r.borderWidth},t=function(e,t,n,r){return(n.selected||n.hover||n.highlighted)&&(r.pathOpacity=1),r.hasPath=r.pathVisible&&r.pathWidth>0&&r.pathColor,r.hasBorder=r.borderVisible&&r.borderWidth>0&&r.borderColor,r.hasStripe=r.stripeVisible&&r.stripeWidth>0&&r.stripeColor},Stack.register("edge",{decorate:e,dress:t})}.call(this),function(){var e,t,n,r,i,o,a,s;s=new Vector,e={position:new Vector},a="edge-geometry-reconciled",n=function(e,t,n,r){switch(r.shape=Math.abs(r.curvature)<.1?"straight":"curved",r[a]=!1,r.shape){case"straight":return r.vector=new Vector,r.start=new Vector,r.end=new Vector,r.position=new Vector,r.midpoint=new Vector;case"curved":return r.start=new Vector,r.end=new Vector,r.apex=new Vector,r.vector=new Vector,r.normal=new Vector,r.position=new Vector,r.midpoint=new Vector,r.circle=new Circle,r.arc=new Arc}},r=function(e,t,n,r,s,u){return!e.display.scaleReconciled||!r[a]||n.from.positionUpdated||n.to.positionUpdated?("straight"===r.shape?o(e,t,n,r,s,u):i(e,t,n,r,s,u),r[a]=!0):void 0},o=function(e,t,n,r,i,o){var a,s,u;return"rectangle"===i.shape?i.outerBounds.contains(o.position)?r.start.copy(i.position):i.outerBounds.intersectWithCenter(o.position,r.start):(u=i.outerRadius,r.drawArrows&&"mutual"===r.direction&&(u+=r.arrowHeight),r.start.copy(o.position).subtract(i.position).normalize().multiply(u).add(i.position)),"rectangle"===o.shape?o.outerBounds.contains(i.position)?r.end.copy(o.position):o.outerBounds.intersectWithCenter(i.position,r.end):(a=o.outerRadius,r.drawArrows&&(a+=r.arrowHeight),r.end.copy(i.position).subtract(o.position).normalize().multiply(a).add(o.position)),!r.drawArrows||"rectangle"!==i.shape&&"rectangle"!==o.shape||(s=Vector.unit(r.start,r.end).multiply(r.arrowHeight),"rectangle"===i.shape&&"mutual"===r.direction&&r.start.add(s),"rectangle"===o.shape&&r.end.subtract(s)),r.vector.copy(r.end).subtract(r.start),r.length=r.vector.length(),r.angle=r.vector.angle(),r.drawArrows&&(null==r.toArrow&&(r.toArrow={}),r.toArrow.position=r.end,r.toArrow.angle=r.angle,"mutual"===r.direction?(null==r.fromArrow&&(r.fromArrow={}),r.fromArrow.position=r.start,r.fromArrow.angle=r.angle+Math.PI):r.fromArrow=null),r.drawDelay&&(null==r.delay&&(r.delay={}),r.delay.position=n.positionAlongStraight(r.delayPosition).position,r.delay.angle=r.angle),r.midpoint.copy(i.position).add(o.position).divide(2),r.position.copy(r.midpoint)},t=function(e){return e.negative=e.arc.isUndefined()},i=function(n,r,i,o,a,u){var l,c,p,h,f,d,m;if(l=i.isCounterClockwise(),o.vector.copy(u.position).subtract(a.position),o.length=o.vector.magnitude(),o.height=o.curvature*o.length/2,i.isReversed()&&(o.height*=-1),o.normal.copy(o.vector).toPerpendicular().normalize(),o.midpoint.copy(a.position).add(u.position).divide(2),o.circle.throughThreePoints(a.position,s.copy(o.normal).multiply(o.height).add(o.midpoint),u.position),o.arc.circle=o.circle,o.arc.clockwise=!l,"rectangle"===a.shape?(m=o.circle.angleAtPoint(a.position),o.circle.nearestPointOnRectangle(a.outerBounds,m,l,o.arc.a)):o.arc.a.copy(a.position),"rectangle"===u.shape?(m=o.circle.angleAtPoint(u.position),o.circle.nearestPointOnRectangle(u.outerBounds,m,!l,o.arc.b)):o.arc.b.copy(u.position),"circle"===a.shape&&o.arc.contract(a.outerRadius,0),"circle"===u.shape&&o.arc.contract(0,u.outerRadius),!t(o)){if(o.drawArrows){if(f="mutual"===o.direction,d=o.arrowHeight-.5,null==o.toArrow&&(o.toArrow={position:new Vector}),o.arc.evaluate(1,-o.arrowHeight,o.toArrow),o.toArrow.angle=Vector.angle(u.position,o.toArrow.position),f?(null==o.fromArrow&&(o.fromArrow={position:new Vector}),o.arc.evaluate(0,o.arrowHeight,o.fromArrow),o.fromArrow.angle=Vector.angle(a.position,o.fromArrow.position)):o.fromArrow=null,c=f?d:0,p=d,o.arc.contract(c,p),t(o))return;h=Line.throughPoints(o.arc.b,u.position),o.arc.circle.throughPointsAndTangent(o.arc.a,o.arc.b,h)}return o.circle.copy(o.arc.circle),o.start.copy(o.arc.evaluate(0,0,e).position),o.apex.copy(o.arc.evaluate(.5,0,e).position),o.end.copy(o.arc.evaluate(1,0,e).position),o.vector.copy(o.start).subtract(o.end),o.midpoint.copy(o.start).add(o.end).divide(2),o.adjustedCurvature=2*Vector.distance(o.apex,o.midpoint)/o.vector.magnitude(),i.isReversed()&&(o.adjustedCurvature*=-1),o.drawDelay&&(null==o.delay&&(o.delay={position:new Vector}),o.arc.evaluate(o.delayPosition,0,o.delay)),o.winding=i.getWinding(),o.negative=i.isNegative(),o.position.copy(o.apex)}},Stack.register("edge-geometry",{decorate:n,reconcile:r})}.call(this),function(){var e;e=function(e,t,n,r){var i,o,a,s,u,l,c;if(r.drawLabel){for(u=.5*(r.wrappedLabel.length-1)*r.fontSize,l=r.wrappedLabel,c=[],o=i=0,a=l.length;a>i;o=++i)s=l[o],s.x=0,c.push(s.y=-u+o*r.fontSize);return c}},Stack.register("edge-label-position",{decorate:e})}.call(this),function(){var e,t,n,r;t=function(e,t,n,r){var i,o,a,s,u,l;return i=e[r+"Color"],u=e[r+"Opacity"],l=r+"Stroke",o=r+"Gradient",a=r+"GradientFrom",s=r+"GradientTo","object"==typeof i?(e[o]=!0,e[a]=ColorsHelper.rgba(i[0].color,t.opacity*u),e[s]=ColorsHelper.rgba(i[1].color,n.opacity*u)):"inherit"===i?t.color===n.color&&t.opacity===n.opacity?(e[o]=!1,e[l]=ColorsHelper.rgba(t.color,t.opacity*u)):(e[o]=!0,e[a]=ColorsHelper.rgba(t.color,t.opacity*u),e[s]=ColorsHelper.rgba(n.color,n.opacity*u)):1===t.opacity&&1===n.opacity?(e[o]=!1,e[l]=ColorsHelper.rgba(i,u)):(e[o]=!0,e[a]=ColorsHelper.rgba(i,t.opacity*u),e[s]=ColorsHelper.rgba(i,n.opacity*u))},r=function(e,t,n){var r,i,o;return t[n+"Gradient"]?(r=t[n+"GradientFrom"],o=t[n+"GradientTo"],i=e.helper.createLinearGradient(t.start,t.end,r,o),t[n+"Stroke"]=i):void 0},e=function(e,n,r,i,o,a){return t(i,o,a,"path"),t(i,o,a,"border"),t(i,o,a,"stripe")},n=function(e,t,n,i){return"webgl"===e.guide.get("quality")||i.ready&&!n.from.positionUpdated&&!n.to.positionUpdated?void 0:(r(e,i,"path"),r(e,i,"border"),r(e,i,"stripe"))},Stack.register("edge-strokes",{dress:e,reconcile:n})}.call(this),function(){var e;e=function(e,t,n,r){return r.filtered=t.isFiltered(n),r.visible=t.isVisible(n),r.visibility=t.get("visibility",n),r.layer=t.get("layer",n),r.zIndex=t.get("zIndex",n),r.color=t.get("color",n),r.opacity=t.get("opacity",n),r.size=t.get("size",n),r.scale=t.get("scale",n),r.label=n.getLabel(),r.labelVisible="visible"===t.get("labelVisibility",n),r.fontSize=t.get("fontSize",n),r.fontFamily=t.get("fontFamily",n),r.fontColor=t.get("fontColor",n),r.fontWeight=t.get("fontWeight",n),r.fontStyle=t.get("fontStyle",n),r.textOverflow=t.get("textOverflow",n),r.pickable="none"!==t.get("pointerEvents",n)&&"background"!==r.layer},Stack.register("foundation",{decorate:e})}.call(this),function(){var e;e=function(e,t,n,r){var i;return i=t.get("imageCutoff")/e.display.scale,r.drawImage=r.hasImage&&("circle"===r.shape&&r.imageBoundsDiameter>=i||"rectangle"===r.shape&&r.imageBoundsWidth>=i&&r.imageBoundsHeight>=i)},Stack.register("hide-small-images",{reconcile:e})}.call(this),function(){var e;e=function(e,t,n,r){return r.drawLabel=r.label&&r.labelVisible&&r.fontSize>=t.get("fontCutoff")/e.display.scale},Stack.register("hide-small-labels",{reconcile:e})}.call(this),function(){var e;e=function(e,t,n,r){var i,o,a;return r.imageResolution=t.get("imageResolution",n),r.imageProxied=null!=(i=t.get("imageProxy"))?i:Settings.useImageProxy(),r.imageVisible="visible"===t.get("imageVisibility",n),r.imageSize=t.get("imageSize",n),r.imageUrl=null!=(o=t.get("imageUrl",n))?o:n.getImage(),r.imageUrl2x=null!=(a=t.get("imageUrl2x",n))?a:n.getImage2x(),"none"===r.imageUrl&&(r.imageUrl=void 0),"none"===r.imageUrl2x&&(r.imageUrl2x=void 0),r.hasImage=r.imageVisible&&(r.imageUrl||r.imageUrl2x),r.drawImage=r.hasImage,r.drawImage?"circle"===r.shape?(r.imageBoundsRadius=r.innerRadius,r.imageBoundsDiameter=2*r.innerRadius):(r.imageBoundsWidth=r.innerWidth,r.imageBoundsHeight=r.innerHeight,r.imageBoundsMax=r.imageBoundsWidth>r.imageBoundsHeight?r.imageBoundsWidth:r.imageBoundsHeight):void 0},Stack.register("image",{decorate:e})}.call(this),function(){var e;e=function(e,t,n,r){return r.drawLabel=!0},Stack.register("label",{decorate:e})}.call(this),function(){var e,t;e=/\{\{\s*(.*?)\s*\}\}/g,t=function(t,n,r,i){var o;if(i.labelVisible)return o=n.get("label",r),o&&"none"!==o?"inherit"!==o?i.label=o.replace(e,function(e,t){return Attributes.format(t,r.entity.getAttr(t))||""}):void 0:i.label=void 0},Stack.register("label-templates",{decorate:t})}.call(this),function(){var e;e=function(e,t,n,r){return r.drawArrows=!1},Stack.register("no-arrows",{decorate:e})}.call(this),function(){var e,t,n,r;e=/^(rectangle|rect|box|square)$/,t=function(e,t,i,o){return n(t,i),o.shape=r(t.get("shape",i)),o.margin=t.get("margin",i),"none"===o.margin&&(o.margin=-o.radius),o.padding=t.get("padding",i),o.textAlign=t.get("textAlign",i),o.textDecoration=t.get("textDecoration",i),o.drawBody="visible"===t.get("bodyVisibility",i)},n=function(e,t){var n;return(n=e.getGuideOnly("position",t))?(t.updatePosition(n.x,n.y,!1),t.lock("position")):t.unlock("position")},r=function(t){return e.test(t)?"rectangle":"circle"},Stack.register("node",{decorate:t})}.call(this),function(){var e,t;e=function(e,t,n,r){return r.borderColor=t.get("borderColor",n),"inherit"===r.borderColor&&(r.borderColor=r.color),r.borderOpacity=t.get("borderOpacity",n),r.borderWidth=t.get("borderWidth",n),r.drawBorder=r.borderColor&&r.borderWidth>0,r.drawBorder?void 0:r.borderWidth=0},t=function(e,t,n,r){return r.drawBorder?r.borderColor=ColorsHelper.rgba(r.borderColor,r.borderOpacity):void 0},Stack.register("node-border",{decorate:e,dress:t})}.call(this),function(){var e;e=function(e,t,n,r){return r.bounds.resetToUnit(),r.bounds.scale(r.outerRadius).translate(n.position.x,n.position.y)},Stack.register("node-bounds",{decorate:e})}.call(this),function(){var e,t,n,r;n=function(n,r,i,o){var a,s,u,l;return"circle"===o.shape?("auto"===o.size&&(o.size=t(n,o)),o.radius=o.size*o.scale,o.diameter=2*o.radius,o.area=Math.PI*o.radius*o.radius,o.innerRadius=Math.max(0,o.radius-o.padding),o.outerRadius=o.radius+o.borderWidth+o.margin,o.borderRadius=o.radius+o.borderWidth/2-.1):(l=r.get("width",i),a=r.get("height",i),u=r.get("minWidth",i),s=r.get("minHeight",i),"auto"===o.size?(null==l&&(l="auto"),null==a&&(a="auto")):(null==l&&(l=2*o.size),null==a&&(a=2*o.size)),"auto"===l&&(l=t(n,o)),"auto"===a&&(a=e(n,o)),o.height=a,o.width=null!=l?l:o.height,u&&o.width<u&&(o.width=u),s&&o.height<s&&(o.height=s),o.width*=o.scale,o.height*=o.scale,o.area=o.width*o.height,o.halfWidth=o.width/2,o.halfHeight=o.height/2,o.innerWidth=Math.max(0,o.width-2*o.padding),o.innerHeight=Math.max(0,o.height-2*o.padding),o.outerWidth=o.width+2*o.margin,o.outerHeight=o.height+2*o.margin,null==o.coreBounds&&(o.coreBounds=new Rectangle),null==o.innerBounds&&(o.innerBounds=new Rectangle),null!=o.outerBounds?o.outerBounds:o.outerBounds=new Rectangle)},t=function(e,t){var n,r,i,o,a,s,u;for(n=e.helper.ctx,u=0,s=t.wrappedLabel,r=0,i=s.length;i>r;r++)o=s[r],n.font=t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,a=n.measureText(o).width,a>u&&(u=a);return.8*u},e=function(e,t){return t.wrappedLabel.length*t.fontSize},r=function(e,t,n,r){return"rectangle"===r.shape?(r.coreBounds.copy(r.position.x-r.halfWidth,r.position.y-r.halfHeight,r.position.x+r.halfWidth,r.position.y+r.halfHeight),r.innerBounds.copy(r.coreBounds).contract(r.padding),r.outerBounds.copy(r.coreBounds).expand(r.margin)):void 0},Stack.register("node-geometry",{decorate:n,reconcile:r})}.call(this),function(){var e;e=function(e,t,n,r){return r.labelOffsetX=0,r.labelOffsetY="center"===r.textAlign?-.5*(r.wrappedLabel.length-1)*r.fontSize:"circle"===r.shape?r.outerRadius:r.halfHeight+r.margin},Stack.register("node-label-position",{reconcile:e})}.call(this),function(){var e,t;e=function(e,t,n,r){return r.shadowColor=t.get("shadowColor",n),"inherit"===r.shadowColor&&(r.shadowColor=r.color),r.shadowOpacity=t.get("shadowOpacity",n),r.shadowSize=t.get("shadowSize",n),r.shadowVisible="visible"===t.get("shadowVisibility",n),r.shadowRadius=r.shadowSize*r.outerRadius},t=function(e,t,n,r){return r.drawShadow=r.shadowVisible&&r.shadowColor,r.drawShadow?r.shadowColor=ColorsHelper.rgba(r.shadowColor,r.shadowOpacity):void 0},Stack.register("node-shadow",{decorate:e,dress:t})}.call(this),function(){var e,t,n;e=function(e,t,n,r){var i,o,a,s,u;return r.outlineColor=null!=(i=t.get("outlineColor",n))?i:t.get("ringColor",n),r.outlineOpacity=null!=(o=t.get("outlineOpacity",n))?o:t.get("ringOpacity",n),r.outlineLineWidth=null!=(a=t.get("outlineWidth",n))?a:t.get("ringWidth",n),r.outlineOffset=null!=(s=t.get("outlineOffset",n))?s:t.get("ringOffset",n),r.outlineVisible=null!=(u=t.get("outlineVisibility",n))?u:"visible"===t.get("ringVisibility",n)
},t=function(e,t,n,r){return r.drawOutline=r.outlineVisible&&r.outlineColor,r.drawOutline?r.outlineColor=ColorsHelper.rgba(r.outlineColor,r.outlineOpacity):void 0},n=function(e,t,n,r){return r.drawOutline?"circle"===r.shape?(r.outlineRadius=r.radius+r.borderWidth/2+r.outlineOffset,r.outlineDiameter=2*r.outlineRadius):(r.outlineXMin=r.coreBounds.xmin-r.outlineOffset,r.outlineYMin=r.coreBounds.ymin-r.outlineOffset,r.outlineWidth=r.coreBounds.width()+2*r.outlineOffset,r.outlineHeight=r.coreBounds.height()+2*r.outlineOffset):void 0},Stack.register("outline",{decorate:e,dress:t,reconcile:n})}.call(this),function(){var e,t,n;e=10,t=function(e,t,n){return n.selected||n.active||n.hover?(n.display.drawOutline=!0,n.display.outlineColor=e.guide.get("selectionColor")):void 0},n=function(t,n,r,i){var o;return i.drawOutline&&(r.selected||r.active||r.hover)&&(i.outlineLineWidth=r.style.outlineLineWidth/t.scale,"circle"===i.shape&&(o=i.outlineRadius*t.scale,e>o))?(i.outlineRadius=e/t.scale,i.outlineDiameter=2*i.outlineRadius):void 0},Stack.register("outline-selection",{dress:t,reconcile:n})}.call(this),function(){var e,t;e=function(e,t,n,r){return r.prelabel=n.getPrelabel(),r.postlabel=n.getPostlabel(),r.prepostInset=t.get("prepostInset",n),r.prepostOffset=t.get("prepostOffset",n),r.prelabel&&(r.prelabelPosition={}),r.postlabel?r.postlabelPosition={}:void 0},t=function(e,t,n,r){var i,o;return r.drawPrepostLabels=r.labelVisible&&(r.prelabel||r.postlabel)&&r.fontSize>=t.get("fontCutoff")/e.display.scale,r.drawPrepostLabels&&(i=r.prepostInset,o=r.prepostOffset+r.pathWidth/2,n.isInverted()&&(o*=-1),r.prelabel&&n.perpendicularPositionAlong(0,i,-o,r.prelabelPosition),r.postlabel)?n.perpendicularPositionAlong(1,-i,-o,r.postlabelPosition):void 0},Stack.register("prepost",{decorate:e,reconcile:t})}.call(this),function(){var e;e=function(e,t,n,r){return r.shape="rectangle"},Stack.register("rectangles",{decorate:e})}.call(this),function(){var e;e=function(e,t,n,r){return r.fontSize=r.fontSize*Math.log(1+r.scale)},Stack.register("scale-labels",{decorate:e})}.call(this),function(){var e;e=function(e,t,n,r){return r.showcaseOpacity=e.showcase.opacity(n)},Stack.register("showcase-opacity",{reconcile:e})}.call(this),function(){var e,t,n;n="simplified-edge-geometry-reconciled",e=function(e,t,r,i){return i.shape="straight",i.style="solid",i.length=t.get("length",r),i.strength=t.get("strength",r),i.curvature=t.get("curvature",r),i.pathWidth=i.size*i.scale,i.pathColor=i.color,i.pathOpacity=i.opacity,i.vector=new Vector,i.start=new Vector,i.end=new Vector,i.position=new Vector,i.midpoint=new Vector,i[n]=!1},t=function(e,t,r,i,o,a){return!i[n]||r.from.positionUpdated||r.to.positionUpdated?(i.start.copy(o.position),i.end.copy(a.position),i.vector.copy(i.end).subtract(i.start),i.length=i.vector.length(),i.angle=i.vector.angle(),i.midpoint.copy(o.position).add(a.position).divide(2),i.position.copy(i.midpoint),i[n]=!0):void 0},Stack.register("simplified-edge-geometry",{decorate:e,reconcile:t})}.call(this),function(){var e,t;e=5,t=function(t,n,r,i){return i.shape="circle","auto"===i.size&&(i.size=e),i.radius=i.size*i.scale,i.diameter=2*i.radius,i.area=Math.PI*i.radius*i.radius,i.borderWidth=0,i.outerRadius=i.radius},Stack.register("simplified-node-geometry",{decorate:t})}.call(this),function(){var e,t;e=20,t=function(t,n,r,i){var o;if(i.label)return i.textOverflow&&(o=Number(i.textOverflow.split(" ")[1])),i.label=StringHelper.clipAll(i.label,o||e)},Stack.register("simplified-text-overflow",{decorate:t})}.call(this),function(){var e;e=function(e,t,n,r){return r.curvature=0},Stack.register("straight-edges",{decorate:e})}.call(this),function(){var e,t,n;e=[],t=function(e,t,r,i){return i.wrappedLabel=n(e,t,r,i)},n=function(t,n,r,i){var o;return i.label?(o=i.textOverflow,"auto"===o&&"circle"===i.shape&&"auto"===i.size&&"center"===i.textAlign&&(o="auto 8"),StringHelper.textOverflow(i.label,o)):e},Stack.register("text-overflow",{decorate:t})}.call(this),function(){var e;e=function(e,t,n,r){return r.textAlign=t.get("textAlign",n),r.textDecoration=t.get("textDecoration",n)},Stack.register("text-properties",{decorate:e})}.call(this),function(){Stack.define("best",{nodes:["attenuation","foundation","label-templates","node","node-border","text-overflow","node-geometry","scale-labels","node-shadow","image","bullseye","outline","outline-selection","node-label-position","cache-font-style","hide-small-labels","hide-small-images"],edges:["attenuation","foundation","label-templates","text-overflow","edge","arrows","delays","edge-geometry","edge-strokes","edge-label-position","prepost","scale-labels","cache-font-style","hide-small-labels"],labels:["attenuation","foundation","label-templates","text-overflow","label","cache-font-style"]})}.call(this),function(){Stack.define("fast",{nodes:["attenuation","foundation","label-templates","simplified-node-geometry","simplified-text-overflow","outline","outline-selection","scale-labels","cache-font-style","hide-small-labels"],edges:["attenuation","foundation","label-templates","simplified-edge-geometry","simplified-text-overflow","edge-strokes","scale-labels","cache-font-style","hide-small-labels"],labels:["attenuation","foundation","label-templates","label","cache-font-style"]})}.call(this),function(){Stack.define("webgl",{nodes:["foundation","label-templates","simplified-node-geometry","simplified-text-overflow","outline","outline-selection","scale-labels","cache-font-style","hide-small-labels","showcase-opacity"],edges:["foundation","label-templates","simplified-edge-geometry","simplified-text-overflow","scale-labels","cache-font-style","hide-small-labels","showcase-opacity"],labels:["foundation","label-templates","label","cache-font-style","showcase-opacity"]})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.MapDisplay=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="map-display display content scene sync-scene-background",n.prototype.attributes={tabindex:1},n.prototype.initialize=function(){return this._visits={},this._scenes={},this.resolution=window.devicePixelRatio||1,this.loop=new AnimationLoop,this.display=this.model.get("display"),this.controller=this.display.getController(this),this.legend=this.display.getLegend(this),this.viewport=this.model.get("view").viewport,this.showcase=new Showcase(this.model),this.listenTo(this.model,"change:hover change:active",this.invalidate),this.listenTo(this.model,"change:renderer change:quality",this.render),this.listenTo(this.model,"change:idle change:sleep",this.onIdleChange),this.listenTo(Settings,"change:proxy_images",this.handleImageProxyChange),this.invalidate()},n.prototype.open=function(e,t,n){return null==n&&(n={reload:!1}),new Promise(function(r){return function(i,o){var a,s;return e!==r.map||t!==r.perspective||n.reload?(MapController.busy(),r.readyToRender=!1,a=r.map&&r.map!==e,s=r.perspective&&r.perspective!==t,MapController.resetInteraction(),a&&MapController.resetSelection(),r.resetScene(),a&&r.stopListening(r.map),s&&r.stopListening(r.perspective),r.map=e,r.perspective=t,r.visit(r.map,r.perspective),r.listenTo(t,"change:style",r.onPerspectiveStyleChange),Promise.all([r.prepareScene(),r.prepareMap()]).then(function(){return e.graph.refresh(),r.refresh(),r.scene.isRenderable()&&(r.scene.start({temperature:.8}),MapController.shouldZoomFitOnLoad()&&(1===r.visitCount(r.map)||n.reload)&&(MapController.zoomFitNice({animate:!1}),MapController.beginZoomFit())),r.readyToRender=!0,MapController.busy(!1)}).then(i,o)):void i()}}(this))},n.prototype.resetScene=function(){return this.scene?(this.scene.reset(),this.stopListening(this.scene),this.scene=null):void 0},n.prototype.prepareScene=function(){return this.scene=this.getScene(this.map)||this.createScene(this.map),this.scene.perspective=this.perspective,this.scene.resolution=this.resolution,this.scene.helper=this.display,this.scene.showcase=this.showcase,this.showcase.scene=this.scene,this.recenter(),window.currentScene=this.scene,this.listenTo(this.scene,"rebuild",this.handleSceneRebuild),this.scene.setStyle(this.perspective.get("style")),this.applyTheme()},n.prototype.prepareMap=function(){return this.map.load().then(function(){return MapController.trigger("load:map")})},n.prototype.getScene=function(e){return this._scenes[e.cid]},n.prototype.createScene=function(e){return e.initializeScene(),this._scenes[e.cid]=e.scene},n.prototype.onPerspectiveStyleChange=function(){return map.setStyle(this.perspective.get("style"))},n.prototype.invalidate=function(){return this.forceNextFrame=!0},n.prototype.focus=function(){return this.$el.focus()},n.prototype.render=function(){var e,t,n;return n=this.model.get("renderer"),t=this.model.get("quality"),e=this.display.render(n,t).$el,e.css({width:"100%",height:"100%"}),this.$el.html(e),this.resize(),this.$themeStyleSheet||(this.$themeStyleSheet=$("<style>"),this.$themeStyleSheet.appendTo("head")),this},n.prototype.handleImageProxyChange=function(){return this.render(),this.invalidate(),this.refresh()},n.prototype.start=function(){return this.loop.start(this.update.bind(this))},n.prototype.stop=function(){return this.loop.stop()},n.prototype.update=function(){return!this.frozen&&this.readyToRender&&this.scene.ready&&this.scene.readyLayout?(this.invalid()&&this.draw(),this.forceNextFrame=!1,this.scene.layout.keepalive(),TWEEN.update()):void 0},n.prototype.invalid=function(){return this.forceNextFrame},n.prototype.ready=function(){return"undefined"!=typeof currentMap&&null!==currentMap?currentMap.ready:void 0},n.prototype.refresh=function(e){var t;if(currentMap&&currentMap.ready)return this.scene.rebuild(e),this.drawLegend(),this.scene.needsFocus()?map.showFocusPrompt():(this.scene.start(),this.updateSceneBounds(),(t=this.scene.guide.get("calculate"))&&/communities/i.test(t)&&Workflows.detectCommunities(),map.hideFocusPrompt()),this},n.prototype.redecorate=function(){return currentMap&&currentMap.ready?(this.scene.redecorate(),this):void 0},n.prototype.draw=function(e){return this.updateSceneBounds(),this.scene.resolution=this.resolution,this.scene.activeComponent=this.model.get("active"),this.scene.hoverComponent=this.model.get("hover"),this.scene.process(e),this.display.draw(this.scene,e),this},n.prototype.drawLegend=function(){return this.legend.draw(this.resolution)},n.prototype.getCenter=function(){return this.viewportBounds.center()},n.prototype.getScreenshot=function(e){var t,n,r;return e=_.defaults(e,{resolution:3}),r=e.resolution,t=this.resolution,this.setResolution(t*r),n=this.display.getScreenshot(e),this.setResolution(t),n},n.prototype.setViewportBounds=function(e){return this.viewportBounds=e},n.prototype.updateSceneBounds=function(){return this.scene.bounds=this.scene.toWorld(this.clippingBounds)},n.prototype.getResolution=function(){return this.resolution},n.prototype.setResolution=function(e){return this.resolution=e,this.resize(),this.draw(),this.drawLegend()},n.prototype.resize=function(e,t){return e||(e=this.$el.width()),t||(t=this.$el.height()),this.clippingBounds=new Rectangle(0,0,e,t),this.display.resize(e,t,this.resolution),this.invalidate()},n.prototype.setCursor=function(e){return this.$el.css("cursor",e)},n.prototype.resetCursor=function(){return this.setCursor("default")},n.prototype.resetShowcase=function(){return this.showcase.release()},n.prototype.onIdleChange=function(){var e,t,n,r;return this.model.hasChanged("idle")&&(e=this.model.get("idle"),this.$el.toggleClass("idle",e)),this.model.hasChanged("sleep")?(r=this.model.get("sleep"),this.$el.toggleClass("sleep",r),r?null!=(t=this.scene)?t.stop():void 0:null!=(n=this.scene)?n.start():void 0):void 0},n.prototype.visited=function(e){return this.visitCount(e)>0},n.prototype.visitCount=function(e){return this._visits[e.cid]||0},n.prototype.visit=function(e,t){return this.storeVisit(e),this.storeVisit(t)},n.prototype.storeVisit=function(e){var t,n;return null==(t=this._visits)[n=e.cid]&&(t[n]=0),this._visits[e.cid]+=1},n.prototype.recenter=function(e){var t,n,r;if(this.scene)return e=_.defaults({},e,{seamless:!1}),t=this.viewportBounds.center().clone(),e.seamless&&!this.scene.offset.equals({x:0,y:0})&&(n=Vector.subtract(t,this.scene.offset).negate(),r=this.scene.toWorldScale(n)),this.scene.transform({offset:t,translate:r},{animate:!1})},n.prototype.handleSceneRebuild=function(){return this.applyTheme()},n.prototype.applyTheme=function(){var e,t,n,r;return r=this.scene.guide.get("theme"),e=$("body"),e.removeClassByPrefix("theme-"),e.addClass("theme-"+r),t=this.scene.guide.get("backgroundColor"),n=chroma(t).alpha(.9).css(),this.$themeStyleSheet.html(".sync-scene-background,\n.sync-scene-bg {\n  background-color: "+t+";\n}\n\n.sync-scene-bg-trans {\n  background-color: "+n+";\n}"),this.model.set({renderer:this.scene.guide.get("renderer"),quality:this.scene.guide.get("quality")}),this.invalidate()},n}(Backbone.View)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){this.closeOnOutsideClick=t(this.closeOnOutsideClick,this),r.__super__.constructor.apply(this,arguments),this.$el.on("click",".close",function(e){return function(){return e.close()}}(this))}return n(r,e),r.prototype.popoverTemplate='<div class="arrow"></div>\n\n<h3 class="popover-title">\n  <a href="#" class="close">&times;</a>\n</h3>\n\n<div class="popover-content"></div>',r.prototype.open=function(e,t){var n,r,i;return null==t&&(t={}),this.render(),i=t.my||"center bottom",n=t.at||"center top-15",r=t.collision||"fit",this.$el.addClass("popover-simple").appendTo("body").css("display","block").position({my:i,at:n,of:e,collision:r}),this},r.prototype.close=function(){return $(document).off("click",this.closeOnOutsideClick),this.remove()},r.prototype.render=function(){return this.$el.addClass("popover top").html(this.popoverTemplate),this.$el.find(".popover-title").append(this.title),this.$el.find(".popover-content").html(this.template),"function"==typeof this.afterRender&&this.afterRender(),_.defer(function(e){return function(){return $(document).on("click",e.closeOnOutsideClick)}}(this)),this},r.prototype.closeOnOutsideClick=function(e){return $(e.target).closest(".popover").is(this.el)?void 0:this.close()},r}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Popover=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.title="Add",n.prototype.className="add-menu",n.prototype.template='<ul class="nav nav-tabs nav-stacked">\n  <li data-key="add-element"><a href="#">Add element <aside>E</aside></a></li>\n  <li data-key="add-connection"><a href="#">Add connection <aside>C</aside></a></li>\n  <li data-key="add-loop"><a href="#">Add loop <aside>L</aside></a></li>\n  <li data-key="sketch"><a href="#">Sketch <aside>K</aside></a></li>\n  <li data-key="sketch-exit"><a href="#">Exit sketch mode <aside>ESC</aside></a></li>\n  <li data-key="import"><a href="#">Import <aside>I</aside></a></li>\n</ul>',n.prototype.events={"click [data-key]":"handleClick"},n.prototype.afterRender=function(){return map.isMode("sketch-mode")?this.$el.find("[data-key=sketch]").hide():this.$el.find("[data-key=sketch-exit]").hide()},n.prototype.handleClick=function(e){var t;switch(this.close(),t=$(e.currentTarget).attr("data-key")){case"import":return Workflows["import"]();case"add-element":return Workflows.beginAddElement();case"add-connection":return Workflows.beginAddConnection();case"add-loop":return Workflows.beginAddLoop();case"sketch":return Workflows.sketch();case"sketch-exit":return map.resetMode()}},n}(Views.Actionbar.Popover),namespace("Views.Actionbar",function(t){return t.AddMenu=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="attribution-wrapper",n.prototype.template=template("main::actionbar/attribution"),n.prototype.render=function(){var e;return e={project:currentProject,owner:currentProject.owner},this.$el.html(this.template(e)),this},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Attribution=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.title="Add",n.prototype.className="blocks-menu arrow-right",n.prototype.template='<ul class="nav nav-tabs nav-stacked">\n  <li data-key="metrics" data-track-click="metrics">\n    <a href="#">Social Network Analysis</a>\n  </li>\n\n  <li data-key="communities" data-track-click="communities">\n    <a href="#">Community Detection</a>\n  </li>\n</ul>',n.prototype.events={"click [data-key]":"handleClick"},n.prototype.handleClick=function(e){switch(this.close(),$(e.currentTarget).attr("data-key")){case"metrics":return sidebar.openMetricsView();case"communities":return this.openCommunityDetectionModal()}},n.prototype.openCommunityDetectionModal=function(){var e,t;return e=$("<div/>").appendTo("body"),map.freeze(),t=React.createElement(CommunityDetectionModal,{onClose:function(){return unmountReact(e.get(0)),e.remove(),map.unfreeze()}}),renderReact(t,e.get(0))},n}(Views.Actionbar.Popover),namespace("Views.Actionbar",function(t){return t.BlocksMenu=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="metrics-btn btn btn-flat",n.prototype.attributes={title:"Communities","data-track-click":"communities"},n.prototype.template='<i class="fa fa-building-o"></i>',n.prototype.events={click:"onClick"},n.prototype.render=function(){return this.$el.html(this.template),this},n.prototype.onClick=function(){var e,t;return e=$("<div/>").appendTo("body"),map.freeze(),t=React.createElement(CommunityDetectionModal,{onClose:function(){return unmountReact(e.get(0)),e.remove(),map.unfreeze()}}),renderReact(t,e.get(0))},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Communities=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="edit-perspective-btn btn btn-flat",n.prototype.attributes={title:"Decorate","data-ability":"manage-perspectives","data-track-click":"decorate"},n.prototype.events={click:"onClick"},n.prototype.render=function(){return this.$el.html('<i class="icon-perspective"></i>'),this},n.prototype.onClick=function(){return this.$el.tooltip("hide"),_.defer(function(){return map.showSettingsForm("rules")})},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Decorate=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="delay-btn btn btn-flat hide-read-only",n.prototype.attributes={title:"Delay","data-ability":"manage-maps","data-track-click":"delay"},n.prototype.template='<i class="icon-delay"></i>',n.prototype.events={click:"toggle"},n.prototype.initialize=function(){return this.selection=map.getSelection(),this.listenTo(this.selection,"add remove reset",this.update)},n.prototype.render=function(){return this.$el.html(this.template),this.update(),this},n.prototype.toggle=function(){var e;return this.$el.toggleClass("active"),e=this.$el.is(".active"),execute(new Commands.Connections.Update(this.connections,"delayed",e)).fail(function(){return function(){return alert("Unable to save changes")}}(this))},n.prototype.update=function(){var e;return this.connections=this.selection.getConnections(),e=this.connections.length>0&&_.all(this.connections,function(e){return e.get("delayed")}),this.$el.toggleClass("disabled",0===this.connections.length).toggleClass("active",e)},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Delay=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="delete-btn btn btn-flat hide-read-only",n.prototype.attributes={title:"Delete","data-ability":"manage-maps","data-track-click":"delete"},n.prototype.template='<i class="icon-delete"></i>',n.prototype.events={click:"delete"},n.prototype.initialize=function(){return this.selection=map.getSelection(),this.listenTo(this.selection,"add remove reset",this.update)},n.prototype.render=function(){return this.$el.html(this.template),this.update(),this},n.prototype["delete"]=function(){return Workflows.deleteSelection()},n.prototype.update=function(){return this.$el.toggleClass("disabled",0===this.selection.length)},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Delete=e})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.tagName="button",r.prototype.className="direction-btn btn btn-flat hide-read-only",r.prototype.attributes={title:"Direction","data-ability":"manage-maps","data-track-click":"direction"},r.prototype.template='<i class="icon-direction"></i>',r.prototype.events={click:"onClick"},r.prototype.initialize=function(){return this.selection=map.getSelection(),this.listenTo(this.selection,"add remove reset",this.refresh)},r.prototype.render=function(){return this.$el.html(this.template),this.refresh(),this},r.prototype.refresh=function(){return this.connections=this.selection.getConnections(),this.$el.toggleClass("disabled",0===this.connections.length)},r.prototype.onClick=function(){var e;return this.$el.tooltip("hide"),this.connections.length>0?(e=new t({model:this.connections}),e.open(this.$el)):alert("Please select a connection")},r}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Direction=e}),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.title="Direction",t.prototype.className="direction-menu",t.prototype.template='<ul class="nav nav-tabs nav-stacked">\n  <li><a href="#" data-direction="undirected">Undirected</a></li>\n  <li><a href="#" data-direction="directed">Directed <aside class="reverse"><i class="icon-reverse" title="Reverse"></i> Reverse</aside></a></li>\n  <li><a href="#" data-direction="mutual">Mutual</a></li>\n</ul>',t.prototype.events={"click .reverse":"onReverse","click [data-direction]":"onDirection"},t.prototype.initialize=function(){return this.connections=this.model},t.prototype.onDirection=function(e){var t;return t=$(e.target).attr("data-direction"),execute(new Commands.Connections.Update(this.connections,"direction",t)).fail(function(){return function(){return alert("Unable to save changes")}}(this)),this.close()},t.prototype.onReverse=function(e){var t;return e.preventDefault(),e.stopPropagation(),t=_.select(this.connections,function(e){return"directed"===e.get("direction")}),t.length>0&&execute(new Commands.Connections.Reverse(t)).fail(function(){return function(){return alert("Unable to reverse direction")}}(this)),this.close()},t}(Views.Actionbar.Popover)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="edit-loop-btn btn btn-flat hide-read-only",n.prototype.attributes={title:"Edit connections","data-ability":"manage-maps","data-track-click":"edit-loop"},n.prototype.template='<i class="icon-edit"></i>',n.prototype.events={click:"handleEdit"},n.prototype.render=function(){return this.$el.html(this.template),this},n.prototype.handleEdit=function(){return Workflows.editLoop()},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.EditLoop=e})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.tagName="button",r.prototype.className="focus-btn btn btn-flat",r.prototype.attributes={title:"Focus","data-track-click":"focus"},r.prototype.template='<i class="icon-focus"></i>',r.prototype.events={click:"onClick"},r.prototype.initialize=function(){return this.listenTo(map,"change:focus change:map change:selection",this.refresh)},r.prototype.render=function(){return this.$el.html(this.template),this},r.prototype.refresh=function(){var e,t;if(currentScene)return e=map.isFocused(),t=e||map.hasSelection(),this.$el.toggleClass("active",e),this.$el.toggleClass("disabled",!t)},r.prototype.onClick=function(){var e;return this.$el.tooltip("hide"),this.$el.is(".disabled")?alert("Please select an object to focus on"):(e=new t,e.open(this.$el,{my:"left middle",at:"right middle"}))},r}(Backbone.View),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.title="Focus",t.prototype.className="focus-menu arrow-hidden",t.prototype.template='<ul class="nav nav-tabs nav-stacked">\n  <li class="degree" data-degree="0"><a href="#">Selected</a></li>\n  <li class="degree" data-degree="1"><a href="#">Direct <aside>1 degree</aside></a></li>\n  <li class="degree" data-degree="2"><a href="#">Indirect <aside>2 degrees</aside></a></li>\n  <li class="degree" data-degree="3"><a href="#">Extended <aside>3 degrees</aside></a></li>\n  <li class="degree custom focus-required"><a href="#">Distant <aside><span class="value"></span> degrees</aside></a></li>\n  <li class="degree mixed focus-required"><a href="#">Mixed</a></li>\n  <li class="reset focus-required"><a href="#">Clear</a></li>\n</ul>',t.prototype.events={"click .degree":"setFocus","click .reset":"reset","click .prompt":"prompt"},t.prototype.afterRender=function(){var e,t,n,r;return map.isPrompted()&&(n=this.$el.find("ul"),n.append('<li class="prompt"><a href="#" class="text-center">Back to prompt</a></li>')),map.isFocused()?(e=this.$el.find(".custom"),t=this.$el.find(".mixed"),r=map.getFocusDegree(),null!=r?(t.hide(),r>3?(e.attr("data-degree",r),e.find(".value").text(r)):e.hide(),this.$el.find(".degree[data-degree="+r+"]").addClass("active")):(e.hide(),t.addClass("active"))):this.$el.find(".focus-required").hide()},t.prototype.setFocus=function(e){var t;return this.$el.find(".degree").removeClass("active"),t=$(e.currentTarget),t.addClass("active"),map.isFocused()||Workflows.onboard("focus"),map.refocus({degree:Number(t.attr("data-degree"))}),this.close()},t.prototype.reset=function(){return map.resetFocus(),this.close()},t.prototype.prompt=function(){return this.close(),map.showFocusPrompt()},t}(Views.Actionbar.Popover),namespace("Views.Actionbar",function(n){return n.Focus=e,n.FocusMenu=t})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="help-btn btn btn-flat",n.prototype.events={click:"open"},n.prototype.render=function(){return this.$el.html("<strong>Help</strong>"),this},n.prototype.open=function(){return Modal.open("help")},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Help=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="metrics-btn btn btn-flat",n.prototype.attributes={title:"Metrics","data-track-click":"metrics"},n.prototype.template='<i class="kicon kicon-metrics"></i>',n.prototype.events={click:"onClick"},n.prototype.render=function(){return this.$el.html(this.template),this},n.prototype.onClick=function(){return sidebar.openMetricsView()},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Metrics=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.title="More",n.prototype.className="more-menu arrow-right",n.prototype.template='<ul class="nav nav-tabs nav-stacked">\n  <li data-track-click="more.pdf">\n    <a href="http://blog.kumu.io/create-high-quality-pdfs/" target="_blank">Request PDF</a>\n  </li>\n\n  <li data-action="screenshot" data-track-click="more.screenshot">\n    <a href="#">Capture screenshot</a>\n  </li>\n\n  <li data-action="share-embed" data-track-click="share.embed" data-ability="manage-embeds">\n    <a href="#">Share / embed this map</a>\n  </li>\n\n  <li data-action="import" data-track-click="more.import" data-ability="manage-maps">\n    <a href="#">Import data</a>\n  </li>\n\n  <li data-action="export-xlsx" data-track-click="more.export-xlsx" data-ability="create-exports">\n    <a href="#">Export .xlsx</a>\n  </li>\n\n  <li data-action="export-json" data-track-click="more.export-json" data-ability="create-exports">\n    <a href="#">Export .json</a>\n  </li>\n\n  <li data-action="fullscreen" data-track-click="more.fullscreen">\n    <a href="#">Enter fullscreen <aside>ALT+F</aside></a>\n  </li>\n\n  <li data-action="fullscreen-exit">\n    <a href="#">Exit fullscreen <aside>ESC</aside></a>\n  </li>\n\n  <li data-action="preview" data-track-click="share.preview" data-ability="manage-maps">\n    <a href="#">Switch to preview mode</a>\n  </li>\n\n  <li data-action="preview-exit">\n    <a href="#">Exit preview mode <aside>ESC</aside></a>\n  </li>\n</ul>',n.prototype.events={"click [data-action]":"onClick"},n.prototype.afterRender=function(){var e;return e=[],e.push(map.isMode("preview")?"[data-action=preview]":"[data-action=preview-exit]"),e.push(map.supports.fullscreen?map.isFullscreen?"[data-action=fullscreen]":"[data-action=fullscreen-exit]":"[data-action^=fullscreen]"),this.$el.find(e.join(", ")).remove()},n.prototype.onClick=function(e){var t;switch(e.preventDefault(),map.focus(),t=$(e.currentTarget).attr("data-action")){case"screenshot":map.screenshot();break;case"share-embed":Modal.open("embeds");break;case"share-export":this["export"]({blueprint:e.shiftKey});break;case"import":Workflows["import"]();break;case"export-xlsx":this["export"]({blueprint:!1});break;case"export-json":this["export"]({blueprint:!0});break;case"fullscreen":Workflows.fullscreen({mapOnly:e.shiftKey});
break;case"fullscreen-exit":Workflows.fullscreen();break;case"preview":map.preview();break;case"preview-exit":map.resetMode()}return this.close()},n.prototype["export"]=function(e){return e.blueprint?Workflows["export"]("blueprint"):Workflows["export"]()},n}(Views.Actionbar.Popover),namespace("Views.Actionbar",function(t){return t.MoreMenu=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="pin-btn btn btn-flat hide-read-only",n.prototype.attributes={title:"Pin","data-ability":"manage-maps","data-track-click":"pin"},n.prototype.template='<i class="icon-pin"></i>',n.prototype.events={click:"toggle"},n.prototype.initialize=function(){var e;return e=this,this.lazyUpdate=_.debounce(function(){return e.update()},50,!0),this.selection=map.getSelection(),this.listenTo(this.selection,"add remove reset change:pinned",this.lazyUpdate)},n.prototype.render=function(){return this.$el.html(this.template),this.update(),this},n.prototype.toggle=function(){return 0!==this.components.length?(this.pinned=!this.pinned,this.$el.toggleClass("active",this.pinned),execute(new Commands.Components.Pin(this.components,this.pinned)).fail(function(e){return function(){return e.$button.toggleClass("active")}}(this))):void 0},n.prototype.update=function(){return this.components=this.selection.pinnables(),this.pinned=_.all(this.components,function(e){return e.isPinned()}),this.$el.toggleClass("disabled",0===this.components.length).toggleClass("active",this.components.length>0&&this.pinned)},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Pin=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="button",n.prototype.className="settings-btn btn btn-flat",n.prototype.events={click:"open"},n.prototype.render=function(){return this.$el.html('<i class="icon-settings"></i>'),this},n.prototype.open=function(){return map.showSettingsForm()},n}(Backbone.View),namespace("Views.Actionbar",function(t){return t.Settings=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){n.__super__.constructor.call(this),this.props=new Backbone.Model(e)}return t(n,e),n.prototype.className="sidebar-article-view",n.prototype.template=template("main::articles/sidebar_article_view"),n.prototype.update=function(e){return this.props.set(e),this.render()},n.prototype.render=function(){return this.$el.html(this.template(this.props.toJSON())),this},n}(Backbone.View),namespace("Views.Articles",function(t){return t.SidebarArticleView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="a",n.prototype.className="attribute list-group-item",n.prototype.template=template("main::attributes/attribute"),n.prototype.attributes={href:"#"},n.prototype.initialize=function(){return this.attribute=this.model,this.listenTo(this.attribute,"change",this.render),this.listenTo(this.attribute,"destroy",this.remove)},n.prototype.render=function(){return this.$el.html(this.template(this.attribute.toJSON())),this.$el.attr("rel",this.attribute.cid),this},n}(Backbone.View),namespace("Views.Attributes",function(t){return t.AttributeView=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.renderDivider=t(this.renderDivider,this),this.renderAttribute=t(this.renderAttribute,this),this.renderAttributeCollection=t(this.renderAttributeCollection,this),this.renderBlankSlate=t(this.renderBlankSlate,this),this.renderAttributes=t(this.renderAttributes,this),this.prependField=t(this.prependField,this),this.newAttribute=t(this.newAttribute,this),this.remove=t(this.remove,this),this.render=t(this.render,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.tagName="ul",r.prototype.className="attributes",r.prototype.initialize=function(e){return this.selection=e.selection,this.listenTo(Attributes,"add",this.prependField)},r.prototype.render=function(){return this.$el.empty(),this.renderAttributes(),this},r.prototype.remove=function(){return this.stopListening(Attributes),this.$el.remove()},r.prototype.newAttribute=function(){var e,t;return this.$el.trigger("new"),e=this.$el.find(".blankslate").hide(),t=$("<li />").editable({mode:"subtle",trigger:"enter"}).on("edit",function(){return function(e,t){return t.placeholder("Attribute Name")}}(this)).on("update",function(){return function(e,n){return n=$.trim(n),n?Attributes.create(n).then(function(){return t.editable("destroy")}).fail(function(){return t.editable("edit",{error:"Field exists"})}):t.editable("cancel")}}(this)).on("cancel",function(){return function(){return t.editable("destroy"),e.show()}}(this)),this.$el.prepend(t),t.editable("edit")},r.prototype.prependField=function(e){return this.renderAttribute(e,{method:"prepend"})},r.prototype.renderAttributes=function(){var e,t,n,r;return n=this.selection.first(),r=_.chain(Attributes.models).reject(function(e){return e.isCore()}).sortBy(function(e){return e.get("label")}).value(),e=r[!1]||[],t=r[!0]||[],e.length+t.length!==0?(able.to("update","entity")||(t=[]),e.length>0&&(this.renderAttributeCollection(e),t.length>0&&this.renderDivider()),this.renderAttributeCollection(t)):able.to("update","entity")?this.renderBlankSlate():void 0},r.prototype.renderBlankSlate=function(){var e;return e=$("<li class='blankslate placeholder placeholder-primary'><a href='#' data-client='true'>Click to create<br /> your first attribute</a></li>").on("click",function(e){return function(){return _.defer(e.newAttribute)}}(this)).appendTo(this.$el)},r.prototype.renderAttributeCollection=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(this.renderAttribute(t));return i},r.prototype.renderAttribute=function(e,t){var n,r;return null==t&&(t={}),_.defaults(t,{method:"append"}),r=new Sidebar.Attributes.AttributeView({model:{selection:this.selection,field:e}}),n=$("<li />").append(r.render().el),this.$el[t.method](n)},r.prototype.renderDivider=function(){return this.$el.append("<li class='divider'><span>Additional Attributes</span></li>")},r}(Backbone.View),namespace("SidebarViews",function(t){return t.AttributesView=e})}.call(this),function(){var e,t,n,r,i,o,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,u=function(e,t){return function(){return e.apply(t,arguments)}};r=["name","label","category","tooltip","format","limit","prompt","expression"],e=["locked","private","sort","cluster"],n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,t),n.prototype.className="attributes-edit",n.prototype.template=template("main::attributes/edit"),n.prototype.events={"change [name=prompt]":"toggleChoices",submit:"submit","click .delete":"destroy"},n.prototype.initialize=function(){var e;return this.attribute=this.model,this.isNew=this.attribute.isNew(),e=this.attribute.get("values"),e=e.map(function(e){return{value:e}}),this.values=new Backbone.Collection(e),this.valuesView=new o({model:this.values})},n.prototype.render=function(){return this.$el.html(this.template({attribute:this.attribute})),this.$el.replace("values",this.valuesView.render().el),this.$form=this.$el.find("form"),this.$prompt=this.$form.findByName("prompt"),this.initializeCategories(),this.initializeForm(),this.toggleChoices(),this.$el.findByName("name").focus(),this},n.prototype.initializeCategories=function(){var e;return e=_.uniq(Attributes.pluck("category")),this.$form.find("[name=category]").autocomplete({source:e,delay:0,minLength:0,appendTo:"body"})},n.prototype.initializeForm=function(){var t,n,i,o,a,s;for(n=0,o=r.length;o>n;n++)t=r[n],this.$form.findByName(t).val(this.attribute.get(t));for(s=[],i=0,a=e.length;a>i;i++)t=e[i],s.push(this.$form.findByName(t).attr("checked",this.attribute.get(t)));return s},n.prototype.toggleChoices=function(){return this.attribute.isCore()&&"none"!==this.attribute.get("prompt")?this.$el.addClass("prompt-list"):this.$el.toggleClass("prompt-list","none"!==this.$prompt.val())},n.prototype.submit=function(e){var t,n,r,i;return e.preventDefault(),n=this.toJSON(),this.isNew?(t="added",r=new Commands.Attributes.Create(n),i=execute(r),this.attribute.set(n)):(t="updated",i=Workflows.updateAttribute(this.attribute,n)),i.then(function(e){return function(){return e.$el.trigger("notice","Successfully "+t+" field <strong>"+e.attribute.toString()+"</strong>"),e.$el.trigger("done")}}(this)).fail(function(e){return function(){return e.$el.trigger("alert","Unable to save field. Please try again.")}}(this))},n.prototype.destroy=function(){var e;return e=new Commands.Attributes.Destroy(this.attribute),execute(e).then(function(e){return function(){return e.$el.trigger("notice","Successfully deleted field <strong>"+e.attribute.toString()+"</strong>"),e.$el.trigger("done")}}(this)).fail(function(){return this.$el.trigger("alert","Unable to delete field. Please try again.")})},n.prototype.toJSON=function(){var t,n,r,i;for(n=this.$form.serializeJSON(),n.values=_.chain(n.values).compact().uniq().value(),null!=n.limit&&"none"!==n.limit&&(n.limit=Number(n.limit)),r=0,i=e.length;i>r;r++)t=e[r],n[t]="true"===n[t];return n},n}(Backbone.View),namespace("Views.Attributes",function(e){return e.Edit=n}),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e,t,n;return e=this.model,n=e.selector,t=e.scope,this.$el.html('<input type="text" name="values[selector]" class="values-selector form-control" />\n<input type="hidden" name="values[scope]" class="values-scope form-control" />\n\n<p class="help-block">\n  Enter the selector you\'d like to use to narrow down which elements\n  are presented as choices.\n</p>'),this.$el.find(".values-selector").val(n),this.$el.find(".values-scope").val(t),this},t}(Backbone.View),o=function(e){function t(){return this.onSort=u(this.onSort,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.template='<ul class="values list-unstyled"></ul>\n\n<button type="button" class="new-value btn btn-default" href="#">\n  <i class="icon-plus"></i> New Value\n</button>\n\n<div class="checkbox">\n  <input type="checkbox" name="locked" value="true">\n  Users must choose from the list above\n</div>',t.prototype.events={"click .new-value":"addValue"},t.prototype.initialize=function(){return this.values=this.model,0===this.values.length&&this.values.reset([{},{},{}]),this.listenTo(this.values,"add",this.renderValue)},t.prototype.render=function(){return this.$el.html(this.template),this.$list=this.$el.find(".values"),this.$list.sortable({axis:"y",stop:this.onSort}),this.values.each(this.renderValue,this),this},t.prototype.renderValue=function(e){var t;return t=new i({model:e}),this.$list.append(t.render().el)},t.prototype.addValue=function(){return this.values.add({})},t.prototype.onSort=function(){var e;return e=this.$list.find("li").map(function(){return $(this).attr("data-cid")}).get(),this.values.comparator=function(t){return _.indexOf(e,t.cid)},this.values.sort()},t}(Backbone.View),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.tagName="li",t.prototype.className="value",t.prototype.template='<div class="input-group">\n  <span class="input-group-addon"><i class="icon-sort-handle"></i></span>\n  <input class="form-control" type="text" value="{{value}}" name="values[]" placeholder="Value" />\n</div>',t.prototype.events={"click .delete":"destroy"},t.prototype.initialize=function(){return this.value=this.model,this.listenTo(this.value,"destroy",this.remove)},t.prototype.render=function(){var e;return e=this.value.get("value")||"",e=cockblock(e),this.$el.attr("data-cid",this.cid).html(tim(this.template,{value:e})),this},t.prototype.destroy=function(){return this.value.destroy()},t}(Backbone.View)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="attributes-index",n.prototype.template=template("main::attributes/index"),n.prototype.events={"click .attribute":"onClickAttribute","click .new-attribute":"onNewAttribute","click [data-dismiss=form]":"show",done:"show"},n.prototype.initialize=function(){return this.subview("list",new Views.Attributes.List),this.subview("relevance",new Views.Relevance.Index)},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.replace("list",this.list),this.$el.replace("relevance",this.relevance),this.$main=this.$el.find(".tab-pane:first"),this.$edit=this.$el.find(".tab-pane:last"),this},n.prototype.onNewAttribute=function(){return this.edit(new Attribute)},n.prototype.onClickAttribute=function(e){var t;return t=Attributes.get($(e.target).attr("rel")),this.edit(t)},n.prototype.edit=function(e){return this.subview("editor",new Views.Attributes.Edit({model:e})),this.$edit.html(this.editor.render().el),this.activate(this.$edit),this.scrollPosition=this.scrollTop(),this.scrollTop(0)},n.prototype.show=function(){var e;return this.activate(this.$main),this.removeSubview(this.editor),this.scrollTop(null!=(e=this.scrollPosition)?e:0)},n.prototype.shown=function(){return this.relevance.render()},n.prototype.activate=function(e){var t;return t=e===this.$main?this.$edit:this.$main,t.removeClass("in active"),e.addClass("in active")},n.prototype.scrollTop=function(){var e;return(e=this.$el.closest(".modal-body")).scrollTop.apply(e,arguments)},n}(Backbone.View),namespace("Views.Attributes",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="attributes list-group",n.prototype.initialize=function(){return this.listenTo(Attributes,"add remove change reset",this.render)},n.prototype.render=function(){return Attributes.each(this.renderAttribute,this),this},n.prototype.renderAttribute=function(e){var t;return t=this.subview(new Views.Attributes.AttributeView({model:e})),this.$el.append(t.render().el)},n}(Backbone.View),namespace("Views.Attributes",function(t){return t.List=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="cluster-form",n.prototype.template=template("main::cluster/form"),n.prototype.events={"change :checkbox":"refresh","click .save":"save","click .save-new":"saveNew"},n.prototype.initialize=function(){return this.listenTo(Dispatch,"scene.rebuild",this.render),this.listenTo(Attributes,"add remove change:name change:label change:cluster",this.render)},n.prototype.render=function(){var e,t,n,r,i,o,a;for(t=currentScene.cluster,o=t.getSimpleRules(),e=t.getAdvancedRules(),a={attributes:Cluster.getAttributes(),advancedRules:e},this.$el.html(this.template(a)),this.$saveBtn=this.$el.find(".save"),this.$attributes=this.$el.find(".selection-form :checkbox"),n=0,r=o.length;r>n;n++)i=o[n],this.$el.findByName(i.attribute.slug()+"-checkbox").prop("checked",!0);return this.delegateEvents(),this},n.prototype.remove=function(){return this.clean(),n.__super__.remove.apply(this,arguments)},n.prototype.refresh=function(){var e;return map.busy(),e=this.getRules(),map.cluster(e),this.$el.toggleClass("active",e.length>0),map.busy(!1)},n.prototype.getRules=function(){return this.$el.find(":checked").map(function(){var e,t,n,r;return e=$(this),n=e.siblings("[name=selector]").val()||void 0,t=e.siblings("[name=attribute]").val()||void 0,r=e.siblings("[name=type]").val()||void 0,{selector:n,attribute:t,type:r}}).get()},n.prototype.clean=function(){return currentScene.cluster.reset()},n.prototype.save=function(){return this.$saveBtn.blur().addClass("disabled"),execute(new Commands.Clusters.Save(currentScene.cluster)).then(function(e){return function(){return e.reset()}}(this)).fail(function(){return function(){return alert("Unable to save cluster")}}(this)).always(function(e){return function(){return e.$saveBtn.removeClass("disabled")}}(this))},n.prototype.saveNew=function(){return Workflows.duplicateMap(currentMap).then(function(e){return function(t){return t?e.reset():void 0}}(this))},n.prototype.reset=function(){return this.$el.find(":checkbox").prop("checked",!1)},n}(Backbone.View),namespace("Views.Cluster",function(t){return t.Form=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="conflicts-editor",n.prototype.template=template("main::conflicts/editor"),n.prototype.initialize=function(){return this.edits={},this.listenTo(Conflicts,"edit",this.onEdit),this.listenTo(Conflicts,"remove",this.onRemove)},n.prototype.render=function(){return this.$el.html(this.template),this.$welcome=this.$el.find(".welcome"),this.$conflict=this.$el.find(".conflict-container"),this},n.prototype.onEdit=function(e){var t,n,r;return e!==this.currentConflict?(this.currentConflict=e,null!=(r=this.view)&&r.$el.hide(),this.view=null!=(t=this.edits)[n=e.cid]?t[n]:t[n]=this.renderView(e),this.view.$el.show(),this.$welcome.hide(),this.$conflict.show()):void 0},n.prototype.renderView=function(e){var t;return t=new Views.Conflicts.Show({model:e}),t.render(),t.$el.hide().appendTo(this.$conflict),t},n.prototype.onRemove=function(e){return e===this.currentConflict?(this.view.remove(),this.view=this.edits[e.cid]=null):void 0},n.prototype.resolve=function(){return this.view.resolve()},n}(Backbone.View),namespace("Views.Conflicts",function(t){return t.Editor=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="text-merge-editor",n.prototype.template='<div class="editor"></div>',n.prototype.initialize=function(){return this.isJSON=!1,this.result=this.model},n.prototype.render=function(){return this.$el.html(this.template),this.$editor=this.$el.find(".editor"),_.defer(function(e){return function(){return e.initializeEditor()}}(this)),this},n.prototype.initializeEditor=function(){var e;return this.editor=ace.edit(this.$editor.get(0)),this.session=this.editor.getSession(),this.editor.setTheme("ace/theme/diff"),this.editor.getSession().setMode("ace/mode/diff"),this.editor.setOptions({minLines:1,maxLines:1e3,enableBasicAutocompletion:!0}),this.setValue(null!=(e=this.result.value)?e:this.result.mine),this.editor.resize(),this.editor.navigateFileStart(),this.editor.setHighlightActiveLine(!1),this.editor.setShowPrintMargin(!1),this.session.setUseWrapMode(!0)},n.prototype.setValue=function(e){return _.isString(e)||(this.isJSON=!0,e=JSON.stringify(e,null,"  ")),this.editor.setValue(e)},n.prototype.getValue=function(){var e;return e=this.editor.getValue(),e&&this.isJSON&&(e=JSON.parse(e)),e},n}(Backbone.View),namespace("Views.Conflicts",function(t){return t.TextMergeEditor=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){this.onSubmit=t(this.onSubmit,this),this.onCancel=t(this.onCancel,this),this.submit=t(this.submit,this),this.cancel=t(this.cancel,this),this.focus=t(this.focus,this),this.close=t(this.close,this),r.__super__.constructor.apply(this,arguments),this.$el.on("shown.bs.modal",function(e){return function(){return e.focus()}}(this)).on("hidden.bs.modal",function(e){return function(){return e.remove()}}(this)).on("click",".cancel",function(e){return function(){return e.cancel()}}(this)).on("click",".submit",function(e){return function(){return e.submit()}}(this)).on("submit",function(e){return function(t){return t.preventDefault(),e.submit()}}(this))}return n(r,e),r.prototype.modalTemplate=template("main::modals/base"),r.prototype.cancelText="Cancel",r.prototype.submitText="Submit",r.prototype.render=function(e,t){var n,r;return"function"==typeof this.beforeRender&&this.beforeRender.apply(this,arguments),this.$el.addClass("modal fade").html(this.modalTemplate()),null==e&&(e=this.title),null==t&&(t=_.isFunction(this.template)?this.template(this.context||this.model):this.template),this.className&&this.$el.addClass(this.className),this.$el.find(".modal-header .title").html(e),this.$el.find(".modal-body").html(t),n=this.$el.find(".cancel"),r=this.$el.find(".submit"),this.cancelText?n.html(this.cancelText):n.remove(),this.submitText?r.html(this.submitText):r.remove(),"function"==typeof this.afterRender?this.afterRender.apply(this,arguments):void 0},r.prototype.show=function(){return this.render(),this.$el.appendTo("body").modal({backdrop:!0,keyboard:!0,show:!0})},r.prototype.hide=function(){return this.$el.modal("hide")},r.prototype.close=function(){return this.hide()},r.prototype.focus=function(){return this.$el.find(".modal-body :input:first").focus()},r.prototype.cancel=function(){return"function"==typeof this.onCancel&&this.onCancel(),this.$el.trigger("cancel"),this.close()},r.prototype.submit=function(){return this.onSubmit()},r.prototype.onCancel=function(){},r.prototype.onSubmit=function(){return this.close()},r.prototype.isVisible=function(){return this.$el.is(":visible")},r.prototype.pending=function(e){return null==e&&(e=!0),this.$el.removeClass("errors"),this.$el.toggleClass("pending",e)},r.prototype.resolvedWithErrors=function(e){return this.$el.removeClass("pending"),this.showError(e)},r.prototype.showError=function(e){var t,n,r,i;return this.$el.removeClass("pending"),_.isString(e)?r=e:(r=e.message,i=e.status,n=e.error),t=this.$el.find(".modal-footer .errors"),t.find(".error-message").html(null!=r?r:"Unable to complete request"),t.find(".error-code").html(null!=i?i:""),t.find(".error-status").html(null!=n?n:""),this.$el.addClass("errors")},r.prototype.hideErrors=function(){return this.$el.removeClass("errors")},r.prototype.reset=function(){return this.$el.removeClass("pending errors")},r}(Backbone.View),namespace("Views.Modals",function(t){return t.Base=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="conflictsModal",n.prototype.className="modal",n.prototype.template=template("main::conflicts/modal"),n.prototype.events={"click .submit":"onSubmit"},n.prototype.initialize=function(){return this.editor=new Views.Conflicts.Editor,this.listenTo(Conflicts,"edit add remove reset",this.update)},n.prototype.render=function(){return this.$el.hide().html(this.template()).appendTo("body").modal({backdrop:!0,keyboard:!0}),this.$count=this.$el.find(".conflict-count"),this.$preview=this.$el.find(".upcoming-conflict-label"),this.$submit=this.$el.find(".submit"),this.$body=this.$el.find(".modal-body"),this.$body.html(this.editor.render().el),this.update(),this},n.prototype.update=function(){return this.$el.attr("data-conflict-count",Conflicts.length),this.updateCount(),this.updateButtons(),this.updatePreview()},n.prototype.updateCount=function(){var e;return(e=Conflicts.length)?this.$count.html(e):this.$count.empty()},n.prototype.updateButtons=function(){return this.$submit.text(Conflicts.current?"Save and continue":"Get started"),this.$submit.blur()},n.prototype.updatePreview=function(){var e;return this.$preview.text((e=Conflicts.peek())?e.label():"All done!")},n.prototype.onSubmit=function(){return Conflicts.current?this.editor.resolve():Conflicts.next()},n.prototype.show=function(){return this.$el.modal("show")},n.prototype.hide=function(){return this.$el.modal("hide")},n}(Backbone.View),namespace("Views.Conflicts",function(t){return t.Modal=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="conflicts-show",n.prototype.template=template("main::conflicts/show"),n.prototype.initialize=function(){return this.conflict=this.model},n.prototype.render=function(){var e,t,n,r,i;for(i={label:this.conflict.label(),type:this.conflict.type()},this.$el.html(this.template(i)),this.$list=this.$el.find(".conflicts"),this.$editor=this.$el.find(".conflict-editor"),r=this.conflict.conflicts("unresolved"),t=0,n=r.length;n>t;t++)e=r[t],this.renderConflictingValue(e);return this},n.prototype.renderConflictingValue=function(e){var t;return t=this.subview(new Views.Conflicts.Value({model:e})),this.$list.append(t.render().el)},n.prototype.resolve=function(){var e,t,n,r;for(n=this.getSubviews(),e=0,t=n.length;t>e;e++)r=n[e],r.resolve();return this.conflict.resolve()},n}(Backbone.View),namespace("Views.Conflicts",function(t){return t.Show=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="li",n.prototype.className="conflict",n.prototype.template=template("main::conflicts/value"),n.prototype.events={"click .force-accept":"accept"},n.prototype.initialize=function(){var e;return e=this.model,this.label=e.label,this.path=e.path,this.result=e.result,e},n.prototype.render=function(){var e;return e={label:this.label||this.defaultLabel()},this.$el.html(this.template(e)),this.$editor=this.$el.find(".conflict-editor"),this.renderEditor(),this},n.prototype.defaultLabel=function(){return _.chain(this.path).reject(function(e){return/attributes/i.test(e)}).map(function(e){return _.isNumber(e)?"Entry "+(e+1):e.humanize()}).value().join(" / ")},n.prototype.renderEditor=function(){return this.editor=new Views.Conflicts.TextMergeEditor({model:this.result}),this.$editor.html(this.editor.render().el)},n.prototype.accept=function(){return this.editor.setValue(this.result.theirs)},n.prototype.resolve=function(){var e;return e=this.editor.getValue()||void 0,e&&this.result.delimiter&&(e=e.split(this.result.delimiter)),this.result.value=e,this.result.resolved=!0},n}(Backbone.View),namespace("Views.Conflicts",function(t){return t.Value=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="form",n.prototype.events={submit:!1},n.prototype.initialize=function(){return this.rules=this.model||{}},n.prototype.render=function(){return this.$el.html(this.template),this.$el.toggles(),this.initializeControls(),this},n.prototype.initializeControls=function(){var e,t,n,r,i,o,a,s,u,l,c;for(this.controls=[],s=this.$el.find("[data-property]").toArray(),u=[],r=0,o=s.length;o>r;r++)n=s[r],e=$(n),a=e.attr("data-property"),l=e.attr("data-type"),c=this.rules[a],c=function(){switch(a){case"color":return i=c&&c.contains("scale("),"simple"===l&&!i||"scale"===l&&i?c:void 0;default:return c}}(),t=this.initializeControl(a,c,l),t.setElement(e),t.render(),this.subview(t),this.controls.push({property:a,control:t}),u.push(c?this.togglesFor(t).prop("checked",!0).trigger("change"):void 0);return u},n.prototype.initializeControl=function(e,t,n){var r,i,o;return o=this.settings[e],n&&(o=o[n]),_.isArray(o)?(r=o[0],i=o[1]):(r=o,i={}),_.extend(i,{property:e,value:t}),new Views.Decorations[r](i)},n.prototype.toJSON=function(){var e,t,n,r,i,o,a,s,u,l,c;for(l={},a=this.controls,r=0,i=a.length;i>r;r++)s=a[r],o=s.property,n=s.control,t=this.togglesFor(n),e=t.filter(":checked"),e.length===t.length?l[o]=n.val():null==l[o]&&(l[o]=void 0);l=_.extend({},this.rules,l),u={};for(o in l)c=l[o],null!=c&&""!==c&&(u[o]=c);return u},n.prototype.togglesFor=function(e){return e.$el.parents(".toggles").find("> :first-child .toggle")},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.DecorationBuilder=e})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t=50,e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.className="connection-decorations-builder decorations-builder",r.prototype.template=template("main::decorations/connections"),r.prototype.settings={size:["Slider",{label:"Width",min:1,max:t,"default":1}],scale:["Range",{min:1,max:t,"default":"1..10",format:"{{value}}x"}],color:{simple:"Color",scale:"ColorScale"},style:"RadioGroup"},r}(Views.Decorations.DecorationBuilder),namespace("Views.Decorations",function(t){return t.ConnectionDecorations=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template='<span class="control-label">Color</span>\n<input type="text" class="form-control" placeholder="Color" />',n.prototype.initialize=function(e){this.options=e},n.prototype.render=function(){return this.$el.html(this.template),this.$color=this.$el.find("input").harmony(this.options),this},n.prototype.val=function(){return this.$color.val()},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.Color=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template='<input type="hidden" name="type" />\n\n<div class="control">\n  <span class="control-label">Scale by</span>\n  <select class="form-control" name="expression"></select>\n</div>\n\n<div class="control">\n  <span class="control-label">Between</span>\n  <input type="text" class="color form-control" placeholder="From" />\n  <input type="text" class="color form-control" placeholder="To" />\n</div>',n.prototype.initialize=function(e){var t;this.options=e;try{this.scale=StyleDeclaration.build(this.options.property,this.options.value)
}catch(n){t=n,this.scale={}}return _.defaults(this.scale,{type:"linear-scale",expression:"",range:[]})},n.prototype.render=function(){return this.$el.html(this.template),this.$type=this.$el.findByName("type"),this.$type.val(this.scale.type),this.$expression=this.$el.findByName("expression"),this.$expression.expression({value:this.scale.expression}),this.$color0=this.$el.find(".color").eq(0).harmony({value:this.scale.range[0]}),this.$color1=this.$el.find(".color").eq(1).harmony({value:this.scale.range[1]}),this},n.prototype.val=function(){var e;return e={type:this.$type.val(),expression:this.$expression.val(),color0:this.$color0.val(),color1:this.$color1.val()},"linear-scale"===e.type&&(e.type="scale"),tim('{{type}}("{{expression}}", {{color0}}, {{color1}})',e)},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.ColorScale=e})}.call(this),function(){$.widget("kumu.expression",{_create:function(){var e,t,n,r,i,o,a,s,u,l,c,p,h;for(null==(t=this.options).type&&(t.type="general"),null==(n=this.options).prefix&&(n.prefix=this.element.attr("data-prefix")),null==(r=this.options).placeholder&&(r.placeholder=this.element.attr("")),o=function(){switch(this.options.type){case"general":return this._getGeneralChoices();case"weight":return this._getWeightChoices();default:return[]}}.call(this),0===o.length&&o.unshift(["No numeric attributes found",""]),"general"===this.options.type&&o.unshift([this.options.placeholder||"Select an attribute",""]),s=a=0,c=o.length;c>a;s=++a)if(i=o[s],l=i[0],h=i[1],_.isArray(h))for(e=$("<optgroup />").attr("label",l).appendTo(this.element),u=0,p=h.length;p>u;u++)i=h[u],this._appendChoice(i,s,e);else this._appendChoice(i,s,this.element);return null!=this.options.value?this.element.val(this.options.value):void 0},_appendChoice:function(e,t,n){var r,i,o;return i=e[0],o=e[1],r=$("<option />").val(o).text(i).prop("disabled",!o&&t>0).appendTo(n)},_getGeneralChoices:function(){return this._choicesFor(Attributes.expressionable())},_getWeightChoices:function(){var e,t,n,r;return e=Attributes.expressionable(),r=Attributes.metrics(),n=_.difference(e,r),t=[],n.length&&(t=t.concat(this._choicesFor(n))),r.length&&t.push(["Metrics",this._choicesFor(r)]),t},_choicesFor:function(e){var t;return t=this.options.prefix,_.map(e,function(e){var n;return n=e.label(),t&&(n=t+" "+n.toLowerCase()),[n,e.key()]})}})}.call(this),function(){var e,t;t='<ul class="colors" data-scale="Spectral"></ul>\n<ul class="colors" data-scale="Greys"></ul>\n\n<h6>Intensity</h6>\n<ul class="colors" data-scale="YlOrRd"></ul>\n\n<h6>Extremes</h6>\n<ul class="colors" data-scale="RdYlBu"></ul>\n<ul class="colors" data-scale="BrBG"></ul>\n\n<h6>General</h6>\n<ul class="colors" data-scale="Purples"></ul>\n<ul class="colors" data-scale="Blues"></ul>\n<ul class="colors" data-scale="Greens"></ul>\n<ul class="colors" data-scale="Oranges"></ul>\n<ul class="colors" data-scale="Reds"></ul>',e={color:"inherit","background-color":"","border-color":""},$.widget("kumu.harmony",{options:{template:t},destroy:function(){return $("body").off("click",this.handlers.onClickBody),this.element.off("click",this.handlers.onClickInput),this.element.off("keyup",this.handlers.onKeyup),this.element.off("change",this.handlers.onChangeInput),this.menu.remove(),$.Widget.prototype.destroy.call(this)},value:function(e){return 0===arguments.length?this.element.val():(this.element.val(e),this._refresh(),e)},_create:function(){var e;return e=this,null!=this.options.value&&this.element.val(this.options.value),this.handlers={onKeyup:function(){return e._onKeyup()},onClickBody:function(t){return e._closeOnOutsideClick(t)},onClickInput:function(){return e._toggle()},onChangeInput:function(){return e._onChange()},onSelectColor:function(t){return e._select(t)}},this.menu=$('<div class="harmony-picker"></div>').html(this.options.template).on("click",".color",this.handlers.onSelectColor),this.menu.find("[data-scale]").each(function(){return e._initializeScale(this)}),this.element.addClass("harmony").attr("placeholder",this.element.attr("placeholder")||this.options.placeholder).on("click",this.handlers.onClickInput).on("keyup",this.handlers.onKeyup).on("change",this.handlers.onChangeInput),$(document).on("click","body",this.handlers.onClickBody),this._refresh()},_select:function(e){var t;return t=$(e.target).attr("data-color"),this.value(t),this._notify(),this._close()},_onChange:function(){return this._refresh(),this._notify()},_notify:function(){return this.options.onChange?this.options.onChange(this.value()):void 0},_refresh:function(){var t,n,r,i,o;if(n=t=this.element.val())try{n=chroma(n),i=n.luminance()>.5?n.darken(50):n.brighten(50),o={"background-color":n.hex(),"border-color":n.hex(),color:i.hex()}}catch(a){r=a,o=e}else o=e;return this.element.css(o)},_toggle:function(){return this.menu.is(":visible")?this._close():_.defer(function(e){return function(){return e._open()}}(this))},_open:function(){return this.menu.appendTo("body").position({my:"top",at:"bottom",of:this.element,collision:"flipfit"}),this.element.select().focus()},_close:function(){return this.menu.detach()},_closeOnOutsideClick:function(e){return this.element.is(e.target)||this.menu.has(e.target).length?void 0:this._close()},_onKeyup:function(){return this._close(),this._refresh()},_initializeScale:function(e){var t,n,r;return t=$(e),r=t.attr("data-scale"),n=this._colors(r),t.append.apply(t,n)},_colors:function(e,t){var n,r;return t=_.defaults({},t,{limit:10,mode:"hsl"}),_.isArray(e)?n=e.length:(n=t.limit,e=chroma.scale(e).mode(t.mode).colors(n)),r=100/n,_.map(e,function(e){return $("<li />").addClass("color").css({width:r+"%","background-color":e}).attr("data-color",e)})}})}.call(this),function(){var e;e={slide:'<div class="range-slide">\n  <div class="range-slide-track"></div>\n  <div class="range-slide-inner"></div>\n</div>',thumb:'<div class="range-slide-thumb">\n  <div class="range-slide-marker"></div>\n  <div class="range-slide-label"></div>\n</div>',skirt:'<div class="range-slide-skirt"></div>'},jQuery.__foobar1="plugin",$.widget("kumu.range",{options:{type:void 0,format:void 0,value:void 0,"default":void 0},defaults:{min:0,max:100},value:function(e){var t;if(0!==arguments.length)return this.element.val(e),this._refresh(),e;switch(t=this._values(),this.type){case"single":return t[0];case"double":return t}},_values:function(){var e,t,n,r,i;switch(this.type){case"single":i=[this.element.val()],i[0]||(i[0]=null!=(t=this.options["default"])?t:this.min);break;case"double":i=this._parseRange(this.element.val()),e=this._parseRange(this.options["default"]),null==i[0]&&(i[0]=null!=(n=e[0])?n:this.min),null==i[1]&&(i[1]=null!=(r=e[1])?r:this.max)}return _.map(i,function(e){return function(t){return e._bound(e.min,e.max,Number(t))}}(this))},_parseRange:function(e){return e&&-1!==e.indexOf("..")?e.split(".."):[]},_create:function(){return null!=this.options.value&&this.element.val(this.options.value),this._initializeOptions(),this._render()},_render:function(){return this.slide=$(e.slide),this.inner=this.slide.find(".range-slide-inner"),"single"===this.type?this.inner.append(e.thumb):(this.inner.append(this.skirt=$(e.skirt)),this.inner.append(this.thumb0=$(e.thumb)),this.inner.append(this.thumb1=$(e.thumb))),this.thumbs=this.slide.find(".range-slide-thumb"),this._initializeThumbs(),this._refresh(),this.element.hide().before(this.slide)},_initializeOptions:function(){var e,t,n,r,i,o,a,s,u,l;return null==(e=this.options).min&&(e.min=null!=(a=this.element.attr("min"))?a:this.defaults.min),null==(t=this.options).max&&(t.max=null!=(s=this.element.attr("max"))?s:this.defaults.max),null==(n=this.options).precision&&(n.precision=null!=(u=this.element.attr("data-precision"))?u:this._inferredPrecision()),null==(r=this.options)["default"]&&(r["default"]=this.element.attr("data-default")),null==(i=this.options).format&&(i.format=this.element.attr("data-format")),null==(o=this.options).type&&(o.type=null!=(l=this.element.attr("data-type"))?l:this._inferredType()),this.options.type=function(){switch(this.options.type){case"single":case"slider":return"single";case"double":case"range":return"double"}}.call(this),this.type=this.options.type,this.min=Number(this.options.min),this.max=Number(this.options.max),this.precision=Number(this.options.precision)},_inferredType:function(){var e;return e=this.element.val()||this.options["default"]||"",-1===String(e).indexOf("..")?"single":"double"},_inferredPrecision:function(){var e,t;return t=String(this.options.min).split(".")[1]||"",e=String(this.options.max).split(".")[1]||"",Math.max(t.length,e.length)},_refresh:function(){var e,t,n,r,i,o,a,s;for(i=this._values(),o=[],t=e=0,n=i.length;n>e;t=++e)s=i[t],a=this.thumbs.eq(t),r=this._toPercent(s),a.find(".range-slide-label").text(this._format(s)),a.css("left",r+"%"),o.push("double"===this.type?0===t?this.skirt.css("left",r+"%"):this.skirt.css("right",100-r+"%"):void 0);return o},_format:function(e){var t;return t=this.options.format,this.precision&&(e=e.toFixed(this.precision)),_.isFunction(t)?t(Number(e)):_.isString(t)?t.replace("{{value}}",e):e},_toPercent:function(e){return 100*(e-this.min)/(this.max-this.min)},_initializeThumbs:function(){var e,t,n,r;return e=$(document),n=function(e){var t,n,r,i;return e.preventDefault(),e.stopPropagation(),i=null!=(t=e.pageX)?t:e.originalEvent.touches[0].pageX,n=this._bound(0,1,(i-this.inner.offset().left)/this.inner.width()),r=this.min+n*(this.max-this.min),this._setValue(this.thumb,r),this._refresh()},r=function(){return this.thumb.removeClass("active"),this.isDragging=!1,this.thumb=null,this._off(e)},t=function(t){return 0===t.which||1===t.which?(this.isDragging=!0,this.thumb=$(t.currentTarget),this.thumb.addClass("active"),this._on(e,{mousemove:n,mouseup:r,touchmove:n,touchend:r})):void 0},this._on(this.slide,{"mousedown .range-slide-thumb":t,"touchstart .range-slide-thumb":t})},_setValue:function(e,t){var n,r;return t=t.toFixed(this.precision),"double"===this.type&&(r=this._values(),e.is(this.thumb0)?r[0]=t:r[1]=t,t=r.join("..")),"function"==typeof(n=this.options).onChange&&n.onChange(t),this.element.val(t).change()},_bound:function(e,t,n){return Math.min(t,Math.max(e,n))}})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(e){this.options=e},n.prototype.render=function(){return null!=this.options.value&&this.$el.find("input[value="+this.options.value+"]").prop("checked",!0),this},n.prototype.val=function(){return this.$el.find("input:checked").val()},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.RadioGroup=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template='<input type="hidden" name="type" />\n\n<div class="control">\n  <span class="control-label">Scale by</span>\n  <select class="form-control" name="expression"></select>\n</div>\n\n<div class="control">\n  <span class="control-label">Between</span>\n  <input type="text" name="range" />\n</div>',n.prototype.initialize=function(e){return this.options=e,this.initializeScale()},n.prototype.initializeScale=function(){var e;try{this.scale=StyleDeclaration.build(this.options.property,this.options.value),this.scale.isSimple()?this.scale={}:this.scale.type=this.scale.name}catch(t){e=t,this.scale={}}return _.defaults(this.scale,{type:"linear-scale",expression:"",range:[]})},n.prototype.render=function(){return this.$el.html(this.template),this.initializeType(),this.initializeExpression(),this.initializeRange(),this},n.prototype.initializeType=function(){return this.$type=this.$el.findByName("type"),this.$type.val(this.scale.type)},n.prototype.initializeExpression=function(){return this.$expression=this.$el.findByName("expression"),this.$expression.expression({value:this.scale.expression})},n.prototype.initializeRange=function(){var e;return e=_.defaults({type:"range"},this.options),e.value=this.scale.range.join(".."),this.$range=this.$el.findByName("range").range(e)},n.prototype.val=function(){var e;return e={type:this.$type.val(),expression:this.$expression.val()||"",range:this.$range.range("value").join(", ")},"linear-scale"===e.type&&(e.type="scale"),tim('{{type}}("{{expression}}", {{range}})',e)},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.Range=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template='<span class="control-label">Property</span>\n<input type="text" class="form-control" placeholder="Value" />',n.prototype.initialize=function(e){this.options=e},n.prototype.render=function(){return this.$el.html(this.template),this.$el.find(".control-label").html(this.options.label),this},n.prototype.val=function(){return this.$el.find("input").val()},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.Simple=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template='<span class="control-label">Size</span>\n<input type="text" />',n.prototype.initialize=function(e){var t;return this.options=e,null!=(t=this.options).label?t.label:t.label=this.defaultLabel()},n.prototype.defaultLabel=function(){return _.last(this.options.property.split("-")).capitalize()},n.prototype.render=function(){return this.$el.html(this.template),this.initializeLabel(),this.initializeRange(),this},n.prototype.initializeLabel=function(){return this.$el.find(".control-label").html(this.options.label)},n.prototype.initializeRange=function(){var e;return e=_.pick(this.options,"value","min","max","precision","default","format"),this.$range=this.$el.find("input").range(e)},n.prototype.val=function(){return String(this.$range.range("value"))},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.Slider=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template='<span class="control-label">Url</span>\n<input type="text" class="form-control" placeholder="http://..." />',n.prototype.initialize=function(e){var t;return this.options=e,null!=(t=this.options).value?t.value:t.value=""},n.prototype.render=function(){return this.$el.html(this.template),this.initializeValue(),this},n.prototype.initializeValue=function(){return this.$url=this.$el.find("input"),this.$url.val(this.parse(this.options.value))},n.prototype.val=function(){return this.format(this.$url.val())},n.prototype.parse=function(e){return e=e.trim(),e.startsWith("url(")?e.slice(4,-1):e},n.prototype.format=function(e){return e=e.trim(),e.startsWith("url(")?e:"url("+e+")"},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.Url=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="decoration-selector-builder",n.prototype.template=template("main::decorations/selector"),n.prototype.events={"click .edit":"edit","change .select-method":"refresh"},n.prototype.initialize=function(){return this.lens=this.model,this.selection=map.getEntitySelection()},n.prototype.render=function(e){var t;return null==e&&(e=this.lens.has("selector")?"show":"edit"),t={action:e,collection:this.lens.get("collection"),selector:this.lens.get("selector"),selection:this.selection},this.$el.html(this.template(t)),"edit"===e&&(this.$select=this.$el.find(".select-method"),this.$more=this.$el.find(".more"),this.initializeBuilder(),this.refresh()),this},n.prototype.edit=function(){return this.render("edit")},n.prototype.refresh=function(){var e;return e=function(){switch(this.$select.val()){case"similar":return new Views.Decorations.SimilarAttributes({model:this.selection});case"custom":return new SelectorBuilder.View({scope:this.lens.scope(),selector:this.lens.get("selector")})}}.call(this),e?(this.subview("moreView",e),this.$more.html(e.render().el)):(this.removeSubview("moreView"),this.$more.empty())},n.prototype.initializeBuilder=function(){var e;return e=this.lens.hasCustomSelector()?"custom":0===this.selection.length?"custom":"similar",0===this.selection.length&&this.$el.find(".selection-required").hide(),this.$select.val(e)},n.prototype.select=function(e){return this.$select.val(e)},n.prototype.getSelector=function(){if(!this.$select)return this.lens.get("selector");switch(this.$select.val()){case"all":return this.lens.scope();case"selected":return this.selection.getDirectSelector({scope:!0});case"similar":case"custom":return this.moreView.getSelector()}},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.DecorationSelectorBuilder=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="element-decorations-builder decorations-builder",n.prototype.template=template("main::decorations/elements"),n.prototype.settings={size:["Slider",{label:"Size",min:1,max:100,"default":5}],scale:["Range",{min:.1,max:10,"default":"0.5..4",format:"{{value}}x"}],color:{simple:"Color",scale:"ColorScale"},"image-url":"Url","bullseye-color":"Color","shadow-color":"Color","shadow-size":["Slider",{min:1,max:5,precision:1,"default":2,format:"{{value}}x"}],"shadow-opacity":["Slider",{label:"Opacity",min:0,max:1,precision:2,"default":.3,format:function(e){return Math.floor(100*e)+"%"}}]},n}(Views.Decorations.DecorationBuilder),namespace("Views.Decorations",function(t){return t.ElementDecorations=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="decorations-form",n.prototype.template=template("main::decorations/form"),n.prototype.events={"hidden.bs.modal":"remove"},n.prototype.initialize=function(){return this.lens=this.model},n.prototype.render=function(){return this.$el.html(this.template(this.lens.toJSON())),this.$label=this.$el.findByName("label"),this.renderSelectorForm(),this.renderDecorationForm(),this},n.prototype.renderSelectorForm=function(){return this.subview("selectorForm",new Views.Decorations.DecorationSelectorBuilder({model:this.lens})),this.$el.replace("selector-form",this.selectorForm)},n.prototype.renderDecorationForm=function(){var e,t;return t=this.lens.get("collection").singularize().capitalize(),e=Views.Decorations[t+"Decorations"],this.subview("decorationForm",new e({model:this.lens.get("declarations")})),this.$el.replace("decoration-form",this.decorationForm)},n.prototype.toJSON=function(){return{selector:this.selectorForm.getSelector(),declarations:this.decorationForm.toJSON(),label:this.$label.val().trim()}},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.FormView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="decorations-modal modal",n.prototype.template=template("main::decorations/modal"),n.prototype.events={"click [data-collection]":"setCollection","click .cancel":"onCancel","click .submit":"onSubmit","hidden.bs.modal":"remove"},n.prototype.initialize=function(){return this.lens=this.model,this.subview("form",new Views.Decorations.FormView({model:this.lens})),this.listenTo(this.lens,"change:collection",this.render)},n.prototype.render=function(){return this.$el.html(this.template({collection:this.lens.get("collection")||""})),this.lens.has("collection")&&this.$el.replace("form",this.form),this.$errors=this.$el.find(".errors"),this},n.prototype.refresh=function(){return this.form.render()},n.prototype.show=function(){return this.render(),this.$el.modal({backdrop:!0,keyboard:!0,show:!0})},n.prototype.hide=function(){return this.$el.modal("hide")},n.prototype.setCollection=function(e){var t;return t=$(e.target).attr("data-collection"),this.lens.set("collection",t)},n.prototype.onSubmit=function(){var e;return e=this.form.toJSON(),e.selector?(this.$errors.empty(),this.trigger("submit",e)):this.$errors.html("Selector required")},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.Modal=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="similar-attributes",n.prototype.events={"click .selector":"onClick"},n.prototype.initialize=function(){return this.selection=this.model},n.prototype.render=function(){var e,t,n,r,i,o,a,s;if(a=this.selection.sharedAttrs(),0===a.length)this.$el.html('<div class="alert alert-danger"> Unable to find any common fields within the selection. Please choose another option above. </div>');else for(this.$el.html("<div> <h5>Instructions</h5> <p>Select the values to decorate by (shift+click to select multiple)</p> </div>"),n=0,r=a.length;r>n;n++)i=a[n],t=i.attribute,s=i.value,o=this.buildSelector(t,s),e=$('<a href="#" class="selector tag"></a>').attr("data-selector",o).html(s+" <small class='attribute'>"+t.singularize()+"</small>"),this.$el.append(e);return this},n.prototype.buildSelector=function(e,t){var n,r;return n=Attributes.resolve(e),r={attribute:e,value:t},1===n.get("limit")?Selector.prepare('["{{attribute}}"="{{value}}"]',r):Selector.prepare('["{{attribute}}"~="{{value}}"]',r)},n.prototype.getSelector=function(){return this.$el.find(".selector.active").map(function(){return $(this).attr("data-selector")}).get().join(", ")},n.prototype.onClick=function(e){var t;return t=$(e.currentTarget),t.addClass("active"),e.shiftKey||e.metaKey?void 0:t.siblings().removeClass("active")},n}(Backbone.View),namespace("Views.Decorations",function(t){return t.SimilarAttributes=e})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t=null,e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.className="disqus-view",r.prototype.render=function(e){var n,r,i,o,a;return r=Settings.getSettingsForAddon("disqus"),i=r.shortname,a=this.getUrl(e),o=this.getTitle(e),$("#disqus_thread").remove(),this.$el.html("<div id='disqus_thread'></div>"),n=function(){var e;return window.disqus_config=e=function(){return this.page.identifier=a,this.page.url=a,this.page.title=o,log.debug("disqus reset",{shortname:i,url:a,title:o})},t?"undefined"!=typeof DISQUS&&null!==DISQUS?DISQUS.reset({reload:!0,config:e}):void 0:(t=document.createElement("script"),t.async=!0,t.src="//"+i+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),document.head.appendChild(t))},_.defer(n),this},r.prototype.refresh=function(e){return $("#disqus_thread").is(":empty")?this.render(e):void 0},r.prototype.getUrl=function(e){var t,n;return t={map:currentMap},e instanceof Entity&&(t.entity=e),n=urlFor(t,{absolute:!0,permanent:!0}),n.replace("#","#!")},r.prototype.getTitle=function(e){var t;return e instanceof Connection?t=e.getVerboseLabel().capitalize():(t=e.toString(),e instanceof Loop&&(t="Loop: "+t)),t},r}(Backbone.View),namespace("Views.Disqus",function(t){return t.DisqusView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this)}return t(n,e),n.prototype.tagName="div",n.prototype.events={"keypress input":"onKeypress"},n.prototype.render=function(e,t){var n,r;return null==t&&(t=[]),this.$input=$('<input type="text" class="form-control" autocomplete="off" />'),this.$value=$('<input type="hidden" />'),this.$el.empty().append(this.$input,this.$value),t.length>0&&_.isObject(t[0])&&(n=_.find(t,function(t){return t.value===e}),n&&(e=n.label)),r=function(e){return function(t,n){return e.$input.val(n.item.label||n.item.value),e.$value.val(n.item.value),!1}}(this),this.$input.val(e).autocomplete({source:t,focus:r,select:r}),this},n.prototype.focus=function(){return this.$input.select().focus()},n.prototype.value=function(){return this.$value.val().trim()||this.$input.val().trim()},n.prototype.onKeypress=function(e){return 13===e.which?this.editable.save():void 0},n}(Backbone.View),namespace("Views.Editors",function(t){return t.Basic=e}),$.editable.editor.register("basic",e),$.editable.editor.register("string",e)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this)}return t(n,e),n.prototype.className="checkbox-editor",n.prototype.template=template("main::editors/checkbox"),n.prototype.events={"click .edit-value":"editValue","click .new-value-input":"onClickNew","keydown .new-value-input":"onKeydown","click .cancel":"cancel",change:"onChange",submit:"onSubmit"},n.prototype.ignoreBlur=function(){return!0},n.prototype.render=function(){var e,t,n,r;for(this.existingValue=this.editable.getValue(),this.$el.html(this.template()),this.$form=this.$el.find("form"),this.$list=this.$form.find("ul"),this.$newValue=this.$el.find(".new-value-input"),this.$newCheckbox=this.$el.find(".new-value-checkbox"),r=this.editable.data().choices(!0),t=0,n=r.length;n>t;t++)e=r[t],this.renderChoice(e);return this},n.prototype.renderChoice=function(e){var t,n,r,i;return r=e.label,i=e.value,t=$('<li class="checkbox">\n  <label>\n    <input type="checkbox" name="value[]" /> '+cockblock(r)+'\n  </label>\n  <button type="button" class="edit-value btn btn-sm btn-flat">\n    <i class="fa fa-pencil"></i>\n  </button>\n</li>'),n=t.find("input").val(i).prop("checked",_.include(this.existingValue,i)),t.appendTo(this.$list)},n.prototype.editValue=function(e){var t;return t=$(e.currentTarget).closest("li").find("input").val(),this.editable.trigger("edit-choice",t)},n.prototype.focus=function(){return this.$newValue.focus()},n.prototype.autoselectNewValue=function(){return this.$newCheckbox.prop("checked",!0)},n.prototype.addChoice=function(e){var t;return t=this.renderChoice(e),t.find("input").prop("checked",!0)},n.prototype.onClickNew=function(){return this.autoselectNewValue()},n.prototype.onKeydown=function(e){var t,n;return 13===e.which?(e.preventDefault(),e.stopPropagation(),n=this.$newValue.val().trim(),t={label:n,value:n},this.addChoice(t),this.$newValue.val(""),this.$newCheckbox.prop("checked",!1)):this.autoselectNewValue()},n.prototype.value=function(){var e,t;return t=this.$form.serializeJSON().value||[],this.$newCheckbox.is(":checked")&&(e=this.$newValue.val().trim())&&t.push(e),0===t.length?void 0:_.uniq(t)},n.prototype.cancel=function(){return this.editable.cancel()},n.prototype.onChange=function(e){return e.stopPropagation()},n.prototype.onSubmit=function(e){return e.preventDefault(),this.editable.save()},n}(Backbone.View),namespace("Views.Editors",function(t){return t.Checkbox=e}),$.editable.editor.register("checkbox",e)}.call(this),function(){var e,t,n,r,i=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;r="YYYY-MM-DD",t="mm/dd/yyyy",n="MM/DD/YYYY",e=function(e){function a(e){this.editable=e,this.save=i(this.save,this),this.onKeydown=i(this.onKeydown,this),a.__super__.constructor.call(this),this.showDatepickerOnFocus=!0}return o(a,e),a.prototype.tagName="div",a.prototype.render=function(e){return this.$el.html('<input type="text" class="form-control" placeholder="Add date" />'),e&&(e=moment(e).format(n)),this.$input=this.$el.find("input").val(e).datepicker({format:t,autoclose:!0,showOnFocus:!1,keyboardNavigation:!1}).on("hide",this.save).on("keydown",this.onKeydown),this},a.prototype.ignoreBlur=function(e){return $(e.target).closest(".datepicker").length},a.prototype.focus=function(){return this.$input.focus(),this.showDatepickerOnFocus&&this.$input.datepicker("show"),this.showDatepickerOnFocus=!1},a.prototype.value=function(){var e;return e=this.$input.val().trim(),e&&(e=moment(e).format(r)),e},a.prototype.onKeydown=function(e){return 13===e.which?this.save():void 0},a.prototype.save=function(){return this.editable.save()},a.prototype.cleanup=function(){return this.$input.datepicker("remove"),this.showDatepickerOnFocus=!0},a}(Backbone.View),$.editable.editor.register("date",e)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this)}return t(n,e),n.prototype.tagName="div",n.prototype.template='<div class="input-group">\n  <span class="input-group-addon">=</span>\n  <input type="text" class="form-control" placeholder="expression">\n</div>',n.prototype.events={"keypress input":"onKeypress"},n.prototype.render=function(e){var t;return t=Attribute.parseExpression(e),this.$el.html(this.template),this.$input=this.$el.find("input[type=text]"),this.$input.val(t),this},n.prototype.focus=function(){return this.$input.select().focus()},n.prototype.value=function(){return Attribute.formatExpression(this.$input.val().trim())},n.prototype.onKeypress=function(e){return 13===e.which?this.editable.save():void 0},n}(Backbone.View),namespace("Views.Editors",function(t){return t.Expression=e}),$.editable.editor.register("expression",e)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this)}return t(n,e),n.prototype.className="image-editor",n.prototype.render=function(e){return this.subview("wrapper",BackboneReactView.build(ImageEditorReact,{value:e,onChange:function(e){return function(){return e.editable.save()}}(this)})),this.$el.html(this.wrapper.render().el),this},n.prototype.focus=function(){return this.wrapper.ref.focus()},n.prototype.value=function(){return this.wrapper.ref.value()},n}(Backbone.View),namespace("Views.Editors",function(t){return t.ImageEditor=e}),$.editable.editor.register("image",e)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this)}return t(n,e),n.prototype.className="markdown-editor",n.prototype.template=template("main::editors/markdown"),n.prototype.events={"click .done":"done","click .cancel":"cancel","keydown textarea":"onKeydown","paste textarea":"onPaste","click .upload":"handleFileSelect","change .upload-file":"handleFileUpload","submit .upload-form":!1},n.prototype.render=function(e){return this.$el.html(this.template()),this.$textarea=this.$el.find("textarea"),this.$textarea.val(e),this
},n.prototype.afterRender=function(){return this.$textarea.autosize()},n.prototype.focus=function(){return this.$textarea.focus()},n.prototype.value=function(){return this.$textarea.val().trim()},n.prototype.done=function(){return this.editable.save()},n.prototype.cancel=function(){return this.editable.cancel()},n.prototype.onKeydown=function(e){switch(e.which){case 13:if(e.altKey||e.metaKey||e.shiftKey)return this.done();break;case 9:return e.preventDefault()}},n.prototype.handleFileSelect=function(e){return e.preventDefault(),this.$el.find(".upload-file").click()},n.prototype.handleFileUpload=function(){var e,t,n;return e=this.$el.find(".upload-file").get(0).files[0],n=UploadHelper.getMarkdownTitle(e.name),t="![Uploading "+e.name+"...]()",this.insertPlaceholder(t),UploadHelper.uploadFile(e).then(function(e){return function(r){return e.replacePlaceholder(t,"!["+n+"]("+r+")")}}(this))["catch"](function(n){return function(){return n.replacePlaceholder(t,"![unable to upload "+e.name+"](#)")}}(this))},n.prototype.onPaste=function(e){var t;if(UploadHelper.isImagePasteEvent(e))return t="![Uploading image.png...]()",this.insertPlaceholder(t),UploadHelper.handleImagePasteEvent(e).then(function(e){return function(n){return e.replacePlaceholder(t,"![image]("+n+")")}}(this))["catch"](function(e){return function(n){return e.replacePlaceholder(t,"![unable to upload image](#)"),alert(n)}}(this))},n.prototype.insertPlaceholder=function(e){var t,n,r,i,o,a;return i=this.$textarea.get(0),o=i.value,r=i.selectionStart,n=i.selectionEnd,e="\n"+e+"\n",a=o.slice(0,r),a+=e,a+=o.slice(n),t=r+e.length-1,i.value=a,i.setSelectionRange(t,t)},n.prototype.replacePlaceholder=function(e,t){return t=this.$textarea.val().replace(e,t),this.$textarea.val(t)},n}(Backbone.View),namespace("Views.Editors",function(t){return t.Markdown=e}),$.editable.editor.register("markdown",e)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this)}return t(n,e),$.editable.editor.register("multiselect",n),n.prototype.className="multiselect-editor",n.prototype.template=template("main::editors/multiselect"),n.prototype.events={change:"onChange",keydown:"onKeydown"},n.prototype.render=function(){return this.$el.html(this.template),this.$select=this.$el.find(".select"),this},n.prototype.afterRender=function(){var e,t,n;return n=this.editable.getValue(),e=this.editable.data().choices(!0),e=_.map(e,function(e){return{id:e.value,text:e.label}}),t={openOnEnter:!1,multiple:!0,tokenSeparators:["|"]},this.editable.isLocked()?t.data=e:t.tags=e,this.$select.select2(t),this.$select.select2("val",n)},n.prototype.cleanup=function(){return this.$select?(this.$select.select2("destroy"),$(".select2-sizer, .select2-drop, .select2-drop-mask").remove()):void 0},n.prototype.focus=function(){return this.$select.select2("open"),this.$select.select2("close")},n.prototype.value=function(){return this.$select.select2("val")},n.prototype.cancel=function(){return this.editable.cancel()},n.prototype.done=function(){return this.editable.save()},n.prototype.onChange=function(e){return e.stopPropagation()},n.prototype.onKeydown=function(e){switch(e.which){case 13:if(e.altKey||e.metaKey||e.shiftKey)return this.done();break;case 9:return e.preventDefault()}},n}(Backbone.View),namespace("Views.Editors",function(t){return t.Multiselect=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this)}return t(n,e),n.prototype.className="radio-editor",n.prototype.template=template("main::editors/radio"),n.prototype.events={"click .edit-value":"editValue","focus .new-value-input":"autoselectNewValue","click .cancel":"cancel",change:"onChange",submit:"onSubmit"},n.prototype.ignoreBlur=function(){return!0},n.prototype.render=function(){var e,t,n,r;for(this.name=(new Date).getTime(),this.$el.html(this.template()),this.$list=this.$el.find("ul"),this.$newValue=this.$el.find(".new-value-input"),this.$newRadio=this.$el.find(".new-value-radio"),this.$newRadio.attr("name",this.name),r=this.editable.data().choices(!0),t=0,n=r.length;n>t;t++)e=r[t],this.renderChoice(e);return this},n.prototype.renderChoice=function(e){var t,n,r,i;return r=e.label,i=e.value,t=$('<li class="radio">\n  <label>\n    <input class="radio-input" type="radio" name="'+this.name+'" />\n    <span class="radio-label">'+cockblock(r)+'</span>\n  </label>\n  <button type="button" class="edit-value btn btn-sm btn-flat">\n    <i class="fa fa-pencil"></i>\n  </button>\n</li>'),n=t.find("input").val(i).attr("checked",i===this.editable.getValue()),this.$list.append(t)},n.prototype.editValue=function(e){var t;return t=$(e.currentTarget).closest("li").find("input").val(),this.editable.trigger("edit-choice",t)},n.prototype.value=function(){var e;return e=this.$el.find("input:checked"),0===e.length?void 0:e.is(".new-value-radio")?this.$newValue.val().trim()||void 0:e.val()},n.prototype.autoselectNewValue=function(){return this.$newRadio.prop("checked",!0)},n.prototype.cancel=function(){return this.editable.cancel()},n.prototype.onChange=function(e){return e.stopPropagation()},n.prototype.onSubmit=function(e){return e.preventDefault(),this.value()?this.editable.save():alert("Please select a value")},n}(Backbone.View),namespace("Views.Editors",function(t){return t.Radio=e}),$.editable.editor.register("radio",e)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this)}return t(n,e),$.editable.editor.register("select",n),n.prototype.className="select-editor",n.prototype.template='<div class="select"></div>',n.prototype.events={change:"onChange"},n.prototype.render=function(){return this.$el.html(this.template),this.$select=this.$el.find(".select"),this},n.prototype.afterRender=function(){var e,t,n,r;return r=this.editable.getValue(),e=this.editable.getChoices(),n={openOnEnter:!1,multiple:!1,data:_.map(e,function(e){return{id:e,text:e}})},this.editable.isLocked()||(t=function(e,t){var n;return n=_.any(t,function(t){return null!=t.text&&String(t.text).startsWith(e)}),n?void 0:{id:e,text:e}},n.createSearchChoice=t),this.$select.select2(n),this.$select.select2("val",r)},n.prototype.cleanup=function(){return this.$select?(this.$select.select2("destroy"),$(".select2-sizer, .select2-drop, .select2-drop-mask").remove()):void 0},n.prototype.focus=function(){return this.$select.select2("open")},n.prototype.value=function(){return this.$select.select2("val")},n.prototype.cancel=function(){return this.editable.cancel()},n.prototype.done=function(){return this.editable.save()},n.prototype.onChange=function(e){return e.stopPropagation(),this.done()},n}(Backbone.View),namespace("Views.Editors",function(t){return t.Select=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(e){this.editable=e,n.__super__.constructor.call(this),this.builderActive=!1}return t(n,e),n.prototype.tagName="div",n.prototype.className="input-append-inside",n.prototype.template='<input type="text" placeholder="Selector" />\n<button type="button" class="build-btn btn btn-flat" title="Build Selector"><i class="icon-build"></i></button>',n.prototype.events={"click .build-btn":"onBuild","keypress input":"onKeypress"},n.prototype.ignoreBlur=function(){return this.builderActive},n.prototype.render=function(e){return this.$el.html(this.template),this.$input=this.$el.find("input[type=text]"),this.$input.val(e),this},n.prototype.onBuild=function(){var e;return this.builderActive=!0,e=this.value(),SelectorBuilder.build(e).done(function(e){return function(t){return e.$input.val(t),e.editable.save()}}(this)).always(function(e){return function(){return e.builderActive=!1}}(this))},n.prototype.value=function(){return this.$input.val().trim()},n.prototype.onKeypress=function(e){return 13===e.which?this.editable.save():void 0},n}(Backbone.View),namespace("Views.Editors",function(t){return t.Selector=e}),$.editable.editor.register("selector",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(e){this.editable=e,this.onChange=t(this.onChange,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.render=function(){return this.data=this.editable.data(),this.previousValues=this.asStrings(this.data.value()||[]),this.$input=$('<input type="text" />').val(this.previousValues.join(", ")),this.$el.html(this.$input),this},r.prototype.afterRender=function(){var e;return e={openOnEnter:!1,tags:this.asStrings(this.data.uniqueChoices()||[])},this.$input.select2(e).on("change",this.onChange)},r.prototype.focus=function(){return this.$input.select2("open")},r.prototype.value=function(){var e;return e=this.$input.val(),e?_.map(e.split(","),function(e){return $.trim(e)}):[]},r.prototype.asStrings=function(e){return e.map(String)},r.prototype.onChange=function(e){var t,n,r;return e.stopPropagation(),r=this.value(),r.length>this.previousValues.length?(n=_.difference(r,this.previousValues),0!==n.length&&this.editable.trigger("select",[n[0]])):(t=_.difference(this.previousValues,r),0!==t.length&&this.editable.trigger("deselect",[t[0]])),this.previousValues=r,this.editable.trigger("change",[r])},r}(Backbone.View),$.editable.editor.register("tag",e)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(e){this.editable=e,this.onKeydown=t(this.onKeydown,this),r.__super__.constructor.call(this)}return n(r,e),r.prototype.tagName="div",r.prototype.render=function(e){var t;return null!=(t=this.$textarea)&&t.off("keydown",this.onKeydown),this.$textarea=$("<textarea></textarea>").val(e),this.$textarea.on("keydown",this.onKeydown),this.$el.html(this.$textarea),this},r.prototype.focus=function(){return this.$textarea.focus()},r.prototype.value=function(){return this.$textarea.val().trim()},r.prototype.onKeydown=function(e){switch(e.which){case 13:if(e.altKey)return this.editable.save();break;case 9:return e.preventDefault()}},r}(Backbone.View),$.editable.editor.register("text",e)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=template("main::embeds/form"),n.prototype.events={submit:"onSubmit"},n.prototype.render=function(){return this.$el.html(this.template()),this.$includeOverview=this.$el.findByName("includeOverview"),this.$preserveScene=this.$el.findByName("preserveScene"),this.$button=this.$el.find(".btn"),this},n.prototype.onSubmit=function(){var e,t,n;return this.$button.addClass("disabled"),e=currentMap,n=currentPerspective,t={includeSelection:!0,includeOverview:this.$includeOverview.is(":checked"),preserveScene:this.$preserveScene.is(":checked")},Workflows.createEmbedToken(e,n,t).fail(function(){return function(){return alert("Unable to create embed")}}(this)).always(function(e){return function(){return e.$button.removeClass("disabled")}}(this)),!1},n}(Backbone.View),namespace("Views.Embeds",function(t){return t.FormView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="embeds-index",n.prototype.template=template("main::embeds/index"),n.prototype.initialize=function(){return this.form=new Views.Embeds.FormView,this.tokens=currentProject.tokens,this.listenTo(this.tokens,"reset",this.renderAll),this.listenTo(this.tokens,"add",this.onTokenAdded),this.tokens.fetch({reset:!0})},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.replace("form",this.form),this.$tokens=this.$el.find(".tokens"),this},n.prototype.renderAll=function(){return this.$tokens.empty(),this.tokens.each(this.renderOne,this)},n.prototype.renderOne=function(e){var t;return e.isEmbed()?(t=new Views.Embeds.TokenView({model:e}),this.$tokens.prepend(t.render().el),t):void 0},n.prototype.onTokenAdded=function(e){var t;return t=this.renderOne(e),t.activate()},n}(Backbone.View),namespace("Views.Embeds",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="li",n.prototype.className="token",n.prototype.template=template("main::embeds/token"),n.prototype.events={"click .instructions-link":"toggleInstructions","click .delete":"delete"},n.prototype.initialize=function(){return this.token=this.model,this.listenTo(this.token,"destroy",this.remove)},n.prototype.render=function(){var e,t,n,r;return e=this.token.get("token"),r={url:Kumu.config.getEmbedUrl(e),map:(null!=(t=this.token.map())?t.get("name"):void 0)||"MAP NOT FOUND",perspective:(null!=(n=this.token.perspective())?n.get("name"):void 0)||"No Perspective"},this.token.includeOverview()&&(r.map+=" (with overview)"),this.$el.html(this.template(r)),this},n.prototype.activate=function(){return this.$el.addClass("active").effect("highlight")},n.prototype.toggleInstructions=function(){return this.$el.toggleClass("active")},n.prototype["delete"]=function(){return confirm("Are you sure? Once an embed is deleted it cannot be recovered.")?this.token.destroy().fail(function(){return function(){return alert("Unable to delete embed")}}(this)):void 0},n}(Backbone.View),namespace("Views.Embeds",function(t){return t.TokenView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="form",n.prototype.className="filters-form",n.prototype.template=template("main::filters/form"),n.prototype.events={change:"onChange","click .select":"onBulkSelect","click .build-selector":"buildSelector"},n.prototype.initialize=function(){return this.listenTo(map,"change:filter",this.pull)},n.prototype.render=function(){return this.$el.html(this.template()),this.$include=this.$el.findByName("include"),this.$ignore=this.$el.findByName("ignore"),this.pull(),this},n.prototype.onChange=function(){return this.push()},n.prototype.push=function(){return map.setFilter(this.toJSON())},n.prototype.pull=function(){var e,t,n,r,i;return n=currentScene.filter,this.$include.val(n.getCustomInclude()),this.$ignore.val(n.getCustomIgnore()),t=this.filtersFor(n,"elements"),e=this.filtersFor(n,"connections"),(r=this.$el.find(".elements .choices").empty()).append.apply(r,t),(i=this.$el.find(".connections .choices").empty()).append.apply(i,e)},n.prototype.filtersFor=function(e,t){var n,r,i,o,a,s,u,l,c,p;for(p=Attributes.getTypeAttributeForCollection(t),i=p.choices(),i.push("undefined"),u=[],o=0,s=i.length;s>o;o++)c=i[o],c&&(c=String(c),l=c.slugify(),a="undefined"===c?"<em>Typeless</em>":c,r=$('<li class="checkbox"><label><input type="checkbox" /> '+cockblock(a)+"</label></li>"),n=r.find("input").val(l).attr("checked",e.permit(t,l)),u.push(r));return u},n.prototype.onBulkSelect=function(e){var t,n;return e.preventDefault(),n=$(e.target),t=n.closest(".collection-filter"),t.find("input[type=checkbox]").prop("checked","all"===n.attr("data-value")),this.$el.trigger("change")},n.prototype.buildSelector=function(e){var t,n;return n=$(e.currentTarget).attr("data-target"),t="include"===n?this.$include:this.$ignore,SelectorBuilder.build(t.val().trim()).done(function(e){return t.val(e),t.trigger("change")})},n.prototype.toJSON=function(){var e,t,n,r,i,o,a,s,u,l,c,p,h;for(o=[],n=[],i=[],t=["elements","connections","loops"],(c=this.getIncludeValue())&&o.push(c),(c=this.getIngoreValue())&&i.push(c),l=this.getSelectedTypes(),r=0,s=t.length;s>r;r++)if(e=t[r],h=l[e],c=e.singularize(),h)for(a=0,u=h.length;u>a;a++)p=h[a],"connections"===e&&(p+="-connection"),o.push(p);else n.push(c);return(0!==o.length||n.length!==t.length)&&o.push.apply(o,n),{include:this.toSelector(o),ignore:this.toSelector(i)}},n.prototype.toSelector=function(e){return 0===e.length?void 0:e.join(", ")},n.prototype.getIncludeValue=function(){return this.getValue(this.$include.val())},n.prototype.getIngoreValue=function(){return this.getValue(this.$ignore.val())},n.prototype.getValue=function(e){return e=e.trim(),""===e&&(e=void 0),e},n.prototype.getSelectedTypes=function(){var e,t,n,r,i,o,a,s;for(a={},o=["elements","connections","loops"],r=0,i=o.length;i>r;r++)n=o[r],e=this.$el.find("."+n+" .choices").find("[type=checkbox]"),t=e.filter(":checked").toArray(),s=t.length===e.length?null:_.map(t,function(e){return $(e).val()}),a[n]=s;return a},n}(Backbone.View),namespace("Views.Filters",function(t){return t.FormView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=template("main::focus/prompt"),n.prototype.rootTemplate=template("main::focus/root"),n.prototype.events={"focus .prompt-input":"refreshAutocomplete","keydown .prompt-input":"submitOnEnter","click .build-selector-btn":"buildSelector","click .delete-btn":"deleteRoot","click .build-map-btn":"buildMap"},n.prototype.render=function(){return this.$el.html(this.template()),this.$roots=this.$el.find(".roots"),this.$buildBtn=this.$el.find(".build-map-btn"),this.$el.find("[title]").tooltip(),this.initializeAutocomplete(),this},n.prototype.initializeAutocomplete=function(){var e;return e=this,this.$input=this.$el.find(".prompt-input"),this.$input.autocomplete({source:[],delay:0,minLength:1,appendTo:"body"}),this.$input.autocomplete("widget").addClass("ui-autocomplete-dark ui-autocomplete-prompt")},n.prototype.refreshAutocomplete=function(){return this.$input.autocomplete("option","source",FinderHelper.elements())},n.prototype.show=function(){return map.$el.addClass("focus-prompt-active"),this.roots=map.getFocusRoots(),this.renderRoots(),this.$el.addClass("active"),this.$buildBtn.html("Build map").removeClass("disabled"),this.refreshAutocomplete(),this.focus()},n.prototype.hide=function(){return map.$el.removeClass("focus-prompt-active"),this.$el.removeClass("active")},n.prototype.focus=function(){return this.$input.focus()},n.prototype.submitOnEnter=function(e){return 13===e.which&&(this.submit(),e.shiftKey||e.metaKey)?this.buildMap():void 0},n.prototype.submit=function(){var e,t,n,r,i;return r=this.$input.val().trim(),this.$input.autocomplete("close").val(""),r?((n=r.match(/^(.*) out (\d+)$/))?(r=n[1],e=n[2]):e=1,i=FinderHelper.buildSelector(r),t=r.startsWith("=")?r.slice(1).trim():r,this.roots.push({root:i,label:t,degree:e}),this.renderRoots()):this.buildMap()},n.prototype.deleteRoot=function(e){var t,n;return t=$(e.target).closest(".root"),n=t.index(),this.roots.splice(n,1),t.remove()},n.prototype.renderRoots=function(){var e,t,n,r,i;for(this.$roots.empty(),n=this.roots,r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(this.renderRoot(i));return r},n.prototype.renderRoot=function(e){var t,n;return n={editor:"select-basic",choices:[0,1,2,3],mode:"subtle"},t=$(this.rootTemplate(e)),t.find(".root-degree").editable(n).on("update",function(n){return function(r,i){var o;return o=t.index(),e=n.roots[o],e.degree=Number(i)}}(this)),this.$roots.append(t)},n.prototype.buildMap=function(){return this.$buildBtn.html("Building map...").addClass("disabled"),this.$input.val()&&this.submit(),map.setFocus({roots:this.roots.slice(0)})},n.prototype.buildSelector=function(){var e,t;return t=this.$input.val().trim(),Selector.isExplicit(t)?t=Selector.toImplicit(t):t&&(e=t,t=Selector.prepare('["label" = "{{value}}"]',{value:e})),SelectorBuilder.build(t).done(function(e){return function(t){return e.$input.val("= "+t),e.submit()}}(this))},n}(Backbone.View),namespace("Views.Focus",function(t){return t.Prompt=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="help-index",n.prototype.template=template("main::help/index"),n.prototype.render=function(){return this.$el.html(this.template),this.$el.find(".video-container").fitVids(),this},n}(Backbone.View),namespace("Views.Help",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="help-modal modal modal-bare",n.prototype.template='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-body"></div>\n  </div>\n</div>',n.prototype.initialize=function(){return this.subview("body",new Views.Help.Index)},n.prototype.render=function(){return this.$el.html(this.template),this.$el.find(".modal-body").html(this.body.render().el),this},n.prototype.show=function(){return this.$el.modal({backdrop:!0,keyboard:!0,show:!0})},n}(Backbone.View),namespace("Views.Help",function(t){return t.Modal=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="imports-show pending",n.prototype.template=template("main::imports/show"),n.prototype.events={"click .close":"cancel","click .cancel":"cancel","click .save":"save"},n.prototype.initialize=function(){return this.rendered=!1,this["import"]=this.model,this.listenTo(this["import"],"progress",this.update)},n.prototype.render=function(){return this.$el.html(this.template()),this.$elementCount=this.$el.find(".element-stats .count"),this.$elementSplit=this.$el.find(".element-stats .split"),this.$connectionCount=this.$el.find(".connection-stats .count"),this.$connectionSplit=this.$el.find(".connection-stats .split"),this.$flags=this.$el.find(".flags"),map.busy({wait:!1}),_.delay(function(e){return function(){return e.process()}}(this),300),this.rendered=!0,this},n.prototype.process=function(){return this["import"].process().then(function(e){return function(){return map.refresh(),e.update()}}(this)).otherwise(function(e){return function(t){return alert("Sorry, there was an error with your import.<br />"+t),log.error("Import failed",t),e.cancel()}}(this)).ensure(function(e){return function(){return map.busy(!1),e.$el.removeClass("pending")}}(this))},n.prototype.update=function(){var e,t,n,r,i,o,a,s,u,l,c;if(this.rendered){for(u=this["import"].summary(),n=u.totals.elements,t=u.totals.connections,this.$elementCount.html(n.recognized),this.$elementSplit.html(n.created+" created / "+n.updated+" updated"),this.$connectionCount.html(t.recognized),this.$connectionSplit.html(t.created+" created / "+t.updated+" updated"),this.$flags.empty(),c={irregular:'<span class="label label-warning">Irregular Format</span> Element imports should start with "Label" column and connection imports should start with "From" and "To".',"labels-not-found":'<span class="label label-danger">Missing Label Column</span> Kumu uses the "Label" attribute to identify elements. If you\'re using another attribute (eg "Name" or separate "First Name" / "Last Name" columns), please use a single "Label" column instead.',"double-assignment":'<span class="label label-danger">Double Assignment</span> Multiple <strong>{{attribute}}</strong> values assigned but only one allowed. <span class="trace">{{collection}} @ row {{row}}</span>',"invalid-connection":'<span class="label label-danger">Invalid Connection</span> All connections must include from and to elements. <span class="trace">{{collection}} @ row {{row}}</span>'},l=function(e){return tim(c[e.key],e)},a=this["import"].flags(),s=[],i=0,o=a.length;o>i;i++)r=a[i],s.push(e=$("<li />").html(l(r)).appendTo(this.$flags));return s}},n.prototype.cancel=function(){return this["import"].cancel(),sidebar.pop(this),!1},n.prototype.save=function(){return execute(new Commands.Imports.Finalize(this["import"])).fail(function(){return function(){return alert("Unable to save import. Please try again.")}}(this)).always(function(e){return function(){return sidebar.pop(e)}}(this))},n}(Backbone.View),namespace("Views.Imports",function(t){return t.Show=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template='<p class="text-center">\n  Show top\n\n  <select name="limit">\n    <option value="10">10</option>\n    <option value="20" selected>20</option>\n    <option value="50">50</option>\n    <option value="100">100</option>\n  </select>\n\n  elements by\n\n  <select name="attribute">\n  </select>\n</p>\n<table class="table table-striped">\n  <tr>\n    <th>Rank</th>\n    <th>Label</th>\n    <th>Value</th>\n  </tr>\n</table>',n.prototype.events={"change select":"refresh"},n.prototype.initialize=function(){return this.listenTo(Attributes,"add remove change",this.refreshAttributeChoices)},n.prototype.render=function(){return this.$el.html(this.template),this.$limitSelect=this.$el.find("select[name=limit]"),this.$attributeSelect=this.$el.find("select[name=attribute]"),this.$table=this.$el.find("table").hide(),this.refreshAttributeChoices(),this},n.prototype.refreshAttributeChoices=function(){var e,t,n,r,i;return n=function(e){return 1===e.limit()&&"number"===e.get("format")},i=function(e){return'<option value="'+e.key()+'">'+e.label()+"</option>"},r='<option value="">choose attribute</option>',e=Attributes.filter(n).map(i).join(""),t=[r].concat(e),this.$attributeSelect.html(t)},n.prototype.select=function(e){return this.$attributeSelect.val(e)},n.prototype.refresh=function(){var e,t,n,r,i,o,a,s;if(this.clear(),e=this.$attributeSelect.val()){for(i=Number(this.$limitSelect.val()),s=map.getElements().chain().map(function(t){return[t,Number(t.getAttr(e))]}).sortBy(function(e){var t;return t=e[1],_.isNumber(t)&&!_.isNaN(t)?-t:Infinity}).value(),o=this.calcPrecision(s,i),n=t=0,r=s.length;r>t;n=++t)a=s[n],i>n&&this.renderRow(a,n,o);return this.$table.show()}return this.$table.hide()},n.prototype.calcPrecision=function(e,t){var n,r;return n=e[0],r=e[t]||_.last(e),n&&r?NumberHelper.precision(n[1],r[1]):3},n.prototype.renderRow=function(e,t,n){var r,i,o,a,s,u;return r=e[0],u=e[1],a=t+1,i=r.label(),s=r.getDirectSelector(),o='<a href="= '+s+'">'+i+"</a>",u=NumberHelper.format(u,n),this.$table.append("<tr><td>#"+a+"</td><td>"+o+"</td><td>"+u+"</td></tr>")},n.prototype.clear=function(){return this.$table.find("tr:first").siblings().remove()},n}(Backbone.View),namespace("Views.Insights",function(t){return t.TableRanking=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.lens=this.model,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.renderer=new Kumu.Canvas.LegendRenderer},n.prototype.render=function(){return this.$el.html(this.canvas),this.draw(),this},n.prototype.draw=function(){var e,t;switch(this.clear(),e=this.lens.get("collection"),t=this.lens.get("declarations"),e){case"elements":case"connections":return this.renderer.draw(this.ctx,e,t,{x:50,y:10,width:60,height:20})}},n.prototype.clear=function(){return this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(e,t){return this.canvas.width=e,this.canvas.height=t},n}(Backbone.View),namespace("Views.Lenses",function(t){return t.LegendPreview=e})}.call(this),function(){var e,t,n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;r=function(r){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,r),o.prototype.className="preview",o.prototype.initialize=function(){return this.lens=this.model,this.perspective=new Perspective,this.perspective.lenses.add(this.lens),this.scene=new Scene,this.scene.perspective=this.perspective,this.scene.showcase={foregroundOpacity:1,backgroundOpacity:1,highlighted:{},update:function(){},include:function(){return!0}},this.graph=this.scene.get("graph"),this.preview=function(){switch(this.lens.get("collection")){case"elements":return new t;case"connections":return new e;default:return new n}}.call(this),this.preview.populate(this.graph),this.display=new CanvasDisplay({el:this.el,legend:!1})},o.prototype.render=function(){return this.$el.css("position","relative"),this.display.render(),_.defer(function(e){return function(){return e.resize(),e.refresh()}}(this)),this},o.prototype.resize=function(e,t){return e&&t?(this.width=e,this.height=t,this.$el.css({width:e,height:t})):(this.width=this.$el.width(),this.height=this.$el.height()),this.display.resize(this.width,this.height),this.scene.transform({offset:{x:this.width/2,y:this.height/2}})},o.prototype.refresh=function(){return this.scene.guide=this.scene.theme.clone(),this.scene.process({cull:!1,redecorate:!0}),this.display.draw(this.scene)},o.prototype.zoomFit=function(){return this.scene.bounds={viewport:{screen:{width:function(){return this.width},height:function(){return this.height}}}},this.scene.zoomFit()},o}(Backbone.View),namespace("Views.Lenses",function(e){return e.Preview=r}),n=function(){function e(){}return e.prototype.populate=function(){},e}(),t=function(){function e(){this.element=new Element({attributes:{label:"Label"}}),this.node=new Node({entity:this.element,position:{x:0,y:-10}})}return e.prototype.populate=function(e){return e.nodes.add(this.node)},e}(),e=function(){function e(){var e,t;this.connection=new Connection({direction:"mutual",delayed:!0,attributes:{label:"Label",prelabel:"+",postlabel:"-"}}),e=100,t=20,this.from=new Node({position:{x:-e,y:t}}),this.to=new Node({position:{x:e,y:t}}),this.edge=new Edge({from:this.from,to:this.to,entity:this.connection})}return e.prototype.populate=function(e){return e.nodes.add(this.from),e.nodes.add(this.to),e.edges.add(this.edge)},e}()}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="li",n.prototype.className="lenses-show lens clearfix",n.prototype.template=template("main::lenses/show"),n.prototype.events={"click .edit":"onEdit","click .delete":"onDelete"},n.prototype.initialize=function(){return this.lens=this.model,this.preview=new Views.Lenses.LegendPreview({model:this.lens}),this.preview.resize(100,20),this.listenTo(this.lens,"change",this.render),this.listenTo(this.lens,"destroy",this.remove)
},n.prototype.render=function(){var e;return this.$el.attr("data-cid",this.lens.cid),e={label:this.lens.get("label"),selector:this.lens.get("selector")||this.lens.getDefaultSelector()},this.$el.html(this.template(e)),this.renderPreview(),this},n.prototype.renderPreview=function(){return this.$el.find(".preview").html(this.preview.render().el)},n.prototype.onEdit=function(){return Workflows.editLens(this.lens)},n.prototype.onDelete=function(){return Workflows.deleteLens(this.lens)},n}(Backbone.View),namespace("Views.Lenses",function(t){return t.Show=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="preview",n.prototype.initialize=function(){return this.display=new CanvasDisplay({el:this.el,legend:!1}),this.scene=new Scene,this.scene.showcase={foregroundOpacity:1,backgroundOpacity:1,update:function(){},include:function(){return!0}},this.graph=this.scene.get("graph"),this.initializeScene(this.scene)},n.prototype.render=function(){return this.$el.css("position","relative"),this.display.render(),this},n.prototype.resize=function(){return this.width=this.$el.width(),this.height=this.$el.height(),this.display.resize(this.width,this.height)},n.prototype.draw=function(e){return this.scene.guide=e,this.updateScene(this.scene),this.scene.process({cull:!1,redecorate:!0}),this.display.draw(this.scene)},n}(Backbone.View),namespace("Views.Maps",function(t){return t.Preview=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="maps-show",n.prototype.template=template("main::maps/show"),n.prototype.events={"click .map-overview-more-btn":"handleMoreMenu"},n.prototype.initialize=function(){return this.map=this.model,this.readonly=!able.to("manage","maps"),this.subview("disqusView",new Views.Disqus.DisqusView),this.listenTo(this.map,"merge change",this.render)},n.prototype.render=function(){var e,t;return e={},currentMap.shouldUseNameAsTitle()&&(e.title=currentMap.get("name")),MapController.shouldShowPermalinksInProfile()&&(t={map:currentMap,perspective:currentPerspective},e.url=urlFor(t,{permanent:!1}),e.permalink=urlFor(t,{absolute:!0,permanent:!0})),this.$el.html(this.template(e)),currentMap.shouldUseNameAsTitle()&&this.initializeName(),this.initializeDescription(),Settings.isInstalled("disqus")&&this.renderDisqus(),this},n.prototype.initializeName=function(){var e;return e={actions:"edit",readonly:this.readonly,validate:function(e){return!!e},value:function(e){return function(){return e.map.get("name")}}(this)},this.$name=this.$el.find(".map-name"),this.$name.editable(e).on("update",function(e){return function(t,n){var r;return r=new Commands.Maps.Rename(e.map,n),execute(r).fail(function(){return e.$name.editable("edit",{value:n}),alert("Unable to rename map. Please try again.")})}}(this))},n.prototype.initializeDescription=function(){var e;return e={editor:"markdown",escaped:!0,readonly:this.readonly,format:function(e){return marked(e)},value:function(e){return function(){return e.map.get("description")}}(this),placeholder:'<span class="placeholder">'+(this.readonly?"No":"Add")+" map description</span>"},this.$description=this.$el.find(".map-description"),this.$description.editable(e).on("update",function(e){return function(t,n){var r;return r=new Commands.Maps.Update(e.map,"description",n),r.summary="updated description for map **"+e.map.get("name")+"**",execute(r).fail(function(){return e.$description.editable("edit",{value:n}),alert("Unable to update description. Please try again.")})}}(this))},n.prototype.renderDisqus=function(){return this.$description.after(this.disqusView.render(this.map).el)},n.prototype.handleMoreMenu=function(e){return renderContextMenu(React.createElement(MapOverviewMoreMenu),{my:"right top",at:"middle",of:e.currentTarget})},n}(Backbone.View),namespace("Views.Maps",function(t){return t.Show=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="form",n.prototype.className="form form-inline",n.prototype.template=template("main::members/form"),n.prototype.events={submit:"onSubmit"},n.prototype.render=function(){return this.$el.html(this.template),this.$input=this.$el.findByName("username"),this.$submit=this.$el.find("input[type=submit]"),this.initializeTypeahead(),this},n.prototype.initializeTypeahead=function(){var e,t,n,r;return e=this.$input,n={delay:100,minLength:1,appendTo:"body",source:function(e,t){return $.getJSON("/api/users",{autocomplete:e.term},function(e){return e=_.map(e,function(e){return new User(e)}),t(e)})},focus:function(t,n){return e.val(n.item.get("username")),!1},select:function(t,n){return e.val(n.item.get("username")),!1}},r=function(e){var t,n,r,i;return r=e.get("name"),i=e.get("username"),n=e.avatar({size:30}),t="",r&&(t+='<div class="name">'+r+"</div>"),t+='<div class="username">'+i+"</div>",$('<li class="member-autocomplete"><a><img src="'+n+'" />'+t+"</a></li>")},t=this.$input.autocomplete(n).data("ui-autocomplete"),t._renderItem=function(e,t){return r(t).appendTo(e)}},n.prototype.onSubmit=function(e){var t,n;return e.preventDefault(),t=$(e.target),(n=this.$input.val().trim())&&this.addMember(n),this.$input.val("").autocomplete("close")},n.prototype.addMember=function(e){return Workflows.addMember(currentProject,e,"contributor").then(function(t){return function(){var n;return n="Successfully added <strong>"+e+"</strong> to project",log.info(n),t.$el.trigger("notice",n)}}(this))["catch"](function(e){return function(){var t;return t="Unable to add member",log.error(t),e.$el.trigger("alert",t)}}(this))},n}(Backbone.View),namespace("Views.Members",function(t){return t.Form=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="membersApp",n.prototype.template=template("main::members/index"),n.prototype.initialize=function(){return this.subview("form",new Views.Members.Form),this.subview("members",new Views.Members.List)},n.prototype.render=function(){var e;return e={settingsUrl:currentProject.owner.settingsUrl()},this.$el.html(this.template(e)),currentProject.owner.isOrganization()||(this.$el.replace("form",this.form),this.$el.replace("members",this.members)),this},n}(Backbone.View),namespace("Views.Members",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="members",n.prototype.template=template("main::members/list"),n.prototype.initialize=function(){return this.memberships=currentProject.memberships,this.memberships.reset(),this.memberships.fetch({reset:!0}),this.listenTo(this.memberships,"remove reset",this.render),this.listenTo(this.memberships,"add",this.renderMember)},n.prototype.render=function(){return this.$el.html(this.template()),this.$members=this.$el.find("ul"),this.memberships.each(this.renderMember,this),this.$el.find("[title]").tooltip(),this},n.prototype.renderMember=function(e){var t,n;return n=this.subview(new Views.Members.Member({model:e})),t=e.get("role"),this.$members.append(n.render().el)},n}(Backbone.View),namespace("Views.Members",function(t){return t.List=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="li",n.prototype.className="member",n.prototype.template=template("main::members/member"),n.prototype.events={"click .delete":"onDelete","click .resend":"onResend"},n.prototype.initialize=function(){return this.membership=this.model,this.listenTo(this.membership,"change",this.render)},n.prototype.render=function(){var e,t;return e=this.membership.user,t={avatar:e.avatar({size:20}),name:e.get("name"),username:e.get("username"),email:e.get("email"),isOwner:e.get("username")===currentProject.get("owner"),isPending:"pending"===e.get("state"),isNew:this.membership.isNew()},this.$el.html(this.template(t)).data("membership",this.membership).toggleClass("owner",t.isOwner).toggleClass("pending",t.isPending),this},n.prototype.onDelete=function(){var e,t,n,r;return n=this.membership,r=n.user,t=n.collection,e=this.$el.parent(),this.$el.addClass("pending"),this.membership.destroy().done(function(){return function(){return e.trigger("notice","Successfully dropped <strong>"+r.getHandle()+"</strong> from project")}}(this)).fail(function(e){return function(){return log.error("Unable to remove member",e.membership),e.$el.removeClass("pending"),e.$el.trigger("alert","Unable to drop member"),t.add(e.membership)}}(this))},n.prototype.onResend=function(e){var t;return t=this.membership.user,e.preventDefault(),toastr.success("Invitation sent to "+t.get("email")),Workflows.resendInvitation(this.membership)},n}(Backbone.View),namespace("Views.Members",function(t){return t.Member=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="members-overview",n.prototype.template=template("main::members/overview"),n.prototype.events={"click .new-member":"newMember"},n.prototype.initialize=function(){},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.find("[title]").tooltip(),this},n.prototype.newMember=function(){return Workflows.manageMembers()},n}(Backbone.View),namespace("Views.Members",function(t){return t.Overview=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="form",n.prototype.template=template("main::metrics/form"),n.prototype.events={"click .options-toggle":"toggleOptions"},n.prototype.initialize=function(e){return this.metric=e.metric},n.prototype.render=function(){return this.$el.html(this.template(this.metric)),this.$el.find(".expression").expression({type:"weight"}),this},n.prototype.template=function(e,t){var n;return n=e.underscored(),template("main::metrics/forms/"+n)(t)},n.prototype.toggleOptions=function(e){return e.preventDefault(),this.$el.find(".options").removeClass("hidden"),this.$el.find(".options-toggle").parent().remove(),this.$el.find("button[type=submit]").parent().appendTo(this.$el)},n.prototype.toJSON=function(){var e,t;return e=this.metric,t=this.$el.serializeJSON(),t.order&&(t.order=Number(t.order)),{metric:e,options:t}},n}(Backbone.View),namespace("Views.Metrics",function(t){return t.Form=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="metrics-index",n.prototype.template=template("main::metrics/index"),n.prototype.events={"change select[name=metric]":"onMetricSelected","submit form":"onSubmit"},n.prototype.initialize=function(){return this.rendered=!1,this.subview("table",new Views.Insights.TableRanking)},n.prototype.render=function(){var e;return this.rendered?this:(e={metrics:Metrics.all,popularMetrics:Metrics.popular},this.$el.html(this.template(e)),this.$el.replace("table",this.table),this.$select=this.$el.find("select[name=metric]"),this.$options=this.$el.find(".form-wrapper"),this.$progress=this.$el.find(".progress-bar"),this.hideProgress(),this.rendered=!0,this)},n.prototype.remove=function(){return this.$el.detach()},n.prototype.onMetricSelected=function(){var e,t;if(e=this.$select.val())return this.subview("form",new Views.Metrics.Form({metric:e})),this.$options.html(this.form.render().el),this.$progress.parent().hide(),t=this.table,When().delay(100).then(function(){return t.select(e),t.refresh()}),this},n.prototype.onSubmit=function(e){var t,n,r;return e.preventDefault(),e.stopPropagation(),this.table.clear(),this.resetProgress(),r=this.form.toJSON(),t=r.metric,n=r.options,this.runMetric(t,n)},n.prototype.runMetric=function(e,t){var n;return n=Workflows.updateMetric(e,t),n.on("progress",this.setProgress.bind(this)),n.then(function(t){return function(){return t.setProgress(1),When().delay(500).then(function(){return"all"!==e&&("micmac"===e&&(e="micmac influence"),t.table.select(e),t.table.refresh(e)),map.refresh()})}}(this))},n.prototype.showProgress=function(){return this.$progress.parent().show()},n.prototype.hideProgress=function(){return this.$progress.parent().hide()},n.prototype.resetProgress=function(){return this.$progress.removeClass("progress-bar-success"),this.setProgress(0),this.showProgress()},n.prototype.setProgress=function(e){var t;return t=parseInt(100*e)+"%",this.$progress.css("width",t).html(t),1===e?this.$progress.addClass("progress-bar-success"):void 0},n}(Backbone.View),namespace("Views.Metrics",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.subview("index",new Views.Attributes.Index)},n.prototype.render=function(){return this.$el.html(this.index.render().el),this},n.prototype.shown=function(){return this.index.shown()},n.prototype.edit=function(e){return this.index.edit(e)},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Attributes=e})}.call(this),function(){var e,t,n,r,i,o;r=null,t=function(){return null!=r?r:r=n()},i=function(e){return t(),r.isVisible()||r.open(),e&&r.tab(e),r.view()},e=function(){return null!=r?r.close():void 0},o=function(){return(null!=r?r.isVisible():void 0)?e():i()},n=function(){var e;return e=new Views.Modal.Modal,e.render(),e.$el.appendTo("body"),e},this.Modal={init:t,open:i,close:e,toggle:o}}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.subview("index",new Views.Embeds.Index)},n.prototype.render=function(){return this.$el.html(this.index.render().el),this},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Embeds=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.hide=t(this.hide,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.duration=3e3,r.prototype.className="flash",r.prototype.render=function(){return this.$el.hide("fade"),this},r.prototype.notice=function(e){return this.show("notice",e)},r.prototype.alert=function(e){return this.show("alert",e)},r.prototype.show=function(e,t){return this.timeout&&clearTimeout(this.timeout),"notice"===e?this.$el.removeClass("alert-danger").addClass("alert-success"):this.$el.removeClass("alert-success").addClass("alert-danger"),this.$el.html(t).show("fade"),this.timeout=setTimeout(this.hide,r.duration)},r.prototype.hide=function(){return this.timeout=null,this.$el.hide("fade")},r.prototype.clear=function(){return this.timeout=null,this.$el.hide()},r}(Backbone.View),namespace("Views.Modal",function(t){return t.Flash=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=template("main::modal/issues"),n.prototype.render=function(){return this.$el.html(this.template),this},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Issues=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.subview("index",new Views.Members.Index)},n.prototype.render=function(){return this.$el.html(this.index.render().el),this},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Members=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="mainModal",n.prototype.className="modal-overlay",n.prototype.template=template("main::modal/modal"),n.prototype.events={notice:"onMessage",alert:"onMessage","shown.bs.tab":"onTabShown",click:"closeOnOutsideClick","click .closes":"close","click [data-dismiss=modal]":"close","hidden.bs.modal":"onHidden"},n.prototype.initialize=function(){return this.tabs=[],this.addTab("overview",new Views.Modal.Overview),this.addTab("issues",new Views.Modal.Issues),this.addTab("presentations",new Views.Modal.Presentations),this.addTab("fork",BackboneReactView.build(ForkView)),this.addTab("settings",new Views.Modal.Settings),this.addTab("attributes",new Views.Modal.Attributes),this.addTab("members",new Views.Modal.Members),this.addTab("embeds",new Views.Modal.Embeds),this.addTab("trash",new Views.Modal.Trash),this.addTab("addons",BackboneReactView.build(AddonApp)),this.addTab("help",new Views.Help.Index),this.subview("flash",new Views.Modal.Flash)},n.prototype.addTab=function(e,t){return this.tabs.push({name:e,view:t}),this.subview(e,t)},n.prototype.render=function(){var e,t,n,r,i,o;for(this.$el.html(this.template()),this.$wrap=this.$el.find("> .wrap"),this.$tabs=this.$el.find("#mainModalSidebar [data-toggle=tab]"),this.$el.replace("flash",this.flash),r=this.tabs,e=0,t=r.length;t>e;e++)i=r[e],n=i.name,o=i.view,this.$el.find("#mainModal"+n.capitalize()).html(o.render().el);return currentProject.isForkable()||this.$el.find('[data-target="#mainModalFork"]').closest("li").remove(),this},n.prototype.tab=function(e){var t;return t="#mainModal"+e.capitalize(),this.$tabs.filter('[data-target="'+t+'"]').tab("show"),this.$el.find(t).addClass("active").siblings().removeClass("active"),this.onTabShown()},n.prototype.onTabShown=function(){var e;return"function"==typeof(e=this.view()).shown?e.shown():void 0},n.prototype.view=function(){var e,t;return e=this.$el.find("#mainModalContent > .tab-content > .tab-pane.active"),t=e.attr("id").replace("mainModal","").toLowerCase(),this[t]},n.prototype.open=function(){return this.$el.addClass("is-open")},n.prototype.close=function(){return this.$el.removeClass("is-open")},n.prototype.closeOnOutsideClick=function(e){var t;return t=$(e.target),t.closest(this.$el).length&&0===t.closest(this.$wrap).length?this.close():void 0},n.prototype.isVisible=function(){return this.$el.is(".is-open")},n.prototype.onMessage=function(e,t){return e.stopPropagation(),this.flash.show(e.type,t)},n.prototype.onHidden=function(){return this.flash.clear()},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Modal=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=template("main::modal/overview"),n.prototype.events={"click .menu-btn":"handleMoreMenu"},n.prototype.render=function(){var e;return e={projectName:currentProject.get("name")},this.$el.html(this.template(e)),this.initializeProjectDescription(),this.initializeLicense(),this},n.prototype.initializeProjectDescription=function(){var e;return e={editor:"markdown",escaped:!0,format:function(e){return marked(e)},value:function(){return currentProject.get("description")},placeholder:'<span class="placeholder placeholder-block">Add project overview</span>'},able.to("update","project")||(e.mode="readonly",e.placeholder='<span class="placeholder">No project overview available</span>'),this.$description=this.$el.find(".project-description"),this.$description.editable(e).on("update",function(e){return function(t,n){var r;return r=new Commands.Projects.Update(currentProject,"description",n),execute(r).fail(function(){return e.$description.editable("edit",{value:n}),alert("Unable to save changes. Please try again.")})}}(this))},n.prototype.initializeLicense=function(){var e,t,n;return t={editor:"markdown",escaped:!0,format:function(e){return"<div class='text-legal text-muted'>"+marked(e)+"</div>"},value:function(){return currentProject.get("license")},placeholder:'<span class="placeholder placeholder-block">Add project license</span>'},able.to("update","project")||(n=(new Date).getFullYear(),e=currentProject.owner.get("name")||currentProject.owner.get("username"),t.mode="readonly",t.placeholder='<p class="text-legal text-muted">Copyright (c) '+n+" "+e+". All rights reserved.</p>"),this.$license=this.$el.find(".project-license"),this.$license.editable(t).on("update",function(e){return function(t,n){var r;return r=new Commands.Projects.Update(currentProject,"license",n),execute(r).fail(function(){return e.$license.editable("edit",{value:n}),alert("Unable to save changes. Please try again.")})}}(this))},n.prototype.handleMoreMenu=function(e){return renderContextMenu(React.createElement(ProjectOverviewMenu),{my:"right top",at:"middle",of:e.currentTarget})},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Overview=e})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.className="perspectives list-group",r.prototype.initialize=function(){return this.listenTo(Perspectives,"add remove reset",this.render),this.listenTo(Dispatch,"change:map change:perspective change:defaultperspective",this.render)},r.prototype.render=function(){return Perspectives.each(this.renderOne,this),this},r.prototype.renderOne=function(e){var n;return n=this.subview(new t({model:e})),this.$el.append(n.render().el)},r}(Backbone.View),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.tagName="a",t.prototype.className="list-group-item closes",t.prototype.initialize=function(){return this.perspective=this.model},t.prototype.render=function(){return this.$el.toggleClass("active",this.perspective===currentPerspective).attr("href",urlFor({perspective:this.perspective})).html(this.perspective.get("name")),("undefined"!=typeof currentMap&&null!==currentMap?currentMap.isDefaultPerspective(this.perspective):void 0)&&this.$el.append("<aside>default</aside>"),this},t}(Backbone.View),namespace("Views.Modal",function(t){return t.PerspectiveList=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.shown=function(){},n.prototype.render=function(){return this.app=React.createElement(PresentationIndex),renderReact(this.app,this.el),this},n.prototype.open=function(){},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Presentations=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=template("main::modal/settings"),n.prototype.events={"click [data-action]":"perform"},n.prototype.initialize=function(){return this.subview("proxy",new Views.Settings.ImageProxyToggle),this.listenTo(this)},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.replace("proxy",this.proxy),this},n.prototype.perform=function(e){var t;return t=$(e.currentTarget).attr("data-action").camelize(),this[t]()},n.prototype.changePrivacy=function(){var e;return e=new Views.Projects.PrivacyModal,e.show()},n.prototype.renameProject=function(){var e;return e=new Views.Projects.RenameModal,e.show()},n.prototype.transferProject=function(){var e;return e=new Views.Projects.TransferModal,e.show()},n.prototype.deleteProject=function(){var e;return e=new Views.Projects.DeleteModal,e.show()},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Settings=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.subview("index",new Views.Trash.Index)},n.prototype.render=function(){return this.$el.html(this.index.render().el),this},n.prototype.shown=function(){return this.index.refresh()},n}(Backbone.View),namespace("Views.Modal",function(t){return t.Trash=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="loader modal-bare",n.prototype.template=template("main::modals/loader"),n.prototype.afterRender=function(){return this.spinner=this.$el.find(".spinner").spinner({autoplay:!0})},n.prototype.onSubmit=function(){},n.prototype.onCancel=function(){},n}(Views.Modals.Base),namespace("Views.Modals",function(t){return t.Loader=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="prompt",n.prototype.template=template("main::modals/prompt"),n.prototype.events={"hide.bs.modal":"onHide"},n.prototype.initialize=function(){var e;return null==(e=this.model).type&&(e.type="text"),this.submitText=this.model.submitText||"Submit",this.deferred=new $.Deferred,this.promise=this.deferred.promise()},n.prototype.afterRender=function(){return this.model.simple&&this.$el.addClass("modal-app"),this.$input=this.$el.find("input[name=value]"),this.$input.val(this.model.value)},n.prototype.focus=function(){return this.$input.select().focus()},n.prototype.onSubmit=function(){var e;return this.submitted=!0,(e=this.$input.val().trim())?(this.resolve(e),this.close()):this.cancel()},n.prototype.onCancel=function(){return this.reject()},n.prototype.onHide=function(){return this.submitted?void 0:this.reject()},n.prototype.resolve=function(e){var t;return"function"==typeof(t=this.model).callback&&t.callback(void 0,e),this.deferred.resolve(e)},n.prototype.reject=function(e){var t;return"function"==typeof(t=this.model).callback&&t.callback(e),this.deferred.reject(e)},n}(Views.Modals.Base),namespace("Views.Modals",function(t){return t.Prompt=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="form",n.prototype.template='<textarea name="note"></textarea>\n<span class="hint muted">Notes are formatted via <a href="#">Markdown</a></span>\n<img class="avatar" src="{{image}}" /> <button class="btn">Add Note</button>',n.prototype.events={"click .btn":"submit"},n.prototype.initialize=function(){return this.attribute=Attributes.findByName("notes"),this.selection=this.model.selection},n.prototype.render=function(){return this.$el.html(tim(this.template,{image:currentUser.image({size:30})})),this},n.prototype.submit=function(){var e;return e=this.$el.find("textarea").val().trim(),e?execute(new Commands.Attributes.Push(this.selection,this.attribute,e)).done(function(e){return function(){return e.$el.find("textarea").val("")}}(this)).fail(function(){return function(){return error("Unable to save note. Please try again.")}}(this)):void 0},n}(Backbone.View),namespace("Views.Notes",function(t){return t.Form=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="note",n.prototype.template='<img class="avatar" src="{{createdByAvatar}}" />\n\n<header>\n  <strong>{{createdBy}}</strong> noted\n  <time class="ago" datetime="{{createdAt}}"></time>\n</header>\n\n<div class="body"></div>',n.prototype.initialize=function(){var e;return e=this.model,this.entity=e.entity,this.note=e.note,this.index=e.index,e},n.prototype.render=function(){var e,t,n;return t=this.note,e={},e.createdBy="ryan",e.createdAt="2013-03-25",n={note:marked(t),createdBy:e.createdBy,createdByAvatar:currentUser.image({size:40}),createdAt:moment(e.createdAt).format(),editedBy:e.editedBy,editedByAvatar:null,editedAt:e.editedAt},this.$el.html(tim(this.template,n)),this.$el.find("time").timeago(),this.editable(t),this},n.prototype.editable=function(e){var t;return t={editor:"text",actions:"edit,delete",value:e},this.$el.find(".body").editable(t).on("update",function(e){return function(t,n){return execute(new Commands.Attributes.Edit(e.entity,"notes",e.index,n))}}(this)).on("delete",function(e){return function(){return execute(new Commands.Attributes.Pop(e.entity,"notes",e.note)).done(function(){return e.remove()})}}(this))},n}(Backbone.View),namespace("Views.Notes",function(t){return t.Show=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.benchmarks=t(this.benchmarks,this),this.render=t(this.render,this),this.initialize=t(this.initialize,this),r.__super__.constructor.apply(this,arguments)
}return n(r,e),r.prototype.className="benchmarks-overlay",r.prototype.initialize=function(){return this.$el.on("click","h5",function(){return function(e){var t,n;return n=$(e.target),t=n.next(),t.slideToggle()}}(this))},r.prototype.render=function(){return this.$el.append(this.benchmarks(DataBenchmarks),this.benchmarks(RenderBenchmarks),this.benchmarks(LayoutBenchmarks),this.benchmarks(InteractionBenchmarks)),this},r.prototype.benchmarks=function(e){var t,n,r;return n=$(new BenchmarksDisplay(e).el).hide(),t=$("<div />").addClass("benchmarks").append("<h5>"+e.name+"</h5>",n),r=_.debounce(function(){return t.css("opacity",.3)},2e3),e.on("cycle",function(){return t.css("opacity",1),r()}),t},r}(Backbone.View),namespace("window",function(t){return t.BenchmarksOverlay=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="drop-overlay",n.prototype.template=template("main::overlays/drop"),n.prototype.events={click:"remove"},n.prototype.render=function(){return this.$el.html(this.template()),this},n.prototype.show=function(){return this.$el.addClass("active")},n.prototype.hide=function(){return this.$el.removeClass("active")},n.prototype.isActive=function(){return this.$el.is(".active")},n}(Backbone.View),namespace("Views.Overlays",function(t){return t.DropOverlay=e})}.call(this),function(){var e;e=function(){function e(e){this.$el=e}return e.prototype.initialize=function(){return $(document).on("dragenter",this.onDragEnter.bind(this)).on("dragover",this.onDragOver.bind(this)).on("dragleave",this.onDragLeave.bind(this)).on("drop",this.onDrop.bind(this))},e.prototype.onDragEnter=function(e){return this.accepted(e)&&(this.overlay?(clearTimeout(this.removeTimeout),this.overlay.show()):this.renderOverlay()),!1},e.prototype.onDragOver=function(){return!1},e.prototype.onDragLeave=function(e){return this.overlay&&this.outside(e)&&(this.removeTimeout=setTimeout(this.removeOverlay.bind(this),1e3),this.overlay.hide()),!1},e.prototype.renderOverlay=function(){var e;return e=this.overlay=new Views.Overlays.DropOverlay,this.$el.append(e.render().el),When().delay().then(function(){return e.show()})},e.prototype.removeOverlay=function(){var e;return null!=(e=this.overlay)&&e.remove(),this.overlay=null},e.prototype.onDrop=function(e){var t,n;return this.removeOverlay(),this.accepted(e)&&(e.stopPropagation(),e.preventDefault(),t=e.originalEvent.dataTransfer.files,t.length>0)?(n=new Import.FileSource(t[0]),Workflows.reviewImport(n)):void 0},e.prototype.inside=function(e){var t,n,r,i,o;return i=null!=(n=e.pageX)?n:e.originalEvent.pageX,o=null!=(r=e.pageY)?r:e.originalEvent.pageY,t=this.$el.get(0).getBoundingClientRect(),t.left<i&&i<t.right&&t.top<o&&o<t.bottom},e.prototype.outside=function(e){return!this.inside(e)},e.prototype.accepted=function(e){return this.inside(e)&&able.to("manage","maps")},e}(),namespace("Views.Overlays",function(t){return t.DropOverlayController=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="finder",n.prototype.tagName="form",n.prototype.className="finder sync-scene-bg-trans",n.prototype.template=template("main::overlays/finder"),n.prototype.events={"focus .selector-input":"onFocus","blur .selector-input":"onBlur","keydown .selector-input":"onKeydown","click .build-btn":"useSelectorBuilder",submit:!1},n.prototype.render=function(){return this.$el.html(this.template()),this.$input=this.$el.find("input[type=text]"),this.$input.autocomplete({source:[],delay:0,minLength:0,appendTo:"body"}),this.$input.autocomplete("widget").addClass("ui-autocomplete-finder"),this.$el.find(".build-btn").tooltip({placement:"right",container:"body"}),this.$el.on("submit",!1),this},n.prototype.focus=function(){return this.$input.focus()},n.prototype.reset=function(){return this.$input.autocomplete("close").val(""),map.focus()},n.prototype.onFocus=function(){Workflows.openConsole()},n.prototype.onBlur=function(){return _.delay(function(e){return function(){return e.$el.removeClass("active")}}(this),300)},n.prototype.onKeydown=function(e){switch(e.which){case 13:return _.delay(function(e){return function(){return e.search()}}(this),200);case 27:return e.stopPropagation(),this.reset()}},n.prototype.search=function(e){var t,n,r,i;null==e&&(e=this.$input.val().trim()),i=FinderHelper.buildSelector(e),log.info("search",e,i),this.reset();try{if(t=map.select(i,{extendFocus:!0,zoomFit:!0}),0===t.length)return r=e.startsWith("=")?'No matches found for "'+i+'"':'No elements found with label matching "'+e+'"',notice(r)}catch(o){return n=o,alert("Search failed. Please try again.")}},n.prototype.useSelectorBuilder=function(){var e,t;return this.$el.removeClass("active"),t=this.$input.val().trim(),Selector.isExplicit(t)?t=Selector.toImplicit(t):t&&(e=t,t=Selector.prepare('["label" = "{{value}}"]',{value:e})),SelectorBuilder.build(t).done(function(e){return function(t){return e.$input.val("= "+t),e.search()}}(this))},n}(Backbone.View),namespace("Views.Map",function(t){return t.Finder=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.setTimeout=t(this.setTimeout,this),this.clearTimeout=t(this.clearTimeout,this),this.reset=t(this.reset,this),this.show=t(this.show,this),this.onInteraction=t(this.onInteraction,this),this.hide=t(this.hide,this),this.render=t(this.render,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.className="status status-bar alert",r.prototype.initialize=function(){return this.map=this.model,$("body").on("keydown mousedown",this.onInteraction),flash.on("alert",function(e){return function(t){return e.show(t,{error:!0})}}(this)).on("notice",function(e){return function(t){return e.show(t,{error:!1})}}(this))},r.prototype.render=function(){return this},r.prototype.hide=function(){return $(this.el).fadeOut(),this.clearTimeout()},r.prototype.onInteraction=function(){var e;return e=(new Date).getTime(),this.lastMessageAt&&e-this.lastMessageAt>500?this.hide():void 0},r.prototype.show=function(e,t){return this.lastMessageAt=(new Date).getTime(),this.reset(),this.$el.addClass(t.error?"alert-danger":"alert-info"),this.$el.html(e).fadeIn(),this.setTimeout()},r.prototype.reset=function(){return this.$el.hide(),this.$el.removeClass("pending alert-danger alert-info"),this.clearTimeout()},r.prototype.clearTimeout=function(){return clearTimeout(this.timeout),this.timeout=null},r.prototype.setTimeout=function(){return this.timeout=setTimeout(this.hide,5e3)},r}(Backbone.View),namespace("Overlays",function(t){return t.FlashView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="fps-overlay",n.prototype.template='<span class="rate"></span><span class="fps">fps</span>',n.prototype.interval=100,n.prototype.limit=400,n.prototype.alpha=.2,n.prototype.render=function(){return this.$el.html(this.template),this.rate=this.$el.find(".rate").get(0),this},n.prototype.animate=function(){var e,t;return t=this,e=function(){return t.update()},setInterval(e,this.interval)},n.prototype.update=function(){return map.display?(this.fps=Math.min(60,Math.floor(map.display.loop.fps)),this.ffps=Math.floor(this.filter(this.fps,this.ffps)),this.rate.innerHTML=this.fps):void 0},n.prototype.filter=function(e,t){return null==t&&(t=60),this.alpha*e+(1-this.alpha)*t},n}(Backbone.View),namespace("Views.Overlays",function(t){return t.FPSView=e})}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ModalOverlayView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="busy-modal modal-backdrop",n.prototype.template='<div class="wrapper">\n  <div class="spinner-logo"></div>\n  <div class="message"></div>\n</div>',n.prototype.events={click:"onClick"},n.prototype.render=function(){var e;return this.$el.html(this.template),this.$message=this.$el.find(".message"),e={color:this.model.get("theme").get("fontColor")},this.spinner=this.$el.find(".spinner-logo").spinner(e),this},n.prototype.show=function(e,t){return this.spinner.play(),this.callback=t,e?this.$message.html(e):this.$message.empty(),this.callback&&this.$message.append('<div class="actions"><button class="continue btn btn-inverse" href="#">Cancel</button></div>'),this.$el.show("fade")},n.prototype.hide=function(){return this.spinner.pause(),this.$el.hide("fade")},n.prototype.onClick=function(e){return $(e.target).is(".continue")&&this.callback(),map.busy(!1)},n}(Backbone.View)}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="overlays",n.prototype.initialize=function(){return this.view=this.model.get("view"),this.sidebar=new Sidebar({model:this.model}),this.viewport=new Viewport({model:this.model})},n.prototype.render=function(){return this.$el.empty(),this.$el.append(this.sidebar.render().el),this.$el.append(this.viewport.render().el),this.$el.append(this.viewport.$proxy),this.renderOverlays(),this.initializeDropOverlay(),this},n.prototype.renderOverlays=function(){return this.$viewport=this.viewport.$el,this.$prompt=this.$viewport.find(".map-focus-prompt"),this.$core=this.$viewport.find(".map-core"),this.renderFocusPrompt(),this.renderCore()},n.prototype.renderFocusPrompt=function(){return this.prompt=new Views.Focus.Prompt({el:this.$prompt.get(0)}),this.prompt.render()},n.prototype.renderCore=function(){return this.renderControls(),this.renderConsole(),this.renderModalOverlay(),this.renderFlashView(),this.renderWatermark(),this.renderSelectionBox(),this.renderNotificationBar(),Settings.enabled("fps")&&this.renderFPS(),Settings.enabled("benchmark")?this.renderBenchmarksView():void 0},n.prototype.renderControls=function(){return this.controls=BackboneReactView.build(MapControlsContainer),this.$core.append(this.controls.render().el)},n.prototype.renderConsole=function(){return this.console=BackboneReactView.build(ProjectConsole),this.$core.append(this.console.render().el)},n.prototype.renderModalOverlay=function(){return this.modal=new ModalOverlayView({model:this.model}),this.$core.append(this.modal.render().el)},n.prototype.renderFlashView=function(){var e;return e=new Overlays.FlashView({model:this.model}),this.$core.append(e.render().el)},n.prototype.renderFPS=function(){var e;return e=new Views.Overlays.FPSView,this.$core.append(e.render().el),e.animate()},n.prototype.renderBenchmarksView=function(){var e;return e=new BenchmarksOverlay,this.$core.append(e.render().el)},n.prototype.renderWatermark=function(){var e;return e=new Views.Overlays.Watermark,this.$core.append(e.render().el)},n.prototype.renderSelectionBox=function(){return this.$selectionBox=$('<div id="selection-box"></div>'),this.$el.append(this.$selectionBox)},n.prototype.showSelectionBox=function(e){var t,n,r,i;return r=e.ymin,n=e.xmin,i=e.width(),t=e.height(),this.$selectionBox.css({top:r,left:n,width:i,height:t}),this.selectionBoxVisible||this.$selectionBox.show(),this.selectionBoxVisible=!0},n.prototype.hideSelectionBox=function(){return this.$selectionBox.hide(),this.selectionBoxVisible=!1},n.prototype.renderNotificationBar=function(){return this.notificationBar=BackboneReactView.build(NotificationBar),this.$core.append(this.notificationBar.render().el)},n.prototype.initializeDropOverlay=function(){var e;return e=new Views.Overlays.DropOverlayController(this.viewport.$el),e.initialize()},n}(Backbone.View),namespace("window",function(t){return t.OverlaysContainer=e})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=.1,t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.id="viewport",t.prototype.className="viewport map-viewport",t.prototype.template=template("main::overlays/viewport"),t.prototype.initialize=function(){return this.view=this.model.get("view"),this.$proxy=$('<div id="viewport_proxy" class="viewport"></div>')},t.prototype.render=function(){return this.$el.html(this.template),this},t.prototype.update=function(){var e,t,n;return t=this.$proxy.position(),n=t.top,e=t.left,this._bounds=new Rectangle(e,n,e+this.$proxy.width(),n+this.$proxy.height()),this._bounds},t.prototype.bounds=function(){return this._bounds},t.prototype.width=function(){return this._bounds.width()},t.prototype.height=function(){return this._bounds.height()},t.prototype.center=function(){return this._bounds.center()},t}(Backbone.View),namespace("window",function(e){return e.Viewport=t})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="watermark",n.prototype.template='<a href="https://kumu.io" title="Powered by Kumu" target="_blank">\n  <img src="https://assets.kumu.io/production/public/assets/tree-18938a71c5978493183efa2785fcc9a05939148f9e59a7ee499631ea3a6d4ac0.png" />\n</a>',n.prototype.render=function(){var e,t,n,r;return this.$el.html(this.template),t=this.$el.find("a"),e=this.$el.find("img"),(r=currentProject.owner.get("watermark"))&&(n=currentProject.owner.get("url"),null==n&&(n="/"+currentProject.owner.get("username")),t.attr({href:n,title:"Created by "+currentProject.owner.get("name")}),e.attr("src",r)),this},n}(Backbone.View),namespace("Views.Overlays",function(t){return t.Watermark=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.lenses=this.model,this.subview("form",new Views.Perspectives.DecorationsForm({model:this.lenses})),this.subview("list",new Views.Perspectives.DecorationsList({model:this.lenses}))},n.prototype.render=function(){return this.$el.append(this.form.render().el,this.list.render().el),this},n}(Backbone.View),namespace("Views.Perspectives",function(t){return t.Decorations=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="decorations-form",n.prototype.template=template("main::perspectives/decorations_form"),n.prototype.events={"click .btn":"decorate"},n.prototype.initialize=function(){return this.lenses=this.model},n.prototype.render=function(){return this.$el.html(this.template),this},n.prototype.decorate=function(e){var t;return t=$(e.target).attr("data-collection"),Workflows.addLens({collection:t})},n}(Backbone.View),namespace("Views.Perspectives",function(t){return t.DecorationsForm=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.onSort=t(this.onSort,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.tagName="ul",r.prototype.className="lenses",r.prototype.initialize=function(){return this.lenses=this.model,this.listenTo(this.lenses,"add",this.renderOne),this.listenTo(this.lenses,"reset",this.render)},r.prototype.render=function(){return this.lenses.each(this.renderOne,this),this.$el.disableSelection(),this.$el.sortable({axis:"y",stop:this.onSort}),this},r.prototype.renderOne=function(e){var t;return t=this.subview(new Views.Lenses.Show({model:e})),this.$el.append(t.render().el)},r.prototype.onSort=function(){var e;return e=this.$el.find("li").map(function(){return $(this).attr("data-cid")}).get(),this.lenses.comparator=function(t){return _.indexOf(e,t.cid)},this.lenses.sort(),map.refresh(),Workflows.savePerspective().fail(function(){return alert("Unable to update perspective")})},r}(Backbone.View),namespace("Views.Perspectives",function(t){return t.DecorationsList=e})}.call(this),function(){!function(e){return e.fn.spinner=function(t){var n,r,i;return null==t&&(t={}),this.addClass("spinner-logo"),i=this.get(0),n=_.defaults(t,e.fn.spinner.defaults),r=Spinners.create(i,n),n.center&&r.center(),n.autoplay&&r.play(),r},e.fn.spinner.defaults={autoplay:!1,center:!1,radius:40,height:6,width:1,dashes:53,opacity:1,padding:5,rotation:1700,color:"#000000"}}(jQuery)}.call(this),function(){var e,t,n,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;e=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.tagName="form",i.prototype.className="bulk-attribute-editor",i.prototype.template=template("main::profile/attributes/bulk_editor"),i.prototype.events={submit:!1,"change .attribute-select":"onSelectAttribute"},i.prototype.initialize=function(){return this.selection=this.model,this.selectionType=this.selection.type(),this.selectionTypeAttr=Attributes.get(this.selectionType+" type")},i.prototype.render=function(){var e;return this.$el.html(this.template),this.$select=this.$el.find("select"),(e=this.$select).append.apply(e,this.getAttributeChoices()),this.$form=this.$el.find(".form-wrapper"),this},i.prototype.replaceForm=function(e){var t;return t=this.$form.find(".editable"),t.editableattr("destroy"),e?this.$form.html(e):this.$form.empty()},i.prototype.renderFormFor=function(e){var t,n;return n={selection:this.selection,attribute:e},t=$("<div>").editableattr(n).editableattr("edit"),this.replaceForm(t)},i.prototype.onSelectAttribute=function(){var e,t;return t=this.$select.val(),t?(e="type"===t?this.selectionTypeAttr:Attributes.get(t),this.renderFormFor(e)):this.replaceForm()},i.prototype.getAttributeChoices=function(){var e;return e=Attributes.filter(n).filter(t).map(function(e){return{name:e.get("name"),label:e.get("name").toLowerCase()}}),"mixed"!==this.selectionType&&e.push({name:"type",label:"type"}),e=_.sortBy(e,"label"),e=e.map(function(e){return $("<option>").val(e.name).text(e.label)}),e.unshift('<option value="">---</option>'),e.unshift('<option value="">Select an attribute to edit</option>'),e},i}(Backbone.View),n=function(e){return 1===e.get("limit")},t=function(e){return!/^(element|connection|loop) type$/i.test(e.get("name"))},namespace("Views.Profile.Attributes",function(t){return t.BulkEditor=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=template("main::profile/attributes/dropdown"),n.prototype.events={"click input":"onInputFocus","keypress input":"submitOnEnter","click [data-update]":"onUpdate","click [data-action]":"onAction"},n.prototype.initialize=function(){return this.attribute=this.model},n.prototype.render=function(){var e,t,n,r,i;t={name:this.attribute.get("name"),categories:Attributes.getCategories(),elementTypes:AttributesHelper.getElementTypes()},this.$el.html(this.template(t)),r=this.attribute.pick("format","limit","category","private","cluster","prompt");for(n in r)i=r[n],e=this.$el.find("[data-update="+n+"][data-value="+String(i)+"]"),e.parent().addClass("active");return this},n.prototype.onInputFocus=function(e){return e.stopPropagation()},n.prototype.onUpdate=function(e){var t,n,r,i,o;return t=$(e.target),n=t.attr("data-update"),o=this.parse(t.attr("data-value")),"format"===n&&o.startsWith("element")?(r=o.split("|"),o=r[0],i=r[1],this.update({format:o,values:{selector:i}})):this.update(n,o)},n.prototype.onAction=function(e){var t;switch(t=$(e.target).attr("data-action")){case"delete":return this["delete"]();case"settings":return Modal.open("attributes").edit(this.attribute);case"relevance":return Modal.open("attributes")}},n.prototype.submitOnEnter=function(e){var t,n,r;return 13===e.which&&(t=$(e.target),n=t.attr("name"),r=t.val().trim())?this.update(n,r):void 0},n.prototype["delete"]=function(){var e;return e=new Commands.Attributes.Destroy(this.attribute),execute(e).then(null,function(e){return function(){return alert("Unable to delete attribute "+e.attribute)}}(this))},n.prototype.update=function(e,t){var n,r;return _.isObject(e)?(n=e,r=new Commands.Models.Update(this.attribute,n)):r=new Commands.Attributes.Update(this.attribute,e,t),execute(r).then(null,function(e){return function(){return alert("Unable to update attribute settings for "+e.attribute)}}(this))},n.prototype.parse=function(e){var t;try{return JSON.parse(e)}catch(n){return t=n,e}},n}(Backbone.View),namespace("Views.Profile.Attributes",function(t){return t.DropdownView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="new-attribute-form row",n.prototype.template=template("main::profile/attributes/form"),n.prototype.attributes={"data-ability":"manage-entities"},n.prototype.events={"click .new-attribute":"enter","focus .attribute-name":"refresh",keydown:"onKeydown"},n.prototype.initialize=function(){return this.category=this.model.category,this.selection=this.model.selection,this.collection=this.model.collection},n.prototype.render=function(){return this.$el.html(this.template()),this.$name=this.$el.find("[name=name]"),this.$value=this.$el.find("[name=value]"),this.$name.autocomplete({source:[],delay:0,minLength:0,appendTo:"body"}),this},n.prototype.refresh=function(){return this.$name.autocomplete("option","source",Attributes.pluck("label"))},n.prototype.enter=function(){return this.$el.addClass("active"),this.$name.focus()},n.prototype.exit=function(){return this.$el.removeClass("active"),this.$name.val(""),this.$value.val("")},n.prototype.onKeydown=function(e){switch(e.which){case 13:return this.submit();case 27:return this.exit()}},n.prototype.submit=function(){var e,t,n;return t=this.$name.val().trim(),n=this.$value.val().trim()||void 0,t?(this.exit(),e=new Commands.Attributes.CreateAndAssign(this.selection,t,n),execute(e).fail(function(){return alert("Unable to create attribute")})):void 0},n}(Backbone.View),namespace("Views.Profile.Attributes",function(t){return t.Form=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="fieldset",n.prototype.template=template("main::profile/attributes/group"),n.prototype.initialize=function(e){return this.options=e,this.category=this.model.name,this.readonly=e.readonly,this.listenTo(Attributes,"add",function(e){return e.get("category")===this.category?this.renderAttribute(e):void 0})},n.prototype.render=function(){var e,t,n,r,i,o,a;for(r=!0,n=able.to("manage","entities")&&!(this.readonly||this.model.selection.isVirtual()),i=this.model.selection.first(),t=this.model.attributes,this.$el.html(this.template({name:this.category})),this.$attributes=this.$el.find(".attributes"),o=0,a=t.length;a>o;o++)e=t[o],e.get("core")||(n||e.isPublic()&&i.hasAttr(e))&&(r=!1,this.renderAttribute(e));return n?this.options.form&&this.renderForm():r&&this.$el.empty(),this},n.prototype.renderAttribute=function(e){var t,n,r;return t={selection:this.model.selection,attribute:e},n={model:t,readonly:this.readonly},r=new Views.Profile.Attributes.View(n),this.$attributes.append(r.render().el),this.subview(r)},n.prototype.renderForm=function(){var e;return e=new Views.Profile.Attributes.Form({model:{selection:this.model.selection,category:this.category}}),this.$el.append(e.render().el),this.subview(e)},n}(Backbone.View),namespace("Views.Profile.Attributes",function(t){return t.Group=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="attributes-container",n.prototype.events={submit:!1},n.prototype.initialize=function(e){return this.debounceRender=_.debounce(this.render,100),this.selection=this.model,this.entity=this.selection.first(),this.readonly=e.readonly,this.listenTo(this.entity,"change",this.onAttributeChange),this.listenTo(Attributes,"change",this.debounceRender),this.listenTo(Settings,"change:relevance",this.debounceRender)},n.prototype.render=function(){var e,t,n,r,i,o,a,s,u;for(this.$el.empty(),e=this.entity.getRelevantAttributes(),t=e.categorized(),(0===t.length||"General"!==t[0].name)&&(t=[{name:"General",attributes:[]}].concat(t)),r=0,i=t.length;i>r;r++)n=t[r],a=n.name,e=n.attributes,o={name:a,selection:this.selection,attributes:e},s={model:o,form:"General"===a,readonly:this.readonly},u=this.subview(new Views.Profile.Attributes.Group(s)),this.$el.append(u.render().el);return this},n.prototype.onAttributeChange=function(){return this.entity.attrHasChanged(this.entity.typeAttr)?this.debounceRender():void 0},n}(Backbone.View),namespace("Views.Profile.Attributes",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="attribute row",n.prototype.template=template("main::profile/attributes/view"),n.prototype.events={"click .new-value-placeholder":"newValue","click .dropdown-toggle":"renderDropdown"},n.prototype.initialize=function(e){return this.attribute=this.model.attribute,this.selection=this.model.selection,this.entity=this.selection.first(),this.readonly=e.readonly,this.assignments=new Backbone.Collection,this.listenTo(this.assignments,"change remove",this.saveChanges),this.listenTo(this.attribute,"change",this.render),this.listenTo(this.attribute,"remove",this.remove)},n.prototype.render=function(){var e;return e={attribute:this.attribute.label(),icon:this.attribute.get("icon"),"private":this.attribute.isPrivate()},this.$el.html(this.template(e)),this.$values=this.$el.find(".values"),this.$newValue=this.$el.find(".new-value-placeholder"),this.readonly&&(this.$el.addClass("readonly"),this.$el.find(".name").removeClass("dropdown-toggle").attr("data-toggle","")),this.$el.addClass(AttributesHelper.classNameFor(this.attribute)),this.$el.attr("data-limit",this.attribute.get("limit")),this.$el.attr("data-format",this.attribute.get("format")),this.dropdown=this.subview(new Views.Profile.Attributes.DropdownView({el:this.$el.find(".dropdown-menu"),model:this.attribute})),this.multipleInputs()?(this.refreshAssignments(),this.$newValue.text("Add "+this.attribute.singularize()),this.assignments.each(this.renderOne,this)):(this.$newValue.hide(),this.renderOne(void 0)),this},n.prototype.refreshAssignments=function(){var e,t;return this.multipleInputs()?(t=this.entity.getAttrs(this.attribute),e=_.map(t,function(e){return{value:e}}),this.assignments.reset(e)):void 0},n.prototype.multipleInputs=function(){return this.attribute.limit()>1&&!this.attribute.isPrompted()},n.prototype.renderDropdown=function(){return this.dropdown.render()},n.prototype.renderOne=function(e){var t;return t={selection:this.selection,attribute:this.attribute,assignment:e,options:{readonly:this.readonly}},$("<div>").addClass("value").editableattr(t).appendTo(this.$values)},n.prototype.newValue=function(){var e,t;return t=this.assignments.add({value:void 0}),e=this.renderOne(t),e.editableattr("edit"),e.one("update cancel",function(n){return function(r){return"cancel"===r.type?(n.assignments.remove(t,{silent:!0}),e.remove()):void 0}}(this))},n.prototype.saveChanges=function(e){var t,n;return n=this.assignments.pluck("value"),t=function(){switch(n.length){case 0:return new Commands.Attributes.Clear(this.selection,this.attribute);default:return new Commands.Attributes.Set(this.selection,this.attribute,n)}}.call(this),execute(t).fail(function(t){return function(){return t.assignments.include(e)?e.trigger("edit"):(t.assignments.add(e),t.renderOne(e)),alert("Unable to update "+t.attribute.label().toLowerCase()+". Please try again.")}}(this))},n}(Backbone.View),namespace("Views.Profile.Attributes",function(t){return t.View=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="attributes-panel",n.prototype.initialize=function(e){return this.subview("tags",new Views.Tags.Editor(e)),this.subview("attributes",new Views.Profile.Attributes.Index(e))},n.prototype.render=function(){return this.$el.empty(),this.$el.append(this.tags.render().el),this.$el.append(this.attributes.render().el),this},n}(Backbone.View),namespace("Views.Profile",function(t){return t.AttributesPanel=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.renderDisqus=function(){return this.subview("disqusView",new Views.Disqus.DisqusView),this.$details.append(this.disqusView.render(this.model).el)},n}(Backbone.View),namespace("Views.Profiles",function(t){return t.BaseProfile=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="profile connection-profile",n.prototype.template=template("main::profiles/connection_profile"),n.prototype.events={"click .from":"showFrom","click .to":"showTo"},n.prototype.initialize=function(e){return this.options=e,this.connection=this.model,this.selection=new EntitySelection(this.connection),this.readonly=this.options.readonly,this.listenTo(this.connection,"merge",this.render)},n.prototype.remove=function(){return n.__super__.remove.apply(this,arguments),this.selection.reset()},n.prototype.render=function(){var e,t;return this.subview("attributes",new Views.Profile.AttributesPanel({model:this.selection,readonly:this.readonly})),this.subview("toolbar",new Views.Profile.SelectionToolbar({model:this.selection})),t={map:currentMap,perspective:currentPerspective,entity:this.connection},e={id:this.connection.id,virtual:this.connection.isVirtual()},MapController.shouldShowPermalinksInProfile()&&(e.url=urlFor(t,{permanent:!1}),e.permalink=urlFor(t,{absolute:!0,permanent:!0})),this.$el.html(this.template(e)),this.readonly||this.$el.append(this.toolbar.render().el),this.$header=this.$el.find(".profile-header"),this.$overview=this.$el.find(".overview"),this.$details=this.$el.find(".details"),this.renderOverview(),this.renderDetails(),Settings.isInstalled("disqus")&&this.renderDisqus(),this
},n.prototype.renderOverview=function(){return this.initializeHeader()},n.prototype.initializeHeader=function(){var e;return e=this.optionsFor(this.connection.labelAttr),e.options.format=function(e){return function(){return e.connection.getVerboseLabel().capitalize()}}(this),e.options.placeholder=function(e){return function(){var t;return t=e.connection.getDescriptiveLabel().capitalize(),able.to("update","project")?"<div class='placeholder'>"+t+"</div>":t}}(this),this.$header.find(".connection-label").editableattr(e),this.$header.find(".connection-type").editableattr(this.optionsFor(this.connection.typeAttr)),this.$overview.find(".description").editableattr(this.optionsFor("description"))},n.prototype.optionsFor=function(e){return{selection:this.selection,attribute:e,options:{readonly:this.options.readonly}}},n.prototype.renderDetails=function(){return this.$details.html(this.attributes.render().el)},n.prototype.getConnection=function(){return this.connection},n.prototype.showFrom=function(){return map.select("#"+this.connection.from.id)},n.prototype.showTo=function(){return map.select("#"+this.connection.to.id)},n}(Views.Profiles.BaseProfile),namespace("Views.Profiles",function(t){return t.Connection=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="element-profile profile",n.prototype.template=template("main::profiles/element_profile"),n.prototype.initialize=function(e){return this.options=e,this.element=this.model,this.selection=new EntitySelection(this.element),this.readonly=this.options.readonly,this.listenTo(this.element,"merge",this.render)},n.prototype.remove=function(){return n.__super__.remove.apply(this,arguments),this.selection.reset()},n.prototype.render=function(){var e,t;return this.subview("image",new Views.Profile.ImageView({model:this.element})),this.subview("attributes",new Views.Profile.AttributesPanel({model:this.selection,readonly:this.readonly})),this.subview("toolbar",new Views.Profile.SelectionToolbar({model:this.selection})),t={map:currentMap,perspective:currentPerspective,entity:this.element},e={id:this.element.id,virtual:this.element.isVirtual()},MapController.shouldShowPermalinksInProfile()&&(e.url=urlFor(t,{permanent:!1}),e.permalink=urlFor(t,{absolute:!0,permanent:!0})),Settings.twitterTimelineEnabled&&(e.twitterUsername=this.element.getAttr("twitter profile")),this.$el.html(this.template(e)),this.readonly||this.$el.append(this.toolbar.render().el),this.$el.replace("profile-image",this.image),this.$header=this.$el.find(".profile-header"),this.$overview=this.$el.find(".overview"),this.$details=this.$el.find(".details"),this.$el.find(".nav [title]").tooltip(),this.renderOverview(),this.renderDetails(),Settings.isInstalled("disqus")&&this.renderDisqus(),this},n.prototype.renderOverview=function(){return this.initializeHeader()},n.prototype.initializeHeader=function(){return this.$header.find(".element-label").editableattr(this.optionsFor(this.element.labelAttr)),this.$header.find(".element-type").editableattr(this.optionsFor(this.element.typeAttr)),this.$overview.find(".description").editableattr(this.optionsFor("description"))},n.prototype.optionsFor=function(e){return{selection:this.selection,attribute:e,options:{readonly:this.options.readonly}}},n.prototype.renderDetails=function(){return this.$details.html(this.attributes.render().el)},n.prototype.getElement=function(){return this.element},n}(Views.Profiles.BaseProfile),namespace("Views.Profiles",function(t){return t.Element=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="profile-image-container",n.prototype.template=template("main::profiles/image"),n.prototype.events={"click .profile-image":"handleImageClick","click .profile-image-placeholder":"editImage"},n.prototype.initialize=function(){return this.element=this.model,this.listenTo(this.element,"change:email change:image change:image2x",this.render)},n.prototype.readonly=function(){return unable.to("manage","entities")||this.element.isVirtual()||currentMap.isReadOnly()},n.prototype.render=function(){var e;return e={src:this.getImageUrl(),title:this.getImageTitle(),readonly:this.readonly()},this.$el.html(this.template(e)),this},n.prototype.getImageUrl=function(){return this.element.getProfileImage()},n.prototype.getImageTitle=function(){var e,t;return e=this.element.label(),t=this.element.type(),t?e+"<small>"+t+"</small>":e},n.prototype.handleImageClick=function(){return this.readonly()?void 0:(event.preventDefault(),event.stopPropagation(),this.editImage())},n.prototype.editImage=function(){return Workflows.editImageField(this.element)},n}(Backbone.View),namespace("Views.Profile",function(t){return t.ImageView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="loop-profile profile",n.prototype.template=template("main::profiles/loop_profile"),n.prototype.initialize=function(e){return this.options=e,this.lewp=this.model,this.selection=new EntitySelection(this.lewp),this.readonly=this.options.readonly,this.listenTo(this.lewp,"merge",this.render)},n.prototype.remove=function(){return n.__super__.remove.apply(this,arguments),this.selection.reset()},n.prototype.render=function(){var e,t;return this.subview("attributes",new Views.Profile.AttributesPanel({model:this.selection,readonly:this.readonly})),this.subview("toolbar",new Views.Profile.SelectionToolbar({model:this.selection})),t={map:currentMap,perspective:currentPerspective,entity:this.lewp},e={id:this.lewp.id,virtual:this.lewp.isVirtual()},MapController.shouldShowPermalinksInProfile()&&(e.url=urlFor(t,{permanent:!1}),e.permalink=urlFor(t,{absolute:!0,permanent:!0})),this.$el.html(this.template(e)),this.readonly||this.$el.append(this.toolbar.render().el),this.$header=this.$el.find(".profile-header"),this.$overview=this.$el.find(".overview"),this.$details=this.$el.find(".details"),this.renderOverview(),this.renderDetails(),Settings.isInstalled("disqus")&&this.renderDisqus(),this},n.prototype.renderOverview=function(){return this.initializeHeader()},n.prototype.initializeHeader=function(){var e,t,n;return t=this.optionsFor(this.lewp.labelAttr),t.options.validate=function(e){return e&&e.length},t.options.actions="edit",n=this.optionsFor(this.lewp.typeAttr),e=this.optionsFor("description"),this.$header.find(".loop-label").editableattr(t),this.$header.find(".loop-type").editableattr(n),this.$overview.find(".description").editableattr(e)},n.prototype.optionsFor=function(e){return{selection:this.selection,attribute:e,options:{readonly:this.options.readonly}}},n.prototype.renderDetails=function(){return this.$details.html(this.attributes.render().el)},n.prototype.getLoop=function(){return this.lewp},n}(Views.Profiles.BaseProfile),namespace("Views.Profiles",function(t){return t.Loop=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="multiple-profile profile",n.prototype.template=template("main::profiles/multiple_profile"),n.prototype.events={"click .deselect-btn":"onDeselect","click [data-connect-all]":"onConnectAll","click [data-export]":"onExport"},n.prototype.initialize=function(){return this.selection=this.model,this.elements=new EntitySelection(this.selection.elements()),this.connections=new EntitySelection(this.selection.connections()),this.loops=new EntitySelection(this.selection.loops()),this.subview("tags",new Views.Tags.GroupEditor({model:this.selection})),this.subview("attributeForm",new Views.Profile.Attributes.BulkEditor({model:this.selection})),this.subview("toolbar",new Views.Profile.SelectionToolbar({model:this.selection}))},n.prototype.remove=function(){return n.__super__.remove.apply(this,arguments),this.selection.reset(),this.elements.reset(),this.connections.reset(),this.loops.reset()},n.prototype.render=function(){var e;return e={defaultDirection:currentMap.getDefaultDirection(),selection:this.selection,collections:[{name:"elements",count:this.elements.length},{name:"connections",count:this.connections.length},{name:"loops",count:this.loops.length}]},this.$el.html(this.template(e)),this.$el.append(this.toolbar.render().el),this.$el.replace("tags",this.tags),this.$el.replace("attribute-form",this.attributeForm),this.$el.find(".deselect-btn").tooltip({placement:"right"}),this},n.prototype.onDeselect=function(e){var t,n;return n=$(e.currentTarget).attr("data-deselect"),t=this[n],map.deselect(t)},n.prototype.onConnectAll=function(e){var t;return t=$(e.currentTarget).attr("data-connect-all"),Workflows.connectAll({direction:t})},n.prototype.onExport=function(e){var t;return t=$(e.currentTarget).attr("data-export"),Workflows["export"](t)},n}(Backbone.View),namespace("Views.Profiles",function(t){return t.Multiple=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="selection-toolbar",n.prototype.initialize=function(){return this.selection=this.model},n.prototype.render=function(){var e,t,n,r,i;return r=this.selection.counts(),t=r.elements,e=r.connections,n=r.loops,i=1===this.selection.length&&n,(t>0||n>0)&&this.$el.append((new Views.Actionbar.Pin).render().el),e>0&&this.$el.append((new Views.Actionbar.Direction).render().el),e>0&&this.$el.append((new Views.Actionbar.Delay).render().el),i&&this.$el.append((new Views.Actionbar.EditLoop).render().el),this.$el.append((new Views.Actionbar.Focus).render().el),this.$el.append((new Views.Actionbar.Decorate).render().el),this.$el.append((new Views.Actionbar.Delete).render().el),this.$el.find("[title]").tooltip({placement:"right"}),this},n}(Backbone.View),namespace("Views.Profile",function(t){return t.SelectionToolbar=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="deleteProjectModal",n.prototype.className="modal-app",n.prototype.title="Delete Project",n.prototype.template=template("main::projects/delete"),n.prototype.initialize=function(){return this.context={name:currentProject.get("name")}},n.prototype.onSubmit=function(){return this.$el.find(".btn").addClass("disabled").val("Deleting project..."),Workflows.deleteProject(currentProject)},n}(Views.Modals.Base),namespace("Views.Projects",function(t){return t.DeleteModal=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="privacyModal",n.prototype.className="modal-app",n.prototype.title="Convert Project",n.prototype.template=template("main::projects/privacy"),n.prototype.onSubmit=function(){return this.$el.find(".btn").addClass("disabled").val("Converting project..."),Workflows.toggleProjectPrivacy(currentProject)},n}(Views.Modals.Base),namespace("Views.Projects",function(t){return t.PrivacyModal=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="renameProjectModal",n.prototype.className="modal-app",n.prototype.title="Rename Project",n.prototype.template=template("main::projects/rename"),n.prototype.initialize=function(){return this.context={name:currentProject.get("name")}},n.prototype.onSubmit=function(){var e;return e=this.$el.findByName("name").val().trim(),this.$el.find(".btn").addClass("disabled").val("Renaming project..."),Workflows.renameProject(e)},n}(Views.Modals.Base),namespace("Views.Projects",function(t){return t.RenameModal=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.id="transferProjectModal",n.prototype.className="modal-app",n.prototype.title="Transfer Project",n.prototype.template=template("main::projects/transfer"),n.prototype.initialize=function(){return this.context={contributors:currentProject.contributors(),organizations:currentUser.getOwnedOrganizations()}},n.prototype.onSubmit=function(){var e;return e=Number(this.$el.find("select").val()),this.$el.find(".btn").addClass("disabled").val("Transferring project..."),Workflows.transferProject(e)},n}(Views.Modals.Base),namespace("Views.Projects",function(t){return t.TransferModal=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="relevance-form",n.prototype.template=template("main::relevance/form"),n.prototype.events={"click [data-toggle]":"onBulkSelect"},n.prototype.initialize=function(){var e;return this.selector=this.model,e=Settings.relevance.split(this.selector),this.selected=e.selected,this.unselected=e.unselected,e},n.prototype.render=function(){return this.$el.html(this.template()),this.$list=this.$el.find("ul"),this.renderAttributes(),this.makeSortable(),this},n.prototype.renderAttributes=function(){var e,t,n,r,i,o,a,s;for(o=this.selected,t=0,r=o.length;r>t;t++)e=o[t],this.renderAttribute(e,!0);for(a=this.unselected,s=[],n=0,i=a.length;i>n;n++)e=a[n],s.push(this.renderAttribute(e,!1));return s},n.prototype.renderAttribute=function(e,t){var n,r;return r=$('<li class="checkbox">\n  <label>\n    <input type="checkbox" />\n    '+cockblock(e)+"\n  </label>\n</li>"),n=r.find(":checkbox"),n.val(e),n.prop("checked",t),this.$list.append(r)},n.prototype.makeSortable=function(){return this.$list.css("overflow","auto").sortable({containment:this.$list,axis:"y",tolerance:"pointer"}).disableSelection()},n.prototype.val=function(){var e,t;return e=Attributes.getCustomAttributeNames(),t=this.$list.find(":checked").map(function(){return $(this).attr("value")}).get(),_.isEqual(t,e)?void 0:t},n.prototype.onBulkSelect=function(e){var t;return e.preventDefault(),t="all"===$(e.target).attr("data-toggle"),this.$list.find(":checkbox").prop("checked",t)},n}(Backbone.View),namespace("Views.Relevance",function(t){return t.FormView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="relevance-group",n.prototype.template=template("main::relevance/group"),n.prototype.initialize=function(){return this.attribute=this.model,this.listenTo(this.attribute,"change:values",this.render)},n.prototype.render=function(){var e;return e={label:this.attribute.get("name").pluralize().titleize()},this.$el.html(this.template(e)),this.$rules=this.$el.find(".rules"),this.renderRules(),this},n.prototype.renderRules=function(){var e,t,n,r;for(n=this.attribute.values(),e=0,t=n.length;t>e;e++)r=n[e],r&&this.renderRule(r);return this.renderRule("Undefined")},n.prototype.renderRule=function(e){var t,n;return t={attribute:this.attribute,type:e},n=this.subview(new Views.Relevance.RuleView({model:t})),this.$rules.append(n.render().el)},n}(Backbone.View),namespace("Views.Relevance",function(t){return t.GroupView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="form",n.prototype.className="relevance-index form-horizontal",n.prototype.events={submit:!1},n.prototype.initialize=function(){return this.listenTo(Settings,"change:relevance",this.refresh)},n.prototype.refresh=function(){return this.render()},n.prototype.render=function(){var e,t,n,r,i;for(this.$el.empty(),i=["element type","connection type","loop type"],n=0,r=i.length;r>n;n++)e=i[n],(t=Attributes.get(e))&&this.renderGroup(t);return this.$el.is(":empty")&&this.$el.html("<em>No types found</em>"),this},n.prototype.renderGroup=function(e){var t;return t=this.subview(new Views.Relevance.GroupView({model:e})),this.$el.append(t.render().el)},n}(Backbone.View),namespace("Views.Relevance",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="relevance-rule form-group",n.prototype.template=template("main::relevance/rule"),n.prototype.events={"click .edit":"edit","click .done":"save","click .cancel":"render"},n.prototype.initialize=function(){var e;return e=this.model,this.attribute=e.attribute,this.type=e.type,this.selector=this.type.slugify(),this.attribute.is("connection type")&&(this.selector+="-connection"),"undefined"===this.selector&&this.attribute.is("loop type")&&(this.selector+="-loop"),this.selectedAttributes=Settings.relevance.get(this.selector)},n.prototype.render=function(){var e;return e={type:this.type,attributes:this.selectedAttributes},this.$el.html(this.template(e)),this.$attributes=this.$el.find(".attributes"),this},n.prototype.edit=function(){return this.subview("form",new Views.Relevance.FormView({model:this.selector})),this.$attributes.html(this.form.render().el)},n.prototype.save=function(){var e;return this.selectedAttributes=this.form.val(),e=new Commands.Settings.UpdateAttributeRelevance(this.selector,this.selectedAttributes),e.execute().then(function(e){return function(){return e.$el.trigger("notice","Successfully updated attribute relevance for <strong>"+e.type+"</strong>")}}(this)).fail(function(e){return function(){return e.$el.trigger("alert","Unable to update attribute relevance for <strong>"+e.type+"</strong>")}}(this)),this.render()},n}(Backbone.View),namespace("Views.Relevance",function(t){return t.RuleView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.template=template("main::settings/proxy"),n.prototype.events={"click .toggle":"toggle"},n.prototype.initialize=function(){return this.listenTo(Settings,"change:proxy_images",this.render)},n.prototype.render=function(){var e;return e={status:this.enabled()?"enabled":"disabled",action:this.enabled()?"disable":"enable"},this.$el.html(this.template(e)),this},n.prototype.toggle=function(){return this.enabled()?this.disable():this.enable()},n.prototype.enable=function(){var e,t;return e=function(e){return function(){return e.$el.trigger("notice","Image proxy <strong>enabled</strong>")}}(this),t=function(e){return function(){return e.$el.trigger("alert","Unable to enable image proxy")}}(this),Workflows.enableImageProxy().then(e,t)},n.prototype.disable=function(){var e,t;return e=function(e){return function(){return e.$el.trigger("notice","Image proxy <strong>disabled</strong>")}}(this),t=function(e){return function(){return e.$el.trigger("alert","Unable to disable image proxy")}}(this),Workflows.disableImageProxy().then(e,t)},n.prototype.enabled=function(){return Settings.get("proxy_images")},n}(Backbone.View),namespace("Views.Settings",function(t){return t.ImageProxyToggle=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.submit=t(this.submit,this),this.render=t(this.render,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.className="sidebar-view layout-settings-view",r.prototype.template="develop/sidebar/layout_settings_view",r.prototype.events={"click .submit":"submit"},r.prototype.render=function(){var e,t,n,r;for(this.layout=this.graph.layout,this.$el.html($.template(this.template,this.layout.toJSON())),r=["cooling","friction","damping"],t=0,n=r.length;n>t;t++)e=r[t],this.$el.find("input[name="+e+"]").attr("checked",this.layout.get(e));return this},r.prototype.submit=function(e){var t,n,r,i,o,a,s,u;a={},this.$el.find("input[name]").each(function(){return function(e,t){var n,r;return n=$(t),r=function(){switch(n.attr("type")){case"text":return Number(n.val());case"checkbox":return n.is(":checked")}}(),a[n.attr("name")]=r,!0}}(this)),s="";for(n in a)u=a[n],s+=n+": "+u+"\n";if(this.$el.find("textarea").val(s),this.layout.stop(),this.layout.set(a),"reset"===$(e.target).attr("name"))for(o=this.graph.graph.nodes.models,t=0,r=o.length;r>t;t++)i=o[t],i.position.randomize(100);return this.layout.reload()},r}(Backbone.View),window.LayoutSettingsView=e}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;this.Sidebar=function(n){function r(){return this.onScroll=e(this.onScroll,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype.id="sidebar",r.prototype.className="sidebar",r.prototype.events={click:"onClick","click .sidebar-nav-back":"back","click .sidebar-view > .back-btn":"back","click .sidebar-toggle":"onToggleClicked"},r.prototype.initialize=function(){return this.registry={},this.builders={},this.stack=[],this.maximized=!1,this.collapsed=!1,this.initializeBuilders(),SidebarLinkHandler.initialize(this)},r.prototype.is=function(e){return this.view===e},r.prototype.include=function(e){return this.is(e)||_.include(this.stack,e)},r.prototype.initializeBuilders=function(){},r.prototype.register=function(e,t){return this.builders[e]=t},r.prototype.build=function(e){var t;return(t=this.builders[e]||raise("Unknown sidebar view, "+e))()},r.prototype.show=function(e){var t,n;return n=this.build(e),t=this.registry[e],t&&(this.stack=_.without(this.stack,t),t!==n&&t.remove()),this.push(this.registry[e]=n),n},r.prototype.open=function(e,t){var n,r;return t=_.defaults({},t,{force:!1,animate:!0}),this.maximized||(t.animate=!1),e!==this.view&&(this.$el.find(".sidebar-view").removeClass("active"),r=this.view,this.view=e,this.view.render(this),this.view.$el.addClass("sidebar-view active"),this.$el.append(this.view.el),this.view.$el.css({left:0,opacity:1}),r&&r.$el.css("opacity",0),this.view.$el.find(".sidebar-content").on("scroll",this.onScroll),"function"==typeof(n=this.view).onShow&&n.onShow(),this.$el.removeClass("empty")),(t.force||!this.collapsed)&&(this.collapsed=!1,this.maximize()),this.resize()},r.prototype.push=function(e,t){return _.include(this.stack,e)&&(this.stack=_.without(this.stack,e)),this.stack.push(e),this.open(e,t)},r.prototype.pop=function(e,t){var n,r,i,o,a;return null==t&&(t="back"),e?(n=this.maximized,o=e,o.$el.off("scroll",this.onScroll),this.stopListening(o),this.stack=_.without(this.stack,o),this.view=i=_.last(this.stack),i?(o.$el.removeClass("active"),"function"==typeof i.onShow&&i.onShow(),i.$el.trigger("show"),i.$el.addClass("active"),this.maximized&&(o.$el.css({opacity:0,left:-100}),i.$el.css({opacity:1}))):(this.$el.addClass("empty"),this.minimize()),a=this,r=function(){return o!==a.view&&o.remove(),i&&i===a.view?i.$el.css({opacity:1}):void 0},_.delay(r,500)):void 0},r.prototype.openMetricsView=function(){return null==this.metricsView&&(this.metricsView=new Views.Metrics.Index),this.push(this.metricsView,{force:!0})},r.prototype.pushSelectionView=function(e){var t;return t=this.selectionView,this.push(e),this.pop(t),this.selectionView=e,this.maximized?void 0:this.$handle.effect("shake",{distance:3,times:2})},r.prototype.popSelectionView=function(){return this.pop(this.selectionView)},r.prototype.reveal=function(e){var t,n,r;for(n=this.stack,t=n.length-1;t>=0;t+=-1){if(r=n[t],r===e)return;this.pop(r)}},r.prototype.back=function(){return this.view?this.pop(this.view,"back"):void 0},r.prototype.close=function(){return this.view?this.pop(this.view,"close"):void 0},r.prototype.render=function(){return this.$handle=$('<a class="sidebar-toggle" href="#">\n  <i class="icon-sidebar-toggle"></i>\n</a>'),this.$el.empty().addClass("empty"),this.$el.append(this.$handle),this.view||this.minimize(),this},r.prototype.resize=function(){return this.$el.triggerHandler("resize")},r.prototype.onClick=function(){return map.hideSettingsForm()},r.prototype.onToggleClicked=function(e){return Monitor.click("sidebar-toggle"),e.preventDefault(),e.stopPropagation(),map.isSettingsFormOpen()?void map.hideSettingsForm():this.collapsed&&this.maximized?this.toggle(!1):this.collapsed||this.maximized?(this.collapsed=!this.collapsed,this.toggle(!this.collapsed)):this.toggle(!0)},r.prototype.toggle=function(e){return null==e&&(e=!this.maximized),e?this.maximize():this.minimize()},r.prototype.hide=function(){return this.$el.hide(),this.minimize()},r.prototype.minimize=function(){return this.maximized?(this.maximized=!1,$("body").removeClass("sidebar-open"),map.$el.removeClass("sidebar-open"),this.$el.removeClass("maximized"),this.$el.triggerHandler("minimize"),this.$el.triggerHandler("toggle")):void 0},r.prototype.maximize=function(){return!this.maximized&&this.view?(this.maximized=!0,$("body").addClass("sidebar-open"),map.$el.addClass("sidebar-open"),this.$el.addClass("maximized"),this.$el.triggerHandler("maximize"),this.$el.triggerHandler("toggle")):void 0},r.prototype.width=function(){return this.maximized?this.$el.width():0},r.prototype.isOpen=function(){return this.maximized},r.prototype.getView=function(e){var t;return t=$(e.target).closest(".sidebar-view"),_.find(this.stack,function(e){return e.$el.is(t)})},r.prototype.onScroll=function(e){var t;return t=$(e.target),t.siblings(".sidebar-nav").toggleClass("scrolled",t.scrollTop()>0)},r}(Backbone.View)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Sidebar.PagedView=function(t){function n(){this._pages=[],n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.layout=template("main::sidebar/paged"),n.prototype.buttonTemplate='<button class="btn btn-flat" data-toggle="tab" data-target="#{{id}}">\n  <i class="icon-{{icon}}"></i> {{label}}\n</button>',n.prototype.addPage=function(e){return this._pages.push(e)},n.prototype.render=function(e){var t,n,r,i,o,a,s,u;for(this.$el.html(this.layout()).addClass("sidebar-view sidebar-view-paged"),n=this.$el.find(".navbar"),t=this.$el.find(".content"),u=this._pages,o=i=0,a=u.length;a>i;o=++i)s=u[o],n.append(tim(this.buttonTemplate,s)),r=s.view.render().$el,s.view.delegateEvents(),r.attr("id",s.id).addClass("page tab-pane").toggleClass("active",0===o).appendTo(t);return n.find("> button:first").addClass("active"),"function"==typeof this.afterRender&&this.afterRender(e),this},n}(Backbone.ExtendedView)}.call(this),function(){var e,t,n,r,i,o,a=[].slice;i=function(){function e(){this.home=null}return e.prototype.accept=function(e,t){return t.startsWith("=")||$(e.currentTarget).attr("data-selector")},e.prototype.before=function(e){return e.preventDefault()},e.prototype.args=function(e,t){var n,r;return r=$(e.currentTarget).attr("data-selector")||t,r=Selector.toImplicit(r),n=$(e.currentTarget).attr("data-showcase-mode"),[r,n]},e.prototype.click=function(e,t){return this.home=null,map.resetReveal(),map.select(t,{extendFocus:!0,zoomFit:!0})},e.prototype.mouseenter=function(e,t,n){return this.home={scale:currentScene.scale,translation:currentScene.translation.clone()},map.reveal(t,{mode:n})},e.prototype.mouseleave=function(){return this.home&&currentScene.transform(this.home),map.resetReveal()},e}(),r=function(){function e(){}return e.prototype.accept=function(e){var t;return t=$(e.target),t.is(".permalink")},e.prototype.click=function(e){var t,n;return e.shiftKey?(e.preventDefault(),t=$(e.target).attr("data-id"),n=currentProject.revisionHistoryUrl(t),Workflows.lightbox(n,"iframe")):void 0},e}(),n=function(){function e(){}return e.prototype.accept=function(e,t){return t.startsWith("#")},e}(),t=function(){function e(){}return e.prototype.accept=function(e,t){return t.startsWith("/")||/kumu/.test(t)},e}(),this.LightboxHandler=function(){function e(){}return e.prototype.accept=function(e,t){var n;return n=$(e.currentTarget),n.is("[target^=lightbox]")||this.acceptUrl(t)},e.prototype.acceptUrl=function(e){return this.isRequested(e)||this.isForced(e)||this.isImage(e)},e.prototype.isRequested=function(e){return/\?.*lightbox/i.test(e)},e.prototype.isForced=function(){return!1},e.prototype.isImage=function(e){return ImageHelper.isImage(e)},e.prototype.isFull=function(e){return e.contains("lightbox=full")},e.prototype.click=function(e){var t,n,r;return e.preventDefault(),t=$(e.currentTarget),r=t.attr("href"),n="lightbox/full"===t.attr("target"),this.open(r,n)},e.prototype.open=function(e,t){var n,r;return r=this.isImage(e)?"image":"iframe",t=t||this.isFull(e),n={items:{src:e,type:r}},t&&(n.mainClass="mfp-full"),$.magnificPopup.open(n)},e}(),e=function(){function e(){}return e.prototype.accept=function(e,t){return t.startsWith("http")},e.prototype.click=function(e){return $(e.currentTarget).attr("target","_blank")},e}(),o=function(o){var s,u,l;return s=[new r,new LightboxHandler,new i,new n,new t,new e],l=function(e){var t,n,r,i,o,u,l;for(t=$(e.currentTarget),i=t.attr("href"),o=0,u=s.length;u>o;o++)if(r=s[o],r.accept(e,i)){n=("function"==typeof r.args?r.args(e,i):void 0)||[],_.isArray(n)||(n=[n]),"function"==typeof r.before&&r.before.apply(r,[e].concat(a.call(n))),"function"==typeof r[l=e.type]&&r[l].apply(r,[e].concat(a.call(n)));break}return!0},u=function(e){var t,n;return t=$(e.currentTarget),0===t.closest("a").length?(e.preventDefault(),e.stopPropagation(),n={src:t.attr("src"),title:t.attr("title"),type:"image"},$.magnificPopup.open({items:n})):void 0},o.$el.on("click dblclick mouseenter mouseleave","a",l),o.$el.on("click","img",u)},this.SidebarLinkHandler={initialize:o}}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="tags-widget tags",n.prototype.initialize=function(e){var t;return this.selection=this.model,this.entity=this.selection.first(),this.readonly=e.readonly,t={selection:this.selection,value:function(e){return function(){return e.entity.getAttrs("tags")
}}(this)},this.subview("widget",new Views.Tags.Widget({model:t,readonly:this.readonly}))},n.prototype.render=function(){return this.$el.html(this.widget.render().el),this},n}(Backbone.View),namespace("Views.Tags",function(t){return t.Editor=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="tags-widget tags",n.prototype.events={"click .tag":"onTagClicked"},n.prototype.initialize=function(){var e;return this.selection=this.model,this.values=this.getSharedTags(),e={selection:this.selection,value:function(e){return function(){return e.values}}(this)},this.subview("widget",new Views.Tags.Widget({model:e})),this.listenTo(this.widget,"select",this.onSelect),this.listenTo(this.widget,"deselect",this.onDeselect)},n.prototype.render=function(){return this.$el.html(this.widget.render().el),this},n.prototype.getSharedTags=function(){var e;return e=this.selection.map(function(e){return e.getAttrs("tags")}),_.intersection.apply(_,e)},n.prototype.onSelect=function(e){return this.values.push(e)},n.prototype.onDeselect=function(e){return this.values=_.without(this.values,e)},n}(Backbone.View),namespace("Views.Tags",function(t){return t.GroupEditor=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="tags-widget tags",n.prototype.initialize=function(e){var t;return t=this.model,this.selection=t.selection,this.value=t.value,this.readonly=e.readonly},n.prototype.render=function(){return this.$el.html(this.editor()),this},n.prototype.editor=function(){var e,t;return t=Attributes.findByName("tags"),e={editor:"tag",choices:function(){return t.choices()},value:this.model.value,format:function(e){return AttributesHelper.tag(e)},escaped:!0,placeholder:"<span class='placeholder tag'>Add Tag</span>",separator:""},(this.readonly||this.selection.isVirtual()||!able.to("manage","entities"))&&(e.readonly=!0,e.placeholder=""),this.$values=$('<div class="tags" />'),this.$values.editable(e).on("select",function(e){return function(n,r){var i;return i=new Commands.Attributes.Push(e.selection,t,r),execute(i).done(function(){return e.trigger("select",r)}).fail(function(){return alert("Unable to add tag **"+r+"**")})}}(this)).on("deselect",function(e){return function(n,r){var i;return i=new Commands.Attributes.Pop(e.selection,t,r),execute(i).done(function(){return e.trigger("deselect",r)}).fail(function(){return alert("Unable to remove tag **"+r+"**")})}}(this))},n.prototype.remove=function(){return this.$values.editable("destroy"),n.__super__.remove.apply(this,arguments)},n}(Backbone.View),namespace("Views.Tags",function(t){return t.Widget=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="form",n.prototype.template=template("main::trash/form"),n.prototype.events={"change select":"onSelect","click .restore":"restore","click .delete-btn":"onDelete",submit:!1},n.prototype.initialize=function(){return this.contents=this.model.contents,this.listenTo(this.model,"change:entity",this.onChangeEntity),this.listenTo(this.model,"change:contents",this.refresh)},n.prototype.render=function(){return this.$el.html(this.template()),this.$select=this.$el.find("select"),this},n.prototype.refresh=function(){return this.$select[0].innerHTML=this.getSelectOptions(),this.refreshButtons()},n.prototype.getSelectOptions=function(){var e;return e="<option value=''>Review deleted items...</option>",this.contents.forEach(function(t){return e+='<option value="'+t.cid+'">'+t.getAttr("label")+"</option>"}),"<optgroup>"+e+"</optgroup>"},n.prototype.refreshButtons=function(){var e;return e=this.$el.find(".btn"),e.toggleClass("disabled",!this.model.has("entity"))},n.prototype.onSelect=function(){var e,t;return t=this.$select.val(),e=this.contents.get(t),this.model.set("entity",e)},n.prototype.onChangeEntity=function(){var e;return this.$select.val((null!=(e=this.model.get("entity"))?e.cid:void 0)||""),this.refreshButtons()},n.prototype.onDelete=function(){var e,t;return e=this.model.get("entity"),t=this.contents.indexOf(e),this.deleteEntity(e).then(function(e){return function(){var n;return e.model.set("entity",null!=(n=e.contents.at(t+1))?n:e.contents.first())}}(this))},n.prototype.deleteEntity=function(e){var t,n,r;return n=function(t){return function(){return t.$el.trigger("notice","Successfully deleted "+e)}}(this),r=function(t){return function(){return t.$el.trigger("alert","Unable to delete "+e)}}(this),t=new Commands.Models.Destroy(e),execute(t).then(n,r)},n}(Backbone.View),namespace("Views.Trash",function(t){return t.FormView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="trash-index",n.prototype.template=template("main::trash/index"),n.prototype.events={"click .delete-all":"empty"},n.prototype.initialize=function(){return this.trash=new TrashModel,this.contents=this.trash.contents,this.subview("status",new Views.Trash.StatusView({model:this.trash})),this.subview("form",new Views.Trash.FormView({model:this.trash})),this.subview("preview",new Views.Trash.Preview({model:this.trash})),this.listenTo(this.trash,"change:contents",this.onUpdate)},n.prototype.render=function(){return this.$el.html(this.template()),this.$el.replace("status",this.status),this.$el.replace("form",this.form),this.$el.replace("preview",this.preview),this},n.prototype.refresh=function(){var e;return e=this,e.pending(),Workflows.preloadMaps().then(function(){return e.trash.refresh()}).ensure(function(){return e.pending(!1)})},n.prototype.pending=function(e){return null==e&&(e=!0),this.$el.toggleClass("loading",e)},n.prototype.onUpdate=function(){var e;return e=this.$el.find(".hidden-empty"),0===this.contents.length?e.fadeOut():e.fadeIn()},n.prototype.empty=function(){var e,t,n;return this.trash.unset("entity"),t=function(e){return function(){return e.$el.trigger("notice","Trash has been emptied")}}(this),n=function(e){return function(){return e.$el.trigger("alert","Unable to empty trash")}}(this),e=new Commands.Trash.Empty(currentProject),execute(e).then(t,n)},n}(Backbone.View),namespace("Views.Trash",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="trash-preview well",n.prototype.template=template("main::trash/preview"),n.prototype.events={"click a":"squash","click button":"squash"},n.prototype.initialize=function(){return this.listenTo(this.model,"change:entity",this.refresh)},n.prototype.render=function(){var e;return this.entity?(e=this.profile.render().$el,e.find(".back-btn, .permalinks").remove(),e.find(".sidebar-content").removeClass("sidebar-content container"),this.$el.html(e)):this.$el.html(this.template()),this},n.prototype.refresh=function(){var e;return this.entity=this.model.get("entity"),this.entity?(e=Views.Profiles[this.entity.className],this.subview("profile",new e({model:this.entity,readonly:!0}))):this.removeSubview("profile"),this.render()},n.prototype.squash=function(e){return e.preventDefault(),e.stopPropagation()},n}(Backbone.View),namespace("Views.Trash",function(t){return t.Preview=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="trash-status",n.prototype.template=template("main::trash/status"),n.prototype.initialize=function(){return this.listenTo(this.model,"change:totals",this.render)},n.prototype.render=function(){var e;return e={total:this.model.contents.length,totals:this.model.get("totals")},this.$el.html(this.template(e)),this},n}(Backbone.View),namespace("Views.Trash",function(t){return t.StatusView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="welcome-embedded-overview context",n.prototype.template=template("main::welcome/embedded_overview"),n.prototype.initialize=function(){return this.subview("disqusView",new Views.Disqus.DisqusView),this.listenTo(Dispatch,"scene.rebuild scene.redecorate",this.render),this.listenTo(Session,"change:map",this.render)},n.prototype.render=function(){var e;return"undefined"!=typeof currentMap&&null!==currentMap?(e={description:currentMap.get("description")},currentMap.shouldUseNameAsTitle()&&(e.title=currentMap.get("name")),this.$el.html(this.template(e)),this.$el.find(".map-name").css({display:"block","text-align":"center"}),Settings.isInstalled("disqus")&&this.renderDisqus()):this.$el.empty(),this},n.prototype.renderDisqus=function(){return this.$el.find(".map-description").after(this.disqusView.render(currentMap).el)},n}(Backbone.View),namespace("Views.Welcome",function(t){return t.EmbeddedOverview=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="welcome-index context",n.prototype.template=template("main::welcome/index"),n.prototype.initialize=function(e){return this.options=_.defaults({},e,{maps:!0}),this.subview("mapOverview",new Views.Welcome.MapOverview)},n.prototype.onShow=function(){var e;return Settings.isInstalled("disqus")&&null!=(e=this.mapOverview.mapView)?e.renderDisqus():void 0},n.prototype.addListeners=function(){return this.listenTo(Session,"change:map",this.resetScrollTop),this.listenTo(map,"change:mode",this.render),this.listening=!0},n.prototype.render=function(){return this.listening||this.addListeners(),this.$el.html(this.template()),this.$el.find("#mapOverview").html(this.mapOverview.render().el),this},n.prototype.resetScrollTop=function(){return this.$el.find(".welcome-content").scrollTop(0)},n}(Backbone.View),namespace("Views.Welcome",function(t){return t.Index=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="sidebar-view loading-view",n.prototype.render=function(){return this.$el.html('<i class="icon-spinner icon-2x icon-spin"></i>').css({"text-align":"center","padding-top":"36px"}),this},n}(Backbone.View),namespace("Views.Welcome",function(t){return t.LoadingView=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="map-overview",n.prototype.initialize=function(){return this.listenTo(Session,"change:map",this.onMapChange),this.listenTo(Dispatch,"scene.rebuild scene.redecorate",this.render)},n.prototype.render=function(){return currentMap?(this.subview("mapView",new Views.Maps.Show({model:currentMap})),this.$el.html(this.mapView.render().el)):this.$el.empty(),this},n.prototype.onMapChange=function(){return this.render(),$(".sidebar-content").scrollTop(0)},n}(Backbone.View),namespace("Views.Welcome",function(t){return t.MapOverview=e})}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.className="welcome-overview",n.prototype.initialize=function(){return this.mapOverview=new Views.Welcome.MapOverview},n.prototype.render=function(){return this.$el.append(this.mapOverview.render().el),this},n}(Backbone.View),namespace("Views.Welcome",function(t){return t.Overview=e})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;e=function(e){function r(){return this.migrate=t(this.migrate,this),this.fetch=t(this.fetch,this),r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.defaults=function(){return{project:void 0,strategy:"remote"}},r.prototype.initialize=function(){return this.initialized=!1,this.repairAttempts=0},r.prototype.load=function(){return When.promise(function(e){return function(t,n){var r,i,o;return r=e,Dispatch.provision=function(){return r.provision()},Dispatch.migrate=function(){return r.migrate()},e.initialized||e.init(),i=function(){return Dispatch.trigger("status",""),Dispatch.trigger("load"),t()},o=function(){return Dispatch.trigger("status","Sorry, map cannot be loaded"),Dispatch.trigger("fail"),n()},e.prepareFetchMigrate().then(i,o)}}(this))},r.prototype.init=function(){var e;return e=this.attributes,this.project=e.project,this.strategy=e.strategy,this.readonly=e.readonly,this.root=this.getCouchRoot(),this.rootdb=this.connect(this.root,{skipSetup:!0}),this.origin=this.getProjectOrigin(),this.origindb=this.connect(this.origin,{skipSetup:!0}),this.db=function(){switch(this.strategy){case"remote":return this.origindb;case"local":return this.initializeLocalDB()}}.call(this),Transaction.pouch=BackbonePouchDB.pouch=this.db,Dispatch.db=this.db,this.initialized=!0,Dispatch.trigger("ready")},r.prototype.getCouchRoot=function(){return location.protocol+"//"+location.host+"/couch"},r.prototype.getProjectOrigin=function(){var e,t;return this.project.isEmbed()?(e=this.project.get("token"),t=Kumu.config.getEmbedUrl(e),t+"/couch"):this.project.origin()},r.prototype.initializeLocalDB=function(){return this.local="a"+this.project.id+"_master",this.localdb=this.connect(this.local)},r.prototype.prepareFetchMigrate=function(){return this.prepare().then(this.fetch).then(this.migrate)},r.prototype.prepare=function(){var e,t;return log.info("Inspecting "+this.origin),e=function(e){return function(t){return log.debug(t+" docs found"),e.readonly?$.when(!0):(0===t&&Dispatch.trigger("status","Initializing project..."),e.provision())}}(this),t=function(e){return function(t){return log.error("Unable to access "+e.origin+": "+t),0===e.repairAttempts?e.repair().then(function(){return e.prepareFetchMigrate()}):log.error("Unable to repair "+e.origin)}}(this),this.getDocCount().then(e,t)},r.prototype.getDocCount=function(){return this.origindb.info().then(function(e){return e.doc_count})},r.prototype.repair=function(){return log.info("Reparing "+this.origin+"..."),this.repairAttempts+=1,this.project.repair().then(function(e){return function(){return log.info("Successfully repaired "+e.origin)}}(this)).fail(function(e){return function(){return log.error("Unable to repair "+e.origin)}}(this))},r.prototype.provision=function(){return this.origindb.replicate.from(this.rootdb,{live:!1})},r.prototype.fetch=function(){var e,t;return ApplicationLoader.update("Downloading map..."),t=function(){return Settings.fetch(),Drive.fetch(),$.when(Attributes.fetch({reset:!0}),Maps.fetch({reset:!0}),Perspectives.fetch({reset:!0}),Elements.fetch({reset:!0}),Connections.fetch({reset:!0}),Loops.fetch({reset:!0}))},e=function(){return Elements.invoke("associate"),Connections.invoke("associate"),Loops.invoke("associate")},t().then(e)},r.prototype.migrate=function(){return Bootstrap.foundation().then(function(){return Workflows.mergeDuplicateCoreAttributes()})},r.prototype.connect=function(e,t){var n,r,i,o,a;return null==t&&(t={}),n=$("meta[name=csrf-token]").attr("content"),a=$("meta[name=access-token]").attr("content"),i={reduce:!1,include_docs:!0,conflicts:!0,auth:a?{username:a,password:""}:null,headers:{"X-CSRF-Token":n},ajax:{cache:this.project.isEmbed(),timeout:6e4}},r=_.extend({},t,i),o=new PouchDB(e,r),/^https?$/.test(o.adapter)&&(o.id=PouchDB.utils.adapterFun("id",function(t){return t(null,e)})),o},r.prototype.reset=function(e){var t;return"local"!==this.strategy?$.when(!0):(t=new $.Deferred,PouchDB.destroy(this.local,function(n,r){return n?(t.reject(n),raise("Unable to destroy pouchdb "+this.local)):(t.resolve(r),"function"==typeof e?e(r):void 0)}),t.promise())},r.prototype.pull=function(e){var t;return null==e&&(e={}),"local"!==this.strategy?$.when(!0):(_.defaults(e,{target:this.origindb}),log.info("Pulling "+e.target),t=new $.Deferred,this.db.replicate.from(e.target,{live:!1},function(e){return function(n,r){return Dispatch.trigger("pull"),n?(log.info("Pull failed.",n),t.reject(n)):(log.info("Pull complete. ("+e.changesSummary(r)+")"),t.resolve(r))}}(this)),t.promise())},r.prototype.push=function(e){var t;return null==e&&(e={}),"local"!==this.strategy?$.when(!0):(_.defaults(e,{target:this.origindb}),log.info("Pushing "+e.target),t=new $.Deferred,this.db.replicate.to(e.target,{live:!1},function(e){return function(n,r){return Dispatch.trigger("push"),n?(log.info("Push failed.",n),t.reject(n)):(log.info("Push complete. ("+e.changesSummary(r)+")"),t.resolve(r))}}(this)),t.promise())},r.prototype.sync=function(){return this.pull(),this.push()},r.prototype.changesSummary=function(e){return e.docs_read+"/"+e.docs_written},r}(Backbone.Model),namespace("Adapters",function(t){return t.PouchAdapter=e})}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t=function(e){return When($.getJSON(e))},e=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.defaults=function(){return{src:null}},r.prototype.load=function(){var e,n,r;return r=this.get("root"),e=function(){return Dispatch.trigger("load")},n=function(){return Dispatch.trigger("fail")},t(r+"/manifest.json").then(function(e){var n;return PresentationHelper.rewriteAssetPaths(e,r),log.debug("Manifest is",e),n=window.presentation=e,t(e.blueprint).then(function(e){var t;return log.debug("Blueprint is",e),t=new Import(e),t.process()})}).then(e,n)},r}(Backbone.Model),namespace("Adapters",function(t){return t.PresentationAdapter=e})}.call(this),function(){var e,t,n=[].slice,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t=function(){var e,t,r,i,o;if(!Env.isProduction())return i=function(e,t,r){return log.error.apply(log,["mock save"].concat(n.call(arguments))),r.success({})},e=new Element,e.sync=i,r={attributes:{description:"One"}},t={attributes:{description:"One. Two."}},o={attributes:{description:"One. Two. Three."}},Conflicts.process(e,{mine:t,theirs:o,old:r})},e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Conflict,t.prototype.collections=["elements","connections","loops","maps","perspectives"],t.prototype.initialize=function(){return this.current=null,this.edits=0,this.listenTo(this,"all",this.onEvent)},t.prototype.guidance=function(){return 0===this.edits},t.prototype.comparator=function(e,t){var n,r,i;return i=function(e,t){return e===t?0:t>e?-1:1},n=_.indexOf(Conflicts.collections,e.collection()),r=_.indexOf(Conflicts.collections,t.collection()),i(n,r)||i(e.label(),t.label())},t.prototype.process=function(e,t){var n,r;return e instanceof Conflict?n=e:(r=e,n=Conflict.build(r,t)),n.prepare().then(function(){return n.automerge()}).then(null,function(){return Conflicts.add(n)})},t.prototype.onEvent=function(){var e,t;switch(t=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],t){case"add":return this.onAdd.apply(this,e);case"remove":return this.onRemove.apply(this,e);case"edit":return this.onEdit.apply(this,e);case"resolve":return this.onResolve.apply(this,e)}},t.prototype.onAdd=function(){return this.show(),this.current||0===this.edits?void 0:this.next()},t.prototype.onRemove=function(e){return e===this.current?(this.current=null,this.next()):void 0},t.prototype.onEdit=function(e){return this.edits+=1,this.current=e},t.prototype.onResolve=function(e){return this.remove(e)},t.prototype.next=function(){var e;return e=Conflicts.first(),e?this.edit(e):void 0},t.prototype.peek=function(){var e;if(this.current){if(1===this.length)return;e=this.indexOf(this.current)+1,e>=this.length&&(e=0)}else e=0;return Conflicts.at(e)},t.prototype.edit=function(e){return this.current=Conflicts.get(e),this.current?this.trigger("edit",this.current):void 0},t.prototype.show=function(){var e,t;return null!=(e=$.magnificPopup)&&null!=(t=e.instance)&&t.close(),null==this.view&&(this.view=this.initializeView()),this.view.show()},t.prototype.hide=function(){return this.view.hide()},t.prototype.initializeView=function(){var e;return e=new Views.Conflicts.Modal,e.render()},t}(Backbone.Collection),this.Conflicts=new e}.call(this),function(){var e,t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty,r=[].slice;e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.load=function(e){return this.adapter=e,this.listenTo(Settings,"all",this.onSettingsEvent),this.listenTo(Session,"all",this.onSessionEvent),this.listenTo(Maps,"all",this.onMapEvent),this.listenTo(map.getSelection(),"all",this.onSelectionEvent),this.adapter.load()},n.prototype.onSettingsEvent=function(){var e,t;switch(t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],t){case"change:default_map_id":return this.trigger("change:defaultmap")}},n.prototype.onSessionEvent=function(){var e,t;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],/change:/.test(t)?this.trigger.apply(this,[t].concat(r.call(e))):void 0},n.prototype.onMapEvent=function(e,t){if(t===currentMap)switch(e){case"change:default_perspective_id":return this.trigger("change:defaultperspective")}},n.prototype.onSelectionEvent=function(e){switch(e){case"add":case"remove":case"reset":return this.trigger("selectionchange")}},n}(Backbone.Model),namespace("window",function(t){return t.DispatchController=e})}.call(this),function(){var e;e=/^(jeff|rymohr|islandr|dan|watsonwilliamb)$/i,this.able=new Able,this.unable={to:function(){return!able.to.apply(able,arguments)}},able.actor=function(){return currentUser},able.roles={"default":function(e){return!e||iframed()?"guest":e.getRole()}},able.resources=["project","settings","members","maps","perspectives","exports","embeds","presentations","attributes","entities"],able.abilities={owner:{inherit:["manager","contributor","observer","guest"]},manager:{inherit:["contributor","observer","guest"],manage:{project:!0,members:!0}},contributor:{inherit:["observer","guest"],manage:{exports:!0,settings:!0,theme:!0,maps:!0,perspectives:!0,attributes:!0,entities:!0,presentations:!0,embeds:!0,map:!0,entity:!0},update:{project:!0}},observer:{inherit:["guest"]},guest:{},specific:{}}}.call(this),function(){var e,t;e=/^(rymohr|jeff|stw)$/,t=function(){var t,n,r;if(currentUser&&e.test(currentUser.get("username"))&&localStorage&&(Env.request.param("aprilfools")&&localStorage.setItem("aprilfools","2015"),"2015"!==localStorage.getItem("aprilfools")))return r=new Date,n=r.getMonth()+1,t=r.getDate(),4===n&&1===t?$("body").addClass("april-fools"):void 0},$(function(){return setTimeout(t,100)})}.call(this),function(){var e,t,n;t=/[&?]offline=1/.test(document.location.href),Backbone.qs=qs.parse,Backbone.silent={silent:!0},e=Backbone.sync,Backbone.sync=function(t,n,r){var i;return i=r.error,r.error=function(e){return i(e),Workflows.onErrorResponse(e)},e(t,n,r)},"development"===("undefined"!=typeof Rails&&null!==Rails?Rails.env:void 0)&&t&&(n=Backbone.CouchModel.prototype.sync,Backbone.CouchModel.prototype.sync=function(e,t,r){var i;return"read"===e?n(e,t,r):("function"==typeof r.error&&r.error({}),i=new $.Deferred,i.reject(t,{},r),i.promise())},BackbonePouchDB.Batch.prototype.send=function(){return this.sent=!0,this.error=!0,this.response={},this.deferred.reject(this.error),this.promise})}.call(this),function(){var e,t,n,r;Benchmarks.enabled=Env.request.search.benchmark||Env.request.hash.benchmark,e=new Benchmarks("Data"),r=new Benchmarks("Display").alias({update:"render:update",cull:"render:update:cull",adjust:"render:update:adjust",style:"render:update:style",dress:"render:update:dress",filter:"render:update:filter",animate:"render:update:animate",draw:"render:draw",pick:"render:pick"}),n=new Benchmarks("Layout").alias({simulation:"layout:simulation",initialization:"layout:simulation:initialization",relaxation:"layout:simulation:relaxation",behaviors:"layout:simulation:behaviors",integration:"layout:simulation:integration",post:"layout:post",assignment:"layout:post:assignment"}),t=new Benchmarks("Interaction").alias({picking:"interaction:picking"}),namespace("window",function(i){return i.DataBenchmarks=e,i.RenderBenchmarks=r,i.LayoutBenchmarks=n,i.InteractionBenchmarks=t})}.call(this),function(){Cast.alias("text","markdown")}.call(this),function(){var e;Kumu.config=e={getEmbedUrl:function(t){var n,r;return n=e.getHostname(),r=n,r?location.protocol+"//embed."+n+"/"+t:location.protocol+"//"+location.host+"/embed/"+t},getCrossSiteStorageUrl:function(){var t,n;return t=e.getHostname(),n="/settings/data",t?"//"+t+n:n},getHostname:function(){return Rails.hostname}}}.call(this),function(){var e,t,n,r,i,o,a,s,u;n=null,i=0,a={},r=null,u="*",t=function(e){return null!=n?n:n=new Promise(function(t,n){var i;return a.connect={resolve:t,reject:n},window.addEventListener("message",o,!1),i=$('<iframe width="0" height="0" seamless="seamless" scrolling="no" frameBorder="0"></iframe>').attr("src",e).appendTo("body"),r=i.get(0).contentWindow})},s=function(e){return new Promise(function(t,n){var o;return o={id:++i,data:e},a[o.id]={resolve:t,reject:n},r.postMessage(JSON.stringify(o),u)})},o=function(t){var n,i,o;if(t.source===r)return o=JSON.parse(t.data),n=a[o.id],a[o.id]=null,"connect"===o.id?(i=new e(crossSiteStorage,o.data),n.resolve(i)):n.resolve(o.data)},e=function(){function e(e,t){this.service=e,this.data=t}return e.prototype.set=function(e,t){return null==t&&(t=!0),this.data[e]=t=this.prepareValue(t),this.service.set(e,t)},e.prototype.get=function(e,t){var n;return n=this.data[e],this.isMetaValue(n)&&(n=n.value),null==n&&(n=t),n},e.prototype.isMetaValue=function(e){return null!=e&&"object"==typeof e&&null!=e.timestamp},e.prototype.meta=function(e){return this.data[e]},e.prototype.has=function(e,t){var n;return n=this.get(e),1===arguments.length?null!=n:n===t},e.prototype.hasSince=function(e,t){var n;return n=this.meta(e),n&&n.timestamp>=moment(t).unix()},e.prototype.clear=function(e){return null!=e?delete this.data[e]:this.data={}},e.prototype.prepareValue=function(e){return{value:e,timestamp:moment().unix()}},e}(),this.crossSiteStorage={connect:t,set:function(e,t){return s({action:"SET",key:e,value:t})}}}.call(this),function(){$(document).on("submit","form",function(e){var t;return t=$(this).attr("action"),null!=t?!0:e.preventDefault()})}.call(this),function(){this.Maps=new MapCollection,this.Perspectives=new PerspectiveCollection,this.Settings=new SettingsModel,this.Attributes=new AttributeCollection,this.Attributes.comparator=function(e){return e.label()},this.Elements=new ElementCollection,this.Connections=new ConnectionCollection,this.Loops=new LoopCollection,this.Presentations=new PresentationCollection,this.Publications=new PublicationCollection,this.Docs=new DocCollection,this.Session=new SessionController,this.Dispatch=new DispatchController,this.Publications=new PublicationCollection}.call(this),Gravatar.defaults={secure:!0,placeholder:"identicon",size:80},function(){$(document).on("click","a",function(e){var t;return t=$(this).attr("href"),t&&"#"!==t?void 0:e.preventDefault()})}.call(this),function(){var e,t;t=function(e){var t,n,r,i;return t=token.map(),n=token.perspective(),r=token.selection(),_.isEmpty(e.transform)||(t.zoomFitOnLoad=!1,t.transform(e.transform,{animate:!1})),i=_.extend({selection:r},Env.request.hash,{map:t,perspective:n}),window.location.hash=urlFor(i)},e=function(){return ApplicationLoader.dismiss()},this.initializeEmbeddedMap=function(n){return Settings.init().then(function(){var r,i,o,a;return window.token=a=new Token(n.token),i={},a.includeOverview()&&(i.defaultSidebarView=new Views.Welcome.EmbeddedOverview),MapView.build(i),map.$el.addClass("embedded"),map.on("preload",function(){return t(n)}),map.on("ready",e),map.init(n),r="1"===Env.request.param("bare"),o="1"===Env.request.param("simple"),map.$el.toggleClass("hide-search",r||o||"0"===Env.request.param("search")||"0"===Env.request.param("finder")),map.$el.toggleClass("hide-settings",r||o||"0"===Env.request.param("settings")),map.$el.toggleClass("hide-zoom",r||"0"===Env.request.param("zoom")),Dispatch.on("status",function(e){return ApplicationLoader.update(e)}).load(new Adapters.PouchAdapter({project:currentProject,readonly:!0})).done(function(){})})}}.call(this),function(){this.initializePresentation=function(e){return Settings.init().then(function(){var t,n;return able.actor=new User,able.roles["default"]=function(){return"observer"},n=function(){return _.extend(presentation,e),map.setMode(PresentationViewerMode(presentation)),"undefined"!=typeof parent&&null!==parent&&"function"==typeof parent.onPresentationReady?parent.onPresentationReady(presentation):void 0},MapView.build({mode:LoadingMode}),map.__presentation=!0,map.$el.toggleClass("embedded",iframed()),map.on("ready",n),map.init({project:{name:"Presentation"},owner:{username:"Presentation"},addons:e.addons,authorizations:e.authorizations}),t=new Adapters.PresentationAdapter(e),Dispatch.load(t)})}}.call(this),function(){var e,t,n;t=function(){return ApplicationLoader.dismiss(),currentProject.isFresh()?Workflows.createMap().then(e):e()},e=function(){return Workflows.tour()},n=function(){var e,n,r,i,o;return r=BackboneReactView.build(ExplorerHeader),n=BackboneReactView.build(ExplorerFooter),e=$("<div>").addClass("explorer").append(r.render().$el,map.$el,n.render().$el).appendTo("body"),map.resize(),t(),"production"!==Rails.env?(o=i=null,When().delay(1e3).then(function(){return o&&sidebar.push(o),i?i.show():void 0})):void 0},this.initializeProjectMap=function(e){return Settings.init().then(function(){var t;return MapView.build({defaultSidebarView:new Views.Welcome.Index}),map.$el.toggleClass("embedded",iframed()),map.on("ready",n),map.init(e),t={project:currentProject,readonly:!able.to("update","project")},Dispatch.on("status",function(e){return ApplicationLoader.update(e)}).load(new Adapters.PouchAdapter(t)).done(function(){}),Channels.enabled()?Channels.init():void 0})}}.call(this),Op.src=assetUrl("worker/index.js"),Op.base=assetUrl("vendor/operative.js"),function(){this.prompt=function(e,t,n){var r,i;return _.isObject(e)?i=e:(_.isFunction(t)&&(n=t,t=void 0),i={placeholder:e,value:t,callback:n}),r=new Views.Modals.Prompt({model:i}),r.show(),r.promise},this.promptForElement=function(){var e,t,n;
return n=null!=(t=Settings.getDefaultElementType())?t:"Element",e={placeholder:"Element label",submitText:"Add "+n},prompt(e)}}.call(this),function(){this.raise=function(e,t){var n,r;throw e instanceof Error?n=e:(r=e,t&&(r+=": "+t),n=new Error(r)),log.error(n),n}}.call(this),function(){this.TimeAgo={update:function(){return $("time.ago").timeago()}},$(function(){return TimeAgo.update()})}.call(this),When.Promise.onPotentiallyUnhandledRejection=function(e){Bugsnag.notifyException(e.value)},function(){zip.useWebWorkers=!1}.call(this);